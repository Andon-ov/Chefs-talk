<div class="recipe-container">
  <h1 class="recipe-title">{{ recipe?.title }}</h1>
  <div class="recipe-summary">{{ recipe?.summary }}</div>

  <div class="recipe-category">
    <a [routerLink]="['/category', recipe?.category]">
      {{ category?.name }} - {{ category?.menu }}
    </a>
  </div>

  <div class="recipe-details">
    <ul class="recipe-image">
      <li *ngFor="let img of recipe?.image_recipe">
        <img [src]="img.image_recipe" alt="Изображение на рецепта" />
      </li>
    </ul>
    <div class="recipe-description">
      <h2>Описание</h2>
      <p class="recipe-description-text">{{ recipe?.description }}</p>
    </div>
  </div>

  <h2>Съставки</h2>

  <ul class="recipe-ingredients" *ngFor="let ingredient of recipe?.ingredients">
    <li>
      {{ ingredient.name }} - {{ ingredient.amount }} {{ ingredient.unit }}
      <span *ngIf="ingredient.quantity">{{ ingredient.quantity }}</span>
    </li>
    <li *ngIf="ingredient.base">
      <a [routerLink]="['/base', ingredient.base]">Base Link</a>
    </li>
    <li *ngIf="ingredient.preparation_method">
      Обработка: {{ ingredient.preparation_method }}
    </li>
    <hr
      *ngIf="
        ingredient.name  || ingredient.preparation_method
      "
    />
    <hr />
  </ul>
  <!-- <li>Order Index: {{ ingredient.order_index }}</li> -->

  <h2>Приготовление</h2>
  <ul
    class="recipe-preparation-method"
    *ngFor="let method of recipe?.preparation_method"
  >
    <li>{{ method.preparation_method }}</li>
  </ul>

  <div class="recipe-other-details">
    <!-- <p>Order Index: {{ recipe?.order_index }}</p> -->
    <p>Време за изаване: {{ recipe?.release_time }} минути</p>
    <p>Сезон: {{ recipe?.season }}</p>
    <p>Алергени: {{ recipe?.selectedAllergenNames }}</p>
    <p>Готово Количество: {{ recipe?.serving_value }} грама</p>
    <p>Чиния: {{ plate?.name }}</p>
  </div>

  <div class="recipe-videos" *ngIf="recipe">
    <h2>Видео рецепта</h2>
    <ul>
      <li *ngFor="let video of recipe?.video_recipe">
        <iframe
          width="560"
          height="315"
          [src]="video.video_recipe | safeUrl"
          frameborder="0"
          allowfullscreen
        ></iframe>
      </li>
    </ul>
  </div>
  <app-comment-form  [recipeId]="recipeId"/>
  <section class="comments" *ngIf="comments">
    <ul  *ngFor="let comment of comments">
      <li>{{comment.name}}</li>
      <li>{{comment.text}}</li>
     <p>{{ comment.create_time.toDate() | date: 'dd/MM/yyyy HH:mm:ss' }}</p>



    </ul>
  </section>

</div>
