"use strict";(self.webpackChunkchefs_talks=self.webpackChunkchefs_talks||[]).push([[179],{6304:(it,Ee,P)=>{P.d(Ee,{Dh:()=>Re,GT:()=>he,cc:()=>Oe,on:()=>Se,pX:()=>se,xv:()=>Ue});var o=P(8926),L=P(120);it=P.hmd(it);const ie=["ngOnDestroy"],se=(xe,Ae,Qe,we={})=>new Proxy(xe,{get:(Te,ce)=>Qe.runOutsideAngular(()=>{var ve;if(xe[ce])return!(null===(ve=we?.spy)||void 0===ve)&&ve.get&&we.spy.get(ce,xe[ce]),xe[ce];if(ie.indexOf(ce)>-1)return()=>{};const Me=Ae.toPromise().then(K=>{const k=K&&K[ce];return"function"==typeof k?k.bind(K):k&&k.then?k.then(W=>Qe.run(()=>W)):Qe.run(()=>k)});return new Proxy(()=>{},{get:(K,k)=>Me[k],apply:(K,k,W)=>Me.then(pe=>{var Mt;const cn=pe&&pe(...W);return!(null===(Mt=we?.spy)||void 0===Mt)&&Mt.apply&&we.spy.apply(ce,W,cn),cn})})})}),he=(xe,Ae)=>{Ae.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(we=>{Object.defineProperty(xe.prototype,we,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,we))})})};class ye{constructor(Ae){return Ae}}const Re=new o.OlP("angularfire2.app.options"),Ue=new o.OlP("angularfire2.app.name");function Se(xe,Ae,Qe){const Te="object"==typeof Qe&&Qe||{};Te.name=Te.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const ve=L.Z.apps.filter(Me=>Me&&Me.name===Te.name)[0]||Ae.runOutsideAngular(()=>L.Z.initializeApp(xe,Te));try{JSON.stringify(xe)!==JSON.stringify(ve.options)&&V("error",`${ve.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(ve)}const V=(xe,...Ae)=>{(0,o.X6Q)()&&typeof console<"u"&&console[xe](...Ae)};function Oe(xe,Ae,Qe,we,Te){const[,ce,ve]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===xe)||[];if(ce)return function ue(xe,Ae){try{return xe.toString()===Ae.toString()}catch{return xe===Ae}}(Te,ve)||(Ve("error",`${Ae} was already initialized on the ${Qe} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:Te,was:ve})),ce;{const Me=we();return globalThis.\u0275AngularfireInstanceCache.push([xe,Me,Te]),Me}}const Ye=!!it.hot,Ve=(xe,...Ae)=>{(0,o.X6Q)()&&typeof console<"u"&&console[xe](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6710:(it,Ee,P)=>{P.d(Ee,{$:()=>ol,A:()=>Z,D:()=>ue,I:()=>Wc,J:()=>Iu,L:()=>ji,N:()=>Qt,P:()=>Dl,Q:()=>mt,R:()=>OI,U:()=>wn,V:()=>rl,W:()=>Io,X:()=>ss,Y:()=>qi,Z:()=>ws,_:()=>mh,a:()=>Nu,a0:()=>TI,a1:()=>yn,a2:()=>s1,a3:()=>o1,a4:()=>S_,a5:()=>kp,a6:()=>Du,a7:()=>ha,a8:()=>M_,a9:()=>pr,aA:()=>k,aB:()=>Rl,aC:()=>ct,aD:()=>tr,aE:()=>Do,aF:()=>Bu,aG:()=>Pi,aH:()=>_n,aL:()=>Ru,aO:()=>Mi,aa:()=>ll,ab:()=>R_,ac:()=>P_,ad:()=>k_,ae:()=>Fp,af:()=>F_,ai:()=>Su,aj:()=>a1,ak:()=>u1,an:()=>Cu,ao:()=>_l,aq:()=>El,ar:()=>Th,as:()=>pe,at:()=>Fn,au:()=>vt,av:()=>Te,aw:()=>Aa,ax:()=>qu,ay:()=>Ln,az:()=>ce,b:()=>gr,c:()=>ui,d:()=>As,e:()=>Ml,f:()=>W_,g:()=>jn,h:()=>Zu,i:()=>Yp,j:()=>kh,k:()=>fs,l:()=>Rh,m:()=>qn,p:()=>Ue,r:()=>ut,s:()=>nr,u:()=>Xp});var o=P(5861),L=P(9058),ie=P(7592),se=P(7582),he=P(7879),ye=P(4537);const Ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ue=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ye=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new he.Yd("@firebase/auth");function we(I,...m){Ae.logLevel<=he.in.ERROR&&Ae.error(`Auth (${ie.SDK_VERSION}): ${I}`,...m)}function Te(I,...m){throw K(I,...m)}function ce(I,...m){return K(I,...m)}function ve(I,m,_){const w=Object.assign(Object.assign({},Ye()),{[m]:_});return new L.LL("auth","Firebase",w).create(m,{appName:I.name})}function Me(I,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Te(I,"argument-error"),ve(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K(I,...m){if("string"!=typeof I){const _=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(_,...w)}return Ve.create(I,...m)}function k(I,m,..._){if(!I)throw K(m,..._)}function W(I){const m="INTERNAL ASSERTION FAILED: "+I;throw we(m),new Error(m)}function pe(I,m){I||W(m)}function Mt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function cn(){return"http:"===On()||"https:"===On()}function On(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class pn{constructor(m,_){this.shortDelay=m,this.longDelay=_,pe(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ri(I,m){pe(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Y{static initialize(m,_,w){this.fetchImpl=m,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oe=new pn(3e4,6e4);function J(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function de(I,m,_,w){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,o.Z)(function*(I,m,_,w,D={}){return at(I,D,(0,o.Z)(function*(){let x={},q={};w&&("GET"===m?q=w:x={body:JSON.stringify(w)});const ee=(0,L.xO)(Object.assign({key:I.config.apiKey},q)).slice(1),Pe=yield I._getAdditionalHeaders();return Pe["Content-Type"]="application/json",I.languageCode&&(Pe["X-Firebase-Locale"]=I.languageCode),Y.fetch()(At(I,I.config.apiHost,_,ee),Object.assign({method:m,headers:Pe,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function at(I,m,_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,o.Z)(function*(I,m,_){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},te),m);try{const D=new Ze(I),x=yield Promise.race([_(),D.promise]);D.clearNetworkTimeout();const q=yield x.json();if("needConfirmation"in q)throw nn(I,"account-exists-with-different-credential",q);if(x.ok&&!("errorMessage"in q))return q;{const ee=x.ok?q.errorMessage:q.error.message,[Pe,Le]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw nn(I,"credential-already-in-use",q);if("EMAIL_EXISTS"===Pe)throw nn(I,"email-already-in-use",q);if("USER_DISABLED"===Pe)throw nn(I,"user-disabled",q);const et=w[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Le)throw ve(I,et,Le);Te(I,et)}}catch(D){if(D instanceof L.ZR)throw D;Te(I,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function on(I,m,_,w){return dt.apply(this,arguments)}function dt(){return(dt=(0,o.Z)(function*(I,m,_,w,D={}){const x=yield de(I,m,_,w,D);return"mfaPendingCredential"in x&&Te(I,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function At(I,m,_,w){const D=`${m}${_}?${w}`;return I.config.emulator?ri(I.config,D):`${I.config.apiScheme}://${D}`}class Ze{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(ce(this.auth,"network-request-failed")),oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nn(I,m,_){const w={appName:I.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const D=ce(I,m,w);return D.customData._tokenResponse=_,D}function Ur(){return(Ur=(0,o.Z)(function*(I,m){return de(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Ar(){return(Ar=(0,o.Z)(function*(I,m){return de(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Zi(){return(Zi=(0,o.Z)(function*(I,m){return de(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function ii(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function es(){return(es=(0,o.Z)(function*(I,m=!1){const _=(0,L.m9)(I),w=yield _.getIdToken(m),D=Ct(w);k(D&&D.exp&&D.auth_time&&D.iat,_.auth,"internal-error");const x="object"==typeof D.firebase?D.firebase:void 0,q=x?.sign_in_provider;return{claims:D,token:w,authTime:ii(Kn(D.auth_time)),issuedAtTime:ii(Kn(D.iat)),expirationTime:ii(Kn(D.exp)),signInProvider:q||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function Kn(I){return 1e3*Number(I)}function Ct(I){const[m,_,w]=I.split(".");if(void 0===m||void 0===_||void 0===w)return we("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(_);return D?JSON.parse(D):(we("Failed to decode base64 JWT payload"),null)}catch(D){return we("Caught error parsing JWT payload as JSON",D?.toString()),null}}function Br(I,m){return yt.apply(this,arguments)}function yt(){return(yt=(0,o.Z)(function*(I,m,_=!1){if(_)return m;try{return yield m}catch(w){throw w instanceof L.ZR&&function dr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}class ts{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const D=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,o.Z)(function*(){yield _.iteration()}),w)}iteration(){var m=this;return(0,o.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class Bt{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ii(this.lastLoginAt),this.creationTime=ii(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ns(I){return rn.apply(this,arguments)}function rn(){return rn=(0,o.Z)(function*(I){var m;const _=I.auth,w=yield I.getIdToken(),D=yield Br(I,function Vr(I,m){return Zi.apply(this,arguments)}(_,{idToken:w}));k(D?.users.length,_,"internal-error");const x=D.users[0];I._notifyReloadListener(x);const q=null!==(m=x.providerUserInfo)&&void 0!==m&&m.length?function Nt(I){return I.map(m=>{var{providerId:_}=m,w=(0,se._T)(m,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(x.providerUserInfo):[],ee=function Gc(I,m){return[...I.filter(w=>!m.some(D=>D.providerId===w.providerId)),...m]}(I.providerData,q),et=!!I.isAnonymous&&!(I.email&&x.passwordHash||ee?.length),kt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ee,metadata:new Bt(x.createdAt,x.lastLoginAt),isAnonymous:et};Object.assign(I,kt)}),rn.apply(this,arguments)}function Gt(){return(Gt=(0,o.Z)(function*(I){const m=(0,L.m9)(I);yield ns(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Ti(){return(Ti=(0,o.Z)(function*(I,m){const _=yield at(I,{},(0,o.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:D,apiKey:x}=I.config,q=At(I,D,"/v1/token",`key=${x}`),ee=yield I._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",Y.fetch()(q,{method:"POST",headers:ee,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){k(m.idToken,"internal-error"),k(typeof m.idToken<"u","internal-error"),k(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Ot(I){const m=Ct(I);return k(m,"internal-error"),k(typeof m.exp<"u","internal-error"),k(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var w=this;return(0,o.Z)(function*(){return k(!w.accessToken||w.refreshToken,m,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var w=this;return(0,o.Z)(function*(){const{accessToken:D,refreshToken:x,expiresIn:q}=yield function la(I,m){return Ti.apply(this,arguments)}(m,_);w.updateTokensAndExpiration(D,x,Number(q))})()}updateTokensAndExpiration(m,_,w){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,_){const{refreshToken:w,accessToken:D,expirationTime:x}=_,q=new rs;return w&&(k("string"==typeof w,"internal-error",{appName:m}),q.refreshToken=w),D&&(k("string"==typeof D,"internal-error",{appName:m}),q.accessToken=D),x&&(k("number"==typeof x,"internal-error",{appName:m}),q.expirationTime=x),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new rs,this.toJSON())}_performRefresh(){return W("not implemented")}}function qe(I,m){k("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class fe{constructor(m){var{uid:_,auth:w,stsTokenManager:D}=m,x=(0,se._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ts(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Bt(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,o.Z)(function*(){const w=yield Br(_,_.stsTokenManager.getToken(_.auth,m));return k(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(m){return function Hs(I){return es.apply(this,arguments)}(this,m)}reload(){return function mn(I){return Gt.apply(this,arguments)}(this)}_assign(m){this!==m&&(k(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const _=new fe(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(m){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var w=this;return(0,o.Z)(function*(){let D=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),D=!0),_&&(yield ns(w)),yield w.auth._persistUserIfCurrent(w),D&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,o.Z)(function*(){const _=yield m.getIdToken();return yield Br(m,function Lr(I,m){return Ur.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var w,D,x,q,ee,Pe,Le,et;const kt=null!==(w=_.displayName)&&void 0!==w?w:void 0,ir=null!==(D=_.email)&&void 0!==D?D:void 0,Rs=null!==(x=_.phoneNumber)&&void 0!==x?x:void 0,Gi=null!==(q=_.photoURL)&&void 0!==q?q:void 0,fg=null!==(ee=_.tenantId)&&void 0!==ee?ee:void 0,Da=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,Vl=null!==(Le=_.createdAt)&&void 0!==Le?Le:void 0,Sa=null!==(et=_.lastLoginAt)&&void 0!==et?et:void 0,{uid:Wu,emailVerified:xa,isAnonymous:zi,providerData:Wi,stsTokenManager:hi}=_;k(Wu&&hi,m,"internal-error");const Ku=rs.fromJSON(this.name,hi);k("string"==typeof Wu,m,"internal-error"),qe(kt,m.name),qe(ir,m.name),k("boolean"==typeof xa,m,"internal-error"),k("boolean"==typeof zi,m,"internal-error"),qe(Rs,m.name),qe(Gi,m.name),qe(fg,m.name),qe(Da,m.name),qe(Vl,m.name),qe(Sa,m.name);const Mo=new fe({uid:Wu,auth:m,email:ir,emailVerified:xa,displayName:kt,isAnonymous:zi,photoURL:Gi,phoneNumber:Rs,tenantId:fg,stsTokenManager:Ku,createdAt:Vl,lastLoginAt:Sa});return Wi&&Array.isArray(Wi)&&(Mo.providerData=Wi.map(Yu=>Object.assign({},Yu))),Da&&(Mo._redirectEventId=Da),Mo}static _fromIdTokenResponse(m,_,w=!1){return(0,o.Z)(function*(){const D=new rs;D.updateFromServerResponse(_);const x=new fe({uid:_.localId,auth:m,stsTokenManager:D,isAnonymous:w});return yield ns(x),x})()}}const We=new Map;function ct(I){pe(I instanceof Function,"Expected a class definition");let m=We.get(I);return m?(pe(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,We.set(I,m),m)}const Qt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(_,w){var D=this;return(0,o.Z)(function*(){D.storage[_]=w})()}_get(_){var w=this;return(0,o.Z)(function*(){const D=w.storage[_];return void 0===D?null:D})()}_remove(_){var w=this;return(0,o.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return I.type="NONE",I})();function tr(I,m,_){return`firebase:${I}:${m}:${_}`}class U{constructor(m,_,w){this.persistence=m,this.auth=_,this.userKey=w;const{config:D,name:x}=this.auth;this.fullUserKey=tr(this.userKey,D.apiKey,x),this.fullPersistenceKey=tr("persistence",D.apiKey,x),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?fe._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,o.Z)(function*(){if(_.persistence===m)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,w="authUser"){return(0,o.Z)(function*(){if(!_.length)return new U(ct(Qt),m,w);const D=(yield Promise.all(_.map(function(){var Le=(0,o.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return Le.apply(this,arguments)}}()))).filter(Le=>Le);let x=D[0]||ct(Qt);const q=tr(w,m.config.apiKey,m.name);let ee=null;for(const Le of _)try{const et=yield Le._get(q);if(et){const kt=fe._fromJSON(m,et);Le!==x&&(ee=kt),x=Le;break}}catch{}const Pe=D.filter(Le=>Le._shouldAllowMigration);return x._shouldAllowMigration&&Pe.length?(x=Pe[0],ee&&(yield x._set(q,ee.toJSON())),yield Promise.all(_.map(function(){var Le=(0,o.Z)(function*(et){if(et!==x)try{yield et._remove(q)}catch{}});return function(et){return Le.apply(this,arguments)}}())),new U(x,m,w)):new U(x,m,w)})()}}function F(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Xe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if($(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Jt(m))return"Blackberry";if(kn(m))return"Webos";if(le(m))return"Safari";if((m.includes("chrome/")||Q(m))&&!m.includes("edge/"))return"Chrome";if(vt(m))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function $(I=(0,L.z$)()){return/firefox\//i.test(I)}function le(I=(0,L.z$)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Q(I=(0,L.z$)()){return/crios\//i.test(I)}function Xe(I=(0,L.z$)()){return/iemobile/i.test(I)}function vt(I=(0,L.z$)()){return/android/i.test(I)}function Jt(I=(0,L.z$)()){return/blackberry/i.test(I)}function kn(I=(0,L.z$)()){return/webos/i.test(I)}function Fn(I=(0,L.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ln(I=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function is(I=(0,L.z$)()){return Fn(I)||vt(I)||kn(I)||Jt(I)||/windows phone/i.test(I)||Xe(I)}function mu(I,m=[]){let _;switch(I){case"Browser":_=F((0,L.z$)());break;case"Worker":_=`${F((0,L.z$)())}-${I}`;break;default:_=I}const w=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${ie.SDK_VERSION}/${w}`}function vs(){return(vs=(0,o.Z)(function*(I){return(yield de(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ap(I,m){return ih.apply(this,arguments)}function ih(){return(ih=(0,o.Z)(function*(I,m){return de(I,"GET","/v2/recaptchaConfig",J(I,m))})).apply(this,arguments)}function Dp(I){return void 0!==I&&void 0!==I.getResponse}function bi(I){return void 0!==I&&void 0!==I.enterprise}class yo{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Ai(I){return new Promise((m,_)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=m,w.onerror=D=>{const x=ce("internal-error");x.customData=D,_(x)},w.type="text/javascript",w.charset="UTF-8",function Es(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(w)})}function Zt(I){return`__${I}${Math.floor(1e6*Math.random())}`}class sh{constructor(m){this.type="recaptcha-enterprise",this.auth=_n(m)}verify(m="verify",_=!1){var w=this;return(0,o.Z)(function*(){function x(){return x=(0,o.Z)(function*(ee){if(!_){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Pe=(0,o.Z)(function*(Le,et){Ap(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kt=>{if(void 0!==kt.recaptchaKey){const ir=new yo(kt);return null==ee.tenantId?ee._agentRecaptchaConfig=ir:ee._tenantRecaptchaConfigs[ee.tenantId]=ir,Le(ir.siteKey)}et(new Error("recaptcha Enterprise site key undefined"))}).catch(kt=>{et(kt)})});return function(Le,et){return Pe.apply(this,arguments)}}())}),x.apply(this,arguments)}function q(ee,Pe,Le){const et=window.grecaptcha;bi(et)?et.enterprise.ready(()=>{et.enterprise.execute(ee,{action:m}).then(kt=>{Pe(kt)}).catch(()=>{Pe("NO_RECAPTCHA")})}):Le(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Pe)=>{(function D(ee){return x.apply(this,arguments)})(w.auth).then(Le=>{if(!_&&bi(window.grecaptcha))q(Le,ee,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));Ai("https://www.google.com/recaptcha/enterprise.js?render="+Le).then(()=>{q(Le,ee,Pe)}).catch(et=>{Pe(et)})}}).catch(Le=>{Pe(Le)})})})()}}function hr(I,m,_){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,o.Z)(function*(I,m,_,w=!1){const D=new sh(I);let x;try{x=yield D.verify(_)}catch{x=yield D.verify(_,!0)}const q=Object.assign({},m);return Object.assign(q,w?{captchaResp:x}:{captchaResponse:x}),Object.assign(q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),q})).apply(this,arguments)}class Sp{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const w=x=>new Promise((q,ee)=>{try{q(m(x))}catch(Pe){ee(Pe)}});w.onAbort=_,this.queue.push(w);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,o.Z)(function*(){if(_.auth.currentUser===m)return;const w=[];try{for(const D of _.queue)yield D(m),D.onAbort&&w.push(D.onAbort)}catch(D){w.reverse();for(const x of w)try{x()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class Di{constructor(m,_,w,D){this.app=m,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xp(this),this.idTokenSubscription=new xp(this),this.beforeStateQueue=new Sp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(m,_){var w=this;return _&&(this._popupRedirectResolver=ct(_)),this._initializationPromise=this.queue((0,o.Z)(function*(){var D,x;if(!w._deleted&&(w.persistenceManager=yield U.create(w,m),!w._deleted)){if(null!==(D=w._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(x=w.currentUser)||void 0===x?void 0:x.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,o.Z)(function*(){var w;const D=yield _.assertedPersistence.getCurrentUser();let x=D,q=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ee=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Pe=x?._redirectEventId,Le=yield _.tryRedirectSignIn(m);(!ee||ee===Pe)&&Le?.user&&(x=Le.user,q=!0)}if(!x)return _.directlySetCurrentUser(null);if(!x._redirectEventId){if(q)try{yield _.beforeStateQueue.runMiddleware(x)}catch(ee){x=D,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ee))}return x?_.reloadAndSetCurrentUserOrClear(x):_.directlySetCurrentUser(null)}return k(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===x._redirectEventId?_.directlySetCurrentUser(x):_.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(m){var _=this;return(0,o.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,o.Z)(function*(){try{yield ns(m)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function fn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,o.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,o.Z)(function*(){const w=m?(0,L.m9)(m):null;return w&&k(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(m,_=!1){var w=this;return(0,o.Z)(function*(){if(!w._deleted)return m&&k(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,o.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,o.Z)(function*(){yield _.assertedPersistence.setPersistence(ct(m))}))}initializeRecaptchaConfig(){var m=this;return(0,o.Z)(function*(){const _=yield Ap(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new yo(_);null==m.tenantId?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,w.emailPasswordEnabled&&new sh(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,_,w){return this.registerStateListener(this.authStateSubscription,m,_,w)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,w){return this.registerStateListener(this.idTokenSubscription,m,_,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var w=this;return(0,o.Z)(function*(){const D=yield w.getOrInitRedirectPersistenceManager(_);return null===m?D.removeCurrentUser():D.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,o.Z)(function*(){if(!_.redirectPersistenceManager){const w=m&&ct(m)||_._popupRedirectResolver;k(w,_,"argument-error"),_.redirectPersistenceManager=yield U.create(_,[ct(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,o.Z)(function*(){var w,D;return _._isInitialized&&(yield _.queue((0,o.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===m?_._currentUser:(null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,o.Z)(function*(){if(m===_.currentUser)return _.queue((0,o.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,w,D){if(this._deleted)return()=>{};const x="function"==typeof _?_:_.next.bind(_),q=this._isInitialized?Promise.resolve():this._initializationPromise;return k(q,this,"internal-error"),q.then(()=>x(this.currentUser)),"function"==typeof _?m.addObserver(_,w,D):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,o.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=mu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.Z)(function*(){var _;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const D=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();D&&(w["X-Firebase-Client"]=D);const x=yield m._getAppCheckToken();return x&&(w["X-Firebase-AppCheck"]=x),w})()}_getAppCheckToken(){var m=this;return(0,o.Z)(function*(){var _;const w=yield null===(_=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function Qe(I,...m){Ae.logLevel<=he.in.WARN&&Ae.warn(`Auth (${ie.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function _n(I){return(0,L.m9)(I)}class xp{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wc(I,m,_){const w=_n(I);k(w._canInitEmulator,w,"emulator-config-failed"),k(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const D=!!_?.disableWarnings,x=Eu(m),{host:q,port:ee}=function oh(I){const m=Eu(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(w);if(D){const x=D[1];return{host:x,port:ah(w.substr(x.length+1))}}{const[x,q]=w.split(":");return{host:x,port:ah(q)}}}(m);w.config.emulator={url:`${x}//${q}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:ee,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function y_(){function I(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Eu(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function ah(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class Iu{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return W("not implemented")}_getIdTokenResponse(m){return W("not implemented")}_linkToIdToken(m,_){return W("not implemented")}_getReauthenticationResolver(m){return W("not implemented")}}function si(I,m){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,o.Z)(function*(I,m){return de(I,"POST","/v1/accounts:resetPassword",J(I,m))})).apply(this,arguments)}function Np(I,m){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,o.Z)(function*(I,m){return de(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function oi(){return(oi=(0,o.Z)(function*(I,m){return de(I,"POST","/v1/accounts:update",J(I,m))})).apply(this,arguments)}function uh(I,m){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,o.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithPassword",J(I,m))})).apply(this,arguments)}function Yc(I,m){return ch.apply(this,arguments)}function ch(){return(ch=(0,o.Z)(function*(I,m){return de(I,"POST","/v1/accounts:sendOobCode",J(I,m))})).apply(this,arguments)}function Qc(){return(Qc=(0,o.Z)(function*(I,m){return Yc(I,m)})).apply(this,arguments)}function lh(I,m){return dh.apply(this,arguments)}function dh(){return(dh=(0,o.Z)(function*(I,m){return Yc(I,m)})).apply(this,arguments)}function hh(I,m){return wu.apply(this,arguments)}function wu(){return(wu=(0,o.Z)(function*(I,m){return Yc(I,m)})).apply(this,arguments)}function Jc(){return(Jc=(0,o.Z)(function*(I,m){return Yc(I,m)})).apply(this,arguments)}function el(){return(el=(0,o.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithEmailLink",J(I,m))})).apply(this,arguments)}function Un(){return(Un=(0,o.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithEmailLink",J(I,m))})).apply(this,arguments)}class Vn extends Iu{constructor(m,_,w,D=null){super("password",w),this._email=m,this._password=_,this._tenantId=D}static _fromEmailAndPassword(m,_){return new Vn(m,_,"password")}static _fromEmailAndCode(m,_,w=null){return new Vn(m,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,o.Z)(function*(){var w;switch(_.signInMethod){case"password":const D={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=m._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const x=yield hr(m,D,"signInWithPassword");return uh(m,x)}return uh(m,D).catch(function(){var x=(0,o.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield hr(m,D,"signInWithPassword");return uh(m,ee)}return Promise.reject(q)});return function(q){return x.apply(this,arguments)}}());case"emailLink":return function Xc(I,m){return el.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Te(m,"internal-error")}})()}_linkToIdToken(m,_){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return Np(m,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Lt(I,m){return Un.apply(this,arguments)}(m,{idToken:_,email:w._email,oobCode:w._password});default:Te(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Zr(I,m){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,o.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithIdp",J(I,m))})).apply(this,arguments)}class ji extends Iu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new ji(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Te("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:D}=_,x=(0,se._T)(_,["providerId","signInMethod"]);if(!w||!D)return null;const q=new ji(w,D);return q.idToken=x.idToken||void 0,q.accessToken=x.accessToken||void 0,q.secret=x.secret,q.nonce=x.nonce,q.pendingToken=x.pendingToken||null,q}_getIdTokenResponse(m){return Zr(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,Zr(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Zr(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,L.xO)(_)}return m}}function ph(){return(ph=(0,o.Z)(function*(I,m){return de(I,"POST","/v1/accounts:sendVerificationCode",J(I,m))})).apply(this,arguments)}function un(){return(un=(0,o.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,m))})).apply(this,arguments)}function Tt(){return(Tt=(0,o.Z)(function*(I,m){const _=yield on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,m));if(_.temporaryProof)throw nn(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const tn={USER_NOT_FOUND:"user-not-found"};function vo(){return(vo=(0,o.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),tn)})).apply(this,arguments)}class En extends Iu{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new En({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new En({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function gh(I,m){return un.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function ze(I,m){return Tt.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Si(I,m){return vo.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:w,verificationCode:D}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:w,code:D}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:x}=m;return w||_||D||x?new En({verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:x}):null}}class jr{constructor(m){var _,w,D,x,q,ee;const Pe=(0,L.zd)((0,L.pd)(m)),Le=null!==(_=Pe.apiKey)&&void 0!==_?_:null,et=null!==(w=Pe.oobCode)&&void 0!==w?w:null,kt=function da(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Pe.mode)&&void 0!==D?D:null);k(Le&&et&&kt,"argument-error"),this.apiKey=Le,this.operation=kt,this.code=et,this.continueUrl=null!==(x=Pe.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(q=Pe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ee=Pe.tenantId)&&void 0!==ee?ee:null}static parseLink(m){const _=function Sn(I){const m=(0,L.zd)((0,L.pd)(I)).link,_=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(I)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||_||m||I}(m);try{return new jr(_)}catch{return null}}}let mt=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,w){return Vn._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const D=jr.parseLink(w);return k(D,"argument-error"),Vn._fromEmailAndCode(_,D.code,D.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class xi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Eo extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class ss extends Eo{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return k("providerId"in _&&"signInMethod"in _,"argument-error"),ji._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return k(m.idToken||m.accessToken,"argument-error"),ji._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return ss.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return ss.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:x,nonce:q,providerId:ee}=m;if(!w&&!D&&!_&&!x||!ee)return null;try{return new ss(ee)._credential({idToken:_,accessToken:w,nonce:q,pendingToken:x})}catch{return null}}}let wn=(()=>{class I extends Eo{constructor(){super("facebook.com")}static credential(_){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),rl=(()=>{class I extends Eo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:D}=_;if(!w&&!D)return null;try{return I.credential(w,D)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Io=(()=>{class I extends Eo{constructor(){super("github.com")}static credential(_){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Mi extends Iu{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Zr(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,Zr(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Zr(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:D,pendingToken:x}=_;return w&&D&&x&&w===D?new Mi(w,x):null}static _create(m,_){return new Mi(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qi extends xi{constructor(m){k(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return qi.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return qi.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Mi.fromJSON(m);return k(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:w}=m;if(!_||!w)return null;try{return Mi._create(w,_)}catch{return null}}}let ws=(()=>{class I extends Eo{constructor(){super("twitter.com")}static credential(_,w){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:D}=_;if(!w||!D)return null;try{return I.credential(w,D)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function zs(I,m){return os.apply(this,arguments)}function os(){return(os=(0,o.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signUp",J(I,m))})).apply(this,arguments)}class ht{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,w,D=!1){return(0,o.Z)(function*(){const x=yield fe._fromIdTokenResponse(m,w,D),q=CI(w);return new ht({user:x,providerId:q,_tokenResponse:w,operationType:_})})()}static _forOperation(m,_,w){return(0,o.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const D=CI(w);return new ht({user:m,providerId:D,_tokenResponse:w,operationType:_})})()}}function CI(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function mh(I){return il.apply(this,arguments)}function il(){return(il=(0,o.Z)(function*(I){var m;const _=_n(I);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new ht({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield zs(_,{returnSecureToken:!0}),D=yield ht._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ni extends L.ZR{constructor(m,_,w,D){var x;super(_.code,_.message),this.operationType=w,this.user=D,Object.setPrototypeOf(this,Ni.prototype),this.customData={appName:m.name,tenantId:null!==(x=m.tenantId)&&void 0!==x?x:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,_,w,D){return new Ni(m,_,w,D)}}function sl(I,m,_,w){return("reauthenticate"===m?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Ni._fromErrorAndOperation(I,x,m,w):x})}function wo(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function Cu(I,m){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,o.Z)(function*(I,m){const _=(0,L.m9)(I);yield Yn(!0,_,m);const{providerUserInfo:w}=yield function wt(I,m){return Ar.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),D=wo(w||[]);return _.providerData=_.providerData.filter(x=>D.has(x.providerId)),D.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Bn.apply(this,arguments)}function w_(I,m){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,o.Z)(function*(I,m,_=!1){const w=yield Br(I,m._linkToIdToken(I.auth,yield I.getIdToken()),_);return ht._forOperation(I,"link",w)})).apply(this,arguments)}function Yn(I,m,_){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,o.Z)(function*(I,m,_){yield ns(m);const D=!1===I?"provider-already-linked":"no-such-provider";k(wo(m.providerData).has(_)===I,m.auth,D)})).apply(this,arguments)}function Ws(I,m){return bu.apply(this,arguments)}function bu(){return(bu=(0,o.Z)(function*(I,m,_=!1){const{auth:w}=I,D="reauthenticate";try{const x=yield Br(I,sl(w,D,m,I),_);k(x.idToken,w,"internal-error");const q=Ct(x.idToken);k(q,w,"internal-error");const{sub:ee}=q;return k(I.uid===ee,w,"user-mismatch"),ht._forOperation(I,D,x)}catch(x){throw"auth/user-not-found"===x?.code&&Te(w,"user-mismatch"),x}})).apply(this,arguments)}function $i(I,m){return Au.apply(this,arguments)}function Au(){return(Au=(0,o.Z)(function*(I,m,_=!1){const w="signIn",D=yield sl(I,w,m),x=yield ht._fromIdTokenResponse(I,w,D);return _||(yield I._updateCurrentUser(x.user)),x})).apply(this,arguments)}function ol(I,m){return _h.apply(this,arguments)}function _h(){return(_h=(0,o.Z)(function*(I,m){return $i(_n(I),m)})).apply(this,arguments)}function TI(I,m){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,o.Z)(function*(I,m){const _=(0,L.m9)(I);return yield Yn(!1,_,m.providerId),w_(_,m)})).apply(this,arguments)}function yn(I,m){return C_.apply(this,arguments)}function C_(){return(C_=(0,o.Z)(function*(I,m){return Ws((0,L.m9)(I),m)})).apply(this,arguments)}function T_(){return(T_=(0,o.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithCustomToken",J(I,m))})).apply(this,arguments)}function s1(I,m){return b_.apply(this,arguments)}function b_(){return b_=(0,o.Z)(function*(I,m){const _=_n(I),w=yield function i1(I,m){return T_.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),D=yield ht._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(D.user),D}),b_.apply(this,arguments)}class yh{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?A_._fromServerResponse(m,_):"totpInfo"in _?Op._fromServerResponse(m,_):Te(m,"internal-error")}}class A_ extends yh{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new A_(_)}}class Op extends yh{constructor(m){super("totp",m)}static _fromServerResponse(m,_){return new Op(_)}}function al(I,m,_){var w;k((null===(w=_.url)||void 0===w?void 0:w.length)>0,I,"invalid-continue-uri"),k(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(k(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(k(_.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function o1(I,m,_){return D_.apply(this,arguments)}function D_(){return D_=(0,o.Z)(function*(I,m,_){var w;const D=_n(I),x={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const q=yield hr(D,x,"getOobCode",!0);_&&al(D,q,_),yield lh(D,q)}else _&&al(D,x,_),yield lh(D,x).catch(function(){var q=(0,o.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield hr(D,x,"getOobCode",!0);_&&al(D,Pe,_),yield lh(D,Pe)}});return function(ee){return q.apply(this,arguments)}}())}),D_.apply(this,arguments)}function S_(I,m,_){return ul.apply(this,arguments)}function ul(){return(ul=(0,o.Z)(function*(I,m,_){yield si((0,L.m9)(I),{oobCode:m,newPassword:_})})).apply(this,arguments)}function kp(I,m){return cl.apply(this,arguments)}function cl(){return cl=(0,o.Z)(function*(I,m){yield function wI(I,m){return oi.apply(this,arguments)}((0,L.m9)(I),{oobCode:m})}),cl.apply(this,arguments)}function Du(I,m){return x_.apply(this,arguments)}function x_(){return(x_=(0,o.Z)(function*(I,m){const _=(0,L.m9)(I),w=yield si(_,{oobCode:m}),D=w.requestType;switch(k(D,_,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(w.mfaInfo,_,"internal-error");default:k(w.email,_,"internal-error")}let x=null;return w.mfaInfo&&(x=yh._fromServerResponse(_n(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:x},operation:D}})).apply(this,arguments)}function ha(I,m){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,o.Z)(function*(I,m){const{data:_}=yield Du((0,L.m9)(I),m);return _.email})).apply(this,arguments)}function M_(I,m,_){return N_.apply(this,arguments)}function N_(){return N_=(0,o.Z)(function*(I,m,_){var w;const D=_n(I),x={returnSecureToken:!0,email:m,password:_,clientType:"CLIENT_TYPE_WEB"};let q;if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Le=yield hr(D,x,"signUpPassword");q=zs(D,Le)}else q=zs(D,x).catch(function(){var Le=(0,o.Z)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kt=yield hr(D,x,"signUpPassword");return zs(D,kt)}return Promise.reject(et)});return function(et){return Le.apply(this,arguments)}}());const ee=yield q.catch(Le=>Promise.reject(Le)),Pe=yield ht._fromIdTokenResponse(D,"signIn",ee);return yield D._updateCurrentUser(Pe.user),Pe}),N_.apply(this,arguments)}function pr(I,m,_){return ol((0,L.m9)(I),mt.credential(m,_))}function ll(I,m,_){return xr.apply(this,arguments)}function xr(){return xr=(0,o.Z)(function*(I,m,_){var w;const D=_n(I),x={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function q(ee,Pe){k(Pe.handleCodeInApp,D,"argument-error"),Pe&&al(D,ee,Pe)}if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield hr(D,x,"getOobCode",!0);q(ee,_),yield hh(D,ee)}else q(x,_),yield hh(D,x).catch(function(){var ee=(0,o.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Le=yield hr(D,x,"getOobCode",!0);q(Le,_),yield hh(D,Le)}});return function(Pe){return ee.apply(this,arguments)}}())}),xr.apply(this,arguments)}function R_(I,m){const _=jr.parseLink(m);return"EMAIL_SIGNIN"===_?.operation}function P_(I,m,_){return vh.apply(this,arguments)}function vh(){return(vh=(0,o.Z)(function*(I,m,_){const w=(0,L.m9)(I),D=mt.credentialWithLink(m,_||Mt());return k(D._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ol(w,D)})).apply(this,arguments)}function dl(){return(dl=(0,o.Z)(function*(I,m){return de(I,"POST","/v1/accounts:createAuthUri",J(I,m))})).apply(this,arguments)}function k_(I,m){return hl.apply(this,arguments)}function hl(){return hl=(0,o.Z)(function*(I,m){const w={identifier:m,continueUri:cn()?Mt():"http://localhost"},{signinMethods:D}=yield function O_(I,m){return dl.apply(this,arguments)}((0,L.m9)(I),w);return D||[]}),hl.apply(this,arguments)}function Fp(I,m){return fl.apply(this,arguments)}function fl(){return fl=(0,o.Z)(function*(I,m){const _=(0,L.m9)(I),D={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&al(_.auth,D,m);const{email:x}=yield function v_(I,m){return Qc.apply(this,arguments)}(_.auth,D);x!==I.email&&(yield I.reload())}),fl.apply(this,arguments)}function F_(I,m,_){return pl.apply(this,arguments)}function pl(){return pl=(0,o.Z)(function*(I,m,_){const w=(0,L.m9)(I),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};_&&al(w.auth,x,_);const{email:q}=yield function E_(I,m){return Jc.apply(this,arguments)}(w.auth,x);q!==I.email&&(yield I.reload())}),pl.apply(this,arguments)}function fa(){return(fa=(0,o.Z)(function*(I,m){return de(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Su(I,m){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,o.Z)(function*(I,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const w=(0,L.m9)(I),x={idToken:yield w.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},q=yield Br(w,function gl(I,m){return fa.apply(this,arguments)}(w.auth,x));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const ee=w.providerData.find(({providerId:Pe})=>"password"===Pe);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)}),Eh.apply(this,arguments)}function a1(I,m){return bI((0,L.m9)(I),m,null)}function u1(I,m){return bI((0,L.m9)(I),null,m)}function bI(I,m,_){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,o.Z)(function*(I,m,_){const{auth:w}=I,x={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(x.email=m),_&&(x.password=_);const q=yield Br(I,Np(w,x));yield I._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class ml{constructor(m,_,w={}){this.isNewUser=m,this.providerId=_,this.profile=w}}class Up extends ml{constructor(m,_,w,D){super(m,_,w),this.username=D}}class pa extends ml{constructor(m,_){super(m,"facebook.com",_)}}class DI extends Up{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Ih extends ml{constructor(m,_){super(m,"google.com",_)}}class Vp extends Up{constructor(m,_,w){super(m,"twitter.com",_,w)}}function _l(I){const{user:m,_tokenResponse:_}=I;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function AI(I){var m,_;if(!I)return null;const{providerId:w}=I,D=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},x=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!w&&I?.idToken){const q=null===(_=null===(m=Ct(I.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(q)return new ml(x,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new pa(x,D);case"github.com":return new DI(x,D);case"google.com":return new Ih(x,D);case"twitter.com":return new Vp(x,D,I.screenName||null);case"custom":case"anonymous":return new ml(x,null);default:return new ml(x,w,D)}}(_)}class Ks{constructor(m,_,w){this.type=m,this.credential=_,this.auth=w}static _fromIdtoken(m,_){return new Ks("enroll",m,_)}static _fromMfaPendingCredential(m){return new Ks("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,w;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ks._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return Ks._fromIdtoken(m.multiFactorSession.idToken)}return null}}class xu{constructor(m,_,w){this.session=m,this.hints=_,this.signInResolver=w}static _fromError(m,_){const w=_n(m),D=_.customData._serverResponse,x=(D.mfaInfo||[]).map(ee=>yh._fromServerResponse(w,ee));k(D.mfaPendingCredential,w,"internal-error");const q=Ks._fromMfaPendingCredential(D.mfaPendingCredential);return new xu(q,x,function(){var ee=(0,o.Z)(function*(Pe){const Le=yield Pe._process(w,q);delete D.mfaInfo,delete D.mfaPendingCredential;const et=Object.assign(Object.assign({},D),{idToken:Le.idToken,refreshToken:Le.refreshToken});switch(_.operationType){case"signIn":const kt=yield ht._fromIdTokenResponse(w,_.operationType,et);return yield w._updateCurrentUser(kt.user),kt;case"reauthenticate":return k(_.user,w,"internal-error"),ht._forOperation(_.user,_.operationType,et);default:Te(w,"internal-error")}});return function(Pe){return ee.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,o.Z)(function*(){return _.signInResolver(m)})()}}function El(I,m){var _;const w=(0,L.m9)(I),D=m;return k(m.customData.operationType,w,"argument-error"),k(null===(_=D.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),xu._fromError(w,D)}class Ch{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>yh._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new Ch(m)}getSession(){var m=this;return(0,o.Z)(function*(){return Ks._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var w=this;return(0,o.Z)(function*(){const D=m,x=yield w.getSession(),q=yield Br(w.user,D._process(w.user.auth,x,_));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(m){var _=this;return(0,o.Z)(function*(){const w="string"==typeof m?m:m.uid,D=yield _.user.getIdToken();try{const x=yield Br(_.user,function $p(I,m){return de(I,"POST","/v2/accounts/mfaEnrollment:withdraw",J(I,m))}(_.user.auth,{idToken:D,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:q})=>q!==w),yield _.user._updateTokensIfNecessary(x),yield _.user.reload()}catch(x){throw x}})()}}const ga=new WeakMap;function Th(I){const m=(0,L.m9)(I);return ga.has(m)||ga.set(m,Ch._fromUser(m)),ga.get(m)}const Mr="__sak";class bh{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Mr,"1"),this.storage.removeItem(Mr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const gr=(()=>{class I extends bh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Z_(){const I=(0,L.z$)();return le(I)||Fn(I)}()&&function Xt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=is(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const D=this.storage.getItem(w),x=this.localCache[w];D!==x&&_(w,x,D)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ee,Pe,Le)=>{this.notifyListeners(ee,Le)});const D=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(D);if(_.newValue!==ee)null!==_.newValue?this.storage.setItem(D,_.newValue):this.storage.removeItem(D);else if(this.localCache[D]===_.newValue&&!w)return}const x=()=>{const ee=this.storage.getItem(D);!w&&this.localCache[D]===ee||this.notifyListeners(D,ee)},q=this.storage.getItem(D);!function an(){return(0,L.w1)()&&10===document.documentMode}()||q===_.newValue||_.newValue===_.oldValue?x():setTimeout(x,10)}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const x of Array.from(D))x(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var D=()=>super._set,x=this;return(0,o.Z)(function*(){yield D().call(x,_,w),x.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,D=this;return(0,o.Z)(function*(){const x=yield w().call(D,_);return D.localCache[_]=JSON.stringify(x),x})()}_remove(_){var w=()=>super._remove,D=this;return(0,o.Z)(function*(){yield w().call(D,_),delete D.localCache[_]})()}}return I.type="LOCAL",I})(),Nu=(()=>{class I extends bh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return I.type="SESSION",I})();let ai=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(x=>x.isListeningto(_));if(w)return w;const D=new I(_);return this.receivers.push(D),D}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,o.Z)(function*(){const D=_,{eventId:x,eventType:q,data:ee}=D.data,Pe=w.handlersMap[q];if(!Pe?.size)return;D.ports[0].postMessage({status:"ack",eventId:x,eventType:q});const Le=Array.from(Pe).map(function(){var kt=(0,o.Z)(function*(ir){return ir(D.origin,ee)});return function(ir){return kt.apply(this,arguments)}}()),et=yield function ma(I){return Promise.all(I.map(function(){var m=(0,o.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return m.apply(this,arguments)}}()))}(Le);D.ports[0].postMessage({status:"done",eventId:x,eventType:q,response:et})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Ru(I="",m=10){let _="";for(let w=0;w<m;w++)_+=Math.floor(10*Math.random());return I+_}class RI{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,w=50){var D=this;return(0,o.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let q,ee;return new Promise((Pe,Le)=>{const et=Ru("",20);x.port1.start();const kt=setTimeout(()=>{Le(new Error("unsupported_event"))},w);ee={messageChannel:x,onMessage(ir){const Rs=ir;if(Rs.data.eventId===et)switch(Rs.data.status){case"ack":clearTimeout(kt),q=setTimeout(()=>{Le(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Pe(Rs.data.response);break;default:clearTimeout(kt),clearTimeout(q),Le(new Error("invalid_response"))}}},D.handlers.add(ee),x.port1.addEventListener("message",ee.onMessage),D.target.postMessage({eventType:m,eventId:et,data:_},[x.port2])}).finally(()=>{ee&&D.removeMessageHandler(ee)})})()}}function Zn(){return window}function Dh(){return typeof Zn().WorkerGlobalScope<"u"&&"function"==typeof Zn().importScripts}function Il(){return(Il=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gp="firebaseLocalStorageDb",_a="firebaseLocalStorage",zp="fbase_key";class ya{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function xh(I,m){return I.transaction([_a],m?"readwrite":"readonly").objectStore(_a)}function Mh(){const I=indexedDB.open(Gp,1);return new Promise((m,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(_a,{keyPath:zp})}catch(D){_(D)}}),I.addEventListener("success",(0,o.Z)(function*(){const w=I.result;w.objectStoreNames.contains(_a)?m(w):(w.close(),yield function q_(){const I=indexedDB.deleteDatabase(Gp);return new ya(I).toPromise()}(),m(yield Mh()))}))})}function Co(I,m,_){return wl.apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(I,m,_){const w=xh(I,!0).put({[zp]:m,value:_});return new ya(w).toPromise()})).apply(this,arguments)}function as(){return(as=(0,o.Z)(function*(I,m){const _=xh(I,!1).get(m),w=yield new ya(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Kp(I,m){const _=xh(I,!0).delete(m);return new ya(_).toPromise()}const Yp=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,o.Z)(function*(){return _.db||(_.db=yield Mh()),_.db})()}_withRetries(_){var w=this;return(0,o.Z)(function*(){let D=0;for(;;)try{const x=yield w._openDb();return yield _(x)}catch(x){if(D++>3)throw x;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,o.Z)(function*(){return Dh()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,o.Z)(function*(){_.receiver=ai._getInstance(function Sh(){return Dh()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,o.Z)(function*(D,x){return{keyProcessed:(yield _._poll()).includes(x.key)}});return function(D,x){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,o.Z)(function*(D,x){return["keyChanged"]});return function(D,x){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,o.Z)(function*(){var w,D;if(_.activeServiceWorker=yield function j_(){return Il.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new RI(_.activeServiceWorker);const x=yield _.sender._send("ping",{},800);x&&null!==(w=x[0])&&void 0!==w&&w.fulfilled&&null!==(D=x[0])&&void 0!==D&&D.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,o.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Hp(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Mh();return yield Co(_,Mr,"1"),yield Kp(_,Mr),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,o.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var D=this;return(0,o.Z)(function*(){return D._withPendingWrite((0,o.Z)(function*(){return yield D._withRetries(x=>Co(x,_,w)),D.localCache[_]=w,D.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,o.Z)(function*(){const D=yield w._withRetries(x=>function Wp(I,m){return as.apply(this,arguments)}(x,_));return w.localCache[_]=D,D})()}_remove(_){var w=this;return(0,o.Z)(function*(){return w._withPendingWrite((0,o.Z)(function*(){return yield w._withRetries(D=>Kp(D,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,o.Z)(function*(){const w=yield _._withRetries(q=>{const ee=xh(q,!1).getAll();return new ya(ee).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const D=[],x=new Set;for(const{fbase_key:q,value:ee}of w)x.add(q),JSON.stringify(_.localCache[q])!==JSON.stringify(ee)&&(_.notifyListeners(q,ee),D.push(q));for(const q of Object.keys(_.localCache))_.localCache[q]&&!x.has(q)&&(_.notifyListeners(q,null),D.push(q));return D})()}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const x of Array.from(D))x(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Pu=1e12;class Jp{constructor(m){this.auth=m,this.counter=Pu,this._widgets=new Map}render(m,_){const w=this.counter;return this._widgets.set(w,new PI(m,this.auth.name,_||{})),this.counter++,w}reset(m){var _;const w=m||Pu;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Pu))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,o.Z)(function*(){var w;return null===(w=_._widgets.get(m||Pu))||void 0===w||w.execute(),""})()}}class PI{constructor(m,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof m?document.getElementById(m):m;k(D,"argument-error",{appName:_}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function c1(I){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<I;w++)m.push(_.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ou=Zt("rcb"),Nr=new pn(3e4,6e4);class Nh{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Zn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return k(function ku(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),m,"argument-error"),this.shouldResolveImmediately(_)&&Dp(Zn().grecaptcha)?Promise.resolve(Zn().grecaptcha):new Promise((w,D)=>{const x=Zn().setTimeout(()=>{D(ce(m,"network-request-failed"))},Nr.get());Zn()[Ou]=()=>{Zn().clearTimeout(x),delete Zn()[Ou];const ee=Zn().grecaptcha;if(!ee||!Dp(ee))return void D(ce(m,"internal-error"));const Pe=ee.render;ee.render=(Le,et)=>{const kt=Pe(Le,et);return this.counter++,kt},this.hostLanguage=_,w(ee)},Ai(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Ou,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(x),D(ce(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Zn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ys{load(m){return(0,o.Z)(function*(){return new Jp(m)})()}clearedOneInstance(){}}const G_="recaptcha",z_={theme:"light",type:"image"};class OI{constructor(m,_=Object.assign({},z_),w){this.parameters=_,this.type=G_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(w),this.isInvisible="invisible"===this.parameters.size,k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof m?document.getElementById(m):m;k(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ys:new Nh,this.validateStartingState()}verify(){var m=this;return(0,o.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(_)||new Promise(x=>{const q=ee=>{ee&&(m.tokenChangeListeners.delete(q),x(ee))};m.tokenChangeListeners.add(q),m.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof m)m(_);else if("string"==typeof m){const w=Zn()[m];"function"==typeof w&&w(_)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.Z)(function*(){k(cn()&&!Dh(),m.auth,"internal-error"),yield function kI(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function rh(I){return vs.apply(this,arguments)}(m.auth);k(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tl{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=En._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function nr(I,m,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,o.Z)(function*(I,m,_){const w=_n(I),D=yield Fu(w,m,(0,L.m9)(_));return new Tl(D,x=>ol(w,x))})).apply(this,arguments)}function Rh(I,m,_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,o.Z)(function*(I,m,_){const w=(0,L.m9)(I);yield Yn(!1,w,"phone");const D=yield Fu(w.auth,m,(0,L.m9)(_));return new Tl(D,x=>TI(w,x))})).apply(this,arguments)}function ut(I,m,_){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.Z)(function*(I,m,_){const w=(0,L.m9)(I),D=yield Fu(w.auth,m,(0,L.m9)(_));return new Tl(D,x=>yn(w,x))})).apply(this,arguments)}function Fu(I,m,_){return bl.apply(this,arguments)}function bl(){return bl=(0,o.Z)(function*(I,m,_){var w;const D=yield _.verify();try{let x;if(k("string"==typeof D,I,"argument-error"),k(_.type===G_,I,"argument-error"),x="string"==typeof m?{phoneNumber:m}:m,"session"in x){const q=x.session;if("phoneNumber"in x)return k("enroll"===q.type,I,"internal-error"),(yield function jp(I,m){return de(I,"POST","/v2/accounts/mfaEnrollment:start",J(I,m))}(I,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{k("signin"===q.type,I,"internal-error");const ee=(null===(w=x.multiFactorHint)||void 0===w?void 0:w.uid)||x.multiFactorUid;return k(ee,I,"missing-multi-factor-info"),(yield function H_(I,m){return de(I,"POST","/v2/accounts/mfaSignIn:start",J(I,m))}(I,{mfaPendingCredential:q.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield function tl(I,m){return ph.apply(this,arguments)}(I,{phoneNumber:x.phoneNumber,recaptchaToken:D});return q}}finally{_._reset()}}),bl.apply(this,arguments)}function Xp(I,m){return Al.apply(this,arguments)}function Al(){return(Al=(0,o.Z)(function*(I,m){yield w_((0,L.m9)(I),m)})).apply(this,arguments)}let Dl=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=_n(_)}verifyPhoneNumber(_,w){return Fu(this.auth,_,(0,L.m9)(w))}static credential(_,w){return En._fromVerification(_,w)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:D}=_;return w&&D?En._fromTokenResponse(w,D):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function To(I,m){return m?ct(m):(k(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class bo extends Iu{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Zr(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Zr(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Zr(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function gt(I){return $i(I.auth,new bo(I),I.bypassAuthState)}function Ao(I){const{auth:m,user:_}=I;return k(_,m,"internal-error"),Ws(_,new bo(I),I.bypassAuthState)}function vn(I){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,o.Z)(function*(I){const{auth:m,user:_}=I;return k(_,m,"internal-error"),w_(_,new bo(I),I.bypassAuthState)})).apply(this,arguments)}class va{constructor(m,_,w,D,x=!1){this.auth=m,this.resolver=w,this.user=D,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,o.Z)(function*(w,D){m.pendingPromise={resolve:w,reject:D};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(x){m.reject(x)}});return function(w,D){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,o.Z)(function*(){const{urlResponse:w,sessionId:D,postBody:x,tenantId:q,error:ee,type:Pe}=m;if(ee)return void _.reject(ee);const Le={auth:_.auth,requestUri:w,sessionId:D,tenantId:q||void 0,postBody:x||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(Le))}catch(et){_.reject(et)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return gt;case"linkViaPopup":case"linkViaRedirect":return vn;case"reauthViaPopup":case"reauthViaRedirect":return Ao;default:Te(this.auth,"internal-error")}}resolve(m){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eg=new pn(2e3,1e4);function ui(I,m,_){return xl.apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(I,m,_){const w=_n(I);Me(I,m,xi);const D=To(w,_);return new Ds(w,"signInViaPopup",m,D).executeNotNull()})).apply(this,arguments)}function Ml(I,m,_){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,o.Z)(function*(I,m,_){const w=(0,L.m9)(I);Me(w.auth,m,xi);const D=To(w.auth,_);return new Ds(w.auth,"reauthViaPopup",m,D,w).executeNotNull()})).apply(this,arguments)}function As(I,m,_){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,o.Z)(function*(I,m,_){const w=(0,L.m9)(I);Me(w.auth,m,xi);const D=To(w.auth,_);return new Ds(w.auth,"linkViaPopup",m,D,w).executeNotNull()})).apply(this,arguments)}let Ds=(()=>{class I extends va{constructor(_,w,D,x,q){super(_,w,x,q),this.provider=D,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,o.Z)(function*(){const w=yield _.execute();return k(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,o.Z)(function*(){pe(1===_.filter.length,"Popup operations only handle one event");const w=Ru();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(D=>{_.reject(D)}),_.resolver._isIframeWebStorageSupported(_.auth,D=>{D||_.reject(ce(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,D;this.pollId=null!==(D=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,eg.get())};_()}}return I.currentPopupAction=null,I})();const Qs="pendingRedirect",Js=new Map;class Lu extends va{constructor(m,_,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,o.Z)(function*(){let w=Js.get(_.auth._key());if(!w){try{const x=(yield function Uu(I,m){return Vu.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;w=()=>Promise.resolve(x)}catch(D){w=()=>Promise.reject(D)}Js.set(_.auth._key(),w)}return _.bypassAuthState||Js.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,w=this;return(0,o.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(w,m);if("unknown"!==m.type){if(m.eventId){const D=yield w.auth._redirectUserForId(m.eventId);if(D)return w.user=D,_().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Vu(){return(Vu=(0,o.Z)(function*(I,m){const _=Ia(m),w=ci(I);if(!(yield w._isAvailable()))return!1;const D="true"===(yield w._get(_));return yield w._remove(_),D})).apply(this,arguments)}function Oh(I,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,o.Z)(function*(I,m){return ci(I)._set(Ia(m),"true")})).apply(this,arguments)}function Pi(){Js.clear()}function Bu(I,m){Js.set(I._key(),m)}function ci(I){return ct(I._redirectPersistence)}function Ia(I){return tr(Qs,I.config.apiKey,I.name)}function W_(I,m,_){return function cs(I,m,_){return xn.apply(this,arguments)}(I,m,_)}function xn(){return(xn=(0,o.Z)(function*(I,m,_){const w=_n(I);Me(I,m,xi),yield w._initializationPromise;const D=To(w,_);return yield Oh(D,w),D._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function Zu(I,m,_){return function FI(I,m,_){return qr.apply(this,arguments)}(I,m,_)}function qr(){return(qr=(0,o.Z)(function*(I,m,_){const w=(0,L.m9)(I);Me(w.auth,m,xi),yield w.auth._initializationPromise;const D=To(w.auth,_);yield Oh(D,w.auth);const x=yield Ss(w);return D._openRedirect(w.auth,m,"reauthViaRedirect",x)})).apply(this,arguments)}function jn(I,m,_){return function Nl(I,m,_){return Xs.apply(this,arguments)}(I,m,_)}function Xs(){return(Xs=(0,o.Z)(function*(I,m,_){const w=(0,L.m9)(I);Me(w.auth,m,xi),yield w.auth._initializationPromise;const D=To(w.auth,_);yield Yn(!1,w,m.providerId),yield Oh(D,w.auth);const x=yield Ss(w);return D._openRedirect(w.auth,m,"linkViaRedirect",x)})).apply(this,arguments)}function kh(I,m){return li.apply(this,arguments)}function li(){return(li=(0,o.Z)(function*(I,m){return yield _n(I)._initializationPromise,Do(I,m,!1)})).apply(this,arguments)}function Do(I,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,o.Z)(function*(I,m,_=!1){const w=_n(I),D=To(w,m),q=yield new Lu(w,D,_).execute();return q&&!_&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,m)),q})).apply(this,arguments)}function Ss(I){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,o.Z)(function*(I){const m=Ru(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Rl{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(_=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function wa(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pl(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var w;if(m.error&&!Pl(m)){const D=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(ce(this.auth,D))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const w=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ju(m))}saveEventToCache(m){this.cachedEventUids.add(ju(m)),this.lastProcessedEventTime=Date.now()}}function ju(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function Pl({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function qu(I){return $u.apply(this,arguments)}function $u(){return($u=(0,o.Z)(function*(I,m={}){return de(I,"GET","/v1/projects",m)})).apply(this,arguments)}const Dt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ca=/^https?/;function xs(){return(xs=(0,o.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield qu(I);for(const _ of m)try{if(ng(_))return}catch{}Te(I,"unauthorized-domain")})).apply(this,arguments)}function ng(I){const m=Mt(),{protocol:_,hostname:w}=new URL(m);if(I.startsWith("chrome-extension://")){const q=new URL(I);return""===q.hostname&&""===w?"chrome-extension:"===_&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&q.hostname===w}if(!Ca.test(_))return!1;if(Dt.test(I))return w===I;const D=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(w)}const K_=new pn(3e4,6e4);function $r(){const I=Zn().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Hu=null;const rg=new pn(5e3,15e3),Ta="__/auth/iframe",ig="emulator/auth/iframe",Rr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function og(I){const m=I.config;k(m.authDomain,I,"auth-domain-config-required");const _=m.emulator?ri(m,ig):`https://${I.config.authDomain}/${Ta}`,w={apiKey:m.apiKey,appName:I.name,v:ie.SDK_VERSION},D=sg.get(I.config.apiHost);D&&(w.eid=D);const x=I._getFrameworks();return x.length&&(w.fw=x.join(",")),`${_}?${(0,L.xO)(w).slice(1)}`}function kl(){return kl=(0,o.Z)(function*(I){const m=yield function Ms(I){return Hu=Hu||function eo(I){return new Promise((m,_)=>{var w,D,x;function q(){$r(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{$r(),_(ce(I,"network-request-failed"))},timeout:K_.get()})}if(null!==(D=null===(w=Zn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==D&&D.Iframe)m(gapi.iframes.getContext());else{if(null===(x=Zn().gapi)||void 0===x||!x.load){const ee=Zt("iframefcb");return Zn()[ee]=()=>{gapi.load?q():_(ce(I,"network-request-failed"))},Ai(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Pe=>_(Pe))}q()}}).catch(m=>{throw Hu=null,m})}(I),Hu}(I),_=Zn().gapi;return k(_,I,"internal-error"),m.open({where:document.body,url:og(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rr,dontclear:!0},w=>new Promise(function(){var D=(0,o.Z)(function*(x,q){yield w.restyle({setHideOnLeave:!1});const ee=ce(I,"network-request-failed"),Pe=Zn().setTimeout(()=>{q(ee)},rg.get());function Le(){Zn().clearTimeout(Pe),x(w)}w.ping(Le).then(Le,()=>{q(ee)})});return function(x,q){return D.apply(this,arguments)}}()))}),kl.apply(this,arguments)}const Gu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ns{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ag="__/auth/handler",Y_="emulator/auth/handler",Uh=encodeURIComponent("fac");function Aa(I,m,_,w,D,x){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,o.Z)(function*(I,m,_,w,D,x){k(I.config.authDomain,I,"auth-domain-config-required"),k(I.config.apiKey,I,"invalid-api-key");const q={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:w,v:ie.SDK_VERSION,eventId:D};if(m instanceof xi){m.setDefaultLanguage(I.languageCode),q.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(q.customParameters=JSON.stringify(m.getCustomParameters()));for(const[et,kt]of Object.entries(x||{}))q[et]=kt}if(m instanceof Eo){const et=m.getScopes().filter(kt=>""!==kt);et.length>0&&(q.scopes=et.join(","))}I.tenantId&&(q.tid=I.tenantId);const ee=q;for(const et of Object.keys(ee))void 0===ee[et]&&delete ee[et];const Pe=yield I._getAppCheckToken(),Le=Pe?`#${Uh}=${encodeURIComponent(Pe)}`:"";return`${function Bh({config:I}){return I.emulator?ri(I,Y_):`https://${I.authDomain}/${ag}`}(I)}?${(0,L.xO)(ee).slice(1)}${Le}`})).apply(this,arguments)}const ug="webStorageSupport",fs=class cg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nu,this._completeRedirectFn=Do,this._overrideRedirectResult=Bu}_openPopup(m,_,w,D){var x=this;return(0,o.Z)(function*(){var q;pe(null===(q=x.eventManagers[m._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ee=yield Aa(m,_,w,Mt(),D);return function Lh(I,m,_,w=500,D=600){const x=Math.max((window.screen.availHeight-D)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Pe=Object.assign(Object.assign({},Gu),{width:w.toString(),height:D.toString(),top:x,left:q}),Le=(0,L.z$)().toLowerCase();_&&(ee=Q(Le)?"_blank":_),$(Le)&&(m=m||"http://localhost",Pe.scrollbars="yes");const et=Object.entries(Pe).reduce((ir,[Rs,Gi])=>`${ir}${Rs}=${Gi},`,"");if(function qt(I=(0,L.z$)()){var m;return Fn(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Le)&&"_self"!==ee)return function hs(I,m){const _=document.createElement("a");_.href=I,_.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(m||"",ee),new Ns(null);const kt=window.open(m||"",ee,et);k(kt,I,"popup-blocked");try{kt.focus()}catch{}return new Ns(kt)}(m,ee,Ru())})()}_openRedirect(m,_,w,D){var x=this;return(0,o.Z)(function*(){return yield x._originValidation(m),function Cs(I){Zn().location.href=I}(yield Aa(m,_,w,Mt(),D)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:D,promise:x}=this.eventManagers[_];return D?Promise.resolve(D):(pe(x,"If manager is not set, promise should be"),x)}const w=this.initAndGetManager(m);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(m){var _=this;return(0,o.Z)(function*(){const w=yield function Ol(I){return kl.apply(this,arguments)}(m),D=new Rl(m);return w.register("authEvent",x=>(k(x?.authEvent,m,"invalid-auth-event"),{status:D.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:D},_.iframes[m._key()]=w,D})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(ug,{type:ug},D=>{var x;const q=null===(x=D?.[0])||void 0===x?void 0:x[ug];void 0!==q&&_(!!q),Te(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function tg(I){return xs.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return is()||le()||Fn()}};class lg{constructor(m){this.factorId=m}_process(m,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,w);case"signin":return this._finalizeSignIn(m,_.credential);default:return W("unexpected MultiFactorSessionType")}}}class Fl extends lg{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Fl(m)}_finalizeEnroll(m,_,w){return function B_(I,m){return de(I,"POST","/v2/accounts/mfaEnrollment:finalize",J(I,m))}(m,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function mr(I,m){return de(I,"POST","/v2/accounts/mfaSignIn:finalize",J(I,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qn=(()=>{class I{constructor(){}static assertion(_){return Fl._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var xo="@firebase/auth";class Ul{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,o.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.Pz)("authIdTokenMaxAge"),function Q_(I){(0,ie._registerComponent)(new ye.wA("auth",(m,{options:_})=>{const w=m.getProvider("app").getImmediate(),D=m.getProvider("heartbeat"),x=m.getProvider("app-check-internal"),{apiKey:q,authDomain:ee}=w.options;k(q&&!q.includes(":"),"invalid-api-key",{appName:w.name});const Pe={apiKey:q,authDomain:ee,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mu(I)},Le=new Di(w,D,x,Pe);return function vu(I,m){const _=m?.persistence||[],w=(Array.isArray(_)?_:[_]).map(ct);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(w,m?.popupRedirectResolver)}(Le,_),Le},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,w)=>{m.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ye.wA("auth-internal",m=>{const _=_n(m.getProvider("auth").getImmediate());return new Ul(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(xo,"0.23.2",function zu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ie.registerVersion)(xo,"0.23.2","esm2017")}("Browser")},9058:(it,Ee,P)=>{P.d(Ee,{$s:()=>ct,BH:()=>ve,L:()=>Se,LL:()=>Ne,P0:()=>we,Pz:()=>ce,Sg:()=>Me,UG:()=>W,US:()=>ye,ZB:()=>re,ZR:()=>de,aH:()=>Te,b$:()=>cn,eu:()=>te,hl:()=>Y,jU:()=>pe,m9:()=>tr,ne:()=>Br,pd:()=>Ct,q4:()=>Qe,r3:()=>wt,ru:()=>Mt,tV:()=>V,uI:()=>k,vZ:()=>ii,w1:()=>ln,xO:()=>es,xb:()=>Vr,z$:()=>K,zI:()=>oe,zd:()=>Kn});const se=function(U){const F=[];let $=0;for(let le=0;le<U.length;le++){let Q=U.charCodeAt(le);Q<128?F[$++]=Q:Q<2048?(F[$++]=Q>>6|192,F[$++]=63&Q|128):55296==(64512&Q)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(Q=65536+((1023&Q)<<10)+(1023&U.charCodeAt(++le)),F[$++]=Q>>18|240,F[$++]=Q>>12&63|128,F[$++]=Q>>6&63|128,F[$++]=63&Q|128):(F[$++]=Q>>12|224,F[$++]=Q>>6&63|128,F[$++]=63&Q|128)}return F},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Q=0;Q<U.length;Q+=3){const Xe=U[Q],vt=Q+1<U.length,Jt=vt?U[Q+1]:0,kn=Q+2<U.length,Fn=kn?U[Q+2]:0;let an=(15&Jt)<<2|Fn>>6,is=63&Fn;kn||(is=64,vt||(an=64)),le.push($[Xe>>2],$[(3&Xe)<<4|Jt>>4],$[an],$[is])}return le.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(se(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let $=0,le=0;for(;$<U.length;){const Q=U[$++];if(Q<128)F[le++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Xe=U[$++];F[le++]=String.fromCharCode((31&Q)<<6|63&Xe)}else if(Q>239&&Q<365){const kn=((7&Q)<<18|(63&U[$++])<<12|(63&U[$++])<<6|63&U[$++])-65536;F[le++]=String.fromCharCode(55296+(kn>>10)),F[le++]=String.fromCharCode(56320+(1023&kn))}else{const Xe=U[$++],vt=U[$++];F[le++]=String.fromCharCode((15&Q)<<12|(63&Xe)<<6|63&vt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Q=0;Q<U.length;){const Xe=$[U.charAt(Q++)],Jt=Q<U.length?$[U.charAt(Q)]:0;++Q;const Fn=Q<U.length?$[U.charAt(Q)]:64;++Q;const qt=Q<U.length?$[U.charAt(Q)]:64;if(++Q,null==Xe||null==Jt||null==Fn||null==qt)throw new Re;le.push(Xe<<2|Jt>>4),64!==Fn&&(le.push(Jt<<4&240|Fn>>2),64!==qt&&le.push(Fn<<6&192|qt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(U){return function(U){const F=se(U);return ye.encodeByteArray(F,!0)}(U).replace(/\./g,"")},V=function(U){try{return ye.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function re(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const $ in F)!F.hasOwnProperty($)||!Oe($)||(U[$]=re(U[$],F[$]));return U}function Oe(U){return"__proto__"!==U}const Ae=()=>{try{return function ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&V(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Qe=U=>{var F,$;return null===($=null===(F=Ae())||void 0===F?void 0:F.emulatorHosts)||void 0===$?void 0:$[U]},we=U=>{const F=Qe(U);if(!F)return;const $=F.lastIndexOf(":");if($<=0||$+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const le=parseInt(F.substring($+1),10);return"["===F[0]?[F.substring(1,$-1),le]:[F.substring(0,$),le]},Te=()=>{var U;return null===(U=Ae())||void 0===U?void 0:U.config},ce=U=>{var F;return null===(F=Ae())||void 0===F?void 0:F[`_${U}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,le))}}}function Me(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=F||"demo-project",Q=U.iat||0,Xe=U.sub||U.user_id;if(!Xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Q,exp:Q+3600,auth_time:Q,sub:Xe,user_id:Xe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(vt)),""].join(".")}function K(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function W(){var U;const F=null===(U=Ae())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Mt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ln(){const U=K();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Y(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((U,F)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(le);Q.onsuccess=()=>{Q.result.close(),$||self.indexedDB.deleteDatabase(le),U(!0)},Q.onupgradeneeded=()=>{$=!1},Q.onerror=()=>{var Xe;F((null===(Xe=Q.error)||void 0===Xe?void 0:Xe.message)||"")}}catch($){F($)}})}function oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class de extends Error{constructor(F,$,le){super($),this.code=F,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(F,$,le){this.service=F,this.serviceName=$,this.errors=le}create(F,...$){const le=$[0]||{},Q=`${this.service}/${F}`,Xe=this.errors[F],vt=Xe?function at(U,F){return U.replace(Ft,($,le)=>{const Q=F[le];return null!=Q?String(Q):`<${le}?>`})}(Xe,le):"Error";return new de(Q,`${this.serviceName}: ${vt} (${Q}).`,le)}}const Ft=/\{\$([^}]+)}/g;function wt(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function Vr(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function ii(U,F){if(U===F)return!0;const $=Object.keys(U),le=Object.keys(F);for(const Q of $){if(!le.includes(Q))return!1;const Xe=U[Q],vt=F[Q];if(ca(Xe)&&ca(vt)){if(!ii(Xe,vt))return!1}else if(Xe!==vt)return!1}for(const Q of le)if(!$.includes(Q))return!1;return!0}function ca(U){return null!==U&&"object"==typeof U}function es(U){const F=[];for(const[$,le]of Object.entries(U))Array.isArray(le)?le.forEach(Q=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(Q))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(le));return F.length?"&"+F.join("&"):""}function Kn(U){const F={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Q,Xe]=le.split("=");F[decodeURIComponent(Q)]=decodeURIComponent(Xe)}}),F}function Ct(U){const F=U.indexOf("?");if(!F)return"";const $=U.indexOf("#",F);return U.substring(F,$>0?$:void 0)}function Br(U,F){const $=new yt(U,F);return $.subscribe.bind($)}class yt{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(le=>{this.error(le)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,le){let Q;if(void 0===F&&void 0===$&&void 0===le)throw new Error("Missing Observer.");Q=function ts(U,F){if("object"!=typeof U||null===U)return!1;for(const $ of F)if($ in U&&"function"==typeof U[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:le},void 0===Q.next&&(Q.next=Bt),void 0===Q.error&&(Q.error=Bt),void 0===Q.complete&&(Q.complete=Bt);const Xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),Xe}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bt(){}const rs=1e3,qe=2,fe=144e5,We=.5;function ct(U,F=rs,$=qe){const le=F*Math.pow($,U),Q=Math.round(We*le*(Math.random()-.5)*2);return Math.min(fe,le+Q)}function tr(U){return U&&U._delegate?U._delegate:U}},9412:(it,Ee,P)=>{var o=P(8926);let L=null;function ie(){return L}class he{}const ye=new o.OlP("DocumentToken");let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Se)},providedIn:"platform"})}return n})();const Ue=new o.OlP("Location Initialized");let Se=(()=>{class n extends Re{constructor(){super(),this._doc=(0,o.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function V(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function re(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Ye)},providedIn:"root"})}return n})();const ue=new o.OlP("appBaseHref");let Ye=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return V(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+re(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const l=this.prepareExternalUrl(i+re(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){const l=this.prepareExternalUrl(i+re(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Re),o.LFG(ue,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ve=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=V(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let l=this.prepareExternalUrl(i+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){let l=this.prepareExternalUrl(i+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Re),o.LFG(ue,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})(),xe=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(we(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+re(r))}normalize(t){return n.stripTrailingSlash(function Qe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=re;static#t=this.joinWithSlash=V;static#n=this.stripTrailingSlash=Z;static#r=this.\u0275fac=function(r){return new(r||n)(o.LFG(Oe))};static#i=this.\u0275prov=o.Yz7({token:n,factory:function(){return function Ae(){return new xe((0,o.LFG)(Oe))}()},providedIn:"root"})}return n})();function we(n){return n.replace(/\/index.html$/,"")}var K=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(K||{}),k=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(k||{}),W=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(W||{}),pe=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(pe||{});function te(n,e){return wt((0,o.cg1)(n)[o.wAp.DateFormat],e)}function oe(n,e){return wt((0,o.cg1)(n)[o.wAp.TimeFormat],e)}function J(n,e){return wt((0,o.cg1)(n)[o.wAp.DateTimeFormat],e)}function de(n,e){const t=(0,o.cg1)(n),r=t[o.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===pe.CurrencyDecimal)return t[o.wAp.NumberSymbols][pe.Decimal];if(e===pe.CurrencyGroup)return t[o.wAp.NumberSymbols][pe.Group]}return r}function Ze(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ar(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ca=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hs={},es=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Kn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Kn||{}),Ct=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ct||{}),Ot=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ot||{});function Br(n,e,t,r){let i=function F(n){if(le(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,l=1]=n.split("-").map(f=>+f);return yt(i,u-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ca))return function $(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,g=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,l,f,g,v),e}(r)}const e=new Date(n);if(!le(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=dr(t,e)||e;let f,l=[];for(;e;){if(f=es.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const T=l.pop();if(!T)break;e=T}}let g=i.getTimezoneOffset();r&&(g=Qt(r,g),i=function U(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function tr(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Qt(e,i)-i))}(i,r,!0));let v="";return l.forEach(T=>{const A=function zt(n){if(ct[n])return ct[n];let e;switch(n){case"G":case"GG":case"GGG":e=Gt(Ot.Eras,k.Abbreviated);break;case"GGGG":e=Gt(Ot.Eras,k.Wide);break;case"GGGGG":e=Gt(Ot.Eras,k.Narrow);break;case"y":e=rn(Ct.FullYear,1,0,!1,!0);break;case"yy":e=rn(Ct.FullYear,2,0,!0,!0);break;case"yyy":e=rn(Ct.FullYear,3,0,!1,!0);break;case"yyyy":e=rn(Ct.FullYear,4,0,!1,!0);break;case"Y":e=We(1);break;case"YY":e=We(2,!0);break;case"YYY":e=We(3);break;case"YYYY":e=We(4);break;case"M":case"L":e=rn(Ct.Month,1,1);break;case"MM":case"LL":e=rn(Ct.Month,2,1);break;case"MMM":e=Gt(Ot.Months,k.Abbreviated);break;case"MMMM":e=Gt(Ot.Months,k.Wide);break;case"MMMMM":e=Gt(Ot.Months,k.Narrow);break;case"LLL":e=Gt(Ot.Months,k.Abbreviated,K.Standalone);break;case"LLLL":e=Gt(Ot.Months,k.Wide,K.Standalone);break;case"LLLLL":e=Gt(Ot.Months,k.Narrow,K.Standalone);break;case"w":e=fe(1);break;case"ww":e=fe(2);break;case"W":e=fe(1,!0);break;case"d":e=rn(Ct.Date,1);break;case"dd":e=rn(Ct.Date,2);break;case"c":case"cc":e=rn(Ct.Day,1);break;case"ccc":e=Gt(Ot.Days,k.Abbreviated,K.Standalone);break;case"cccc":e=Gt(Ot.Days,k.Wide,K.Standalone);break;case"ccccc":e=Gt(Ot.Days,k.Narrow,K.Standalone);break;case"cccccc":e=Gt(Ot.Days,k.Short,K.Standalone);break;case"E":case"EE":case"EEE":e=Gt(Ot.Days,k.Abbreviated);break;case"EEEE":e=Gt(Ot.Days,k.Wide);break;case"EEEEE":e=Gt(Ot.Days,k.Narrow);break;case"EEEEEE":e=Gt(Ot.Days,k.Short);break;case"a":case"aa":case"aaa":e=Gt(Ot.DayPeriods,k.Abbreviated);break;case"aaaa":e=Gt(Ot.DayPeriods,k.Wide);break;case"aaaaa":e=Gt(Ot.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":e=Gt(Ot.DayPeriods,k.Abbreviated,K.Standalone,!0);break;case"bbbb":e=Gt(Ot.DayPeriods,k.Wide,K.Standalone,!0);break;case"bbbbb":e=Gt(Ot.DayPeriods,k.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":e=Gt(Ot.DayPeriods,k.Abbreviated,K.Format,!0);break;case"BBBB":e=Gt(Ot.DayPeriods,k.Wide,K.Format,!0);break;case"BBBBB":e=Gt(Ot.DayPeriods,k.Narrow,K.Format,!0);break;case"h":e=rn(Ct.Hours,1,-12);break;case"hh":e=rn(Ct.Hours,2,-12);break;case"H":e=rn(Ct.Hours,1);break;case"HH":e=rn(Ct.Hours,2);break;case"m":e=rn(Ct.Minutes,1);break;case"mm":e=rn(Ct.Minutes,2);break;case"s":e=rn(Ct.Seconds,1);break;case"ss":e=rn(Ct.Seconds,2);break;case"S":e=rn(Ct.FractionalSeconds,1);break;case"SS":e=rn(Ct.FractionalSeconds,2);break;case"SSS":e=rn(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Nt(Kn.Short);break;case"ZZZZZ":e=Nt(Kn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nt(Kn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nt(Kn.Long);break;default:return null}return ct[n]=e,e}(T);v+=A?A(i,t,g):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function yt(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function dr(n,e){const t=function cn(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(Hs[t]=Hs[t]||{},Hs[t][e])return Hs[t][e];let r="";switch(e){case"shortDate":r=te(n,W.Short);break;case"mediumDate":r=te(n,W.Medium);break;case"longDate":r=te(n,W.Long);break;case"fullDate":r=te(n,W.Full);break;case"shortTime":r=oe(n,W.Short);break;case"mediumTime":r=oe(n,W.Medium);break;case"longTime":r=oe(n,W.Long);break;case"fullTime":r=oe(n,W.Full);break;case"short":const i=dr(n,"shortTime"),u=dr(n,"shortDate");r=ts(J(n,W.Short),[i,u]);break;case"medium":const l=dr(n,"mediumTime"),f=dr(n,"mediumDate");r=ts(J(n,W.Medium),[l,f]);break;case"long":const g=dr(n,"longTime"),v=dr(n,"longDate");r=ts(J(n,W.Long),[g,v]);break;case"full":const T=dr(n,"fullTime"),A=dr(n,"fullDate");r=ts(J(n,W.Full),[T,A])}return r&&(Hs[t][e]=r),r}function ts(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Bt(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),u+l}function rn(n,e,t=0,r=!1,i=!1){return function(u,l){let f=function mn(n,e){switch(n){case Ct.FullYear:return e.getFullYear();case Ct.Month:return e.getMonth();case Ct.Date:return e.getDate();case Ct.Hours:return e.getHours();case Ct.Minutes:return e.getMinutes();case Ct.Seconds:return e.getSeconds();case Ct.FractionalSeconds:return e.getMilliseconds();case Ct.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||f>-t)&&(f+=t),n===Ct.Hours)0===f&&-12===t&&(f=12);else if(n===Ct.FractionalSeconds)return function ns(n,e){return Bt(n,3).substring(0,e)}(f,e);const g=de(l,pe.MinusSign);return Bt(f,e,g,r,i)}}function Gt(n,e,t=K.Format,r=!1){return function(i,u){return function Gc(n,e,t,r,i,u){switch(t){case Ot.Months:return function fn(n,e,t){const r=(0,o.cg1)(n),u=wt([r[o.wAp.MonthsFormat],r[o.wAp.MonthsStandalone]],e);return wt(u,t)}(e,i,r)[n.getMonth()];case Ot.Days:return function ln(n,e,t){const r=(0,o.cg1)(n),u=wt([r[o.wAp.DaysFormat],r[o.wAp.DaysStandalone]],e);return wt(u,t)}(e,i,r)[n.getDay()];case Ot.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(u){const v=function nn(n){const e=(0,o.cg1)(n);return Ze(e),(e[o.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Ar(r):[Ar(r[0]),Ar(r[1])])}(e),T=function Lr(n,e,t){const r=(0,o.cg1)(n);Ze(r);const u=wt([r[o.wAp.ExtraData][0],r[o.wAp.ExtraData][1]],e)||[];return wt(u,t)||[]}(e,i,r),A=v.findIndex(M=>{if(Array.isArray(M)){const[O,j]=M,G=l>=O.hours&&f>=O.minutes,X=l<j.hours||l===j.hours&&f<j.minutes;if(O.hours<j.hours){if(G&&X)return!0}else if(G||X)return!0}else if(M.hours===l&&M.minutes===f)return!0;return!1});if(-1!==A)return T[A]}return function On(n,e,t){const r=(0,o.cg1)(n),u=wt([r[o.wAp.DayPeriodsFormat],r[o.wAp.DayPeriodsStandalone]],e);return wt(u,t)}(e,i,r)[l<12?0:1];case Ot.Eras:return function pn(n,e){return wt((0,o.cg1)(n)[o.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Nt(n){return function(e,t,r){const i=-1*r,u=de(t,pe.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Kn.Short:return(i>=0?"+":"")+Bt(l,2,u)+Bt(Math.abs(i%60),2,u);case Kn.ShortGMT:return"GMT"+(i>=0?"+":"")+Bt(l,1,u);case Kn.Long:return"GMT"+(i>=0?"+":"")+Bt(l,2,u)+":"+Bt(Math.abs(i%60),2,u);case Kn.Extended:return 0===r?"Z":(i>=0?"+":"")+Bt(l,2,u)+":"+Bt(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}const la=0,Ti=4;function qe(n){return yt(n.getFullYear(),n.getMonth(),n.getDate()+(Ti-n.getDay()))}function fe(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+u)/7)}else{const u=qe(t),l=function rs(n){const e=yt(n,la,1).getDay();return yt(n,0,1+(e<=Ti?Ti:Ti+7)-e)}(u.getFullYear()),f=u.getTime()-l.getTime();i=1+Math.round(f/6048e5)}return Bt(i,n,de(r,pe.MinusSign))}}function We(n,e=!1){return function(t,r){return Bt(qe(t).getFullYear(),n,de(r,pe.MinusSign),e)}}const ct={};function Qt(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function le(n){return n instanceof Date&&!isNaN(n.valueOf())}function _u(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class Sp{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Di=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Sp(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const f=r.get(u);r.move(f,l),_n(f,i)}});for(let i=0,u=r.length;i<u;i++){const f=r.get(i).context;f.index=i,f.count=u,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_n(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function _n(n,e){n.context.$implicit=e.item}let fr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new vu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Wc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Wc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.s_b),o.Y36(o.Rgc))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class vu{constructor(){this.$implicit=null,this.ngIf=null}}function Wc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}const E_=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Jc=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Xc=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,u){if(null==t||""===t||t!=t)return null;try{return Br(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function oi(n,e){return new o.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.soG,16),o.Y36(E_,24),o.Y36(Jc,24))};static#t=this.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),tn=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();function jr(n){return"server"===n}let Eo=(()=>{class n{static#e=this.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new ss((0,o.LFG)(ye),window)})}return n})();class ss{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wn(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Io{}class Ih extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Vp extends Ih{static makeCurrent(){!function se(n){L||(L=n)}(new Vp)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function SI(){return _l=_l||document.querySelector("base"),_l?_l.getAttribute("href"):null}();return null==t?null:function Bp(n){yl=yl||document.createElement("a"),yl.setAttribute("href",n);const e=yl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_l=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _u(document.cookie,e)}}let yl,_l=null,xI=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Zp=new o.OlP("EventManagerPlugins");let U_=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new o.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Zp),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class V_{constructor(e){this._doc=e}}const wh="ng-app-id";let vl=(()=>{class n{constructor(t,r,i,u={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jr(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${wh}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const u=i.get(t);return u.usage+=r,u.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,u=i?.get(r);if(u?.parentNode===t)return i.delete(r),u.removeAttribute(wh),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(wh,this.appId),l}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(i):u.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye),o.LFG(o.AFp),o.LFG(o.Ojb,8),o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ks={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xu=/%COMP%/g,qp=new o.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ga(n,e){return e.map(t=>t.replace(xu,n))}let Th=(()=>{class n{constructor(t,r,i,u,l,f,g,v=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=f,this.ngZone=g,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=jr(f),this.defaultRenderer=new Mr(t,l,g,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===o.ifc.ShadowDom&&(r={...r,encapsulation:o.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof gr?i.applyToHost(t):i instanceof Mu&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const l=this.doc,f=this.ngZone,g=this.eventManager,v=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,A=this.platformIsServer;switch(r.encapsulation){case o.ifc.Emulated:u=new gr(g,v,r,this.appId,T,l,f,A);break;case o.ifc.ShadowDom:return new Ah(g,v,t,r,l,f,this.nonce,A);default:u=new Mu(g,v,r,T,l,f,A)}i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(U_),o.LFG(vl),o.LFG(o.AFp),o.LFG(qp),o.LFG(ye),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(o.Ojb))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class Mr{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ks[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(sn(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(sn(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new o.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Ks[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ks[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,r,i&o.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=ie().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function sn(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ah extends Mr{constructor(e,t,r,i,u,l,f,g){super(e,u,l,g),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=ga(i.id,i.styles);for(const T of v){const A=document.createElement("style");f&&A.setAttribute("nonce",f),A.textContent=T,this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Mu extends Mr{constructor(e,t,r,i,u,l,f,g){super(e,u,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=g?ga(g,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gr extends Mu{constructor(e,t,r,i,u,l,f,g){const v=i+"-"+r.id;super(e,t,r,u,l,f,g,v),this.contentAttr=function $p(n){return"_ngcontent-%COMP%".replace(xu,n)}(v),this.hostAttr=function Ch(n){return"_nghost-%COMP%".replace(xu,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let NI=(()=>{class n extends V_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Nu=["alt","control","meta","shift"],ma={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ai={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ru=(()=>{class n extends V_{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ie().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Nu.forEach(v=>{const T=r.indexOf(v);T>-1&&(r.splice(T,1),l+=v+".")}),l+=u,0!=r.length||0===u.length)return null;const g={};return g.domEventName=i,g.fullKey=l,g}static matchEventFullKeyCode(t,r){let i=ma[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Nu.forEach(l=>{l!==i&&(0,ai[l])(t)&&(u+=l+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Gp=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function j_(){Vp.makeCurrent()},multi:!0},{provide:ye,useFactory:function Hp(){return(0,o.RDi)(document),document},deps:[]}]),ft=new o.OlP(""),_a=[{provide:o.rWj,useClass:class L_{addToWindow(e){o.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new o.vHH(5103,!1);return u},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(r=>{const i=o.dqk.getAllAngularTestabilities();let u=i.length,l=!1;const f=function(g){l=l||g,u--,0==u&&r(l)};i.forEach(g=>{g.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ie().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],zp=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Il(){return new o.qLn},deps:[]},{provide:Zp,useClass:NI,multi:!0,deps:[ye,o.R0b,o.Lbi]},{provide:Zp,useClass:Ru,multi:!0,deps:[ye]},Th,vl,U_,{provide:o.FYo,useExisting:Th},{provide:Io,useClass:xI,deps:[]},[]];let ya=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ft,12))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[...zp,..._a],imports:[tn,o.hGG]})}return n})(),wl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Co(){return new wl((0,o.LFG)(ye))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let Ou=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(r){let i=null;return i=r?new(r||n):o.LFG(us),i},providedIn:"root"})}return n})(),us=(()=>{class n extends Ou{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case o.q3G.NONE:return r;case o.q3G.HTML:return(0,o.qzn)(r,"HTML")?(0,o.z3N)(r):(0,o.EiD)(this._doc,String(r)).toString();case o.q3G.STYLE:return(0,o.qzn)(r,"Style")?(0,o.z3N)(r):r;case o.q3G.SCRIPT:if((0,o.qzn)(r,"Script"))return(0,o.z3N)(r);throw new o.vHH(5200,!1);case o.q3G.URL:return(0,o.qzn)(r,"URL")?(0,o.z3N)(r):(0,o.mCW)(String(r));case o.q3G.RESOURCE_URL:if((0,o.qzn)(r,"ResourceURL"))return(0,o.z3N)(r);throw new o.vHH(5201,!1);default:throw new o.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,o.JVY)(t)}bypassSecurityTrustStyle(t){return(0,o.L6k)(t)}bypassSecurityTrustScript(t){return(0,o.eBb)(t)}bypassSecurityTrustUrl(t){return(0,o.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,o.pB0)(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Nr(n){return new us(n.get(ye))}(o.LFG(o.zs3)),i},providedIn:"root"})}return n})();var nr=P(5592),bs=P(4674),Cn=P(2459),ut=P(2096),rr=P(5619);const{isArray:Fu}=Array,{getPrototypeOf:bl,prototype:Xp,keys:Al}=Object;function Dl(n){if(1===n.length){const e=n[0];if(Fu(e))return{args:e,keys:null};if(function To(n){return n&&"object"==typeof n&&bl(n)===Xp}(e)){const t=Al(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var bo=P(2737),gt=P(7398);const{isArray:Ao}=Array;function Sl(n){return(0,gt.U)(e=>function vn(n,e){return Ao(e)?n(...e):n(e)}(n,e))}var va=P(4564);function eg(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ui=P(8251),xl=P(7103);function Ml(...n){const e=(0,va.yG)(n),t=(0,va.jO)(n),{args:r,keys:i}=Dl(n);if(0===r.length)return(0,Cn.D)([],e);const u=new nr.y(function Ea(n,e,t=bo.y){return r=>{As(e,()=>{const{length:i}=n,u=new Array(i);let l=i,f=i;for(let g=0;g<i;g++)As(e,()=>{const v=(0,Cn.D)(n[g],e);let T=!1;v.subscribe((0,ui.x)(r,A=>{u[g]=A,T||(T=!0,f--),f||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>eg(i,l):bo.y));return t?u.pipe(Sl(t)):u}function As(n,e,t){n?(0,xl.f)(t,n,e):e()}const Ds=(0,P(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qs=P(7537);function Lu(...n){return function Js(){return(0,Qs.J)(1)}()((0,Cn.D)(n,(0,va.yG)(n)))}var Uu=P(4829);function Vu(n){return new nr.y(e=>{(0,Uu.Xf)(n()).subscribe(e)})}var Oh=P(8407);function Ri(n,e){const t=(0,bs.m)(n)?n:()=>n,r=i=>i.error(t());return new nr.y(e?i=>e.schedule(r,0,i):r)}var Pi=P(6232),Bu=P(7394),ci=P(9360);function Ia(){return(0,ci.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ui.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class W_ extends nr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ci.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ui.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bu.w0.EMPTY)}return e}refCount(){return Ia()(this)}}var cs=P(8645),xn=P(4664);function Zu(n){return n<=0?()=>Pi.E:(0,ci.e)((e,t)=>{let r=0;e.subscribe((0,ui.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function qr(n,e){return(0,ci.e)((t,r)=>{let i=0;t.subscribe((0,ui.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var jn=P(1631);function Nl(n){return(0,ci.e)((e,t)=>{let r=!1;e.subscribe((0,ui.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Xs(n=kh){return(0,ci.e)((e,t)=>{let r=!1;e.subscribe((0,ui.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function kh(){return new Ds}function li(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qr((i,u)=>n(i,u,r)):bo.y,Zu(1),t?Nl(e):Xs(()=>new Ds))}function Do(n,e){return(0,bs.m)(e)?(0,jn.z)(n,e,1):(0,jn.z)(n,1)}function Mn(n,e,t){const r=(0,bs.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,ci.e)((i,u)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let f=!0;i.subscribe((0,ui.x)(u,g=>{var v;null===(v=r.next)||void 0===v||v.call(r,g),u.next(g)},()=>{var g;f=!1,null===(g=r.complete)||void 0===g||g.call(r),u.complete()},g=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,g),u.error(g)},()=>{var g,v;f&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):bo.y}function Ss(n){return(0,ci.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,ui.x)(t,void 0,void 0,l=>{u=(0,Uu.Xf)(n(l,Ss(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Rl(n){return n<=0?()=>Pi.E:(0,ci.e)((e,t)=>{let r=[];e.subscribe((0,ui.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function wa(n){return(0,ci.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var qu=P(2420);const Dt="primary",Ca=Symbol("RouteTitle");class tg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xs(n){return new tg(n)}function ng(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const l=r[u],f=n[u];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $r(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!eo(n[i],e[i]))return!1;return!0}function eo(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Hu(n){return n.length>0?n[n.length-1]:null}function Ms(n){return function Rh(n){return!!n&&(n instanceof nr.y||(0,bs.m)(n.lift)&&(0,bs.m)(n.subscribe))}(n)?n:(0,o.QGY)(n)?(0,Cn.D)(Promise.resolve(n)):(0,ut.of)(n)}const rg={exact:function sg(n,e,t){if(!Ns(n.segments,e.segments)||!Gu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!sg(n.children[r],e.children[r],t))return!1;return!0},subset:Ol},Ta={exact:function Rr(n,e){return $r(n,e)},subset:function og(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>eo(n[t],e[t]))},ignored:()=>!0};function ig(n,e,t){return rg[t.paths](n.root,e.root,t.matrixParams)&&Ta[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ol(n,e,t){return kl(n,e,e.segments,t)}function kl(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ns(i,t)||e.hasChildren()||!Gu(i,t,r))}if(n.segments.length===t.length){if(!Ns(n.segments,t)||!Gu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ol(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ns(n.segments,i)&&Gu(n.segments,i,r)&&n.children[Dt])&&kl(n.children[Dt],e,u,r)}}function Gu(n,e,t){return e.every((r,i)=>Ta[t](n[i].parameters,r.parameters))}class to{constructor(e=new Vt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xs(this.queryParams)),this._queryParamMap}toString(){return Y_.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uh(this)}}class ds{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xs(this.parameters)),this._parameterMap}toString(){return Fl(this)}}function Ns(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let hs=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return new ag},providedIn:"root"})}return n})();class ag{parse(e){const t=new UI(e);return new to(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Aa(e.root,!0)}`,r=function LI(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Bh(t)}=${Bh(i)}`).join("&"):`${Bh(t)}=${Bh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ug(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Y_=new ag;function Uh(n){return n.segments.map(e=>Fl(e)).join("/")}function Aa(n,e){if(!n.hasChildren())return Uh(n);if(e){const t=n.children[Dt]?Aa(n.children[Dt],!1):"",r=[];return Object.entries(n.children).forEach(([i,u])=>{i!==Dt&&r.push(`${i}:${Aa(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Lh(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Dt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Dt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Dt?[Aa(n.children[Dt],!1)]:[`${i}:${Aa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${Uh(n)}/${t[0]}`:`${Uh(n)}/(${t.join("//")})`}}function Vh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bh(n){return Vh(n).replace(/%3B/gi,";")}function cg(n){return Vh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fs(n){return decodeURIComponent(n)}function lg(n){return fs(n.replace(/\+/g,"%20"))}function Fl(n){return`${cg(n.path)}${function qn(n){return Object.keys(n).map(e=>`;${cg(e)}=${cg(n[e])}`).join("")}(n.parameters)}`}const So=/^[^\/()?;#]+/;function Ll(n){const e=n.match(So);return e?e[0]:""}const Pr=/^[^\/()?;=#]+/,Zh=/^[^=?&#]+/,zu=/^[^&#]+/;class UI{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Dt]=new Vt(e,t)),r}parseSegment(){const e=Ll(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(e),new ds(fs(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function xo(n){const e=n.match(Pr);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ll(this.remaining);i&&(r=i,this.capture(r))}e[fs(t)]=fs(r)}parseQueryParam(e){const t=function Ul(n){const e=n.match(Zh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Q_(n){const e=n.match(zu);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=lg(t),u=lg(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ll(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new o.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Dt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Dt]:new Vt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,!1)}}function dg(n){return n.segments.length>0?new Vt([],{[Dt]:n}):n}function hg(n){const e={};for(const r of Object.keys(n.children)){const u=hg(n.children[r]);if(r===Dt&&0===u.segments.length&&u.hasChildren())for(const[l,f]of Object.entries(u.children))e[l]=f;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function di(n){if(1===n.numberOfChildren&&n.children[Dt]){const e=n.children[Dt];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}function no(n){return n instanceof to}function m(n){let e;const i=dg(function t(u){const l={};for(const g of u.children){const v=t(g);l[g.outlet]=v}const f=new Vt(u.url,l);return u===n&&(e=f),f}(n.root));return e??i}function _(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return x(i,i,i,t,r);const u=function Pe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ee(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Object.entries(u.outlets).forEach(([g,v])=>{f[g]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===l?(u.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new ee(t,e,r)}(e);if(u.toRoot())return x(i,i,new Vt([],{}),t,r);const l=function et(n,e,t){if(n.isAbsolute)return new Le(e,!0,0);if(!t)return new Le(e,!1,NaN);if(null===t.parent)return new Le(t,!0,0);const r=w(n.commands[0])?0:1;return function kt(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new o.vHH(4005,!1);i=r.segments.length}return new Le(r,!1,i-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,i,n),f=l.processChildren?Gi(l.segmentGroup,l.index,u.commands):Rs(l.segmentGroup,l.index,u.commands);return x(i,l.segmentGroup,f,t,r)}function w(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function D(n){return"object"==typeof n&&null!=n&&n.outlets}function x(n,e,t,r,i){let l,u={};r&&Object.entries(r).forEach(([g,v])=>{u[g]=Array.isArray(v)?v.map(T=>`${T}`):`${v}`}),l=n===e?t:q(n,e,t);const f=dg(hg(l));return new to(f,u,i)}function q(n,e,t){const r={};return Object.entries(n.children).forEach(([i,u])=>{r[i]=u===e?t:q(u,e,t)}),new Vt(n.segments,r)}class ee{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&w(r[0]))throw new o.vHH(4003,!1);const i=r.find(D);if(i&&i!==Hu(r))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Le{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Rs(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return Gi(n,e,t);const r=function fg(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const l=n.segments[i],f=t[r];if(D(f))break;const g=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!Wu(g,v,l))return u;r+=2}else{if(!Wu(g,{},l))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Vt(n.segments.slice(0,r.pathIndex),{});return u.children[Dt]=new Vt(n.segments.slice(r.pathIndex),n.children),Gi(u,0,i)}return r.match&&0===i.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?Da(n,e,t):r.match?Gi(n,0,i):Da(n,e,t)}function Gi(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function ir(n){return D(n[0])?n[0].outlets:{[Dt]:n}}(t),i={};if(Object.keys(r).some(u=>u!==Dt)&&n.children[Dt]&&1===n.numberOfChildren&&0===n.children[Dt].segments.length){const u=Gi(n.children[Dt],e,t);return new Vt(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[u]=Rs(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(i[u]=l)}),new Vt(n.segments,i)}}function Da(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(D(u)){const g=Vl(u.outlets);return new Vt(r,g)}if(0===i&&w(t[0])){r.push(new ds(n.segments[e].path,Sa(t[0]))),i++;continue}const l=D(u)?u.outlets[Dt]:`${u}`,f=i<t.length-1?t[i+1]:null;l&&f&&w(f)?(r.push(new ds(l,Sa(f))),i+=2):(r.push(new ds(l,{})),i++)}return new Vt(r,{})}function Vl(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Da(new Vt([],{}),0,r))}),e}function Sa(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Wu(n,e,t){return n==t.path&&$r(e,t.parameters)}const xa="imperative";class zi{constructor(e,t){this.id=e,this.url=t}}class Wi extends zi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hi extends zi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ku extends zi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mo extends zi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Yu extends zi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VI extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e2 extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l1 extends zi{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class d1 extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h1 extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BI{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class f1{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZI{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jI{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p1{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class J_{}class X_{constructor(e){this.url=e}}class n2{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gg,this.attachRef=null}}let gg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new n2,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class mg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$I(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=$I(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=HI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return HI(e,this._root).map(t=>t.value)}}function $I(n,e){if(n===e.value)return e;for(const t of e.children){const r=$I(n,t);if(r)return r}return null}function HI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=HI(n,t);if(r.length)return r.unshift(e),r}return[]}class Ma{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class g1 extends mg{constructor(e,t){super(e),this.snapshot=t,yg(this,e)}toString(){return this.snapshot.toString()}}function GI(n,e){const t=function _g(n,e){const l=new qh([],{},{},"",{},Dt,e,null,{});return new Qu("",new Ma(l,[]))}(0,e),r=new rr.X([new ds("",{})]),i=new rr.X({}),u=new rr.X({}),l=new rr.X({}),f=new rr.X(""),g=new fi(r,i,l,f,u,Dt,e,t.root);return g.snapshot=t.root,new g1(new Ma(g,[]),t)}class fi{constructor(e,t,r,i,u,l,f,g){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=u,this.outlet=l,this.component=f,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,gt.U)(v=>v[Ca]))??(0,ut.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>xs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>xs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ey(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function zI(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qh{get title(){return this.data?.[Ca]}constructor(e,t,r,i,u,l,f,g,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=f,this.routeConfig=g,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qu extends mg{constructor(e,t){super(t),this.url=e,yg(this,t)}toString(){return ty(this._root)}}function yg(n,e){e.value._routerState=n,e.children.forEach(t=>yg(n,t))}function ty(n){const e=n.children.length>0?` { ${n.children.map(ty).join(", ")} } `:"";return`${n.value}${e}`}function Bl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$r(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$r(e.params,t.params)||n.paramsSubject.next(t.params),function K_(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$r(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),$r(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Zl(n,e){const t=$r(n.params,e.params)&&function ba(n,e){return Ns(n,e)&&n.every((t,r)=>$r(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zl(n.parent,e.parent))}let jl=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dt,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(gg),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb),this.inputBinder=(0,o.f3M)(vg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new o.vHH(4013,!1);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new m1(t,f,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]})}return n})();class m1{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===fi?this.route:e===gg?this.childContexts:this.parent.get(e,t)}}const vg=new o.OlP("");let WI=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Ml([r.queryParams,r.params,r.data]).pipe((0,xn.w)(([u,l,f],g)=>(f={...u,...l,...f},0===g?(0,ut.of)(f):Promise.resolve(f)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,o.qFp)(r.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,u[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function Ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function _1(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ju(n,r,i);return Ju(n,r)})}(n,e,t);return new Ma(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Ju(n,f)),l}}const r=function y1(n){return new fi(new rr.X(n.url),new rr.X(n.params),new rr.X(n.queryParams),new rr.X(n.fragment),new rr.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Ju(n,u));return new Ma(r,i)}}const ny="ngNavigationCancelingError";function ry(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=no(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function YI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ny]=!0,r.cancellationCode=e,t&&(r.url=t),r}function pi(n){return n&&n[ny]}let Eg=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(r,i){1&r&&o._UZ(0,"router-outlet")},dependencies:[jl],encapsulation:2})}return n})();function wg(n){const e=n.children&&n.children.map(wg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=Eg),t}function Ps(n){return n.outlet||Dt}function $h(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class sy{constructor(e,t,r,i,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Bl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=jh(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,i[l],r),delete i[l]}),Object.values(i).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=jh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=jh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=jh(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new jI(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ZI(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Bl(i),i===u)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Bl(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=$h(i.snapshot);l.attachRef=null,l.route=i,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class nw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Na{constructor(e,t){this.component=e,this.route=t}}function w1(n,e,t){const r=n._root;return ql(r,e?e._root:null,t,[r.value])}function Xu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,o.Z0I)(n)?e.get(n):n:r}function ql(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=jh(e);return n.children.forEach(l=>{(function rw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const g=function $l(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ns(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(n.url,e.url)||!$r(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zl(n,e)||!$r(n.queryParams,e.queryParams);default:return!Zl(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new nw(r)):(u.data=l.data,u._resolvedData=l._resolvedData),ql(n,e,u.component?f?f.children:null:t,r,i),g&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Na(f.outlet.component,l))}else l&&Ra(e,f,i),i.canActivateChecks.push(new nw(r)),ql(n,null,u.component?f?f.children:null:t,r,i)})(l,u[l.value.outlet],t,r.concat([l.value]),i),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,f])=>Ra(f,t.getContext(l),i)),i}function Ra(n,e,t){const r=jh(n),i=n.value;Object.entries(r).forEach(([u,l])=>{Ra(l,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Na(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Hl(n){return"function"==typeof n}function ay(n){return n instanceof Ds||"EmptyError"===n?.name}const ec=Symbol("INITIAL_VALUE");function Pa(){return(0,xn.w)(n=>Ml(n.map(e=>e.pipe(Zu(1),function FI(...n){const e=(0,va.yG)(n);return(0,ci.e)((t,r)=>{(e?Lu(n,t,e):Lu(n,t)).subscribe(r)})}(ec)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===ec)return ec;if(!1===t||t instanceof to)return t}return!0}),qr(e=>e!==ec),Zu(1)))}function R1(n){return(0,Oh.z)(Mn(e=>{if(no(e))throw ry(0,e)}),(0,gt.U)(e=>!0===e))}class bg{constructor(e){this.segmentGroup=e||null}}class ly{constructor(e){this.urlTree=e}}function nc(n){return Ri(new bg(n))}function dy(n){return Ri(new ly(n))}class Ag{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new o.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,ut.of)(r);if(i.numberOfChildren>1||!i.children[Dt])return Ri(new o.vHH(4e3,!1));i=i.children[Dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new to(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,u])=>{if("string"==typeof u&&u.startsWith(":")){const f=u.substring(1);r[i]=t[f]}else r[i]=u}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let l={};return Object.entries(t.children).forEach(([f,g])=>{l[f]=this.createSegmentGroup(e,g,r,i)}),new Vt(u,l)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new o.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const rc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uw(n,e,t,r,i){const u=Hh(n,e,t);return u.matched?(r=function QI(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Tg(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,ut.of)(!0);const u=i.map(l=>{const f=Xu(l,n);return Ms(function D1(n){return n&&Hl(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,ut.of)(u).pipe(Pa(),R1())}(r,e,t).pipe((0,gt.U)(l=>!0===l?u:{...rc}))):(0,ut.of)(u)}function Hh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...rc}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ng)(t,n,e);if(!i)return{...rc};const u={};Object.entries(i.posParams??{}).forEach(([f,g])=>{u[f]=g.path});const l=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Gh(n,e,t,r){return t.length>0&&function zh(n,e,t){return t.some(r=>Wh(n,e,r)&&Ps(r)!==Dt)}(n,t,r)?{segmentGroup:new Vt(e,fy(r,new Vt(t,n.children))),slicedSegments:[]}:0===t.length&&function P1(n,e,t){return t.some(r=>Wh(n,e,r))}(n,t,r)?{segmentGroup:new Vt(n.segments,cw(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Vt(n.segments,n.children),slicedSegments:t}}function cw(n,e,t,r,i){const u={};for(const l of r)if(Wh(n,t,l)&&!i[Ps(l)]){const f=new Vt([],{});u[Ps(l)]=f}return{...i,...u}}function fy(n,e){const t={};t[Dt]=e;for(const r of n)if(""===r.path&&Ps(r)!==Dt){const i=new Vt([],{});t[Ps(r)]=i}return t}function Wh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class lw{constructor(e,t,r,i,u,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new Ag(this.urlSerializer,this.urlTree)}noMatchError(e){return new o.vHH(4002,!1)}recognize(){const e=Gh(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Dt).pipe(Ss(t=>{if(t instanceof ly)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof bg?this.noMatchError(t):t}),(0,gt.U)(t=>{const r=new qh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dt,this.rootComponentType,null,{}),i=new Ma(r,t),u=new Qu("",i),l=function I(n,e,t=null,r=null){return _(m(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Dt).pipe(Ss(r=>{throw r instanceof bg?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=ey(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Cn.D)(i).pipe(Do(u=>{const l=r.children[u],f=function tw(n,e){const t=n.filter(r=>Ps(r)===e);return t.push(...n.filter(r=>Ps(r)!==e)),t}(t,u);return this.processSegmentGroup(e,f,l,u)}),function ls(n,e){return(0,ci.e)(function Fh(n,e,t,r,i){return(u,l)=>{let f=t,g=e,v=0;u.subscribe((0,ui.x)(l,T=>{const A=v++;g=f?n(g,T,A):(f=!0,T),r&&l.next(g)},i&&(()=>{f&&l.next(g),l.complete()})))}}(n,e,arguments.length>=2,!0))}((u,l)=>(u.push(...l),u)),Nl(null),function ju(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qr((i,u)=>n(i,u,r)):bo.y,Rl(1),t?Nl(e):Xs(()=>new Ds))}(),(0,jn.z)(u=>{if(null===u)return nc(r);const l=Sg(u);return function dw(n){n.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,ut.of)(l)}))}processSegment(e,t,r,i,u,l){return(0,Cn.D)(t).pipe(Do(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,r,i,u,l).pipe(Ss(g=>{if(g instanceof bg)return(0,ut.of)(null);throw g}))),li(f=>!!f),Ss(f=>{if(ay(f))return function k1(n,e,t){return 0===e.length&&!n.children[t]}(r,i,u)?(0,ut.of)([]):nc(r);throw f}))}processSegmentAgainstRoute(e,t,r,i,u,l,f){return function O1(n,e,t,r){return!!(Ps(n)===r||r!==Dt&&Wh(e,t,n))&&("**"===n.path||Hh(e,n,t).matched)}(r,i,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,u,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,u,l):nc(i):nc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dy(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,jn.z)(l=>{const f=new Vt(l,{});return this.processSegment(e,t,f,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){const{matched:f,consumedSegments:g,remainingSegments:v,positionalParamSegments:T}=Hh(t,i,u);if(!f)return nc(t);const A=this.applyRedirects.applyRedirectCommands(g,i.redirectTo,T);return i.redirectTo.startsWith("/")?dy(A):this.applyRedirects.lineralizeSegments(i,A).pipe((0,jn.z)(M=>this.processSegment(e,r,t,M.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,u,l){let f;if("**"===r.path){const g=i.length>0?Hu(i).parameters:{},v=new qh(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hw(r),Ps(r),r.component??r._loadedComponent??null,r,fw(r));f=(0,ut.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=uw(t,r,i,e).pipe((0,gt.U)(({matched:g,consumedSegments:v,remainingSegments:T,parameters:A})=>g?{snapshot:new qh(v,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hw(r),Ps(r),r.component??r._loadedComponent??null,r,fw(r)),consumedSegments:v,remainingSegments:T}:null));return f.pipe((0,xn.w)(g=>null===g?nc(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,xn.w)(({routes:v})=>{const T=r._loadedInjector??e,{snapshot:A,consumedSegments:M,remainingSegments:O}=g,{segmentGroup:j,slicedSegments:G}=Gh(t,M,O,v);if(0===G.length&&j.hasChildren())return this.processChildren(T,v,j).pipe((0,gt.U)(Ce=>null===Ce?null:[new Ma(A,Ce)]));if(0===v.length&&0===G.length)return(0,ut.of)([new Ma(A,[])]);const X=Ps(r)===u;return this.processSegment(T,v,j,G,X?Dt:u,!0).pipe((0,gt.U)(Ce=>[new Ma(A,Ce)]))}))))}getChildConfig(e,t,r){return t.children?(0,ut.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,ut.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function N1(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,ut.of)(!0);const u=i.map(l=>{const f=Xu(l,n);return Ms(function Cg(n){return n&&Hl(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,ut.of)(u).pipe(Pa(),R1())}(e,t,r).pipe((0,jn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Mn(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function aw(n){return Ri(YI(!1,3))}())):(0,ut.of)({routes:[],injector:e})}}function Dg(n){const e=n.value.routeConfig;return e&&""===e.path}function Sg(n){const e=[],t=new Set;for(const r of n){if(!Dg(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Sg(r.children);e.push(new Ma(r.value,i))}return e.filter(r=>!t.has(r))}function hw(n){return n.data||{}}function fw(n){return n.resolve||{}}function Mg(n){return"string"==typeof n.title||null===n.title}function Ng(n){return(0,xn.w)(e=>{const t=n(e);return t?(0,Cn.D)(t).pipe((0,gt.U)(()=>e)):(0,ut.of)(e)})}const ic=new o.OlP("ROUTES");let Rg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ut.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ms(t.loadComponent()).pipe((0,gt.U)(pw),Mn(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),wa(()=>{this.componentLoaders.delete(t)})),i=new W_(r,()=>new cs.x).pipe(Ia());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,ut.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function sc(n,e,t,r){return Ms(n.loadChildren()).pipe((0,gt.U)(pw),(0,jn.z)(i=>i instanceof o.YKP||Array.isArray(i)?(0,ut.of)(i):(0,Cn.D)(e.compileModuleAsync(i))),(0,gt.U)(i=>{r&&r(n);let u,l,f=!1;return Array.isArray(i)?(l=i,!0):(u=i.create(t).injector,l=u.get(ic,[],{optional:!0,self:!0}).flat()),{routes:l.map(wg),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(wa(()=>{this.childrenLoaders.delete(r)})),l=new W_(u,()=>new cs.x).pipe(Ia());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pw(n){return function V1(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Pg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new cs.x,this.transitionAbortSubject=new cs.x,this.configLoader=(0,o.f3M)(Rg),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(hs),this.rootContexts=(0,o.f3M)(gg),this.inputBindingEnabled=null!==(0,o.f3M)(vg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ut.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new BI(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new pg(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new rr.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qr(u=>0!==u.id),(0,gt.U)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,xn.w)(u=>{this.currentTransition=u;let l=!1,f=!1;return(0,ut.of)(u).pipe(Mn(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xn.w)(g=>{const v=g.currentBrowserUrl.toString(),T=!t.navigated||g.extractedUrl.toString()!==v||v!==g.currentUrlTree.toString();if(!T&&"reload"!==(g.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new Mo(g.id,this.urlSerializer.serialize(g.rawUrl),M,0)),g.resolve(null),Pi.E}if(t.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return(0,ut.of)(g).pipe((0,xn.w)(M=>{const O=this.transitions?.getValue();return this.events.next(new Wi(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),O!==this.transitions?.getValue()?Pi.E:Promise.resolve(M)}),function o2(n,e,t,r,i,u){return(0,jn.z)(l=>function F1(n,e,t,r,i,u,l="emptyOnly"){return new lw(n,e,t,r,i,l,u).recognize()}(n,e,t,r,l.extractedUrl,i,u).pipe((0,gt.U)(({state:f,tree:g})=>({...l,targetSnapshot:f,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Mn(M=>{u.targetSnapshot=M.targetSnapshot,u.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects};const O=new VI(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(O)}));if(T&&t.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:M,extractedUrl:O,source:j,restoredState:G,extras:X}=g,Ce=new Wi(M,this.urlSerializer.serialize(O),j,G);this.events.next(Ce);const Fe=GI(0,this.rootComponentType).snapshot;return this.currentTransition=u={...g,targetSnapshot:Fe,urlAfterRedirects:O,extras:{...X,skipLocationChange:!1,replaceUrl:!1}},(0,ut.of)(u)}{const M="";return this.events.next(new Mo(g.id,this.urlSerializer.serialize(g.extractedUrl),M,1)),g.resolve(null),Pi.E}}),Mn(g=>{const v=new e2(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}),(0,gt.U)(g=>(this.currentTransition=u={...g,guards:w1(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},u)),function uy(n,e){return(0,jn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,ut.of)({...t,guardsResult:!0}):function x1(n,e,t,r){return(0,Cn.D)(n).pipe((0,jn.z)(i=>function ow(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,ut.of)(!0);const l=u.map(f=>{const g=$h(e)??i,v=Xu(f,g);return Ms(function A1(n){return n&&Hl(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):g.runInContext(()=>v(n,e,t,r))).pipe(li())});return(0,ut.of)(l).pipe(Pa())}(i.component,i.route,t,e,r)),li(i=>!0!==i,!0))}(l,r,i,n).pipe((0,jn.z)(f=>f&&function oy(n){return"boolean"==typeof n}(f)?function M1(n,e,t,r){return(0,Cn.D)(e).pipe(Do(i=>Lu(function iw(n,e){return null!==n&&e&&e(new f1(n)),(0,ut.of)(!0)}(i.route.parent,r),function cy(n,e){return null!==n&&e&&e(new t2(n)),(0,ut.of)(!0)}(i.route,r),function sw(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function C1(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Vu(()=>{const f=l.guards.map(g=>{const v=$h(l.node)??t,T=Xu(g,v);return Ms(function b1(n){return n&&Hl(n.canActivateChild)}(T)?T.canActivateChild(r,n):v.runInContext(()=>T(r,n))).pipe(li())});return(0,ut.of)(f).pipe(Pa())}));return(0,ut.of)(u).pipe(Pa())}(n,i.path,t),function tc(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ut.of)(!0);const i=r.map(u=>Vu(()=>{const l=$h(e)??t,f=Xu(u,l);return Ms(function T1(n){return n&&Hl(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(li())}));return(0,ut.of)(i).pipe(Pa())}(n,i.route,t))),li(i=>!0!==i,!0))}(r,u,n,e):(0,ut.of)(f)),(0,gt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,g=>this.events.next(g)),Mn(g=>{if(u.guardsResult=g.guardsResult,no(g.guardsResult))throw ry(0,g.guardsResult);const v=new l1(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(v)}),qr(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",3),!1)),Ng(g=>{if(g.guards.canActivateChecks.length)return(0,ut.of)(g).pipe(Mn(v=>{const T=new d1(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(T)}),(0,xn.w)(v=>{let T=!1;return(0,ut.of)(v).pipe(function L1(n,e){return(0,jn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,ut.of)(t);let u=0;return(0,Cn.D)(i).pipe(Do(l=>function py(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Mg(i)&&(u[Ca]=i.title),function U1(n,e,t,r){const i=function Gl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,ut.of)({});const u={};return(0,Cn.D)(i).pipe((0,jn.z)(l=>function xg(n,e,t,r){const i=$h(e)??r,u=Xu(n,i);return Ms(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(li(),Mn(f=>{u[l]=f}))),Rl(1),function Pl(n){return(0,gt.U)(()=>n)}(u),Ss(l=>ay(l)?Pi.E:Ri(l)))}(u,n,e,r).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=ey(n,t).resolve,i&&Mg(i)&&(n.data[Ca]=i.title),null)))}(l.route,r,n,e)),Mn(()=>u++),Rl(1),(0,jn.z)(l=>u===i.length?(0,ut.of)(t):Pi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Mn({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(v,"",2)}}))}),Mn(v=>{const T=new h1(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(T)}))}),Ng(g=>{const v=T=>{const A=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(T.routeConfig).pipe(Mn(M=>{T.component=M}),(0,gt.U)(()=>{})));for(const M of T.children)A.push(...v(M));return A};return Ml(v(g.targetSnapshot.root)).pipe(Nl(),Zu(1))}),Ng(()=>this.afterPreactivation()),(0,gt.U)(g=>{const v=function KI(n,e,t){const r=Ju(n,e._root,t?t._root:void 0);return new g1(r,e)}(t.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=u={...g,targetRouterState:v},u}),Mn(()=>{this.events.next(new J_)}),((n,e,t,r)=>(0,gt.U)(i=>(new sy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),Zu(1),Mn({next:g=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hi(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),t.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{l=!0}}),function $u(n){return(0,ci.e)((e,t)=>{(0,Uu.Xf)(n).subscribe((0,ui.x)(t,()=>t.complete(),qu.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Mn(g=>{throw g}))),wa(()=>{l||f||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Ss(g=>{if(f=!0,pi(g))this.events.next(new Ku(u.id,this.urlSerializer.serialize(u.extractedUrl),g.message,g.cancellationCode)),function v1(n){return pi(n)&&no(n.url)}(g)?this.events.next(new X_(g.url)):u.resolve(!1);else{this.events.next(new Yu(u.id,this.urlSerializer.serialize(u.extractedUrl),g,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(g))}catch(v){u.reject(v)}}return Pi.E}))}))}cancelNavigationTransition(t,r,i){const u=new Ku(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gw(n){return n!==xa}let mw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Dt);return r}getResolvedTitleForRoute(t){return t.data[Ca]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(No)},providedIn:"root"})}return n})(),No=(()=>{class n extends mw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(wl))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Z1)},providedIn:"root"})}return n})();class B1{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Z1=(()=>{class n extends B1{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Og=new o.OlP("",{providedIn:"root",factory:()=>({})});let j1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(q1)},providedIn:"root"})}return n})(),q1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Yh||{});function gy(n,e){n.events.pipe(qr(t=>t instanceof hi||t instanceof Ku||t instanceof Yu||t instanceof Mo),(0,gt.U)(t=>t instanceof hi||t instanceof Mo?Yh.COMPLETE:t instanceof Ku&&(0===t.code||1===t.code)?Yh.REDIRECTING:Yh.FAILED),qr(t=>t!==Yh.REDIRECTING),Zu(1)).subscribe(()=>{e()})}function $1(n){throw n}function H1(n,e,t){return e.parse("/")}const G1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},z1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $n=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this._events=new cs.x,this.options=(0,o.f3M)(Og,{optional:!0})||{},this.pendingTasks=(0,o.f3M)(o.HDt),this.errorHandler=this.options.errorHandler||$1,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||H1,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(j1),this.routeReuseStrategy=(0,o.f3M)(zl),this.titleStrategy=(0,o.f3M)(mw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.f3M)(ic,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.f3M)(Pg),this.urlSerializer=(0,o.f3M)(hs),this.location=(0,o.f3M)(xe),this.componentInputBindingEnabled=!!(0,o.f3M)(vg,{optional:!0}),this.eventsSubscription=new Bu.w0,this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new to,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GI(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Wl(r)&&this._events.next(r));if(r instanceof Wi)gw(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Mo)this.rawUrlTree=i.rawUrl;else if(r instanceof VI){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(u,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof J_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ku)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof X_){const u=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gw(i.source)};this.scheduleNavigation(u,xa,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Yu&&this.restoreHistory(i,!0),r instanceof hi&&(this.navigated=!0),Wl(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xa,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const g={...i};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(u.state=g)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(wg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:l,queryParamsHandling:f,preserveFragment:g}=r,v=g?this.currentUrlTree.fragment:l;let A,T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}null!==T&&(T=this.removeEmptyProps(T));try{A=m(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),A=this.currentUrlTree.root}return _(A,t,T,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=no(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,xa,null,r)}navigate(t,r={skipLocationChange:!1}){return function Ro(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new o.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...G1}:!1===r?{...z1}:r,no(t))return ig(this.currentUrlTree,t,i);const u=this.parseUrl(t);return ig(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,l){if(this.disposed)return Promise.resolve(!1);let f,g,v;l?(f=l.resolve,g=l.reject,v=l.promise):v=new Promise((A,M)=>{f=A,g=M});const T=this.pendingTasks.add();return gy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:f,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wl(n){return!(n instanceof J_||n instanceof X_)}let mi=(()=>{class n{constructor(t,r,i,u,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new cs.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof hi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36($n),o.Y36(fi),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Oe))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&o.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",o.VuI],replaceUrl:["replaceUrl","replaceUrl",o.VuI],routerLink:"routerLink"},standalone:!0,features:[o.Xq5,o.TTD]})}return n})();class W1{}let my=(()=>{class n{constructor(t,r,i,u,l){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(qr(t=>t instanceof hi),Do(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,o.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,f=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,Cn.D)(i).pipe((0,Qs.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,ut.of)(null);const u=i.pipe((0,jn.z)(l=>null===l?(0,ut.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Cn.D)([u,l]).pipe((0,Qs.J)())}return u})}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG($n),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(W1),o.LFG(Rg))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Qh=new o.OlP("");let K1=(()=>{class n{constructor(t,r,i,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Mo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof p1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new p1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){o.$Z()};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function Po(n,e){return{\u0275kind:n,\u0275providers:e}}function Jh(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const r=n.get($n),i=n.get(yy);1===n.get(Xh)&&r.initialNavigation(),n.get(vw,null,o.XFs.Optional)?.setUpPreloading(),n.get(Qh,null,o.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const yy=new o.OlP("",{factory:()=>new cs.x}),Xh=new o.OlP("",{providedIn:"root",factory:()=>1}),vw=new o.OlP("");function vy(n){return Po(0,[{provide:vw,useExisting:my},{provide:W1,useExisting:n}])}const Ey=new o.OlP("ROUTER_FORROOT_GUARD"),f2=[xe,{provide:hs,useClass:ag},$n,gg,{provide:fi,useFactory:function _y(n){return n.routerState.root},deps:[$n]},Rg,[]];function p2(){return new o.PXZ("Router",$n)}let Oo=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[f2,[],{provide:ic,multi:!0,useValue:t},{provide:Ey,useFactory:Iy,deps:[[$n,new o.FiY,new o.tp0]]},{provide:Og,useValue:r||{}},r?.useHash?{provide:Oe,useClass:Ve}:{provide:Oe,useClass:Ye},{provide:Qh,useFactory:()=>{const n=(0,o.f3M)(Eo),e=(0,o.f3M)(o.R0b),t=(0,o.f3M)(Og),r=(0,o.f3M)(Pg),i=(0,o.f3M)(hs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new K1(i,r,n,e,t)}},r?.preloadingStrategy?vy(r.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:p2},r?.initialNavigation?wy(r):[],r?.bindToComponentInputs?Po(8,[WI,{provide:vg,useExisting:WI}]).\u0275providers:[],[{provide:Cw,useFactory:Jh},{provide:o.tb,multi:!0,useExisting:Cw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ic,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Ey,8))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();function Iy(n){return"guarded"}function wy(n){return["disabled"===n.initialNavigation?Po(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const e=(0,o.f3M)($n);return()=>{e.setUpLocationChangeListener()}}},{provide:Xh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Po(2,[{provide:Xh,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:e=>{const t=e.get(Ue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get($n),u=e.get(yy);gy(i,()=>{r(!0)}),e.get(Pg).afterPreactivation=()=>(r(!0),u.closed?(0,ut.of)(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const Cw=new o.OlP("");let Ty=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.Qsj),o.Y36(o.SBq))};static#t=this.\u0275dir=o.lG2({type:n})}return n})(),Ki=(()=>{class n extends Ty{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,features:[o.qOj]})}return n})();const ro=new o.OlP("NgValueAccessor"),by={provide:ro,useExisting:(0,o.Gpc)(()=>ac),multi:!0};let ac=(()=>{class n extends Ki{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&o.NdJ("change",function(l){return i.onChange(l.target.checked)})("blur",function(){return i.onTouched()})},features:[o._Bn([by]),o.qOj]})}return n})();const tS={provide:ro,useExisting:(0,o.Gpc)(()=>sr),multi:!0},kg=new o.OlP("CompositionEventMode");let sr=(()=>{class n extends Ty{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ay(){const n=ie()?ie().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(kg,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&o.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[o._Bn([tS]),o.qOj]})}return n})();function Yi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Fg(n){return null!=n&&"number"==typeof n.length}const Hr=new o.OlP("NgValidators"),Oa=new o.OlP("NgAsyncValidators"),Sw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class st{static min(e){return function xw(n){return e=>{if(Yi(e.value)||Yi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Mw(n){return e=>{if(Yi(e.value)||Yi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Nw(e)}static requiredTrue(e){return function Lg(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Dy(n){return Yi(n.value)||Sw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Rw(n){return e=>Yi(e.value)||!Fg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Sy(n){return e=>Fg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Ug(n){if(!n)return xy;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Yi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Fw(e)}static composeAsync(e){return Vg(e)}}function Nw(n){return Yi(n.value)?{required:!0}:null}function xy(n){return null}function Pw(n){return null!=n}function Ow(n){return(0,o.QGY)(n)?(0,Cn.D)(n):n}function kw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function nS(n,e){return e.map(t=>t(n))}function tf(n){return n.map(e=>function m2(n){return!n.validate}(e)?e:t=>e.validate(t))}function Fw(n){if(!n)return null;const e=n.filter(Pw);return 0==e.length?null:function(t){return kw(nS(t,e))}}function nf(n){return null!=n?Fw(tf(n)):null}function Vg(n){if(!n)return null;const e=n.filter(Pw);return 0==e.length?null:function(t){return function Dw(...n){const e=(0,va.jO)(n),{args:t,keys:r}=Dl(n),i=new nr.y(u=>{const{length:l}=t;if(!l)return void u.complete();const f=new Array(l);let g=l,v=l;for(let T=0;T<l;T++){let A=!1;(0,Uu.Xf)(t[T]).subscribe((0,ui.x)(u,M=>{A||(A=!0,v--),f[T]=M},()=>g--,void 0,()=>{(!g||!A)&&(v||u.next(r?eg(r,f):f),u.complete())}))}});return e?i.pipe(Sl(e)):i}(nS(t,e).map(Ow)).pipe((0,gt.U)(kw))}}function ka(n){return null!=n?Vg(tf(n)):null}function Bg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zg(n){return n._rawValidators}function Kl(n){return n._rawAsyncValidators}function Yl(n){return n?Array.isArray(n)?n:[n]:[]}function ko(n,e){return Array.isArray(n)?n.includes(e):n===e}function jg(n,e){const t=Yl(e);return Yl(n).forEach(i=>{ko(t,i)||t.push(i)}),t}function qg(n,e){return Yl(e).filter(t=>!ko(n,t))}class rf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ka(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Oi extends rf{get formDirective(){return null}get path(){return null}}class io extends rf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ql{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fa=(()=>{class n extends Ql{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(io,2))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]})}return n})(),La=(()=>{class n extends Ql{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Oi,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]})}return n})();const uf="VALID",uc="INVALID",Jl="PENDING",so="DISABLED";function cc(n){return(Hg(n)?n.validators:n)||null}function $g(n,e){return(Hg(e)?e.asyncValidators:n)||null}function Hg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Vw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new o.vHH(1e3,"");if(!r[t])throw new o.vHH(1001,"")}function Oy(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new o.vHH(1002,"")})}class cf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uf}get invalid(){return this.status===uc}get pending(){return this.status==Jl}get disabled(){return this.status===so}get enabled(){return this.status!==so}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qg(e,this._rawAsyncValidators))}hasValidator(e){return ko(this._rawValidators,e)}hasAsyncValidator(e){return ko(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Jl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=so,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uf||this.status===Jl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?so:uf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Jl,this._hasOwnPendingAsyncValidator=!0;const t=Ow(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?so:this.errors?uc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jl)?Jl:this._anyControlsHaveStatus(uc)?uc:uf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function uS(n){return Array.isArray(n)?nf(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function cS(n){return Array.isArray(n)?ka(n):n||null}(this._rawAsyncValidators)}}class lc extends cf{constructor(e,t,r){super(cc(t),$g(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Oy(this,0,e),Object.keys(e).forEach(r=>{Vw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ky extends lc{}const dc=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xl}),Xl="always";function Gg(n,e){return[...e.path,n]}function ed(n,e,t=Xl){Kg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Os(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lS(n,e)})}(n,e),function Fy(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Zw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function C2(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),lf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Wg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kg(n,e){const t=Zg(n);null!==e.validator?n.setValidators(Bg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Kl(n);null!==e.asyncValidator?n.setAsyncValidators(Bg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Wg(e._rawValidators,i),Wg(e._rawAsyncValidators,i)}function lf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Zg(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=Kl(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Wg(e._rawValidators,r),Wg(e._rawAsyncValidators,r),t}function lS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function By(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ua=class extends cf{constructor(e=null,t,r){super(cc(t),$g(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=By(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){By(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Hw=(()=>{class n extends Oi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Gg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,features:[o.qOj]})}return n})(),Vo=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const jy={provide:ro,useExisting:(0,o.Gpc)(()=>oo),multi:!0};let oo=(()=>{class n extends Ki{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&o.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([jy]),o.qOj]})}return n})(),qy=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();const Jg=new o.OlP("NgModelWithFormControlWarning"),x2={provide:Oi,useExisting:(0,o.Gpc)(()=>Bo)};let Bo=(()=>{class n extends Oi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ed(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zg(t.control||null,t,!1),function fS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function hS(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(zg(r||null,t),(n=>n instanceof Ua)(i)&&(ed(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Fo(n,e){Kg(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ly(n,e){return lf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kg(this.form,this),this._oldForm&&lf(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Hr,10),o.Y36(Oa,10),o.Y36(dc,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&o.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([x2]),o.qOj,o.TTD]})}return n})();const Yw={provide:Oi,useExisting:(0,o.Gpc)(()=>fc)};let fc=(()=>{class n extends Hw{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){$y(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Oi,13),o.Y36(Hr,10),o.Y36(Oa,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o._Bn([Yw]),o.qOj]})}return n})();const M2={provide:Oi,useExisting:(0,o.Gpc)(()=>Zo)};let Zo=(()=>{class n extends Oi{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Gg(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$y(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Oi,13),o.Y36(Hr,10),o.Y36(Oa,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o._Bn([M2]),o.qOj]})}return n})();function $y(n){return!(n instanceof fc||n instanceof Bo||n instanceof Zo)}const Qw={provide:io,useExisting:(0,o.Gpc)(()=>jo)};let jo=(()=>{class n extends io{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Qn(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===sr?t=u:function dS(n){return Object.getPrototypeOf(n.constructor)===Ki}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function Yg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Gg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(o.Y36(Oi,13),o.Y36(Hr,10),o.Y36(Oa,10),o.Y36(ro,10),o.Y36(Jg,8))};static#n=this.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([Qw]),o.qOj,o.TTD]})}return n})();const Jw={provide:ro,useExisting:(0,o.Gpc)(()=>qo),multi:!0};function Hy(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let qo=(()=>{class n extends Ki{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Hy(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function St(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&o.NdJ("change",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([Jw]),o.qOj]})}return n})(),pc=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Hy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(qo,9))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const td={provide:ro,useExisting:(0,o.Gpc)(()=>Va),multi:!0};function Gy(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Va=(()=>{class n extends Ki{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,l)=>{u._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const l=u;for(let f=0;f<l.length;f++){const v=this._getOptionValue(l[f].value);i.push(v)}}else{const l=r.options;for(let f=0;f<l.length;f++){const g=l[f];if(g.selected){const v=this._getOptionValue(g.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function IS(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&o.NdJ("change",function(l){return i.onChange(l.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([td]),o.qOj]})}return n})(),Ba=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Gy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Gy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Va,9))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),$o=(()=>{class n{constructor(){this._validator=xy}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=o.lG2({type:n,features:[o.TTD]})}return n})();const wS={provide:Hr,useExisting:(0,o.Gpc)(()=>tm),multi:!0};let tm=(()=>{class n extends $o{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.VuI,this.createValidator=t=>Nw}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([wS]),o.qOj]})}return n})(),DS=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[qy]})}return n})();class nm extends cf{constructor(e,t,r){super(cc(t),$g(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Oy(this,0,e),e.forEach((r,i)=>{Vw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function iC(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let gc=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return iC(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new lc(i,u)}record(t,r=null){const i=this._reduceControls(t);return new ky(i,r)}control(t,r,i){let u={};return this.useNonNullable?(iC(r)?u=r:(u.validators=r,u.asyncValidators=i),new Ua(t,{...u,nonNullable:!0})):new Ua(t,r,i)}array(t,r,i){const u=t.map(l=>this._createControl(l));return new nm(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Ua||t instanceof cf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dc,useValue:t.callSetDisabledState??Xl}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[DS]})}return n})(),Xy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jg,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:dc,useValue:t.callSetDisabledState??Xl}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[DS]})}return n})();var _i=P(7592);(0,_i.registerVersion)("firebase","9.23.0","app");var R=P(5861),gn=P(4537),Gr=P(7879),_e=P(9058),sC=P(1878);class RS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function oC(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const rm="@firebase/app",Ho=new Gr.Yd("@firebase/app"),Za="[DEFAULT]",BS={[rm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ja=new Map,mf=new Map;function ZS(n,e){try{n.container.addComponent(e)}catch(t){Ho.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _r(n){const e=n.name;if(mf.has(e))return Ho.debug(`There were multiple attempts to register component ${e}.`),!1;mf.set(e,n);for(const t of ja.values())ZS(t,n);return!0}function _f(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const zo=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qS{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}const rd="10.5.2";function _C(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Za,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw zo.create("bad-app-name",{appName:String(i)});if(t||(t=(0,_e.aH)()),!t)throw zo.create("no-options");const u=ja.get(i);if(u){if((0,_e.vZ)(t,u.options)&&(0,_e.vZ)(r,u.config))return u;throw zo.create("duplicate-app",{appName:i})}const l=new gn.H0(i);for(const g of mf.values())l.addComponent(g);const f=new qS(t,r,l);return ja.set(i,f),f}function yi(n,e,t){var r;let i=null!==(r=BS[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const u=i.match(/\s|\//),l=e.match(/\s|\//);if(u||l){const f=[`Unable to register library "${i}" with version "${e}":`];return u&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),u&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ho.warn(f.join(" "))}_r(new gn.wA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $S="firebase-heartbeat-database",HS=1,yf="firebase-heartbeat-store";let nv=null;function rv(){return nv||(nv=(0,sC.X3)($S,HS,{upgrade:(n,e)=>{0===e&&n.createObjectStore(yf)}}).catch(n=>{throw zo.create("idb-open",{originalErrorMessage:n.message})})),nv}function iv(){return(iv=(0,R.Z)(function*(n){try{return yield(yield rv()).transaction(yf).objectStore(yf).get(sv(n))}catch(e){if(e instanceof _e.ZR)Ho.warn(e.message);else{const t=zo.create("idb-get",{originalErrorMessage:e?.message});Ho.warn(t.message)}}})).apply(this,arguments)}function GS(n,e){return om.apply(this,arguments)}function om(){return(om=(0,R.Z)(function*(n,e){try{const r=(yield rv()).transaction(yf,"readwrite");yield r.objectStore(yf).put(e,sv(n)),yield r.done}catch(t){if(t instanceof _e.ZR)Ho.warn(t.message);else{const r=zo.create("idb-set",{originalErrorMessage:t?.message});Ho.warn(r.message)}}})).apply(this,arguments)}function sv(n){return`${n.name}!${n.options.appId}`}class zS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WS(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,R.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IC();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(u=>u.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(u=>{const l=new Date(u.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,R.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=IC(),{heartbeatsToSend:r,unsentEntries:i}=function ov(n,e=1024){const t=[];let r=n.slice();for(const i of n){const u=t.find(l=>l.agent===i.agent);if(u){if(u.dates.push(i.date),ks(t)>e){u.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ks(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),u=(0,_e.L)(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),u})()}}function IC(){return(new Date).toISOString().substring(0,10)}class WS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,R.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function EC(n){return iv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,R.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return GS(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,R.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return GS(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}})()}}function ks(n){return(0,_e.L)(JSON.stringify({version:2,heartbeats:n})).length}!function vf(n){_r(new gn.wA("platform-logger",e=>new RS(e),"PRIVATE")),_r(new gn.wA("heartbeat",e=>new zS(e),"PRIVATE")),yi(rm,"0.9.22",n),yi(rm,"0.9.22","esm2017"),yi("fire-js","")}("");const zr=(n,e)=>e.some(t=>n instanceof t);let qa,Ef;const mc=new WeakMap,$a=new WeakMap,_c=new WeakMap,Ha=new WeakMap,Ga=new WeakMap;let za={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return $a.get(n);if("objectStoreNames"===e)return n.objectStoreNames||_c.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function CC(n){return"function"==typeof n?function wC(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function av(){return Ef||(Ef=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(um(this),e),Wo(mc.get(this))}:function(...e){return Wo(n.apply(um(this),e))}:function(e,...t){const r=n.call(um(this),e,...t);return _c.set(r,e.sort?e.sort():[e]),Wo(r)}}(n):(n instanceof IDBTransaction&&function od(n){if($a.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});$a.set(n,e)}(n),zr(n,function gs(){return qa||(qa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,za):n)}function Wo(n){if(n instanceof IDBRequest)return function sd(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(Wo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&mc.set(t,n)}).catch(()=>{}),Ga.set(e,n),e}(n);if(Ha.has(n))return Ha.get(n);const e=CC(n);return e!==n&&(Ha.set(n,e),Ga.set(e,n)),e}const um=n=>Ga.get(n),bC=["get","getKey","getAll","getAllKeys","count"],AC=["put","add","delete","clear"],cm=new Map;function lm(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(cm.get(e))return cm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=AC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!bC.includes(t))return;const u=function(){var l=(0,R.Z)(function*(f,...g){const v=this.transaction(f,i?"readwrite":"readonly");let T=v.store;return r&&(T=T.index(g.shift())),(yield Promise.all([T[t](...g),i&&v.done]))[0]});return function(g){return l.apply(this,arguments)}}();return cm.set(e,u),u}!function ad(n){za=n(za)}(n=>({...n,get:(e,t,r)=>lm(e,t)||n.get(e,t,r),has:(e,t)=>!!lm(e,t)||n.has(e,t)}));const DC="@firebase/installations",SC="0.6.4",YS=1e4,xC=`w:${SC}`,MC="FIS_v2",H2="https://firebaseinstallations.googleapis.com/v1",QS=36e5,Ko=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dm(n){return n instanceof _e.ZR&&n.code.includes("request-failed")}function yc({projectId:n}){return`${H2}/projects/${n}/installations`}function hm(n){return{token:n.token,requestStatus:2,expiresIn:e3(n.expiresIn),creationTime:Date.now()}}function ud(n,e){return fm.apply(this,arguments)}function fm(){return(fm=(0,R.Z)(function*(n,e){const r=(yield e.json()).error;return Ko.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function cd({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function cv(n){return vc.apply(this,arguments)}function vc(){return(vc=(0,R.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function e3(n){return Number(n.replace("s","000"))}function lv(){return(lv=(0,R.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=yc(n),i=cd(n),u=e.getImmediate({optional:!0});if(u){const v=yield u.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:MC,appId:n.appId,sdkVersion:xC})},g=yield cv(()=>fetch(r,f));if(g.ok){const v=yield g.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:hm(v.authToken)}}throw yield ud("Create Installation",g)})).apply(this,arguments)}function pm(n){return new Promise(e=>{setTimeout(e,n)})}const mm=/^[cdef][\w-]{21}$/,NC="";function r3(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function i3(n){return function gm(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return mm.test(t)?t:NC}catch{return NC}}function Wa(n){return`${n.appName}!${n.appId}`}const ld=new Map;function dv(n,e){const t=Wa(n);hv(t,e),function RC(n,e){const t=function PC(){return!Ka&&"BroadcastChannel"in self&&(Ka=new BroadcastChannel("[Firebase] FID Change"),Ka.onmessage=n=>{hv(n.data.key,n.data.fid)}),Ka}();t&&t.postMessage({key:n,fid:e}),function OC(){0===ld.size&&Ka&&(Ka.close(),Ka=null)}()}(t,e)}function hv(n,e){const t=ld.get(n);if(t)for(const r of t)r(e)}let Ka=null;const a3="firebase-installations-database",kC=1,Yo="firebase-installations-store";let If=null;function fv(){return If||(If=function TC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),f=Wo(l);return r&&l.addEventListener("upgradeneeded",g=>{r(Wo(l.result),g.oldVersion,g.newVersion,Wo(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(g=>{u&&g.addEventListener("close",()=>u()),i&&g.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(a3,kC,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Yo)}})),If}function Ec(n,e){return dd.apply(this,arguments)}function dd(){return(dd=(0,R.Z)(function*(n,e){const t=Wa(n),i=(yield fv()).transaction(Yo,"readwrite"),u=i.objectStore(Yo),l=yield u.get(t);return yield u.put(e,t),yield i.done,(!l||l.fid!==e.fid)&&dv(n,e.fid),e})).apply(this,arguments)}function wf(n){return _m.apply(this,arguments)}function _m(){return(_m=(0,R.Z)(function*(n){const e=Wa(n),r=(yield fv()).transaction(Yo,"readwrite");yield r.objectStore(Yo).delete(e),yield r.done})).apply(this,arguments)}function Cf(n,e){return pv.apply(this,arguments)}function pv(){return(pv=(0,R.Z)(function*(n,e){const t=Wa(n),i=(yield fv()).transaction(Yo,"readwrite"),u=i.objectStore(Yo),l=yield u.get(t),f=e(l);return void 0===f?yield u.delete(t):yield u.put(f,t),yield i.done,f&&(!l||l.fid!==f.fid)&&dv(n,f.fid),f})).apply(this,arguments)}function gv(n){return hd.apply(this,arguments)}function hd(){return hd=(0,R.Z)(function*(n){let e;const t=yield Cf(n.appConfig,r=>{const i=function ym(n){return _v(n||{fid:r3(),registrationStatus:0})}(r),u=function FC(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ko.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function LC(n,e){return mv.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:u3(n)}:{installationEntry:e}}(n,i);return e=u.registrationPromise,u.installationEntry});return t.fid===NC?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),hd.apply(this,arguments)}function mv(){return mv=(0,R.Z)(function*(n,e){try{const t=yield function n3(n,e){return lv.apply(this,arguments)}(n,e);return Ec(n.appConfig,t)}catch(t){throw dm(t)&&409===t.customData.serverCode?yield wf(n.appConfig):yield Ec(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),mv.apply(this,arguments)}function u3(n){return vm.apply(this,arguments)}function vm(){return(vm=(0,R.Z)(function*(n){let e=yield Em(n.appConfig);for(;1===e.registrationStatus;)yield pm(100),e=yield Em(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield gv(n);return r||t}return e})).apply(this,arguments)}function Em(n){return Cf(n,e=>{if(!e)throw Ko.create("installation-not-found");return _v(e)})}function _v(n){return function yv(n){return 1===n.registrationStatus&&n.registrationTime+YS<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function vv(){return(vv=(0,R.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function VC(n,{fid:e}){return`${yc(n)}/${e}/authTokens:generate`}(n,t),i=function uv(n,{refreshToken:e}){const t=cd(n);return t.append("Authorization",function t3(n){return`${MC} ${n}`}(e)),t}(n,t),u=e.getImmediate({optional:!0});if(u){const v=yield u.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:xC,appId:n.appId}})},g=yield cv(()=>fetch(r,f));if(g.ok)return hm(yield g.json());throw yield ud("Generate Auth Token",g)})).apply(this,arguments)}function Im(n){return wm.apply(this,arguments)}function wm(){return wm=(0,R.Z)(function*(n,e=!1){let t;const r=yield Cf(n.appConfig,u=>{if(!Cm(u))throw Ko.create("not-registered");const l=u.authToken;if(!e&&function jC(n){return 2===n.requestStatus&&!function qC(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+QS}(n)}(l))return u;if(1===l.requestStatus)return t=function BC(n,e){return Ev.apply(this,arguments)}(n,e),u;{if(!navigator.onLine)throw Ko.create("app-offline");const f=function $C(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(u);return t=function c3(n,e){return Tf.apply(this,arguments)}(n,f),f}});return t?yield t:r.authToken}),wm.apply(this,arguments)}function Ev(){return(Ev=(0,R.Z)(function*(n,e){let t=yield ZC(n.appConfig);for(;1===t.authToken.requestStatus;)yield pm(100),t=yield ZC(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Im(n,e):r})).apply(this,arguments)}function ZC(n){return Cf(n,e=>{if(!Cm(e))throw Ko.create("not-registered");return function HC(n){return 1===n.requestStatus&&n.requestTime+YS<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Tf(){return Tf=(0,R.Z)(function*(n,e){try{const t=yield function UC(n,e){return vv.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Ec(n.appConfig,r),t}catch(t){if(!dm(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ec(n.appConfig,r)}else yield wf(n.appConfig);throw t}}),Tf.apply(this,arguments)}function Cm(n){return void 0!==n&&2===n.registrationStatus}function Tm(){return(Tm=(0,R.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield gv(e);return r?r.catch(console.error):Im(e).catch(console.error),t.fid})).apply(this,arguments)}function bm(){return bm=(0,R.Z)(function*(n,e=!1){const t=n;return yield function Am(n){return ao.apply(this,arguments)}(t),(yield Im(t,e)).token}),bm.apply(this,arguments)}function ao(){return(ao=(0,R.Z)(function*(n){const{registrationPromise:e}=yield gv(n);e&&(yield e)})).apply(this,arguments)}function KC(n){return Ko.create("missing-app-config-values",{valueName:n})}const YC="installations",QC=n=>{const e=n.getProvider("app").getImmediate(),t=function W2(n){if(!n||!n.options)throw KC("App Configuration");if(!n.name)throw KC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw KC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:_f(e,"heartbeat"),_delete:()=>Promise.resolve()}},h3=n=>{const t=_f(n.getProvider("app").getImmediate(),YC).getImmediate();return{getId:()=>function GC(n){return Tm.apply(this,arguments)}(t),getToken:i=>function zC(n){return bm.apply(this,arguments)}(t,i)}};(function or(){_r(new gn.wA(YC,QC,"PUBLIC")),_r(new gn.wA("installations-internal",h3,"PRIVATE"))})(),yi(DC,SC),yi(DC,SC,"esm2017");const Dm="@firebase/remote-config",vi=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class v3{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,R.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const u=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&l.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(l),u})()}}function E3(n=navigator){return n.languages&&n.languages[0]||n.language}class I3{constructor(e,t,r,i,u,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=u,this.appId=l}fetch(e){var t=this;return(0,R.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},g={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:E3()},v={method:"POST",headers:f,body:JSON.stringify(g)},T=fetch(l,v),A=new Promise((Ce,Fe)=>{e.signal.addEventListener(()=>{const ke=new Error("The operation was aborted.");ke.name="AbortError",Fe(ke)})});let M;try{yield Promise.race([T,A]),M=yield T}catch(Ce){let Fe="fetch-client-network";throw"AbortError"===Ce?.name&&(Fe="fetch-timeout"),vi.create(Fe,{originalErrorMessage:Ce?.message})}let O=M.status;const j=M.headers.get("ETag")||void 0;let G,X;if(200===M.status){let Ce;try{Ce=yield M.json()}catch(Fe){throw vi.create("fetch-client-parse",{originalErrorMessage:Fe?.message})}G=Ce.entries,X=Ce.state}if("INSTANCE_STATE_UNSPECIFIED"===X?O=500:"NO_CHANGE"===X?O=304:("NO_TEMPLATE"===X||"EMPTY_CONFIG"===X)&&(G={}),304!==O&&200!==O)throw vi.create("fetch-status",{httpStatus:O});return{status:O,eTag:j,config:G}})()}}class w3{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,R.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,R.Z)(function*(){yield function Dv(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(vi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),u}catch(u){if(!function Df(n){if(!(n instanceof _e.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const l={throttleEndTimeMillis:Date.now()+(0,_e.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class T3{constructor(e,t,r,i,u){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Sf(n,e){const t=n.target.error||void 0;return vi.create(e,{originalErrorMessage:t&&t?.message})}const Ya="app_namespace_store";class iT{constructor(e,t,r,i=function rT(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Sf(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ya,{keyPath:"compositeKey"})}}catch(t){e(vi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,R.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([Ya],"readonly").objectStore(Ya),g=t.createCompositeKey(e);try{const v=f.get(g);v.onerror=T=>{u(Sf(T,"storage-get"))},v.onsuccess=T=>{const A=T.target.result;i(A?A.value:void 0)}}catch(v){u(vi.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,R.Z)(function*(){const i=yield r.openDbPromise;return new Promise((u,l)=>{const g=i.transaction([Ya],"readwrite").objectStore(Ya),v=r.createCompositeKey(e);try{const T=g.put({compositeKey:v,value:t});T.onerror=A=>{l(Sf(A,"storage-set"))},T.onsuccess=()=>{u()}}catch(T){l(vi.create("storage-set",{originalErrorMessage:T?.message}))}})})()}delete(e){var t=this;return(0,R.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([Ya],"readwrite").objectStore(Ya),g=t.createCompositeKey(e);try{const v=f.delete(g);v.onerror=T=>{u(Sf(T,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){u(vi.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class sT{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,R.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Mm(){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,R.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}!function A3(){_r(new gn.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw vi.create("registration-window");if(!(0,_e.hl)())throw vi.create("indexed-db-unavailable");const{projectId:u,apiKey:l,appId:f}=r.options;if(!u)throw vi.create("registration-project-id");if(!l)throw vi.create("registration-api-key");if(!f)throw vi.create("registration-app-id");const g=new iT(f,r.name,t=t||"firebase"),v=new sT(g),T=new Gr.Yd(Dm);T.logLevel=Gr.in.ERROR;const A=new I3(i,rd,t,u,l,f),M=new w3(A,g),O=new v3(M,g,v,T),j=new T3(r,O,v,g,T);return function bv(n){const e=(0,_e.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(j),j},"PUBLIC").setMultipleInstances(!0)),yi(Dm,"0.4.4"),yi(Dm,"0.4.4","esm2017")}();const Sv=(n,e)=>e.some(t=>n instanceof t);let xv,Mv;const Nv=new WeakMap,Rm=new WeakMap,uT=new WeakMap,Rv=new WeakMap,Pv=new WeakMap;let Ov={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Rm.get(n);if("objectStoreNames"===e)return n.objectStoreNames||uT.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function N3(n){return"function"==typeof n?function M3(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function aT(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(kv(this),e),Jo(Nv.get(this))}:function(...e){return Jo(n.apply(kv(this),e))}:function(e,...t){const r=n.call(kv(this),e,...t);return uT.set(r,e.sort?e.sort():[e]),Jo(r)}}(n):(n instanceof IDBTransaction&&function S3(n){if(Rm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});Rm.set(n,e)}(n),Sv(n,function oT(){return xv||(xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ov):n)}function Jo(n){if(n instanceof IDBRequest)return function D3(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(Jo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Nv.set(t,n)}).catch(()=>{}),Pv.set(e,n),e}(n);if(Rv.has(n))return Rv.get(n);const e=N3(n);return e!==n&&(Rv.set(n,e),Pv.set(e,n)),e}const kv=n=>Pv.get(n);function cT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),f=Jo(l);return r&&l.addEventListener("upgradeneeded",g=>{r(Jo(l.result),g.oldVersion,g.newVersion,Jo(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(g=>{u&&g.addEventListener("close",()=>u()),i&&g.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function Fv(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Jo(t).then(()=>{})}const R3=["get","getKey","getAll","getAllKeys","count"],P3=["put","add","delete","clear"],Lv=new Map;function lT(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Lv.get(e))return Lv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=P3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!R3.includes(t))return;const u=function(){var l=(0,R.Z)(function*(f,...g){const v=this.transaction(f,i?"readwrite":"readonly");let T=v.store;return r&&(T=T.index(g.shift())),(yield Promise.all([T[t](...g),i&&v.done]))[0]});return function(g){return l.apply(this,arguments)}}();return Lv.set(e,u),u}!function x3(n){Ov=n(Ov)}(n=>({...n,get:(e,t,r)=>lT(e,t)||n.get(e,t,r),has:(e,t)=>!!lT(e,t)||n.has(e,t)}));const O3="/firebase-messaging-sw.js",dT="/firebase-cloud-messaging-push-scope",Uv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hT="https://fcmregistrations.googleapis.com/v1",Vv="google.c.a.c_id",fT="google.c.a.c_l",pT="google.c.a.ts";var Mf=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Mf||{});function ho(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _T(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let u=0;u<r.length;++u)i[u]=r.charCodeAt(u);return i}const Xo="fcm_token_details_db",k3=5,yT="fcm_token_object_Store";function vT(){return vT=(0,R.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(Xo))return null;let e=null;return(yield cT(Xo,k3,{upgrade:(r=(0,R.Z)(function*(i,u,l,f){var g;if(u<2||!i.objectStoreNames.contains(yT))return;const v=f.objectStore(yT),T=yield v.index("fcmSenderId").get(n);if(yield v.clear(),T)if(2===u){const A=T;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:null!==(g=A.createTime)&&void 0!==g?g:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:"string"==typeof A.vapidKey?A.vapidKey:ho(A.vapidKey)}}}else if(3===u){const A=T;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:ho(A.auth),p256dh:ho(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:ho(A.vapidKey)}}}else if(4===u){const A=T;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:ho(A.auth),p256dh:ho(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:ho(A.vapidKey)}}}}),function(u,l,f,g){return r.apply(this,arguments)})})).close(),yield Fv(Xo),yield Fv("fcm_vapid_details_db"),yield Fv("undefined"),function Bv(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),vT.apply(this,arguments)}const J2="firebase-messaging-database",ET=1,Qa="firebase-messaging-store";let IT=null;function Ja(){return IT||(IT=cT(J2,ET,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Qa)}})),IT}function wT(n){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,R.Z)(function*(n){const e=_d(n),r=yield(yield Ja()).transaction(Qa).objectStore(Qa).get(e);if(r)return r;{const i=yield function gd(n){return vT.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield jv(n,i),i}}),Zv.apply(this,arguments)}function jv(n,e){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,R.Z)(function*(n,e){const t=_d(n),i=(yield Ja()).transaction(Qa,"readwrite");return yield i.objectStore(Qa).put(e,t),yield i.done,e})).apply(this,arguments)}function md(){return(md=(0,R.Z)(function*(n){const e=_d(n),r=(yield Ja()).transaction(Qa,"readwrite");yield r.objectStore(Qa).delete(e),yield r.done})).apply(this,arguments)}function _d({appConfig:n}){return n.appId}const Wr=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function CT(n,e){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,R.Z)(function*(n,e){const t=yield $v(n),r=TT(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(Fm(n.appConfig),i)).json()}catch(l){throw Wr.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(u.error)throw Wr.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw Wr.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function Om(){return(Om=(0,R.Z)(function*(n,e){const t=yield $v(n),r=TT(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${Fm(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw Wr.create("token-update-failed",{errorInfo:l?.toString()})}if(u.error)throw Wr.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw Wr.create("token-update-no-token");return u.token})).apply(this,arguments)}function qv(n,e){return km.apply(this,arguments)}function km(){return(km=(0,R.Z)(function*(n,e){const r={method:"DELETE",headers:yield $v(n)};try{const u=yield(yield fetch(`${Fm(n.appConfig)}/${e}`,r)).json();if(u.error)throw Wr.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(i){throw Wr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Fm({projectId:n}){return`${hT}/projects/${n}/registrations`}function $v(n){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,R.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function TT({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Uv&&(i.web.applicationPubKey=r),i}const Nf=6048e5;function Gv(){return Gv=(0,R.Z)(function*(n){const e=yield function Rf(n,e){return Ic.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ho(e.getKey("auth")),p256dh:ho(e.getKey("p256dh"))},r=yield wT(n.firebaseDependencies);if(r){if(function V3(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Nf?function AT(n,e){return Lm.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield qv(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return zv(n.firebaseDependencies,t)}return zv(n.firebaseDependencies,t)}),Gv.apply(this,arguments)}function yd(){return yd=(0,R.Z)(function*(n){const e=yield wT(n.firebaseDependencies);e&&(yield qv(n.firebaseDependencies,e.token),yield function F3(n){return md.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),yd.apply(this,arguments)}function Lm(){return Lm=(0,R.Z)(function*(n,e){try{const t=yield function L3(n,e){return Om.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield jv(n.firebaseDependencies,r),t}catch(t){throw yield function bT(n){return yd.apply(this,arguments)}(n),t}}),Lm.apply(this,arguments)}function zv(n,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,R.Z)(function*(n,e){const r={token:yield CT(n,e),createTime:Date.now(),subscriptionOptions:e};return yield jv(n,r),r.token})).apply(this,arguments)}function Ic(){return(Ic=(0,R.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_T(e)})})).apply(this,arguments)}function DT(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function B3(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function ST(n,e){e.data&&(n.data=e.data)}(e,n),function xT(n,e){var t,r,i,u,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(u=e.notification)||void 0===u?void 0:u.click_action;f&&(n.fcmOptions.link=f);const g=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;g&&(n.fcmOptions.analyticsLabel=g)}(e,n),e}function NT(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Kv(n){return Wr.create("missing-app-config-values",{valueName:n})}NT("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),NT("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Z3{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function RT(n){if(!n||!n.options)throw Kv("App Configuration Object");if(!n.name)throw Kv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Kv(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function PT(){return(PT=(0,R.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(O3,{scope:dT}),n.swRegistration.update().catch(()=>{})}catch(e){throw Wr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function OT(){return(OT=(0,R.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield function j3(n){return PT.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function vd(){return(vd=(0,R.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Uv)})).apply(this,arguments)}function Yv(){return Yv=(0,R.Z)(function*(n,e){if(!navigator)throw Wr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wr.create("permission-blocked");return yield function kT(n,e){return vd.apply(this,arguments)}(n,e?.vapidKey),yield function X2(n,e){return OT.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function U3(n){return Gv.apply(this,arguments)}(n)}),Yv.apply(this,arguments)}function wc(){return(wc=(0,R.Z)(function*(n,e,t){const r=function q3(n){switch(n){case Mf.NOTIFICATION_CLICKED:return"notification_open";case Mf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Vv],message_name:t[fT],message_time:t[pT],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qv(){return Qv=(0,R.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Mf.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(DT(t)):n.onMessageHandler.next(DT(t)));const r=t.data;(function MT(n){return"object"==typeof n&&!!n&&Vv in n})(r)&&"1"===r["google.c.a.e"]&&(yield function LT(n,e,t){return wc.apply(this,arguments)}(n,t.messageType,r))}),Qv.apply(this,arguments)}const UT="@firebase/messaging",G3=n=>{const e=new Z3(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function $3(n,e){return Qv.apply(this,arguments)}(e,t)),e},VT=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function FT(n,e){return Yv.apply(this,arguments)}(e,r)}};function BT(){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,R.Z)(function*(){try{yield(0,_e.eu)()}catch{return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function z3(){_r(new gn.wA("messaging",G3,"PUBLIC")),_r(new gn.wA("messaging-internal",VT,"PRIVATE")),yi(UT,"0.12.4"),yi(UT,"0.12.4","esm2017")}();const Bm="analytics",jT="firebase_id",qT="origin",Q3=6e4,J3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jv="https://www.googletagmanager.com/gtag/js",Jn=new Gr.Yd("@firebase/analytics"),Kr=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ex(n){if(!n.startsWith(Jv)){const e=Kr.create("invalid-gtag-resource",{gtagURL:n});return Jn.warn(e.message),""}return n}function $T(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Xv(){return(Xv=(0,R.Z)(function*(n,e,t,r,i,u){const l=r[i];try{if(l)yield e[l];else{const g=(yield $T(t)).find(v=>v.measurementId===i);g&&(yield e[g.appId])}}catch(f){Jn.error(f)}n("config",i,u)})).apply(this,arguments)}function Zm(){return(Zm=(0,R.Z)(function*(n,e,t,r,i){try{let u=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const f=yield $T(t);for(const g of l){const v=f.find(A=>A.measurementId===g),T=v&&e[v.appId];if(!T){u=[];break}u.push(T)}}0===u.length&&(u=Object.values(e)),yield Promise.all(u),n("event",r,i||{})}catch(u){Jn.error(u)}})).apply(this,arguments)}const GT=30,zT=new class cx{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function lx(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Pf(){return(Pf=(0,R.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:lx(r)},u=J3.replace("{app-id}",t),l=yield fetch(u,i);if(200!==l.status&&304!==l.status){let f="";try{const g=yield l.json();null!==(e=g.error)&&void 0!==e&&e.message&&(f=g.error.message)}catch{}throw Kr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()})).apply(this,arguments)}function Of(){return(Of=(0,R.Z)(function*(n,e=zT,t){const{appId:r,apiKey:i,measurementId:u}=n.options;if(!r)throw Kr.create("no-app-id");if(!i){if(u)return{measurementId:u,appId:r};throw Kr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new YT;return setTimeout((0,R.Z)(function*(){f.abort()}),void 0!==t?t:Q3),KT({appId:r,apiKey:i,measurementId:u},l,f,e)})).apply(this,arguments)}function KT(n,e,t){return t4.apply(this,arguments)}function t4(){return t4=(0,R.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=zT){var u;const{appId:l,measurementId:f}=n;try{yield function n4(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(Kr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(g){if(f)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:f};throw g}try{const g=yield function e4(n){return Pf.apply(this,arguments)}(n);return i.deleteThrottleMetadata(l),g}catch(g){const v=g;if(!function dx(n){if(!(n instanceof _e.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v)){if(i.deleteThrottleMetadata(l),f)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:l,measurementId:f};throw g}const T=503===Number(null===(u=v?.customData)||void 0===u?void 0:u.httpStatus)?(0,_e.$s)(t,i.intervalMillis,GT):(0,_e.$s)(t,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+T,backoffCount:t+1};return i.setThrottleMetadata(l,A),Jn.debug(`Calling attemptFetch again in ${T} millis`),KT(n,A,r,i)}}),t4.apply(this,arguments)}class YT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ea,Hm;function r4(){return(r4=(0,R.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const u=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:u}))}})).apply(this,arguments)}function c4(){return(c4=(0,R.Z)(function*(){if(!(0,_e.hl)())return Jn.warn(Kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(n){return Jn.warn(Kr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function l4(){return l4=(0,R.Z)(function*(n,e,t,r,i,u,l){var f;const g=function WT(n){return Of.apply(this,arguments)}(n);g.then(O=>{t[O.measurementId]=O.appId,n.options.measurementId&&O.measurementId!==n.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>Jn.error(O)),e.push(g);const v=function fx(){return c4.apply(this,arguments)}().then(O=>{if(O)return r.getId()}),[T,A]=yield Promise.all([g,v]);(function ax(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Jv)&&t.src.includes(n))return t;return null})(u)||function nx(n,e){const t=function tx(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:ex}),r=document.createElement("script"),i=`${Jv}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(u,T.measurementId),Hm&&(i("consent","default",Hm),function a4(n){Hm=n}(void 0)),i("js",new Date);const M=null!==(f=l?.config)&&void 0!==f?f:{};return M[qT]="firebase",M.update=!0,null!=A&&(M[jT]=A),i("config",T.measurementId,M),ea&&(i("set",ea),function u4(n){ea=n}(void 0)),T.measurementId}),l4.apply(this,arguments)}class XT{constructor(e){this.app=e}_delete(){return delete ta[this.app.options.appId],Promise.resolve()}}let ta={},d4=[];const eb={};let tb,fo,Gm="dataLayer",h4=!1;function yx(n,e,t){!function _x(){const n=[];if((0,_e.ru)()&&n.push("This is a browser extension environment."),(0,_e.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Kr.create("invalid-analytics-context",{errorInfo:e});Jn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Kr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Kr.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ta[r])throw Kr.create("already-exists",{id:r});if(!h4){!function rx(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Gm);const{wrappedGtag:u,gtagCore:l}=function ox(n,e,t,r,i){let u=function(...l){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(u=window[i]),window[i]=function HT(n,e,t,r){function u(){return u=(0,R.Z)(function*(l,...f){try{if("event"===l){const[g,v]=f;yield function sx(n,e,t,r,i){return Zm.apply(this,arguments)}(n,e,t,g,v)}else if("config"===l){const[g,v]=f;yield function ix(n,e,t,r,i,u){return Xv.apply(this,arguments)}(n,e,t,r,g,v)}else if("consent"===l){const[g]=f;n("consent","update",g)}else if("get"===l){const[g,v,T]=f;n("get",g,v,T)}else if("set"===l){const[g]=f;n("set",g)}else n(l,...f)}catch(g){Jn.error(g)}}),u.apply(this,arguments)}return function i(l){return u.apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[i]}}(ta,d4,eb,Gm,"gtag");fo=u,tb=l,h4=!0}return ta[r]=function px(n,e,t,r,i,u,l){return l4.apply(this,arguments)}(n,d4,eb,e,tb,Gm,t),new XT(n)}function Ex(){return f4.apply(this,arguments)}function f4(){return(f4=(0,R.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}const rb="@firebase/analytics";!function oF(){_r(new gn.wA(Bm,(e,{options:t})=>yx(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),_r(new gn.wA("analytics-internal",function n(e){try{const t=e.getProvider(Bm).getImmediate();return{logEvent:(r,i,u)=>function nb(n,e,t,r){n=(0,_e.m9)(n),function QT(n,e,t,r,i){return r4.apply(this,arguments)}(fo,ta[n.app.options.appId],e,t,r).catch(i=>Jn.error(i))}(t,r,i,u)}}catch(t){throw Kr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),yi(rb,"0.10.0"),yi(rb,"0.10.0","esm2017")}();class ib extends Bu.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Ff={setInterval(n,e,...t){const{delegate:r}=Ff;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ff;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Dx=P(9039);class sb extends ib{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,u=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return Ff.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ff.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(u){r=!0,i=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Dx.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const bc={now:()=>(bc.delegate||Date).now(),delegate:void 0};class Lf{constructor(e,t=Lf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Lf.now=bc.now;class zm extends Lf{constructor(e,t=Lf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const aF=new class xx extends zm{}(class Sx extends sb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),cF=new zm(sb);var Uf=P(5137),Ed=P(3093);const Km=new o.GfV("7.6.1"),Id="__angularfire_symbol__analyticsIsSupportedValue",Ym="__angularfire_symbol__analyticsIsSupported",p4="__angularfire_symbol__remoteConfigIsSupportedValue",Qm="__angularfire_symbol__remoteConfigIsSupported",wd="__angularfire_symbol__messagingIsSupportedValue",g4="__angularfire_symbol__messagingIsSupported";globalThis[Ym]||(globalThis[Ym]=Ex().then(n=>globalThis[Id]=n).catch(()=>globalThis[Id]=!1)),globalThis[g4]||(globalThis[g4]=BT().then(n=>globalThis[wd]=n).catch(()=>globalThis[wd]=!1)),globalThis[Qm]||(globalThis[Qm]=Mm().then(n=>globalThis[p4]=n).catch(()=>globalThis[p4]=!1));const Cd=(n,e)=>{const t=e?[e]:(0,_i.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function Td(){}class ob{constructor(e,t=aF){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class ab{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Td,{},Td,Td)),t.pipe(Mn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xm=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ob(Zone.current)),this.insideAngular=t.run(()=>new ob(Zone.current,cF)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function na(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ac(n){return na().ngZone.run(()=>n())}function cb(n){return na(),function Px(n){return function(t){return(t=t.lift(new ab(n.ngZone))).pipe((0,Uf.R)(n.outsideAngular),(0,Ed.Q)(n.insideAngular))}}(na())(n)}const _4=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ac(()=>n.apply(void 0,r))},Qi=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=Ac(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Td,{},Td,Td)))),r[u]=_4(r[u],t));const i=function ub(n){return na().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof nr.y){const u=na();return i.pipe((0,Uf.R)(u.outsideAngular),(0,Ed.Q)(u.insideAngular))}return Ac(()=>i)}return i instanceof nr.y?i.pipe(cb):i instanceof Promise?Ac(()=>new Promise((u,l)=>i.then(f=>Ac(()=>u(f)),f=>Ac(()=>l(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ac(()=>i)};class Dc{constructor(e){return e}}class e0{constructor(){return(0,_i.getApps)()}}const y4=new o.OlP("angularfire2._apps"),kx={provide:Dc,useFactory:function Ox(n){return n&&1===n.length?n[0]:new Dc((0,_i.getApp)())},deps:[[new o.FiY,y4]]},Fx={provide:e0,deps:[[new o.FiY,y4]]};function db(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Dc(r)}}let v4=(()=>{class n{constructor(t){(0,_i.registerVersion)("angularfire",Km.full,"core"),(0,_i.registerVersion)("angularfire",Km.full,"app"),(0,_i.registerVersion)("angular",o.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[kx,Fx]}),n})();function hb(n,...e){return{ngModule:v4,providers:[{provide:y4,useFactory:db(n),multi:!0,deps:[o.R0b,o.zs3,Xm,...e]}]}}const Vx=Qi(_i.initializeApp,!0);P(6710);class Sc{constructor(){return Cd("auth")}}const n0=new Map,r0={activated:!1,tokenObservers:[]},yb={initialized:!1,enabled:!1};function Nn(n){return n0.get(n)||Object.assign({},r0)}function o0(){return yb}const vb="https://content-firebaseappcheck.googleapis.com/v1",Eb="exchangeDebugToken",Ib={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class aM{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,R.Z)(function*(){t.stop();try{t.pending=new _e.BH,yield function LF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _e.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hn=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function C4(n){if(!Nn(n).activated)throw Hn.create("use-before-activation",{appName:n.name})}function u0(n,e){return b4.apply(this,arguments)}function b4(){return(b4=(0,R.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,u)}catch(A){throw Hn.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==l.status)throw Hn.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(A){throw Hn.create("fetch-parse-error",{originalErrorMessage:A?.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Hn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(g[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+v,issuedAtTimeMillis:T}})).apply(this,arguments)}function wb(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${vb}/projects/${t}/apps/${r}:${Eb}?key=${i}`,body:{debug_token:e}}}const lM="firebase-app-check-database",dM=1,Bf="firebase-app-check-store";let c0=null;function Zf(){return(Zf=(0,R.Z)(function*(n,e){const r=(yield function Tb(){return c0||(c0=new Promise((n,e)=>{try{const t=indexedDB.open(lM,dM);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Hn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bf,{keyPath:"compositeKey"})}}catch(t){e(Hn.create("storage-open",{originalErrorMessage:t?.message}))}}),c0)}()).transaction(Bf,"readwrite"),u=r.objectStore(Bf).put({compositeKey:n,value:e});return new Promise((l,f)=>{u.onsuccess=g=>{l()},r.onerror=g=>{var v;f(Hn.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const bd=new Gr.Yd("@firebase/app-check");function l0(n,e){return(0,_e.hl)()?function fM(n,e){return function D4(n,e){return Zf.apply(this,arguments)}(function x4(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{bd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function d0(){return o0().enabled}function N4(){return jf.apply(this,arguments)}function jf(){return(jf=(0,R.Z)(function*(){const n=o0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Db={error:"UNKNOWN_ERROR"};function R4(n){return _e.US.encodeString(JSON.stringify(n),!1)}function Ad(n){return P4.apply(this,arguments)}function P4(){return(P4=(0,R.Z)(function*(n,e=!1){const t=n.app;C4(t);const r=Nn(t);let u,i=r.token;if(i&&!qf(i)&&(r.token=void 0,i=void 0),!i){const g=yield r.cachedTokenPromise;g&&(qf(g)?i=g:yield l0(t,void 0))}if(!e&&i&&qf(i))return{token:i.token};let f,l=!1;if(d0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=u0(wb(t,yield N4()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const g=yield r.exchangeTokenPromise;return yield l0(t,g),r.token=g,{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Nn(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?bd.warn(g.message):bd.error(g),u=g}return i?u?f=qf(i)?{token:i.token,internalError:u}:L4(u):(f={token:i.token},r.token=i,yield l0(t,i)):f=L4(u),l&&function F4(n,e){const t=Nn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function mM(n){return h0.apply(this,arguments)}function h0(){return(h0=(0,R.Z)(function*(n){const e=n.app;C4(e);const{provider:t}=Nn(e);if(d0()){const r=yield N4(),{token:i}=yield u0(wb(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function k4(n,e){const t=Nn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Sb(n){const{app:e}=n,t=Nn(e);let r=t.tokenRefresher;r||(r=function _M(n){const{app:e}=n;return new aM((0,R.Z)(function*(){let r;if(r=Nn(e).token?yield Ad(n,!0):yield Ad(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Nn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Ib.RETRIAL_MIN_WAIT,Ib.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qf(n){return n.expireTimeMillis-Date.now()>0}function L4(n){return{token:R4(Db),error:n}}class yM{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Nn(this.app);for(const t of e)k4(this.app,t.next);return Promise.resolve()}}const TM="app-check-internal";!function $F(){_r(new gn.wA("app-check",n=>function xb(n,e){return new yM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(TM).initialize()})),_r(new gn.wA(TM,n=>function VF(n){return{getToken:e=>Ad(n,e),getLimitedUseToken:()=>mM(n),addTokenListener:e=>function O4(n,e,t,r){const{app:i}=n,u=Nn(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&qf(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),Sb(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Sb(n))}(n,"INTERNAL",e),removeTokenListener:e=>k4(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),yi("@firebase/app-check","0.8.0")}();class j4{constructor(){return Cd("app-check")}}typeof window<"u"&&window;var He,DM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fs={},m0=m0||{},bt=DM||self;function Hf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Gf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _0="closure_uid_"+(1e9*Math.random()>>>0),$4=0;function zF(n,e,t){return n.call.apply(n.bind,arguments)}function jb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yr(n,e,t){return(yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zF:jb).apply(null,arguments)}function y0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function vr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Mc(){this.s=this.s,this.o=this.o}Mc.prototype.s=!1,Mc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function SM(n){Object.prototype.hasOwnProperty.call(n,_0)&&n[_0]||(n[_0]=++$4)}(this)},Mc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function H4(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function $b(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Hf(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let l=0;l<u;l++)n[i+l]=r[l]}else n.push(r)}}function Qr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Qr.prototype.h=function(){this.defaultPrevented=!0};var Hb=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",()=>{},e),bt.removeEventListener("test",()=>{},e)}catch{}return n}();function xd(n){return/^[\s\xa0]*$/.test(n)}function v0(){var n=bt.navigator;return n&&(n=n.userAgent)?n:""}function Ls(n){return-1!=v0().indexOf(n)}function E0(n){return E0[" "](n),n}E0[" "]=function(){};var z4,n,xM=Ls("Opera"),tu=Ls("Trident")||Ls("MSIE"),G4=Ls("Edge"),I0=G4||tu,Gb=Ls("Gecko")&&!(-1!=v0().toLowerCase().indexOf("webkit")&&!Ls("Edge"))&&!(Ls("Trident")||Ls("MSIE"))&&!Ls("Edge"),w0=-1!=v0().toLowerCase().indexOf("webkit")&&!Ls("Edge");function zb(){var n=bt.document;return n?n.documentMode:void 0}e:{var C0="",T0=(n=v0(),Gb?/rv:([^\);]+)(\)|;)/.exec(n):G4?/Edge\/([\d\.]+)/.exec(n):tu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):w0?/WebKit\/(\S+)/.exec(n):xM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(T0&&(C0=T0?T0[1]:""),tu){var Wb=zb();if(null!=Wb&&Wb>parseFloat(C0)){z4=String(Wb);break e}}z4=C0}var NM=bt.document&&tu&&(zb()||parseInt(z4,10))||void 0;function b0(n,e){if(Qr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Gb){e:{try{E0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:YF[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&b0.$.h.call(this)}}vr(b0,Qr);var YF={2:"touch",3:"pen",4:"mouse"};b0.prototype.h=function(){b0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zf="closure_listenable_"+(1e6*Math.random()|0),RM=0;function QF(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++RM,this.fa=this.ia=!1}function K4(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Kb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function PM(n){const e={};for(const t in n)e[t]=n[t];return e}const Yb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OM(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Yb.length;u++)t=Yb[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Y4(n){this.src=n,this.g={},this.h=0}function Qb(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=qb(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(K4(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Jb(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}Y4.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Jb(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new QF(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var Xb="closure_lm_"+(1e6*Math.random()|0),Q4={};function kM(n,e,t,r,i){if(r&&r.once)return c(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)kM(n,e[u],t,r,i);return null}return t=b(t),n&&n[zf]?n.O(e,t,Gf(r)?!!r.capture:!!r,i):s(n,e,t,!1,r,i)}function s(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var l=Gf(i)?!!i.capture:!!i,f=E(n);if(f||(n[Xb]=f=new Y4(n)),(t=f.add(e,t,r,l,u)).proxy)return t;if(r=function a(){const e=y;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Hb||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(p(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function c(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)c(n,e[u],t,r,i);return null}return t=b(t),n&&n[zf]?n.P(e,t,Gf(r)?!!r.capture:!!r,i):s(n,e,t,!0,r,i)}function d(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)d(n,e[u],t,r,i);else r=Gf(r)?!!r.capture:!!r,t=b(t),n&&n[zf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Jb(u=n.g[e],t,r,i))&&(K4(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=E(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Jb(e,t,r,i)),(t=-1<n?e[n]:null)&&h(t))}function h(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[zf])Qb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(p(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=E(e))?(Qb(t,n),0==t.h&&(t.src=null,e[Xb]=null)):K4(n)}}}function p(n){return n in Q4?Q4[n]:Q4[n]="on"+n}function y(n,e){if(n.fa)n=!0;else{e=new b0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&h(n),n=t.call(r,e)}return n}function E(n){return(n=n[Xb])instanceof Y4?n:null}var C="__closure_events_fn_"+(1e9*Math.random()>>>0);function b(n){return"function"==typeof n?n:(n[C]||(n[C]=function(e){return n.handleEvent(e)}),n[C])}function S(){Mc.call(this),this.i=new Y4(this),this.S=this,this.J=null}function N(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Qr(e,n);else if(e instanceof Qr)e.target=e.target||n;else{var i=e;OM(e=new Qr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];i=B(l,r,!0,e)&&i}if(i=B(l=e.g=n,r,!0,e)&&i,i=B(l,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=B(l=e.g=t[u],r,!1,e)&&i}function B(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var f=l.listener,g=l.la||l.src;l.ia&&Qb(n.i,l),i=!1!==f.call(g,r)&&i}}return i&&!r.defaultPrevented}vr(S,Mc),S.prototype[zf]=!0,S.prototype.removeEventListener=function(n,e,t,r){d(this,n,e,t,r)},S.prototype.N=function(){if(S.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)K4(t[r]);delete n.g[e],n.h--}}this.J=null},S.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},S.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var H=bt.JSON.stringify;function be(){var n=Us;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var tt=new class ae{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new me,n=>n.reset());class me{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Et(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Rt(n){bt.setTimeout(()=>{throw n},0)}let $t,Er=!1,Us=new class je{constructor(){this.h=this.g=null}add(e,t){const r=tt.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Nc=()=>{const n=bt.Promise.resolve(void 0);$t=()=>{n.then(J4)}};var J4=()=>{for(var n;n=be();){try{n.h.call(n.g)}catch(t){Rt(t)}var e=tt;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Er=!1};function A0(n,e){S.call(this),this.h=n||1,this.g=e||bt,this.j=yr(this.qb,this),this.l=Date.now()}function X4(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function FM(n,e,t){if("function"==typeof n)t&&(n=yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function XF(n){n.g=FM(()=>{n.g=null,n.i&&(n.i=!1,XF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}vr(A0,S),(He=A0.prototype).ga=!1,He.T=null,He.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),N(this,"tick"),this.ga&&(X4(this),this.start()))}},He.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.N=function(){A0.$.N.call(this),X4(this),delete this.g};class aj extends Mc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XF(this)}N(){super.N(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eE(n){Mc.call(this),this.h=n,this.g={}}vr(eE,Mc);var eL=[];function tL(n,e,t,r){Array.isArray(t)||(t&&(eL[0]=t.toString()),t=eL);for(var i=0;i<t.length;i++){var u=kM(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function nL(n){Kb(n.g,function(e,t){this.g.hasOwnProperty(t)&&h(e)},n),n.g={}}function eA(){this.g=!0}function D0(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dj(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<i.length;l++)i[l]=""}}}return H(t)}catch{return e}}(n,t)+(r?" "+r:"")})}eE.prototype.N=function(){eE.$.N.call(this),nL(this)},eE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eA.prototype.Ea=function(){this.g=!1},eA.prototype.info=function(){};var Wf={},rL=null;function tA(){return rL=rL||new S}function iL(n){Qr.call(this,Wf.Ta,n)}function tE(n){const e=tA();N(e,new iL(e))}function sL(n,e){Qr.call(this,Wf.STAT_EVENT,n),this.stat=e}function Ji(n){const e=tA();N(e,new sL(e,n))}function oL(n,e){Qr.call(this,Wf.Ua,n),this.size=e}function nE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}Wf.Ta="serverreachability",vr(iL,Qr),Wf.STAT_EVENT="statevent",vr(sL,Qr),Wf.Ua="timingevent",vr(oL,Qr);var nA={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},aL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function LM(){}function cL(){}LM.prototype.h=null;var BM,rE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function UM(){Qr.call(this,"d")}function VM(){Qr.call(this,"c")}function rA(){}function iE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new eE(this),this.P=hj,this.V=new A0(n=I0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lL}function lL(){this.i=null,this.g="",this.h=!1}vr(UM,Qr),vr(VM,Qr),vr(rA,LM),rA.prototype.g=function(){return new XMLHttpRequest},rA.prototype.i=function(){return{}},BM=new rA;var hj=45e3,ZM={},iA={};function jM(n,e,t){n.L=1,n.v=uA(Rc(e)),n.s=t,n.S=!0,dL(n,null)}function dL(n,e){n.G=Date.now(),sE(n),n.A=Rc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),IL(t.i,"t",r),n.C=0,t=n.l.J,n.h=new lL,n.g=HL(n.l,t?e:null,!n.s),0<n.O&&(n.M=new aj(yr(n.Pa,n,n.g),n.O)),tL(n.U,n.g,"readystatechange",n.nb),e=n.I?PM(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),tE(),function uj(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var l="",f=u.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var T=v[0];v=v[1];var A=T.split("_");l=2<=A.length&&"type"==A[1]?l+(T+"=")+v+"&":l+(T+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function hL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function fL(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=fj(n,t),i==iA){4==e&&(n.o=4,Ji(14),r=!1),D0(n.j,n.m,null,"[Incomplete Response]");break}if(i==ZM){n.o=4,Ji(15),D0(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}D0(n.j,n.m,i,null),qM(n,i)}hL(n)&&i!=iA&&i!=ZM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ji(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),YM(e),e.M=!0,Ji(11))):(D0(n.j,n.m,t,"[Invalid Chunked Response]"),Kf(n),oE(n))}function fj(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?iA:(t=Number(e.substring(t,r)),isNaN(t)?ZM:(r+=1)+t>e.length?iA:(e=e.slice(r,r+t),n.C=r+t,e))}function sE(n){n.Y=Date.now()+n.P,pL(n,n.P)}function pL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=nE(yr(n.lb,n),e)}function sA(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function oE(n){0==n.l.H||n.J||ZL(n.l,n)}function Kf(n){sA(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,X4(n.V),nL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function qM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||$M(t.i,n)))if(!n.K&&$M(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;pA(t),hA(t)}KM(t),Ji(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=nE(yr(t.ib,t),6e3));if(1>=TL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Qf(t,11)}else if((n.K||t.g==n)&&pA(t),!xd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const T=v[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const A=v[4];null!=A&&(t.Ga=A,t.l.info("SVER="+t.Ga));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.L=r=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const O=n.g;if(O){const j=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var u=r.i;u.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(HM(u,u.h),u.h=null))}if(r.F){const G=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;G&&(r.Da=G,Tn(r.I,r.F,G))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=$L(r,r.J?r.pa:null,r.Y),l.K){bL(r.i,l);var f=l,g=r.L;g&&f.setTimeout(g),f.B&&(sA(f),sE(f)),r.g=l}else VL(r);0<t.j.length&&fA(t)}else"stop"!=v[0]&&"close"!=v[0]||Qf(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Qf(t,7):WM(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}tE()}catch{}}function gL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Hf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function gj(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Hf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function pj(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Hf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(He=iE.prototype).setTimeout=function(n){this.P=n},He.nb=function(n){n=n.target;const e=this.M;e&&3==nu(n)?e.l():this.Pa(n)},He.Pa=function(n){try{if(n==this.g)e:{const T=nu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||I0||this.g&&(this.h.h||this.g.ja()||PL(this.g)))){this.J||4!=T||7==e||tE(),sA(this);var t=this.g.da();this.ca=t;t:if(hL(this)){var r=PL(this.g);n="";var i=r.length,u=4==nu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kf(this),oE(this);var l="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function cj(n,e,t,r,i,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xd(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Ji(12),Kf(this),oE(this);break e}D0(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qM(this,t)}this.S?(fL(this,T,l),I0&&this.i&&3==T&&(tL(this.U,this.V,"tick",this.mb),this.V.start())):(D0(this.j,this.m,l,null),qM(this,l)),4==T&&Kf(this),this.i&&!this.J&&(4==T?ZL(this.l,this):(this.i=!1,sE(this)))}else(function Pj(n){const e={};n=(n.g&&2<=nu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(xd(n[r]))continue;var t=Et(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[i]||[];e[i]=u,u.push(t)}!function JF(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ji(12)):(this.o=0,Ji(13)),Kf(this),oE(this)}}}catch{}},He.mb=function(){if(this.g){var n=nu(this.g),e=this.g.ja();this.C<e.length&&(sA(this),fL(this,n,e),this.i&&4!=n&&sE(this))}},He.cancel=function(){this.J=!0,Kf(this)},He.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function lj(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(tE(),Ji(17)),Kf(this),this.o=2,oE(this)):pL(this,this.Y-n)};var mL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Yf){this.h=n.h,oA(this,n.j),this.s=n.s,this.g=n.g,aA(this,n.m),this.l=n.l;var e=n.i,t=new cE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_L(this,t),this.o=n.o}else n&&(e=String(n).match(mL))?(this.h=!1,oA(this,e[1]||"",!0),this.s=aE(e[2]||""),this.g=aE(e[3]||"",!0),aA(this,e[4]),this.l=aE(e[5]||"",!0),_L(this,e[6]||"",!0),this.o=aE(e[7]||"")):(this.h=!1,this.i=new cE(null,this.h))}function Rc(n){return new Yf(n)}function oA(n,e,t){n.j=t?aE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function aA(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _L(n,e,t){e instanceof cE?(n.i=e,function wj(n,e){e&&!n.j&&(Md(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(vL(this,r),IL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=uE(e,Ej)),n.i=new cE(e,n.h))}function Tn(n,e,t){n.i.set(e,t)}function uA(n){return Tn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function aE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function uE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_j),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _j(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(uE(e,yL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(uE(e,yL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(uE(t,"/"==t.charAt(0)?vj:yj,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",uE(t,Ij)),n.join("")};var yL=/[#\/\?@]/g,yj=/[#\?:]/g,vj=/[#\?]/g,Ej=/[#\?@]/g,Ij=/#/g;function cE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Md(n){n.g||(n.g=new Map,n.h=0,n.i&&function mj(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vL(n,e){Md(n),e=S0(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function EL(n,e){return Md(n),e=S0(n,e),n.g.has(e)}function IL(n,e,t){vL(n,e),0<t.length&&(n.i=null,n.g.set(S0(n,e),H4(t)),n.h+=t.length)}function S0(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function wL(n){this.l=n||Tj,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ka&&bt.g.Ka()&&bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=cE.prototype).add=function(n,e){Md(this),this.i=null,n=S0(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},He.forEach=function(n,e){Md(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},He.ta=function(){Md(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},He.Z=function(n){Md(this);let e=[];if("string"==typeof n)EL(this,n)&&(e=e.concat(this.g.get(S0(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},He.set=function(n,e){return Md(this),this.i=null,EL(this,n=S0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},He.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=u;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var Tj=10;function CL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function TL(n){return n.h?1:n.g?n.g.size:0}function $M(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function HM(n,e){n.g?n.g.add(e):n.h=e}function bL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function AL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return H4(n.i)}wL.prototype.cancel=function(){if(this.i=AL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var bj=class{stringify(n){return bt.JSON.stringify(n,void 0)}parse(n){return bt.JSON.parse(n,void 0)}};function Aj(){this.g=new bj}function Dj(n,e,t){const r=t||"";try{gL(n,function(i,u){let l=i;Gf(i)&&(l=H(i)),e.push(r+u+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cA(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lE(n){this.l=n.fc||null,this.j=n.ob||!1}function lA(n,e){S.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=GM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vr(lE,LM),lE.prototype.g=function(){return new lA(this.l,this.j)},lE.prototype.i=function(n){return function(){return n}}({}),vr(lA,S);var GM=0;function DL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function dE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hE(n)}function hE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=lA.prototype).open=function(n,e){if(this.readyState!=GM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hE(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dE(this)),this.readyState=GM},He.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hE(this)),this.g&&(this.readyState=3,hE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},He.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dE(this):hE(this),3==this.readyState&&DL(this)}},He.Za=function(n){this.g&&(this.response=this.responseText=n,dE(this))},He.Ya=function(n){this.g&&(this.response=n,dE(this))},He.ka=function(){this.g&&dE(this)},He.setRequestHeader=function(n,e){this.v.append(n,e)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xj=bt.JSON.parse;function Xn(n){S.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=SL,this.L=this.M=!1}vr(Xn,S);var SL="",Mj=/^https?$/i,Nj=["POST","PUT"];function xL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ML(n),dA(n)}function ML(n){n.F||(n.F=!0,N(n,"complete"),N(n,"error"))}function NL(n){if(n.h&&typeof m0<"u"&&(!n.C[1]||4!=nu(n)||2!=n.da()))if(n.v&&4==nu(n))FM(n.La,0,n);else if(N(n,"readystatechange"),4==nu(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(mL)[1]||null;!i&&bt.self&&bt.self.location&&(i=bt.self.location.protocol.slice(0,-1)),r=!Mj.test(i?i.toLowerCase():"")}t=r}if(t)N(n,"complete"),N(n,"success");else{n.m=6;try{var u=2<nu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",ML(n)}}finally{dA(n)}}}function dA(n,e){if(n.g){RL(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||N(n,"ready");try{t.onreadystatechange=r}catch{}}}function RL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function nu(n){return n.g?n.g.readyState:0}function PL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case SL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function OL(n){let e="";return Kb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function zM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=OL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Tn(n,e,t))}function fE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kL(n){this.Ga=0,this.j=[],this.l=new eA,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fE("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fE("baseRetryDelayMs",5e3,n),this.hb=fE("retryDelaySeedMs",1e4,n),this.eb=fE("forwardChannelMaxRetries",2,n),this.xa=fE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new wL(n&&n.concurrentRequestLimit),this.Ja=new Aj,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function WM(n){if(FL(n),3==n.H){var e=n.W++,t=Rc(n.I);if(Tn(t,"SID",n.K),Tn(t,"RID",e),Tn(t,"TYPE","terminate"),pE(n,t),(e=new iE(n,n.l,e)).L=2,e.v=uA(Rc(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon)try{t=bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=HL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),sE(e)}qL(n)}function hA(n){n.g&&(YM(n),n.g.cancel(),n.g=null)}function FL(n){hA(n),n.u&&(bt.clearTimeout(n.u),n.u=null),pA(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function fA(n){if(!CL(n.i)&&!n.m){n.m=!0;var e=n.Na;$t||Nc(),Er||($t(),Er=!0),Us.add(e,n),n.C=0}}function LL(n,e){var t;t=e?e.m:n.W++;const r=Rc(n.I);Tn(r,"SID",n.K),Tn(r,"RID",t),Tn(r,"AID",n.V),pE(n,r),n.o&&n.s&&zM(r,n.o,n.s),t=new iE(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=UL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),HM(n.i,t),jM(t,r,e)}function pE(n,e){n.na&&Kb(n.na,function(t,r){Tn(e,r,t)}),n.h&&gL({},function(t,r){Tn(e,r,t)})}function UL(n,e,t){t=Math.min(n.j.length,t);var r=n.h?yr(n.h.Va,n.h,n):null;e:{var i=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=i[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let f=!0;for(let g=0;g<t;g++){let v=i[g].g;const T=i[g].map;if(v-=u,0>v)u=Math.max(0,i[g].g-100),f=!1;else try{Dj(T,l,"req"+v+"_")}catch{r&&r(T)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function VL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;$t||Nc(),Er||($t(),Er=!0),Us.add(e,n),n.A=0}}function KM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=nE(yr(n.Ma,n),jL(n,n.A)),n.A++,0))}function YM(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function BL(n){n.g=new iE(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Rc(n.wa);Tn(e,"RID","rpc"),Tn(e,"SID",n.K),Tn(e,"AID",n.V),Tn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Tn(e,"TO",n.qa),Tn(e,"TYPE","xmlhttp"),pE(n,e),n.o&&n.s&&zM(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=uA(Rc(e)),t.s=null,t.S=!0,dL(t,n)}function pA(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function ZL(n,e){var t=null;if(n.g==e){pA(n),YM(n),n.g=null;var r=2}else{if(!$M(n.i,e))return;t=e.F,bL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;N(r=tA(),new oL(r,t)),fA(n)}else VL(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Oj(n,e){return!(TL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=nE(yr(n.Na,n,e),jL(n,n.C)),n.C++,0)))}(n,e)||2==r&&KM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Qf(n,5);break;case 4:Qf(n,10);break;case 3:Qf(n,6);break;default:Qf(n,2)}}function jL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Qf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=yr(n.pb,n);t||(t=new Yf("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||oA(t,"https"),uA(t)),function Sj(n,e){const t=new eA;if(bt.Image){const r=new Image;r.onload=y0(cA,t,r,"TestLoadImage: loaded",!0,e),r.onerror=y0(cA,t,r,"TestLoadImage: error",!1,e),r.onabort=y0(cA,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=y0(cA,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ji(2);n.H=0,n.h&&n.h.za(e),qL(n),FL(n)}function qL(n){if(n.H=0,n.ma=[],n.h){const e=AL(n.i);(0!=e.length||0!=n.j.length)&&($b(n.ma,e),$b(n.ma,n.j),n.i.i.length=0,H4(n.j),n.j.length=0),n.h.ya()}}function $L(n,e,t){var r=t instanceof Yf?Rc(t):new Yf(t);if(""!=r.g)e&&(r.g=e+"."+r.g),aA(r,r.m);else{var i=bt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Yf(null);r&&oA(u,r),e&&(u.g=e),i&&aA(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Tn(r,t,e),Tn(r,"VER",n.ra),pE(n,r),r}function HL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xn(t&&n.Ha&&!n.va?new lE({ob:!0}):n.va)).Oa(n.J),e}function GL(){}function gA(){if(tu&&!(10<=Number(NM)))throw Error("Environmental error: no available transport.")}function Vs(n,e){S.call(this),this.g=new kL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!xd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new x0(this)}function zL(n){UM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function WL(){VM.call(this),this.status=1}function x0(n){this.g=n}function ia(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function QM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=u+((l=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function dn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(He=Xn.prototype).Oa=function(n){this.M=n},He.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():BM.g(),this.C=function uL(n){return n.h||(n.h=n.i())}(this.u?this.u:BM),this.g.onreadystatechange=yr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void xL(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=bt.FormData&&n instanceof bt.FormData,!(0<=qb(Nj,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{RL(this),0<this.B&&((this.L=function Rj(n){return tu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.ua,this)):this.A=FM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){xL(this,u)}},He.ua=function(){typeof m0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,N(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,N(this,"complete"),N(this,"abort"),dA(this))},He.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dA(this,!0)),Xn.$.N.call(this)},He.La=function(){this.s||(this.G||this.v||this.l?NL(this):this.kb())},He.kb=function(){NL(this)},He.isActive=function(){return!!this.g},He.da=function(){try{return 2<nu(this)?this.g.status:-1}catch{return-1}},He.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},He.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),xj(e)}},He.Ia=function(){return this.m},He.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=kL.prototype).ra=8,He.H=1,He.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new iE(this,this.l,n);let u=this.s;if(this.U&&(u?(u=PM(u),OM(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=UL(this,i,e),Tn(t=Rc(this.I),"RID",n),Tn(t,"CVER",22),this.F&&Tn(t,"X-HTTP-Session-Id",this.F),pE(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(OL(u)))+"&"+e:this.o&&zM(t,this.o,u)),HM(this.i,i),this.bb&&Tn(t,"TYPE","init"),this.P?(Tn(t,"$req",e),Tn(t,"SID","null"),i.aa=!0,jM(i,t,null)):jM(i,t,e),this.H=2}}else 3==this.H&&(n?LL(this,n):0==this.j.length||CL(this.i)||LL(this))},He.Ma=function(){if(this.u=null,BL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=nE(yr(this.jb,this),n)}},He.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ji(10),hA(this),BL(this))},He.ib=function(){null!=this.v&&(this.v=null,hA(this),KM(this),Ji(19))},He.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ji(2)):(this.l.info("Failed to ping google.com"),Ji(1))},He.isActive=function(){return!!this.h&&this.h.isActive(this)},(He=GL.prototype).Ba=function(){},He.Aa=function(){},He.za=function(){},He.ya=function(){},He.isActive=function(){return!0},He.Va=function(){},gA.prototype.g=function(n,e){return new Vs(n,e)},vr(Vs,S),Vs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ji(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$L(n,null,n.Y),fA(n)},Vs.prototype.close=function(){WM(this.g)},Vs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=H(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&fA(e)},Vs.prototype.N=function(){this.g.h=null,delete this.j,WM(this.g),delete this.g,Vs.$.N.call(this)},vr(zL,UM),vr(WL,VM),vr(x0,GL),x0.prototype.Ba=function(){N(this.g,"a")},x0.prototype.Aa=function(n){N(this.g,new zL(n))},x0.prototype.za=function(n){N(this.g,new WL)},x0.prototype.ya=function(){N(this.g,"b")},vr(ia,function kj(){this.blockSize=-1}),ia.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ia.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)QM(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){QM(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){QM(this,r),i=0;break}}this.h=i,this.i+=e},ia.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Fj={};function JM(n){return-128<=n&&128>n?function KF(n,e){var t=Fj;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new dn([0|e],0>e?-1:0)}):new dn([0|n],0>n?-1:0)}function ru(n){if(isNaN(n)||!isFinite(n))return M0;if(0>n)return Ei(ru(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=XM;return new dn(e,0)}var XM=4294967296,M0=JM(0),eN=JM(1),YL=JM(16777216);function Pc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function po(n){return-1==n.h}function Ei(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new dn(t,~n.h).add(eN)}function mA(n,e){return n.add(Ei(e))}function _A(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function gE(n,e){this.g=n,this.h=e}function yA(n,e){if(Pc(e))throw Error("division by zero");if(Pc(n))return new gE(M0,M0);if(po(n))return e=yA(Ei(n),e),new gE(Ei(e.g),Ei(e.h));if(po(e))return e=yA(n,Ei(e)),new gE(Ei(e.g),e.h);if(30<n.g.length){if(po(n)||po(e))throw Error("slowDivide_ only works with positive integers.");for(var t=eN,r=e;0>=r.X(n);)t=QL(t),r=QL(r);var i=N0(t,1),u=N0(r,1);for(r=N0(r,2),t=N0(t,2);!Pc(r);){var l=u.add(r);0>=l.X(n)&&(i=i.add(t),u=l),r=N0(r,1),t=N0(t,1)}return e=mA(n,i.R(e)),new gE(i,e)}for(i=M0;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=ru(t)).R(e);po(l)||0<l.X(n);)l=(u=ru(t-=r)).R(e);Pc(u)&&(u=eN),i=i.add(u),n=mA(n,l)}return new gE(i,n)}function QL(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new dn(t,n.h)}function N0(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new dn(i,n.h)}(He=dn.prototype).ea=function(){if(po(this))return-Ei(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:XM+r)*e,e*=XM}return n},He.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Pc(this))return"0";if(po(this))return"-"+Ei(this).toString(n);for(var e=ru(Math.pow(n,6)),t=this,r="";;){var i=yA(t,e).g,u=((0<(t=mA(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Pc(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},He.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},He.X=function(n){return po(n=mA(this,n))?-1:Pc(n)?0:1},He.abs=function(){return po(this)?Ei(this):this},He.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),l=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(u&=65535)}return new dn(t,-2147483648&t[t.length-1]?-1:0)},He.R=function(n){if(Pc(this)||Pc(n))return M0;if(po(this))return po(n)?Ei(this).R(Ei(n)):Ei(Ei(this).R(n));if(po(n))return Ei(this.R(Ei(n)));if(0>this.X(YL)&&0>n.X(YL))return ru(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,g=65535&n.D(i);t[2*r+2*i]+=l*g,_A(t,2*r+2*i),t[2*r+2*i+1]+=u*g,_A(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,_A(t,2*r+2*i+1),t[2*r+2*i+2]+=u*f,_A(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new dn(t,0)},He.gb=function(n){return yA(this,n).h},He.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new dn(t,this.h&n.h)},He.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new dn(t,this.h|n.h)},He.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new dn(t,this.h^n.h)},gA.prototype.createWebChannel=gA.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,nA.NO_ERROR=0,nA.TIMEOUT=8,nA.HTTP_ERROR=6,aL.COMPLETE="complete",cL.EventType=rE,rE.OPEN="a",rE.CLOSE="b",rE.ERROR="c",rE.MESSAGE="d",S.prototype.listen=S.prototype.O,Xn.prototype.listenOnce=Xn.prototype.P,Xn.prototype.getLastError=Xn.prototype.Sa,Xn.prototype.getLastErrorCode=Xn.prototype.Ia,Xn.prototype.getStatus=Xn.prototype.da,Xn.prototype.getResponseJson=Xn.prototype.Wa,Xn.prototype.getResponseText=Xn.prototype.ja,Xn.prototype.send=Xn.prototype.ha,Xn.prototype.setWithCredentials=Xn.prototype.Oa,ia.prototype.digest=ia.prototype.l,ia.prototype.reset=ia.prototype.reset,ia.prototype.update=ia.prototype.j,dn.prototype.add=dn.prototype.add,dn.prototype.multiply=dn.prototype.R,dn.prototype.modulo=dn.prototype.gb,dn.prototype.compare=dn.prototype.X,dn.prototype.toNumber=dn.prototype.ea,dn.prototype.toString=dn.prototype.toString,dn.prototype.getBits=dn.prototype.D,dn.fromNumber=ru,dn.fromString=function KL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ei(KL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ru(Math.pow(e,8)),r=M0,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+u),e);8>u?(u=ru(Math.pow(e,u)),r=r.R(u).add(ru(l))):r=(r=r.R(t)).add(ru(l))}return r};var Lj=Fs.createWebChannelTransport=function(){return new gA},Uj=Fs.getStatEventTarget=function(){return tA()},tN=Fs.ErrorCode=nA,Vj=Fs.EventType=aL,Bj=Fs.Event=Wf,JL=Fs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zj=Fs.FetchXmlHttpFactory=lE,vA=Fs.WebChannel=cL,jj=Fs.XhrIo=Xn,qj=Fs.Md5=ia,R0=Fs.Integer=dn;const XL="@firebase/firestore";class Jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let P0="9.23.0";const Nd=new Gr.Yd("@firebase/firestore");function nN(){return Nd.logLevel}function De(n,...e){if(Nd.logLevel<=Gr.in.DEBUG){const t=e.map(rN);Nd.debug(`Firestore (${P0}): ${n}`,...t)}}function ar(n,...e){if(Nd.logLevel<=Gr.in.ERROR){const t=e.map(rN);Nd.error(`Firestore (${P0}): ${n}`,...t)}}function sa(n,...e){if(Nd.logLevel<=Gr.in.WARN){const t=e.map(rN);Nd.warn(`Firestore (${P0}): ${n}`,...t)}}function rN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${P0}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function rt(n,e){n||Je()}function Ge(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class eU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $j{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jr.UNAUTHENTICATED))}shutdown(){}}class Hj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gj{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new kr,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,R.Z)(function*(){yield v.promise,yield u(r.currentUser)}))},g=v=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new kr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt("string"==typeof r.accessToken),new eU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(null===e||"string"==typeof e),new Jr(e)}}class zj{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Wj{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new zj(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kj{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt("string"==typeof t.token),this.T=t.token,new tU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class nU{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Yj(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[u]%62))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function O0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new Gn(0,0))}static max(){return new ot(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mE{constructor(e,t,r){void 0===t?t=0:t>e.length&&Je(),void 0===r?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===mE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mE?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),l=t.get(i);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends mE{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const Qj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends mE{construct(e,t,r){return new ur(e,t,r)}static isValidIdentifier(e){return Qj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ie(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ie(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(u(),i++)}if(u(),l)throw new Ie(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(t)}static emptyPath(){return new ur([])}}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Wt.fromString(e))}static fromName(e){return new $e(Wt.fromString(e).popFirst(5))}static empty(){return new $e(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Wt(e.slice()))}}function sU(n){return new Bs(n.readTime,n.key,-1)}class Bs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bs(ot.min(),$e.empty(),-1)}static max(){return new Bs(ot.max(),$e.empty(),-1)}}function sN(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const oU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rd(n){return oN.apply(this,arguments)}function oN(){return oN=(0,R.Z)(function*(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==oU)throw n;De("LocalStore","Unexpectedly lost primary lease")}),oN.apply(this,arguments)}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,r)=>{t(e)})}static reject(e){return new z((t,r)=>{r(e)})}static waitFor(e){return new z((t,r)=>{let i=0,u=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++u,l&&u===i&&t()},g=>r(g))}),l=!0,u===i&&t()})}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next(i=>i?z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new z((r,i)=>{const u=e.length,l=new Array(u);let f=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next(T=>{l[v]=T,++f,f===u&&r(l)},T=>i(T))}})}static doWhile(e,t){return new z((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function Pd(n){return"IndexedDbTransactionError"===n.name}let Zs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function vE(n){return null==n}function EE(n){return 0===n&&1/n==-1/0}function gU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Od(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class In{constructor(e,t){this.comparator=e,this.root=t||Ii.EMPTY}insert(e,t){return new In(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(e){return new In(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new TA(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new TA(this.root,e,this.comparator,!1)}getReverseIterator(){return new TA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new TA(this.root,e,this.comparator,!0)}}class TA{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ii{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Ii.RED,this.left=i??Ii.EMPTY,this.right=u??Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Ii(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ii.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1,Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ii(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _U(this.data.getIterator())}getIteratorFrom(e){return new _U(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class _U{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ms{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new ms([])}unionWith(e){let t=new bn(ur.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return O0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class yU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yU("Invalid base64 string: "+i):i}}(e);return new Fr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const Cq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kd(n){if(rt(!!n),"string"==typeof n){let e=0;const t=Cq.exec(n);if(rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:er(n.seconds),nanos:er(n.nanos)}}function er(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Oc(n){return"string"==typeof n?Fr.fromBase64String(n):Fr.fromUint8Array(n)}function bA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function AA(n){const e=n.mapValue.fields.__previous_value__;return bA(e)?AA(e):e}function IE(n){const e=kd(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class Tq{constructor(e,t,r,i,u,l,f,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v}}class ep{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ep("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ep&&e.projectId===this.projectId&&e.database===this.database}}const Fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ld(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bA(n)?4:wU(n)?9007199254740991:10:Je()}function su(n,e){if(n===e)return!0;const t=Ld(n);if(t!==Ld(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return IE(n).isEqual(IE(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=kd(r.timestampValue),l=kd(i.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Oc(n.bytesValue).isEqual(Oc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return er(r.geoPointValue.latitude)===er(i.geoPointValue.latitude)&&er(r.geoPointValue.longitude)===er(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return er(r.integerValue)===er(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=er(r.doubleValue),l=er(i.doubleValue);return u===l?EE(u)===EE(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return O0(n.arrayValue.values||[],e.arrayValue.values||[],su);case 10:return function(r,i){const u=r.mapValue.fields||{},l=i.mapValue.fields||{};if(gU(u)!==gU(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===l[f]||!su(u[f],l[f])))return!1;return!0}(n,e);default:return Je()}var i}function wE(n,e){return void 0!==(n.values||[]).find(t=>su(t,e))}function Ud(n,e){if(n===e)return 0;const t=Ld(n),r=Ld(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const l=er(i.integerValue||i.doubleValue),f=er(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return vU(n.timestampValue,e.timestampValue);case 4:return vU(IE(n),IE(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(i,u){const l=Oc(i),f=Oc(u);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const l=i.split("/"),f=u.split("/");for(let g=0;g<l.length&&g<f.length;g++){const v=xt(l[g],f[g]);if(0!==v)return v}return xt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const l=xt(er(i.latitude),er(u.latitude));return 0!==l?l:xt(er(i.longitude),er(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const l=i.values||[],f=u.values||[];for(let g=0;g<l.length&&g<f.length;++g){const v=Ud(l[g],f[g]);if(v)return v}return xt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Fd.mapValue&&u===Fd.mapValue)return 0;if(i===Fd.mapValue)return 1;if(u===Fd.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),g=u.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let T=0;T<f.length&&T<v.length;++T){const A=xt(f[T],v[T]);if(0!==A)return A;const M=Ud(l[f[T]],g[v[T]]);if(0!==M)return M}return xt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Je()}}function vU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=kd(n),r=kd(e),i=xt(t.seconds,r.seconds);return 0!==i?i:xt(t.nanos,r.nanos)}function F0(n){return cN(n)}function cN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=kd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Oc(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const l of r.values||[])u?u=!1:i+=",",i+=cN(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const f of i)l?l=!1:u+=",",u+=`${f}:${cN(r.fields[f])}`;return u+"}"}(n.mapValue):Je();var e}function tp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lN(n){return!!n&&"integerValue"in n}function CE(n){return!!n&&"arrayValue"in n}function EU(n){return!!n&&"nullValue"in n}function IU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xA(n){return!!n&&"mapValue"in n}function TE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Od(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=TE(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=TE(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xA(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=TE(t)}setAll(e){let t=ur.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=TE(l):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());xA(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return su(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xA(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Od(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new wi(TE(this.value))}}function bU(n){const e=[];return Od(n.fields,(t,r)=>{const i=new ur([t]);if(xA(r)){const u=bU(r.mapValue).fields;if(0===u.length)e.push(i);else for(const l of u)e.push(i.child(l))}else e.push(i)}),new ms(e)}class An{constructor(e,t,r,i,u,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=l,this.documentState=f}static newInvalidDocument(e){return new An(e,0,ot.min(),ot.min(),ot.min(),wi.empty(),0)}static newFoundDocument(e,t,r,i){return new An(e,1,t,ot.min(),r,i,0)}static newNoDocument(e,t){return new An(e,2,t,ot.min(),ot.min(),wi.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,ot.min(),ot.min(),wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ot.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vd{constructor(e,t){this.position=e,this.inclusive=t}}function AU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],l=n.position[i];if(r=u.field.isKeyField()?$e.comparator($e.fromName(l.referenceValue),t.key):Ud(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function DU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!su(n.position[t],e.position[t]))return!1;return!0}class L0{constructor(e,t="asc"){this.field=e,this.dir=t}}function Dq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class SU{}class jt extends SU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Sq(e,t,r):"array-contains"===t?new Nq(e,r):"in"===t?new OU(e,r):"not-in"===t?new Rq(e,r):"array-contains-any"===t?new Pq(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new xq(e,r):new Mq(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ud(t,this.value)):null!==t&&Ld(this.value)===Ld(t)&&this.matchesComparison(Ud(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class hn extends SU{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new hn(e,t)}matches(e){return U0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function U0(n){return"and"===n.op}function hN(n){return function xU(n){for(const e of n.filters)if(e instanceof hn)return!1;return!0}(n)&&U0(n)}function fN(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+F0(n.value);if(hN(n))return n.filters.map(e=>fN(e)).join(",");{const e=n.filters.map(t=>fN(t)).join(",");return`${n.op}(${e})`}}function MU(n,e){return n instanceof jt?(t=n,(r=e)instanceof jt&&t.op===r.op&&t.field.isEqual(r.field)&&su(t.value,r.value)):n instanceof hn?function(t,r){return r instanceof hn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,l)=>i&&MU(u,r.filters[l]),!0)}(n,e):void Je();var t,r}function RU(n){return n instanceof jt?`${(e=n).field.canonicalString()} ${e.op} ${F0(e.value)}`:n instanceof hn?function(e){return e.op.toString()+" {"+e.getFilters().map(RU).join(" ,")+"}"}(n):"Filter";var e}class Sq extends jt{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class xq extends jt{constructor(e,t){super(e,"in",t),this.keys=PU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mq extends jt{constructor(e,t){super(e,"not-in",t),this.keys=PU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function PU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class Nq extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return CE(t)&&wE(t.arrayValue,this.value)}}class OU extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wE(this.value.arrayValue,t)}}class Rq extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wE(this.value.arrayValue,t)}}class Pq extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!CE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wE(this.value.arrayValue,r))}}class Oq{constructor(e,t=null,r=[],i=[],u=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=l,this.endAt=f,this.dt=null}}function pN(n,e=null,t=[],r=[],i=null,u=null,l=null){return new Oq(n,e,t,r,i,u,l)}function np(n){const e=Ge(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fN(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),vE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>F0(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>F0(r)).join(",")),e.dt=t}return e.dt}function bE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Dq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!MU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DU(n.startAt,e.startAt)&&DU(n.endAt,e.endAt)}function MA(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class kc{constructor(e,t=null,r=[],i=[],u=null,l="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=l,this.startAt=f,this.endAt=g,this.wt=null,this._t=null}}function V0(n){return new kc(n)}function UU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function gN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function RA(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function mN(n){return null!==n.collectionGroup}function rp(n){const e=Ge(n);if(null===e.wt){e.wt=[];const t=RA(e),r=gN(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new L0(t)),e.wt.push(new L0(ur.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new L0(ur.keyField(),u))}}}return e.wt}function Xi(n){const e=Ge(n);if(!e._t)if("F"===e.limitType)e._t=pN(e.path,e.collectionGroup,rp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of rp(e))t.push(new L0(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Vd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Vd(e.startAt.position,e.startAt.inclusive):null;e._t=pN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function _N(n,e){e.getFirstInequalityField(),RA(n);const t=n.filters.concat([e]);return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function PA(n,e,t){return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function AE(n,e){return bE(Xi(n),Xi(e))&&n.limitType===e.limitType}function VU(n){return`${np(Xi(n))}|lt:${n.limitType}`}function yN(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>RU(r)).join(", ")}]`),vE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>F0(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>F0(r)).join(",")),`Target(${t})`}(Xi(n))}; limitType=${n.limitType})`}function DE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$e.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of rp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,l){const f=AU(i,u,l);return i.inclusive?f<=0:f<0}(t.startAt,rp(t),r)||t.endAt&&!function(i,u,l){const f=AU(i,u,l);return i.inclusive?f>=0:f>0}(t.endAt,rp(t),r)));var t,r}function ZU(n){return(e,t)=>{let r=!1;for(const i of rp(n)){const u=kq(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function kq(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(i,u,l){const f=u.data.field(i),g=l.data.field(i);return null!==f&&null!==g?Ud(f,g):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}class Fc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Od(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return mU(this.inner)}size(){return this.innerSize}}const Fq=new In($e.comparator);function _s(){return Fq}const jU=new In($e.comparator);function SE(...n){let e=jU;for(const t of n)e=e.insert(t.key,t);return e}function qU(n){let e=jU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ou(){return xE()}function $U(){return xE()}function xE(){return new Fc(n=>n.toString(),(n,e)=>n.isEqual(e))}const Lq=new In($e.comparator),Uq=new bn($e.comparator);function Pt(...n){let e=Uq;for(const t of n)e=e.add(t);return e}const Vq=new bn(xt);function HU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:EE(e)?"-0":e}}function GU(n){return{integerValue:""+n}}function zU(n,e){return function uU(n){return"number"==typeof n&&Number.isInteger(n)&&!EE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?GU(e):HU(n,e)}class OA{constructor(){this._=void 0}}function Bq(n,e,t){return n instanceof B0?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&bA(i)&&(i=AA(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof ip?KU(n,e):n instanceof sp?YU(n,e):function(r,i){const u=WU(r,i),l=QU(u)+QU(r.gt);return lN(u)&&lN(r.gt)?GU(l):HU(r.serializer,l)}(n,e)}function Zq(n,e,t){return n instanceof ip?KU(n,e):n instanceof sp?YU(n,e):t}function WU(n,e){return n instanceof Z0?lN(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class B0 extends OA{}class ip extends OA{constructor(e){super(),this.elements=e}}function KU(n,e){const t=JU(e);for(const r of n.elements)t.some(i=>su(i,r))||t.push(r);return{arrayValue:{values:t}}}class sp extends OA{constructor(e){super(),this.elements=e}}function YU(n,e){let t=JU(e);for(const r of n.elements)t=t.filter(i=>!su(i,r));return{arrayValue:{values:t}}}class Z0 extends OA{constructor(e,t){super(),this.serializer=e,this.gt=t}}function QU(n){return er(n.integerValue||n.doubleValue)}function JU(n){return CE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qq{constructor(e,t){this.version=e,this.transformResults=t}}class Rn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kA(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class FA{}function XU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new q0(n.key,Rn.none()):new j0(n.key,n.data,Rn.none());{const t=n.data,r=wi.empty();let i=new bn(ur.comparator);for(let u of e.fields)if(!i.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),i=i.add(u)}return new Lc(n.key,r,new ms(i.toArray()),Rn.none())}}function $q(n,e,t){n instanceof j0?function(r,i,u){const l=r.value.clone(),f=nV(r.fieldTransforms,i,u.transformResults);l.setAll(f),i.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Lc?function(r,i,u){if(!kA(r.precondition,i))return void i.convertToUnknownDocument(u.version);const l=nV(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(tV(r)),f.setAll(l),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function NE(n,e,t,r){return n instanceof j0?function(i,u,l,f){if(!kA(i.precondition,u))return l;const g=i.value.clone(),v=rV(i.fieldTransforms,f,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof Lc?function(i,u,l,f){if(!kA(i.precondition,u))return l;const g=rV(i.fieldTransforms,f,u),v=u.data;return v.setAll(tV(i)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,kA(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function Hq(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=WU(r.transform,i||null);null!=u&&(null===t&&(t=wi.empty()),t.set(r.field,u))}return t||null}function eV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&O0(t,r,(i,u)=>function jq(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ip&&r instanceof ip||t instanceof sp&&r instanceof sp?O0(t.elements,r.elements,su):t instanceof Z0&&r instanceof Z0?su(t.gt,r.gt):t instanceof B0&&r instanceof B0);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class j0 extends FA{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Lc extends FA{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function nV(n,e,t){const r=new Map;rt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],l=u.transform,f=e.data.field(u.field);r.set(u.field,Zq(l,f,t[i]))}return r}function rV(n,e,t){const r=new Map;for(const i of n){const u=i.transform,l=t.data.field(i.field);r.set(i.field,Bq(u,l,e))}return r}class q0 extends FA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EN extends FA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&$q(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=NE(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=NE(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$U();return this.mutations.forEach(i=>{const u=e.get(i.key),l=u.overlayedDocument;let f=this.applyToLocalView(l,u.mutatedFields);f=t.has(i.key)?null:f;const g=XU(l,f);null!==g&&r.set(i.key,g),l.isValidDocument()||l.convertToNoDocument(ot.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pt())}isEqual(e){return this.batchId===e.batchId&&O0(this.mutations,e.mutations,(t,r)=>eV(t,r))&&O0(this.baseMutations,e.baseMutations,(t,r)=>eV(t,r))}}class wN{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){rt(e.mutations.length===r.length);let i=Lq;const u=e.mutations;for(let l=0;l<u.length;l++)i=i.insert(u[l].key,r[l].version);return new wN(e,t,r,i)}}class CN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zq{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ir,Kt;function sV(n){if(void 0===n)return ar("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Ir.OK:return ne.OK;case Ir.CANCELLED:return ne.CANCELLED;case Ir.UNKNOWN:return ne.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return ne.INTERNAL;case Ir.UNAVAILABLE:return ne.UNAVAILABLE;case Ir.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ir.NOT_FOUND:return ne.NOT_FOUND;case Ir.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ir.ABORTED:return ne.ABORTED;case Ir.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ir.DATA_LOSS:return ne.DATA_LOSS;default:return Je()}}(Kt=Ir||(Ir={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class TN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return LA}static getOrCreateInstance(){return null===LA&&(LA=new TN),LA}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let LA=null;const Wq=new R0([4294967295,4294967295],0);function aV(n){const e=function oV(){return new TextEncoder}().encode(n),t=new qj;return t.update(e),new Uint8Array(t.digest())}function uV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new R0([t,r],0),new R0([i,u],0)]}class bN{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new RE(`Invalid padding: ${t}`);if(r<0)throw new RE(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new RE(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new RE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=R0.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(R0.fromNumber(r)));return 1===i.compare(Wq)&&(i=new R0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=aV(e),[r,i]=uV(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new bN(u,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=aV(e),[r,i]=uV(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class RE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class PE{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,OE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new PE(ot.min(),i,new In(xt),_s(),Pt())}}class OE{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new OE(r,t,Pt(),Pt(),Pt())}}class UA{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class cV{constructor(e,t){this.targetId=e,this.Vt=t}}class lV{constructor(e,t,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class dV{constructor(){this.St=0,this.Dt=fV(),this.Ct=Fr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Pt(),t=Pt(),r=Pt();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Je()}}),new OE(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=fV()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Kq{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=_s(),this.zt=hV(),this.Wt=new In(xt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(MA(l))if(0===i){const f=new $e(l.path);this.Yt(r,f,An.newNoDocument(f,ot.min()))}else rt(1===i);else{const f=this.ie(r);if(f!==i){const g=this.re(e,f);0!==g&&(this.ee(r),this.Wt=this.Wt.insert(r,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=TN.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,T,A){var M,O,j,G,X,Ce;const Fe={localCacheCount:T,existenceFilterCount:A.count},ke=A.unchangedNames;return ke&&(Fe.bloomFilter={applied:0===v,hashCount:null!==(M=ke?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(G=null===(j=null===(O=ke?.bits)||void 0===O?void 0:O.bitmap)||void 0===j?void 0:j.length)&&void 0!==G?G:0,padding:null!==(Ce=null===(X=ke?.bits)||void 0===X?void 0:X.padding)&&void 0!==Ce?Ce:0}),Fe}(g,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:f=0}=r;let g,v;try{g=Oc(u).toUint8Array()}catch(T){if(T instanceof yU)return sa("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{v=new bN(g,l,f)}catch(T){return sa(T instanceof RE?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===v.It?1:i!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(f)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const f=this.se(l);if(f){if(u.current&&MA(f.target)){const g=new $e(f.target.path);null!==this.jt.get(g)||this.ae(l,g)||this.Yt(l,g,An.newNoDocument(g,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Pt();this.zt.forEach((u,l)=>{let f=!0;l.forEachWhile(g=>{const v=this.se(g);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const i=new PE(e,t,this.Wt,this.jt,r);return this.jt=_s(),this.zt=hV(),this.Wt=new In(xt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new dV,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new bn(xt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||De("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new dV),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function hV(){return new In($e.comparator)}function fV(){return new In($e.comparator)}const Yq={asc:"ASCENDING",desc:"DESCENDING"},Qq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jq={and:"AND",or:"OR"};class Xq{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function AN(n,e){return n.useProto3Json||vE(e)?e:{value:e}}function $0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function e$(n,e){return $0(n,e.toTimestamp())}function cr(n){return rt(!!n),ot.fromTimestamp(function(e){const t=kd(e);return new Gn(t.seconds,t.nanos)}(n))}function DN(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gV(n){const e=Wt.fromString(n);return rt(TV(e)),e}function kE(n,e){return DN(n.databaseId,e.path)}function au(n,e){const t=gV(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(_V(t))}function SN(n,e){return DN(n.databaseId,e)}function FE(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _V(n){return rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yV(n,e,t){return{name:kE(n,e),fields:t.value.mapValue.fields}}function EV(n,e){return{documents:[SN(n,e.path)]}}function MN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=SN(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=SN(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0!==g.length)return CV(hn.create(g,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(g){if(0!==g.length)return g.map(v=>{return{field:Bd((T=v).field),direction:s$(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=AN(n,e.limit);var f,g;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function IV(n){let e=function mV(n){const e=gV(n);return 4===e.length?Wt.emptyPath():_V(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){rt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const A=wV(T);return A instanceof hn&&hN(A)?A.getFilters():[A]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new L0(H0((A=T).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,vE(A)?null:A}(t.limit));let g=null;var T;t.startAt&&(g=new Vd((T=t.startAt).values||[],!!T.before));let v=null;return t.endAt&&(v=function(T){return new Vd(T.values||[],!T.before)}(t.endAt)),function LU(n,e,t,r,i,u,l,f){return new kc(n,e,t,r,i,u,l,f)}(e,i,l,u,f,"F",g,v)}function wV(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=H0(e.unaryFilter.field);return jt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=H0(e.unaryFilter.field);return jt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=H0(e.unaryFilter.field);return jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=H0(e.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(n):void 0!==n.fieldFilter?jt.create(H0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return hn.create(e.compositeFilter.filters.map(t=>wV(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Je()}}(e.compositeFilter.op))}(n):Je();var e}function s$(n){return Yq[n]}function o$(n){return Qq[n]}function a$(n){return Jq[n]}function Bd(n){return{fieldPath:n.canonicalString()}}function H0(n){return ur.fromServerFormat(n.fieldPath)}function CV(n){return n instanceof jt?function(e){if("=="===e.op){if(IU(e.value))return{unaryFilter:{field:Bd(e.field),op:"IS_NAN"}};if(EU(e.value))return{unaryFilter:{field:Bd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(IU(e.value))return{unaryFilter:{field:Bd(e.field),op:"IS_NOT_NAN"}};if(EU(e.value))return{unaryFilter:{field:Bd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bd(e.field),op:o$(e.op),value:e.value}}}(n):n instanceof hn?function(e){const t=e.getFilters().map(r=>CV(r));return 1===t.length?t[0]:{compositeFilter:{op:a$(e.op),filters:t}}}(n):Je()}function u$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Uc{constructor(e,t,r,i,u=ot.min(),l=ot.min(),f=Fr.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bV{constructor(e){this.fe=e}}function NN(n){const e=IV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?PA(e,e.limit,"L"):e}class cp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(er(e.integerValue));else if("doubleValue"in e){const r=er(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),EE(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Oc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?wU(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Je()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),$e.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}cp.Ve=new cp;class _${constructor(){this.rn=new LN}addToCollectionParentIndex(e,t){return this.rn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(Bs.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class LN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bn(Wt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(Wt.comparator)).toArray()}}new Uint8Array(0);class Li{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class dp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new dp(0)}static Mn(){return new dp(-1)}}class C${constructor(){this.changes=new Fc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class A${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class QV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&NE(r.mutation,i,ms.empty(),Gn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pt()){const i=ou();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let l=SE();return u.forEach((f,g)=>{l=l.insert(f,g.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ou();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let u=_s();const l=xE(),f=xE();return t.forEach((g,v)=>{const T=r.get(v.key);i.has(v.key)&&(void 0===T||T.mutation instanceof Lc)?u=u.insert(v.key,v):void 0!==T?(l.set(v.key,T.mutation.getFieldMask()),NE(T.mutation,v,T.mutation.getFieldMask(),Gn.now())):l.set(v.key,ms.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,T)=>l.set(v,T)),t.forEach((v,T)=>{var A;return f.set(v,new A$(T,null!==(A=l.get(v))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=xE();let i=new In((l,f)=>l-f),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let T=r.get(g)||ms.empty();T=f.applyToLocalView(v,T),r.set(g,T);const A=(i.get(f.batchId)||Pt()).add(g);i=i.insert(f.batchId,A)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,T=g.value,A=$U();T.forEach(M=>{if(!u.has(M)){const O=XU(t.get(M),r.get(M));null!==O&&A.set(M,O),u=u.add(M)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,A))}return z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return $e.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):mN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const l=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):z.resolve(ou());let f=-1,g=u;return l.next(v=>z.forEach(v,(T,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),u.get(T)?z.resolve():this.remoteDocumentCache.getEntry(e,T).next(M=>{g=g.insert(T,M)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Pt())).next(T=>({batchId:f,changes:qU(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let i=SE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=SE();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,f=>{const g=(v=t,T=f.child(i),new kc(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,T;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(v=>{v.forEach((T,A)=>{u=u.insert(T,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((f,g)=>{const v=g.getKey();null===u.get(v)&&(u=u.insert(v,An.newInvalidDocument(v)))});let l=SE();return u.forEach((f,g)=>{const v=i.get(f);void 0!==v&&NE(v.mutation,g,ms.empty(),Gn.now()),DE(t,g)&&(l=l.insert(f,g))}),l})}}class D${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return z.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:cr(r.createTime)}),z.resolve()}getNamedQuery(e,t){return z.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:NN(r.bundledQuery),readTime:cr(r.readTime)}),z.resolve();var r}}class S${constructor(){this.overlays=new In($e.comparator),this.ls=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ou();return z.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const i=ou(),u=t.length+1,l=new $e(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>r&&i.set(g.getKey(),g)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new In((v,T)=>v-T);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let T=u.get(v.largestBatchId);null===T&&(T=ou(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const f=ou(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,T)=>f.set(v,T)),!(f.size()>=i)););return z.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new CN(t,r));let u=this.ls.get(t);void 0===u&&(u=Pt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class UN{constructor(){this.fs=new bn(ei.ds),this.ws=new bn(ei._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ei(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ei(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new $e(new Wt([])),r=new ei(t,e),i=new ei(t,e+1),u=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new $e(new Wt([])),r=new ei(t,e),i=new ei(t,e+1);let u=Pt();return this.ws.forEachInRange([r,i],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new ei(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ei{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return $e.comparator(e.key,t.key)||xt(e.As,t.As)}static _s(e,t){return xt(e.As,t.As)||$e.comparator(e.key,t.key)}}class x${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new bn(ei.ds)}checkEmpty(e){return z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const l=new IN(u,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new ei(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return z.resolve(l)}lookupMutationBatch(e,t){return z.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ei(t,0),i=new ei(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);u.push(f)}),z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(xt);return t.forEach(i=>{const u=new ei(i,0),l=new ei(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],f=>{r=r.add(f.As)})}),z.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;$e.isDocumentKey(u)||(u=u.child(""));const l=new ei(new $e(u),0);let f=new bn(xt);return this.Rs.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(g.As)),!0)},l),z.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){rt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return z.forEach(t.mutations,i=>{const u=new ei(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ei(t,0),i=this.Rs.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return z.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class M${constructor(e){this.Ds=e,this.docs=new In($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=_s();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():An.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=_s();const l=t.path,f=new $e(l.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||sN(sU(T),r)<=0||(i.has(T.key)||DE(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return z.resolve(u)}getAllFromCollectionGroup(e,t,r,i){Je()}Cs(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new N$(this)}getSize(e){return z.resolve(this.size)}}class N$ extends C${constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class R${constructor(e){this.persistence=e,this.xs=new Fc(t=>np(t),bE),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Ns=0,this.ks=new UN,this.targetCount=0,this.Ms=dp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),z.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new dp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Fn(t),z.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),z.waitFor(u).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(l=>{u.push(i.markPotentiallyOrphaned(e,l))}),z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.ks.containsKey(t))}}class VN{constructor(e,t){this.$s={},this.overlays={},this.Os=new Zs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new R$(this),this.indexManager=new _$,this.remoteDocumentCache=new M$(r=>this.referenceDelegate.Ls(r)),this.serializer=new bV(t),this.qs=new D$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new S$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new x$(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){De("MemoryPersistence","Starting transaction:",e);const i=new P$(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return z.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class P$ extends eq{constructor(e){super(),this.currentSequenceNumber=e}}class zA{constructor(e){this.persistence=e,this.Qs=new UN,this.js=null}static zs(e){return new zA(e)}get Ws(){if(this.js)return this.js;throw Je()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),z.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Ws,r=>{const i=$e.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,ot.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return z.or([()=>z.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class qN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Pt(),i=Pt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new qN(e,t.fromCache,r,i)}}class XV{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(UU(t))return z.resolve(null);let r=Xi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=PA(t,null,"F"),r=Xi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Pt(...u);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(g=>{const v=this.ji(t,f);return this.zi(t,v,l,g.readTime)?this.Ki(e,PA(t,null,"F")):this.Wi(e,v,t,g)}))})))}Gi(e,t,r,i){return UU(t)||i.isEqual(ot.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,i)?this.Qi(e,t):(nN()<=Gr.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yN(t)),this.Wi(e,l,t,function iU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(1e9===r?new Gn(t+1,0):new Gn(t,r));return new Bs(i,$e.empty(),e)}(i,-1)))})}ji(e,t){let r=new bn(ZU(e));return t.forEach((i,u)=>{DE(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return nN()<=Gr.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",yN(t)),this.Ui.getDocumentsMatchingQuery(e,t,Bs.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class k${constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new In(xt),this.Yi=new Fc(u=>np(u),bE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function tB(n,e){return $N.apply(this,arguments)}function $N(){return $N=(0,R.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],f=[];let g=Pt();for(const v of i){l.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of u){f.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return t.localDocuments.getDocuments(r,g).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),$N.apply(this,arguments)}function nB(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function U$(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function K0(n,e,t){return HN.apply(this,arguments)}function HN(){return HN=(0,R.Z)(function*(n,e,t){const r=Ge(n),i=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Pd(l))throw l;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),HN.apply(this,arguments)}function YA(n,e,t){const r=Ge(n);let i=ot.min(),u=Pt();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,g,v){const T=Ge(f),A=T.Yi.get(v);return void 0!==A?z.resolve(T.Ji.get(A)):T.Bs.getTargetData(g,v)}(r,l,Xi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(g=>{u=g})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:ot.min(),t?u:Pt())).next(f=>(function oB(n,e,t){let r=n.Xi.get(e)||ot.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function BU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:u})))}class YN{constructor(){this.activeTargetIds=function vN(){return Vq}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cB{constructor(){this.Hr=new YN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new YN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Z${Yr(e){}shutdown(){}}class lB{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let XA=null;function JN(){return null===XA?XA=268435456+Math.round(2147483648*Math.random()):XA++,"0x"+XA.toString(16)}const j$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q${constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ui="WebChannelConnection";class $$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const l=JN(),f=this.To(e,t);De("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const g={};return this.Eo(g,i,u),this.Ao(e,f,g,r).then(v=>(De("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw sa("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,i,u,l){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+P0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${j$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=JN();return new Promise((l,f)=>{const g=new jj;g.setWithCredentials(!0),g.listenOnce(Vj.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case tN.NO_ERROR:const T=g.getResponseJson();De(Ui,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),l(T);break;case tN.TIMEOUT:De(Ui,`RPC '${e}' ${u} timed out`),f(new Ie(ne.DEADLINE_EXCEEDED,"Request time out"));break;case tN.HTTP_ERROR:const A=g.getStatus();if(De(Ui,`RPC '${e}' ${u} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const O=M?.error;if(O&&O.status&&O.message){const j=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN}(O.status);f(new Ie(j,O.message))}else f(new Ie(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new Ie(ne.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{De(Ui,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(i);De(Ui,`RPC '${e}' ${u} sending request:`,i),g.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=JN(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Lj(),f=Uj(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.xmlHttpFactory=new Zj({})),this.Eo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const T=u.join("");De(Ui,`Creating RPC '${e}' stream ${i}: ${T}`,g);const A=l.createWebChannel(T,g);let M=!1,O=!1;const j=new q$({ro:X=>{O?De(Ui,`Not sending because RPC '${e}' stream ${i} is closed:`,X):(M||(De(Ui,`Opening RPC '${e}' stream ${i} transport.`),A.open(),M=!0),De(Ui,`RPC '${e}' stream ${i} sending:`,X),A.send(X))},oo:()=>A.close()}),G=(X,Ce,Fe)=>{X.listen(Ce,ke=>{try{Fe(ke)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return G(A,vA.EventType.OPEN,()=>{O||De(Ui,`RPC '${e}' stream ${i} transport opened.`)}),G(A,vA.EventType.CLOSE,()=>{O||(O=!0,De(Ui,`RPC '${e}' stream ${i} transport closed`),j.wo())}),G(A,vA.EventType.ERROR,X=>{O||(O=!0,sa(Ui,`RPC '${e}' stream ${i} transport errored:`,X),j.wo(new Ie(ne.UNAVAILABLE,"The operation could not be completed")))}),G(A,vA.EventType.MESSAGE,X=>{var Ce;if(!O){const Fe=X.data[0];rt(!!Fe);const Ke=Fe.error||(null===(Ce=Fe[0])||void 0===Ce?void 0:Ce.error);if(Ke){De(Ui,`RPC '${e}' stream ${i} received error:`,Ke);const _t=Ke.status;let pt=function(br){const Vi=Ir[br];if(void 0!==Vi)return sV(Vi)}(_t),Yt=Ke.message;void 0===pt&&(pt=ne.INTERNAL,Yt="Unknown error status: "+_t+" with message "+Ke.message),O=!0,j.wo(new Ie(pt,Yt)),A.close()}else De(Ui,`RPC '${e}' stream ${i} received:`,Fe),j._o(Fe)}}),G(f,Bj.STAT_EVENT,X=>{X.stat===JL.PROXY?De(Ui,`RPC '${e}' stream ${i} detected buffering proxy`):X.stat===JL.NOPROXY&&De(Ui,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{j.fo()},0),j}}function eD(){return typeof document<"u"?document:null}function GE(n){return new Xq(n,!0)}class XN{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class hB{constructor(e,t,r,i,u,l,f,g){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new XN(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,R.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,R.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,R.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ie(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,R.Z)(function*(){e.state=0,e.start()}))}tu(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H$ extends hB{constructor(e,t,r,i,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function n$(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Je(),i=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(rt(void 0===v||"string"==typeof v),Fr.fromBase64String(v||"")):(rt(void 0===v||v instanceof Uint8Array),Fr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(g){const v=void 0===g.code?ne.UNKNOWN:sV(g.code);return new Ie(v,g.message||"")}(l);t=new lV(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=au(n,r.document.name),u=cr(r.document.updateTime),l=r.document.createTime?cr(r.document.createTime):ot.min(),f=new wi({mapValue:{fields:r.document.fields}}),g=An.newFoundDocument(i,u,l,f);t=new UA(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=au(n,r.document),u=r.readTime?cr(r.readTime):ot.min(),l=An.newNoDocument(i,u);t=new UA([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=au(n,r.document);t=new UA([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Je();{const r=e.filter,{count:i=0,unchangedNames:u}=r,l=new zq(i,u);t=new cV(r.targetId,l)}}var g;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return ot.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?ot.min():u.readTime?cr(u.readTime):ot.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=FE(this.serializer),t.addTarget=function(i,u){let l;const f=u.target;if(l=MA(f)?{documents:EV(i,f)}:{query:MN(i,f)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=pV(i,u.resumeToken);const g=AN(i,u.expectedCount);null!==g&&(l.expectedCount=g)}else if(u.snapshotVersion.compareTo(ot.min())>0){l.readTime=$0(i,u.snapshotVersion.toTimestamp());const g=AN(i,u.expectedCount);null!==g&&(l.expectedCount=g)}return l}(this.serializer,e);const r=function i$(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=FE(this.serializer),t.removeTarget=e,this.Wo(t)}}class G$ extends hB{constructor(e,t,r,i,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function r$(n,e){return n&&n.length>0?(rt(void 0!==e),n.map(t=>function(r,i){let u=cr(r.updateTime?r.updateTime:i);return u.isEqual(ot.min())&&(u=cr(i)),new qq(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=cr(e.commitTime);return this.listener.cu(r,t)}return rt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=FE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function LE(n,e){let t;if(e instanceof j0)t={update:yV(n,e.key,e.value)};else if(e instanceof q0)t={delete:kE(n,e.key)};else if(e instanceof Lc)t={update:yV(n,e.key,e.data),updateMask:u$(e.fieldMask)};else{if(!(e instanceof EN))return Je();t={verify:kE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const l=u.transform;if(l instanceof B0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ip)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof sp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Z0)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:e$(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Je()),t;var i}(this.serializer,r))};this.Wo(t)}}class z$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ie(ne.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(ne.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class K${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ar(t),this.mu=!1):De("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Y${constructor(e,t,r,i,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(f=>{r.enqueueAndForget((0,R.Z)(function*(){var g;$d(l)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,R.Z)(function*(v){const T=Ge(v);T.vu.add(4),yield Y0(T),T.bu.set("Unknown"),T.vu.delete(4),yield zE(T)}),function(v){return g.apply(this,arguments)})(l))}))}),this.bu=new K$(r,i)}}function zE(n){return tR.apply(this,arguments)}function tR(){return tR=(0,R.Z)(function*(n){if($d(n))for(const e of n.Ru)yield e(!0)}),tR.apply(this,arguments)}function Y0(n){return nR.apply(this,arguments)}function nR(){return nR=(0,R.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),nR.apply(this,arguments)}function tD(n,e){const t=Ge(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),sR(t)?iR(t):J0(t).Ko()&&rR(t,e))}function WE(n,e){const t=Ge(n),r=J0(t);t.Au.delete(e),r.Ko()&&fB(t,e),0===t.Au.size&&(r.Ko()?r.jo():$d(t)&&t.bu.set("Unknown"))}function rR(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}J0(n).su(e)}function fB(n,e){n.Vu.qt(e),J0(n).iu(e)}function iR(n){n.Vu=new Kq({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),J0(n).start(),n.bu.gu()}function sR(n){return $d(n)&&!J0(n).Uo()&&n.Au.size>0}function $d(n){return 0===Ge(n).vu.size}function pB(n){n.Vu=void 0}function Q$(n){return oR.apply(this,arguments)}function oR(){return oR=(0,R.Z)(function*(n){n.Au.forEach((e,t)=>{rR(n,e)})}),oR.apply(this,arguments)}function J$(n,e){return aR.apply(this,arguments)}function aR(){return aR=(0,R.Z)(function*(n,e){pB(n),sR(n)?(n.bu.Iu(e),iR(n)):n.bu.set("Unknown")}),aR.apply(this,arguments)}function X$(n,e,t){return uR.apply(this,arguments)}function uR(){return uR=(0,R.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof lV&&2===e.state&&e.cause)try{yield(r=(0,R.Z)(function*(i,u){const l=u.cause;for(const f of u.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nD(n,r)}else if(e instanceof UA?n.Vu.Ht(e):e instanceof cV?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ot.min()))try{const r=yield nB(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const l=i.Vu.ce(u);return l.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(g);v&&i.Au.set(g,v.withResumeToken(f.resumeToken,u))}}),l.targetMismatches.forEach((f,g)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(Fr.EMPTY_BYTE_STRING,v.snapshotVersion)),fB(i,f);const T=new Uc(v.target,f,g,v.sequenceNumber);rR(i,T)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){De("RemoteStore","Failed to raise snapshot:",r),yield nD(n,r)}var r}),uR.apply(this,arguments)}function nD(n,e,t){return cR.apply(this,arguments)}function cR(){return cR=(0,R.Z)(function*(n,e,t){if(!Pd(e))throw e;n.vu.add(1),yield Y0(n),n.bu.set("Offline"),t||(t=()=>nB(n.localStore)),n.asyncQueue.enqueueRetryable((0,R.Z)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield zE(n)}))}),cR.apply(this,arguments)}function gB(n,e){return e().catch(t=>nD(n,t,e))}function Q0(n){return lR.apply(this,arguments)}function lR(){return lR=(0,R.Z)(function*(n){const e=Ge(n),t=Hd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;eH(e);)try{const i=yield U$(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,tH(e,i)}catch(i){yield nD(e,i)}mB(e)&&_B(e)}),lR.apply(this,arguments)}function eH(n){return $d(n)&&n.Eu.length<10}function tH(n,e){n.Eu.push(e);const t=Hd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function mB(n){return $d(n)&&!Hd(n).Uo()&&n.Eu.length>0}function _B(n){Hd(n).start()}function nH(n){return dR.apply(this,arguments)}function dR(){return dR=(0,R.Z)(function*(n){Hd(n).hu()}),dR.apply(this,arguments)}function rH(n){return hR.apply(this,arguments)}function hR(){return hR=(0,R.Z)(function*(n){const e=Hd(n);for(const t of n.Eu)e.uu(t.mutations)}),hR.apply(this,arguments)}function iH(n,e,t){return fR.apply(this,arguments)}function fR(){return fR=(0,R.Z)(function*(n,e,t){const r=n.Eu.shift(),i=wN.from(r,e,t);yield gB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Q0(n)}),fR.apply(this,arguments)}function sH(n,e){return pR.apply(this,arguments)}function pR(){return pR=(0,R.Z)(function*(n,e){var t;e&&Hd(n).ou&&(yield(t=(0,R.Z)(function*(r,i){if(function iV(n){switch(n){default:return Je();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}(u=i.code)&&u!==ne.ABORTED){const l=r.Eu.shift();Hd(r).Qo(),yield gB(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Q0(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),mB(n)&&_B(n)}),pR.apply(this,arguments)}function yB(n,e){return gR.apply(this,arguments)}function gR(){return gR=(0,R.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=$d(t);t.vu.add(3),yield Y0(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield zE(t)}),gR.apply(this,arguments)}function _R(){return _R=(0,R.Z)(function*(n,e){const t=Ge(n);e?(t.vu.delete(2),yield zE(t)):e||(t.vu.add(2),yield Y0(t),t.bu.set("Unknown"))}),_R.apply(this,arguments)}function J0(n){return n.Su||(n.Su=function(e,t,r){const i=Ge(e);return i.fu(),new H$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Q$.bind(null,n),ao:J$.bind(null,n),nu:X$.bind(null,n)}),n.Ru.push(function(){var e=(0,R.Z)(function*(t){t?(n.Su.Qo(),sR(n)?iR(n):n.bu.set("Unknown")):(yield n.Su.stop(),pB(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Hd(n){return n.Du||(n.Du=function(e,t,r){const i=Ge(e);return i.fu(),new G$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:nH.bind(null,n),ao:sH.bind(null,n),au:rH.bind(null,n),cu:iH.bind(null,n)}),n.Ru.push(function(){var e=(0,R.Z)(function*(t){t?(n.Du.Qo(),yield Q0(n)):(yield n.Du.stop(),n.Eu.length>0&&(De("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class yR{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,u){const l=Date.now()+r,f=new yR(e,t,l,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X0(n,e){if(ar("AsyncQueue",`${e}: ${n}`),Pd(n))return new Ie(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class e_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=SE(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new e_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof e_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new e_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class vB{constructor(){this.Cu=new In($e.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Je():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class t_{constructor(e,t,r,i,u,l,f,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,u){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new t_(e,t,e_.emptySet(t),l,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&AE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class oH{constructor(){this.Nu=void 0,this.listeners=[]}}class aH{constructor(){this.queries=new Fc(e=>VU(e),AE),this.onlineState="Unknown",this.ku=new Set}}function vR(n,e){return ER.apply(this,arguments)}function ER(){return ER=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new oH),i)try{u.Nu=yield t.onListen(r)}catch(l){const f=X0(l,`Initialization of query '${yN(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&CR(t)}),ER.apply(this,arguments)}function IR(n,e){return wR.apply(this,arguments)}function wR(){return wR=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),wR.apply(this,arguments)}function uH(n,e){const t=Ge(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&CR(t)}function cH(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function CR(n){n.ku.forEach(e=>{e.next()})}class TR{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new t_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=t_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class wB{constructor(e){this.key=e}}class CB{constructor(e){this.key=e}}class TB{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Pt(),this.mutatedKeys=Pt(),this.tc=ZU(e),this.ec=new e_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new vB,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const M=i.get(T),O=DE(this.query,A)?A:null,j=!!M&&this.mutatedKeys.has(M.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let X=!1;M&&O?M.data.isEqual(O.data)?j!==G&&(r.track({type:3,doc:O}),X=!0):this.rc(M,O)||(r.track({type:2,doc:O}),X=!0,(g&&this.tc(O,g)>0||v&&this.tc(O,v)<0)&&(f=!0)):!M&&O?(r.track({type:0,doc:O}),X=!0):M&&!O&&(r.track({type:1,doc:M}),X=!0,(g||v)&&(f=!0)),X&&(O?(l=l.add(O),u=G?u.add(T):u.delete(T)):(l=l.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:f,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((v,T)=>function(A,M){const O=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return O(A)-O(M)}(v.type,T.type)||this.tc(v.doc,T.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,g=f!==this.Xu;return this.Xu=f,0!==u.length||g?{snapshot:new t_(this.query,e.ec,i,u,e.mutatedKeys,0===f,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vB,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Pt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new CB(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new wB(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Pt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return t_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fH{constructor(e){this.key=e,this.fc=!1}}class pH{constructor(e,t,r,i,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Fc(f=>VU(f),AE),this._c=new Map,this.mc=new Set,this.gc=new In($e.comparator),this.yc=new Map,this.Ic=new UN,this.Tc={},this.Ec=new Map,this.Ac=dp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function gH(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,R.Z)(function*(n,e){const t=function WR(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yH.bind(null,e),e.dc.nu=uH.bind(null,e.eventManager),e.dc.Pc=cH.bind(null,e.eventManager),e}(n);let r,i;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.lc();else{const l=yield function W0(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,z.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Uc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Xi(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield function AR(n,e,t,r,i){return DR.apply(this,arguments)}(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&tD(t.remoteStore,l)}return i}),bR.apply(this,arguments)}function DR(){return DR=(0,R.Z)(function*(n,e,t,r,i){n.Rc=(A,M,O)=>{return(j=(0,R.Z)(function*(G,X,Ce,Fe){let ke=X.view.sc(Ce);ke.zi&&(ke=yield YA(G.localStore,X.query,!1).then(({documents:pt})=>X.view.sc(pt,ke)));const Ke=Fe&&Fe.targetChanges.get(X.targetId),_t=X.view.applyChanges(ke,G.isPrimaryClient,Ke);return LR(G,X.targetId,_t.cc),_t.snapshot}),function(G,X,Ce,Fe){return j.apply(this,arguments)})(n,A,M,O);var j};const u=yield YA(n.localStore,e,!0),l=new TB(e,u.ir),f=l.sc(u.documents),g=OE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=l.applyChanges(f,n.isPrimaryClient,g);LR(n,t,v.cc);const T=new hH(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),DR.apply(this,arguments)}function mH(n,e){return SR.apply(this,arguments)}function SR(){return SR=(0,R.Z)(function*(n,e){const t=Ge(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!AE(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield K0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),WE(t.remoteStore,r.targetId),n_(t,r.targetId)}).catch(Rd))):(n_(t,r.targetId),yield K0(t.localStore,r.targetId,!0))}),SR.apply(this,arguments)}function xR(){return xR=(0,R.Z)(function*(n,e,t){const r=function KR(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EH.bind(null,e),e}(n);try{const i=yield function(u,l){const f=Ge(u),g=Gn.now(),v=l.reduce((M,O)=>M.add(O.key),Pt());let T,A;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=_s(),j=Pt();return f.Zi.getEntries(M,v).next(G=>{O=G,O.forEach((X,Ce)=>{Ce.isValidDocument()||(j=j.add(X))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,O)).next(G=>{T=G;const X=[];for(const Ce of l){const Fe=Hq(Ce,T.get(Ce.key).overlayedDocument);null!=Fe&&X.push(new Lc(Ce.key,Fe,bU(Fe.value.mapValue),Rn.exists(!0)))}return f.mutationQueue.addMutationBatch(M,g,X,l)}).next(G=>{A=G;const X=G.applyToLocalDocumentSet(T,j);return f.documentOverlayCache.saveOverlays(M,G.batchId,X)})}).then(()=>({batchId:A.batchId,changes:qU(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,f){let g=u.Tc[u.currentUser.toKey()];g||(g=new In(xt)),g=g.insert(l,f),u.Tc[u.currentUser.toKey()]=g}(r,i.batchId,t),yield Vc(r,i.changes),yield Q0(r.remoteStore)}catch(i){const u=X0(i,"Failed to persist write");t.reject(u)}}),xR.apply(this,arguments)}function bB(n,e){return MR.apply(this,arguments)}function MR(){return MR=(0,R.Z)(function*(n,e){const t=Ge(n);try{const r=yield function L$(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((T,A)=>{const M=i.get(A);if(!M)return;f.push(t.Bs.removeMatchingKeys(u,T.removedDocuments,A).next(()=>t.Bs.addMatchingKeys(u,T.addedDocuments,A)));let O=M.withSequenceNumber(u.currentSequenceNumber);var j,G,X;null!==e.targetMismatches.get(A)?O=O.withResumeToken(Fr.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,r)),i=i.insert(A,O),G=O,X=T,(0===(j=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(u,O))});let g=_s(),v=Pt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),f.push(function rB(n,e,t){let r=Pt(),i=Pt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=_s();return t.forEach((f,g)=>{const v=u.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),g.isNoDocument()&&g.version.isEqual(ot.min())?(e.removeEntry(f,g.readTime),l=l.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),l=l.insert(f,g)):De("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{nr:l,sr:i}})}(u,l,e.documentUpdates).next(T=>{g=T.nr,v=T.sr})),!r.isEqual(ot.min())){const T=t.Bs.getLastRemoteSnapshotVersion(u).next(A=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(T)}return z.waitFor(f).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(t.Ji=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const l=t.yc.get(u);l&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?rt(l.fc):i.removedDocuments.size>0&&(rt(l.fc),l.fc=!1))}),yield Vc(t,r,e)}catch(r){yield Rd(r)}}),MR.apply(this,arguments)}function AB(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(u,l){const f=Ge(u);f.onlineState=l;let g=!1;f.queries.forEach((v,T)=>{for(const A of T.listeners)A.Mu(l)&&(g=!0)}),g&&CR(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yH(n,e,t){return NR.apply(this,arguments)}function NR(){return NR=(0,R.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),u=i&&i.key;if(u){let l=new In($e.comparator);l=l.insert(u,An.newNoDocument(u,ot.min()));const f=Pt().add(u),g=new PE(ot.min(),new Map,new In(xt),l,f);yield bB(r,g),r.gc=r.gc.remove(u),r.yc.delete(e),UR(r)}else yield K0(r.localStore,e,!1).then(()=>n_(r,e,t)).catch(Rd)}),NR.apply(this,arguments)}function vH(n,e){return RR.apply(this,arguments)}function RR(){return RR=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield function F$(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,g,v){const T=g.batch,A=T.keys();let M=z.resolve();return A.forEach(O=>{M=M.next(()=>v.getEntry(f,O)).next(j=>{const G=g.docVersions.get(O);rt(null!==G),j.version.compareTo(G)<0&&(T.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))})}),M.next(()=>l.mutationQueue.removeMutationBatch(f,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=Pt();for(let g=0;g<l.mutationResults.length;++g)l.mutationResults[g].transformResults.length>0&&(f=f.add(l.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);FR(t,r,null),kR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(t,i)}catch(i){yield Rd(i)}}),RR.apply(this,arguments)}function EH(n,e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,R.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(u,l){const f=Ge(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,l).next(T=>(rt(null!==T),v=T.keys(),f.mutationQueue.removeMutationBatch(g,T))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(r.localStore,e);FR(r,e,t),kR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(r,i)}catch(i){yield Rd(i)}}),PR.apply(this,arguments)}function kR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function FR(n,e,t){const r=Ge(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function n_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||DB(n,r)})}function DB(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(WE(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),UR(n))}function LR(n,e,t){for(const r of t)r instanceof wB?(n.Ic.addReference(r.key,e),wH(n,r)):r instanceof CB?(De("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||DB(n,r.key)):Je()}function wH(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(De("SyncEngine","New document in limbo: "+t),n.mc.add(r),UR(n))}function UR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new $e(Wt.fromString(e)),r=n.Ac.next();n.yc.set(r,new fH(t)),n.gc=n.gc.insert(t,r),tD(n.remoteStore,new Uc(Xi(V0(t.path)),r,"TargetPurposeLimboResolution",Zs.ct))}}function Vc(n,e,t){return VR.apply(this,arguments)}function VR(){return VR=(0,R.Z)(function*(n,e,t){const r=Ge(n),i=[],u=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,g)=>{l.push(r.Rc(g,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const T=qN.Li(g.targetId,v);u.push(T)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,R.Z)(function*(g,v){const T=Ge(g);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>z.forEach(v,M=>z.forEach(M.Fi,O=>T.persistence.referenceDelegate.addReference(A,M.targetId,O)).next(()=>z.forEach(M.Bi,O=>T.persistence.referenceDelegate.removeReference(A,M.targetId,O)))))}catch(A){if(!Pd(A))throw A;De("LocalStore","Failed to update sequence numbers: "+A)}for(const A of v){const M=A.targetId;if(!A.fromCache){const O=T.Ji.get(M),G=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);T.Ji=T.Ji.insert(M,G)}}}),function(g,v){return f.apply(this,arguments)})(r.localStore,u))}),VR.apply(this,arguments)}function CH(n,e){return BR.apply(this,arguments)}function BR(){return BR=(0,R.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const r=yield tB(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Ie(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(t,r.er)}var i}),BR.apply(this,arguments)}function TH(n,e){const t=Ge(n),r=t.yc.get(e);if(r&&r.fc)return Pt().add(r.key);{let i=Pt();const u=t._c.get(e);if(!u)return i;for(const l of u){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}class rD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,R.Z)(function*(){t.serializer=GE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function eB(n,e,t,r){return new k$(n,e,t,r)}(this.persistence,new XV,e.initialUser,this.serializer)}createPersistence(e){return new VN(zA.zs,this.serializer)}createSharedClientState(e){return new cB}terminate(){var e=this;return(0,R.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class r_{initialize(e,t){var r=this;return(0,R.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>AB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=CH.bind(null,r.syncEngine),yield function mR(n,e){return _R.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new aH}createDatastore(e){const t=GE(e.databaseInfo.databaseId),r=new $$(e.databaseInfo);return new z$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>AB(this.syncEngine,f,0),l=lB.D()?new lB:new Z$,new Y$(t,r,i,u,l);var t,r,i,u,l}createSyncEngine(e,t){return function(r,i,u,l,f,g,v){const T=new pH(r,i,u,l,f,g);return v&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,R.Z)(function*(t){const r=Ge(t);De("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Y0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class iD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LH{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Jr.UNAUTHENTICATED,this.clientId=nU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,R.Z)(function*(f){De("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(De("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,R.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,R.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=X0(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function sD(n,e){return YR.apply(this,arguments)}function YR(){return YR=(0,R.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,R.Z)(function*(u){r.isEqual(u)||(yield tB(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),YR.apply(this,arguments)}function QR(n,e){return JR.apply(this,arguments)}function JR(){return JR=(0,R.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function XR(n){return eP.apply(this,arguments)}(n);De("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>yB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>yB(e.remoteStore,u)),n._onlineComponents=e}),JR.apply(this,arguments)}function eP(){return eP=(0,R.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function PB(n){return"FirebaseError"===n.name?n.code===ne.FAILED_PRECONDITION||n.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;sa("Error using user provided cache. Falling back to memory cache: "+t),yield sD(n,new rD)}}else De("FirestoreClient","Using default OfflineComponentProvider"),yield sD(n,new rD);return n._offlineComponents}),eP.apply(this,arguments)}function oD(n){return tP.apply(this,arguments)}function tP(){return tP=(0,R.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),yield QR(n,n._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),yield QR(n,new r_))),n._onlineComponents}),tP.apply(this,arguments)}function i_(n){return rP.apply(this,arguments)}function rP(){return rP=(0,R.Z)(function*(n){const e=yield oD(n),t=e.eventManager;return t.onListen=gH.bind(null,e.syncEngine),t.onUnlisten=mH.bind(null,e.syncEngine),t}),rP.apply(this,arguments)}function VB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const BB=new Map;function iP(n,e,t){if(!t)throw new Ie(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ZB(n){if(!$e.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jB(n){if($e.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function Ht(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uD(n);throw new Ie(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class $B{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ie(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ie(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function GH(n,e,t,r){if(!0===e&&!0===r)throw new Ie(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=VB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class KE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $B({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ie(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $B(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $j;switch(t.type){case"firstParty":return new Wj(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ie(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=BB.get(e);t&&(De("ComponentProvider","Removing Datastore"),BB.delete(e),t.terminate())}(this),Promise.resolve()}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class Ci{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ci(this.firestore,e,this._query)}}class uu extends Ci{constructor(e,t,r){super(e,t,V0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new $e(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function WH(n,e,...t){if(n=(0,_e.m9)(n),iP("collection","path",e),n instanceof KE){const r=Wt.fromString(e,...t);return jB(r),new uu(n,null,r)}{if(!(n instanceof lr||n instanceof uu))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return jB(r),new uu(n.firestore,null,r)}}function HB(n,e,...t){if(n=(0,_e.m9)(n),1===arguments.length&&(e=nU.A()),iP("doc","path",e),n instanceof KE){const r=Wt.fromString(e,...t);return ZB(r),new lr(n,null,new $e(r))}{if(!(n instanceof lr||n instanceof uu))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return ZB(r),new lr(n.firestore,n instanceof uu?n.converter:null,new $e(r))}}class KH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new XN(this,"async_queue_retry"),this.Xc=()=>{const t=eD();t&&De("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=eD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=eD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new kr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,R.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Pd(t))throw t;De("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=yR.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&Je()}verifyOperationInProgress(){}sa(){var e=this;return(0,R.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Dn extends KE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new KH,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zB(this),this._firestoreClient.terminate()}}function QH(n,e){const t="object"==typeof n?n:(0,_i.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,_i._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,_e.P0)("firestore");u&&function zH(n,e,t,r={}){var i;const u=(n=Ht(n,KE))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let f,g;if("string"==typeof r.mockUserToken)f=r.mockUserToken,g=Jr.MOCK_USER;else{f=(0,_e.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ie(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jr(v)}n._authCredentials=new Hj(new eU(f,g))}}(i,...u)}return i}function wr(n){return n._firestoreClient||zB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zB(n){var e,t,r;const i=n._freezeSettings(),u=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Tq(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,VB(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new LH(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class fp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fp(Fr.fromBase64String(e))}catch(t){throw new Ie(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fp(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class s_{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ie(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oP{constructor(e){this._methodName=e}}class aP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const XH=/^__.*__$/;class e8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Lc(e,this.data,this.fieldMask,t,this.fieldTransforms):new j0(e,this.data,t,this.fieldTransforms)}}class YB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Lc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class cD{constructor(e,t,r,i,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new cD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(QB(this.ca)&&XH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class t8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||GE(e)}ya(e,t,r,i=!1){return new cD({ca:e,methodName:t,ga:r,path:ur.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o_(n){const e=n._freezeSettings(),t=GE(n._databaseId);return new t8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uP(n,e,t,r,i,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,i);lP("Data must be an object, but it was:",l,r);const f=n5(r,l);let g,v;if(u.merge)g=new ms(l.fieldMask),v=l.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const M=JE(e,A,t);if(!l.contains(M))throw new Ie(ne.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);i5(T,M)||T.push(M)}g=new ms(T),v=l.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,v=l.fieldTransforms;return new e8(new wi(f),g,v)}class QE extends oP{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof QE}}function pp(n,e){if(r5(n=(0,_e.m9)(n)))return lP("Unsupported field value:",e,n),n5(n,e);if(n instanceof oP)return function(t,r){if(!QB(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const l of t){let f=pp(l,r.wa(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zU(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Gn.fromDate(t);return{timestampValue:$0(r.serializer,i)}}if(t instanceof Gn){const i=new Gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$0(r.serializer,i)}}if(t instanceof aP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fp)return{bytesValue:pV(r.serializer,t._byteString)};if(t instanceof lr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:DN(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${uD(t)}`)}(n,e)}function n5(n,e){const t={};return mU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Od(n,(r,i)=>{const u=pp(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function r5(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof aP||n instanceof fp||n instanceof lr||n instanceof oP)}function lP(n,e,t){if(!r5(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=uD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function JE(n,e,t){if((e=(0,_e.m9)(e))instanceof s_)return e._internalPath;if("string"==typeof e)return lD(n,e);throw dD("Field path arguments must be of type string or ",n,!1,void 0,t)}const s8=new RegExp("[~\\*/\\[\\]]");function lD(n,e,t){if(e.search(s8)>=0)throw dD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new s_(...e.split("."))._internalPath}catch{throw dD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dD(n,e,t,r,i){const u=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||l)&&(g+=" (found",u&&(g+=` in field ${r}`),l&&(g+=` in document ${i}`),g+=")"),new Ie(ne.INVALID_ARGUMENT,f+n+g)}function i5(n,e){return n.some(t=>t.isEqual(e))}class dP{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new o8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class o8 extends dP{data(){return super.data()}}function hD(n,e){return"string"==typeof e?lD(n,e):e instanceof s_?e._internalPath:e._delegate._internalPath}class hP{}class a8 extends hP{}function u8(n,e,...t){let r=[];e instanceof hP&&r.push(e),r=r.concat(t),function(i){const u=i.filter(f=>f instanceof a_).length,l=i.filter(f=>f instanceof XE).length;if(u>1||u>0&&l>0)throw new Ie(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class XE extends a8{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new XE(e,t,r)}_apply(e){const t=this._parse(e);return c5(e._query,t),new Ci(e.firestore,e.converter,_N(e._query,t))}_parse(e){const t=o_(e.firestore);return function(i,u,l,f,g,v,T){let A;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ie(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){u5(T,v);const M=[];for(const O of T)M.push(a5(f,i,O));A={arrayValue:{values:M}}}else A=a5(f,i,T)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||u5(T,v),A=function t5(n,e,t,r=!1){return pp(t,n.ya(r?4:3,e))}(l,"where",T,"in"===v||"not-in"===v);return jt.create(g,v,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function c8(n,e,t){const r=e,i=hD("where",n);return XE._create(i,r,t)}class a_ extends hP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new a_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const l=i.getFlattenedFilters();for(const f of l)c5(u,f),u=_N(u,f)}(e._query,t),new Ci(e.firestore,e.converter,_N(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function a5(n,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new Ie(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mN(e)&&-1!==t.indexOf("/"))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!$e.isDocumentKey(r))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tp(n,new $e(r))}if(t instanceof lr)return tp(n,t._key);throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uD(t)}.`)}function u5(n,e){if(!Array.isArray(n)||0===n.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c5(n,e){if(e.isInequality()){const r=RA(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=gN(n);null!==u&&function l5(n,e,t){if(!t.isEqual(e))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,u)}const t=function(r,i){for(const u of r)for(const l of u.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ie(ne.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class l8{convertValue(e,t="none"){switch(Ld(e)){case 0:return null;case 1:return e.booleanValue;case 2:return er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Od(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new aP(er(e.latitude),er(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=AA(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(IE(e));default:return null}}convertTimestamp(e){const t=kd(e);return new Gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);rt(TV(r));const i=new ep(r.get(1),r.get(3)),u=new $e(r.popFirst(5));return i.isEqual(t)||ar(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function pP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class u_ extends dP{constructor(e,t,r,i,u,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mD extends u_{data(e={}){return super.data(e)}}class c_{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mD(this._firestore,this._userDataWriter,r.key,r,new gp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new mD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new gp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new mD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new gp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,v=-1;return 0!==l.type&&(g=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),v=u.indexOf(l.doc.key)),{type:h8(l.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function f8(n){n=Ht(n,lr);const e=Ht(n.firestore,Dn);return function LB(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function(i,u,l,f,g){const v=new iD({next:A=>{u.enqueueAndForget(()=>IR(i,T));const M=A.docs.has(l);!M&&A.fromCache?g.reject(new Ie(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&f&&"server"===f.source?g.reject(new Ie(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new TR(V0(l.path),v,{includeMetadataChanges:!0,Ku:!0});return vR(i,T)}(yield i_(n),n.asyncQueue,e,t,r)})),r.promise}(wr(e),n._key).then(t=>function gP(n,e,t){const r=t.docs.get(e._key),i=new Gd(n);return new u_(n,i,e._key,r,new gp(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Gd extends l8{constructor(e){super(),this.firestore=e}convertBytes(e){return new fp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function p8(n){n=Ht(n,Ci);const e=Ht(n.firestore,Dn),t=wr(e),r=new Gd(e);return function s5(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function UB(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function(i,u,l,f,g){const v=new iD({next:A=>{u.enqueueAndForget(()=>IR(i,T)),A.fromCache&&"server"===f.source?g.reject(new Ie(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new TR(l,v,{includeMetadataChanges:!0,Ku:!0});return vR(i,T)}(yield i_(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new c_(e,r,n,i))}function g8(n,e,t){n=Ht(n,lr);const r=Ht(n.firestore,Dn),i=pP(n.converter,e,t);return eI(r,[uP(o_(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Rn.none())])}function m8(n,e,t,...r){n=Ht(n,lr);const i=Ht(n.firestore,Dn),u=o_(i);let l;return l="string"==typeof(e=(0,_e.m9)(e))||e instanceof s_?function e5(n,e,t,r,i,u){const l=n.ya(1,e,t),f=[JE(e,r,t)],g=[i];if(u.length%2!=0)throw new Ie(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<u.length;M+=2)f.push(JE(e,u[M])),g.push(u[M+1]);const v=[],T=wi.empty();for(let M=f.length-1;M>=0;--M)if(!i5(v,f[M])){const O=f[M];let j=g[M];j=(0,_e.m9)(j);const G=l.da(O);if(j instanceof QE)v.push(O);else{const X=pp(j,G);null!=X&&(v.push(O),T.set(O,X))}}const A=new ms(v);return new YB(T,A,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function XB(n,e,t,r){const i=n.ya(1,e,t);lP("Data must be an object, but it was:",i,r);const u=[],l=wi.empty();Od(r,(g,v)=>{const T=lD(e,g,t);v=(0,_e.m9)(v);const A=i.da(T);if(v instanceof QE)u.push(T);else{const M=pp(v,A);null!=M&&(u.push(T),l.set(T,M))}});const f=new ms(u);return new YB(l,f,i.fieldTransforms)}(u,"updateDoc",n._key,e),eI(i,[l.toMutation(n._key,Rn.exists(!0))])}function _8(n,e){const t=Ht(n.firestore,Dn),r=HB(n),i=pP(n.converter,e);return eI(t,[uP(o_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function eI(n,e){return function(t,r){const i=new kr;return t.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function _H(n,e,t){return xR.apply(this,arguments)}(yield function nP(n){return oD(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(wr(n),e)}!function(n,e=!0){P0=_i.SDK_VERSION,(0,_i._registerComponent)(new gn.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),l=new Dn(new Gj(t.getProvider("auth-internal")),new Kj(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ep(f.options.projectId,g)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,_i.registerVersion)(XL,"3.13.0",n),(0,_i.registerVersion)(XL,"3.13.0","esm2017")}();class ti{constructor(e){return e}}const f5="firestore",mP=new o.OlP("angularfire2.firestore-instances");function N8(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ti(r)}}const R8={provide:class x8{constructor(){return Cd(f5)}},deps:[[new o.FiY,mP]]},P8={provide:ti,useFactory:function M8(n,e){const t=function Jm(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(l=>l.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(f5,n,e);return t&&new ti(t)},deps:[[new o.FiY,mP],Dc]};let O8=(()=>{class n{constructor(){(0,_i.registerVersion)("angularfire",Km.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[P8,R8]}),n})();function k8(n,...e){return{ngModule:O8,providers:[{provide:mP,useFactory:N8(n),multi:!0,deps:[o.R0b,o.zs3,Xm,e0,[new o.FiY,Sc],[new o.FiY,j4],...e]}]}}const yD=Qi(_8,!0),cu=Qi(WH,!0),lu=Qi(HB,!0),zd=Qi(f8,!0),l_=Qi(p8,!0),F8=Qi(QH,!0),p5=Qi(u8,!0),L8=Qi(g8,!0),U8=Qi(m8,!0),g5=Qi(c8,!0);yi("firebase","10.5.2","app");const vD_firebaseConfig={apiKey:"AIzaSyBqXpKb2qj9VKAYX_DOaOyGV6e-lsUhxG8",authDomain:"chefs-talks.firebaseapp.com",projectId:"chefs-talks",storageBucket:"chefs-talks.appspot.com",messagingSenderId:"821574305127",appId:"1:821574305127:web:1ec43d2f164a6f2c151bc2",measurementId:"G-96713DEB05"},vD_cloudinaryConfig_cloudName="dsla98vyk",vD_cloudinaryConfig_uploadPreset="chefs_talks";_C(vD_firebaseConfig);let ED=(()=>{class n{constructor(){this.cloudName=vD_cloudinaryConfig_cloudName,this.uploadPreset=vD_cloudinaryConfig_uploadPreset,this.imageUploaded=new o.vpe}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(t,r)=>{!t&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(t){this.imageUploaded.emit(t)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:3,vars:0,consts:[["id","upload_widget",1,"cloudinary-button","button",3,"click"]],template:function(r,i){1&r&&(o.TgZ(0,"div")(1,"button",0),o.NdJ("click",function(){return i.openWidget()}),o._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()())},styles:[".cloudinary-button[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);text-decoration:none;font-size:16px;line-height:28px;cursor:pointer;font-weight:400;display:block;border-radius:4px;padding:10px 14px}.cloudinary-button[_ngcontent-%COMP%]:hover{background-color:var(--secondColor)}"]})}return n})();function Z8(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"p",11),o._uU(2,"\u0412\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(3,"input",20),o.TgZ(4,"button",21),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.removeImage())}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}}function j8(n,e){1&n&&(o.TgZ(0,"div",23),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function q8(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,j8,2,0,"div",22),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.categoryForm.get("name"))||null==r.errors?null:r.errors.required)}}function $8(n,e){1&n&&(o.TgZ(0,"div",23),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u044e! "),o.qZA())}function H8(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,$8,2,0,"div",22),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.categoryForm.get("menu"))||null==r.errors?null:r.errors.required)}}let G8=(()=>{class n{constructor(t,r){this.fb=t,this.firestore=r,this.categoryForm=this.fb.group({name:["",[st.required]],is_active:[!1],menu:["",[st.required]],order_index:[0],note:[""],image:[""]})}onSubmit(){this.categoryForm.valid?(this.addCategory(this.categoryForm.value),this.categoryForm.reset()):console.log(this.categoryForm.errors)}removeImage(){this.categoryForm.get("image")?.setValue("")}addImageToForm(t){this.categoryForm.get("image")?.setValue(t)}get image(){return this.categoryForm.get("image")}addCategory(t){yD(cu(this.firestore,"Category"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(gc),o.Y36(ti))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-category-form"]],decls:41,vars:4,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup","ngSubmit"],[3,"imageUploaded"],[4,"ngIf"],[1,"checkbox-wrapper"],["type","checkbox","formControlName","is_active",1,"sc-gJwTLC","ikxBAC"],[1,"checkbox-label","hint"],["type","text","formControlName","name","required",""],["for","menu"],[1,"hint"],["id","menu","formControlName","menu"],["value","\u041e\u0441\u043d\u043e\u0432\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0437\u043e\u043d\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0422\u0435\u0441\u0442\u043e\u0432\u043e \u041c\u0435\u043d\u044e"],["formControlName","note"],["type","number","formControlName","order_index"],["type","submit"],["type","text","id","image","formControlName","image"],["type","button",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),o.qZA(),o.TgZ(4,"form",3),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(5,"app-image-upload",4),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.YNc(6,Z8,6,0,"div",5),o.TgZ(7,"div",6),o._UZ(8,"input",7),o.TgZ(9,"label",8),o._uU(10,"\u0429\u0435 \u0431\u044a\u0434\u0435 \u043b\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430 \u0432\u0438\u0434\u0438\u043c\u0430 \u0432\u044a\u0432 \u0441\u0430\u0439\u0442\u0430?"),o.qZA()(),o.TgZ(11,"label"),o._uU(12," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o._UZ(13,"input",9),o.qZA(),o.YNc(14,q8,2,1,"div",5),o.TgZ(15,"label",10),o._uU(16,"\u041c\u0435\u043d\u044e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(17,"p",11),o._uU(18,"\u041a\u044a\u043c \u043a\u043e\u0435 \u043c\u0435\u043d\u044e \u0441\u043f\u0430\u0434\u0430 \u0442\u0430\u0437\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f?"),o.qZA(),o.TgZ(19,"select",12)(20,"option",13),o._uU(21,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e"),o.qZA(),o.TgZ(22,"option",14),o._uU(23,"\u0421\u0435\u0437\u043e\u043d\u043d\u043e"),o.qZA(),o.TgZ(24,"option",15),o._uU(25,"\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u043e"),o.qZA(),o.TgZ(26,"option",16),o._uU(27,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e"),o.qZA()(),o.YNc(28,H8,2,1,"div",5),o.TgZ(29,"label"),o._uU(30," \u0411\u0435\u043b\u0435\u0436\u043a\u0430: "),o.TgZ(31,"span",11),o._uU(32,"\u041d\u044f\u043a\u043e\u043b\u043a\u043e \u0434\u0443\u043c\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),o.qZA(),o._UZ(33,"textarea",17),o.qZA(),o.TgZ(34,"label"),o._uU(35," \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),o.TgZ(36,"span",11),o._uU(37,"\u0420\u0435\u0434 \u043d\u0430 \u043f\u043e\u0434\u0440\u0435\u0434\u0431\u0430 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\u0442\u0435"),o.qZA(),o._UZ(38,"input",18),o.qZA(),o.TgZ(39,"button",19),o._uU(40,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),o.qZA()()()()),2&r){let u,l,f;o.xp6(4),o.Q6J("formGroup",i.categoryForm),o.xp6(2),o.Q6J("ngIf",""!==(null==(u=i.categoryForm.get("image"))?null:u.value)),o.xp6(8),o.Q6J("ngIf",null==(l=i.categoryForm.get("name"))?null:l.touched),o.xp6(14),o.Q6J("ngIf",null==(f=i.categoryForm.get("menu"))?null:f.touched)}},dependencies:[fr,Vo,pc,Ba,sr,oo,ac,qo,Fa,La,tm,Bo,jo,ED]})}return n})();var m5=P(7582);const z8=function _5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},y5=new _e.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ID=new Gr.Yd("@firebase/auth");function wD(n,...e){ID.logLevel<=Gr.in.ERROR&&ID.error(`Auth (${rd}): ${n}`,...e)}function ys(n,...e){throw _P(n,...e)}function du(n,...e){return _P(n,...e)}function _P(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return y5.create(n,...e)}function Be(n,e,...t){if(!n)throw _P(e,...t)}function hu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wD(e),new Error(e)}function Wd(n,e){n||hu(e)}function tI(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function E5(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class nI{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wd(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,_e.uI)()||(0,_e.b$)()}get(){return function K8(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function yP(){return"http:"===E5()||"https:"===E5()}()||(0,_e.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vP(n,e){Wd(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class I5{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void hu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void hu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void hu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},J8=new nI(3e4,6e4);function Pn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function zn(n,e,t,r){return EP.apply(this,arguments)}function EP(){return EP=(0,R.Z)(function*(n,e,t,r,i={}){return w5(n,i,(0,R.Z)(function*(){let u={},l={};r&&("GET"===e?l=r:u={body:JSON.stringify(r)});const f=(0,_e.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),g=yield n._getAdditionalHeaders();return g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode),I5.fetch()(C5(n,n.config.apiHost,t,f),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},u))}))}),EP.apply(this,arguments)}function w5(n,e,t){return IP.apply(this,arguments)}function IP(){return IP=(0,R.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Q8),e);try{const i=new eG(n),u=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield u.json();if("needConfirmation"in l)throw rI(n,"account-exists-with-different-credential",l);if(u.ok&&!("errorMessage"in l))return l;{const f=u.ok?l.errorMessage:l.error.message,[g,v]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===g)throw rI(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===g)throw rI(n,"email-already-in-use",l);if("USER_DISABLED"===g)throw rI(n,"user-disabled",l);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw function v5(n,e,t){const r=Object.assign(Object.assign({},z8()),{[e]:t});return new _e.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,T,v);ys(n,T)}}catch(i){if(i instanceof _e.ZR)throw i;ys(n,"network-request-failed",{message:String(i)})}}),IP.apply(this,arguments)}function Bc(n,e,t,r){return wP.apply(this,arguments)}function wP(){return wP=(0,R.Z)(function*(n,e,t,r,i={}){const u=yield zn(n,e,t,r,i);return"mfaPendingCredential"in u&&ys(n,"multi-factor-auth-required",{_serverResponse:u}),u}),wP.apply(this,arguments)}function C5(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?vP(n.config,i):`${n.config.apiScheme}://${i}`}function X8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eG{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(du(this.auth,"network-request-failed")),J8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rI(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=du(n,e,r);return i.customData._tokenResponse=t,i}function b5(n){return void 0!==n&&void 0!==n.enterprise}class A5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return X8(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function TP(){return TP=(0,R.Z)(function*(n,e){return zn(n,"GET","/v2/recaptchaConfig",Pn(n,e))}),TP.apply(this,arguments)}function bP(){return bP=(0,R.Z)(function*(n,e){return zn(n,"POST","/v1/accounts:delete",e)}),bP.apply(this,arguments)}function DP(){return DP=(0,R.Z)(function*(n,e){return zn(n,"POST","/v1/accounts:lookup",e)}),DP.apply(this,arguments)}function iI(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function SP(){return SP=(0,R.Z)(function*(n,e=!1){const t=(0,_e.m9)(n),r=yield t.getIdToken(e),i=CD(r);Be(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const u="object"==typeof i.firebase?i.firebase:void 0,l=u?.sign_in_provider;return{claims:i,token:r,authTime:iI(xP(i.auth_time)),issuedAtTime:iI(xP(i.iat)),expirationTime:iI(xP(i.exp)),signInProvider:l||null,signInSecondFactor:u?.sign_in_second_factor||null}}),SP.apply(this,arguments)}function xP(n){return 1e3*Number(n)}function CD(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return wD("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,_e.tV)(t);return i?JSON.parse(i):(wD("Failed to decode base64 JWT payload"),null)}catch(i){return wD("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Zc(n,e){return MP.apply(this,arguments)}function MP(){return MP=(0,R.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof _e.ZR&&function aG({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),MP.apply(this,arguments)}class uG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,R.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,R.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class S5{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iI(this.lastLoginAt),this.creationTime=iI(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sI(n){return NP.apply(this,arguments)}function NP(){return NP=(0,R.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Zc(n,function iG(n,e){return DP.apply(this,arguments)}(t,{idToken:r}));Be(i?.users.length,t,"internal-error");const u=i.users[0];n._notifyReloadListener(u);const l=null!==(e=u.providerUserInfo)&&void 0!==e&&e.length?function dG(n){return n.map(e=>{var{providerId:t}=e,r=(0,m5._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(u.providerUserInfo):[],f=function lG(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),T=!!n.isAnonymous&&!(n.email&&u.passwordHash||f?.length),A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new S5(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(n,A)}),NP.apply(this,arguments)}function RP(){return RP=(0,R.Z)(function*(n){const e=(0,_e.m9)(n);yield sI(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),RP.apply(this,arguments)}function PP(){return PP=(0,R.Z)(function*(n,e){const t=yield w5(n,{},(0,R.Z)(function*(){const r=(0,_e.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:u}=n.config,l=C5(n,i,"/v1/token",`key=${u}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",I5.fetch()(l,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),PP.apply(this,arguments)}class oI{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function oG(n){const e=CD(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,R.Z)(function*(){return Be(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,R.Z)(function*(){const{accessToken:i,refreshToken:u,expiresIn:l}=yield function hG(n,e){return PP.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,u,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:u}=t,l=new oI;return r&&(Be("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(Be("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),u&&(Be("number"==typeof u,"internal-error",{appName:e}),l.expirationTime=u),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oI,this.toJSON())}_performRefresh(){return hu("not implemented")}}function Kd(n,e){Be("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class mp{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,u=(0,m5._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new S5(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,R.Z)(function*(){const r=yield Zc(t,t.stsTokenManager.getToken(t.auth,e));return Be(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function sG(n){return SP.apply(this,arguments)}(this,e)}reload(){return function cG(n){return RP.apply(this,arguments)}(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,R.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield sI(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,R.Z)(function*(){const t=yield e.getIdToken();return yield Zc(e,function nG(n,e){return bP.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,u,l,f,g,v,T;const A=null!==(r=t.displayName)&&void 0!==r?r:void 0,M=null!==(i=t.email)&&void 0!==i?i:void 0,O=null!==(u=t.phoneNumber)&&void 0!==u?u:void 0,j=null!==(l=t.photoURL)&&void 0!==l?l:void 0,G=null!==(f=t.tenantId)&&void 0!==f?f:void 0,X=null!==(g=t._redirectEventId)&&void 0!==g?g:void 0,Ce=null!==(v=t.createdAt)&&void 0!==v?v:void 0,Fe=null!==(T=t.lastLoginAt)&&void 0!==T?T:void 0,{uid:ke,emailVerified:Ke,isAnonymous:_t,providerData:pt,stsTokenManager:Yt}=t;Be(ke&&Yt,e,"internal-error");const br=oI.fromJSON(this.name,Yt);Be("string"==typeof ke,e,"internal-error"),Kd(A,e.name),Kd(M,e.name),Be("boolean"==typeof Ke,e,"internal-error"),Be("boolean"==typeof _t,e,"internal-error"),Kd(O,e.name),Kd(j,e.name),Kd(G,e.name),Kd(X,e.name),Kd(Ce,e.name),Kd(Fe,e.name);const Vi=new mp({uid:ke,auth:e,email:M,emailVerified:Ke,displayName:A,isAnonymous:_t,photoURL:j,phoneNumber:O,tenantId:G,stsTokenManager:br,createdAt:Ce,lastLoginAt:Fe});return pt&&Array.isArray(pt)&&(Vi.providerData=pt.map(ua=>Object.assign({},ua))),X&&(Vi._redirectEventId=X),Vi}static _fromIdTokenResponse(e,t,r=!1){return(0,R.Z)(function*(){const i=new oI;i.updateFromServerResponse(t);const u=new mp({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sI(u),u})()}}const x5=new Map;function jc(n){Wd(n instanceof Function,"Expected a class definition");let e=x5.get(n);return e?(Wd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,x5.set(n,e),e)}const M5=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,R.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,R.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,R.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function TD(n,e,t){return`firebase:${n}:${e}:${t}`}class h_{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:u}=this.auth;this.fullUserKey=TD(this.userKey,i.apiKey,u),this.fullPersistenceKey=TD("persistence",i.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,R.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?mp._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,R.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,R.Z)(function*(){if(!t.length)return new h_(jc(M5),e,r);const i=(yield Promise.all(t.map(function(){var v=(0,R.Z)(function*(T){if(yield T._isAvailable())return T});return function(T){return v.apply(this,arguments)}}()))).filter(v=>v);let u=i[0]||jc(M5);const l=TD(r,e.config.apiKey,e.name);let f=null;for(const v of t)try{const T=yield v._get(l);if(T){const A=mp._fromJSON(e,T);v!==u&&(f=A),u=v;break}}catch{}const g=i.filter(v=>v._shouldAllowMigration);return u._shouldAllowMigration&&g.length?(u=g[0],f&&(yield u._set(l,f.toJSON())),yield Promise.all(t.map(function(){var v=(0,R.Z)(function*(T){if(T!==u)try{yield T._remove(l)}catch{}});return function(T){return v.apply(this,arguments)}}())),new h_(u,e,r)):new h_(u,e,r)})()}}function N5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F5(e))return"Blackberry";if(L5(e))return"Webos";if(OP(e))return"Safari";if((e.includes("chrome/")||P5(e))&&!e.includes("edge/"))return"Chrome";if(k5(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function R5(n=(0,_e.z$)()){return/firefox\//i.test(n)}function OP(n=(0,_e.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P5(n=(0,_e.z$)()){return/crios\//i.test(n)}function O5(n=(0,_e.z$)()){return/iemobile/i.test(n)}function k5(n=(0,_e.z$)()){return/android/i.test(n)}function F5(n=(0,_e.z$)()){return/blackberry/i.test(n)}function L5(n=(0,_e.z$)()){return/webos/i.test(n)}function bD(n=(0,_e.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function U5(n=(0,_e.z$)()){return bD(n)||k5(n)||L5(n)||F5(n)||/windows phone/i.test(n)||O5(n)}function V5(n,e=[]){let t;switch(n){case"Browser":t=N5((0,_e.z$)());break;case"Worker":t=`${N5((0,_e.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rd}/${r}`}class mG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((l,f)=>{try{l(e(u))}catch(g){f(g)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,R.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const u of r)try{u()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function kP(){return kP=(0,R.Z)(function*(n,e={}){return zn(n,"GET","/v2/passwordPolicy",Pn(n,e))}),kP.apply(this,arguments)}class vG{constructor(e){var t,r,i,u;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=l.minPasswordLength)&&void 0!==t?t:6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),void 0!==l.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),void 0!==l.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),void 0!==l.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),void 0!==l.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(u=e.forceUpgradeOnSignin)&&void 0!==u&&u,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,u,l,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=null===(t=g.meetsMinPasswordLength)||void 0===t||t),g.isValid&&(g.isValid=null===(r=g.meetsMaxPasswordLength)||void 0===r||r),g.isValid&&(g.isValid=null===(i=g.containsLowercaseLetter)||void 0===i||i),g.isValid&&(g.isValid=null===(u=g.containsUppercaseLetter)||void 0===u||u),g.isValid&&(g.isValid=null===(l=g.containsNumericCharacter)||void 0===l||l),g.isValid&&(g.isValid=null===(f=g.containsNonAlphanumericCharacter)||void 0===f||f),g}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class EG{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B5(this),this.idTokenSubscription=new B5(this),this.beforeStateQueue=new mG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=jc(t)),this._initializationPromise=this.queue((0,R.Z)(function*(){var i,u;if(!r._deleted&&(r.persistenceManager=yield h_.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,R.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,R.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let u=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const f=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,g=u?._redirectEventId,v=yield t.tryRedirectSignIn(e);(!f||f===g)&&v?.user&&(u=v.user,l=!0)}if(!u)return t.directlySetCurrentUser(null);if(!u._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(u)}catch(f){u=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(f))}return u?t.reloadAndSetCurrentUserOrClear(u):t.directlySetCurrentUser(null)}return Be(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===u._redirectEventId?t.directlySetCurrentUser(u):t.reloadAndSetCurrentUserOrClear(u)})()}tryRedirectSignIn(e){var t=this;return(0,R.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,R.Z)(function*(){try{yield sI(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Y8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,R.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,R.Z)(function*(){const r=e?(0,_e.m9)(e):null;return r&&Be(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,R.Z)(function*(){if(!r._deleted)return e&&Be(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,R.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,R.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,R.Z)(function*(){yield t.assertedPersistence.setPersistence(jc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,R.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,R.Z)(function*(){const t=yield function _G(n){return kP.apply(this,arguments)}(e),r=new vG(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _e.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,R.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,R.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&jc(e)||t._popupRedirectResolver;Be(r,t,"argument-error"),t.redirectPersistenceManager=yield h_.create(t,[jc(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,R.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,R.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,R.Z)(function*(){if(e===t.currentUser)return t.queue((0,R.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const u="function"==typeof t?t:t.next.bind(t);let l=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(f,this,"internal-error"),f.then(()=>{l||u(this.currentUser)}),"function"==typeof t){const g=e.addObserver(t,r,i);return()=>{l=!0,g()}}{const g=e.addObserver(t);return()=>{l=!0,g()}}}directlySetCurrentUser(e){var t=this;return(0,R.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,R.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const u=yield e._getAppCheckToken();return u&&(r["X-Firebase-AppCheck"]=u),r})()}_getAppCheckToken(){var e=this;return(0,R.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function W8(n,...e){ID.logLevel<=Gr.in.WARN&&ID.warn(`Auth (${rd}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Cr(n){return(0,_e.m9)(n)}class B5{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,_e.ne)(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function FP(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const u=du("internal-error");u.customData=i,t(u)},r.type="text/javascript",r.charset="UTF-8",function IG(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function Z5(n){return`__${n}${Math.floor(1e6*Math.random())}`}class j5{constructor(e){this.type="recaptcha-enterprise",this.auth=Cr(e)}verify(e="verify",t=!1){var r=this;return(0,R.Z)(function*(){function u(){return u=(0,R.Z)(function*(f){if(!t){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var g=(0,R.Z)(function*(v,T){(function D5(n,e){return TP.apply(this,arguments)})(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(void 0!==A.recaptchaKey){const M=new A5(A);return null==f.tenantId?f._agentRecaptchaConfig=M:f._tenantRecaptchaConfigs[f.tenantId]=M,v(M.siteKey)}T(new Error("recaptcha Enterprise site key undefined"))}).catch(A=>{T(A)})});return function(v,T){return g.apply(this,arguments)}}())}),u.apply(this,arguments)}function l(f,g,v){const T=window.grecaptcha;b5(T)?T.enterprise.ready(()=>{T.enterprise.execute(f,{action:e}).then(A=>{g(A)}).catch(()=>{g("NO_RECAPTCHA")})}):v(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,g)=>{(function i(f){return u.apply(this,arguments)})(r.auth).then(v=>{if(!t&&b5(window.grecaptcha))l(v,f,g);else{if(typeof window>"u")return void g(new Error("RecaptchaVerifier is only supported in browser"));FP("https://www.google.com/recaptcha/enterprise.js?render="+v).then(()=>{l(v,f,g)}).catch(T=>{g(T)})}}).catch(v=>{g(v)})})})()}}function q5(n,e,t){return LP.apply(this,arguments)}function LP(){return LP=(0,R.Z)(function*(n,e,t,r=!1){const i=new j5(n);let u;try{u=yield i.verify(t)}catch{u=yield i.verify(t,!0)}const l=Object.assign({},e);return Object.assign(l,r?{captchaResp:u}:{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}),LP.apply(this,arguments)}function AD(n,e,t,r){return UP.apply(this,arguments)}function UP(){return UP=(0,R.Z)(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=yield q5(n,e,t,"getOobCode"===t);return r(n,u)}return r(n,e).catch(function(){var u=(0,R.Z)(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=yield q5(n,e,t,"getOobCode"===t);return r(n,f)}return Promise.reject(l)});return function(l){return u.apply(this,arguments)}}())}),UP.apply(this,arguments)}function $5(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function H5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class G5{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hu("not implemented")}_getIdTokenResponse(e){return hu("not implemented")}_linkToIdToken(e,t){return hu("not implemented")}_getReauthenticationResolver(e){return hu("not implemented")}}function ZP(){return ZP=(0,R.Z)(function*(n,e){return zn(n,"POST","/v1/accounts:update",e)}),ZP.apply(this,arguments)}function RG(n,e){return qP.apply(this,arguments)}function qP(){return qP=(0,R.Z)(function*(n,e){return Bc(n,"POST","/v1/accounts:signInWithPassword",Pn(n,e))}),qP.apply(this,arguments)}function $P(){return $P=(0,R.Z)(function*(n,e){return zn(n,"POST","/v1/accounts:sendOobCode",Pn(n,e))}),$P.apply(this,arguments)}function OG(n,e){return GP.apply(this,arguments)}function GP(){return GP=(0,R.Z)(function*(n,e){return function DD(n,e){return $P.apply(this,arguments)}(n,e)}),GP.apply(this,arguments)}function KP(){return KP=(0,R.Z)(function*(n,e){return Bc(n,"POST","/v1/accounts:signInWithEmailLink",Pn(n,e))}),KP.apply(this,arguments)}function YP(){return YP=(0,R.Z)(function*(n,e){return Bc(n,"POST","/v1/accounts:signInWithEmailLink",Pn(n,e))}),YP.apply(this,arguments)}class aI extends G5{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new aI(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new aI(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,R.Z)(function*(){switch(t.signInMethod){case"password":return AD(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",RG);case"emailLink":return function LG(n,e){return KP.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:ys(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,R.Z)(function*(){switch(r.signInMethod){case"password":return function W5(n,e){return ZP.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function UG(n,e){return YP.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:ys(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function qc(n,e){return QP.apply(this,arguments)}function QP(){return QP=(0,R.Z)(function*(n,e){return Bc(n,"POST","/v1/accounts:signInWithIdp",Pn(n,e))}),QP.apply(this,arguments)}class lI{constructor(e){var t,r,i,u,l,f;const g=(0,_e.zd)((0,_e.pd)(e)),v=null!==(t=g.apiKey)&&void 0!==t?t:null,T=null!==(r=g.oobCode)&&void 0!==r?r:null,A=function HG(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=g.mode)&&void 0!==i?i:null);Be(v&&T&&A,"argument-error"),this.apiKey=v,this.operation=A,this.code=T,this.continueUrl=null!==(u=g.continueUrl)&&void 0!==u?u:null,this.languageCode=null!==(l=g.languageCode)&&void 0!==l?l:null,this.tenantId=null!==(f=g.tenantId)&&void 0!==f?f:null}static parseLink(e){const t=function GG(n){const e=(0,_e.zd)((0,_e.pd)(n)).link,t=e?(0,_e.zd)((0,_e.pd)(e)).deep_link_id:null,r=(0,_e.zd)((0,_e.pd)(n)).deep_link_id;return(r?(0,_e.zd)((0,_e.pd)(r)).link:null)||r||t||e||n}(e);try{return new lI(t)}catch{return null}}}let K5=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return aI._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=lI.parseLink(r);return Be(i,"argument-error"),aI._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Yd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zG extends Yd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Y5(n,e){return rO.apply(this,arguments)}function rO(){return rO=(0,R.Z)(function*(n,e){return Bc(n,"POST","/v1/accounts:signUp",Pn(n,e))}),rO.apply(this,arguments)}class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,R.Z)(function*(){const u=yield mp._fromIdTokenResponse(e,r,i),l=Q5(r);return new go({user:u,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,R.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Q5(r);return new go({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function Q5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class xD extends _e.ZR{constructor(e,t,r,i){var u;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xD.prototype),this.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new xD(e,t,r,i)}}function J5(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw"auth/multi-factor-auth-required"===u.code?xD._fromErrorAndOperation(n,u,e,r):u})}function aO(){return aO=(0,R.Z)(function*(n,e,t=!1){const r=yield Zc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return go._forOperation(n,"link",r)}),aO.apply(this,arguments)}function cO(){return cO=(0,R.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const u=yield Zc(n,J5(r,i,e,n),t);Be(u.idToken,r,"internal-error");const l=CD(u.idToken);Be(l,r,"internal-error");const{sub:f}=l;return Be(n.uid===f,r,"user-mismatch"),go._forOperation(n,i,u)}catch(u){throw"auth/user-not-found"===u?.code&&ys(r,"user-mismatch"),u}}),cO.apply(this,arguments)}function t6(n,e){return lO.apply(this,arguments)}function lO(){return lO=(0,R.Z)(function*(n,e,t=!1){const r="signIn",i=yield J5(n,r,e),u=yield go._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(u.user)),u}),lO.apply(this,arguments)}function hO(){return hO=(0,R.Z)(function*(n,e){return t6(Cr(n),e)}),hO.apply(this,arguments)}function EO(n){return IO.apply(this,arguments)}function IO(){return IO=(0,R.Z)(function*(n){const e=Cr(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())}),IO.apply(this,arguments)}function wO(){return wO=(0,R.Z)(function*(n,e,t){const r=Cr(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&function ND(n,e,t){var r;Be((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),Be(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Be(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Be(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}(r,i,t),yield AD(r,i,"getOobCode",OG)}),wO.apply(this,arguments)}function DO(){return DO=(0,R.Z)(function*(n,e,t){const r=Cr(n),l=yield AD(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Y5).catch(g=>{throw"auth/password-does-not-meet-requirements"===g.code&&EO(n),g}),f=yield go._fromIdTokenResponse(r,"signIn",l);return yield r._updateCurrentUser(f.user),f}),DO.apply(this,arguments)}const RD="__sak";class r6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(RD,"1"),this.storage.removeItem(RD),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ez=(()=>{class n extends r6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _z(){const n=(0,_e.z$)();return OP(n)||bD(n)}()&&function gG(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=U5(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),u=this.localCache[r];i!==u&&t(r,u,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((f,g,v)=>{this.notifyListeners(f,v)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(t.newValue!==f)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const u=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},l=this.storage.getItem(i);!function pG(){return(0,_e.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?u():setTimeout(u,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,u=this;return(0,R.Z)(function*(){yield i().call(u,t,r),u.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,R.Z)(function*(){const u=yield r().call(i,t);return i.localCache[t]=JSON.stringify(u),u})()}_remove(t){var r=()=>super._remove,i=this;return(0,R.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),i6=(()=>{class n extends r6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let wz=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,R.Z)(function*(){const i=t,{eventId:u,eventType:l,data:f}=i.data,g=r.handlersMap[l];if(!g?.size)return;i.ports[0].postMessage({status:"ack",eventId:u,eventType:l});const v=Array.from(g).map(function(){var A=(0,R.Z)(function*(M){return M(i.origin,f)});return function(M){return A.apply(this,arguments)}}()),T=yield function Iz(n){return Promise.all(n.map(function(){var e=(0,R.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(v);i.ports[0].postMessage({status:"done",eventId:u,eventType:l,response:T})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function qO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Cz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,R.Z)(function*(){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let l,f;return new Promise((g,v)=>{const T=qO("",20);u.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:u,onMessage(M){const O=M;if(O.data.eventId===T)switch(O.data.status){case"ack":clearTimeout(A),l=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),g(O.data.response);break;default:clearTimeout(A),clearTimeout(l),v(new Error("invalid_response"))}}},i.handlers.add(f),u.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:e,eventId:T,data:t},[u.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function Tr(){return window}function $O(){return typeof Tr().WorkerGlobalScope<"u"&&"function"==typeof Tr().importScripts}function HO(){return(HO=(0,R.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const s6="firebaseLocalStorageDb",PD="firebaseLocalStorage",o6="fbase_key";class hI{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function OD(n,e){return n.transaction([PD],e?"readwrite":"readonly").objectStore(PD)}function GO(){const n=indexedDB.open(s6,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(PD,{keyPath:o6})}catch(i){t(i)}}),n.addEventListener("success",(0,R.Z)(function*(){const r=n.result;r.objectStoreNames.contains(PD)?e(r):(r.close(),yield function xz(){const n=indexedDB.deleteDatabase(s6);return new hI(n).toPromise()}(),e(yield GO()))}))})}function a6(n,e,t){return zO.apply(this,arguments)}function zO(){return zO=(0,R.Z)(function*(n,e,t){const r=OD(n,!0).put({[o6]:e,value:t});return new hI(r).toPromise()}),zO.apply(this,arguments)}function WO(){return WO=(0,R.Z)(function*(n,e){const t=OD(n,!1).get(e),r=yield new hI(t).toPromise();return void 0===r?null:r.value}),WO.apply(this,arguments)}function u6(n,e){const t=OD(n,!0).delete(e);return new hI(t).toPromise()}const Pz=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,R.Z)(function*(){return t.db||(t.db=yield GO()),t.db})()}_withRetries(t){var r=this;return(0,R.Z)(function*(){let i=0;for(;;)try{const u=yield r._openDb();return yield t(u)}catch(u){if(i++>3)throw u;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,R.Z)(function*(){return $O()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,R.Z)(function*(){t.receiver=wz._getInstance(function Dz(){return $O()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,R.Z)(function*(i,u){return{keyProcessed:(yield t._poll()).includes(u.key)}});return function(i,u){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,R.Z)(function*(i,u){return["keyChanged"]});return function(i,u){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,R.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function bz(){return HO.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Cz(t.activeServiceWorker);const u=yield t.sender._send("ping",{},800);u&&null!==(r=u[0])&&void 0!==r&&r.fulfilled&&null!==(i=u[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,R.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function Az(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.Z)(function*(){try{if(!indexedDB)return!1;const t=yield GO();return yield a6(t,RD,"1"),yield u6(t,RD),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,R.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,R.Z)(function*(){return i._withPendingWrite((0,R.Z)(function*(){return yield i._withRetries(u=>a6(u,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,R.Z)(function*(){const i=yield r._withRetries(u=>function Mz(n,e){return WO.apply(this,arguments)}(u,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,R.Z)(function*(){return r._withPendingWrite((0,R.Z)(function*(){return yield r._withRetries(i=>u6(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,R.Z)(function*(){const r=yield t._withRetries(l=>{const f=OD(l,!1).getAll();return new hI(f).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],u=new Set;for(const{fbase_key:l,value:f}of r)u.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(f)&&(t.notifyListeners(l,f),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!u.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,R.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();Z5("rcb"),new nI(3e4,6e4);class rk extends G5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Kz(n){return t6(n.auth,new rk(n),n.bypassAuthState)}function Yz(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),function e6(n,e){return cO.apply(this,arguments)}(t,new rk(n),n.bypassAuthState)}function Qz(n){return ik.apply(this,arguments)}function ik(){return ik=(0,R.Z)(function*(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),function oO(n,e){return aO.apply(this,arguments)}(t,new rk(n),n.bypassAuthState)}),ik.apply(this,arguments)}class Jz{constructor(e,t,r,i,u=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,R.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(u){e.reject(u)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,R.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:u,tenantId:l,error:f,type:g}=e;if(f)return void t.reject(f);const v={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:u||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(g)(v))}catch(T){t.reject(T)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kz;case"linkViaPopup":case"linkViaRedirect":return Qz;case"reauthViaPopup":case"reauthViaRedirect":return Yz;default:ys(this.auth,"internal-error")}}resolve(e){Wd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new nI(2e3,1e4);const Xz="pendingRedirect",fI=new Map;class e7 extends Jz{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,R.Z)(function*(){let r=fI.get(t.auth._key());if(!r){try{const u=(yield function t7(n,e){return ck.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(u)}catch(i){r=()=>Promise.reject(i)}fI.set(t.auth._key(),r)}return t.bypassAuthState||fI.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,R.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,R.Z)(function*(){})()}cleanUp(){}}function ck(){return ck=(0,R.Z)(function*(n,e){const t=function d6(n){return TD(Xz,n.config.apiKey,n.name)}(e),r=function l6(n){return jc(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),ck.apply(this,arguments)}function n7(n,e){fI.set(n._key(),e)}function h6(n,e){return mk.apply(this,arguments)}function mk(){return mk=(0,R.Z)(function*(n,e,t=!1){const r=Cr(n),i=function yp(n,e){return e?jc(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new e7(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l}),mk.apply(this,arguments)}class a7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function u7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g6(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!g6(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(du(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(p6(e))}saveEventToCache(e){this.cachedEventUids.add(p6(e)),this.lastProcessedEventTime=Date.now()}}function p6(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function g6({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function yk(){return yk=(0,R.Z)(function*(n,e={}){return zn(n,"GET","/v1/projects",e)}),yk.apply(this,arguments)}const l7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d7=/^https?/;function vk(){return vk=(0,R.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function c7(n){return yk.apply(this,arguments)}(n);for(const t of e)try{if(f7(t))return}catch{}ys(n,"unauthorized-domain")}),vk.apply(this,arguments)}function f7(n){const e=tI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!d7.test(t))return!1;if(l7.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const p7=new nI(3e4,6e4);function m6(){const n=Tr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let FD=null;const _7=new nI(5e3,15e3),y7="__/auth/iframe",v7="emulator/auth/iframe",E7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w7(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vP(e,v7):`https://${n.config.authDomain}/${y7}`,r={apiKey:e.apiKey,appName:n.name,v:rd},i=I7.get(n.config.apiHost);i&&(r.eid=i);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${(0,_e.xO)(r).slice(1)}`}function Ek(){return Ek=(0,R.Z)(function*(n){const e=yield function m7(n){return FD=FD||function g7(n){return new Promise((e,t)=>{var r,i,u;function l(){m6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m6(),t(du(n,"network-request-failed"))},timeout:p7.get()})}if(null!==(i=null===(r=Tr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(u=Tr().gapi)||void 0===u||!u.load){const f=Z5("iframefcb");return Tr()[f]=()=>{gapi.load?l():t(du(n,"network-request-failed"))},FP(`https://apis.google.com/js/api.js?onload=${f}`).catch(g=>t(g))}l()}}).catch(e=>{throw FD=null,e})}(n),FD}(n),t=Tr().gapi;return Be(t,n,"internal-error"),e.open({where:document.body,url:w7(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E7,dontclear:!0},r=>new Promise(function(){var i=(0,R.Z)(function*(u,l){yield r.restyle({setHideOnLeave:!1});const f=du(n,"network-request-failed"),g=Tr().setTimeout(()=>{l(f)},_7.get());function v(){Tr().clearTimeout(g),u(r)}r.ping(v).then(v,()=>{l(f)})});return function(u,l){return i.apply(this,arguments)}}()))}),Ek.apply(this,arguments)}const T7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const N7="__/auth/handler",R7="emulator/auth/handler",P7=encodeURIComponent("fac");function y6(n,e,t,r,i,u){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,R.Z)(function*(n,e,t,r,i,u){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:rd,eventId:i};if(e instanceof Yd){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,_e.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries(u||{}))l[T]=A}if(e instanceof zG){const T=e.getScopes().filter(A=>""!==A);T.length>0&&(l.scopes=T.join(","))}n.tenantId&&(l.tid=n.tenantId);const f=l;for(const T of Object.keys(f))void 0===f[T]&&delete f[T];const g=yield n._getAppCheckToken(),v=g?`#${P7}=${encodeURIComponent(g)}`:"";return`${function O7({config:n}){return n.emulator?vP(n,R7):`https://${n.authDomain}/${N7}`}(n)}?${(0,_e.xO)(f).slice(1)}${v}`}),Ik.apply(this,arguments)}const wk="webStorageSupport",F7=class k7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i6,this._completeRedirectFn=h6,this._overrideRedirectResult=n7}_openPopup(e,t,r,i){var u=this;return(0,R.Z)(function*(){var l;Wd(null===(l=u.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const f=yield y6(e,t,r,tI(),i);return function x7(n,e,t,r=500,i=600){const u=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const g=Object.assign(Object.assign({},T7),{width:r.toString(),height:i.toString(),top:u,left:l}),v=(0,_e.z$)().toLowerCase();t&&(f=P5(v)?"_blank":t),R5(v)&&(e=e||"http://localhost",g.scrollbars="yes");const T=Object.entries(g).reduce((M,[O,j])=>`${M}${O}=${j},`,"");if(function fG(n=(0,_e.z$)()){var e;return bD(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(v)&&"_self"!==f)return function M7(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",f),new _6(null);const A=window.open(e||"",f,T);Be(A,n,"popup-blocked");try{A.focus()}catch{}return new _6(A)}(e,f,qO())})()}_openRedirect(e,t,r,i){var u=this;return(0,R.Z)(function*(){return yield u._originValidation(e),function Tz(n){Tr().location.href=n}(yield y6(e,t,r,tI(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:u}=this.eventManagers[t];return i?Promise.resolve(i):(Wd(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,R.Z)(function*(){const r=yield function C7(n){return Ek.apply(this,arguments)}(e),i=new a7(e);return r.register("authEvent",u=>(Be(u?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wk,{type:wk},i=>{var u;const l=null===(u=i?.[0])||void 0===u?void 0:u[wk];void 0!==l&&t(!!l),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function h7(n){return vk.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return U5()||OP()||bD()}};var I6="@firebase/auth";class L7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,R.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Z7=(0,_e.Pz)("authIdTokenMaxAge")||300;let C6=null;const j7=n=>function(){var e=(0,R.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Z7)return;const u=r?.token;C6!==u&&(C6=u,yield fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function UD(n=function yC(n=Za){const e=ja.get(n);if(!e&&n===Za&&(0,_e.aH)())return _C();if(!e)throw zo.create("no-app",{appName:n});return e}()){const e=_f(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function AG(n,e){const t=_f(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),u=t.getOptions();if((0,_e.vZ)(u,e??{}))return i;ys(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:F7,persistence:[Pz,Ez,i6]}),r=(0,_e.Pz)("authTokenSyncURL");if(r){const u=j7(r);(function dz(n,e,t){(0,_e.m9)(n).beforeAuthStateChanged(e,t)})(t,u,()=>u(t.currentUser)),function lz(n,e,t,r){(0,_e.m9)(n).onIdTokenChanged(e,t,r)}(t,l=>u(l))}const i=(0,_e.q4)("auth");return i&&function SG(n,e,t){const r=Cr(n);Be(r._canInitEmulator,r,"emulator-config-failed"),Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,u=$5(e),{host:l,port:f}=function xG(n){const e=$5(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const u=i[1];return{host:u,port:H5(r.substr(u.length+1))}}{const[u,l]=r.split(":");return{host:u,port:H5(l)}}}(e);r.config.emulator={url:`${u}//${l}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function MG(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function V7(n){_r(new gn.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=r.options;Be(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:l,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V5(n)},v=new EG(r,i,u,g);return function DG(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(jc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_r(new gn.wA("auth-internal",e=>{const t=Cr(e.getProvider("auth").getImmediate());return new L7(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(I6,"1.3.2",function U7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),yi(I6,"1.3.2","esm2017")}("Browser");let Qd=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r,this.userDataSubject=new rr.X(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const u=JSON.parse(i);this.userDataSubject.next(u)}}registerUser(t,r,i){var u=this;return(0,R.Z)(function*(){try{const l=yield u.createUserWithEmailAndPassword(t,r),f=l.user.uid;yield u.addAdditionalAuthData(f,i),yield u.saveUserData(l.user,i),u.router.navigate(["categories"])}catch(l){u.handleError(l)}})()}loginUser(t,r){var i=this;return(0,R.Z)(function*(){try{const u=yield i.signInWithEmailAndPassword(t,r),l=u.user.uid,f=yield i.getAdditionalAuthDataById(l);yield i.saveUserData(u.user,f),i.router.navigate(["categories"])}catch(u){i.handleError(u)}})()}logoutUser(){var t=this;return(0,R.Z)(function*(){try{yield t.signOutAuth(),yield t.clearUserData(),t.router.navigate(["sign-in"])}catch(r){t.handleError(r)}})()}forgotPassword(t){var r=this;return(0,R.Z)(function*(){try{yield r.sendPasswordResetEmail(t),window.alert("Password reset email sent, check your inbox."),r.router.navigate(["sign-in"])}catch(i){r.handleError(i),window.alert(i)}})()}sendPasswordResetEmail(t){return function XG(n,e,t){return wO.apply(this,arguments)}(UD(),t)}createUserWithEmailAndPassword(t,r){return function tz(n,e,t){return DO.apply(this,arguments)}(UD(),t,r)}signInWithEmailAndPassword(t,r){return function nz(n,e,t){return function dO(n,e){return hO.apply(this,arguments)}((0,_e.m9)(n),K5.credential(e,t)).catch(function(){var r=(0,R.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&EO(n),i});return function(i){return r.apply(this,arguments)}}())}(UD(),t,r)}signOutAuth(){return function hz(n){return(0,_e.m9)(n).signOut()}(UD())}addAdditionalAuthData(t,r){return L8(lu(this.firestore,"Auth",t),r)}getAdditionalAuthDataById(t){var r=this;return(0,R.Z)(function*(){const i=lu(r.firestore,"Auth",t),u=yield zd(i);return u.exists()?u.data():null})()}saveUserData(t,r){return new Promise((i,u)=>{if(t&&r){const l={...t,...r};localStorage.setItem("user",JSON.stringify(l)),this.userDataSubject.next(l),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),u()})}clearUserData(){return new Promise((t,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),t()})}handleError(t){if(t instanceof Error){const i=t.message;console.error(`Error (${t.name}): ${i}`),alert(i)}else console.error("Unknown error:",t),alert(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ti),o.LFG($n))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q7(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"a",7)(2,"div",8)(3,"div",9),o._UZ(4,"img",10),o.qZA(),o.TgZ(5,"p",11),o._uU(6),o.qZA()()(),o.BQk()),2&n){const t=o.oxw().$implicit,r=o.oxw();o.xp6(1),o.Q6J("routerLink",r.getRecipeLink(t)),o.xp6(3),o.s9C("alt",t.title),o.Q6J("src",t.image_recipe,o.LSH),o.xp6(2),o.Oqu(t.title)}}function $7(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,q7,7,4,"ng-container",6),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.userData)}}let H7=(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.authService=i,this.recipes=[],this.category=null,this.firestore=(0,o.f3M)(ti),this.authService.userData$.subscribe(u=>{this.userData=u})}getRecipeLink(t){return this.userData?.isCook?["/recipe",t.id]:["/recipe-waiters",t.id]}ngOnInit(){var t=this;this.route.params.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.id,f=cu(t.firestore,"Recipe"),g=lu(t.firestore,"Category",u),v=yield zd(g);v.exists()&&(t.category=v.data());const T=p5(f,g5("category","==",u));l_(T).then(A=>{const M=[];A.forEach(O=>{const j=O.data();M.push({title:j.title,image_recipe:j.image_recipe[0]?j.image_recipe[0].image_recipe:null,order_index:j.order_index,id:O.id})}),t.recipes=M.sort((O,j)=>Number(O.order_index)-Number(j.order_index))}).catch(A=>{console.error("Error retrieving recipes: ",A)})});return function(i){return r.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(fi),o.Y36($n),o.Y36(Qd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-category"]],decls:8,vars:3,consts:[[1,"mainLong"],[1,"category"],[1,"category-title"],[1,"category-subtitle"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.TgZ(4,"h4",3),o._uU(5),o.qZA(),o.TgZ(6,"div",4),o.YNc(7,$7,2,1,"div",5),o.qZA()()()),2&r&&(o.xp6(3),o.hij(" ",null==i.category?null:i.category.name," "),o.xp6(2),o.hij(" ",null==i.category?null:i.category.note," "),o.xp6(2),o.Q6J("ngForOf",i.recipes))},dependencies:[Di,fr,mi],styles:[".category[_ngcontent-%COMP%]{width:1200px;margin:0 auto;position:relative}.category-title[_ngcontent-%COMP%]{text-align:center;font-family:var(--titleFont)}.category-subtitle[_ngcontent-%COMP%]{font-style:italic;text-align:center;font-weight:200;margin-bottom:20px}.recipe-list[_ngcontent-%COMP%]{position:relative;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{border:1px solid var(--mainWhiteColor);margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--backgroundColor);color:var(--mainBlackColor);font-weight:600;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:capitalize;top:70%;height:30%;font-family:var(--titleFont);display:flex;align-items:center;justify-content:center}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(.95);transition:1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:2%;height:30%;color:var(--mainBlackColor);background:var(--mainMagnoliaColor);transition:1s ease-in-out}@media (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return n})(),f_=(()=>{class n{constructor(t){this.firestore=t}getBaseRecipe(){const r=cu(this.firestore,"BaseRecipe");return new nr.y(i=>{l_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}getBaseById(t){var r=this;return(0,R.Z)(function*(){const i=lu(r.firestore,"BaseRecipe",t),u=yield zd(i);return u.exists()?u.data():null})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ti))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T6=(()=>{class n{constructor(t){this.firestore=t}getCategories(){const r=cu(this.firestore,"Category");return new nr.y(i=>{l_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ti))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vp=(()=>{class n{constructor(t){this.firestore=t}getAllergens(){const r=cu(this.firestore,"Allergens");return new nr.y(i=>{l_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ti))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G7=(()=>{class n{constructor(t){this.firestore=t}getPlates(){const r=cu(this.firestore,"Plates");return new nr.y(i=>{l_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ti))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function z7(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function W7(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,z7,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function K7(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function Y7(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),o.qZA())}function Q7(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Y7,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("category"))||null==r.errors?null:r.errors.required)}}function J7(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),o.qZA())}function X7(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,J7,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function e9(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0435\u0437\u043e\u043d! "),o.qZA())}function t9(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,e9,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("season"))||null==r.errors?null:r.errors.required)}}function n9(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function r9(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,n9,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("unit"))||null==r.errors?null:r.errors.required)}}function i9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",46)(1,"input",47),o.NdJ("change",function(){const u=o.CHM(t).$implicit,l=o.oxw();return o.KtG(l.toggleAllergenSelection(u.id))}),o.qZA(),o.TgZ(2,"label",48),o._uU(3),o.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=o.oxw();o.xp6(1),o.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),o.xp6(1),o.s9C("for","allergen"+r),o.xp6(1),o.Oqu(t.name)}}function s9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",49)(1,"p",7),o._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(3,"input",50),o.TgZ(4,"button",36),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeImage(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function o9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",49)(1,"p",7),o._uU(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),o.qZA(),o._UZ(3,"input",51),o.TgZ(4,"button",36),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeVideo(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function a9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",49)(1,"p",7),o._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),o.qZA(),o._UZ(3,"input",52),o.TgZ(4,"button",36),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removePreparation(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function u9(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function c9(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0447\u0438\u043d\u0438\u044f! "),o.qZA())}function l9(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,c9,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("food_plate"))||null==r.errors?null:r.errors.required)}}function d9(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function h9(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,d9,2,0,"div",43),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function f9(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function p9(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,f9,2,0,"div",43),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function g9(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function m9(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,g9,2,0,"div",43),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function _9(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.title," ")}}function y9(n,e){if(1&n&&(o.TgZ(0,"div",49)(1,"div",53),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o.TgZ(6,"label",54),o._uU(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(8,"input",55),o.YNc(9,h9,2,1,"div",5),o.TgZ(10,"label",56),o._uU(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(12,"input",57),o.YNc(13,p9,2,1,"div",5),o.TgZ(14,"label",24),o._uU(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(16,"p",7),o._uU(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),o.qZA(),o.TgZ(18,"select",58)(19,"option",26),o._uU(20,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(21,"option",27),o._uU(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(23,"option",28),o._uU(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(25,"option",29),o._uU(26,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(27,m9,2,1,"div",5),o.TgZ(28,"label",59),o._uU(29,"\u0411\u0440\u043e\u0439\u043a\u0430: "),o.qZA(),o.TgZ(30,"p",7),o._uU(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),o.qZA(),o._UZ(32,"input",60),o.TgZ(33,"label",61),o._uU(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.qZA(),o.TgZ(35,"p",7),o._uU(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),o._UZ(37,"br"),o._uU(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),o.qZA(),o._UZ(39,"input",62),o.TgZ(40,"label",63),o._uU(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),o.qZA(),o.TgZ(42,"p",7),o._uU(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),o.qZA(),o.TgZ(44,"select",64),o.YNc(45,_9,2,2,"option",9),o.qZA(),o.TgZ(46,"label",40),o._uU(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),o.qZA(),o.TgZ(48,"p",7),o._uU(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),o.qZA(),o._UZ(50,"input",65),o.qZA()),2&n){const t=e.index,r=o.oxw();let i,u,l;o.Q6J("formGroupName",t),o.xp6(9),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".name"))?null:i.touched),o.xp6(4),o.Q6J("ngIf",null==(u=r.recipeForm.get("ingredients."+t+".amount"))?null:u.touched),o.xp6(14),o.Q6J("ngIf",null==(l=r.recipeForm.get("ingredients."+t+".unit"))?null:l.touched),o.xp6(18),o.Q6J("ngForOf",r.baseRecipes)}}let v9=(()=>{class n{constructor(t,r,i,u,l,f){this.fb=r,this.baseRecipeService=i,this.categoriesService=u,this.allergenService=l,this.platesService=f,this.allergens=[],this.plates=[],this.baseRecipes=[],this.categories=[],this.currentOrderIndex=1,this.firestore=t,this.recipeForm=this.fb.group({title:["",[st.required]],category:this.fb.control([null,[st.required]]),description:["",[st.required]],season:["",[st.required]],unit:["",[st.required]],summary:[""],release_time:[0],serving_value:[0],order_index:[0],allergens:this.fb.array([]),food_plate:this.fb.control([null,[st.required]]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[st.required]],amount:[null,[st.required]],base:this.fb.control(null),unit:["",[st.required]],order_index:[0],preparation_method:[""],quantity:[0]})])}),this.getAllergens(),this.getPlates()}ngOnInit(){this.getBaseRecipe(),this.getCategory()}addImage(){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(t){this.recipeForm.get("image_recipe").removeAt(t)}addImageToForm(t){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.recipeForm.get("video_recipe").removeAt(t)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.recipeForm.get("preparation_method").removeAt(t)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[st.required]],amount:[null,[st.required]],base:this.fb.control(null),unit:["",[st.required]],order_index:this.currentOrderIndex,preparation_method:[""],quantity:[0]})),this.currentOrderIndex++}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Ua(t)):this.added_allergens.removeAt(r)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}get added_allergens(){return this.recipeForm.get("allergens")}onSubmit(){this.recipeForm.valid&&(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}getCategory(){this.categoriesService.getCategories().subscribe({next:t=>{this.categories=t},error:t=>{console.error("Error fetching recipes:",t)}})}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getPlates(){this.platesService.getPlates().subscribe({next:t=>{this.plates=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addRecipe(t){yD(cu(this.firestore,"Recipe"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ti),o.Y36(gc),o.Y36(f_),o.Y36(T6),o.Y36(vp),o.Y36(G7))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-recipe-form"]],decls:105,vars:14,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","category"],[1,"hint"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["id","ingredient_unit","formControlName","unit"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["type","text","id","ingredient_preparation_method","formControlName","preparation_method"],["for","base"],["id","base","formControlName","base"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(4,"form",3)(5,"label"),o._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o._UZ(7,"input",4),o.qZA(),o.YNc(8,W7,2,1,"div",5),o.TgZ(9,"label",6),o._uU(10,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(11,"p",7),o._uU(12,"\u041a\u044a\u043c \u043a\u043e\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043f\u0440\u0435\u043d\u0430\u0434\u043b\u0435\u0436\u0438 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),o.qZA(),o.TgZ(13,"select",8),o.YNc(14,K7,2,2,"option",9),o.qZA(),o.YNc(15,Q7,2,1,"div",5),o.TgZ(16,"div")(17,"label",10),o._uU(18,"\u0420\u0435\u0437\u044e\u043c\u0435:"),o.qZA(),o.TgZ(19,"p",7),o._uU(20,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(21,"input",11),o.qZA(),o.TgZ(22,"div")(23,"label",12),o._uU(24,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(25,"textarea",13),o.qZA(),o.YNc(26,X7,2,1,"div",5),o.TgZ(27,"div")(28,"label",14),o._uU(29,"\u0421\u0435\u0437\u043e\u043d (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(30,"p",7),o._uU(31,"\u0412 \u043a\u043e\u0439 \u0441\u0435\u0437\u043e\u043d \u0449\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),o.qZA(),o.TgZ(32,"select",15)(33,"option",16),o._uU(34,"\u041f\u0440\u043e\u043b\u0435\u0442"),o.qZA(),o.TgZ(35,"option",17),o._uU(36,"\u041b\u044f\u0442\u043e"),o.qZA(),o.TgZ(37,"option",18),o._uU(38,"\u0415\u0441\u0435\u043d"),o.qZA(),o.TgZ(39,"option",19),o._uU(40,"\u0417\u0438\u043c\u0430"),o.qZA()()(),o.YNc(41,t9,2,1,"div",5),o.TgZ(42,"div")(43,"label",20),o._uU(44,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435: "),o.qZA(),o.TgZ(45,"p",7),o._uU(46,"\u0417\u0430 \u043a\u043e\u043b\u043a\u043e \u0432\u0440\u0435\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),o.qZA(),o._UZ(47,"input",21),o.qZA(),o.TgZ(48,"div")(49,"label",22),o._uU(50,"\u0413\u043e\u0442\u043e\u0432\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: "),o.qZA(),o.TgZ(51,"p",7),o._uU(52,"\u041a\u043e\u043b\u043a\u043e \u0442\u0435\u0436\u0438 \u0433\u043e\u0442\u043e\u0432\u043e\u0442\u043e \u044f\u0441\u0442\u0438\u0435?"),o.qZA(),o._UZ(53,"input",23),o.qZA(),o._UZ(54,"br"),o.TgZ(55,"label",24),o._uU(56,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(57,"p",7),o._uU(58,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),o.qZA(),o.TgZ(59,"select",25)(60,"option",26),o._uU(61,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(62,"option",27),o._uU(63,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(64,"option",28),o._uU(65,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(66,"option",29),o._uU(67,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(68,r9,2,1,"div",5),o.TgZ(69,"div",30)(70,"label"),o._uU(71,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),o.qZA(),o.YNc(72,i9,4,5,"div",31),o.qZA(),o.TgZ(73,"div")(74,"app-image-upload",32),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.TgZ(75,"div",33),o.YNc(76,s9,6,1,"div",34),o.qZA(),o.TgZ(77,"div",35),o.YNc(78,o9,6,1,"div",34),o.TgZ(79,"button",36),o.NdJ("click",function(){return i.addVideo()}),o._uU(80," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),o.qZA()(),o.TgZ(81,"div",37),o.YNc(82,a9,6,1,"div",34),o.TgZ(83,"button",36),o.NdJ("click",function(){return i.addPreparation()}),o._uU(84," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),o.qZA()(),o.TgZ(85,"label",38),o._uU(86,"\u0427\u0438\u043d\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(87,"p",7),o._uU(88,"\u0412 \u043a\u043e\u044f \u0447\u0438\u043d\u0438\u044f \u0449\u0435 \u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0440\u0430 \u044f\u0441\u0442\u0438\u0435\u0442\u043e?"),o.qZA(),o.TgZ(89,"select",39),o.YNc(90,u9,2,2,"option",9),o.qZA(),o.YNc(91,l9,2,1,"div",5),o.TgZ(92,"div")(93,"label",40),o._uU(94,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),o.qZA(),o.TgZ(95,"p",7),o._uU(96,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u0438\u0442\u0435 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),o.qZA(),o._UZ(97,"input",41),o.qZA()(),o.TgZ(98,"div",42),o.YNc(99,y9,51,5,"div",34),o.qZA(),o._UZ(100,"br"),o.TgZ(101,"button",36),o.NdJ("click",function(){return i.addIngredient()}),o._uU(102," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),o.qZA(),o.TgZ(103,"button",36),o.NdJ("click",function(){return i.onSubmit()}),o._uU(104,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA()()()()),2&r){let u,l,f,g,v,T;o.xp6(4),o.Q6J("formGroup",i.recipeForm),o.xp6(4),o.Q6J("ngIf",null==(u=i.recipeForm.get("title"))?null:u.touched),o.xp6(6),o.Q6J("ngForOf",i.categories),o.xp6(1),o.Q6J("ngIf",null==(l=i.recipeForm.get("category"))?null:l.touched),o.xp6(11),o.Q6J("ngIf",null==(f=i.recipeForm.get("description"))?null:f.touched),o.xp6(15),o.Q6J("ngIf",null==(g=i.recipeForm.get("season"))?null:g.touched),o.xp6(27),o.Q6J("ngIf",null==(v=i.recipeForm.get("unit"))?null:v.touched),o.xp6(4),o.Q6J("ngForOf",i.allergens),o.xp6(4),o.Q6J("ngForOf",i.image_recipe.controls),o.xp6(2),o.Q6J("ngForOf",i.video_recipe.controls),o.xp6(4),o.Q6J("ngForOf",i.preparation_method.controls),o.xp6(8),o.Q6J("ngForOf",i.plates),o.xp6(1),o.Q6J("ngIf",null==(T=i.recipeForm.get("food_plate"))?null:T.touched),o.xp6(8),o.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[Di,fr,Vo,pc,Ba,sr,oo,qo,Fa,La,Bo,jo,fc,Zo,ED]})}return n})(),b6=(()=>{class n{constructor(t){this.firestore=t}getRecipeById(t){var r=this;return(0,R.Z)(function*(){const i=lu(r.firestore,"Recipe",t),u=yield zd(i);return u.exists()?u.data():null})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ti))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tk=(()=>{class n{constructor(t){this.firestore=t,this.commentAddedSubject=new cs.x}getCommentsForRecipe(t){var r=this;return(0,R.Z)(function*(){try{const i=cu(r.firestore,"Comments"),u=p5(i,g5("recipeId","==",t)),l=yield l_(u),f=[];return l.forEach(g=>{const v=g.data();f.push({create_time:v.create_time,name:v.name,recipeId:v.recipeId,text:v.text})}),f.sort((g,v)=>{const T=g.create_time.toDate();return v.create_time.toDate()-T}),f}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(t){var r=this;return(0,R.Z)(function*(){try{t.name||(t.name="\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d");const i="Comments",u=yield yD(cu(r.firestore,i),t);return r.commentAddedSubject.next(),u.id}catch(i){return console.error("Error adding comment:",i),null}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ti))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function E9(n,e){1&n&&(o.TgZ(0,"div",12),o._uU(1," \u041c\u043e\u043b\u044f \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440! "),o.qZA())}function I9(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,E9,2,0,"div",11),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let A6=(()=>{class n{constructor(t,r,i){this.fb=t,this.commentService=i,this.timestamp=new Date,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",st.required],recipeId:[this.recipeId],create_time:[this.timestamp]})}onSubmit(){var t=this;return(0,R.Z)(function*(){if(t.timestamp=new Date,t.commentForm.valid){t.commentForm.patchValue({recipeId:t.recipeId}),t.commentForm.patchValue({create_time:t.timestamp});try{(yield t.commentService.addComment(t.commentForm.value))?(alert("\u0412\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"),t.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(gc),o.Y36(ti),o.Y36(Tk))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:20,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","name"],[1,"hint"],["type","text","id","name","formControlName","name",1,"form-control"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(2,"div",2),o._UZ(3,"hr"),o.TgZ(4,"p"),o._uU(5,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0439\u0442\u0435\xa0\xa0"),o.qZA(),o._UZ(6,"hr"),o.qZA(),o.TgZ(7,"div",3)(8,"label",4),o._uU(9,"\u0418\u043c\u0435:"),o.qZA(),o.TgZ(10,"p",5),o._uU(11,'\u0410\u043a\u043e \u043d\u0435 \u043f\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u0435 \u0449\u0435 \u0441\u0442\u0435 "\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d"'),o.qZA(),o._UZ(12,"input",6),o.qZA(),o.TgZ(13,"div",3)(14,"label",7),o._uU(15,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(16,"textarea",8),o.qZA(),o.YNc(17,I9,2,1,"div",9),o.TgZ(18,"button",10),o._uU(19,"\u041f\u0443\u0431\u043b\u0438\u043a\u0443\u0432\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"),o.qZA()()()),2&r){let u;o.xp6(1),o.Q6J("formGroup",i.commentForm),o.xp6(16),o.Q6J("ngIf",null==(u=i.commentForm.get("text"))?null:u.touched)}},dependencies:[fr,Vo,sr,Fa,La,Bo,jo],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return n})(),D6=(()=>{class n{constructor(t){this.sanitizer=t}transform(t){let r;if(t.startsWith("https://m."))r=new URLSearchParams(t.split("?")[1]).get("v")||"";else{const u=t.split("/");r=u[u.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Ou,16))};static#t=this.\u0275pipe=o.Yjl({name:"safeUrl",type:n,pure:!0})}return n})();function w9(n,e){if(1&n&&(o.TgZ(0,"div",22),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij(" ",null==t.recipe?null:t.recipe.summary," ")}}function C9(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"img",25),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",t.image_recipe,o.LSH)}}function T9(n,e){if(1&n&&(o.TgZ(0,"ul",23),o.YNc(1,C9,2,1,"li",24),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==t.recipe?null:t.recipe.image_recipe)}}function b9(n,e){if(1&n&&(o.TgZ(0,"span",11),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij("\xa0",null==t.recipe?null:t.recipe.unit,"")}}function A9(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.YNc(7,b9,2,1,"span",26),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.serving_value," "),o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.unit)}}function D9(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function S9(n,e){1&n&&(o.ynx(0),o._uU(1,", "),o.BQk())}function x9(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"span",11),o._uU(2),o.qZA(),o.YNc(3,S9,2,0,"ng-container",12),o.BQk()),2&n){const t=e.$implicit,r=e.last;o.xp6(2),o.Oqu(t.name),o.xp6(1),o.Q6J("ngIf",!r)}}function M9(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,x9,4,2,"ng-container",24),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",t.allergens)}}function N9(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td"),o.YNc(5,M9,2,1,"div",12),o.qZA()()),2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.allergens.length>0)}}function R9(n,e){1&n&&(o.TgZ(0,"div",13),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function P9(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const O9=function(n){return["/base",n]};function k9(n,e){if(1&n&&(o.TgZ(0,"span",11)(1,"a",5),o._uU(2," \xa0\xa0"),o._UZ(3,"i",29),o._uU(4," \xa0\xa0"),o._UZ(5,"i",30),o._uU(6," \xa0\xa0"),o._UZ(7,"i",31),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,O9,t.base))}}function F9(n,e){if(1&n&&(o.TgZ(0,"span",10)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function L9(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,P9,2,1,"span",12),o.YNc(3,k9,8,3,"span",26),o._UZ(4,"br"),o.YNc(5,F9,3,1,"span",28),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.lnq(" ",t.name," - ",t.amount," ",t.unit," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(2),o.Q6J("ngIf",t.preparation_method)}}function U9(n,e){if(1&n&&(o.TgZ(0,"ul",27),o.YNc(1,L9,6,6,"li",12),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.ingredients)}}function V9(n,e){1&n&&(o.TgZ(0,"div",13),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function B9(n,e){if(1&n&&(o.TgZ(0,"ul",32)(1,"li"),o._uU(2),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.preparation_method)}}function Z9(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"iframe",34),o.ALo(2,"safeUrl"),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",o.lcZ(2,1,t.video_recipe),o.uOi)}}function j9(n,e){if(1&n&&(o.TgZ(0,"div",33)(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"ul"),o.YNc(8,Z9,3,3,"li",24),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Q6J("ngForOf",null==t.recipe?null:t.recipe.video_recipe)}}function q9(n,e){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-comment-form",35),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("recipeId",t.recipeId)}}function $9(n,e){1&n&&(o.TgZ(0,"div",13),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function H9(n,e){if(1&n&&(o.TgZ(0,"ul")(1,"li"),o._uU(2),o.qZA(),o.TgZ(3,"li"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"date"),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.name),o.xp6(2),o.Oqu(t.text),o.xp6(2),o.hij(" ",o.xi3(7,3,t.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function G9(n,e){if(1&n&&(o.TgZ(0,"section",36),o.YNc(1,H9,8,6,"ul",24),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.comments)}}const z9=function(n){return["/category",n]};let W9=(()=>{class n{constructor(t,r,i,u,l){var f=this;this.route=t,this.recipeService=r,this.firestore=i,this.commentService=u,this.allergenService=l,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.allergens=[],this.route.paramMap.subscribe(function(){var g=(0,R.Z)(function*(v){const T=v.get("id");if(f.recipeId=T,T)try{f.recipe=yield f.recipeService.getRecipeById(T),f.comments=yield u.getCommentsForRecipe(T),f.recipe?yield f.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(A){console.error("An error occurred while retrieving the recipe:",A)}else console.error("Recipe ID not provided.")});return function(v){return g.apply(this,arguments)}}()),u.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}ngOnInit(){this.getAllergens()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var t=this;return(0,R.Z)(function*(){t.recipeId&&(t.comments=yield t.commentService.getCommentsForRecipe(t.recipeId))})()}loadCategoryAndPlateData(){var t=this;return(0,R.Z)(function*(){const r=t.recipe?.food_plate,i=t.recipe?.category;if(r){const u=lu(t.firestore,"Plates/"+r),l=yield zd(u);l.exists()&&(t.plate=l.data())}if(i){const u=lu(t.firestore,"Category/"+i),l=yield zd(u);l.exists()&&(t.category=l.data())}})()}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{const i=(this.recipe?.allergens||[]).filter(Boolean);t.forEach(u=>{const l=u.id;i.filter(g=>g===l).length>0&&this.allergens.push(u)})},error:t=>{console.error("Error fetching recipes:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(fi),o.Y36(b6),o.Y36(ti),o.Y36(Tk),o.Y36(vp))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-recipe"]],decls:53,vars:21,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],[4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],[3,"click"],["href","javascript:history.back()",1,"btn"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"recipeId"],[1,"comments"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,w9,2,1,"div",3),o.TgZ(5,"div",4)(6,"a",5),o._UZ(7,"i",6),o._uU(8),o.qZA()(),o.TgZ(9,"div",7),o.YNc(10,T9,2,1,"ul",8),o.TgZ(11,"table",9)(12,"tr")(13,"td")(14,"span",10),o._uU(15,"\u0421\u0435\u0437\u043e\u043d"),o.qZA()(),o.TgZ(16,"td")(17,"span",11),o._uU(18),o.qZA()()(),o.YNc(19,A9,8,2,"tr",12),o.YNc(20,D9,7,1,"tr",12),o.TgZ(21,"tr")(22,"td")(23,"span",10),o._uU(24,"\u0427\u0438\u043d\u0438\u044f"),o.qZA()(),o.TgZ(25,"td")(26,"span",11),o._uU(27),o.qZA()()(),o.YNc(28,N9,6,1,"tr",12),o.qZA(),o.TgZ(29,"div",13),o._UZ(30,"hr"),o.TgZ(31,"p"),o._uU(32,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),o.qZA(),o._UZ(33,"hr"),o.qZA(),o._UZ(34,"br"),o.TgZ(35,"p",14),o._uU(36),o.qZA(),o._UZ(37,"br"),o.YNc(38,R9,5,0,"div",15),o._UZ(39,"br"),o.YNc(40,U9,2,1,"ul",16),o.YNc(41,V9,5,0,"div",15),o._UZ(42,"br"),o.YNc(43,B9,3,1,"ul",17),o.YNc(44,j9,9,1,"div",18),o.TgZ(45,"button",19),o.NdJ("click",function(){return i.toggleCommentForm()}),o._uU(46,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),o.qZA(),o.TgZ(47,"a",20),o._UZ(48,"i",6),o._uU(49,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA(),o.YNc(50,q9,2,1,"div",12),o.YNc(51,$9,5,0,"div",15),o.YNc(52,G9,2,1,"section",21),o.qZA()()()),2&r&&(o.xp6(3),o.Oqu(null==i.recipe?null:i.recipe.title),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.summary),o.xp6(2),o.Q6J("routerLink",o.VKq(19,z9,null==i.recipe?null:i.recipe.category)),o.xp6(2),o.hij(" ",null==i.category?null:i.category.name," "),o.xp6(2),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),o.xp6(8),o.Oqu(null==i.recipe?null:i.recipe.season),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.serving_value),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.release_time),o.xp6(7),o.Oqu(null==i.plate?null:i.plate.name),o.xp6(1),o.Q6J("ngIf",(null==i.recipe||null==i.recipe.allergens?null:i.recipe.allergens.length)>0),o.xp6(8),o.hij(" ",null==i.recipe?null:i.recipe.description," "),o.xp6(2),o.Q6J("ngIf",null==i.recipe?null:i.recipe.ingredients),o.xp6(2),o.Q6J("ngForOf",null==i.recipe?null:i.recipe.ingredients),o.xp6(1),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),o.xp6(2),o.Q6J("ngForOf",null==i.recipe?null:i.recipe.preparation_method),o.xp6(1),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),o.xp6(6),o.Q6J("ngIf",i.showCommentForm),o.xp6(1),o.Q6J("ngIf",i.comments.length>0),o.xp6(1),o.Q6J("ngIf",i.comments.length>0))},dependencies:[Di,fr,mi,A6,Xc,D6],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}"]})}return n})();function K9(n,e){1&n&&(o.TgZ(0,"div",33),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function Y9(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,K9,2,0,"div",32),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("title"))||null==r.errors?null:r.errors.required)}}function Q9(n,e){1&n&&(o.TgZ(0,"div",33),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),o.qZA())}function J9(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Q9,2,0,"div",32),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("base_type"))||null==r.errors?null:r.errors.required)}}function X9(n,e){1&n&&(o.TgZ(0,"div",33),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),o.qZA())}function eW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,X9,2,0,"div",32),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("description"))||null==r.errors?null:r.errors.required)}}function tW(n,e){1&n&&(o.TgZ(0,"div",33),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),o.qZA())}function nW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,tW,2,0,"div",32),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("base_yield"))||null==r.errors?null:r.errors.required)}}function rW(n,e){1&n&&(o.TgZ(0,"div",33),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function iW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,rW,2,0,"div",32),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("unit"))||null==r.errors?null:r.errors.required)}}function sW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",34)(1,"input",35),o.NdJ("change",function(){const u=o.CHM(t).$implicit,l=o.oxw();return o.KtG(l.toggleAllergenSelection(u.id))}),o.qZA(),o.TgZ(2,"label",36),o._uU(3),o.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=o.oxw();o.xp6(1),o.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),o.xp6(1),o.s9C("for","allergen"+r),o.xp6(1),o.Oqu(t.name)}}function oW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",37)(1,"p",7),o._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(3,"input",38),o.TgZ(4,"button",29),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeImage(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function aW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",37)(1,"p",7),o._uU(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),o.qZA(),o._UZ(3,"input",39),o.TgZ(4,"button",29),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeVideo(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function uW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",37)(1,"p",7),o._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),o.qZA(),o._UZ(3,"input",40),o.TgZ(4,"button",29),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removePreparation(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function cW(n,e){1&n&&(o.TgZ(0,"div",33),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function lW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,cW,2,0,"div",32),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function dW(n,e){1&n&&(o.TgZ(0,"div",33),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function hW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,dW,2,0,"div",32),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function fW(n,e){1&n&&(o.TgZ(0,"div",33),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function pW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,fW,2,0,"div",32),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function gW(n,e){if(1&n&&(o.TgZ(0,"option",56),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.title," ")}}function mW(n,e){if(1&n&&(o.TgZ(0,"div",37)(1,"div",41),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o.TgZ(6,"label",42),o._uU(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(8,"input",43),o.YNc(9,lW,2,1,"div",5),o.TgZ(10,"label",44),o._uU(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(12,"input",45),o.YNc(13,hW,2,1,"div",5),o.TgZ(14,"label",15),o._uU(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(16,"p",7),o._uU(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),o.qZA(),o.TgZ(18,"select",46)(19,"option",17),o._uU(20,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(21,"option",18),o._uU(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(23,"option",19),o._uU(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(25,"option",20),o._uU(26,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(27,pW,2,1,"div",5),o.TgZ(28,"label",47),o._uU(29,"\u0411\u0440\u043e\u0439\u043a\u0430:"),o.qZA(),o.TgZ(30,"p",7),o._uU(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),o.qZA(),o._UZ(32,"input",48),o.TgZ(33,"label",49),o._uU(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.qZA(),o.TgZ(35,"p",7),o._uU(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),o._UZ(37,"br"),o._uU(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),o.qZA(),o._UZ(39,"input",50),o.TgZ(40,"label",51),o._uU(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),o.qZA(),o.TgZ(42,"p",7),o._uU(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),o.qZA(),o.TgZ(44,"select",52),o.YNc(45,gW,2,2,"option",53),o.qZA(),o.TgZ(46,"label",54),o._uU(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),o.qZA(),o.TgZ(48,"p",7),o._uU(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),o.qZA(),o._UZ(50,"input",55),o.qZA()),2&n){const t=e.index,r=o.oxw();let i,u,l;o.Q6J("formGroupName",t),o.xp6(9),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".name"))?null:i.touched),o.xp6(4),o.Q6J("ngIf",null==(u=r.baseForm.get("ingredients."+t+".amount"))?null:u.touched),o.xp6(14),o.Q6J("ngIf",null==(l=r.baseForm.get("ingredients."+t+".unit"))?null:l.touched),o.xp6(18),o.Q6J("ngForOf",r.baseRecipes)}}let _W=(()=>{class n{constructor(t,r,i,u){this.fb=r,this.baseRecipeService=i,this.allergenService=u,this.allergens=[],this.baseRecipes=[],this.currentOrderIndex=1,this.firestore=t,this.baseForm=this.fb.group({title:["",[st.required]],base_type:["",[st.required]],summary:[""],description:["",[st.required]],base_yield:["",[st.required]],unit:["",[st.required]],base_recipe_portions:[0],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[st.required]],amount:[null,[st.required]],base:this.fb.control(null),unit:["",[st.required]],order_index:[0],preparation_method:"",quantity:[0]})])})}ngOnInit(){this.getBaseRecipe(),this.getAllergens()}addImage(){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(t){this.baseForm.get("image_recipe").removeAt(t)}addImageToForm(t){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}addVideo(){this.baseForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.baseForm.get("video_recipe").removeAt(t)}addPreparation(){this.baseForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.baseForm.get("preparation_method").removeAt(t)}addIngredient(){this.baseForm.get("ingredients").push(this.fb.group({name:["",[st.required]],amount:[null,[st.required]],base:this.fb.control(null),order_index:this.currentOrderIndex,preparation_method:"",quantity:[0],unit:["",[st.required]]})),this.currentOrderIndex++}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Ua(t)):this.added_allergens.removeAt(r)}get ingredients(){return this.baseForm.get("ingredients")}get image_recipe(){return this.baseForm.get("image_recipe")}get video_recipe(){return this.baseForm.get("video_recipe")}get preparation_method(){return this.baseForm.get("preparation_method")}get added_allergens(){return this.baseForm.get("allergens")}onSubmit(){this.baseForm.valid&&(this.addBaseRecipe(this.baseForm.value),this.baseForm.reset())}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addBaseRecipe(t){yD(cu(this.firestore,"BaseRecipe"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ti),o.Y36(gc),o.Y36(f_),o.Y36(vp))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-form"]],decls:77,vars:11,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","base_recipe_portions"],["type","number","id","base_recipe_portions","formControlName","base_recipe_portions"],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["id","ingredient_unit","formControlName","unit"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["type","text","id","ingredient_preparation_method","formControlName","preparation_method"],["for","base"],["id","base","formControlName","base"],[3,"value",4,"ngFor","ngForOf"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],[3,"value"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(4,"form",3)(5,"label"),o._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o._UZ(7,"input",4),o.qZA(),o.YNc(8,Y9,2,1,"div",5),o.TgZ(9,"div")(10,"label",6),o._uU(11,"\u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(12,"p",7),o._uU(13,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),o.qZA(),o._UZ(14,"input",8),o.qZA(),o.YNc(15,J9,2,1,"div",5),o.TgZ(16,"div")(17,"label",9),o._uU(18,"\u0420\u0435\u0437\u044e\u043c\u0435:"),o.qZA(),o.TgZ(19,"p",7),o._uU(20,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(21,"input",10),o.qZA(),o.TgZ(22,"div")(23,"label",11),o._uU(24,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(25,"textarea",12),o.qZA(),o.YNc(26,eW,2,1,"div",5),o.TgZ(27,"div")(28,"label",13),o._uU(29,"\u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(30,"p",7),o._uU(31,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f"),o.qZA(),o._UZ(32,"input",14),o.qZA(),o.YNc(33,nW,2,1,"div",5),o.TgZ(34,"label",15),o._uU(35,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(36,"p",7),o._uU(37,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),o.qZA(),o.TgZ(38,"select",16)(39,"option",17),o._uU(40,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(41,"option",18),o._uU(42,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(43,"option",19),o._uU(44,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(45,"option",20),o._uU(46,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(47,iW,2,1,"div",5),o.TgZ(48,"div")(49,"label",21),o._uU(50,"\u041f\u043e\u0440\u0446\u0438\u0439: "),o.qZA(),o.TgZ(51,"p",7),o._uU(52,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(53,"input",22),o.qZA(),o.TgZ(54,"div")(55,"div",23)(56,"label"),o._uU(57,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),o.qZA(),o.YNc(58,sW,4,5,"div",24),o.qZA(),o.TgZ(59,"app-image-upload",25),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.TgZ(60,"div",26),o.YNc(61,oW,6,1,"div",27),o.qZA(),o.TgZ(62,"div",28),o.YNc(63,aW,6,1,"div",27),o.TgZ(64,"button",29),o.NdJ("click",function(){return i.addVideo()}),o._uU(65," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),o.qZA()(),o.TgZ(66,"div",30),o.YNc(67,uW,6,1,"div",27),o.TgZ(68,"button",29),o.NdJ("click",function(){return i.addPreparation()}),o._uU(69," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),o.qZA()()(),o.TgZ(70,"div",31),o.YNc(71,mW,51,5,"div",27),o.qZA(),o._UZ(72,"br"),o.TgZ(73,"button",29),o.NdJ("click",function(){return i.addIngredient()}),o._uU(74," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),o.qZA(),o.TgZ(75,"button",29),o.NdJ("click",function(){return i.onSubmit()}),o._uU(76," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 "),o.qZA()()()()),2&r){let u,l,f,g,v;o.xp6(4),o.Q6J("formGroup",i.baseForm),o.xp6(4),o.Q6J("ngIf",null==(u=i.baseForm.get("title"))?null:u.touched),o.xp6(7),o.Q6J("ngIf",null==(l=i.baseForm.get("base_type"))?null:l.touched),o.xp6(11),o.Q6J("ngIf",null==(f=i.baseForm.get("description"))?null:f.touched),o.xp6(7),o.Q6J("ngIf",null==(g=i.baseForm.get("base_yield"))?null:g.touched),o.xp6(14),o.Q6J("ngIf",null==(v=i.baseForm.get("unit"))?null:v.touched),o.xp6(11),o.Q6J("ngForOf",i.allergens),o.xp6(3),o.Q6J("ngForOf",i.image_recipe.controls),o.xp6(2),o.Q6J("ngForOf",i.video_recipe.controls),o.xp6(4),o.Q6J("ngForOf",i.preparation_method.controls),o.xp6(4),o.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[Di,fr,Vo,pc,Ba,sr,oo,qo,Fa,La,Bo,jo,fc,Zo,ED]})}return n})();function yW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"div",14),o._uU(8),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Oqu(null==t.base?null:t.base.summary)}}function vW(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"img",17),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",t.image_recipe,o.LSH)}}function EW(n,e){if(1&n&&(o.TgZ(0,"ul",15),o.YNc(1,vW,2,1,"li",16),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==t.base?null:t.base.image_recipe)}}function IW(n,e){if(1&n&&(o.TgZ(0,"div",18)(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"p",19),o._uU(8),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Oqu(null==t.base?null:t.base.description)}}function wW(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const CW=function(n){return["/base",n]};function TW(n,e){if(1&n&&(o.TgZ(0,"span",8)(1,"a",24),o._uU(2," \xa0\xa0"),o._UZ(3,"i",25),o._uU(4," \xa0\xa0"),o._UZ(5,"i",26),o._uU(6," \xa0\xa0"),o._UZ(7,"i",27),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,CW,t.base))}}function bW(n,e){if(1&n&&(o.TgZ(0,"span",7)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function AW(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,wW,2,1,"span",3),o.YNc(3,TW,8,3,"span",22),o._UZ(4,"br"),o.YNc(5,bW,3,1,"span",23),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.lnq(" ",t.name," - ",t.amount," ",t.unit," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(2),o.Q6J("ngIf",t.preparation_method)}}function DW(n,e){if(1&n&&(o.TgZ(0,"ul",21),o.YNc(1,AW,6,6,"li",3),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==t.base?null:t.base.ingredients)}}function SW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.YNc(7,DW,2,1,"ul",20),o.qZA()),2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngForOf",null==t.base?null:t.base.ingredients)}}function xW(n,e){if(1&n&&(o.TgZ(0,"ul",29)(1,"li"),o._uU(2),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.preparation_method)}}function MW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.YNc(7,xW,3,1,"ul",28),o.qZA()),2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngForOf",null==t.base?null:t.base.preparation_method)}}function NW(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",7),o._uU(3,"\u041f\u043e\u0440\u0446\u0438\u0439"),o.qZA()(),o.TgZ(4,"td")(5,"span",8),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.base?null:t.base.base_recipe_portions,"\xa0\u0431\u0440. ")}}function RW(n,e){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij("\xa0",null==t.base?null:t.base.unit,"")}}function PW(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",7),o._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),o.qZA()(),o.TgZ(4,"td")(5,"span",8),o._uU(6),o.YNc(7,RW,2,1,"span",22),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.base?null:t.base.base_yield),o.xp6(1),o.Q6J("ngIf",null==t.base?null:t.base.unit)}}function OW(n,e){1&n&&(o.ynx(0),o._uU(1,", "),o.BQk())}function kW(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"span",8),o._uU(2),o.qZA(),o.YNc(3,OW,2,0,"ng-container",3),o.BQk()),2&n){const t=e.$implicit,r=e.last;o.xp6(2),o.Oqu(t.name),o.xp6(1),o.Q6J("ngIf",!r)}}function FW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,kW,4,2,"ng-container",16),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",t.allergens)}}function LW(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",7),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td"),o.YNc(5,FW,2,1,"div",3),o.qZA()()),2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.allergens.length>0)}}function UW(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"iframe",31),o.ALo(2,"safeUrl"),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",o.lcZ(2,1,t.video_recipe),o.uOi)}}function VW(n,e){if(1&n&&(o.TgZ(0,"div",30)(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"ul"),o.YNc(8,UW,3,3,"li",16),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Q6J("ngForOf",null==t.base?null:t.base.video_recipe)}}function BW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.navigateToEdit())}),o._uU(1," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439\u0442\u0435 "),o.qZA()}}let ZW=(()=>{class n{constructor(t,r,i,u,l){var f=this;this.route=t,this.router=r,this.baseRecipeService=i,this.authService=u,this.allergenService=l,this.base=null,this.baseId="",this.allergens=[],this.route.paramMap.subscribe(function(){var g=(0,R.Z)(function*(v){const T=v.get("id");if(f.baseId=T,T)try{f.base=yield f.baseRecipeService.getBaseById(T)}catch(A){console.error("An error occurred while retrieving the recipe:",A)}else console.error("Recipe ID not provided.")});return function(v){return g.apply(this,arguments)}}()),this.authService.userData$.subscribe(g=>{this.userData=g})}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}ngOnInit(){this.getAllergens()}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{const i=(this.base?.allergens||[]).filter(Boolean);t.forEach(u=>{const l=u.id;i.filter(g=>g===l).length>0&&this.allergens.push(u)})},error:t=>{console.error("Error fetching recipes:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(fi),o.Y36($n),o.Y36(f_),o.Y36(Qd),o.Y36(vp))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-recipe"]],decls:27,vars:12,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title-black"],[4,"ngIf"],["class","recipe-image",4,"ngIf"],["class","recipe-description",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["class","recipe-videos",4,"ngIf"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],[3,"click",4,"ngIf"],[1,"divider"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-description"],[1,"recipe-description-text"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],["class","value",4,"ngIf"],["class","key",4,"ngIf"],[3,"routerLink"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"click"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,yW,9,1,"div",3),o.YNc(5,EW,2,1,"ul",4),o.YNc(6,IW,9,1,"div",5),o.YNc(7,SW,8,1,"div",3),o.YNc(8,MW,8,1,"div",3),o.TgZ(9,"table",6)(10,"tr")(11,"td")(12,"span",7),o._uU(13,"\u0422\u0438\u043f"),o.qZA()(),o.TgZ(14,"td")(15,"span",8),o._uU(16),o.qZA()()(),o.YNc(17,NW,7,1,"tr",3),o.YNc(18,PW,8,2,"tr",3),o.YNc(19,LW,6,1,"tr",3),o.qZA(),o.YNc(20,VW,9,1,"div",9),o._UZ(21,"br"),o.TgZ(22,"a",10),o._UZ(23,"i",11),o._uU(24,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA(),o.YNc(25,BW,2,0,"button",12),o.qZA(),o._UZ(26,"br"),o.qZA()),2&r&&(o.xp6(3),o.Oqu(null==i.base?null:i.base.title),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.summary),o.xp6(1),o.Q6J("ngIf",(null==i.base?null:i.base.image_recipe)&&(null==i.base||null==i.base.image_recipe?null:i.base.image_recipe.length)>0),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.description),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.ingredients),o.xp6(1),o.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),o.xp6(8),o.Oqu(null==i.base?null:i.base.base_type),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.base_recipe_portions),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.base_yield),o.xp6(1),o.Q6J("ngIf",(null==i.base||null==i.base.allergens?null:i.base.allergens.length)>0),o.xp6(1),o.Q6J("ngIf",(null==i.base?null:i.base.video_recipe)&&(null==i.base||null==i.base.video_recipe?null:i.base.video_recipe.length)>0),o.xp6(5),o.Q6J("ngIf",i.userData&&i.userData.isAdmin))},dependencies:[Di,fr,mi,D6],styles:[".recipe-container[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return n})();function jW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"a",5)(2,"div",6)(3,"h3"),o._uU(4),o.qZA()()()()),2&n){const t=e.$implicit,r=o.oxw();o.xp6(1),o.Q6J("routerLink",r.getBaseRecipeLink(t)),o.xp6(3),o.Oqu(t.title)}}let qW=(()=>{class n{constructor(t,r){this.baseRecipeService=t,this.authService=r,this.baseRecipes=[],this.authService.userData$.subscribe(i=>{this.userData=i})}ngOnInit(){this.getBaseRecipes()}getBaseRecipes(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t.sort((r,i)=>r.title.localeCompare(i.title))},error:t=>{console.error("Error fetching categories:",t)}})}getBaseRecipeLink(t){return this.userData?.isCook?["/base",t.id]:["/base-waiters",t.id]}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(f_),o.Y36(Qd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-list"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"card"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0411\u0430\u0437\u043e\u0432\u0438 \u0420\u0435\u0446\u0435\u043f\u0442\u0438"),o.qZA(),o.TgZ(4,"div",3),o.YNc(5,jW,5,2,"div",4),o.qZA()()()),2&r&&(o.xp6(5),o.Q6J("ngForOf",i.baseRecipes))},dependencies:[Di,mi],styles:['.recipe-list[_ngcontent-%COMP%]{width:1200px;margin:0 auto;padding:0 50px 20px;display:grid;grid-template-columns:repeat(2,1fr);column-gap:20px}.card[_ngcontent-%COMP%]{border-radius:5px;margin:10px 0;text-align:center;padding:20px;transition:transform .2s;position:relative;background:var(--mainColor);color:var(--mainWhiteColor);display:flex;align-items:center;justify-content:center;cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:scale(.96)}.card[_ngcontent-%COMP%]:before, .card[_ngcontent-%COMP%]:after{position:absolute;content:"";width:20%;height:20%;display:flex;align-items:center;justify-content:center;font-weight:700;background-color:var(--secondColor);transition:all .5s}.card[_ngcontent-%COMP%]:before{top:0;right:0;border-radius:0 15px 0 100%}.card[_ngcontent-%COMP%]:after{bottom:0;left:0;border-radius:0 100% 0 15px}.card[_ngcontent-%COMP%]:hover:before, .card[_ngcontent-%COMP%]:hover:after{width:100%;height:100%;border-radius:5px;transition:all .5s}.card[_ngcontent-%COMP%]:hover:after{content:"\\41f\\43e\\43a\\430\\436\\438"}@media (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);width:100%}}']})}return n})();function $W(n,e){1&n&&(o.TgZ(0,"div",36),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function HW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,$W,2,0,"div",35),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseFormEdit.get("title"))||null==r.errors?null:r.errors.required)}}function GW(n,e){1&n&&(o.TgZ(0,"div",36),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),o.qZA())}function zW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,GW,2,0,"div",35),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseFormEdit.get("base_type"))||null==r.errors?null:r.errors.required)}}function WW(n,e){1&n&&(o.TgZ(0,"div",36),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),o.qZA())}function KW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,WW,2,0,"div",35),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseFormEdit.get("description"))||null==r.errors?null:r.errors.required)}}function YW(n,e){1&n&&(o.TgZ(0,"div",36),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),o.qZA())}function QW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,YW,2,0,"div",35),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseFormEdit.get("base_yield"))||null==r.errors?null:r.errors.required)}}function JW(n,e){1&n&&(o.TgZ(0,"div",36),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function XW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,JW,2,0,"div",35),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseFormEdit.get("unit"))||null==r.errors?null:r.errors.required)}}function eK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",37)(1,"input",38),o.NdJ("change",function(){const u=o.CHM(t).$implicit,l=o.oxw();return o.KtG(l.toggleAllergenSelection(u.id))}),o.qZA(),o.TgZ(2,"label",39),o._uU(3),o.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=o.oxw();o.xp6(1),o.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),o.xp6(1),o.s9C("for","allergen"+r),o.xp6(1),o.Oqu(t.name)}}function tK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",40)(1,"p",8),o._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o.TgZ(3,"label",41),o._uU(4,"\u0421\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(5,"input",42),o.TgZ(6,"button",29),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeImage(u))}),o._uU(7," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}if(2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(3),o.Q6J("for","image_recipe"+t),o.xp6(2),o.Q6J("id","image_recipe"+t)}}function nK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",40)(1,"label",41),o._uU(2,"\u0412\u0438\u0434\u0435\u043e"),o.qZA(),o._UZ(3,"input",43),o.TgZ(4,"button",29),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeVideo(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),o.qZA()()}if(2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("for","video_recipe"+t),o.xp6(2),o.Q6J("id","video_recipe"+t)}}function rK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",40)(1,"label",41),o._uU(2,"\u041c\u0435\u0442\u043e\u0434"),o.qZA(),o._UZ(3,"input",45),o.TgZ(4,"button",29),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw(2);return o.KtG(l.removePreparation(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),o.qZA()()}if(2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("for","method"+t),o.xp6(2),o.Q6J("id","method"+t)}}function iK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",44)(1,"p",8),o._uU(2,"\u041c\u0435\u0442\u043e\u0434\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438:"),o.qZA(),o.YNc(3,rK,6,3,"div",27),o.TgZ(4,"button",29),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.addPreparation())}),o._uU(5," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(3),o.Q6J("ngForOf",t.preparation_method.controls)}}function sK(n,e){1&n&&(o.TgZ(0,"div",36),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function oK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,sK,2,0,"div",35),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function aK(n,e){1&n&&(o.TgZ(0,"div",36),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function uK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,aK,2,0,"div",35),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function cK(n,e){1&n&&(o.TgZ(0,"div",36),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function lK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,cK,2,0,"div",35),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function dK(n,e){if(1&n&&(o.TgZ(0,"option",53),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.title," ")}}function hK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",40)(1,"label",41),o._uU(2,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(3,"input",46),o.YNc(4,oK,2,1,"div",6),o.TgZ(5,"label",41),o._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(7,"input",47),o.YNc(8,uK,2,1,"div",6),o.TgZ(9,"label",41),o._uU(10,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(11,"p",8),o._uU(12,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),o.qZA(),o.TgZ(13,"select",48)(14,"option",18),o._uU(15,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(16,"option",19),o._uU(17,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(18,"option",20),o._uU(19,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(20,"option",21),o._uU(21,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(22,lK,2,1,"div",6),o.TgZ(23,"label",41),o._uU(24,"\u0411\u0440\u043e\u0439\u043a\u0430:"),o.qZA(),o.TgZ(25,"p",8),o._uU(26," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),o.qZA(),o._UZ(27,"input",49),o.TgZ(28,"label",41),o._uU(29,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.qZA(),o.TgZ(30,"p",8),o._uU(31," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),o._UZ(32,"br"),o._uU(33," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),o.qZA(),o._UZ(34,"input",45),o.TgZ(35,"label",41),o._uU(36,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),o.qZA(),o.TgZ(37,"p",8),o._uU(38," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),o.qZA(),o.TgZ(39,"select",50),o.YNc(40,dK,2,2,"option",51),o.qZA(),o.TgZ(41,"label",41),o._uU(42,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),o.qZA(),o.TgZ(43,"p",8),o._uU(44,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),o.qZA(),o._UZ(45,"input",52),o.TgZ(46,"button",29),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeIngredient(u))}),o._uU(47," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430 "),o.qZA()()}if(2&n){const t=e.index,r=o.oxw();let i,u,l;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("for","name"+t),o.xp6(2),o.Q6J("id","name"+t),o.xp6(1),o.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".name"))?null:i.touched),o.xp6(1),o.Q6J("for","amount"+t),o.xp6(2),o.Q6J("id","amount"+t),o.xp6(1),o.Q6J("ngIf",null==(u=r.baseFormEdit.get("ingredients."+t+".amount"))?null:u.touched),o.xp6(1),o.Q6J("for","unit"+t),o.xp6(4),o.Q6J("id","unit"+t),o.xp6(9),o.Q6J("ngIf",null==(l=r.baseFormEdit.get("ingredients."+t+".unit"))?null:l.touched),o.xp6(1),o.Q6J("for","quantity"+t),o.xp6(4),o.Q6J("id","quantity"+t),o.xp6(1),o.Q6J("for","preparation_method"+t),o.xp6(6),o.Q6J("id","preparation_method"+t),o.xp6(1),o.Q6J("for","base"+t),o.xp6(4),o.Q6J("id","base"+t),o.xp6(1),o.Q6J("ngForOf",r.baseRecipes),o.xp6(1),o.Q6J("for","order_index"+t),o.xp6(4),o.Q6J("id","order_index"+t)}}let fK=(()=>{class n{constructor(t,r,i,u,l,f){this.route=t,this.router=r,this.fb=i,this.baseRecipeService=u,this.allergenService=l,this.base=null,this.baseId="",this.baseRecipes=[],this.allergens=[],this.firestore=f}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}ngOnInit(){var t=this;return(0,R.Z)(function*(){t.initializeForm(),yield t.loadData(),t.getBaseRecipe(),t.getAllergens()})()}initializeForm(){this.baseFormEdit=this.fb.group({title:["",[st.required]],base_type:["",[st.required]],description:["",[st.required]],base_yield:["",[st.required]],unit:["",[st.required]],summary:[""],base_recipe_portions:[0],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var t=this;return(0,R.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.get("id");if(t.baseId=u,u)try{t.base=yield t.baseRecipeService.getBaseById(u),t.patchFormWithBaseData()}catch(l){throw console.error("An error occurred while retrieving the recipe:",l),l}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithBaseData(){if(this.base&&this.baseFormEdit){const t=this.baseFormEdit.get("ingredients"),r=this.baseFormEdit.get("image_recipe"),i=this.baseFormEdit.get("video_recipe"),u=this.baseFormEdit.get("preparation_method"),l=this.baseFormEdit.get("allergens");t.clear(),r.clear(),i.clear(),u.clear(),l.clear(),this.base.ingredients.forEach(f=>{t.push(this.fb.group({name:[f.name,[st.required]],amount:[f.amount,[st.required]],base:[f.base],unit:[f.unit,[st.required]],order_index:[f.order_index],preparation_method:[f.preparation_method],quantity:[f.quantity]}))}),this.base.image_recipe&&this.base.image_recipe.length>0&&this.base.image_recipe.forEach(f=>{r.push(this.fb.group({image_recipe:[f.image_recipe]}))}),this.base.video_recipe&&this.base.video_recipe.length>0&&this.base.video_recipe.forEach(f=>{i.push(this.fb.group({video_recipe:[f.video_recipe]}))}),this.base.preparation_method&&this.base.preparation_method.length>0&&this.base.preparation_method.forEach(f=>{u.push(this.fb.group({preparation_method:[f.preparation_method]}))}),this.base.allergens&&this.base.allergens.length>0&&this.base.allergens.forEach(f=>{l.push(this.fb.control(f))}),this.baseFormEdit.patchValue({title:this.base.title,base_type:this.base.base_type,summary:this.base.summary,description:this.base.description,base_yield:this.base.base_yield,unit:this.base.unit,selectedAllergen:this.base.selectedAllergen,selectedAllergenNames:this.base.selectedAllergenNames,base_recipe_portions:this.base.base_recipe_portions})}}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Ua(t)):this.added_allergens.removeAt(r)}addIngredient(){this.baseFormEdit.get("ingredients").push(this.fb.group({name:["",[st.required]],amount:["",[st.required]],base:this.fb.control(""),unit:["",[st.required]],order_index:[0],preparation_method:"",quantity:[0]}))}removeIngredient(t){this.baseFormEdit.get("ingredients").removeAt(t)}get ingredients(){return this.baseFormEdit.get("ingredients")}get image_recipe(){return this.baseFormEdit.get("image_recipe")}get video_recipe(){return this.baseFormEdit.get("video_recipe")}get preparation_method(){return this.baseFormEdit.get("preparation_method")}get added_allergens(){return this.baseFormEdit.get("allergens")}onSubmit(){this.baseFormEdit.valid&&(this.addBaseRecipe(this.baseFormEdit.value),this.baseFormEdit.reset())}addPreparation(){this.baseFormEdit.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.baseFormEdit.get("preparation_method").removeAt(t)}addVideo(){this.baseFormEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.baseFormEdit.get("video_recipe").removeAt(t)}removeImage(t){this.baseFormEdit.get("image_recipe").removeAt(t)}addImageToForm(t){this.baseFormEdit.get("image_recipe").push(this.fb.group({image_recipe:t}))}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addBaseRecipe(t){const i=lu(this.firestore,"BaseRecipe",this.baseId);U8(i,t),this.router.navigate(["/base",this.baseId])}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(fi),o.Y36($n),o.Y36(gc),o.Y36(f_),o.Y36(vp),o.Y36(ti))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-form-edit"]],decls:75,vars:11,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["id","summary","formControlName","summary"],["for","description"],["rows","10","id","description","formControlName","description"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["type","text","id","base_recipe_portions","formControlName","base_recipe_portions"],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method",4,"ngIf"],[1,"divider"],["formArrayName","ingredients"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["class","errors",4,"ngIf"],[1,"errors"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["type","text","formControlName","video_recipe",3,"id"],["formArrayName","preparation_method"],["type","text","formControlName","preparation_method",3,"id"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["type","number","formControlName","quantity",3,"id"],["formControlName","base",3,"id"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","order_index",3,"id"],[3,"value"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(4,"form",3)(5,"label",4),o._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o._UZ(7,"input",5),o.YNc(8,HW,2,1,"div",6),o.TgZ(9,"label",7),o._uU(10," \u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o.TgZ(11,"p",8),o._uU(12,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),o.qZA(),o._UZ(13,"input",9),o.YNc(14,zW,2,1,"div",6),o.TgZ(15,"label",10),o._uU(16," \u0420\u0435\u0437\u044e\u043c\u0435: "),o.qZA(),o.TgZ(17,"p",8),o._uU(18,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(19,"textarea",11),o.TgZ(20,"label",12),o._uU(21," \u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o._UZ(22,"textarea",13),o.YNc(23,KW,2,1,"div",6),o.TgZ(24,"label",14),o._uU(25," \u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o.TgZ(26,"p",8),o._uU(27,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f"),o.qZA(),o._UZ(28,"input",15),o.YNc(29,QW,2,1,"div",6),o.TgZ(30,"label",16),o._uU(31," \u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o.TgZ(32,"p",8),o._uU(33,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),o.qZA(),o.TgZ(34,"select",17)(35,"option",18),o._uU(36,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(37,"option",19),o._uU(38,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(39,"option",20),o._uU(40,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(41,"option",21),o._uU(42,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(43,XW,2,1,"div",6),o.TgZ(44,"label",16),o._uU(45," \u041f\u043e\u0440\u0446\u0438\u0439: "),o.qZA(),o.TgZ(46,"p",8),o._uU(47,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(48,"input",22),o.TgZ(49,"div",23)(50,"label"),o._uU(51,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),o.qZA(),o.YNc(52,eK,4,5,"div",24),o.qZA(),o.TgZ(53,"app-image-upload",25),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.TgZ(54,"div",26),o.YNc(55,tK,8,3,"div",27),o.qZA(),o.TgZ(56,"div",28),o.YNc(57,nK,6,3,"div",27),o.TgZ(58,"button",29),o.NdJ("click",function(){return i.addVideo()}),o._uU(59," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),o.qZA()(),o.YNc(60,iK,6,1,"div",30),o.TgZ(61,"div",31),o._UZ(62,"hr"),o.TgZ(63,"p"),o._uU(64,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(65,"hr"),o.qZA(),o.TgZ(66,"div",32),o.YNc(67,hK,48,19,"div",27),o.qZA(),o.TgZ(68,"button",29),o.NdJ("click",function(){return i.addIngredient()}),o._uU(69," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),o.qZA(),o.TgZ(70,"button",29),o.NdJ("click",function(){return i.onSubmit()}),o._uU(71,"\u0417\u0430\u043f\u0430\u0437\u0435\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435"),o.qZA(),o.TgZ(72,"a",33),o._UZ(73,"i",34),o._uU(74,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA()()()()),2&r){let u,l,f,g,v;o.xp6(4),o.Q6J("formGroup",i.baseFormEdit),o.xp6(4),o.Q6J("ngIf",null==(u=i.baseFormEdit.get("title"))?null:u.touched),o.xp6(6),o.Q6J("ngIf",null==(l=i.baseFormEdit.get("base_type"))?null:l.touched),o.xp6(9),o.Q6J("ngIf",null==(f=i.baseFormEdit.get("description"))?null:f.touched),o.xp6(6),o.Q6J("ngIf",null==(g=i.baseFormEdit.get("base_yield"))?null:g.touched),o.xp6(14),o.Q6J("ngIf",null==(v=i.baseFormEdit.get("unit"))?null:v.touched),o.xp6(9),o.Q6J("ngForOf",i.allergens),o.xp6(3),o.Q6J("ngForOf",i.image_recipe.controls),o.xp6(2),o.Q6J("ngForOf",i.video_recipe.controls),o.xp6(3),o.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),o.xp6(7),o.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[Di,fr,Vo,pc,Ba,sr,oo,qo,Fa,La,Bo,jo,fc,Zo,ED]})}return n})();function pK(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u0418\u043c\u0435\u0439\u043b\u044a\u0442 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u0435\u043d! "),o.qZA())}function gK(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b! "),o.qZA())}function mK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,pK,2,0,"div",15),o.YNc(2,gK,2,0,"div",15),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signInForm.get("email"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signInForm.get("email"))||null==i.errors?null:i.errors.email)}}function _K(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430! "),o.qZA())}function yK(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430! "),o.qZA())}function vK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,_K,2,0,"div",15),o.YNc(2,yK,2,0,"div",15),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signInForm.get("password"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function EK(n,e){if(1&n&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.loginError)}}let IK=(()=>{class n{constructor(t,r){this.authService=t,this.fb=r,this.loginError=null,this.signInForm=this.fb.group({email:["",[st.required,st.email]],password:["",[st.required,st.minLength(6)]]})}submitSignInForm(){var t=this;return(0,R.Z)(function*(){if(t.signInForm.valid){const{email:r,password:i}=t.signInForm.value;try{yield t.authService.loginUser(r,i)}catch(u){console.log(u)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Qd),o.Y36(gc))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-in"]],decls:26,vars:4,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[3,"formGroup","ngSubmit"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit"],["href","#","routerLink","/sign-up"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0412\u0445\u043e\u0434"),o.qZA(),o.TgZ(4,"form",3),o.NdJ("ngSubmit",function(){return i.submitSignInForm()}),o.TgZ(5,"div",4)(6,"label",5),o._uU(7,"\u0418\u043c\u0435\u0439\u043b"),o.qZA(),o._UZ(8,"input",6),o.YNc(9,mK,3,2,"div",7),o.qZA(),o.TgZ(10,"div",4)(11,"label",8),o._uU(12,"\u041f\u0430\u0440\u043e\u043b\u0430"),o.qZA(),o._UZ(13,"input",9),o.YNc(14,vK,3,2,"div",7),o.qZA(),o.TgZ(15,"div",4)(16,"button",10),o._uU(17,"\u0412\u043b\u0435\u0437\u0442\u0435"),o.qZA()(),o.YNc(18,EK,2,1,"div",7),o.TgZ(19,"div")(20,"a",11)(21,"div",12),o._uU(22,"\u0412\u0441\u0435 \u043e\u0449\u0435 \u043d\u044f\u043c\u0430\u0442\u0435 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f?"),o.qZA()(),o.TgZ(23,"a",13)(24,"div",14),o._uU(25,"\u0417\u0430\u0431\u0440\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430?"),o.qZA()()()()()()),2&r){let u,l;o.xp6(4),o.Q6J("formGroup",i.signInForm),o.xp6(5),o.Q6J("ngIf",(null==(u=i.signInForm.get("email"))?null:u.invalid)&&(null==(u=i.signInForm.get("email"))?null:u.touched)),o.xp6(5),o.Q6J("ngIf",(null==(l=i.signInForm.get("password"))?null:l.invalid)&&(null==(l=i.signInForm.get("password"))?null:l.touched)),o.xp6(4),o.Q6J("ngIf",i.loginError)}},dependencies:[fr,Vo,sr,Fa,La,Bo,jo,mi]})}return n})();function wK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u0418\u043c\u0435\u0439\u043b\u044a\u0442 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u0435\u043d!"),o.qZA())}function CK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041c\u043e\u043b\u044f \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441!"),o.qZA())}function TK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,wK,2,0,"div",26),o.YNc(2,CK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("email"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signUpForm.get("email"))||null==i.errors?null:i.errors.email)}}function bK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430!"),o.qZA())}function AK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430!"),o.qZA())}function DK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,bK,2,0,"div",26),o.YNc(2,AK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("password"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signUpForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function SK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430!"),o.qZA())}function xK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430!"),o.qZA())}function MK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,SK,2,0,"div",26),o.YNc(2,xK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signUpForm.get("repeatPassword"))||null==i.errors?null:i.errors.minlength)}}function NK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u0418\u043c\u0435\u0442\u043e \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e!"),o.qZA())}function RK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,NK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("firstName"))||null==r.errors?null:r.errors.required)}}function PK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430!"),o.qZA())}function OK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,PK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("lastName"))||null==r.errors?null:r.errors.required)}}function kK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0432 \u043a\u043e\u0439 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442 \u0440\u0430\u0431\u043e\u0442\u0438\u0442\u0435!"),o.qZA())}function FK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,kK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("fromRestaurant"))||null==r.errors?null:r.errors.required)}}let LK=(()=>{class n{constructor(t,r,i){this.authService=t,this.fb=r,this.router=i,this.signUpForm=this.fb.group({email:["",[st.required,st.email]],password:["",[st.required,st.minLength(6)]],repeatPassword:["",st.required],firstName:["",st.required],lastName:["",st.required],fromRestaurant:["",st.required],isActive:[!0,st.required],isAdmin:[!1,st.required],isCook:[!0,st.required]})}submitSignUpForm(){var t=this;return(0,R.Z)(function*(){if(t.signUpForm.valid){const{email:r,password:i,repeatPassword:u,...l}=t.signUpForm.value;if(i!==u)return void alert("Password do not match!");try{yield t.authService.registerUser(r,i,l)}catch(f){alert(f)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Qd),o.Y36(gc),o.Y36($n))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-up"]],decls:46,vars:7,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],[1,"form-group"],["for","fromRestaurant"],["id","fromRestaurant","name","fromRestaurant","formControlName","fromRestaurant"],["value","Romance-1"],["value","Romance-2"],["value","Romance-3"],["value","Romance-5"],["type","checkbox","formControlName","isCook"],["type","submit"],["href","#","routerLink","/sign-in"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.qZA(),o.TgZ(4,"form",3),o.NdJ("ngSubmit",function(){return i.submitSignUpForm()}),o.TgZ(5,"label",4),o._uU(6,"\u0418\u043c\u0435\u0439\u043b:"),o.qZA(),o._UZ(7,"input",5),o.YNc(8,TK,3,2,"div",6),o.TgZ(9,"label",7),o._uU(10,"\u041f\u0430\u0440\u043e\u043b\u0430:"),o.qZA(),o._UZ(11,"input",8),o.YNc(12,DK,3,2,"div",6),o.TgZ(13,"label",9),o._uU(14,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438 \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430:"),o.qZA(),o._UZ(15,"input",10),o.YNc(16,MK,3,2,"div",6),o.TgZ(17,"label",11),o._uU(18,"\u0418\u043c\u0435:"),o.qZA(),o._UZ(19,"input",12),o.YNc(20,RK,2,1,"div",6),o.TgZ(21,"label",13),o._uU(22,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),o.qZA(),o._UZ(23,"input",14),o.YNc(24,OK,2,1,"div",6),o.TgZ(25,"div",15)(26,"label",16),o._uU(27,"\u041e\u0442 \u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442:"),o.qZA(),o.TgZ(28,"select",17)(29,"option",18),o._uU(30,"Romance 1"),o.qZA(),o.TgZ(31,"option",19),o._uU(32,"Romance 2"),o.qZA(),o.TgZ(33,"option",20),o._uU(34,"Romance 3"),o.qZA(),o.TgZ(35,"option",21),o._uU(36,"Romance 5"),o.qZA()()(),o.YNc(37,FK,2,1,"div",6),o.TgZ(38,"label"),o._uU(39," \u0413\u043e\u0442\u0432\u0430\u0447 \u043b\u0438 \u0441\u0438? "),o._UZ(40,"input",22),o.qZA(),o.TgZ(41,"button",23),o._uU(42,"\u0418\u0437\u043f\u0440\u0430\u0442\u0438"),o.qZA(),o.TgZ(43,"a",24)(44,"div",25),o._uU(45,"\u0412\u0435\u0447\u0435 \u0438\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f?"),o.qZA()()()()()),2&r){let u,l,f,g,v,T;o.xp6(4),o.Q6J("formGroup",i.signUpForm),o.xp6(4),o.Q6J("ngIf",(null==(u=i.signUpForm.get("email"))?null:u.invalid)&&(null==(u=i.signUpForm.get("email"))?null:u.touched)),o.xp6(4),o.Q6J("ngIf",(null==(l=i.signUpForm.get("password"))?null:l.invalid)&&(null==(l=i.signUpForm.get("password"))?null:l.touched)),o.xp6(4),o.Q6J("ngIf",(null==(f=i.signUpForm.get("repeatPassword"))?null:f.invalid)&&(null==(f=i.signUpForm.get("repeatPassword"))?null:f.touched)),o.xp6(4),o.Q6J("ngIf",(null==(g=i.signUpForm.get("firstName"))?null:g.invalid)&&(null==(g=i.signUpForm.get("firstName"))?null:g.touched)),o.xp6(4),o.Q6J("ngIf",(null==(v=i.signUpForm.get("lastName"))?null:v.invalid)&&(null==(v=i.signUpForm.get("lastName"))?null:v.touched)),o.xp6(13),o.Q6J("ngIf",(null==(T=i.signUpForm.get("fromRestaurant"))?null:T.invalid)&&(null==(T=i.signUpForm.get("fromRestaurant"))?null:T.touched))}},dependencies:[fr,Vo,pc,Ba,sr,ac,qo,Fa,La,Bo,jo,mi]})}return n})(),UK=(()=>{class n{transform(t){return new Date(parseInt(t,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=o.Yjl({name:"timestampFormat",type:n,pure:!0})}return n})();function VK(n,e){1&n&&(o.TgZ(0,"div",4)(1,"span"),o._uU(2,"\u0420\u043e\u043b\u044f:"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"\u0413\u043e\u0442\u0432\u0430\u0447"),o.qZA()())}function BK(n,e){1&n&&(o.TgZ(0,"div",4)(1,"span"),o._uU(2,"\u0420\u043e\u043b\u044f:"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"\u0421\u0435\u0440\u0432\u0438\u0442\u044c\u043e\u0440"),o.qZA()())}let ZK=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.authService.userData$.subscribe(t=>{this.user=t})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Qd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:39,vars:12,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"user-details"],[1,"detail"],["class","detail",4,"ngIf"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0437\u0430 \u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f"),o.qZA(),o.TgZ(4,"div",3)(5,"div",4)(6,"span"),o._uU(7,"\u0418\u043c\u0435\u0439\u043b:"),o.qZA(),o.TgZ(8,"span"),o._uU(9),o.qZA()(),o.TgZ(10,"div",4)(11,"span"),o._uU(12,"\u0418\u043c\u0435:"),o.qZA(),o.TgZ(13,"span"),o._uU(14),o.qZA()(),o.TgZ(15,"div",4)(16,"span"),o._uU(17,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),o.qZA(),o.TgZ(18,"span"),o._uU(19),o.qZA()(),o.TgZ(20,"div",4)(21,"span"),o._uU(22,"\u0412\u0440\u0435\u043c\u0435 \u043d\u0430 \u0421\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435:"),o.qZA(),o.TgZ(23,"span"),o._uU(24),o.ALo(25,"timestampFormat"),o.qZA()(),o.TgZ(26,"div",4)(27,"span"),o._uU(28,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u043e \u0412\u043b\u0438\u0437\u0430\u043d\u0435:"),o.qZA(),o.TgZ(29,"span"),o._uU(30),o.ALo(31,"timestampFormat"),o.qZA()(),o.YNc(32,VK,5,0,"div",5),o.YNc(33,BK,5,0,"div",5),o.TgZ(34,"div",4)(35,"span"),o._uU(36,"\u041e\u0442 \u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442:"),o.qZA(),o.TgZ(37,"span"),o._uU(38),o.qZA()()()()()),2&r&&(o.xp6(9),o.Oqu(i.user.email),o.xp6(5),o.Oqu(i.user.firstName),o.xp6(5),o.Oqu(i.user.lastName),o.xp6(5),o.Oqu(o.lcZ(25,8,i.user.metadata.createdAt)),o.xp6(6),o.Oqu(o.lcZ(31,10,i.user.metadata.lastLoginAt)),o.xp6(2),o.Q6J("ngIf",i.user.isCook),o.xp6(1),o.Q6J("ngIf",!i.user.isCook),o.xp6(5),o.Oqu(i.user.fromRestaurant))},dependencies:[fr,UK],styles:[".user-details[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--borderColor);border-radius:8px;box-shadow:0 2px 4px #0000001a}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}"]})}return n})();const jK=function(n){return["/category/",n]};function qK(n,e){if(1&n&&(o.TgZ(0,"ul",5)(1,"li",6)(2,"a",7)(3,"div",8)(4,"div",9),o._UZ(5,"img",10),o.qZA(),o.TgZ(6,"h3",11),o._uU(7),o.qZA()()()()()),2&n){const t=e.$implicit;o.xp6(2),o.Q6J("routerLink",o.VKq(3,jK,t.id)),o.xp6(3),o.Q6J("src",t.image,o.LSH),o.xp6(2),o.Oqu(t.name)}}let $K=(()=>{class n{constructor(t){this.categoryService=t,this.categories=[]}ngOnInit(){this.getCategory()}getCategory(){this.categoryService.getCategories().subscribe({next:t=>{this.categories=t.sort((r,i)=>r.order_index-i.order_index).filter(r=>r.is_active)},error:t=>{console.error("Error fetching categories:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(T6))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-categories-list"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"categories-list"],[1,"title-white"],[1,"wrapper"],["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[1,"card-item"],[3,"routerLink"],["tabindex","0",1,"card"],[1,"card-image"],["alt","category.name",3,"src"],[1,"card-title"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"section",1)(2,"h1",2),o._uU(3,"\u041c\u0435\u043d\u044e"),o.qZA(),o.TgZ(4,"section",3),o.YNc(5,qK,8,5,"ul",4),o.qZA()()()),2&r&&(o.xp6(5),o.Q6J("ngForOf",i.categories))},dependencies:[Di,mi],styles:[".categories-list[_ngcontent-%COMP%]{margin:0 auto 50px;max-width:1200px}.category-title[_ngcontent-%COMP%]{color:var(--mainWhiteColor);margin:30px 0;text-align:center;font-size:32px;font-family:var(--titleFont)}.wrapper[_ngcontent-%COMP%]{place-self:center;margin:0 auto 50px 0;display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.cards[_ngcontent-%COMP%]{display:grid;flex-wrap:wrap;list-style:none;margin:0;padding:0;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.card-item[_ngcontent-%COMP%]{display:flex;background-color:var(--backgroundColor)}.card[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:5px 25px 5px 50px;transition:transform .1s linear,box-shadow .2s}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}.card-title[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:90%;height:auto;color:var(--mainWhiteColor);padding:.5rem;border-radius:5px 0 0 5px;transform:rotate(-3.3deg);transform-origin:left top;overflow:hidden;z-index:1;background-color:var(--animatedTitleBackground);animation:0s 0s _ngcontent-%COMP%_fly-in 0 reverse both;font-family:var(--titleFont)}@media (min-width: 535px){.card-title[_ngcontent-%COMP%]{animation:.5s .25s fly-out 1 both}}.card[_ngcontent-%COMP%]:focus   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{animation:.5s ease-in 0s _ngcontent-%COMP%_fly-in 1 both}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 5px -5px #0003}@keyframes _ngcontent-%COMP%_fly-in{0%{top:0;right:0;font-size:1.325rem}25%{top:0;right:-200%;font-size:1.325rem}26%{font-size:2rem}to{top:2rem;right:0;font-size:2rem}}@media (max-width: 460px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:80%}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;display:flex;flex-direction:column}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px}}"]})}return n})();function HK(n,e){if(1&n&&(o.TgZ(0,"div",19),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij(" ",null==t.recipe?null:t.recipe.summary," ")}}function GK(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"img",22),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",t.image_recipe,o.LSH)}}function zK(n,e){if(1&n&&(o.TgZ(0,"ul",20),o.YNc(1,GK,2,1,"li",21),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==t.recipe?null:t.recipe.image_recipe)}}function WK(n,e){if(1&n&&(o.TgZ(0,"span",11),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij("\xa0",null==t.recipe?null:t.recipe.unit,"")}}function KK(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.YNc(7,WK,2,1,"span",23),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.serving_value," "),o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.unit)}}function YK(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function QK(n,e){1&n&&(o.ynx(0),o._uU(1,","),o.BQk())}function JK(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"span",11),o._uU(2),o.qZA(),o.YNc(3,QK,2,0,"ng-container",12),o.BQk()),2&n){const t=e.$implicit,r=e.last;o.xp6(2),o.Oqu(t.name),o.xp6(1),o.Q6J("ngIf",!r)}}function XK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,JK,4,2,"ng-container",21),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",t.allergens)}}function eY(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td"),o.YNc(5,XK,2,1,"div",12),o.qZA()()),2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.allergens.length>0)}}function tY(n,e){1&n&&(o.TgZ(0,"div",24),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function nY(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const rY=function(n){return["/base-waiters",n]};function iY(n,e){if(1&n&&(o.TgZ(0,"span",11)(1,"a",5),o._uU(2," \xa0\xa0"),o._UZ(3,"i",27),o._uU(4," \xa0\xa0"),o._UZ(5,"i",28),o._uU(6," \xa0\xa0"),o._UZ(7,"i",29),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,rY,t.base))}}function sY(n,e){if(1&n&&(o.TgZ(0,"span",10)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function oY(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,nY,2,1,"span",12),o.YNc(3,iY,8,3,"span",23),o._UZ(4,"br")(5,"br"),o.YNc(6,sY,3,1,"span",26),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.hij(" ",t.name," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(3),o.Q6J("ngIf",t.preparation_method)}}function aY(n,e){if(1&n&&(o.TgZ(0,"ul",25),o.YNc(1,oY,7,4,"li",12),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.ingredients)}}function uY(n,e){1&n&&(o.TgZ(0,"div",24),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function cY(n,e){if(1&n&&(o.TgZ(0,"ul",30)(1,"li"),o._uU(2),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.preparation_method)}}function lY(n,e){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-comment-form",31),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("recipeId",t.recipeId)}}function dY(n,e){1&n&&(o.TgZ(0,"div",24),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function hY(n,e){if(1&n&&(o.TgZ(0,"ul")(1,"li"),o._uU(2),o.qZA(),o.TgZ(3,"li"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"date"),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.name),o.xp6(2),o.Oqu(t.text),o.xp6(2),o.hij(" ",o.xi3(7,3,t.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function fY(n,e){if(1&n&&(o.TgZ(0,"section",32),o.YNc(1,hY,8,6,"ul",21),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.comments)}}const pY=function(n){return["/category",n]};let gY=(()=>{class n{constructor(t,r,i,u,l){var f=this;this.route=t,this.recipeService=r,this.firestore=i,this.commentService=u,this.allergenService=l,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.allergens=[],this.route.paramMap.subscribe(function(){var g=(0,R.Z)(function*(v){const T=v.get("id");if(f.recipeId=T,T)try{f.recipe=yield f.recipeService.getRecipeById(T),f.comments=yield u.getCommentsForRecipe(T),f.recipe?yield f.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(A){console.error("An error occurred while retrieving the recipe:",A)}else console.error("Recipe ID not provided.")});return function(v){return g.apply(this,arguments)}}()),u.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}ngOnInit(){this.getAllergens()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var t=this;return(0,R.Z)(function*(){t.recipeId&&(t.comments=yield t.commentService.getCommentsForRecipe(t.recipeId))})()}loadCategoryAndPlateData(){var t=this;return(0,R.Z)(function*(){const r=t.recipe?.food_plate,i=t.recipe?.category;if(r){const u=lu(t.firestore,"Plates/"+r),l=yield zd(u);l.exists()&&(t.plate=l.data())}if(i){const u=lu(t.firestore,"Category/"+i),l=yield zd(u);l.exists()&&(t.category=l.data())}})()}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{const i=(this.recipe?.allergens||[]).filter(Boolean);t.forEach(u=>{const l=u.id;i.filter(g=>g===l).length>0&&this.allergens.push(u)})},error:t=>{console.error("Error fetching recipes:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(fi),o.Y36(b6),o.Y36(ti),o.Y36(Tk),o.Y36(vp))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-recipe-waiters"]],decls:43,vars:19,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],[4,"ngIf"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[3,"click"],["href","javascript:history.back()",1,"btn"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"divider"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],[1,"recipe-preparation-method"],[3,"recipeId"],[1,"comments"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,HK,2,1,"div",3),o.TgZ(5,"div",4)(6,"a",5),o._UZ(7,"i",6),o._uU(8),o.qZA()(),o.TgZ(9,"div",7),o.YNc(10,zK,2,1,"ul",8),o.TgZ(11,"table",9)(12,"tr")(13,"td")(14,"span",10),o._uU(15,"\u0421\u0435\u0437\u043e\u043d"),o.qZA()(),o.TgZ(16,"td")(17,"span",11),o._uU(18),o.qZA()()(),o.YNc(19,KK,8,2,"tr",12),o.YNc(20,YK,7,1,"tr",12),o.TgZ(21,"tr")(22,"td")(23,"span",10),o._uU(24,"\u0427\u0438\u043d\u0438\u044f"),o.qZA()(),o.TgZ(25,"td")(26,"span",11),o._uU(27),o.qZA()()(),o.YNc(28,eY,6,1,"tr",12),o.qZA(),o.YNc(29,tY,5,0,"div",13),o._UZ(30,"br"),o.YNc(31,aY,2,1,"ul",14),o.YNc(32,uY,5,0,"div",13),o._UZ(33,"br"),o.YNc(34,cY,3,1,"ul",15),o.TgZ(35,"button",16),o.NdJ("click",function(){return i.toggleCommentForm()}),o._uU(36,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),o.qZA(),o.TgZ(37,"a",17),o._UZ(38,"i",6),o._uU(39,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA(),o.YNc(40,lY,2,1,"div",12),o.YNc(41,dY,5,0,"div",13),o.YNc(42,fY,2,1,"section",18),o.qZA()()()),2&r&&(o.xp6(3),o.Oqu(null==i.recipe?null:i.recipe.title),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.summary),o.xp6(2),o.Q6J("routerLink",o.VKq(17,pY,null==i.recipe?null:i.recipe.category)),o.xp6(2),o.hij(" ",null==i.category?null:i.category.name," "),o.xp6(2),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),o.xp6(8),o.Oqu(null==i.recipe?null:i.recipe.season),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.serving_value),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.release_time),o.xp6(7),o.Oqu(null==i.plate?null:i.plate.name),o.xp6(1),o.Q6J("ngIf",(null==i.recipe||null==i.recipe.allergens?null:i.recipe.allergens.length)>0),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.ingredients),o.xp6(2),o.Q6J("ngForOf",null==i.recipe?null:i.recipe.ingredients),o.xp6(1),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),o.xp6(2),o.Q6J("ngForOf",null==i.recipe?null:i.recipe.preparation_method),o.xp6(6),o.Q6J("ngIf",i.showCommentForm),o.xp6(1),o.Q6J("ngIf",i.comments.length>0),o.xp6(1),o.Q6J("ngIf",i.comments.length>0))},dependencies:[Di,fr,mi,A6,Xc],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}"]})}return n})();function mY(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",9),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"div",10),o._uU(8),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Oqu(null==t.base?null:t.base.summary)}}function _Y(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const yY=function(n){return["/base-waiters",n]};function vY(n,e){if(1&n&&(o.TgZ(0,"span",6)(1,"a",15),o._uU(2," \xa0\xa0"),o._UZ(3,"i",16),o._uU(4," \xa0\xa0"),o._UZ(5,"i",17),o._uU(6," \xa0\xa0"),o._UZ(7,"i",18),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,yY,t.base))}}function EY(n,e){if(1&n&&(o.TgZ(0,"span",5)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function IY(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,_Y,2,1,"span",3),o.YNc(3,vY,8,3,"span",13),o._UZ(4,"br"),o.YNc(5,EY,3,1,"span",14),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.hij(" ",t.name," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(2),o.Q6J("ngIf",t.preparation_method)}}function wY(n,e){if(1&n&&(o.TgZ(0,"ul",12),o.YNc(1,IY,6,4,"li",3),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==t.base?null:t.base.ingredients)}}function CY(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",9),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.YNc(7,wY,2,1,"ul",11),o.qZA()),2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngForOf",null==t.base?null:t.base.ingredients)}}function TY(n,e){if(1&n&&(o.TgZ(0,"ul",20)(1,"li"),o._uU(2),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.preparation_method)}}function bY(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",9),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.YNc(7,TY,3,1,"ul",19),o.qZA()),2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngForOf",null==t.base?null:t.base.preparation_method)}}function AY(n,e){1&n&&(o.ynx(0),o._uU(1,","),o.BQk())}function DY(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"span",6),o._uU(2),o.qZA(),o.YNc(3,AY,2,0,"ng-container",3),o.BQk()),2&n){const t=e.$implicit,r=e.last;o.xp6(2),o.Oqu(t.name),o.xp6(1),o.Q6J("ngIf",!r)}}function SY(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,DY,4,2,"ng-container",21),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",t.allergens)}}function xY(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",5),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td"),o.YNc(5,SY,2,1,"div",3),o.qZA()()),2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.allergens.length>0)}}const MY=[{path:"",redirectTo:"/categories",pathMatch:"full"},{path:"categories",component:$K},{path:"recipe-waiters/:id",component:gY},{path:"add-category",component:G8},{path:"add-recipe",component:v9},{path:"add-base",component:_W},{path:"base/:id",component:ZW},{path:"base-waiters/:id",component:(()=>{class n{constructor(t,r,i,u){var l=this;this.route=t,this.router=r,this.baseRecipeService=i,this.allergenService=u,this.base=null,this.baseId="",this.allergens=[],this.route.paramMap.subscribe(function(){var f=(0,R.Z)(function*(g){const v=g.get("id");if(l.baseId=v,v)try{l.base=yield l.baseRecipeService.getBaseById(v)}catch(T){console.error("An error occurred while retrieving the recipe:",T)}else console.error("Recipe ID not provided.")});return function(g){return f.apply(this,arguments)}}())}ngOnInit(){this.getAllergens()}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{const i=(this.base?.allergens||[]).filter(Boolean);t.forEach(u=>{const l=u.id;i.filter(g=>g===l).length>0&&this.allergens.push(u)})},error:t=>{console.error("Error fetching recipes:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(fi),o.Y36($n),o.Y36(f_),o.Y36(vp))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-recipe-waiters"]],decls:21,vars:6,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title-black"],[4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"divider"],[1,"recipe-summary"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],["class","value",4,"ngIf"],["class","key",4,"ngIf"],[3,"routerLink"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-preparation-method"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,mY,9,1,"div",3),o.YNc(5,CY,8,1,"div",3),o.YNc(6,bY,8,1,"div",3),o.TgZ(7,"table",4)(8,"tr")(9,"td")(10,"span",5),o._uU(11,"\u0422\u0438\u043f"),o.qZA()(),o.TgZ(12,"td")(13,"span",6),o._uU(14),o.qZA()()(),o.YNc(15,xY,6,1,"tr",3),o.qZA(),o._UZ(16,"br"),o.TgZ(17,"a",7),o._UZ(18,"i",8),o._uU(19,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA()(),o._UZ(20,"br"),o.qZA()),2&r&&(o.xp6(3),o.Oqu(null==i.base?null:i.base.title),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.summary),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.ingredients),o.xp6(1),o.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),o.xp6(8),o.Oqu(null==i.base?null:i.base.base_type),o.xp6(1),o.Q6J("ngIf",(null==i.base||null==i.base.allergens?null:i.base.allergens.length)>0))},dependencies:[Di,fr,mi],styles:[".recipe-container[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return n})()},{path:"base",component:qW},{path:"category/:id",component:H7},{path:"recipe/:id",component:W9},{path:"base-edit/:id",component:fK},{path:"sign-in",component:IK},{path:"sign-up",component:LK},{path:"dashboard",component:ZK},{path:"forgot-password",component:(()=>{class n{constructor(t){this.authService=t}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Qd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","\u0418\u043c\u0435\u0439\u043b \u0410\u0434\u0440\u0435\u0441","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u0438\u043c\u0435\u0439\u043b",1,"btn",3,"click"],["href","#","routerLink","/sign-in"],[1,"btn"]],template:function(r,i){if(1&r){const u=o.EpF();o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),o._uU(3,"\u0417\u0430\u0431\u0440\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"),o.qZA(),o.TgZ(4,"p",3),o._uU(5," \u041c\u043e\u043b\u044f, \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441, \u0437\u0430 \u0434\u0430 \u0438\u0437\u043f\u0440\u0430\u0442\u0438\u043c \u0438\u043c\u0435\u0439\u043b \u0437\u0430 \u0441\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430. "),o.qZA(),o.TgZ(6,"div",4),o._UZ(7,"input",5,6),o.qZA(),o.TgZ(9,"p",7),o._uU(10,"\u0410\u043a\u043e \u043d\u0435 \u043d\u0430\u043c\u0438\u0440\u0430\u0442\u0435 \u0438\u043c\u0435\u0439\u043b\u044a\u0442 \u043c\u043e\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u0442\u0435 \u0432 \u0441\u043f\u0430\u043c \u043f\u0430\u043f\u043a\u0430\u0442\u0430!"),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"div",8)(13,"input",9),o.NdJ("click",function(){o.CHM(u);const f=o.MAs(8);return o.KtG(i.authService.forgotPassword(f.value))}),o.qZA(),o.TgZ(14,"a",10)(15,"div",11),o._uU(16,"\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043a\u044a\u043c \u0412\u0445\u043e\u0434"),o.qZA()()()()()}},dependencies:[mi],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]})}return n})()}];let NY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[Oo.forRoot(MY,{useHash:!0}),Oo]})}return n})();function RY(n,e){1&n&&(o.TgZ(0,"li")(1,"a",9),o._uU(2,"\u0411\u0430\u0437\u0438"),o.qZA()())}function PY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",14),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.closeMenu())}),o.TgZ(1,"a",15),o._uU(2,"\u041c\u0435\u043d\u044e"),o.qZA(),o.TgZ(3,"a",16),o._uU(4,"\u0420\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(5,"a",17),o._uU(6,"\u0411\u0430\u0437\u0430"),o.qZA()()}}function OY(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",10)(2,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMenu())}),o._uU(3," \u0414\u043e\u0431\u0430\u0432\u0438"),o._UZ(4,"i",12),o.qZA(),o.YNc(5,PY,7,0,"div",13),o.qZA(),o.BQk()}if(2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.isMenuOpen)}}function kY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",14),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.closeMenu())}),o.TgZ(1,"a",18),o._uU(2,"\u041f\u0440\u043e\u0444\u0438\u043b"),o.qZA(),o.TgZ(3,"a",19),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.logout())}),o._uU(4,"\u0418\u0437\u0445\u043e\u0434"),o.qZA()()}}function FY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",10)(1,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMenu())}),o.TgZ(2,"span"),o._uU(3),o.qZA(),o._UZ(4,"i",12),o.qZA(),o.YNc(5,kY,5,0,"div",13),o.qZA()}if(2&n){const t=o.oxw();o.xp6(3),o.Oqu(t.getUserDisplayName()),o.xp6(2),o.Q6J("ngIf",t.isMenuOpen)}}function LY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",14),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.closeMenu())}),o.TgZ(1,"a",21),o._uU(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.qZA(),o.TgZ(3,"a",22),o._uU(4,"\u0412\u0445\u043e\u0434"),o.qZA()()}}function UY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",10)(1,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMenu())}),o.TgZ(2,"span"),o._UZ(3,"i",20),o.qZA(),o._UZ(4,"i",12),o.qZA(),o.YNc(5,LY,5,0,"div",13),o.qZA()}if(2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.isMenuOpen)}}let VY=(()=>{class n{constructor(t){this.authService=t,this.isMenuOpen=!1,this.userData=null,this.userDataSubject=new rr.X(null),this.userDataSubscription=this.userDataSubject.subscribe(r=>{this.userData=r})}ngOnInit(){this.authService.userData$.subscribe({next:t=>{t?(this.userDataSubject.next(t),console.log("\u0418\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b:",t)):(this.userDataSubject.next(null),console.log("\u041d\u044f\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b."))},error:t=>{}})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.authService.logoutUser()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Qd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-header"]],decls:17,vars:4,consts:[[1,"header"],[1,"wrapper"],[1,"logo"],["routerLink","/categories"],[1,"navigation"],[4,"ngIf"],[1,"dropdown-menu"],["class","dropdown",4,"ngIf","ngIfElse"],["anonymousUser",""],["routerLink","/base"],[1,"dropdown"],[1,"dropBtn",3,"click"],[1,"fa","fa-caret-down"],["class","dropdown-content",3,"click",4,"ngIf"],[1,"dropdown-content",3,"click"],["href","#","routerLink","/add-category"],["href","#","routerLink","/add-recipe"],["href","#","routerLink","/add-base"],["routerLink","/dashboard"],[3,"click"],[1,"fa-regular","fa-user","fa-flip"],["routerLink","/sign-up"],["routerLink","/sign-in"]],template:function(r,i){if(1&r&&(o.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),o._uU(4,"Chefs Talks"),o.qZA()(),o.TgZ(5,"nav",4)(6,"ul")(7,"li")(8,"a",3),o._uU(9,"\u041c\u0435\u043d\u044e"),o.qZA()(),o.YNc(10,RY,3,0,"li",5),o.qZA(),o.TgZ(11,"div",6),o.YNc(12,OY,6,1,"ng-container",5),o.TgZ(13,"div"),o.YNc(14,FY,6,2,"div",7),o.YNc(15,UY,6,1,"ng-template",null,8,o.W1O),o.qZA()()()()()),2&r){const u=o.MAs(16);o.xp6(10),o.Q6J("ngIf",i.userData),o.xp6(2),o.Q6J("ngIf",i.userData&&i.userData.isAdmin),o.xp6(2),o.Q6J("ngIf",i.userData)("ngIfElse",u)}},dependencies:[fr,mi],styles:[".header[_ngcontent-%COMP%]{height:8dvh;background-color:var(--mainColor);color:var(--mainWhiteColor);padding:20px}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1440px;display:flex;justify-content:space-between;align-items:center;margin:0 auto}.logo[_ngcontent-%COMP%]{font-size:32px;font-weight:900;text-decoration:underline}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}.navigation[_ngcontent-%COMP%]{display:flex}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainWhiteColor)}.dropdown-menu[_ngcontent-%COMP%]{display:flex;gap:15px}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;z-index:2}.dropBtn[_ngcontent-%COMP%]{all:unset}.fa.fa-caret-down[_ngcontent-%COMP%]{padding-left:5px}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:-3px;background-color:var(--mainColor);min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainBlackColor);padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--backgroundColor)}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropBtn[_ngcontent-%COMP%]{color:var(--mainBlackColor)}@media (max-width: 460px){.header[_ngcontent-%COMP%]{height:unset}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1440px;display:flex;flex-direction:column}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{width:80%}.logo[_ngcontent-%COMP%]{font-size:26px;font-weight:600}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{width:80%}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{width:80%}}"]})}return n})(),BY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(r,i){1&r&&(o.TgZ(0,"footer",0)(1,"p"),o._uU(2,"\xa9 2023 Chefs Talks"),o.qZA()())},styles:[".footer[_ngcontent-%COMP%]{height:5dvh;background-color:var(--secondColor);color:var(--mainWhiteColor);text-align:center;padding:10px}"]})}return n})(),ZY=(()=>{class n{constructor(){this.title="chefs-talks"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&o._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[jl,VY,BY]})}return n})(),jY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[tn,Oo]})}return n})();class VD{}class BD{}class fu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===u.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qY{encodeKey(e){return S6(e)}encodeValue(e){return S6(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const HY=/%(\d[a-f0-9])/gi,GY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function S6(n){return encodeURIComponent(n).replace(HY,(e,t)=>GY[t]??e)}function ZD(n){return`${n}`}class Jd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $Y(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[l,f]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],g=t.get(l)||[];g.push(f),t.set(l,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ZD):[ZD(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Jd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ZD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ZD(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zY{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function x6(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function M6(n){return typeof Blob<"u"&&n instanceof Blob}function N6(n){return typeof FormData<"u"&&n instanceof FormData}class pI{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function WY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new fu),this.context||(this.context=new zY),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new Jd,this.urlWithParams=t}serializeBody(){return null===this.body?null:x6(this.body)||M6(this.body)||N6(this.body)||function KY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||N6(this.body)?null:M6(this.body)?this.body.type||null:x6(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((A,M)=>A.set(M,e.setHeaders[M]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((A,M)=>A.set(M,e.setParams[M]),v)),new pI(t,r,u,{params:v,headers:g,context:T,reportProgress:f,responseType:i,withCredentials:l})}}var p_=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(p_||{});class bk{constructor(e,t=200,r="OK"){this.headers=e.headers||new fu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ak extends bk{constructor(e={}){super(e),this.type=p_.ResponseHeader}clone(e={}){return new Ak({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class g_ extends bk{constructor(e={}){super(e),this.type=p_.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new g_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class R6 extends bk{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Dk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let YY=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof pI)u=t;else{let g,v;g=i.headers instanceof fu?i.headers:new fu(i.headers),i.params&&(v=i.params instanceof Jd?i.params:new Jd({fromObject:i.params})),u=new pI(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,ut.of)(u).pipe(Do(g=>this.handler.handle(g)));if(t instanceof pI||"events"===i.observe)return l;const f=l.pipe(qr(g=>g instanceof g_));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return f.pipe((0,gt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,gt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,gt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,gt.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Jd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Dk(i,r))}post(t,r,i={}){return this.request("POST",t,Dk(i,r))}put(t,r,i={}){return this.request("PUT",t,Dk(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(VD))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function k6(n,e){return e(n)}function JY(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const eQ=new o.OlP(""),gI=new o.OlP(""),F6=new o.OlP("");function tQ(){let n=null;return(e,t)=>{null===n&&(n=((0,o.f3M)(eQ,{optional:!0})??[]).reduceRight(JY,k6));const r=(0,o.f3M)(o.HDt),i=r.add();return n(e,t).pipe(wa(()=>r.remove(i)))}}let L6=(()=>{class n extends VD{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,o.f3M)(o.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(gI),...this.injector.get(F6,[])]));this.chain=i.reduceRight((u,l)=>function XY(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(u,l,this.injector),k6)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(wa(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(BD),o.LFG(o.lqb))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const sQ=/^\)\]\}',?\n/;let V6=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new o.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Cn.D)(r.\u0275loadImpl()):(0,ut.of)(null)).pipe((0,xn.w)(()=>new nr.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((G,X)=>l.setRequestHeader(G,X.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&l.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();l.responseType="json"!==G?G:"text"}const f=t.serializeBody();let g=null;const v=()=>{if(null!==g)return g;const G=l.statusText||"OK",X=new fu(l.getAllResponseHeaders()),Ce=function oQ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return g=new Ak({headers:X,status:l.status,statusText:G,url:Ce}),g},T=()=>{let{headers:G,status:X,statusText:Ce,url:Fe}=v(),ke=null;204!==X&&(ke=typeof l.response>"u"?l.responseText:l.response),0===X&&(X=ke?200:0);let Ke=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof ke){const _t=ke;ke=ke.replace(sQ,"");try{ke=""!==ke?JSON.parse(ke):null}catch(pt){ke=_t,Ke&&(Ke=!1,ke={error:pt,text:ke})}}Ke?(u.next(new g_({body:ke,headers:G,status:X,statusText:Ce,url:Fe||void 0})),u.complete()):u.error(new R6({error:ke,headers:G,status:X,statusText:Ce,url:Fe||void 0}))},A=G=>{const{url:X}=v(),Ce=new R6({error:G,status:l.status||0,statusText:l.statusText||"Unknown Error",url:X||void 0});u.error(Ce)};let M=!1;const O=G=>{M||(u.next(v()),M=!0);let X={type:p_.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(X.total=G.total),"text"===t.responseType&&l.responseText&&(X.partialText=l.responseText),u.next(X)},j=G=>{let X={type:p_.UploadProgress,loaded:G.loaded};G.lengthComputable&&(X.total=G.total),u.next(X)};return l.addEventListener("load",T),l.addEventListener("error",A),l.addEventListener("timeout",A),l.addEventListener("abort",A),t.reportProgress&&(l.addEventListener("progress",O),null!==f&&l.upload&&l.upload.addEventListener("progress",j)),l.send(f),u.next({type:p_.Sent}),()=>{l.removeEventListener("error",A),l.removeEventListener("abort",A),l.removeEventListener("load",T),l.removeEventListener("timeout",A),t.reportProgress&&(l.removeEventListener("progress",O),null!==f&&l.upload&&l.upload.removeEventListener("progress",j)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Io))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Sk=new o.OlP("XSRF_ENABLED"),B6=new o.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Z6=new o.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class j6{}let cQ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_u(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye),o.LFG(o.Lbi),o.LFG(B6))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function lQ(n,e){const t=n.url.toLowerCase();if(!(0,o.f3M)(Sk)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,o.f3M)(j6).getToken(),i=(0,o.f3M)(Z6);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Xd=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Xd||{});function dQ(...n){const e=[YY,V6,L6,{provide:VD,useExisting:L6},{provide:BD,useExisting:V6},{provide:gI,useValue:lQ,multi:!0},{provide:Sk,useValue:!0},{provide:j6,useClass:cQ}];for(const t of n)e.push(...t.\u0275providers);return(0,o.MR2)(e)}const q6=new o.OlP("LEGACY_INTERCEPTOR_FN");function hQ(){return function Ep(n,e){return{\u0275kind:n,\u0275providers:e}}(Xd.LegacyInterceptors,[{provide:q6,useFactory:tQ},{provide:gI,useExisting:q6,multi:!0}])}let fQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[dQ(hQ())]})}return n})(),vQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[tn,Xy]})}return n})(),EQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[]]}),n})();class $6{}class IQ{}const $c="*";function H6(n,e=null){return{type:2,steps:n,options:e}}function G6(n){return{type:6,styles:n,offset:null}}class mI{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class z6{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==u&&this._onFinish()}),l.onDestroy(()=>{++r==u&&this._onDestroy()}),l.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function W6(n){return new o.vHH(3e3,!1)}function eh(n){switch(n.length){case 0:return new mI;case 1:return n[0];default:return new z6(n)}}function K6(n,e,t=new Map,r=new Map){const i=[],u=[];let l=-1,f=null;if(e.forEach(g=>{const v=g.get("offset"),T=v==l,A=T&&f||new Map;g.forEach((M,O)=>{let j=O,G=M;if("offset"!==O)switch(j=n.normalizePropertyName(j,i),G){case"!":G=t.get(O);break;case $c:G=r.get(O);break;default:G=n.normalizeStyleValue(O,j,G,i)}A.set(j,G)}),T||u.push(A),f=A,l=v}),i.length)throw function $Q(n){return new o.vHH(3502,!1)}();return u}function Mk(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Nk(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Nk(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Nk(t,"destroy",n)))}}function Nk(n,e,t){const u=Rk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function Rk(n,e,t,r,i="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!l}}function js(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Y6(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const nJ=(()=>typeof document>"u"?null:document.documentElement)();function Pk(n){const e=n.parentNode||n.host||null;return e===nJ?null:e}let Ip=null,Q6=!1;function J6(n,e){for(;e;){if(e===n)return!0;e=Pk(e)}return!1}function X6(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let eZ=(()=>{class n{validateStyleProperty(t){return function iJ(n){Ip||(Ip=function sJ(){return typeof document<"u"?document.body:null}()||{},Q6=!!Ip.style&&"WebkitAppearance"in Ip.style);let e=!0;return Ip.style&&!function rJ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ip.style,!e&&Q6&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ip.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return J6(t,r)}getParentElement(t){return Pk(t)}query(t,r,i){return X6(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,l,f=[],g){return new mI(i,u)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})(),Ok=(()=>{class n{static#e=this.NOOP=new eZ}return n})();const oJ=1e3,kk="ng-enter",qD="ng-leave",$D="ng-trigger",HD=".ng-trigger",nZ="ng-animating",Fk=".ng-animating";function Hc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Lk(parseFloat(e[1]),e[2])}function Lk(n,e){return"s"===e?n*oJ:n}function GD(n,e,t){return n.hasOwnProperty("duration")?n:function uJ(n,e,t){let i,u=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(W6()),{duration:0,delay:0,easing:""};i=Lk(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(u=Lk(parseFloat(g),f[4]));const v=f[5];v&&(l=v)}else i=n;if(!t){let f=!1,g=e.length;i<0&&(e.push(function wQ(){return new o.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function CQ(){return new o.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,W6())}return{duration:i,delay:u,easing:l}}(n,e,t)}function _I(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function rZ(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function th(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function pu(n,e,t){e.forEach((r,i)=>{const u=Vk(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r})}function wp(n,e){e.forEach((t,r)=>{const i=Vk(r);n.style[i]=""})}function yI(n){return Array.isArray(n)?1==n.length?n[0]:H6(n):n}const Uk=new RegExp("{{\\s*(.+?)\\s*}}","g");function sZ(n){let e=[];if("string"==typeof n){let t;for(;t=Uk.exec(n);)e.push(t[1]);Uk.lastIndex=0}return e}function vI(n,e,t){const r=n.toString(),i=r.replace(Uk,(u,l)=>{let f=e[l];return null==f&&(t.push(function bQ(n){return new o.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function zD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const dJ=/-+([a-z0-9])/g;function Vk(n){return n.replace(dJ,(...e)=>e[1].toUpperCase())}function qs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function AQ(n){return new o.vHH(3004,!1)}()}}function oZ(n,e){return window.getComputedStyle(n)[e]}const WD="*";function pJ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function gJ(n,e,t){if(":"==n[0]){const g=function mJ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function BQ(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function VQ(n){return new o.vHH(3015,!1)}()),e;const i=r[1],u=r[2],l=r[3];e.push(aZ(i,l));"<"==u[0]&&!(i==WD&&l==WD)&&e.push(aZ(l,i))}(r,t,e)):t.push(n),t}const KD=new Set(["true","1"]),YD=new Set(["false","0"]);function aZ(n,e){const t=KD.has(n)||YD.has(n),r=KD.has(e)||YD.has(e);return(i,u)=>{let l=n==WD||n==i,f=e==WD||e==u;return!l&&t&&"boolean"==typeof i&&(l=i?KD.has(n):YD.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?KD.has(e):YD.has(e)),l&&f}}const _J=new RegExp("s*:selfs*,?","g");function Bk(n,e,t,r){return new yJ(n).build(e,t,r)}class yJ{constructor(e){this._driver=e}build(e,t,r){const i=new IJ(t);return this._resetContextStyleTimingState(i),qs(this,yI(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function SQ(){return new o.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(T=>{g.name=T,u.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);r+=g.queryCount,i+=g.depCount,l.push(g)}else t.errors.push(function xQ(){return new o.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{sZ(g).forEach(v=>{l.hasOwnProperty(v)||u.add(v)})})}),u.size&&(zD(u.values()),t.errors.push(function MQ(n,e){return new o.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=qs(this,yI(e.animation),t);return{type:1,matchers:pJ(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Cp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>qs(this,r,t)),options:Cp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(l=>{t.currentTime=r;const f=qs(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Cp(e.options)}}visitAnimate(e,t){const r=function CJ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Zk(GD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Zk(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=GD(t,e);return Zk(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:G6({});if(5==u.type)i=this.visitKeyframes(u,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=G6(v)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(l,t);g.isEmptyStep=f,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===$c?r.push(f):t.errors.push(new o.vHH(3002,!1)):r.push(rZ(f));let u=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!u))for(let g of f.values())if(g.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),T=v.get(g);let A=!0;T&&(u!=i&&u>=T.startTime&&i<=T.endTime&&(t.errors.push(function RQ(n,e,t,r,i){return new o.vHH(3010,!1)}()),A=!1),u=T.startTime),A&&v.set(g,{startTime:u,endTime:i}),t.options&&function lJ(n,e,t){const r=e.params||{},i=sZ(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function TQ(n){return new o.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function PQ(){return new o.vHH(3011,!1)}()),r;let u=0;const l=[];let f=!1,g=!1,v=0;const T=e.steps.map(Ce=>{const Fe=this._makeStyleAst(Ce,t);let ke=null!=Fe.offset?Fe.offset:function wJ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Fe.styles),Ke=0;return null!=ke&&(u++,Ke=Fe.offset=ke),g=g||Ke<0||Ke>1,f=f||Ke<v,v=Ke,l.push(Ke),Fe});g&&t.errors.push(function OQ(){return new o.vHH(3012,!1)}()),f&&t.errors.push(function kQ(){return new o.vHH(3200,!1)}());const A=e.steps.length;let M=0;u>0&&u<A?t.errors.push(function FQ(){return new o.vHH(3202,!1)}()):0==u&&(M=1/(A-1));const O=A-1,j=t.currentTime,G=t.currentAnimateTimings,X=G.duration;return T.forEach((Ce,Fe)=>{const ke=M>0?Fe==O?1:M*Fe:l[Fe],Ke=ke*X;t.currentTime=j+G.delay+Ke,G.duration=Ke,this._validateStyleAst(Ce,t),Ce.offset=ke,r.styles.push(Ce)}),r}visitReference(e,t){return{type:8,animation:qs(this,yI(e.animation),t),options:Cp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Cp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Cp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function vJ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(_J,"")),n=n.replace(/@\*/g,HD).replace(/@\w+/g,t=>HD+"-"+t.slice(1)).replace(/:animating/g,Fk),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,js(t.collectedStyles,t.currentQuerySelector,new Map);const f=qs(this,yI(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Cp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function LQ(){return new o.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:GD(e.timings,t.errors,!0);return{type:12,animation:qs(this,yI(e.animation),t),timings:r,options:null}}}class IJ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cp(n){return n?(n=_I(n)).params&&(n.params=function EJ(n){return n?_I(n):null}(n.params)):n={},n}function Zk(n,e,t){return{duration:n,delay:e,easing:t}}function jk(n,e,t,r,i,u,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:l,subTimeline:f}}class QD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const AJ=new RegExp(":enter","g"),SJ=new RegExp(":leave","g");function qk(n,e,t,r,i,u=new Map,l=new Map,f,g,v=[]){return(new xJ).buildKeyframes(n,e,t,r,i,u,l,f,g,v)}class xJ{buildKeyframes(e,t,r,i,u,l,f,g,v,T=[]){v=v||new QD;const A=new $k(e,t,v,i,u,T,[]);A.options=g;const M=g.delay?Hc(g.delay):0;A.currentTimeline.delayNextStep(M),A.currentTimeline.setStyles([l],null,A.errors,g),qs(this,r,A);const O=A.timelines.filter(j=>j.containsAnimation());if(O.length&&f.size){let j;for(let G=O.length-1;G>=0;G--){const X=O[G];if(X.element===t){j=X;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([f],null,A.errors,g)}return O.length?O.map(j=>j.buildKeyframes()):[jk(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const l="number"==typeof u?u:Hc(vI(u,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?Hc(r.duration):null,f=null!=r.delay?Hc(r.delay):null;return 0!==l&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,l,f);u=Math.max(u,v.duration+v.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),qs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=JD);const l=Hc(u.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>qs(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Hc(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),qs(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return GD(t.params?vI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*u),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Hc(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=JD);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,v);u&&A.delayNextStep(u),v===t.element&&(g=A.currentTimeline),qs(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),f=l*(t.currentQueryTotal-1);let g=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":g=f-g;break;case"full":g=r.currentStaggerTime}const T=t.currentTimeline;g&&T.delayNextStep(g);const A=T.currentTime;qs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const JD={};class $k{constructor(e,t,r,i,u,l,f,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=JD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new XD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Hc(r.duration)),null!=r.delay&&(i.delay=Hc(r.delay));const u=r.params;if(u){let l=i.params;l||(l=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=vI(u[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new $k(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=JD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new MJ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(AJ,"."+this._enterClassName)).replace(SJ,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!u&&0==f.length&&l.push(function UQ(n){return new o.vHH(3014,!1)}()),f}}class XD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new XD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||$c),this._currentKeyframe.set(t,$c);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},l=function NJ(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,$c)}else th(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of l){const v=vI(g,u,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??$c),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,g)=>{const v=th(f,new Map,this._backFill);v.forEach((T,A)=>{"!"===T?e.add(A):T===$c&&t.add(A)}),r||v.set("offset",g/this.duration),i.push(v)});const u=e.size?zD(e.values()):[],l=t.size?zD(t.values()):[];if(r){const f=i[0],g=new Map(f);f.set("offset",0),g.set("offset",1),i=[f,g]}return jk(this.element,i,u,l,this.duration,this.startTime,this.easing,!1)}}class MJ extends XD{constructor(e,t,r,i,u,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,f=t/l,g=th(e[0]);g.set("offset",0),u.push(g);const v=th(e[0]);v.set("offset",lZ(f)),u.push(v);const T=e.length-1;for(let A=1;A<=T;A++){let M=th(e[A]);const O=M.get("offset");M.set("offset",lZ((t+O*r)/l)),u.push(M)}r=l,t=0,i="",e=u}return jk(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function lZ(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Hk{}const RJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class PJ extends Hk{normalizePropertyName(e,t){return Vk(e)}normalizeStyleValue(e,t,r,i){let u="";const l=r.toString().trim();if(RJ.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function DQ(n,e){return new o.vHH(3005,!1)}())}return l+u}}function dZ(n,e,t,r,i,u,l,f,g,v,T,A,M){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:T,totalTime:A,errors:M}}const Gk={};class hZ{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function OJ(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,l,f,g,v,T){const A=[],M=this.ast.options&&this.ast.options.params||Gk,j=this.buildStyles(r,f&&f.params||Gk,A),G=g&&g.params||Gk,X=this.buildStyles(i,G,A),Ce=new Set,Fe=new Map,ke=new Map,Ke="void"===i,_t={params:kJ(G,M),delay:this.ast.options?.delay},pt=T?[]:qk(e,t,this.ast.animation,u,l,j,X,_t,v,A);let Yt=0;if(pt.forEach(Vi=>{Yt=Math.max(Vi.duration+Vi.delay,Yt)}),A.length)return dZ(t,this._triggerName,r,i,Ke,j,X,[],[],Fe,ke,Yt,A);pt.forEach(Vi=>{const ua=Vi.element,MZ=js(Fe,ua,new Set);Vi.preStyleProps.forEach(Tp=>MZ.add(Tp));const II=js(ke,ua,new Set);Vi.postStyleProps.forEach(Tp=>II.add(Tp)),ua!==t&&Ce.add(ua)});const br=zD(Ce.values());return dZ(t,this._triggerName,r,i,Ke,j,X,pt,br,Fe,ke,Yt)}}function kJ(n,e){const t=_I(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class FJ{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=_I(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!==l&&(i[u]=l)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((l,f)=>{l&&(l=vI(l,i,t));const g=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,g,l,t),r.set(f,l)})}),r}}class UJ{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new FJ(i.style,i.options&&i.options.params||{},r))}),fZ(this.states,"true","1"),fZ(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new hZ(e,i,this.states))}),this.fallbackTransition=function VJ(n,e,t){return new hZ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function fZ(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const BJ=new QD;class ZJ{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=Bk(this._driver,t,r,[]);if(r.length)throw function HQ(n){return new o.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=K6(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let l;const f=new Map;if(u?(l=qk(this._driver,t,u,kk,qD,new Map,new Map,r,BJ,i),l.forEach(T=>{const A=js(f,T.element,new Map);T.postStyleProps.forEach(M=>A.set(M,null))})):(i.push(function GQ(){return new o.vHH(3300,!1)}()),l=[]),i.length)throw function zQ(n){return new o.vHH(3504,!1)}();f.forEach((T,A)=>{T.forEach((M,O)=>{T.set(O,this._driver.computeStyle(A,O,$c))})});const v=eh(l.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,new Map,A)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function WQ(n){return new o.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=Rk(t,"","","");return Mk(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const pZ="ng-animate-queued",zk="ng-animate-disabled",GJ=[],gZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},aa="__ng_removed";class Wk{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function QJ(n){return n??null}(r?e.value:e),r){const u=_I(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const EI="void",Kk=new Wk(EI);class WJ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,mo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function KQ(n,e){return new o.vHH(3302,!1)}();if(null==r||0==r.length)throw function YQ(n){return new o.vHH(3303,!1)}();if(!function JJ(n){return"start"==n||"done"==n}(r))throw function QQ(n,e){return new o.vHH(3400,!1)}();const u=js(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};u.push(l);const f=js(this._engine.statesByElement,e,new Map);return f.has(t)||(mo(e,$D),mo(e,$D+"-"+t),f.set(t,Kk)),()=>{this._engine.afterFlush(()=>{const g=u.indexOf(l);g>=0&&u.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function JQ(n){return new o.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),l=new Yk(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(mo(e,$D),mo(e,$D+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const v=new Wk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f.set(t,v),g||(g=Kk),v.value!==EI&&g.value===v.value){if(!function tX(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(g.params,v.params)){const G=[],X=u.matchStyles(g.value,g.params,G),Ce=u.matchStyles(v.value,v.params,G);G.length?this._engine.reportError(G):this._engine.afterFlush(()=>{wp(e,X),pu(e,Ce)})}return}const M=js(this._engine.playersByElement,e,[]);M.forEach(G=>{G.namespaceId==this.id&&G.triggerName==t&&G.queued&&G.destroy()});let O=u.matchTransition(g.value,v.value,e,v.params),j=!1;if(!O){if(!i)return;O=u.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:O,fromState:g,toState:v,player:l,isFallbackTransition:j}),j||(mo(e,pZ),l.onStart(()=>{m_(e,pZ)})),l.onDone(()=>{let G=this.players.indexOf(l);G>=0&&this.players.splice(G,1);const X=this._engine.playersByElement.get(e);if(X){let Ce=X.indexOf(l);Ce>=0&&X.splice(Ce,1)}}),this.players.push(l),M.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,HD,!0);r.forEach(i=>{if(i[aa])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),l=new Map;if(u){const f=[];if(u.forEach((g,v)=>{if(l.set(v,g.value),this._triggers.has(v)){const T=this.trigger(e,v,EI,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&eh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const l=u.name;if(i.has(l))return;i.add(l);const g=this._triggers.get(l).fallbackTransition,v=r.get(l)||Kk,T=new Wk(EI),A=new Yk(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:g,fromState:v,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[aa];(!u||u===gZ)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){mo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(f=>{if(f.name==r.triggerName){const g=Rk(u,r.triggerName,r.fromState.value,r.toState.value);g._data=e,Mk(r.player,f.phase,g,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class KJ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new WJ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const g=i.get(f);if(g){const v=r.indexOf(g);r.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(e1(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!e1(t))return;const u=t[aa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),mo(e,zk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),m_(e,zk))}removeNode(e,t,r){if(e1(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[aa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return e1(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,HD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Fk,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return eh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[aa];if(t&&t.setForRemoval){if(e[aa]=gZ,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(zk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)mo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?eh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function XQ(n){return new o.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new QD,i=[],u=new Map,l=[],f=new Map,g=new Map,v=new Map,T=new Set;this.disabledNodes.forEach(nt=>{T.add(nt);const lt=this.driver.query(nt,".ng-animate-queued",!0);for(let It=0;It<lt.length;It++)T.add(lt[It])});const A=this.bodyNode,M=Array.from(this.statesByElement.keys()),O=yZ(M,this.collectedEnterElements),j=new Map;let G=0;O.forEach((nt,lt)=>{const It=kk+G++;j.set(lt,It),nt.forEach(en=>mo(en,It))});const X=[],Ce=new Set,Fe=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const lt=this.collectedLeaveElements[nt],It=lt[aa];It&&It.setForRemoval&&(X.push(lt),Ce.add(lt),It.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(en=>Ce.add(en)):Fe.add(lt))}const ke=new Map,Ke=yZ(M,Array.from(Ce));Ke.forEach((nt,lt)=>{const It=qD+G++;ke.set(lt,It),nt.forEach(en=>mo(en,It))}),e.push(()=>{O.forEach((nt,lt)=>{const It=j.get(lt);nt.forEach(en=>m_(en,It))}),Ke.forEach((nt,lt)=>{const It=ke.get(lt);nt.forEach(en=>m_(en,It))}),X.forEach(nt=>{this.processLeaveNode(nt)})});const _t=[],pt=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(t).forEach(It=>{const en=It.player,ni=It.element;if(_t.push(en),this.collectedEnterElements.length){const Bi=ni[aa];if(Bi&&Bi.setForMove){if(Bi.previousTriggersValues&&Bi.previousTriggersValues.has(It.triggerName)){const bp=Bi.previousTriggersValues.get(It.triggerName),_o=this.statesByElement.get(It.element);if(_o&&_o.has(It.triggerName)){const r1=_o.get(It.triggerName);r1.value=bp,_o.set(It.triggerName,r1)}}return void en.destroy()}}const gu=!A||!this.driver.containsElement(A,ni),$s=ke.get(ni),nh=j.get(ni),Wn=this._buildInstruction(It,r,nh,$s,gu);if(Wn.errors&&Wn.errors.length)return void pt.push(Wn);if(gu)return en.onStart(()=>wp(ni,Wn.fromStyles)),en.onDestroy(()=>pu(ni,Wn.toStyles)),void i.push(en);if(It.isFallbackTransition)return en.onStart(()=>wp(ni,Wn.fromStyles)),en.onDestroy(()=>pu(ni,Wn.toStyles)),void i.push(en);const PZ=[];Wn.timelines.forEach(Bi=>{Bi.stretchStartingKeyframe=!0,this.disabledNodes.has(Bi.element)||PZ.push(Bi)}),Wn.timelines=PZ,r.append(ni,Wn.timelines),l.push({instruction:Wn,player:en,element:ni}),Wn.queriedElements.forEach(Bi=>js(f,Bi,[]).push(en)),Wn.preStyleProps.forEach((Bi,bp)=>{if(Bi.size){let _o=g.get(bp);_o||g.set(bp,_o=new Set),Bi.forEach((r1,Xk)=>_o.add(Xk))}}),Wn.postStyleProps.forEach((Bi,bp)=>{let _o=v.get(bp);_o||v.set(bp,_o=new Set),Bi.forEach((r1,Xk)=>_o.add(Xk))})});if(pt.length){const nt=[];pt.forEach(lt=>{nt.push(function eJ(n,e){return new o.vHH(3505,!1)}())}),_t.forEach(lt=>lt.destroy()),this.reportError(nt)}const Yt=new Map,br=new Map;l.forEach(nt=>{const lt=nt.element;r.has(lt)&&(br.set(lt,lt),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,Yt))}),i.forEach(nt=>{const lt=nt.element;this._getPreviousPlayers(lt,!1,nt.namespaceId,nt.triggerName,null).forEach(en=>{js(Yt,lt,[]).push(en),en.destroy()})});const Vi=X.filter(nt=>EZ(nt,g,v)),ua=new Map;_Z(ua,this.driver,Fe,v,$c).forEach(nt=>{EZ(nt,g,v)&&Vi.push(nt)});const II=new Map;O.forEach((nt,lt)=>{_Z(II,this.driver,new Set(nt),g,"!")}),Vi.forEach(nt=>{const lt=ua.get(nt),It=II.get(nt);ua.set(nt,new Map([...lt?.entries()??[],...It?.entries()??[]]))});const Tp=[],NZ=[],RZ={};l.forEach(nt=>{const{element:lt,player:It,instruction:en}=nt;if(r.has(lt)){if(T.has(lt))return It.onDestroy(()=>pu(lt,en.toStyles)),It.disabled=!0,It.overrideTotalTime(en.totalTime),void i.push(It);let ni=RZ;if(br.size>1){let $s=lt;const nh=[];for(;$s=$s.parentNode;){const Wn=br.get($s);if(Wn){ni=Wn;break}nh.push($s)}nh.forEach(Wn=>br.set(Wn,ni))}const gu=this._buildAnimation(It.namespaceId,en,Yt,u,II,ua);if(It.setRealPlayer(gu),ni===RZ)Tp.push(It);else{const $s=this.playersByElement.get(ni);$s&&$s.length&&(It.parentPlayer=eh($s)),i.push(It)}}else wp(lt,en.fromStyles),It.onDestroy(()=>pu(lt,en.toStyles)),NZ.push(It),T.has(lt)&&i.push(It)}),NZ.forEach(nt=>{const lt=u.get(nt.element);if(lt&&lt.length){const It=eh(lt);nt.setRealPlayer(It)}}),i.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<X.length;nt++){const lt=X[nt],It=lt[aa];if(m_(lt,qD),It&&It.hasAnimation)continue;let en=[];if(f.size){let gu=f.get(lt);gu&&gu.length&&en.push(...gu);let $s=this.driver.query(lt,Fk,!0);for(let nh=0;nh<$s.length;nh++){let Wn=f.get($s[nh]);Wn&&Wn.length&&en.push(...Wn)}}const ni=en.filter(gu=>!gu.destroyed);ni.length?XJ(this,lt,ni):this.processLeaveNode(lt)}return X.length=0,Tp.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const lt=this.players.indexOf(nt);this.players.splice(lt,1)}),nt.play()}),Tp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const g=!u||u==EI;f.forEach(v=>{v.queued||!g&&v.triggerName!=i||l.push(v)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,T=v!==u,A=js(r,v,[]);this._getPreviousPlayers(v,T,l,f,t.toState).forEach(O=>{const j=O.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),O.destroy(),A.push(O)})}wp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,l){const f=t.triggerName,g=t.element,v=[],T=new Set,A=new Set,M=t.timelines.map(j=>{const G=j.element;T.add(G);const X=G[aa];if(X&&X.removedBeforeQueried)return new mI(j.duration,j.delay);const Ce=G!==g,Fe=function eX(n){const e=[];return vZ(n,e),e}((r.get(G)||GJ).map(Yt=>Yt.getRealPlayer())).filter(Yt=>!!Yt.element&&Yt.element===G),ke=u.get(G),Ke=l.get(G),_t=K6(this._normalizer,j.keyframes,ke,Ke),pt=this._buildPlayer(j,_t,Fe);if(j.subTimeline&&i&&A.add(G),Ce){const Yt=new Yk(e,f,G);Yt.setRealPlayer(pt),v.push(Yt)}return pt});v.forEach(j=>{js(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function YJ(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,j.element,j))}),T.forEach(j=>mo(j,nZ));const O=eh(M);return O.onDestroy(()=>{T.forEach(j=>m_(j,nZ)),pu(g,t.toStyles)}),A.forEach(j=>{js(i,j,[]).push(O)}),O}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new mI(e.duration,e.delay)}}class Yk{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new mI,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Mk(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){js(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function e1(n){return n&&1===n.nodeType}function mZ(n,e){const t=n.style.display;return n.style.display=e??"none",t}function _Z(n,e,t,r,i){const u=[];t.forEach(g=>u.push(mZ(g)));const l=[];r.forEach((g,v)=>{const T=new Map;g.forEach(A=>{const M=e.computeStyle(v,A,i);T.set(A,M),(!M||0==M.length)&&(v[aa]=zJ,l.push(v))}),n.set(v,T)});let f=0;return t.forEach(g=>mZ(g,u[f++])),l}function yZ(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function l(f){if(!f)return 1;let g=u.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:i.has(v)?1:l(v),u.set(f,g),g}return e.forEach(f=>{const g=l(f);1!==g&&t.get(g).push(f)}),t}function mo(n,e){n.classList?.add(e)}function m_(n,e){n.classList?.remove(e)}function XJ(n,e,t){eh(t).onDone(()=>n.processLeaveNode(e))}function vZ(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof z6?vZ(r.players,e):e.push(r)}}function EZ(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class t1{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new KJ(e,t,r),this._timelineEngine=new ZJ(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const g=[],T=Bk(this._driver,u,g,[]);if(g.length)throw function qQ(n,e){return new o.vHH(3404,!1)}();f=function LJ(n,e,t){return new UJ(n,e,t)}(i,T,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,l]=Y6(r);this._timelineEngine.command(u,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[l,f]=Y6(r);return this._timelineEngine.listen(l,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let rX=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&pu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pu(this._element,this._initialStyles),this._endStyles&&(pu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wp(this._element,this._endStyles),this._endStyles=null),pu(this._element,this._initialStyles),this._state=3)}}return n})();function Qk(n){let e=null;return n.forEach((t,r)=>{(function iX(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class IZ{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:oZ(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class sX{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return J6(e,t)}getParentElement(e){return Pk(e)}query(e,t,r){return X6(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,l=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(g.easing=u);const v=new Map,T=l.filter(O=>O instanceof IZ);(function hJ(n,e){return 0===n||0===e})(r,i)&&T.forEach(O=>{O.currentSnapshot.forEach((j,G)=>v.set(G,j))});let A=function cJ(n){return n.length?n[0]instanceof Map?n:n.map(e=>rZ(e)):[]}(t).map(O=>th(O));A=function fJ(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,l)=>{r.has(l)||i.push(l),r.set(l,u)}),i.length)for(let u=1;u<e.length;u++){let l=e[u];i.forEach(f=>l.set(f,oZ(n,f)))}}return e}(e,A,v);const M=function nX(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Qk(e[0]),e.length>1&&(r=Qk(e[e.length-1]))):e instanceof Map&&(t=Qk(e)),t||r?new rX(n,t,r):null}(e,A);return new IZ(e,A,g,M)}}let oX=(()=>{class n extends $6{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?H6(t):t;return wZ(this._renderer,null,r,"register",[i]),new aX(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(o.FYo),o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class aX extends IQ{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new uX(this._id,e,t||{},this._renderer)}}class uX{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return wZ(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function wZ(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const CZ="@.disabled";let cX=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(u,l)=>{const f=l?.parentNode(u);f&&l.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(u);return T||(T=new TZ("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,T)),T}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=T=>{Array.isArray(T)?T.forEach(g):this.engine.registerTrigger(l,f,t,T.name,T)};return r.data.animation.forEach(g),new lX(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,f]=u;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(o.FYo),o.LFG(t1),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class TZ{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==CZ?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class lX extends TZ{constructor(e,t,r,i,u){super(t,r,i,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CZ?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function dX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),l="";return"@"!=u.charAt(0)&&([u,l]=function hX(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let fX=(()=>{class n extends t1{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye),o.LFG(Ok),o.LFG(Hk),o.LFG(o.z2F))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const bZ=[{provide:$6,useClass:oX},{provide:Hk,useFactory:function pX(){return new PJ}},{provide:t1,useClass:fX},{provide:o.FYo,useFactory:function gX(n,e,t){return new cX(n,e,t)},deps:[Th,t1,o.R0b]}],Jk=[{provide:Ok,useFactory:()=>new sX},{provide:o.QbO,useValue:"BrowserAnimations"},...bZ],AZ=[{provide:Ok,useClass:eZ},{provide:o.QbO,useValue:"NoopAnimations"},...bZ];let mX=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?AZ:Jk}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:Jk,imports:[ya]})}return n})(),_X=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[tn]})}return n})();var yX=P(3019);class vX extends cs.x{constructor(e=1/0,t=1/0,r=bc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!i&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const l=t.now();let f=0;for(let g=1;g<r.length&&r[g]<=l;g+=2)f=g;f&&r.splice(0,f+1)}}}var EX=P(3020);function DZ(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,EX.B)({connector:()=>new vX(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function SZ(n,e){return(0,bs.m)(e)?(0,xn.w)(()=>n,e):(0,xn.w)(()=>n)}var __=P(6304),IX=P(120);const CX=new o.OlP("angularfire2.auth.use-emulator"),TX=new o.OlP("angularfire2.auth.settings"),bX=new o.OlP("angularfire2.auth.tenant-id"),AX=new o.OlP("angularfire2.auth.langugage-code"),DX=new o.OlP("angularfire2.auth.use-device-language"),SX=new o.OlP("angularfire.auth.persistence");let xZ=(()=>{class n{constructor(t,r,i,u,l,f,g,v,T,A,M,O){const j=new cs.x,G=(0,ut.of)(void 0).pipe((0,Ed.Q)(l.outsideAngular),(0,xn.w)(()=>u.runOutsideAngular(()=>P.e(661).then(P.bind(P,8661)))),(0,gt.U)(()=>(0,__.on)(t,u,r)),(0,gt.U)(X=>((n,e,t,r,i,u,l,f)=>(0,__.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,u&&g.useDeviceLanguage(),l)for(const[v,T]of Object.entries(l))g.settings[v]=T;return f&&g.setPersistence(f),g},[t,r,i,u,l,f]))(X,u,f,v,T,A,g,M)),DZ({bufferSize:1,refCount:!1}));if(jr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ut.of)(null);else{G.pipe(li()).subscribe();const Ce=G.pipe((0,xn.w)(Ke=>Ke.getRedirectResult().then(_t=>_t,()=>null)),cb,DZ({bufferSize:1,refCount:!1})),Fe=G.pipe((0,xn.w)(Ke=>new nr.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ke.onAuthStateChanged(pt=>_t.next(pt),pt=>_t.error(pt),()=>_t.complete()))})))),ke=G.pipe((0,xn.w)(Ke=>new nr.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ke.onIdTokenChanged(pt=>_t.next(pt),pt=>_t.error(pt),()=>_t.complete()))}))));this.authState=Ce.pipe(SZ(Fe),(0,Uf.R)(l.outsideAngular),(0,Ed.Q)(l.insideAngular)),this.user=Ce.pipe(SZ(ke),(0,Uf.R)(l.outsideAngular),(0,Ed.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,xn.w)(Ke=>Ke?(0,Cn.D)(Ke.getIdToken()):(0,ut.of)(null))),this.idTokenResult=this.user.pipe((0,xn.w)(Ke=>Ke?(0,Cn.D)(Ke.getIdTokenResult()):(0,ut.of)(null))),this.credential=(0,yX.T)(Ce,j,this.authState.pipe(qr(Ke=>!Ke))).pipe((0,gt.U)(Ke=>Ke?.user?Ke:null),(0,Uf.R)(l.outsideAngular),(0,Ed.Q)(l.insideAngular))}return(0,__.pX)(this,G,u,{spy:{apply:(X,Ce,Fe)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&Fe.then(ke=>j.next(ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(__.Dh),o.LFG(__.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Xm),o.LFG(CX,8),o.LFG(TX,8),o.LFG(bX,8),o.LFG(AX,8),o.LFG(DX,8),o.LFG(SX,8),o.LFG(j4,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),MX=(()=>{class n{constructor(){IX.Z.registerVersion("angularfire",Km.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[xZ]}),n})(),NX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[tn,Jy,Xy,Oo]})}return n})(),RX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n,bootstrap:[ZY]});static#n=this.\u0275inj=o.cJS({providers:[{provide:Oe,useClass:Ve}],imports:[ya,MX,NY,jY,_X,vQ,Oo,fQ,Xy,NX,hb(()=>Vx(vD_firebaseConfig)),k8(()=>F8()),EQ,mX]})}return n})();Gp().bootstrapModule(RX).catch(n=>console.error(n))},5619:(it,Ee,P)=>{P.d(Ee,{X:()=>L});var o=P(8645);class L extends o.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const he=super._subscribe(se);return!he.closed&&se.next(this._value),he}getValue(){const{hasError:se,thrownError:he,_value:ye}=this;if(se)throw he;return this._throwIfClosed(),ye}next(se){super.next(this._value=se)}}},5592:(it,Ee,P)=>{P.d(Ee,{y:()=>Ue});var o=P(305),L=P(7394),ie=P(4850),se=P(8407),he=P(2653),ye=P(4674),Re=P(1441);let Ue=(()=>{class re{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const Ye=new re;return Ye.source=this,Ye.operator=ue,Ye}subscribe(ue,Ye,Ve){const xe=function Z(re){return re&&re instanceof o.Lv||function V(re){return re&&(0,ye.m)(re.next)&&(0,ye.m)(re.error)&&(0,ye.m)(re.complete)}(re)&&(0,L.Nn)(re)}(ue)?ue:new o.Hp(ue,Ye,Ve);return(0,Re.x)(()=>{const{operator:Ae,source:Qe}=this;xe.add(Ae?Ae.call(xe,Qe):Qe?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Ye){ue.error(Ye)}}forEach(ue,Ye){return new(Ye=Se(Ye))((Ve,xe)=>{const Ae=new o.Hp({next:Qe=>{try{ue(Qe)}catch(we){xe(we),Ae.unsubscribe()}},error:xe,complete:Ve});this.subscribe(Ae)})}_subscribe(ue){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(ue)}[ie.L](){return this}pipe(...ue){return(0,se.U)(ue)(this)}toPromise(ue){return new(ue=Se(ue))((Ye,Ve)=>{let xe;this.subscribe(Ae=>xe=Ae,Ae=>Ve(Ae),()=>Ye(xe))})}}return re.create=Oe=>new re(Oe),re})();function Se(re){var Oe;return null!==(Oe=re??he.config.Promise)&&void 0!==Oe?Oe:Promise}},8645:(it,Ee,P)=>{P.d(Ee,{x:()=>Re});var o=P(5592),L=P(7394);const se=(0,P(2306).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=P(9039),ye=P(1441);let Re=(()=>{class Se extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const re=new Ue(this,this);return re.operator=Z,re}_throwIfClosed(){if(this.closed)throw new se}next(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(Z)}})}error(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:re}=this;for(;re.length;)re.shift().error(Z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:re,isStopped:Oe,observers:ue}=this;return re||Oe?L.Lc:(this.currentObservers=null,ue.push(Z),new L.w0(()=>{this.currentObservers=null,(0,he.P)(ue,Z)}))}_checkFinalizedStatuses(Z){const{hasError:re,thrownError:Oe,isStopped:ue}=this;re?Z.error(Oe):ue&&Z.complete()}asObservable(){const Z=new o.y;return Z.source=this,Z}}return Se.create=(V,Z)=>new Ue(V,Z),Se})();class Ue extends Re{constructor(V,Z){super(),this.destination=V,this.source=Z}next(V){var Z,re;null===(re=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===re||re.call(Z,V)}error(V){var Z,re;null===(re=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===re||re.call(Z,V)}complete(){var V,Z;null===(Z=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===Z||Z.call(V)}_subscribe(V){var Z,re;return null!==(re=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(V))&&void 0!==re?re:L.Lc}}},305:(it,Ee,P)=>{P.d(Ee,{Hp:()=>Ve,Lv:()=>re});var o=P(4674),L=P(7394),ie=P(2653),se=P(3894),he=P(2420);const ye=Se("C",void 0,void 0);function Se(Te,ce,ve){return{kind:Te,value:ce,error:ve}}var V=P(7599),Z=P(1441);class re extends L.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,L.Nn)(ce)&&ce.add(this)):this.destination=we}static create(ce,ve,Me){return new Ve(ce,ve,Me)}next(ce){this.isStopped?Qe(function Ue(Te){return Se("N",Te,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?Qe(function Re(Te){return Se("E",void 0,Te)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?Qe(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function ue(Te,ce){return Oe.call(Te,ce)}class Ye{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:ve}=this;if(ve.next)try{ve.next(ce)}catch(Me){xe(Me)}}error(ce){const{partialObserver:ve}=this;if(ve.error)try{ve.error(ce)}catch(Me){xe(Me)}else xe(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(ve){xe(ve)}}}class Ve extends re{constructor(ce,ve,Me){let K;if(super(),(0,o.m)(ce)||!ce)K={next:ce??void 0,error:ve??void 0,complete:Me??void 0};else{let k;this&&ie.config.useDeprecatedNextContext?(k=Object.create(ce),k.unsubscribe=()=>this.unsubscribe(),K={next:ce.next&&ue(ce.next,k),error:ce.error&&ue(ce.error,k),complete:ce.complete&&ue(ce.complete,k)}):K=ce}this.destination=new Ye(K)}}function xe(Te){ie.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Te):(0,se.h)(Te)}function Qe(Te,ce){const{onStoppedNotification:ve}=ie.config;ve&&V.z.setTimeout(()=>ve(Te,ce))}const we={closed:!0,next:he.Z,error:function Ae(Te){throw Te},complete:he.Z}},7394:(it,Ee,P)=>{P.d(Ee,{Lc:()=>ye,w0:()=>he,Nn:()=>Re});var o=P(4674);const ie=(0,P(2306).d)(Se=>function(Z){Se(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((re,Oe)=>`${Oe+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var se=P(9039);class he{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const ue of Z)ue.remove(this);else Z.remove(this);const{initialTeardown:re}=this;if((0,o.m)(re))try{re()}catch(ue){V=ue instanceof ie?ue.errors:[ue]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const ue of Oe)try{Ue(ue)}catch(Ye){V=V??[],Ye instanceof ie?V=[...V,...Ye.errors]:V.push(Ye)}}if(V)throw new ie(V)}}add(V){var Z;if(V&&V!==this)if(this.closed)Ue(V);else{if(V instanceof he){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(V)}}_hasParent(V){const{_parentage:Z}=this;return Z===V||Array.isArray(Z)&&Z.includes(V)}_addParent(V){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(V),Z):Z?[Z,V]:V}_removeParent(V){const{_parentage:Z}=this;Z===V?this._parentage=null:Array.isArray(Z)&&(0,se.P)(Z,V)}remove(V){const{_finalizers:Z}=this;Z&&(0,se.P)(Z,V),V instanceof he&&V._removeParent(this)}}he.EMPTY=(()=>{const Se=new he;return Se.closed=!0,Se})();const ye=he.EMPTY;function Re(Se){return Se instanceof he||Se&&"closed"in Se&&(0,o.m)(Se.remove)&&(0,o.m)(Se.add)&&(0,o.m)(Se.unsubscribe)}function Ue(Se){(0,o.m)(Se)?Se():Se.unsubscribe()}},2653:(it,Ee,P)=>{P.d(Ee,{config:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(it,Ee,P)=>{P.d(Ee,{E:()=>L});const L=new(P(5592).y)(he=>he.complete())},2459:(it,Ee,P)=>{P.d(Ee,{D:()=>ce});var o=P(4829),L=P(3093),ie=P(5137),ye=P(5592),Ue=P(4971),Se=P(4674),V=P(7103);function re(ve,Me){if(!ve)throw new Error("Iterable cannot be null");return new ye.y(K=>{(0,V.f)(K,Me,()=>{const k=ve[Symbol.asyncIterator]();(0,V.f)(K,Me,()=>{k.next().then(W=>{W.done?K.complete():K.next(W.value)})},0,!0)})})}var Oe=P(8382),ue=P(4026),Ye=P(4266),Ve=P(3664),xe=P(5726),Ae=P(9853),Qe=P(541);function ce(ve,Me){return Me?function Te(ve,Me){if(null!=ve){if((0,Oe.c)(ve))return function se(ve,Me){return(0,o.Xf)(ve).pipe((0,ie.R)(Me),(0,L.Q)(Me))}(ve,Me);if((0,Ye.z)(ve))return function Re(ve,Me){return new ye.y(K=>{let k=0;return Me.schedule(function(){k===ve.length?K.complete():(K.next(ve[k++]),K.closed||this.schedule())})})}(ve,Me);if((0,ue.t)(ve))return function he(ve,Me){return(0,o.Xf)(ve).pipe((0,ie.R)(Me),(0,L.Q)(Me))}(ve,Me);if((0,xe.D)(ve))return re(ve,Me);if((0,Ve.T)(ve))return function Z(ve,Me){return new ye.y(K=>{let k;return(0,V.f)(K,Me,()=>{k=ve[Ue.h](),(0,V.f)(K,Me,()=>{let W,pe;try{({value:W,done:pe}=k.next())}catch(Mt){return void K.error(Mt)}pe?K.complete():K.next(W)},0,!0)}),()=>(0,Se.m)(k?.return)&&k.return()})}(ve,Me);if((0,Qe.L)(ve))return function we(ve,Me){return re((0,Qe.Q)(ve),Me)}(ve,Me)}throw(0,Ae.z)(ve)}(ve,Me):(0,o.Xf)(ve)}},4829:(it,Ee,P)=>{P.d(Ee,{Xf:()=>Oe});var o=P(7582),L=P(4266),ie=P(4026),se=P(5592),he=P(8382),ye=P(5726),Re=P(9853),Ue=P(3664),Se=P(541),V=P(4674),Z=P(3894),re=P(4850);function Oe(Te){if(Te instanceof se.y)return Te;if(null!=Te){if((0,he.c)(Te))return function ue(Te){return new se.y(ce=>{const ve=Te[re.L]();if((0,V.m)(ve.subscribe))return ve.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,L.z)(Te))return function Ye(Te){return new se.y(ce=>{for(let ve=0;ve<Te.length&&!ce.closed;ve++)ce.next(Te[ve]);ce.complete()})}(Te);if((0,ie.t)(Te))return function Ve(Te){return new se.y(ce=>{Te.then(ve=>{ce.closed||(ce.next(ve),ce.complete())},ve=>ce.error(ve)).then(null,Z.h)})}(Te);if((0,ye.D)(Te))return Ae(Te);if((0,Ue.T)(Te))return function xe(Te){return new se.y(ce=>{for(const ve of Te)if(ce.next(ve),ce.closed)return;ce.complete()})}(Te);if((0,Se.L)(Te))return function Qe(Te){return Ae((0,Se.Q)(Te))}(Te)}throw(0,Re.z)(Te)}function Ae(Te){return new se.y(ce=>{(function we(Te,ce){var ve,Me,K,k;return(0,o.mG)(this,void 0,void 0,function*(){try{for(ve=(0,o.KL)(Te);!(Me=yield ve.next()).done;)if(ce.next(Me.value),ce.closed)return}catch(W){K={error:W}}finally{try{Me&&!Me.done&&(k=ve.return)&&(yield k.call(ve))}finally{if(K)throw K.error}}ce.complete()})})(Te,ce).catch(ve=>ce.error(ve))})}},3019:(it,Ee,P)=>{P.d(Ee,{T:()=>ye});var o=P(7537),L=P(4829),ie=P(6232),se=P(4564),he=P(2459);function ye(...Re){const Ue=(0,se.yG)(Re),Se=(0,se._6)(Re,1/0),V=Re;return V.length?1===V.length?(0,L.Xf)(V[0]):(0,o.J)(Se)((0,he.D)(V,Ue)):ie.E}},2096:(it,Ee,P)=>{P.d(Ee,{of:()=>ie});var o=P(4564),L=P(2459);function ie(...se){const he=(0,o.yG)(se);return(0,L.D)(se,he)}},8251:(it,Ee,P)=>{P.d(Ee,{x:()=>L});var o=P(305);function L(se,he,ye,Re,Ue){return new ie(se,he,ye,Re,Ue)}class ie extends o.Lv{constructor(he,ye,Re,Ue,Se,V){super(he),this.onFinalize=Se,this.shouldUnsubscribe=V,this._next=ye?function(Z){try{ye(Z)}catch(re){he.error(re)}}:super._next,this._error=Ue?function(Z){try{Ue(Z)}catch(re){he.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(Z){he.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},7398:(it,Ee,P)=>{P.d(Ee,{U:()=>ie});var o=P(9360),L=P(8251);function ie(se,he){return(0,o.e)((ye,Re)=>{let Ue=0;ye.subscribe((0,L.x)(Re,Se=>{Re.next(se.call(he,Se,Ue++))}))})}},7537:(it,Ee,P)=>{P.d(Ee,{J:()=>ie});var o=P(1631),L=P(2737);function ie(se=1/0){return(0,o.z)(L.y,se)}},1631:(it,Ee,P)=>{P.d(Ee,{z:()=>Ue});var o=P(7398),L=P(4829),ie=P(9360),se=P(7103),he=P(8251),Re=P(4674);function Ue(Se,V,Z=1/0){return(0,Re.m)(V)?Ue((re,Oe)=>(0,o.U)((ue,Ye)=>V(re,ue,Oe,Ye))((0,L.Xf)(Se(re,Oe))),Z):("number"==typeof V&&(Z=V),(0,ie.e)((re,Oe)=>function ye(Se,V,Z,re,Oe,ue,Ye,Ve){const xe=[];let Ae=0,Qe=0,we=!1;const Te=()=>{we&&!xe.length&&!Ae&&V.complete()},ce=Me=>Ae<re?ve(Me):xe.push(Me),ve=Me=>{ue&&V.next(Me),Ae++;let K=!1;(0,L.Xf)(Z(Me,Qe++)).subscribe((0,he.x)(V,k=>{Oe?.(k),ue?ce(k):V.next(k)},()=>{K=!0},void 0,()=>{if(K)try{for(Ae--;xe.length&&Ae<re;){const k=xe.shift();Ye?(0,se.f)(V,Ye,()=>ve(k)):ve(k)}Te()}catch(k){V.error(k)}}))};return Se.subscribe((0,he.x)(V,ce,()=>{we=!0,Te()})),()=>{Ve?.()}}(re,Oe,Se,Z)))}},3093:(it,Ee,P)=>{P.d(Ee,{Q:()=>se});var o=P(7103),L=P(9360),ie=P(8251);function se(he,ye=0){return(0,L.e)((Re,Ue)=>{Re.subscribe((0,ie.x)(Ue,Se=>(0,o.f)(Ue,he,()=>Ue.next(Se),ye),()=>(0,o.f)(Ue,he,()=>Ue.complete(),ye),Se=>(0,o.f)(Ue,he,()=>Ue.error(Se),ye)))})}},3020:(it,Ee,P)=>{P.d(Ee,{B:()=>he});var o=P(4829),L=P(8645),ie=P(305),se=P(9360);function he(Re={}){const{connector:Ue=(()=>new L.x),resetOnError:Se=!0,resetOnComplete:V=!0,resetOnRefCountZero:Z=!0}=Re;return re=>{let Oe,ue,Ye,Ve=0,xe=!1,Ae=!1;const Qe=()=>{ue?.unsubscribe(),ue=void 0},we=()=>{Qe(),Oe=Ye=void 0,xe=Ae=!1},Te=()=>{const ce=Oe;we(),ce?.unsubscribe()};return(0,se.e)((ce,ve)=>{Ve++,!Ae&&!xe&&Qe();const Me=Ye=Ye??Ue();ve.add(()=>{Ve--,0===Ve&&!Ae&&!xe&&(ue=ye(Te,Z))}),Me.subscribe(ve),!Oe&&Ve>0&&(Oe=new ie.Hp({next:K=>Me.next(K),error:K=>{Ae=!0,Qe(),ue=ye(we,Se,K),Me.error(K)},complete:()=>{xe=!0,Qe(),ue=ye(we,V),Me.complete()}}),(0,o.Xf)(ce).subscribe(Oe))})(re)}}function ye(Re,Ue,...Se){if(!0===Ue)return void Re();if(!1===Ue)return;const V=new ie.Hp({next:()=>{V.unsubscribe(),Re()}});return(0,o.Xf)(Ue(...Se)).subscribe(V)}},5137:(it,Ee,P)=>{P.d(Ee,{R:()=>L});var o=P(9360);function L(ie,se=0){return(0,o.e)((he,ye)=>{ye.add(ie.schedule(()=>he.subscribe(ye),se))})}},4664:(it,Ee,P)=>{P.d(Ee,{w:()=>se});var o=P(4829),L=P(9360),ie=P(8251);function se(he,ye){return(0,L.e)((Re,Ue)=>{let Se=null,V=0,Z=!1;const re=()=>Z&&!Se&&Ue.complete();Re.subscribe((0,ie.x)(Ue,Oe=>{Se?.unsubscribe();let ue=0;const Ye=V++;(0,o.Xf)(he(Oe,Ye)).subscribe(Se=(0,ie.x)(Ue,Ve=>Ue.next(ye?ye(Oe,Ve,Ye,ue++):Ve),()=>{Se=null,re()}))},()=>{Z=!0,re()}))})}},7599:(it,Ee,P)=>{P.d(Ee,{z:()=>o});const o={setTimeout(L,ie,...se){const{delegate:he}=o;return he?.setTimeout?he.setTimeout(L,ie,...se):setTimeout(L,ie,...se)},clearTimeout(L){const{delegate:ie}=o;return(ie?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(it,Ee,P)=>{P.d(Ee,{h:()=>L});const L=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(it,Ee,P)=>{P.d(Ee,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(it,Ee,P)=>{P.d(Ee,{_6:()=>ye,jO:()=>se,yG:()=>he});var o=P(4674);function ie(Re){return Re[Re.length-1]}function se(Re){return(0,o.m)(ie(Re))?Re.pop():void 0}function he(Re){return function L(Re){return Re&&(0,o.m)(Re.schedule)}(ie(Re))?Re.pop():void 0}function ye(Re,Ue){return"number"==typeof ie(Re)?Re.pop():Ue}},9039:(it,Ee,P)=>{function o(L,ie){if(L){const se=L.indexOf(ie);0<=se&&L.splice(se,1)}}P.d(Ee,{P:()=>o})},2306:(it,Ee,P)=>{function o(L){const se=L(he=>{Error.call(he),he.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Ee,{d:()=>o})},1441:(it,Ee,P)=>{P.d(Ee,{O:()=>se,x:()=>ie});var o=P(2653);let L=null;function ie(he){if(o.config.useDeprecatedSynchronousErrorHandling){const ye=!L;if(ye&&(L={errorThrown:!1,error:null}),he(),ye){const{errorThrown:Re,error:Ue}=L;if(L=null,Re)throw Ue}}else he()}function se(he){o.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=he)}},7103:(it,Ee,P)=>{function o(L,ie,se,he=0,ye=!1){const Re=ie.schedule(function(){se(),ye?L.add(this.schedule(null,he)):this.unsubscribe()},he);if(L.add(Re),!ye)return Re}P.d(Ee,{f:()=>o})},2737:(it,Ee,P)=>{function o(L){return L}P.d(Ee,{y:()=>o})},4266:(it,Ee,P)=>{P.d(Ee,{z:()=>o});const o=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(it,Ee,P)=>{P.d(Ee,{D:()=>L});var o=P(4674);function L(ie){return Symbol.asyncIterator&&(0,o.m)(ie?.[Symbol.asyncIterator])}},4674:(it,Ee,P)=>{function o(L){return"function"==typeof L}P.d(Ee,{m:()=>o})},8382:(it,Ee,P)=>{P.d(Ee,{c:()=>ie});var o=P(4850),L=P(4674);function ie(se){return(0,L.m)(se[o.L])}},3664:(it,Ee,P)=>{P.d(Ee,{T:()=>ie});var o=P(4971),L=P(4674);function ie(se){return(0,L.m)(se?.[o.h])}},4026:(it,Ee,P)=>{P.d(Ee,{t:()=>L});var o=P(4674);function L(ie){return(0,o.m)(ie?.then)}},541:(it,Ee,P)=>{P.d(Ee,{L:()=>se,Q:()=>ie});var o=P(7582),L=P(4674);function ie(he){return(0,o.FC)(this,arguments,function*(){const Re=he.getReader();try{for(;;){const{value:Ue,done:Se}=yield(0,o.qq)(Re.read());if(Se)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Ue)}}finally{Re.releaseLock()}})}function se(he){return(0,L.m)(he?.getReader)}},9360:(it,Ee,P)=>{P.d(Ee,{A:()=>L,e:()=>ie});var o=P(4674);function L(se){return(0,o.m)(se?.lift)}function ie(se){return he=>{if(L(he))return he.lift(function(ye){try{return se(ye,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(it,Ee,P)=>{function o(){}P.d(Ee,{Z:()=>o})},8407:(it,Ee,P)=>{P.d(Ee,{U:()=>ie,z:()=>L});var o=P(2737);function L(...se){return ie(se)}function ie(se){return 0===se.length?o.y:1===se.length?se[0]:function(ye){return se.reduce((Re,Ue)=>Ue(Re),ye)}}},3894:(it,Ee,P)=>{P.d(Ee,{h:()=>ie});var o=P(2653),L=P(7599);function ie(se){L.z.setTimeout(()=>{const{onUnhandledError:he}=o.config;if(!he)throw se;he(se)})}},9853:(it,Ee,P)=>{function o(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ee,{z:()=>o})},8926:(it,Ee,P)=>{P.d(Ee,{QbO:()=>Pw,tb:()=>Ad,AFp:()=>Dy,ip1:()=>n0,hGG:()=>H4,z2F:()=>ra,Ojb:()=>Ow,sBO:()=>ZF,Sil:()=>oM,EJc:()=>o0,Xts:()=>ef,SBq:()=>cc,lqb:()=>sr,qLn:()=>Fo,vpe:()=>Lo,XFs:()=>yt,OlP:()=>Nt,zs3:()=>Os,ZZ4:()=>$4,aQg:()=>yr,soG:()=>s0,YKP:()=>QT,h0i:()=>ea,PXZ:()=>k4,R0b:()=>Qn,FiY:()=>ir,Lbi:()=>Ug,g9A:()=>Sy,Qsj:()=>cS,FYo:()=>$g,JOm:()=>jl,q3G:()=>oc,tp0:()=>Gi,Rgc:()=>Wm,dDg:()=>M4,eoX:()=>d0,q4F:()=>cf,GfV:()=>Oy,s_b:()=>Cd,ifc:()=>Es,VuI:()=>RM,MMx:()=>jm,Lck:()=>r4,eFA:()=>L4,Gpc:()=>Qe,f3M:()=>Xt,X6Q:()=>kb,$WT:()=>Zr,MR2:()=>wy,_c5:()=>qb,qFp:()=>Q4,rg0:()=>U_,c2e:()=>yb,zSh:()=>by,HDt:()=>Eb,wAp:()=>Ja,vHH:()=>K,lri:()=>l0,rWj:()=>Ab,JZr:()=>Me,EiD:()=>yy,mCW:()=>$n,qzn:()=>zl,JVY:()=>Z1,pB0:()=>Yh,eBb:()=>j1,L6k:()=>Og,LAX:()=>q1,cg1:()=>Bv,kL8:()=>ET,dqk:()=>mn,Z0I:()=>ii,eJc:()=>fb,QGY:()=>Em,F4k:()=>_v,RDi:()=>U1,AaK:()=>Ve,z3N:()=>No,qOj:()=>vC,Xq5:()=>sv,TTD:()=>El,_Bn:()=>YT,jDz:()=>qm,xp6:()=>qo,uIk:()=>av,ekj:()=>bv,Suo:()=>Lx,Xpm:()=>Qc,lG2:()=>Xc,Yz7:()=>wt,cJS:()=>Vr,oAB:()=>wu,Yjl:()=>el,Y36:()=>td,_UZ:()=>wf,BQk:()=>ym,ynx:()=>hd,qZA:()=>dd,TgZ:()=>Ec,EpF:()=>vm,n5z:()=>og,LFG:()=>an,$8M:()=>to,$Z:()=>Gy,NdJ:()=>yv,CRH:()=>Ux,oxw:()=>BC,ALo:()=>bx,lcZ:()=>ib,xi3:()=>Ff,Q6J:()=>Yo,s9C:()=>Tf,VKq:()=>mx,iGM:()=>hb,MAs:()=>kC,KtG:()=>H_,CHM:()=>Yp,uOi:()=>Ew,LSH:()=>vy,P3R:()=>Ey,YNc:()=>hv,W1O:()=>E4,_uU:()=>iT,Oqu:()=>xf,hij:()=>Mm,lnq:()=>Sv});var o=P(8645),L=P(7394),ie=P(5592),se=P(3019),he=P(5619),ye=P(2096),Re=P(3020),Ue=P(4664),Se=P(2737),V=P(9360),Z=P(8251);function Oe(s,a){return s===a}function ue(s){for(let a in s)if(s[a]===ue)return a;throw Error("Could not find renamed property on target object.")}function Ye(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function Ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function xe(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Ae=ue({__forward_ref__:ue});function Qe(s){return s.__forward_ref__=Qe,s.toString=function(){return Ve(this())},s}function we(s){return Te(s)?s():s}function Te(s){return"function"==typeof s&&s.hasOwnProperty(Ae)&&s.__forward_ref__===Qe}function ce(s){return s&&!!s.\u0275providers}const Me="https://g.co/ng/security#xss";class K extends Error{constructor(a,c){super(function k(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,c)),this.code=a}}function W(s){return"string"==typeof s?s:null==s?"":String(s)}function ln(s,a){throw new K(-201,!1)}function At(s,a){null==s&&function Ze(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Vr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Zi(s){return ca(s,Kn)||ca(s,Ot)}function ii(s){return null!==Zi(s)}function ca(s,a){return s.hasOwnProperty(a)?s[a]:null}function es(s){return s&&(s.hasOwnProperty(Ct)||s.hasOwnProperty(Br))?s[Ct]:null}const Kn=ue({\u0275prov:ue}),Ct=ue({\u0275inj:ue}),Ot=ue({ngInjectableDef:ue}),Br=ue({ngInjectorDef:ue});var yt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(yt||{});let dr;function Bt(s){const a=dr;return dr=s,a}function ns(s,a,c){const d=Zi(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&yt.Optional?null:void 0!==a?a:void ln(Ve(s))}const mn=globalThis;class Nt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=wt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const F={},$="__NG_DI_FLAG__",le="ngTempTokenPath",Xe=/\n/gm,Jt="__source";let kn;function Ln(s){const a=kn;return kn=s,a}function qt(s,a=yt.Default){if(void 0===kn)throw new K(-203,!1);return null===kn?ns(s,void 0,a):kn.get(s,a&yt.Optional?null:void 0,a)}function an(s,a=yt.Default){return(function ts(){return dr}()||qt)(we(s),a)}function Xt(s,a=yt.Default){return an(s,mu(a))}function mu(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function rh(s){const a=[];for(let c=0;c<s.length;c++){const d=we(s[c]);if(Array.isArray(d)){if(0===d.length)throw new K(900,!1);let h,p=yt.Default;for(let y=0;y<d.length;y++){const E=d[y],C=Ap(E);"number"==typeof C?-1===C?h=E.token:p|=C:h=E}a.push(an(h,p))}else a.push(an(d))}return a}function vs(s,a){return s[$]=a,s.prototype[$]=a,s}function Ap(s){return s[$]}function bi(s){return{toString:s}.toString()}var yo=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(yo||{}),Es=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Es||{});const Ai={},Zt=[],_u=ue({\u0275cmp:ue}),yu=ue({\u0275dir:ue}),zc=ue({\u0275pipe:ue}),sh=ue({\u0275mod:ue}),hr=ue({\u0275fac:ue}),Gs=ue({__NG_ELEMENT_ID__:ue}),Sp=ue({__NG_ENV_ID__:ue});function Di(s,a,c){let d=s.length;for(;;){const h=s.indexOf(a,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}c=h+1}}function _n(s,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const p=c[d++],y=c[d++],E=c[d++];s.setAttribute(a,y,E,p)}else{const p=h,y=c[++d];fr(p)?s.setProperty(a,p,y):s.setAttribute(a,p,y),d++}}return d}function xp(s){return 3===s||4===s||6===s}function fr(s){return 64===s.charCodeAt(0)}function vu(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Wc(s,c,h,null,-1===c||2===c?a[++d]:null)}}return s}function Wc(s,a,c,d,h){let p=0,y=s.length;if(-1===a)y=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===a){y=-1;break}if(E>a){y=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,a),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}const Eu="ng-template";function oh(s,a,c){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const y=s[d++];if(c&&"class"===p&&-1!==Di(y.toLowerCase(),a,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function ah(s){return 4===s.type&&s.value!==Eu}function y_(s,a,c){return a===(4!==s.type||c?s.value:Eu)}function Iu(s,a,c){let d=4;const h=s.attrs||[],p=function wI(s){for(let a=0;a<s.length;a++)if(xp(s[a]))return a;return s.length}(h);let y=!1;for(let E=0;E<a.length;E++){const C=a[E];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!y_(s,C,c)||""===C&&1===a.length){if(si(d))return!1;y=!0}}else{const b=8&d?C:a[++E];if(8&d&&null!==s.attrs){if(!oh(s.attrs,b,c)){if(si(d))return!1;y=!0}continue}const N=Mp(8&d?"class":C,h,ah(s),c);if(-1===N){if(si(d))return!1;y=!0;continue}if(""!==b){let B;B=N>p?"":h[N+1].toLowerCase();const H=8&d?B:null;if(H&&-1!==Di(H,b,0)||2&d&&b!==B){if(si(d))return!1;y=!0}}}}else{if(!y&&!si(d)&&!si(C))return!1;if(y&&si(C))continue;y=!1,d=C|1&d}}return si(d)||y}function si(s){return 0==(1&s)}function Mp(s,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let p=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=a[++h];for(;"string"==typeof E;)E=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function oi(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function Np(s,a,c=!1){for(let d=0;d<a.length;d++)if(Iu(s,a[d],c))return!0;return!1}function Kc(s,a){return s?":not("+a.trim()+")":a}function Yc(s){let a=s[0],c=1,d=2,h="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const E=s[++c];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!si(y)&&(a+=Kc(p,h),h=""),d=y,p=p||!si(d);c++}return""!==h&&(a+=Kc(p,h)),a}function Qc(s){return bi(()=>{const a=fh(s),c={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===yo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Es.Emulated,styles:s.styles||Zt,_:null,schemas:s.schemas||null,tView:null,id:""};ji(c);const d=s.dependencies;return c.directiveDefs=tl(d,!1),c.pipeDefs=tl(d,!0),c.id=function gh(s){let a=0;const c=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function dh(s){return Lt(s)||Un(s)}function hh(s){return null!==s}function wu(s){return bi(()=>({type:s.type,bootstrap:s.bootstrap||Zt,declarations:s.declarations||Zt,imports:s.imports||Zt,exports:s.exports||Zt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Jc(s,a){if(null==s)return Ai;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,a&&(a[h]=p)}return c}function Xc(s){return bi(()=>{const a=fh(s);return ji(a),a})}function el(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Lt(s){return s[_u]||null}function Un(s){return s[yu]||null}function Vn(s){return s[zc]||null}function Zr(s){const a=Lt(s)||Un(s)||Vn(s);return null!==a&&a.standalone}function Dr(s,a){const c=s[sh]||null;if(!c&&!0===a)throw new Error(`Type ${Ve(s)} does not have '\u0275mod' property.`);return c}function fh(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||Ai,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Zt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jc(s.inputs,a),outputs:Jc(s.outputs)}}function ji(s){s.features?.forEach(a=>a(s))}function tl(s,a){if(!s)return null;const c=a?Vn:dh;return()=>("function"==typeof s?s():s).map(d=>c(d)).filter(hh)}const un=0,ze=1,Tt=2,tn=3,Si=4,vo=5,En=6,da=7,Sn=8,jr=9,nl=10,mt=11,xi=12,Eo=13,ss=14,wn=15,rl=16,Io=17,Is=18,Mi=19,I_=20,qi=21,ws=22,zs=23,os=24,ht=25,mh=1,il=2,Ni=7,wo=9,Bn=11;function Sr(s){return Array.isArray(s)&&"object"==typeof s[mh]}function Yn(s){return Array.isArray(s)&&!0===s[mh]}function Tu(s){return 0!=(4&s.flags)}function Ws(s){return s.componentOffset>-1}function bu(s){return 1==(1&s.flags)}function $i(s){return!!s.template}function Au(s){return 0!=(512&s[Tt])}function ha(s,a){return s.hasOwnProperty(hr)?s[hr]:null}let pr=null,ll=!1;function xr(s){const a=pr;return pr=s,a}const R_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function vh(s){if(!fa(s)||s.dirty){if(!s.producerMustRecompute(s)&&!fl(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function k_(s){s.dirty=!0,function O_(s){if(void 0===s.liveConsumerNode)return;const a=ll;ll=!0;try{for(const c of s.liveConsumerNode)c.dirty||k_(c)}finally{ll=a}}(s),s.consumerMarkedDirty?.(s)}function hl(s){return s&&(s.nextProducerIndex=0),xr(s)}function Fp(s,a){if(xr(a),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(fa(s))for(let c=s.nextProducerIndex;c<s.producerNode.length;c++)gl(s.producerNode[c],s.producerIndexOfThis[c]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function fl(s){Su(s);for(let a=0;a<s.producerNode.length;a++){const c=s.producerNode[a],d=s.producerLastReadVersion[a];if(d!==c.version||(vh(c),d!==c.version))return!0}return!1}function F_(s){if(Su(s),fa(s))for(let a=0;a<s.producerNode.length;a++)gl(s.producerNode[a],s.producerIndexOfThis[a]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function gl(s,a){if(function Eh(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),Su(s),1===s.liveConsumerNode.length)for(let d=0;d<s.producerNode.length;d++)gl(s.producerNode[d],s.producerIndexOfThis[d]);const c=s.liveConsumerNode.length-1;if(s.liveConsumerNode[a]=s.liveConsumerNode[c],s.liveConsumerIndexOfThis[a]=s.liveConsumerIndexOfThis[c],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,a<s.liveConsumerNode.length){const d=s.liveConsumerIndexOfThis[a],h=s.liveConsumerNode[a];Su(h),h.producerIndexOfThis[d]=a}}function fa(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Su(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let Up=null;function U_(s){const a=xr(null);try{return s()}finally{xr(a)}}const wh=()=>{},vl=(()=>({...R_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:wh}))();class xu{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function El(){return jp}function jp(s){return s.type.prototype.ngOnChanges&&(s.setInput=MI),B_}function B_(){const s=$p(this),a=s?.current;if(a){const c=s.previous;if(c===Ai)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function MI(s,a,c,d){const h=this.declaredInputs[c],p=$p(s)||function Ch(s,a){return s[qp]=a}(s,{previous:Ai,current:null}),y=p.current||(p.current={}),E=p.previous,C=E[h];y[h]=new xu(C&&C.currentValue,a,E===Ai),s[d]=a}El.ngInherit=!0;const qp="__ngSimpleChanges__";function $p(s){return s[qp]||null}const Mr=function(s,a,c){};function sn(s){for(;Array.isArray(s);)s=s[un];return s}function Mu(s,a){return sn(a[s])}function gr(s,a){return sn(a[s.index])}function Nu(s,a){return s.data[a]}function ma(s,a){return s[a]}function ai(s,a){const c=a[s];return Sr(c)?c:c[un]}function Cs(s,a){return null==a?null:s[a]}function Dh(s){s[Io]=0}function j_(s){1024&s[Tt]||(s[Tt]|=1024,Hp(s,1))}function Il(s){1024&s[Tt]&&(s[Tt]&=-1025,Hp(s,-1))}function Hp(s,a){let c=s[tn];if(null===c)return;c[vo]+=a;let d=c;for(c=c[tn];null!==c&&(1===a&&1===d[vo]||-1===a&&0===d[vo]);)c[vo]+=a,d=c,c=c[tn]}const ft={lFrame:bl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Mh(){return ft.bindingsEnabled}function ge(){return ft.lFrame.lView}function Ut(){return ft.lFrame.tView}function Yp(s){return ft.lFrame.contextLView=s,s[Sn]}function H_(s){return ft.lFrame.contextLView=null,s}function mr(){let s=Qp();for(;null!==s&&64===s.type;)s=s.parent;return s}function Qp(){return ft.lFrame.currentTNode}function Ts(s,a){const c=ft.lFrame;c.currentTNode=s,c.isParent=a}function Pu(){return ft.lFrame.isParent}function Jp(){ft.lFrame.isParent=!1}function Nr(){const s=ft.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function ku(){return ft.lFrame.bindingIndex++}function Ys(s){const a=ft.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function OI(s,a){const c=ft.lFrame;c.bindingIndex=c.bindingRootIndex=s,Tl(a)}function Tl(s){ft.lFrame.currentDirectiveIndex=s}function bs(){return ft.lFrame.currentQueryIndex}function Rh(s){ft.lFrame.currentQueryIndex=s}function Cn(s){const a=s[ze];return 2===a.type?a.declTNode:1===a.type?s[En]:null}function ut(s,a,c){if(c&yt.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||c&yt.Host||(h=Cn(p),null===h||(p=p[ss],10&h.type))););if(null===h)return!1;a=h,s=p}const d=ft.lFrame=Fu();return d.currentTNode=a,d.lView=s,!0}function rr(s){const a=Fu(),c=s[ze];ft.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Fu(){const s=ft.lFrame,a=null===s?null:s.child;return null===a?bl(s):a}function bl(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Xp(){const s=ft.lFrame;return ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Al=Xp;function Dl(){const s=Xp();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function gt(){return ft.lFrame.selectedIndex}function Ao(s){ft.lFrame.selectedIndex=s}function vn(){const s=ft.lFrame;return Nu(s.tView,s.selectedIndex)}let Ml=!0;function Ea(){return Ml}function As(s){Ml=s}function Ds(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:S}=p;y&&(s.contentHooks??=[]).push(-c,y),E&&((s.contentHooks??=[]).push(c,E),(s.contentCheckHooks??=[]).push(c,E)),C&&(s.viewHooks??=[]).push(-c,C),b&&((s.viewHooks??=[]).push(c,b),(s.viewCheckHooks??=[]).push(c,b)),null!=S&&(s.destroyHooks??=[]).push(c,S)}}function Qs(s,a,c){Uu(s,a,3,c)}function Js(s,a,c,d){(3&s[Tt])===c&&Uu(s,a,c,d)}function Lu(s,a){let c=s[Tt];(3&c)===a&&(c&=8191,c+=1,s[Tt]=c)}function Uu(s,a,c,d){const p=d??-1,y=a.length-1;let E=0;for(let C=void 0!==d?65535&s[Io]:0;C<y;C++)if("number"==typeof a[C+1]){if(E=a[C],null!=d&&E>=d)break}else a[C]<0&&(s[Io]+=65536),(E<p||-1==p)&&(Oh(s,c,a,C),s[Io]=(4294901760&s[Io])+C+2),C++}function Vu(s,a){Mr(4,s,a);const c=xr(null);try{a.call(s)}finally{xr(c),Mr(5,s,a)}}function Oh(s,a,c,d){const h=c[d]<0,p=c[d+1],E=s[h?-c[d]:c[d]];h?s[Tt]>>13<s[Io]>>16&&(3&s[Tt])===a&&(s[Tt]+=8192,Vu(E,p)):Vu(E,p)}const Ri=-1;class Pi{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function qr(s){return s!==Ri}function jn(s){return 32767&s}function Xs(s,a){let c=function Nl(s){return s>>16}(s),d=a;for(;c>0;)d=d[ss],c--;return d}let kh=!0;function li(s){const a=kh;return kh=s,a}const Mn=255,Ss=5;let Fh=0;const ls={};function ju(s,a){const c=wa(s,a);if(-1!==c)return c;const d=a[ze];d.firstCreatePass&&(s.injectorIndex=a.length,Pl(d.data,s),Pl(a,null),Pl(d.blueprint,null));const h=qu(s,a),p=s.injectorIndex;if(qr(h)){const y=jn(h),E=Xs(h,a),C=E[ze].data;for(let b=0;b<8;b++)a[p+b]=E[y+b]|C[y+b]}return a[p+8]=h,p}function Pl(s,a){s.push(0,0,0,0,0,0,0,0,a)}function wa(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function qu(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=Gu(h),null===d)return Ri;if(c++,h=h[ss],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Ri}function $u(s,a,c){!function Rl(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Gs)&&(d=c[Gs]),null==d&&(d=c[Gs]=Fh++);const h=d&Mn;a.data[s+(h>>Ss)]|=1<<h}(s,a,c)}function Ca(s,a,c){if(c&yt.Optional||void 0!==s)return s;ln()}function tg(s,a,c,d){if(c&yt.Optional&&void 0===d&&(d=null),!(c&(yt.Self|yt.Host))){const h=s[jr],p=Bt(void 0);try{return h?h.get(a,d,c&yt.Optional):ns(a,d,c&yt.Optional)}finally{Bt(p)}}return Ca(d,0,c)}function xs(s,a,c,d=yt.Default,h){if(null!==s){if(2048&a[Tt]&&!(d&yt.Self)){const y=function kl(s,a,c,d,h){let p=s,y=a;for(;null!==p&&null!==y&&2048&y[Tt]&&!(512&y[Tt]);){const E=ng(p,y,c,d|yt.Self,ls);if(E!==ls)return E;let C=p.parent;if(!C){const b=y[I_];if(b){const S=b.get(c,ls,d);if(S!==ls)return S}C=Gu(y),y=y[ss]}p=C}return h}(s,a,c,d,ls);if(y!==ls)return y}const p=ng(s,a,c,d,ls);if(p!==ls)return p}return tg(a,c,d,h)}function ng(s,a,c,d,h){const p=function Hu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Gs)?s[Gs]:void 0;return"number"==typeof a?a>=0?a&Mn:sg:a}(c);if("function"==typeof p){if(!ut(a,s,d))return d&yt.Host?Ca(h,0,d):tg(a,c,d,h);try{let y;if(y=p(d),null!=y||d&yt.Optional)return y;ln()}finally{Al()}}else if("number"==typeof p){let y=null,E=wa(s,a),C=Ri,b=d&yt.Host?a[wn][En]:null;for((-1===E||d&yt.SkipSelf)&&(C=-1===E?qu(s,a):a[E+8],C!==Ri&&rg(d,!1)?(y=a[ze],E=jn(C),a=Xs(C,a)):E=-1);-1!==E;){const S=a[ze];if(Ms(p,E,S.data)){const N=K_(E,a,c,y,d,b);if(N!==ls)return N}C=a[E+8],C!==Ri&&rg(d,a[ze].data[E+8]===b)&&Ms(p,E,a)?(y=S,E=jn(C),a=Xs(C,a)):E=-1}}return h}function K_(s,a,c,d,h,p){const y=a[ze],E=y.data[s+8],S=$r(E,y,c,null==d?Ws(E)&&kh:d!=y&&0!=(3&E.type),h&yt.Host&&p===E);return null!==S?eo(a,y,S,E):ls}function $r(s,a,c,d,h){const p=s.providerIndexes,y=a.data,E=1048575&p,C=s.directiveStart,S=p>>20,B=h?E+S:s.directiveEnd;for(let H=d?E:E+S;H<B;H++){const ae=y[H];if(H<C&&c===ae||H>=C&&ae.type===c)return H}if(h){const H=y[C];if(H&&$i(H)&&H.type===c)return C}return null}function eo(s,a,c,d){let h=s[c];const p=a.data;if(function Bu(s){return s instanceof Pi}(h)){const y=h;y.resolving&&function Mt(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new K(-200,`Circular dependency in DI detected for ${s}${c}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():W(s)}(p[c]));const E=li(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?Bt(y.injectImpl):null;ut(s,d,yt.Default);try{h=s[c]=y.factory(void 0,p,s,d),a.firstCreatePass&&c>=d.directiveStart&&function Ph(s,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const y=jp(a);(c.preOrderHooks??=[]).push(s,y),(c.preOrderCheckHooks??=[]).push(s,y)}h&&(c.preOrderHooks??=[]).push(0-s,h),p&&((c.preOrderHooks??=[]).push(s,p),(c.preOrderCheckHooks??=[]).push(s,p))}(c,p[c],a)}finally{null!==b&&Bt(b),li(E),y.resolving=!1,Al()}}return h}function Ms(s,a,c){return!!(c[a+(s>>Ss)]&1<<s)}function rg(s,a){return!(s&yt.Self||s&yt.Host&&a)}class Rr{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return xs(this._tNode,this._lView,a,mu(d),c)}}function sg(){return new Rr(mr(),ge())}function og(s){return bi(()=>{const a=s.prototype.constructor,c=a[hr]||Ol(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[hr]||Ol(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ol(s){return Te(s)?()=>{const a=Ol(we(s));return a&&a()}:ha(s)}function Gu(s){const a=s[ze],c=a.type;return 2===c?a.declTNode:1===c?s[En]:null}function to(s){return function Dt(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(xp(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(mr(),s)}const ds="__parameters__";function hs(s,a,c){return bi(()=>{const d=function Lh(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(C,b,S){const N=C.hasOwnProperty(ds)?C[ds]:Object.defineProperty(C,ds,{value:[]})[ds];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(y),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function xo(s,a){s.forEach(c=>Array.isArray(c)?xo(c,a):a(c))}function Zh(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Ul(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function di(s,a,c){let d=I(s,a);return d>=0?s[1|d]=c:(d=~d,function dg(s,a,c,d){let h=s.length;if(h==a)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function no(s,a){const c=I(s,a);if(c>=0)return s[1|c]}function I(s,a){return function _(s,a,c){let d=0,h=s.length>>c;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<c];if(a===y)return p<<c;y>a?h=p:d=p+1}return~(h<<c)}(s,a,1)}const ir=vs(hs("Optional"),8),Gi=vs(hs("SkipSelf"),4);function Bl(s){return 128==(128&s.flags)}var jl=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(jl||{});const m1=/^>|^->|<!--|-->|--!>|<!-$/g,vg=/(<|>)/g,WI="\u200b$1\u200b";const Ju=new Map;let _1=0;const JI="__ngContext__";function gi(s,a){Sr(a)?(s[JI]=a[Mi],function ny(s){Ju.set(s[Mi],s)}(a)):s[JI]=a}let iy;function sy(s,a){return iy(s,a)}function Na(s){const a=s[tn];return Yn(a)?a[tn]:a}function Xu(s){return rw(s[xi])}function ql(s){return rw(s[Si])}function rw(s){for(;null!==s&&!Yn(s);)s=s[Si];return s}function $l(s,a,c,d,h){if(null!=d){let p,y=!1;Yn(d)?p=d:Sr(d)&&(y=!0,d=d[un]);const E=sn(d);0===s&&null!==c?null==h?sw(a,c,E):tc(a,c,E,h||null,!0):1===s&&null!==c?tc(a,c,E,h||null,!0):2===s?function Gh(s,a,c){const d=Tg(s,a);d&&function N1(s,a,c,d){s.removeChild(a,c,d)}(s,d,a,c)}(a,E,y):3===s&&a.destroyNode(E),null!=p&&function O1(s,a,c,d,h){const p=c[Ni];p!==sn(c)&&$l(a,s,d,p,h);for(let E=Bn;E<c.length;E++){const C=c[E];zh(C[ze],C,s,a,d,p)}}(a,s,p,c,h)}}function oy(s,a){return s.createComment(function KI(s){return s.replace(m1,a=>a.replace(vg,WI))}(a))}function Cg(s,a,c){return s.createElement(a,c)}function ay(s,a){const c=s[wo],d=c.indexOf(a);Il(a),c.splice(d,1)}function ec(s,a){if(s.length<=Bn)return;const c=Bn+a,d=s[c];if(d){const h=d[rl];null!==h&&h!==s&&ay(h,d),a>0&&(s[c-1][Si]=d[Si]);const p=Ul(s,Bn+a);!function T1(s,a){zh(s,a,a[mt],2,null,null),a[un]=null,a[En]=null}(d[ze],d);const y=p[Is];null!==y&&y.detachView(p[ze]),d[tn]=null,d[Si]=null,d[Tt]&=-129}return d}function Pa(s,a){if(!(256&a[Tt])){const c=a[mt];a[zs]&&F_(a[zs]),a[os]&&F_(a[os]),c.destroyNode&&zh(s,a,c,3,null,null),function D1(s){let a=s[xi];if(!a)return uy(s[ze],s);for(;a;){let c=null;if(Sr(a))c=a[xi];else{const d=a[Bn];d&&(c=d)}if(!c){for(;a&&!a[Si]&&a!==s;)Sr(a)&&uy(a[ze],a),a=a[tn];null===a&&(a=s),Sr(a)&&uy(a[ze],a),c=a&&a[Si]}a=c}}(a)}}function uy(s,a){if(!(256&a[Tt])){a[Tt]&=-129,a[Tt]|=256,function M1(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Pi)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],C=p[y+1];Mr(4,E,C);try{C.call(E)}finally{Mr(5,E,C)}}else{Mr(4,h,p);try{p.call(h)}finally{Mr(5,h,p)}}}}}(s,a),function x1(s,a){const c=s.cleanup,d=a[da];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+3];y>=0?d[y]():d[-y].unsubscribe(),p+=2}else c[p].call(d[c[p+1]]);null!==d&&(a[da]=null);const h=a[qi];if(null!==h){a[qi]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(s,a),1===a[ze].type&&a[mt].destroy();const c=a[rl];if(null!==c&&Yn(a[tn])){c!==a[tn]&&ay(c,a);const d=a[Is];null!==d&&d.detachView(s)}!function YI(s){Ju.delete(s[Mi])}(a)}}function cy(s,a,c){return function iw(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[un];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===Es.None||p===Es.Emulated)return null}return gr(d,c)}}(s,a.parent,c)}function tc(s,a,c,d,h){s.insertBefore(a,c,d,h)}function sw(s,a,c){s.appendChild(a,c)}function ow(s,a,c,d,h){null!==d?tc(s,a,c,d,h):sw(s,a,c)}function Tg(s,a){return s.parentNode(a)}let hy,Dg,py,xg,dy=function nc(s,a,c){return 40&s.type?gr(s,c):null};function Ag(s,a,c,d){const h=cy(s,d,a),p=a[mt],E=function ly(s,a,c){return dy(s,a,c)}(d.parent||a[En],d,a);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)ow(p,h,c[C],E,!1);else ow(p,h,c,E,!1);void 0!==hy&&hy(p,d,a,c,h)}function rc(s,a){if(null!==a){const c=a.type;if(3&c)return gr(a,s);if(4&c)return Hh(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return rc(s,d);{const h=s[a.index];return Yn(h)?Hh(-1,h):sn(h)}}if(32&c)return sy(a,s)()||sn(s[a.index]);{const d=uw(s,a);return null!==d?Array.isArray(d)?d[0]:rc(Na(s[wn]),d):rc(s,a.next)}}return null}function uw(s,a){return null!==a?s[wn][En].projection[a.projection]:null}function Hh(s,a){const c=Bn+s+1;if(c<a.length){const d=a[c],h=d[ze].firstChild;if(null!==h)return rc(d,h)}return a[Ni]}function fy(s,a,c,d,h,p,y){for(;null!=c;){const E=d[c.index],C=c.type;if(y&&0===a&&(E&&gi(sn(E),d),c.flags|=2),32!=(32&c.flags))if(8&C)fy(s,a,c.child,d,h,p,!1),$l(a,s,h,E,p);else if(32&C){const b=sy(c,d);let S;for(;S=b();)$l(a,s,h,S,p);$l(a,s,h,E,p)}else 16&C?Wh(s,a,d,c,h,p):$l(a,s,h,E,p);c=y?c.projectionNext:c.next}}function zh(s,a,c,d,h,p){fy(c,d,s.firstChild,a,h,p,!1)}function Wh(s,a,c,d,h,p){const y=c[wn],C=y[En].projection[d.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)$l(a,s,h,C[b],p);else{let b=C;const S=y[tn];Bl(d)&&(b.flags|=128),fy(s,a,b,S,h,p,!0)}}function lw(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function dw(s,a,c){const{mergedAttrs:d,classes:h,styles:p}=c;null!==d&&_n(s,a,d),null!==h&&lw(s,a,h),null!==p&&function F1(s,a,c){s.setAttribute(a,"style",c)}(s,a,p)}function Kh(s){return function Sg(){if(void 0===Dg&&(Dg=null,mn.trustedTypes))try{Dg=mn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Dg}()?.createHTML(s)||s}function U1(s){py=s}function Rg(s){return function Mg(){if(void 0===xg&&(xg=null,mn.trustedTypes))try{xg=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return xg}()?.createScriptURL(s)||s}class sc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}class V1 extends sc{getTypeName(){return"HTML"}}class pw extends sc{getTypeName(){return"Style"}}class Pg extends sc{getTypeName(){return"Script"}}class gw extends sc{getTypeName(){return"URL"}}class mw extends sc{getTypeName(){return"ResourceURL"}}function No(s){return s instanceof sc?s.changingThisBreaksApplicationSecurity:s}function zl(s,a){const c=function B1(s){return s instanceof sc&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Me})`)}return c===a}function Z1(s){return new V1(s)}function Og(s){return new pw(s)}function j1(s){return new Pg(s)}function q1(s){return new gw(s)}function Yh(s){return new mw(s)}class $1{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Kh(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class H1{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Kh(a),c}}const z1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $n(s){return(s=String(s)).match(z1)?s:"unsafe:"+s}function Ro(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function Wl(...s){const a={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const mi=Ro("area,br,col,hr,img,wbr"),_w=Ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yw=Ro("rp,rt"),my=Wl(mi,Wl(_w,Ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wl(yw,Ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wl(yw,_w)),Qh=Ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_y=Wl(Qh,Ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ro("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Po=Ro("script,style,template");class Y1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!my.hasOwnProperty(c))return this.sanitizedSomething=!0,!Po.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,E=y.toLowerCase();if(!_y.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=p.value;Qh[E]&&(C=$n(C)),this.buf.push(" ",y,'="',Q1(C),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();my.hasOwnProperty(c)&&!mi.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Q1(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const a2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u2=/([^\#-~ |!])/g;function Q1(s){return s.replace(/&/g,"&amp;").replace(a2,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(u2,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jh;function yy(s,a){let c=null;try{Jh=Jh||function gy(s){const a=new H1(s);return function G1(){try{return!!(new window.DOMParser).parseFromString(Kh(""),"text/html")}catch{return!1}}()?new $1(a):a}(s);let d=a?String(a):"";c=Jh.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=Jh.getInertBodyElement(d)}while(d!==p);return Kh((new Y1).sanitizeChildren(Xh(c)||c))}finally{if(c){const d=Xh(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Xh(s){return"content"in s&&function J1(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var oc=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(oc||{});function vy(s){const a=Oo();return a?a.sanitize(oc.URL,s)||"":zl(s,"URL")?No(s):$n(W(s))}function Ew(s){const a=Oo();if(a)return Rg(a.sanitize(oc.RESOURCE_URL,s)||"");if(zl(s,"ResourceURL"))return Rg(No(s));throw new K(904,!1)}function Ey(s,a,c){return function h2(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?Ew:vy}(a,c)(s)}function Oo(){const s=ge();return s&&s[nl].sanitizer}const ef=new Nt("ENVIRONMENT_INITIALIZER"),Iw=new Nt("INJECTOR",-1),ww=new Nt("INJECTOR_DEF_TYPES");class Iy{get(a,c=F){if(c===F){const d=new Error(`NullInjectorError: No provider for ${Ve(a)}!`);throw d.name="NullInjectorError",d}return c}}function wy(s){return{\u0275providers:s}}function Cw(...s){return{\u0275providers:Tw(0,s),\u0275fromNgModule:!0}}function Tw(s,...a){const c=[],d=new Set;let h;const p=y=>{c.push(y)};return xo(a,y=>{const E=y;Cy(E,p,[],d)&&(h||=[],h.push(E))}),void 0!==h&&eS(h,p),c}function eS(s,a){for(let c=0;c<s.length;c++){const{ngModule:d,providers:h}=s[c];bw(h,p=>{a(p,d)})}}function Cy(s,a,c,d){if(!(s=we(s)))return!1;let h=null,p=es(s);const y=!p&&Lt(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const C=s.ngModule;if(p=es(C),!p)return!1;h=C}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const b of C)Cy(b,a,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let b;d.add(h);try{xo(p.imports,S=>{Cy(S,a,c,d)&&(b||=[],b.push(S))})}finally{}void 0!==b&&eS(b,a)}if(!E){const b=ha(h)||(()=>new h);a({provide:h,useFactory:b,deps:Zt},h),a({provide:ww,useValue:h,multi:!0},h),a({provide:ef,useValue:()=>an(h),multi:!0},h)}const C=p.providers;if(null!=C&&!E){const b=s;bw(C,S=>{a(S,b)})}}}return h!==s&&void 0!==s.providers}function bw(s,a){for(let c of s)ce(c)&&(c=c.\u0275providers),Array.isArray(c)?bw(c,a):a(c)}const g2=ue({provide:String,useValue:ue});function Aw(s){return null!==s&&"object"==typeof s&&g2 in s}function Ki(s){return"function"==typeof s}const by=new Nt("Set Injector scope."),ac={},tS={};let Ay;function kg(){return void 0===Ay&&(Ay=new Iy),Ay}class sr{}class Yi extends sr{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lg(a,y=>this.processProvider(y)),this.records.set(Iw,st(void 0,this)),h.has("environment")&&this.records.set(sr,st(void 0,this));const p=this.records.get(by);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ww.multi,Zt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=Ln(this),d=Bt(void 0);try{return a()}finally{Ln(c),Bt(d)}}get(a,c=F,d=yt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Sp))return a[Sp](this);d=mu(d);const p=Ln(this),y=Bt(void 0);try{if(!(d&yt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const b=function Nw(s){return"function"==typeof s||"object"==typeof s&&s instanceof Nt}(a)&&Zi(a);C=b&&this.injectableDefInScope(b)?st(Fg(a),ac):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&yt.Self?kg():this.parent).get(a,c=d&yt.Optional&&c===F?null:c)}catch(E){if("NullInjectorError"===E.name){if((E[le]=E[le]||[]).unshift(Ve(a)),p)throw E;return function ih(s,a,c,d){const h=s[le];throw a[Jt]&&h.unshift(a[Jt]),s.message=function Dp(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Ve(a);if(Array.isArray(a))h=a.map(Ve).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let E=a[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):Ve(E)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(Xe,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[le]=null,s}(E,a,"R3InjectorError",this.source)}throw E}finally{Bt(y),Ln(p)}}resolveInjectorInitializers(){const a=Ln(this),c=Bt(void 0);try{const h=this.get(ef.multi,Zt,yt.Self);for(const p of h)p()}finally{Ln(a),Bt(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(Ve(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(a){let c=Ki(a=we(a))?a:we(a&&a.provide);const d=function Oa(s){return Aw(s)?st(void 0,s.useValue):st(Sw(s),ac)}(a);if(Ki(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=st(void 0,ac,!0),h.factory=()=>rh(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===ac&&(c.value=tS,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Mw(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=we(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Fg(s){const a=Zi(s),c=null!==a?a.factory:ha(s);if(null!==c)return c;if(s instanceof Nt)throw new K(204,!1);if(s instanceof Function)return function Hr(s){const a=s.length;if(a>0)throw function zu(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}(a,"?"),new K(204,!1);const c=function Hs(s){return s&&(s[Kn]||s[Ot])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new K(204,!1)}function Sw(s,a,c){let d;if(Ki(s)){const h=we(s);return ha(h)||Fg(h)}if(Aw(s))d=()=>we(s.useValue);else if(function Ty(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...rh(s.deps||[]));else if(function Dw(s){return!(!s||!s.useExisting)}(s))d=()=>an(we(s.useExisting));else{const h=we(s&&(s.useClass||s.provide));if(!function xw(s){return!!s.deps}(s))return ha(h)||Fg(h);d=()=>new h(...rh(s.deps))}return d}function st(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function Lg(s,a){for(const c of s)Array.isArray(c)?Lg(c,a):c&&ce(c)?Lg(c.\u0275providers,a):a(c)}const Dy=new Nt("AppId",{providedIn:"root",factory:()=>Rw}),Rw="ng",Sy=new Nt("Platform Initializer"),Ug=new Nt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pw=new Nt("AnimationModuleType"),Ow=new Nt("CSP nonce",{providedIn:"root",factory:()=>function Gl(){if(void 0!==py)return py;if(typeof document<"u")return document;throw new K(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rS=(s,a,c)=>null;function sf(s,a,c=!1){return rS(s,a,c)}class oS{}class Py{}class uf{resolveComponentFactory(a){throw function I2(s){const a=Error(`No component factory found for ${Ve(s)}.`);return a.ngComponent=s,a}(a)}}let uc=(()=>{class s{static#e=this.NULL=new uf}return s})();function Jl(){return so(mr(),ge())}function so(s,a){return new cc(gr(s,a))}let cc=(()=>{class s{constructor(c){this.nativeElement=c}static#e=this.__NG_ELEMENT_ID__=Jl}return s})();function uS(s){return s instanceof cc?s.nativeElement:s}class $g{}let cS=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Hg(){const s=ge(),c=ai(mr().index,s);return(Sr(c)?c:s)[mt]}()}return s})(),Vw=(()=>{class s{static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:()=>null})}return s})();class Oy{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const cf=new Oy("16.2.11"),lc={};function Kg(s,a=null,c=null,d){const h=lf(s,a,c,d);return h.resolveInjectorInitializers(),h}function lf(s,a=null,c=null,d,h=new Set){const p=[c||Zt,Cw(s)];return d=d||("object"==typeof s?void 0:Ve(s)),new Yi(p,a||kg(),d||null,h)}let Os=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=F;static#t=this.NULL=new Iy;static create(c,d){if(Array.isArray(c))return Kg({name:""},d,c,"");{const h=c.name??"";return Kg({name:h},c.parent,c.providers,h)}}static#n=this.\u0275prov=wt({token:s,providedIn:"any",factory:()=>an(Iw)});static#r=this.__NG_ELEMENT_ID__=-1}return s})();function Fy(s){return s.ngOriginalError}class Fo{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Fy(a);for(;c&&Fy(c);)c=Fy(c);return c||null}}function jw(s){return a=>{setTimeout(s,void 0,a)}}const Lo=class Uy extends o.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,p=c||(()=>null),y=d;if(a&&"object"==typeof a){const C=a;h=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=jw(p),h&&(h=jw(h)),y&&(y=jw(y)));const E=super.subscribe({next:h,error:p,complete:y});return a instanceof L.w0&&a.add(E),E}};function Yg(...s){}class Qn{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lo(!1),this.onMicrotaskEmpty=new Lo(!1),this.onStable=new Lo(!1),this.onError=new Lo(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function dS(){const s="function"==typeof mn.requestAnimationFrame;let a=mn[s?"requestAnimationFrame":"setTimeout"],c=mn[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function df(s){const a=()=>{!function pS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(mn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,hf(s),s.isCheckStableRunning=!0,qw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),hf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,y,E)=>{if(function Hw(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(E))return c.invokeTask(h,p,y,E);try{return Vy(s),c.invokeTask(h,p,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),By(s)}},onInvoke:(c,d,h,p,y,E,C)=>{try{return Vy(s),c.invoke(h,p,y,E,C)}finally{s.shouldCoalesceRunChangeDetection&&a(),By(s)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,hf(s),qw(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qn.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(Qn.isInAngularZone())throw new K(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,a,fS,Yg,Yg);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const fS={};function qw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function hf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Vy(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function By(s){s._nesting--,qw(s)}class Ua{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lo,this.onMicrotaskEmpty=new Lo,this.onStable=new Lo,this.onError=new Lo}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const gS=new Nt("",{providedIn:"root",factory:$w});function $w(){const s=Xt(Qn);let a=!0;const c=new ie.y(h=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(a),h.complete()})}),d=new ie.y(h=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{Qn.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const y=s.onUnstable.subscribe(()=>{Qn.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,se.T)(c,d.pipe((0,Re.B)()))}function Uo(s){return s instanceof Function?s():s}let jy=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:()=>new s})}return s})();function oo(s){for(;s;){s[Tt]|=64;const a=Na(s);if(Au(s)&&!a)return s;s=a}return null}const qy=new Nt("",{providedIn:"root",factory:()=>!1});let Zo=null;function $y(s,a){return s[a]??Hy()}function Qw(s,a){const c=Hy();c.producerNode?.length&&(s[a]=Zo,c.lView=s,Zo=Jw())}const jo={...R_,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{oo(s.lView)},lView:null};function Jw(){return Object.create(jo)}function Hy(){return Zo??=Jw(),Zo}const St={};function qo(s){pc(Ut(),ge(),gt()+s,!1)}function pc(s,a,c,d){if(!d)if(3==(3&a[Tt])){const p=s.preOrderCheckHooks;null!==p&&Qs(a,p,c)}else{const p=s.preOrderHooks;null!==p&&Js(a,p,0,c)}Ao(c)}function td(s,a=yt.Default){const c=ge();return null===c?an(s,a):xs(mr(),c,we(s),a)}function Gy(){throw new Error("invalid")}function zy(s,a,c,d,h,p,y,E,C,b,S){const N=a.blueprint.slice();return N[un]=h,N[Tt]=140|d,(null!==b||s&&2048&s[Tt])&&(N[Tt]|=2048),Dh(N),N[tn]=N[ss]=s,N[Sn]=c,N[nl]=y||s&&s[nl],N[mt]=E||s&&s[mt],N[jr]=C||s&&s[jr]||null,N[En]=p,N[Mi]=function y1(){return _1++}(),N[ws]=S,N[I_]=b,N[wn]=2==a.type?s[wn]:N,N}function Va(s,a,c,d,h){let p=s.data[a];if(null===p)p=function Ba(s,a,c,d,h){const p=Qp(),y=Pu(),C=s.data[a]=function tC(s,a,c,d,h,p){let y=a?a.injectorIndex:-1,E=0;return function Co(){return null!==ft.skipHydrationRootTNode}()&&(E|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,d,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C,C.prev=p)),C}(s,a,c,d,h),function G_(){return ft.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const y=function Cl(){const s=ft.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Ts(p,!0),p}function nd(s,a,c,d){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function Wy(s,a,c,d,h){const p=$y(a,zs),y=gt(),E=2&d;try{Ao(-1),E&&a.length>ht&&pc(s,a,ht,!1),Mr(E?2:0,h);const b=E?p:null,S=hl(b);try{null!==b&&(b.dirty=!1),c(d,h)}finally{Fp(b,S)}}finally{E&&null===a[zs]&&Qw(a,zs),Ao(y),Mr(E?3:1,h)}}function $o(s,a,c){if(Tu(a)){const d=xr(null);try{const p=a.directiveEnd;for(let y=a.directiveStart;y<p;y++){const E=s.data[y];E.contentQueries&&E.contentQueries(1,c[y],y)}}finally{xr(d)}}}function Ky(s,a,c){Mh()&&(function gc(s,a,c,d){const h=c.directiveStart,p=c.directiveEnd;Ws(c)&&function R(s,a,c){const d=gr(a,s),h=Xw(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const E=pf(s,zy(s,h,null,y,d,a,null,s[nl].rendererFactory.createRenderer(d,c),null,null,null));s[a.index]=E}(a,c,s.data[h+c.componentOffset]),s.firstCreatePass||ju(c,a),gi(d,a);const y=c.initialInputs;for(let E=h;E<p;E++){const C=s.data[E],b=eo(a,s,E,c);gi(b,a),null!==y&&_e(0,E-h,b,C,0,y),$i(C)&&(ai(c.index,a)[Sn]=eo(a,s,E,c))}}(s,a,c,gr(c,a)),64==(64&c.flags)&&xS(s,a,c))}function Xg(s,a,c=gr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],E=-1===y?c(a,s):s[y];s[h++]=E}}}function Xw(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=em(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function em(s,a,c,d,h,p,y,E,C,b,S){const N=ht+d,B=N+h,H=function wS(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:St);return c}(N,B),ae="function"==typeof b?b():b;return H[ze]={type:s,blueprint:H,template:c,queries:null,viewQuery:E,declTNode:a,data:H.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ae,incompleteFirstPass:!1,ssrId:S}}let Yy=s=>null;function nC(s,a,c,d){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const p=s[h];null===d?Qy(c,a,h,p):d.hasOwnProperty(h)&&Qy(c,a,d[h],p)}return c}function Qy(s,a,c,d){s.hasOwnProperty(c)?s[c].push(a,d):s[c]=[a,d]}function ps(s,a,c,d,h,p,y,E){const C=gr(a,c);let S,b=a.inputs;!E&&null!=b&&(S=b[d])?(ev(s,c,S,d,h),Ws(a)&&function N2(s,a){const c=ai(a,s);16&c[Tt]||(c[Tt]|=64)}(c,a.index)):3&a.type&&(d=function rC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,a.value||"",d):h,p.setProperty(C,d,h))}function nm(s,a,c,d){if(Mh()){const h=null===d?null:{"":-1},p=function k2(s,a){const c=s.directiveRegistry;let d=null,h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];if(Np(a,y.selectors,!1))if(d||(d=[]),$i(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),Jy(s,a,E.length)}else d.unshift(y),Jy(s,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,c);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&SS(s,a,c,y,h,E),h&&function Xy(s,a,c){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new K(-301,!1);d.push(a[h],p)}}}(c,d,h)}c.mergedAttrs=vu(c.mergedAttrs,c.attrs)}function SS(s,a,c,d,h,p){for(let b=0;b<d.length;b++)$u(ju(c,a),s,d[b].type);!function MS(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,d.length);for(let b=0;b<d.length;b++){const S=d[b];S.providersResolver&&S.providersResolver(S)}let y=!1,E=!1,C=nd(s,a,d.length,null);for(let b=0;b<d.length;b++){const S=d[b];c.mergedAttrs=vu(c.mergedAttrs,S.hostAttrs),NS(s,c,a,C,S),_i(C,S,h),null!==S.contentQueries&&(c.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(c.flags|=64);const N=S.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((s.preOrderHooks??=[]).push(c.index),y=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(c.index),E=!0),C++}!function AS(s,a,c){const h=a.directiveEnd,p=s.data,y=a.attrs,E=[];let C=null,b=null;for(let S=a.directiveStart;S<h;S++){const N=p[S],B=c?c.get(N):null,ae=B?B.outputs:null;C=nC(N.inputs,S,C,B?B.inputs:null),b=nC(N.outputs,S,b,ae);const be=null===C||null===y||ah(a)?null:RS(C,S,y);E.push(be)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=8),C.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=C,a.outputs=b}(s,c,p)}function xS(s,a,c){const d=c.directiveStart,h=c.directiveEnd,p=c.index,y=function kI(){return ft.lFrame.currentDirectiveIndex}();try{Ao(p);for(let E=d;E<h;E++){const C=s.data[E],b=a[E];Tl(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&O2(C,b)}}finally{Ao(-1),Tl(y)}}function O2(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Jy(s,a,c){a.componentOffset=c,(s.components??=[]).push(a.index)}function _i(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;$i(a)&&(c[""]=s)}}function NS(s,a,c,d,h){s.data[d]=h;const p=h.factory||(h.factory=ha(h.type)),y=new Pi(p,$i(h),td);s.blueprint[d]=y,c[d]=y,function P2(s,a,c,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~a.index;(function iC(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=E&&y.push(E),y.push(c,d,p)}}(s,a,d,nd(s,c,h.hostVars,St),h)}function gn(s,a,c,d,h,p){const y=gr(s,a);!function Gr(s,a,c,d,h,p,y){if(null==p)s.removeAttribute(a,h,c);else{const E=null==y?W(p):y(p,d||"",h);s.setAttribute(a,h,E,c)}}(a[mt],y,p,s.value,c,d,h)}function _e(s,a,c,d,h,p){const y=p[a];if(null!==y)for(let E=0;E<y.length;)sC(d,c,y[E++],y[E++],y[E++])}function sC(s,a,c,d,h){const p=xr(null);try{const y=s.inputTransforms;null!==y&&y.hasOwnProperty(d)&&(h=y[d].call(a,h)),null!==s.setInput?s.setInput(a,h,c,d):a[d]=h}finally{xr(p)}}function RS(s,a,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let E=0;E<y.length;E+=2)if(y[E]===a){d.push(p,y[E+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function oC(s,a,c,d){return[s,!0,!1,a,null,0,d,c,null,null,null]}function rm(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d+1];if(-1!==p){const y=s.data[p];Rh(c[d]),y.contentQueries(2,a[p],p)}}}function pf(s,a){return s[xi]?s[Eo][Si]=a:s[xi]=a,s[Eo]=a,a}function Ho(s,a,c){Rh(0);const d=xr(null);try{a(s,c)}finally{xr(d)}}function aC(s){return s[da]||(s[da]=[])}function uC(s){return s.cleanup||(s.cleanup=[])}function lC(s,a){const c=s[jr],d=c?c.get(Fo,null):null;d&&d.handleError(a)}function ev(s,a,c,d,h){for(let p=0;p<c.length;){const y=c[p++],E=c[p++];sC(s.data[y],a[y],d,E,h)}}function Go(s,a,c){const d=Mu(a,s);!function Hl(s,a,c){s.setValue(a,c)}(s[mt],d,c)}function PS(s,a){const c=ai(a,s),d=c[ze];!function OS(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])}(d,c);const h=c[un];null!==h&&null===c[ws]&&(c[ws]=sf(h,c[jr])),tv(d,c,c[Sn])}function tv(s,a,c){rr(a);try{const d=s.viewQuery;null!==d&&Ho(1,d,c);const h=s.template;null!==h&&Wy(s,a,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&rm(s,a),s.staticViewQueries&&Ho(2,s.viewQuery,c);const p=s.components;null!==p&&function kS(s,a){for(let c=0;c<a.length;c++)PS(s,a[c])}(a,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[Tt]&=-5,Dl()}}let dC=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(c,d,h){const p=typeof Zone>"u"?null:Zone.current,y=function V_(s,a,c){const d=Object.create(vl);c&&(d.consumerAllowSignalWrites=!0),d.fn=s,d.schedule=a;const h=y=>{d.cleanupFn=y};return d.ref={notify:()=>k_(d),run:()=>{if(d.dirty=!1,d.hasRun&&!fl(d))return;d.hasRun=!0;const y=hl(d);try{d.cleanupFn(),d.cleanupFn=wh,d.fn(h)}finally{Fp(d,y)}},cleanup:()=>d.cleanupFn()},d.ref}(c,b=>{this.all.has(b)&&this.queue.set(b,p)},h);let E;this.all.add(y),y.notify();const C=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=d?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:()=>new s})}return s})();function im(s,a,c){let d=c?s.styles:null,h=c?s.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?p=E:1==p?h=xe(h,E):2==p&&(d=xe(d,E+": "+a[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function gf(s,a,c,d,h=!1){for(;null!==c;){const p=a[c.index];null!==p&&d.push(sn(p)),Yn(p)&&hC(p,d);const y=c.type;if(8&y)gf(s,a,c.child,d);else if(32&y){const E=sy(c,a);let C;for(;C=E();)d.push(C)}else if(16&y){const E=uw(a,c);if(Array.isArray(E))d.push(...E);else{const C=Na(a[wn]);gf(C[ze],C,E,d,!0)}}c=h?c.projectionNext:c.next}return d}function hC(s,a){for(let c=Bn;c<s.length;c++){const d=s[c],h=d[ze].firstChild;null!==h&&gf(d[ze],d,h,a)}s[Ni]!==s[un]&&a.push(s[Ni])}function sm(s,a,c,d=!0){const h=a[nl],p=h.rendererFactory,y=h.afterRenderEventManager;p.begin?.(),y?.begin();try{fC(s,a,s.template,c)}catch(C){throw d&&lC(a,C),C}finally{p.end?.(),h.effectManager?.flush(),y?.end()}}function fC(s,a,c,d){const h=a[Tt];if(256!=(256&h)){a[nl].effectManager?.flush(),rr(a);try{Dh(a),function Nh(s){return ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Wy(s,a,c,2,d);const y=3==(3&h);if(y){const b=s.preOrderCheckHooks;null!==b&&Qs(a,b,null)}else{const b=s.preOrderHooks;null!==b&&Js(a,b,0,null),Lu(a,0)}if(function US(s){for(let a=Xu(s);null!==a;a=ql(a)){if(!a[il])continue;const c=a[wo];for(let d=0;d<c.length;d++){j_(c[d])}}}(a),pC(a,2),null!==s.contentQueries&&rm(s,a),y){const b=s.contentCheckHooks;null!==b&&Qs(a,b)}else{const b=s.contentHooks;null!==b&&Js(a,b,1),Lu(a,1)}!function IS(s,a){const c=s.hostBindingOpCodes;if(null===c)return;const d=$y(a,os);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Ao(~p);else{const y=p,E=c[++h],C=c[++h];OI(E,y),d.dirty=!1;const b=hl(d);try{C(2,a[y])}finally{Fp(d,b)}}}}finally{null===a[os]&&Qw(a,os),Ao(-1)}}(s,a);const E=s.components;null!==E&&mC(a,E,0);const C=s.viewQuery;if(null!==C&&Ho(2,C,d),y){const b=s.viewCheckHooks;null!==b&&Qs(a,b)}else{const b=s.viewHooks;null!==b&&Js(a,b,2),Lu(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Tt]&=-73,Il(a)}finally{Dl()}}}function pC(s,a){for(let c=Xu(s);null!==c;c=ql(c))for(let d=Bn;d<c.length;d++)gC(c[d],a)}function VS(s,a,c){gC(ai(a,s),c)}function gC(s,a){if(!function RI(s){return 128==(128&s[Tt])}(s))return;const c=s[ze],d=s[Tt];if(80&d&&0===a||1024&d||2===a)fC(c,s,c.template,s[Sn]);else if(s[vo]>0){pC(s,1);const h=c.components;null!==h&&mC(s,h,1)}}function mC(s,a,c){for(let d=0;d<a.length;d++)VS(s,a[d],c)}class Za{get rootNodes(){const a=this._lView,c=a[ze];return gf(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(a){this._lView[Sn]=a}get destroyed(){return 256==(256&this._lView[Tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[tn];if(Yn(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(ec(a,d),Ul(c,d))}this._attachedToViewContainer=!1}Pa(this._lView[ze],this._lView)}onDestroy(a){!function Sh(s,a){if(256==(256&s[Tt]))throw new K(911,!1);null===s[qi]&&(s[qi]=[]),s[qi].push(a)}(this._lView,a)}markForCheck(){oo(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tt]&=-129}reattach(){this._lView[Tt]|=128}detectChanges(){sm(this._lView[ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function A1(s,a){zh(s,a,a[mt],2,null,null)}(this._lView[ze],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=a}}class BS extends Za{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;sm(a[ze],a,a[Sn],!1)}checkNoChanges(){}get context(){return null}}class ja extends uc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Lt(a);return new _r(c,this.ngModule)}}function mf(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class U2{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=mu(d);const h=this.injector.get(a,lc,d);return h!==lc||c===lc?h:this.parentInjector.get(a,c,d)}}class _r extends Py{get inputs(){const a=this.componentDef,c=a.inputTransforms,d=mf(a.inputs);if(null!==c)for(const h of d)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return d}get outputs(){return mf(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function ch(s){return s.map(Yc).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let p=(h=h||this.ngModule)instanceof sr?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new U2(a,p):a,E=y.get($g,null);if(null===E)throw new K(407,!1);const N={rendererFactory:E,sanitizer:y.get(Vw,null),effectManager:y.get(dC,null),afterRenderEventManager:y.get(jy,null)},B=E.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",ae=d?function CS(s,a,c,d){const p=d.get(qy,!1)||c===Es.ShadowDom,y=s.selectRootElement(a,p);return function tm(s){Yy(s)}(y),y}(B,d,this.componentDef.encapsulation,y):Cg(B,H,function ZS(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(H)),tt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let me=null;null!==ae&&(me=sf(ae,y,!0));const Et=em(0,null,null,1,0,null,null,null,null,null,null),Rt=zy(null,Et,null,tt,null,null,N,B,y,null,me);let $t,Er;rr(Rt);try{const Us=this.componentDef;let Nc,J4=null;Us.findHostDirectiveDefs?(Nc=[],J4=new Map,Us.findHostDirectiveDefs(Us,Nc,J4),Nc.push(Us)):Nc=[Us];const A0=function V2(s,a){const c=s[ze],d=ht;return s[d]=a,Va(c,d,2,"#host",null)}(Rt,ae),X4=function B2(s,a,c,d,h,p,y){const E=h[ze];!function jS(s,a,c,d){for(const h of s)a.mergedAttrs=vu(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(im(a,a.mergedAttrs,!0),null!==c&&dw(d,c,a))}(d,s,a,y);let C=null;null!==a&&(C=sf(a,h[jr]));const b=p.rendererFactory.createRenderer(a,c);let S=16;c.signals?S=4096:c.onPush&&(S=64);const N=zy(h,Xw(c),null,S,h[s.index],s,p,b,null,null,C);return E.firstCreatePass&&Jy(E,s,d.length-1),pf(h,N),h[s.index]=N}(A0,ae,Us,Nc,Rt,N,B);Er=Nu(Et,ht),ae&&function qS(s,a,c,d){if(d)_n(s,c,["ng-version",cf.full]);else{const{attrs:h,classes:p}=function v_(s){const a=[],c=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++d]):8===h&&c.push(p);else{if(!si(h))break;h=p}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&_n(s,c,h),p&&p.length>0&&lw(s,c,p.join(" "))}}(B,Us,ae,d),void 0!==c&&function rd(s,a,c){const d=s.projection=[];for(let h=0;h<a.length;h++){const p=c[h];d.push(null!=p?Array.from(p):null)}}(Er,this.ngContentSelectors,c),$t=function zo(s,a,c,d,h,p){const y=mr(),E=h[ze],C=gr(y,h);SS(E,h,y,c,null,d);for(let S=0;S<c.length;S++)gi(eo(h,E,y.directiveStart+S,y),h);xS(E,h,y),C&&gi(C,h);const b=eo(h,E,y.directiveStart+y.componentOffset,y);if(s[Sn]=h[Sn]=b,null!==p)for(const S of p)S(b,a);return $o(E,y,s),b}(X4,Us,Nc,J4,Rt,[_C]),tv(Et,Rt,null)}finally{Dl()}return new _f(this.componentType,$t,so(Er,Rt),Rt,Er)}}class _f extends oS{constructor(a,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new BS(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const p=this._rootLView;ev(p[ze],p,h,a,c),this.previousInputValues.set(a,c),oo(ai(this._tNode.index,p))}}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function _C(){const s=mr();Ds(ge()[ze],s)}function vC(s){let a=function yC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let h;if($i(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new K(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const y=s;y.inputs=id(s.inputs),y.inputTransforms=id(s.inputTransforms),y.declaredInputs=id(s.declaredInputs),y.outputs=id(s.outputs);const E=h.hostBindings;E&&q2(s,E);const C=h.viewQuery,b=h.contentQueries;if(C&&yi(s,C),b&&j2(s,b),Ye(s.inputs,h.inputs),Ye(s.declaredInputs,h.declaredInputs),Ye(s.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),Ye(y.inputTransforms,h.inputTransforms)),$i(h)&&h.data.animation){const S=s.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(s),E===vC&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Z2(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=vu(h.hostAttrs,c=vu(c,h.hostAttrs))}}(d)}function id(s){return s===Ai?{}:s===Zt?[]:s}function yi(s,a){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function j2(s,a){const c=s.contentQueries;s.contentQueries=c?(d,h,p)=>{a(d,h,p),c(d,h,p)}:a}function q2(s,a){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function sv(s){const a=s.inputConfig,c={};for(const d in a)if(a.hasOwnProperty(d)){const h=a[d];Array.isArray(h)&&h[2]&&(c[d]=h[2])}s.inputTransforms=c}function am(s){return!!ov(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function ov(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ks(s,a,c){return s[a]=c}function zr(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function qa(s,a,c,d){const h=zr(s,a,c);return zr(s,a+1,d)||h}function av(s,a,c,d){const h=ge();return zr(h,ku(),a)&&(Ut(),gn(vn(),h,s,a,c,d)),av}function $a(s,a,c,d){return zr(s,ku(),c)?a+W(c)+d:St}function Ha(s,a,c,d,h,p,y,E){const b=function Ef(s,a,c,d,h){const p=qa(s,a,c,d);return zr(s,a+2,h)||p}(s,function us(){return ft.lFrame.bindingIndex}(),c,h,y);return Ys(3),b?a+W(c)+d+W(h)+p+W(y)+E:St}function hv(s,a,c,d,h,p,y,E){const C=ge(),b=Ut(),S=s+ht,N=b.firstCreatePass?function o3(s,a,c,d,h,p,y,E,C){const b=a.consts,S=Va(a,s,4,y||null,Cs(b,E));nm(a,c,S,Cs(b,C)),Ds(a,S);const N=S.tView=em(2,S,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,b,null);return null!==a.queries&&(a.queries.template(a,S),N.queries=a.queries.embeddedTView(S)),S}(S,b,C,a,c,d,h,p,y):b.data[S];Ts(N,!1);const B=RC(b,C,N,s);Ea()&&Ag(b,C,B,N),gi(B,C),pf(C,C[S]=oC(B,C,B,N)),bu(N)&&Ky(b,C,N),null!=y&&Xg(C,N,E)}let RC=function Ka(s,a,c,d){return As(!0),a[mt].createComment("")};function kC(s){return ma(function PI(){return ft.lFrame.contextLView}(),ht+s)}function Yo(s,a,c){const d=ge();return zr(d,ku(),a)&&ps(Ut(),vn(),d,s,a,d[mt],c,!1),Yo}function If(s,a,c,d,h){const y=h?"class":"style";ev(s,c,a.inputs[y],y,d)}function Ec(s,a,c,d){const h=ge(),p=Ut(),y=ht+s,E=h[mt],C=p.firstCreatePass?function fv(s,a,c,d,h,p){const y=a.consts,C=Va(a,s,2,d,Cs(y,h));return nm(a,c,C,Cs(y,p)),null!==C.attrs&&im(C,C.attrs,!1),null!==C.mergedAttrs&&im(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(y,p,h,a,c,d):p.data[y],b=_m(p,h,C,E,a,s);h[y]=b;const S=bu(C);return Ts(C,!0),dw(E,b,C),32!=(32&C.flags)&&Ea()&&Ag(p,h,b,C),0===function ya(){return ft.lFrame.elementDepthCount}()&&gi(b,h),function xh(){ft.lFrame.elementDepthCount++}(),S&&(Ky(p,h,C),$o(p,C,h)),null!==d&&Xg(h,C),Ec}function dd(){let s=mr();Pu()?Jp():(s=s.parent,Ts(s,!1));const a=s;(function wl(s){return ft.skipHydrationRootTNode===s})(a)&&function $_(){ft.skipHydrationRootTNode=null}(),function q_(){ft.lFrame.elementDepthCount--}();const c=Ut();return c.firstCreatePass&&(Ds(c,s),Tu(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function cs(s){return 0!=(8&s.flags)}(a)&&If(c,a,ge(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function xn(s){return 0!=(16&s.flags)}(a)&&If(c,a,ge(),a.stylesWithoutHost,!1),dd}function wf(s,a,c,d){return Ec(s,a,c,d),dd(),wf}let _m=(s,a,c,d,h,p)=>(As(!0),Cg(d,h,function xl(){return ft.lFrame.currentNamespace}()));function hd(s,a,c){const d=ge(),h=Ut(),p=s+ht,y=h.firstCreatePass?function gv(s,a,c,d,h){const p=a.consts,y=Cs(p,d),E=Va(a,s,8,"ng-container",y);return null!==y&&im(E,y,!0),nm(a,c,E,Cs(p,h)),null!==a.queries&&a.queries.elementStart(a,E),E}(p,h,d,a,c):h.data[p];Ts(y,!0);const E=LC(h,d,y,s);return d[p]=E,Ea()&&Ag(h,d,E,y),gi(E,d),bu(y)&&(Ky(h,d,y),$o(h,y,d)),null!=c&&Xg(d,y),hd}function ym(){let s=mr();const a=Ut();return Pu()?Jp():(s=s.parent,Ts(s,!1)),a.firstCreatePass&&(Ds(a,s),Tu(s)&&a.queries.elementEnd(s)),ym}let LC=(s,a,c,d)=>(As(!0),oy(a[mt],""));function vm(){return ge()}function Em(s){return!!s&&"function"==typeof s.then}function _v(s){return!!s&&"function"==typeof s.subscribe}function yv(s,a,c,d){const h=ge(),p=Ut(),y=mr();return function VC(s,a,c,d,h,p,y){const E=bu(d),b=s.firstCreatePass&&uC(s),S=a[Sn],N=aC(a);let B=!0;if(3&d.type||y){const be=gr(d,a),je=y?y(be):be,tt=N.length,me=y?Rt=>y(sn(Rt[d.index])):d.index;let Et=null;if(!y&&E&&(Et=function vv(s,a,c,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===d){const E=a[da],C=h[p+2];return E.length>C?E[C]:null}"string"==typeof y&&(p+=2)}return null}(s,a,h,d.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,B=!1;else{p=wm(d,a,S,p,!1);const Rt=c.listen(je,h,p);N.push(p,Rt),b&&b.push(h,me,tt,tt+1)}}else p=wm(d,a,S,p,!1);const H=d.outputs;let ae;if(B&&null!==H&&(ae=H[h])){const be=ae.length;if(be)for(let je=0;je<be;je+=2){const $t=a[ae[je]][ae[je+1]].subscribe(p),Er=N.length;N.push(p,$t),b&&b.push(h,d.index,Er,-(Er+1))}}}(p,h,h[mt],y,s,a,d),yv}function Im(s,a,c,d){try{return Mr(6,a,c),!1!==c(d)}catch(h){return lC(s,h),!1}finally{Mr(7,a,c)}}function wm(s,a,c,d,h){return function p(y){if(y===Function)return d;oo(s.componentOffset>-1?ai(s.index,a):a);let C=Im(a,c,d,y),b=p.__ngNextListenerFn__;for(;b;)C=Im(a,c,b,y)&&C,b=b.__ngNextListenerFn__;return h&&!1===C&&y.preventDefault(),C}}function BC(s=1){return function To(s){return(ft.lFrame.contextLView=function bo(s,a){for(;s>0;)a=a[ss],s--;return a}(s,ft.lFrame.contextLView))[Sn]}(s)}function Tf(s,a,c){return Cm(s,"",a,"",c),Tf}function Cm(s,a,c,d,h){const p=ge(),y=$a(p,a,c,d);return y!==St&&ps(Ut(),vn(),p,s,y,p[mt],h,!1),Cm}function Am(s,a){return s<<17|a<<2}function ao(s){return s>>17&32767}function wv(s){return 2|s}function fd(s){return(131068&s)>>2}function bf(s,a){return-131069&s|a<<2}function WC(s){return 1|s}function QC(s,a,c,d,h){const p=s[c+1],y=null===a;let E=d?ao(p):fd(p),C=!1;for(;0!==E&&(!1===C||y);){const S=s[E+1];h3(s[E],a)&&(C=!0,s[E+1]=d?WC(S):wv(S)),E=d?ao(S):fd(S)}C&&(s[c+1]=d?wv(p):WC(p))}function h3(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&I(s,a)>=0}function bv(s,a){return function co(s,a,c,d){const h=ge(),p=Ut(),y=Ys(2);p.firstUpdatePass&&function _3(s,a,c,d){const h=s.data;if(null===h[c+1]){const p=h[gt()],y=function Af(s,a){return a>=s.expandoStartIndex}(s,c);(function rT(s,a){return 0!=(s.flags&(a?8:16))})(p,d)&&null===a&&!y&&(a=!1),a=function y3(s,a,c,d){const h=function nr(s){const a=ft.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=Df(c=Dv(null,s,a,c,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(c=Dv(h,s,a,c,d),null===p){let C=function v3(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==fd(d))return s[ao(d)]}(s,a,d);void 0!==C&&Array.isArray(C)&&(C=Dv(null,s,a,C[1],d),C=Df(C,a.attrs,d),function E3(s,a,c,d){s[ao(c?a.classBindings:a.styleBindings)]=d}(s,a,d,C))}else p=function I3(s,a,c){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=Df(d,s[p].hostAttrs,c);return Df(d,a.attrs,c)}(s,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,d),function YC(s,a,c,d,h,p){let y=p?a.classBindings:a.styleBindings,E=ao(y),C=fd(y);s[d]=c;let S,b=!1;if(Array.isArray(c)?(S=c[1],(null===S||I(c,S)>0)&&(b=!0)):S=c,h)if(0!==C){const B=ao(s[E+1]);s[d+1]=Am(B,E),0!==B&&(s[B+1]=bf(s[B+1],d)),s[E+1]=function Iv(s,a){return 131071&s|a<<17}(s[E+1],d)}else s[d+1]=Am(E,0),0!==E&&(s[E+1]=bf(s[E+1],d)),E=d;else s[d+1]=Am(C,0),0===E?E=d:s[C+1]=bf(s[C+1],d),C=d;b&&(s[d+1]=wv(s[d+1])),QC(s,S,d,!0),QC(s,S,d,!1),function d3(s,a,c,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&I(p,a)>=0&&(c[d+1]=WC(c[d+1]))}(a,S,s,d,p),y=Am(E,C),p?a.classBindings=y:a.styleBindings=y}(h,p,a,c,y,d)}}(p,s,y,d),a!==St&&zr(h,y,a)&&function Sf(s,a,c,d,h,p,y,E){if(!(3&a.type))return;const C=s.data,b=C[E+1],S=function z2(s){return 1==(1&s)}(b)?Ya(C,a,c,h,fd(b),y):void 0;xm(S)||(xm(p)||function l3(s){return 2==(2&s)}(b)&&(p=Ya(C,null,c,h,E,y)),function k1(s,a,c,d,h){if(a)h?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:jl.DashCase;null==h?s.removeStyle(c,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=jl.Important),s.setStyle(c,d,h,p))}}(d,y,Mu(gt(),c),h,p))}(p,p.data[gt()],h,h[mt],s,h[y+1]=function b3(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Ve(No(s)))),s}(a,c),d,y)}(s,a,null,!0),bv}function Dv(s,a,c,d,h){let p=null;const y=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<y&&(p=a[E],d=Df(d,p.hostAttrs,h),p!==s);)E++;return null!==s&&(c.directiveStylingLast=E),d}function Df(s,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),di(s,y,!!c||a[++p]))}return void 0===s?null:s}function Ya(s,a,c,d,h,p){const y=null===a;let E;for(;h>0;){const C=s[h],b=Array.isArray(C),S=b?C[1]:C,N=null===S;let B=c[h+1];B===St&&(B=N?Zt:void 0);let H=N?no(B,d):S===d?B:void 0;if(b&&!xm(H)&&(H=no(C,d)),xm(H)&&(E=H,y))return E;const ae=s[h+1];h=y?ao(ae):fd(ae)}if(null!==a){let C=p?a.residualClasses:a.residualStyles;null!=C&&(E=no(C,d))}return E}function xm(s){return void 0!==s}function iT(s,a=""){const c=ge(),d=Ut(),h=s+ht,p=d.firstCreatePass?Va(d,h,1,a,null):d.data[h],y=sT(d,c,p,a,s);c[h]=y,Ea()&&Ag(d,c,y,p),Ts(p,!1)}let sT=(s,a,c,d,h)=>(As(!0),function Ra(s,a){return s.createText(a)}(a[mt],d));function xf(s){return Mm("",s,""),xf}function Mm(s,a,c){const d=ge(),h=$a(d,s,a,c);return h!==St&&Go(d,gt(),h),Mm}function Sv(s,a,c,d,h,p,y){const E=ge(),C=Ha(E,s,a,c,d,h,p,y);return C!==St&&Go(E,gt(),C),Sv}const Xo=void 0;var yT=["en",[["a","p"],["AM","PM"],Xo],[["AM","PM"],Xo,Xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xo,"{1} 'at' {0}",Xo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function k3(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let gd={};function Bv(s){const a=function wT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Qa(a);if(c)return c;const d=a.split("-")[0];if(c=Qa(d),c)return c;if("en"===d)return yT;throw new K(701,!1)}function ET(s){return Bv(s)[Ja.PluralCase]}function Qa(s){return s in gd||(gd[s]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[s]),gd[s]}var Ja=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Ja||{});const Xa="en-US";let CT=Xa;function e4(s,a,c,d,h){if(s=we(s),Array.isArray(s))for(let p=0;p<s.length;p++)e4(s[p],a,c,d,h);else{const p=Ut(),y=ge(),E=mr();let C=Ki(s)?s:we(s.provide);const b=Sw(s),S=1048575&E.providerIndexes,N=E.directiveStart,B=E.providerIndexes>>20;if(Ki(s)||!s.multi){const H=new Pi(b,h,td),ae=Of(C,a,h?S:S+B,N);-1===ae?($u(ju(E,y),p,C),Pf(p,s,a.length),a.push(C),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(H),y.push(H)):(c[ae]=H,y[ae]=H)}else{const H=Of(C,a,S+B,N),ae=Of(C,a,S,S+B),je=ae>=0&&c[ae];if(h&&!je||!h&&!(H>=0&&c[H])){$u(ju(E,y),p,C);const tt=function dx(s,a,c,d,h){const p=new Pi(s,c,td);return p.multi=[],p.index=a,p.componentProviders=0,WT(p,h,d&&!c),p}(h?t4:KT,c.length,h,d,b);!h&&je&&(c[ae].providerFactory=tt),Pf(p,s,a.length,0),a.push(C),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(tt),y.push(tt)}else Pf(p,s,H>-1?H:ae,WT(c[h?ae:H],b,!h&&d));!h&&d&&je&&c[ae].componentProviders++}}}function Pf(s,a,c,d){const h=Ki(a),p=function ro(s){return!!s.useClass}(a);if(h||p){const C=(p?we(a.useClass):a).prototype.ngOnDestroy;if(C){const b=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const S=b.indexOf(c);-1===S?b.push(c,[d,C]):b[S+1].push(d,C)}else b.push(c,C)}}}function WT(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function Of(s,a,c,d){for(let h=c;h<d;h++)if(a[h]===s)return h;return-1}function KT(s,a,c,d){return n4(this.multi,[])}function t4(s,a,c,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=eo(c,c[ze],this.providerFactory.index,d);p=E.slice(0,y),n4(h,p);for(let C=y;C<E.length;C++)p.push(E[C])}else p=[],n4(h,p);return p}function n4(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function YT(s,a=[]){return c=>{c.providersResolver=(d,h)=>function lx(s,a,c){const d=Ut();if(d.firstCreatePass){const h=$i(s);e4(c,d.data,d.blueprint,h,!0),e4(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class ea{}class QT{}function r4(s,a){return new kf(s,a??null,[])}class kf extends ea{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ja(this);const h=Dr(a);this._bootstrapComponents=Uo(h.bootstrap),this._r3Injector=lf(a,c,[{provide:ea,useValue:this},{provide:uc,useValue:this.componentFactoryResolver},...d],Ve(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class i4 extends QT{constructor(a){super(),this.moduleType=a}create(a){return new kf(this.moduleType,a,[])}}class JT extends ea{constructor(a){super(),this.componentFactoryResolver=new ja(this),this.instance=null;const c=new Yi([...a.providers,{provide:ea,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],a.parent||kg(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function jm(s,a,c=null){return new JT({providers:s,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let hx=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=Tw(0,c.type),h=d.length>0?jm([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=wt({token:s,providedIn:"environment",factory:()=>new s(an(sr))})}return s})();function qm(s){s.getStandaloneInjector=a=>a.get(hx).getOrCreateStandaloneInjector(s)}function mx(s,a,c,d){return Ix(ge(),Nr(),s,a,c,d)}function Tc(s,a){const c=s[a];return c===St?void 0:c}function Ix(s,a,c,d,h,p){const y=a+c;return zr(s,y,h)?ks(s,y+1,p?d.call(p,h):d(h)):Tc(s,y+1)}function bx(s,a){const c=Ut();let d;const h=s+ht;c.firstCreatePass?(d=function rb(s,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(s===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks??=[]).push(h,d.onDestroy)):d=c.data[h];const p=d.factory||(d.factory=ha(d.type)),E=Bt(td);try{const C=li(!1),b=p();return li(C),function a3(s,a,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=d}(c,ge(),h,b),b}finally{Bt(E)}}function ib(s,a,c){const d=s+ht,h=ge(),p=ma(h,d);return bc(h,d)?Ix(h,Nr(),a,p.transform,c,p):p.transform(c)}function Ff(s,a,c,d){const h=s+ht,p=ge(),y=ma(p,h);return bc(p,h)?function wx(s,a,c,d,h,p,y){const E=a+c;return qa(s,E,h,p)?ks(s,E+2,y?d.call(y,h,p):d(h,p)):Tc(s,E+2)}(p,Nr(),a,y.transform,c,d,y):y.transform(c,d)}function bc(s,a){return s[ze].data[a].pure}function Lf(){return this._results[Symbol.iterator]()}class zm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Lo)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=zm.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=Lf)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function Pr(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ll(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=a[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function uF(s,a,c,d=!0){const h=a[ze];if(function s2(s,a,c,d){const h=Bn+d,p=c.length;d>0&&(c[h-1][Si]=a),d<p-Bn?(a[Si]=c[h],Zh(c,Bn+d,a)):(c.push(a),a[Si]=null),a[tn]=c;const y=a[rl];null!==y&&c!==y&&function S1(s,a){const c=s[wo];a[wn]!==a[tn][tn][wn]&&(s[il]=!0),null===c?s[wo]=[a]:c.push(a)}(y,a);const E=a[Is];null!==E&&E.insertView(s),a[Tt]|=128}(h,a,s,c),d){const p=Hh(c,s),y=a[mt],E=Tg(y,s[Ni]);null!==E&&function b1(s,a,c,d,h,p){d[un]=h,d[En]=a,zh(s,d,c,1,h,p)}(h,s[En],y,a,E,p)}}let Wm=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Km}return s})();const Uf=Wm,Ed=class extends Uf{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,d){const h=function xx(s,a,c,d){const h=a.tView,E=zy(s,h,c,4096&s[Tt]?4096:16,null,a,null,null,null,d?.injector??null,d?.hydrationInfo??null);E[rl]=s[a.index];const b=s[Is];return null!==b&&(E[Is]=b.createEmbeddedView(h)),tv(h,E,c),E}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:d});return new Za(h)}};function Km(){return Id(mr(),ge())}function Id(s,a){return 4&s.type?new Ed(a,s,so(s,a)):null}let Cd=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Td}return s})();function Td(){return ub(mr(),ge())}const ob=Cd,ab=class extends ob{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return so(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){const a=qu(this._hostTNode,this._hostLView);if(qr(a)){const c=Xs(a,this._hostLView),d=jn(a);return new Rr(c[ze].data[d+8],c)}return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Xm(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Bn}createEmbeddedView(a,c,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const E=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(E,h,false),E}createComponent(a,c,d,h,p){const y=a&&!function So(s){return"function"==typeof s}(a);let E;if(y)E=c;else{const be=c||{};E=be.index,d=be.injector,h=be.projectableNodes,p=be.environmentInjector||be.ngModuleRef}const C=y?a:new _r(Lt(a)),b=d||this.parentInjector;if(!p&&null==C.ngModule){const je=(y?b:this.parentInjector).get(sr,null);je&&(p=je)}Lt(C.componentType??{});const H=C.create(b,h,null,p);return this.insertImpl(H.hostView,E,false),H}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const h=a._lView;if(function Zn(s){return Yn(s[tn])}(h)){const C=this.indexOf(a);if(-1!==C)this.detach(C);else{const b=h[tn],S=new ab(b,b[En],b[tn]);S.detach(S.indexOf(a))}}const y=this._adjustIndex(c),E=this._lContainer;return uF(E,h,y,!d),a.attachToViewContainerRef(),Zh(na(E),y,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Xm(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=ec(this._lContainer,c);d&&(Ul(na(this._lContainer),c),Pa(d[ze],d))}detach(a){const c=this._adjustIndex(a,-1),d=ec(this._lContainer,c);return d&&null!=Ul(na(this._lContainer),c)?new Za(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function Xm(s){return s[8]}function na(s){return s[8]||(s[8]=[])}function ub(s,a){let c;const d=a[s.index];return Yn(d)?c=d:(c=oC(d,a,null,s),a[s.index]=c,pf(a,c)),Nx(c,a,s,d),new ab(c,s,a)}let Nx=function Rx(s,a,c,d){if(s[Ni])return;let h;h=8&c.type?sn(d):function Ac(s,a){const c=s[mt],d=c.createComment(""),h=gr(a,s);return tc(c,Tg(c,h),d,function bg(s,a){return s.nextSibling(a)}(c,h),!1),d}(a,c),s[Ni]=h};class _4{constructor(a){this.queryList=a,this.matches=null}clone(){return new _4(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qi{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Qi(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==jx(a,c).matches&&this.queries[c].setDirty()}}class Dc{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class e0{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new e0(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class lb{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new lb(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,c,Ox(c,p)),this.matchTNodeWithReadOption(a,c,$r(c,a,p,!1,!1))}else d===Wm?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,$r(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===cc||h===Cd||h===Wm&&4&c.type)this.addMatch(c.index,-2);else{const p=$r(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Ox(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function kx(s,a,c,d){return-1===c?function y4(s,a){return 11&s.type?so(s,a):4&s.type?Id(s,a):null}(a,s):-2===c?function Fx(s,a,c){return c===cc?so(a,s):c===Wm?Id(a,s):c===Cd?ub(a,s):void 0}(s,a,d):eo(s,s[ze],c,a)}function db(s,a,c,d){const h=a[Is].queries[d];if(null===h.matches){const p=s.data,y=c.matches,E=[];for(let C=0;C<y.length;C+=2){const b=y[C];E.push(b<0?null:kx(a,p[b],y[C+1],c.metadata.read))}h.matches=E}return h.matches}function v4(s,a,c,d){const h=s.queries.getByIndex(c),p=h.matches;if(null!==p){const y=db(s,a,h,c);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)d.push(y[E/2]);else{const b=p[E+1],S=a[-C];for(let N=Bn;N<S.length;N++){const B=S[N];B[rl]===B[tn]&&v4(B[ze],B,b,d)}if(null!==S[wo]){const N=S[wo];for(let B=0;B<N.length;B++){const H=N[B];v4(H[ze],H,b,d)}}}}}return d}function hb(s){const a=ge(),c=Ut(),d=bs();Rh(d+1);const h=jx(c,d);if(s.dirty&&function Ru(s){return 4==(4&s[Tt])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?v4(c,a,d,[]):db(c,a,h,d);s.reset(p,uS),s.notifyOnChanges()}return!0}return!1}function Lx(s,a,c,d){const h=Ut();if(h.firstCreatePass){const p=mr();(function Zx(s,a,c){null===s.queries&&(s.queries=new e0),s.queries.track(new lb(a,c))})(h,new Dc(a,c,d),p.index),function fF(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}!function Bx(s,a,c){const d=new zm(4==(4&c));(function bS(s,a,c,d){const h=aC(a);h.push(c),s.firstCreatePass&&uC(s).push(d,h.length-1)})(s,a,d,d.destroy),null===a[Is]&&(a[Is]=new Qi),a[Is].queries.push(new _4(d))}(h,ge(),c)}function Ux(){return function Vx(s,a){return s[Is].queries[a].queryList}(ge(),bs())}function jx(s,a){return s.queries.getByIndex(a)}function E4(s,a){return Id(s,a)}function fb(s){return!!Dr(s)}const n0=new Nt("Application Initializer");let r0=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=Xt(n0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const p=h();if(Em(p))c.push(p);else if(_v(p)){const y=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});c.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),yb=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const s0=new Nt("LocaleId",{providedIn:"root",factory:()=>Xt(s0,yt.Optional|yt.SkipSelf)||function Nn(){return typeof $localize<"u"&&$localize.locale||Xa}()}),o0=new Nt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Eb=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class Ib{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let oM=(()=>{class s{compileModuleSync(c){return new i4(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=Uo(Dr(c).declarations).reduce((y,E)=>{const C=Lt(E);return C&&y.push(new _r(C)),y},[]);return new Ib(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const l0=new Nt(""),Ab=new Nt("");let jf,M4=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jf||(function N4(s){jf=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}static#e=this.\u0275fac=function(d){return new(d||s)(an(Qn),an(d0),an(Ab))};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac})}return s})(),d0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return jf?.findTestabilityInTree(this,c,d)??null}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),eu=null;const Db=new Nt("AllowMultipleToken"),R4=new Nt("PlatformDestroyListeners"),Ad=new Nt("appBootstrapListener");class k4{constructor(a,c){this.name=a,this.token=c}}function L4(s,a,c=[]){const d=`Platform: ${a}`,h=new Nt(d);return(p=[])=>{let y=U4();if(!y||y.injector.get(Db,!1)){const E=[...c,...p,{provide:h,useValue:!0}];s?s(E):function Sb(s){if(eu&&!eu.get(Db,!1))throw new K(400,!1);(function h0(){!function DI(s){Up=s}(()=>{throw new K(600,!1)})})(),eu=s;const a=s.get(Mb);(function F4(s){s.get(Sy,null)?.forEach(c=>c())})(s)}(function xb(s=[],a){return Os.create({name:a,providers:[{provide:by,useValue:"platform"},{provide:R4,useValue:new Set([()=>eu=null])},...s]})}(E,d))}return function yM(s){const a=U4();if(!a)throw new K(401,!1);return a}()}}function U4(){return eu?.get(Mb)??null}let Mb=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function vM(s="zone.js",a){return"noop"===s?new Ua:"zone.js"===s?new Qn(a):s}(d?.ngZone,function Nb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function s4(s,a,c){return new kf(s,a,c)}(c.moduleType,this.injector,function B4(s){return[{provide:Qn,useFactory:s},{provide:ef,multi:!0,useFactory:()=>{const a=Xt(IM,{optional:!0});return()=>a.initialize()}},{provide:f0,useFactory:EM},{provide:gS,useFactory:$w}]}(()=>h)),y=p.injector.get(Fo,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:C=>{y.handleError(C)}});p.onDestroy(()=>{$f(this._modules,p),E.unsubscribe()})}),function Rb(s,a,c){try{const d=c();return Em(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(y,h,()=>{const E=p.injector.get(r0);return E.runInitializers(),E.donePromise.then(()=>(function Pm(s){At(s,"Expected localeId to be defined"),"string"==typeof s&&(CT=s.toLowerCase().replace(/_/g,"-"))}(p.injector.get(s0,Xa)||Xa),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,d=[]){const h=Pb({},d);return function P4(s,a,c){const d=new i4(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(ra);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new K(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(R4,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||s)(an(Os))};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function Pb(s,a){return Array.isArray(a)?a.reduce(Pb,s):{...s,...a}}let ra=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xt(f0),this.zoneIsStable=Xt(gS),this.componentTypes=[],this.components=[],this.isStable=Xt(Eb).hasPendingTasks.pipe((0,Ue.w)(c=>c?(0,ye.of)(!1):this.zoneIsStable),function re(s,a=Se.y){return s=s??Oe,(0,V.e)((c,d)=>{let h,p=!0;c.subscribe((0,Z.x)(d,y=>{const E=a(y);(p||!s(h,E))&&(p=!1,h=E,d.next(y))}))})}(),(0,Re.B)()),this._injector=Xt(sr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof Py;if(!this._injector.get(r0).done)throw!h&&Zr(c),new K(405,!1);let y;y=h?c:this._injector.get(uc).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const E=function O4(s){return s.isBoundToModule}(y)?void 0:this._injector.get(ea),b=y.create(Os.NULL,[],d||y.selector,E),S=b.location.nativeElement,N=b.injector.get(l0,null);return N?.registerApplication(S),b.onDestroy(()=>{this.detachView(b.hostView),$f(this.components,b),N?.unregisterApplication(S)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;$f(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Ad,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>$f(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new K(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function $f(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}const f0=new Nt("",{providedIn:"root",factory:()=>Xt(Fo).handleError.bind(void 0)});function EM(){const s=Xt(Qn),a=Xt(Fo);return c=>s.runOutsideAngular(()=>a.handleError(c))}let IM=(()=>{class s{constructor(){this.zone=Xt(Qn),this.applicationRef=Xt(ra)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function kb(){return!1}let ZF=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=jF}return s})();function jF(s){return function Z4(s,a,c){if(Ws(s)&&!c){const d=ai(s.index,a);return new Za(d,d)}return 47&s.type?new Za(a[wn],a):null}(mr(),ge(),16==(16&s))}class AM{constructor(){}supports(a){return am(a)}create(a){return new DM(a)}}const GF=(s,a)=>a;class DM{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||GF}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<bt(d,h,p)?c:d,E=bt(y,h,p),C=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const b=E-h,S=C-h;if(b!=S){for(let B=0;B<b;B++){const H=B<p.length?p[B]:p[B]=0,ae=H+B;S<=ae&&ae<b&&(p[B]=H+1)}p[y.previousIndex]=S-b}}E!==C&&a(y,E,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!am(a))throw new K(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],y=this._trackByFn(E,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,E)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,E),d=!0),c=c._next}else h=0,function IC(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,E=>{y=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,E,y,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new Fs(c,d),p,h),a}_verifyReinsertion(a,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new m0),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new m0),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Fs{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class He{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class m0{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new He,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bt(s,a,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class Hf{constructor(){}supports(a){return a instanceof Map||ov(a)}create(){return new Gf}}class Gf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||ov(a)))throw new K(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new SM(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class SM{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _0(){return new $4([new AM])}let $4=(()=>{class s{static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:_0});constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||_0()),deps:[[s,new Gi,new ir]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new K(901,!1)}}return s})();function jb(){return new yr([new Hf])}let yr=(()=>{class s{static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:jb});constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||jb()),deps:[[s,new Gi,new ir]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new K(901,!1)}}return s})();const qb=L4(null,"core",[]);let H4=(()=>{class s{constructor(c){}static#e=this.\u0275fac=function(d){return new(d||s)(an(ra))};static#t=this.\u0275mod=wu({type:s});static#n=this.\u0275inj=Vr({})}return s})();function RM(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Q4(s){const a=Lt(s);if(!a)return null;const c=new _r(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(it,Ee,P)=>{P.d(Ee,{Z:()=>Ye});var o=P(9058),L=P(4537),ie=P(7592),se=P(7879);class he{constructor(xe,Ae){this._delegate=xe,this.firebase=Ae,(0,ie._addComponent)(xe,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(xe,Ae=ie._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(xe);return!we.isInitialized()&&"EXPLICIT"===(null===(Qe=we.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&we.initialize(),we.getImmediate({identifier:Ae})}_removeServiceInstance(xe,Ae=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Ae)}_addComponent(xe){(0,ie._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,ie._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function Se(){const Ve=function Ue(Ve){const xe={},Ae={__esModule:!0,initializeApp:function Te(K,k={}){const W=ie.initializeApp(K,k);if((0,o.r3)(xe,W.name))return xe[W.name];const pe=new Ve(W,Ae);return xe[W.name]=pe,pe},app:we,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function ve(K){const k=K.name,W=k.replace("-compat","");if(ie._registerComponent(K)&&"PUBLIC"===K.type){const pe=(Mt=we())=>{if("function"!=typeof Mt[W])throw Re.create("invalid-app-argument",{appName:k});return Mt[W]()};void 0!==K.serviceProps&&(0,o.ZB)(pe,K.serviceProps),Ae[W]=pe,Ve.prototype[W]=function(...Mt){return this._getService.bind(this,k).apply(this,K.multipleInstances?Mt:[])}}return"PUBLIC"===K.type?Ae[W]:null},removeApp:function Qe(K){delete xe[K]},useAsService:function Me(K,k){return"serverAuth"===k?null:k},modularAPIs:ie}};function we(K){if(!(0,o.r3)(xe,K=K||ie._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:K});return xe[K]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ce(){return Object.keys(xe).map(K=>xe[K])}}),we.App=Ve,Ae}(he);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function xe(Ae){(0,o.ZB)(Ve,Ae)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ve}(),Z=new se.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=V;!function ue(Ve){(0,ie.registerVersion)("@firebase/app-compat","0.2.13",Ve)}()},7592:(it,Ee,P)=>{P.r(Ee),P.d(Ee,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Lr,_DEFAULT_ENTRY_NAME:()=>Y,_addComponent:()=>de,_addOrOverwriteComponent:()=>Ne,_apps:()=>oe,_clearComponents:()=>dt,_components:()=>J,_getProvider:()=>Ft,_registerComponent:()=>at,_removeServiceInstance:()=>on,deleteApp:()=>Vr,getApp:()=>wt,getApps:()=>Ar,initializeApp:()=>Ur,onLog:()=>ca,registerVersion:()=>ii,setLogLevel:()=>Hs});var o=P(5861),L=P(4537),ie=P(7879),se=P(9058),he=P(1878);class ye{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function Re(qe){const fe=qe.getComponent();return"VERSION"===fe?.type}(We)){const ct=We.getImmediate();return`${ct.library}/${ct.version}`}return null}).filter(We=>We).join(" ")}}const Ue="@firebase/app",V=new ie.Yd("@firebase/app"),Y="[DEFAULT]",te={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oe=new Map,J=new Map;function de(qe,fe){try{qe.container.addComponent(fe)}catch(We){V.debug(`Component ${fe.name} failed to register with FirebaseApp ${qe.name}`,We)}}function Ne(qe,fe){qe.container.addOrOverwriteComponent(fe)}function at(qe){const fe=qe.name;if(J.has(fe))return V.debug(`There were multiple attempts to register component ${fe}.`),!1;J.set(fe,qe);for(const We of oe.values())de(We,qe);return!0}function Ft(qe,fe){const We=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),qe.container.getProvider(fe)}function on(qe,fe,We=Y){Ft(qe,fe).clearInstance(We)}function dt(){J.clear()}const Ze=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nn{constructor(fe,We,ct){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}}const Lr="9.23.0";function Ur(qe,fe={}){let We=qe;"object"!=typeof fe&&(fe={name:fe});const ct=Object.assign({name:Y,automaticDataCollectionEnabled:!1},fe),zt=ct.name;if("string"!=typeof zt||!zt)throw Ze.create("bad-app-name",{appName:String(zt)});if(We||(We=(0,se.aH)()),!We)throw Ze.create("no-options");const Qt=oe.get(zt);if(Qt){if((0,se.vZ)(We,Qt.options)&&(0,se.vZ)(ct,Qt.config))return Qt;throw Ze.create("duplicate-app",{appName:zt})}const tr=new L.H0(zt);for(const F of J.values())tr.addComponent(F);const U=new nn(We,ct,tr);return oe.set(zt,U),U}function wt(qe=Y){const fe=oe.get(qe);if(!fe&&qe===Y&&(0,se.aH)())return Ur();if(!fe)throw Ze.create("no-app",{appName:qe});return fe}function Ar(){return Array.from(oe.values())}function Vr(qe){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,o.Z)(function*(qe){const fe=qe.name;oe.has(fe)&&(oe.delete(fe),yield Promise.all(qe.container.getProviders().map(We=>We.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function ii(qe,fe,We){var ct;let zt=null!==(ct=te[qe])&&void 0!==ct?ct:qe;We&&(zt+=`-${We}`);const Qt=zt.match(/\s|\//),tr=fe.match(/\s|\//);if(Qt||tr){const U=[`Unable to register library "${zt}" with version "${fe}":`];return Qt&&U.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Qt&&tr&&U.push("and"),tr&&U.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void V.warn(U.join(" "))}at(new L.wA(`${zt}-version`,()=>({library:zt,version:fe}),"VERSION"))}function ca(qe,fe){if(null!==qe&&"function"!=typeof qe)throw Ze.create("invalid-log-argument");(0,ie.Am)(qe,fe)}function Hs(qe){(0,ie.Ub)(qe)}const es="firebase-heartbeat-database",Kn=1,Ct="firebase-heartbeat-store";let Ot=null;function Br(){return Ot||(Ot=(0,he.X3)(es,Kn,{upgrade:(qe,fe)=>{0===fe&&qe.createObjectStore(Ct)}}).catch(qe=>{throw Ze.create("idb-open",{originalErrorMessage:qe.message})})),Ot}function dr(){return(dr=(0,o.Z)(function*(qe){try{return yield(yield Br()).transaction(Ct).objectStore(Ct).get(ns(qe))}catch(fe){if(fe instanceof se.ZR)V.warn(fe.message);else{const We=Ze.create("idb-get",{originalErrorMessage:fe?.message});V.warn(We.message)}}})).apply(this,arguments)}function ts(qe,fe){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,o.Z)(function*(qe,fe){try{const ct=(yield Br()).transaction(Ct,"readwrite");yield ct.objectStore(Ct).put(fe,ns(qe)),yield ct.done}catch(We){if(We instanceof se.ZR)V.warn(We.message);else{const ct=Ze.create("idb-set",{originalErrorMessage:We?.message});V.warn(ct.message)}}})).apply(this,arguments)}function ns(qe){return`${qe.name}!${qe.options.appId}`}class Gt{constructor(fe){this.container=fe,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new la(We),this._heartbeatsCachePromise=this._storage.read().then(ct=>(this._heartbeatsCache=ct,ct))}triggerHeartbeat(){var fe=this;return(0,o.Z)(function*(){const ct=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=Gc();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==zt&&!fe._heartbeatsCache.heartbeats.some(Qt=>Qt.date===zt))return fe._heartbeatsCache.heartbeats.push({date:zt,agent:ct}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(Qt=>{const tr=new Date(Qt.date).valueOf();return Date.now()-tr<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,o.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const We=Gc(),{heartbeatsToSend:ct,unsentEntries:zt}=function Nt(qe,fe=1024){const We=[];let ct=qe.slice();for(const zt of qe){const Qt=We.find(tr=>tr.agent===zt.agent);if(Qt){if(Qt.dates.push(zt.date),Ti(We)>fe){Qt.dates.pop();break}}else if(We.push({agent:zt.agent,dates:[zt.date]}),Ti(We)>fe){We.pop();break}ct=ct.slice(1)}return{heartbeatsToSend:We,unsentEntries:ct}}(fe._heartbeatsCache.heartbeats),Qt=(0,se.L)(JSON.stringify({version:2,heartbeats:ct}));return fe._heartbeatsCache.lastSentHeartbeatDate=We,zt.length>0?(fe._heartbeatsCache.heartbeats=zt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),Qt})()}}function Gc(){return(new Date).toISOString().substring(0,10)}class la{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,o.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function yt(qe){return dr.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var We=this;return(0,o.Z)(function*(){var ct;if(yield We._canUseIndexedDBPromise){const Qt=yield We.read();return ts(We.app,{lastSentHeartbeatDate:null!==(ct=fe.lastSentHeartbeatDate)&&void 0!==ct?ct:Qt.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var We=this;return(0,o.Z)(function*(){var ct;if(yield We._canUseIndexedDBPromise){const Qt=yield We.read();return ts(We.app,{lastSentHeartbeatDate:null!==(ct=fe.lastSentHeartbeatDate)&&void 0!==ct?ct:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...fe.heartbeats]})}})()}}function Ti(qe){return(0,se.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function rs(qe){at(new L.wA("platform-logger",fe=>new ye(fe),"PRIVATE")),at(new L.wA("heartbeat",fe=>new Gt(fe),"PRIVATE")),ii(Ue,"0.9.13",qe),ii(Ue,"0.9.13","esm2017"),ii("fire-js","")}("")},120:(it,Ee,P)=>{P.d(Ee,{Z:()=>o.Z});var o=P(3399);o.Z.registerVersion("firebase","9.23.0","app-compat")},4537:(it,Ee,P)=>{P.d(Ee,{H0:()=>Ue,wA:()=>ie});var o=P(5861),L=P(9058);class ie{constructor(V,Z,re){this.name=V,this.instanceFactory=Z,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const se="[DEFAULT]";class he{constructor(V,Z){this.name=V,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const Z=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(Z)){const re=new L.BH;if(this.instancesDeferred.set(Z,re),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:Z});Oe&&re.resolve(Oe)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(V){var Z;const re=this.normalizeInstanceIdentifier(V?.identifier),Oe=null!==(Z=V?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(ue){if(Oe)return null;throw ue}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function Re(Se){return"EAGER"===Se.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Z,re]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(Z);try{const ue=this.getOrInitializeService({instanceIdentifier:Oe});re.resolve(ue)}catch{}}}}clearInstance(V=se){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,o.Z)(function*(){const Z=Array.from(V.instances.values());yield Promise.all([...Z.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...Z.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=se){return this.instances.has(V)}getOptions(V=se){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:Z={}}=V,re=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:re,options:Z});for(const[ue,Ye]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(ue)&&Ye.resolve(Oe);return Oe}onInit(V,Z){var re;const Oe=this.normalizeInstanceIdentifier(Z),ue=null!==(re=this.onInitCallbacks.get(Oe))&&void 0!==re?re:new Set;ue.add(V),this.onInitCallbacks.set(Oe,ue);const Ye=this.instances.get(Oe);return Ye&&V(Ye,Oe),()=>{ue.delete(V)}}invokeOnInitCallbacks(V,Z){const re=this.onInitCallbacks.get(Z);if(re)for(const Oe of re)try{Oe(V,Z)}catch{}}getOrInitializeService({instanceIdentifier:V,options:Z={}}){let re=this.instances.get(V);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=V,Se===se?void 0:Se),options:Z}),this.instances.set(V,re),this.instancesOptions.set(V,Z),this.invokeOnInitCallbacks(re,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,re)}catch{}var Se;return re||null}normalizeInstanceIdentifier(V=se){return this.component?this.component.multipleInstances?V:se:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const Z=this.getProvider(V.name);if(Z.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);Z.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const Z=new he(V,this);return this.providers.set(V,Z),Z}getProviders(){return Array.from(this.providers.values())}}},7879:(it,Ee,P)=>{P.d(Ee,{Am:()=>Se,Ub:()=>Ue,Yd:()=>Re,in:()=>L});const o=[];var L=function(V){return V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",V}(L||{});const ie={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},se=L.INFO,he={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ye=(V,Z,...re)=>{if(Z<V.logLevel)return;const Oe=(new Date).toISOString(),ue=he[Z];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[ue](`[${Oe}]  ${V.name}:`,...re)};class Re{constructor(Z){this.name=Z,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in L))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?ie[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...Z),this._logHandler(this,L.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...Z),this._logHandler(this,L.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,L.INFO,...Z),this._logHandler(this,L.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,L.WARN,...Z),this._logHandler(this,L.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...Z),this._logHandler(this,L.ERROR,...Z)}}function Ue(V){o.forEach(Z=>{Z.setLogLevel(V)})}function Se(V,Z){for(const re of o){let Oe=null;Z&&Z.level&&(Oe=ie[Z.level]),re.userLogHandler=null===V?null:(ue,Ye,...Ve)=>{const xe=Ve.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Ye>=(Oe??ue.logLevel)&&V({level:L[Ye].toLowerCase(),message:xe,args:Ve,type:ue.name})}}}},1878:(it,Ee,P)=>{P.d(Ee,{X3:()=>we});var o=P(5861);const L=(k,W)=>W.some(pe=>k instanceof pe);let ie,se;const Re=new WeakMap,Ue=new WeakMap,Se=new WeakMap,V=new WeakMap,Z=new WeakMap;let ue={get(k,W,pe){if(k instanceof IDBTransaction){if("done"===W)return Ue.get(k);if("objectStoreNames"===W)return k.objectStoreNames||Se.get(k);if("store"===W)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return Ae(k[W])},set:(k,W,pe)=>(k[W]=pe,!0),has:(k,W)=>k instanceof IDBTransaction&&("done"===W||"store"===W)||W in k};function xe(k){return"function"==typeof k?function Ve(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...W){return k.apply(Qe(this),W),Ae(Re.get(this))}:function(...W){return Ae(k.apply(Qe(this),W))}:function(W,...pe){const Mt=k.call(Qe(this),W,...pe);return Se.set(Mt,W.sort?W.sort():[W]),Ae(Mt)}}(k):(k instanceof IDBTransaction&&function Oe(k){if(Ue.has(k))return;const W=new Promise((pe,Mt)=>{const cn=()=>{k.removeEventListener("complete",On),k.removeEventListener("error",ln),k.removeEventListener("abort",ln)},On=()=>{pe(),cn()},ln=()=>{Mt(k.error||new DOMException("AbortError","AbortError")),cn()};k.addEventListener("complete",On),k.addEventListener("error",ln),k.addEventListener("abort",ln)});Ue.set(k,W)}(k),L(k,function he(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,ue):k)}function Ae(k){if(k instanceof IDBRequest)return function re(k){const W=new Promise((pe,Mt)=>{const cn=()=>{k.removeEventListener("success",On),k.removeEventListener("error",ln)},On=()=>{pe(Ae(k.result)),cn()},ln=()=>{Mt(k.error),cn()};k.addEventListener("success",On),k.addEventListener("error",ln)});return W.then(pe=>{pe instanceof IDBCursor&&Re.set(pe,k)}).catch(()=>{}),Z.set(W,k),W}(k);if(V.has(k))return V.get(k);const W=xe(k);return W!==k&&(V.set(k,W),Z.set(W,k)),W}const Qe=k=>Z.get(k);function we(k,W,{blocked:pe,upgrade:Mt,blocking:cn,terminated:On}={}){const ln=indexedDB.open(k,W),fn=Ae(ln);return Mt&&ln.addEventListener("upgradeneeded",pn=>{Mt(Ae(ln.result),pn.oldVersion,pn.newVersion,Ae(ln.transaction),pn)}),pe&&ln.addEventListener("blocked",pn=>pe(pn.oldVersion,pn.newVersion,pn)),fn.then(pn=>{On&&pn.addEventListener("close",()=>On()),cn&&pn.addEventListener("versionchange",ri=>cn(ri.oldVersion,ri.newVersion,ri))}).catch(()=>{}),fn}const ce=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Me=new Map;function K(k,W){if(!(k instanceof IDBDatabase)||W in k||"string"!=typeof W)return;if(Me.get(W))return Me.get(W);const pe=W.replace(/FromIndex$/,""),Mt=W!==pe,cn=ve.includes(pe);if(!(pe in(Mt?IDBIndex:IDBObjectStore).prototype)||!cn&&!ce.includes(pe))return;const On=function(){var ln=(0,o.Z)(function*(fn,...pn){const ri=this.transaction(fn,cn?"readwrite":"readonly");let Y=ri.store;return Mt&&(Y=Y.index(pn.shift())),(yield Promise.all([Y[pe](...pn),cn&&ri.done]))[0]});return function(pn){return ln.apply(this,arguments)}}();return Me.set(W,On),On}!function Ye(k){ue=k(ue)}(k=>({...k,get:(W,pe,Mt)=>K(W,pe)||k.get(W,pe,Mt),has:(W,pe)=>!!K(W,pe)||k.has(W,pe)}))},5861:(it,Ee,P)=>{function o(ie,se,he,ye,Re,Ue,Se){try{var V=ie[Ue](Se),Z=V.value}catch(re){return void he(re)}V.done?se(Z):Promise.resolve(Z).then(ye,Re)}function L(ie){return function(){var se=this,he=arguments;return new Promise(function(ye,Re){var Ue=ie.apply(se,he);function Se(Z){o(Ue,ye,Re,Se,V,"next",Z)}function V(Z){o(Ue,ye,Re,Se,V,"throw",Z)}Se(void 0)})}}P.d(Ee,{Z:()=>L})},7582:(it,Ee,P)=>{function se(Y,te){var oe={};for(var J in Y)Object.prototype.hasOwnProperty.call(Y,J)&&te.indexOf(J)<0&&(oe[J]=Y[J]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(J=Object.getOwnPropertySymbols(Y);de<J.length;de++)te.indexOf(J[de])<0&&Object.prototype.propertyIsEnumerable.call(Y,J[de])&&(oe[J[de]]=Y[J[de]])}return oe}function re(Y,te,oe,J){return new(oe||(oe=Promise))(function(Ne,at){function Ft(At){try{dt(J.next(At))}catch(Ze){at(Ze)}}function on(At){try{dt(J.throw(At))}catch(Ze){at(Ze)}}function dt(At){At.done?Ne(At.value):function de(Ne){return Ne instanceof oe?Ne:new oe(function(at){at(Ne)})}(At.value).then(Ft,on)}dt((J=J.apply(Y,te||[])).next())})}function Te(Y){return this instanceof Te?(this.v=Y,this):new Te(Y)}function ce(Y,te,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,J=oe.apply(Y,te||[]),Ne=[];return de={},at("next"),at("throw"),at("return"),de[Symbol.asyncIterator]=function(){return this},de;function at(nn){J[nn]&&(de[nn]=function(Lr){return new Promise(function(Ur,wt){Ne.push([nn,Lr,Ur,wt])>1||Ft(nn,Lr)})})}function Ft(nn,Lr){try{!function on(nn){nn.value instanceof Te?Promise.resolve(nn.value.v).then(dt,At):Ze(Ne[0][2],nn)}(J[nn](Lr))}catch(Ur){Ze(Ne[0][3],Ur)}}function dt(nn){Ft("next",nn)}function At(nn){Ft("throw",nn)}function Ze(nn,Lr){nn(Lr),Ne.shift(),Ne.length&&Ft(Ne[0][0],Ne[0][1])}}function Me(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,te=Y[Symbol.asyncIterator];return te?te.call(Y):(Y=function Ve(Y){var te="function"==typeof Symbol&&Symbol.iterator,oe=te&&Y[te],J=0;if(oe)return oe.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&J>=Y.length&&(Y=void 0),{value:Y&&Y[J++],done:!Y}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),oe={},J("next"),J("throw"),J("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function J(Ne){oe[Ne]=Y[Ne]&&function(at){return new Promise(function(Ft,on){!function de(Ne,at,Ft,on){Promise.resolve(on).then(function(dt){Ne({value:dt,done:Ft})},at)}(Ft,on,(at=Y[Ne](at)).done,at.value)})}}}P.d(Ee,{FC:()=>ce,KL:()=>Me,_T:()=>se,mG:()=>re,qq:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},it=>{it(it.s=9412)}]);