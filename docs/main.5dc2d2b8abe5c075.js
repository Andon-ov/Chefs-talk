"use strict";(self.webpackChunkchefs_talks=self.webpackChunkchefs_talks||[]).push([[179],{496:()=>{function Re(t){return"function"==typeof t}function fc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const yh=fc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Zo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class En{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(s){e=s instanceof yh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{JA(s)}catch(o){e=e??[],o instanceof yh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new yh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)JA(e);else{if(e instanceof En){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Zo(n,e)}remove(e){const{_finalizers:n}=this;n&&Zo(n,e),e instanceof En&&e._removeParent(this)}}En.EMPTY=(()=>{const t=new En;return t.closed=!0,t})();const QA=En.EMPTY;function YA(t){return t instanceof En||t&&"closed"in t&&Re(t.remove)&&Re(t.add)&&Re(t.unsubscribe)}function JA(t){Re(t)?t():t.unsubscribe()}const Bs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_h={setTimeout(t,e,...n){const{delegate:r}=_h;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=_h;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function XA(t){_h.setTimeout(()=>{const{onUnhandledError:e}=Bs;if(!e)throw t;e(t)})}function yy(){}const NU=_y("C",void 0,void 0);function _y(t,e,n){return{kind:t,value:e,error:n}}let js=null;function vh(t){if(Bs.useDeprecatedSynchronousErrorHandling){const e=!js;if(e&&(js={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=js;if(js=null,n)throw r}}else t()}class vy extends En{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,YA(e)&&e.add(this)):this.destination=VU}static create(e,n,r){return new pc(e,n,r)}next(e){this.isStopped?Iy(function kU(t){return _y("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Iy(function RU(t){return _y("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Iy(NU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const PU=Function.prototype.bind;function wy(t,e){return PU.call(t,e)}class FU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){wh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){wh(r)}else wh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){wh(n)}}}class pc extends vy{constructor(e,n,r){let i;if(super(),Re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Bs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wy(e.next,s),error:e.error&&wy(e.error,s),complete:e.complete&&wy(e.complete,s)}):i=e}this.destination=new FU(i)}}function wh(t){Bs.useDeprecatedSynchronousErrorHandling?function OU(t){Bs.useDeprecatedSynchronousErrorHandling&&js&&(js.errorThrown=!0,js.error=t)}(t):XA(t)}function Iy(t,e){const{onStoppedNotification:n}=Bs;n&&_h.setTimeout(()=>n(t,e))}const VU={closed:!0,next:yy,error:function LU(t){throw t},complete:yy},Ey="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ki(t){return t}function ZA(t){return 0===t.length?Ki:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function jU(t){return t&&t instanceof vy||function BU(t){return t&&Re(t.next)&&Re(t.error)&&Re(t.complete)}(t)&&YA(t)}(n)?n:new pc(n,r,i);return vh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=eS(r))((i,s)=>{const o=new pc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ey](){return this}pipe(...n){return ZA(n)(this)}toPromise(n){return new(n=eS(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function eS(t){var e;return null!==(e=t??Bs.Promise)&&void 0!==e?e:Promise}const $U=fc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let yr=(()=>{class t extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new tS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $U}next(n){vh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){vh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?QA:(this.currentObservers=null,s.push(n),new En(()=>{this.currentObservers=null,Zo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ce;return n.source=this,n}}return t.create=(e,n)=>new tS(e,n),t})();class tS extends yr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:QA}}function nS(t){return Re(t?.lift)}function vt(t){return e=>{if(nS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(t,e,n,r,i){return new HU(t,e,n,r,i)}class HU extends vy{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ie(t,e){return vt((n,r)=>{let i=0;n.subscribe(ht(r,s=>{r.next(t.call(e,s,i++))}))})}function Dy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Qi(t){return this instanceof Qi?(this.v=t,this):new Qi(t)}function oS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ay(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const aS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function uS(t){return Re(t?.then)}function cS(t){return Re(t[Ey])}function lS(t){return Symbol.asyncIterator&&Re(t?.[Symbol.asyncIterator])}function dS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hS=function lB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fS(t){return Re(t?.[hS])}function pS(t){return function sS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Qi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Qi(n.read());if(i)return yield Qi(void 0);yield yield Qi(r)}}finally{n.releaseLock()}})}function gS(t){return Re(t?.getReader)}function Pn(t){if(t instanceof Ce)return t;if(null!=t){if(cS(t))return function dB(t){return new Ce(e=>{const n=t[Ey]();if(Re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(aS(t))return function hB(t){return new Ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(uS(t))return function fB(t){return new Ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,XA)})}(t);if(lS(t))return mS(t);if(fS(t))return function pB(t){return new Ce(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(gS(t))return function gB(t){return mS(pS(t))}(t)}throw dS(t)}function mS(t){return new Ce(e=>{(function mB(t,e){var n,r,i,s;return function rS(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=oS(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function li(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ot(t,e,n=1/0){return Re(e)?Ot((r,i)=>Ie((s,o)=>e(r,s,i,o))(Pn(t(r,i))),n):("number"==typeof e&&(n=e),vt((r,i)=>function yB(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;Pn(n(g,l++)).subscribe(ht(e,b=>{i?.(b),s?f(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const b=u.shift();o?li(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(ht(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ea(t=1/0){return Ot(Ki,t)}const Or=new Ce(t=>t.complete());function Sy(t){return t[t.length-1]}function yS(t){return Re(Sy(t))?t.pop():void 0}function gc(t){return function vB(t){return t&&Re(t.schedule)}(Sy(t))?t.pop():void 0}function Ih(t,e=0){return vt((n,r)=>{n.subscribe(ht(r,i=>li(r,t,()=>r.next(i),e),()=>li(r,t,()=>r.complete(),e),i=>li(r,t,()=>r.error(i),e)))})}function Eh(t,e=0){return vt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _S(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ce(n=>{li(n,e,()=>{const r=t[Symbol.asyncIterator]();li(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function wt(t,e){return e?function TB(t,e){if(null!=t){if(cS(t))return function IB(t,e){return Pn(t).pipe(Eh(e),Ih(e))}(t,e);if(aS(t))return function bB(t,e){return new Ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(uS(t))return function EB(t,e){return Pn(t).pipe(Eh(e),Ih(e))}(t,e);if(lS(t))return _S(t,e);if(fS(t))return function CB(t,e){return new Ce(n=>{let r;return li(n,e,()=>{r=t[hS](),li(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(t,e);if(gS(t))return function DB(t,e){return _S(pS(t),e)}(t,e)}throw dS(t)}(t,e):Pn(t)}class nr extends yr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function K(...t){return wt(t,gc(t))}function vS(t={}){const{connector:e=(()=>new yr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return vt((g,y)=>{c++,!d&&!l&&h();const b=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=xy(p,i))}),b.subscribe(y),!o&&c>0&&(o=new pc({next:w=>b.next(w),error:w=>{d=!0,h(),a=xy(f,n,w),b.error(w)},complete:()=>{l=!0,h(),a=xy(f,r),b.complete()}}),Pn(g).subscribe(o))})(s)}}function xy(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new pc({next:()=>{r.unsubscribe(),t()}});return Pn(e(...n)).subscribe(r)}function _r(t,e){return vt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ht(r,u=>{i?.unsubscribe();let c=0;const l=s++;Pn(t(u,l)).subscribe(i=ht(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function xB(t,e){return t===e}function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function bh(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function It(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(It).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function My(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const MB=Te({__forward_ref__:Te});function Pe(t){return t.__forward_ref__=Pe,t.toString=function(){return It(this())},t}function X(t){return Ny(t)?t():t}function Ny(t){return"function"==typeof t&&t.hasOwnProperty(MB)&&t.__forward_ref__===Pe}function Ry(t){return t&&!!t.\u0275providers}const wS="https://g.co/ng/security#xss";class x extends Error{constructor(e,n){super(function Ch(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function te(t){return"string"==typeof t?t:null==t?"":String(t)}function ky(t,e){throw new x(-201,!1)}function rr(t,e){null==t&&function Q(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dh(t){return IS(t,Ah)||IS(t,ES)}function IS(t,e){return t.hasOwnProperty(e)?t[e]:null}function Th(t){return t&&(t.hasOwnProperty(Oy)||t.hasOwnProperty(VB))?t[Oy]:null}const Ah=Te({\u0275prov:Te}),Oy=Te({\u0275inj:Te}),ES=Te({ngInjectableDef:Te}),VB=Te({ngInjectorDef:Te});var de=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(de||{});let Py;function bn(t){const e=Py;return Py=t,e}function CS(t,e,n){const r=Dh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&de.Optional?null:void 0!==e?e:void ky(It(t))}const Fe=globalThis;class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const mc={},By="__NG_DI_FLAG__",Sh="ngTempTokenPath",jB=/\n/gm,TS="__source";let ta;function Yi(t){const e=ta;return ta=t,e}function GB(t,e=de.Default){if(void 0===ta)throw new x(-203,!1);return null===ta?CS(t,void 0,e):ta.get(t,e&de.Optional?null:void 0,e)}function H(t,e=de.Default){return(function bS(){return Py}()||GB)(X(t),e)}function U(t,e=de.Default){return H(t,xh(e))}function xh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jy(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=de.Default;for(let o=0;o<r.length;o++){const a=r[o],u=zB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function yc(t,e){return t[By]=e,t.prototype[By]=e,t}function zB(t){return t[By]}function di(t){return{toString:t}.toString()}var Mh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Mh||{}),vr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vr||{});const Pr={},we=[],Nh=Te({\u0275cmp:Te}),$y=Te({\u0275dir:Te}),Hy=Te({\u0275pipe:Te}),SS=Te({\u0275mod:Te}),hi=Te({\u0275fac:Te}),_c=Te({__NG_ELEMENT_ID__:Te}),xS=Te({__NG_ENV_ID__:Te});function MS(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Gy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];RS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function NS(t){return 3===t||4===t||6===t}function RS(t){return 64===t.charCodeAt(0)}function vc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||kS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function kS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const OS="ng-template";function KB(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==MS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function PS(t){return 4===t.type&&t.value!==OS}function QB(t,e,n){return e===(4!==t.type||n?t.value:OS)}function YB(t,e,n){let r=4;const i=t.attrs||[],s=function ZB(t){for(let e=0;e<t.length;e++)if(NS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!QB(t,u,n)||""===u&&1===e.length){if(wr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!KB(t.attrs,c,n)){if(wr(r))return!1;o=!0}continue}const d=JB(8&r?"class":u,i,PS(t),n);if(-1===d){if(wr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==MS(f,c,0)||2&r&&c!==h){if(wr(r))return!1;o=!0}}}}else{if(!o&&!wr(r)&&!wr(u))return!1;if(o&&wr(u))continue;o=!1,r=u|1&r}}return wr(r)||o}function wr(t){return 0==(1&t)}function JB(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function e8(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function FS(t,e,n=!1){for(let r=0;r<e.length;r++)if(YB(t,e[r],n))return!0;return!1}function LS(t,e){return t?":not("+e.trim()+")":e}function n8(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!wr(o)&&(e+=LS(s,i),i=""),r=o,s=s||!wr(r);n++}return""!==i&&(e+=LS(s,i)),e}function Yt(t){return di(()=>{const e=US(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vr.Emulated,styles:t.styles||we,_:null,schemas:t.schemas||null,tView:null,id:""};BS(n);const r=t.dependencies;return n.directiveDefs=Rh(r,!1),n.pipeDefs=Rh(r,!0),n.id=function l8(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function o8(t){return ge(t)||Ft(t)}function a8(t){return null!==t}function Pt(t){return di(()=>({type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function VS(t,e){if(null==t)return Pr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Z(t){return di(()=>{const e=US(t);return BS(e),e})}function un(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ge(t){return t[Nh]||null}function Ft(t){return t[$y]||null}function cn(t){return t[Hy]||null}function Ln(t,e){const n=t[SS]||null;if(!n&&!0===e)throw new Error(`Type ${It(t)} does not have '\u0275mod' property.`);return n}function US(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Pr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:VS(t.inputs,e),outputs:VS(t.outputs)}}function BS(t){t.features?.forEach(e=>e(t))}function Rh(t,e){if(!t)return null;const n=e?cn:o8;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(a8)}const Xe=0,B=1,oe=2,ze=3,Ir=4,wc=5,Jt=6,ra=7,st=8,Ji=9,ia=10,ne=11,Ic=12,jS=13,sa=14,ot=15,Ec=16,oa=17,Fr=18,bc=19,$S=20,Xi=21,fi=22,Cc=23,Dc=24,he=25,zy=1,HS=2,Lr=7,aa=9,Lt=11;function Cn(t){return Array.isArray(t)&&"object"==typeof t[zy]}function ln(t){return Array.isArray(t)&&!0===t[zy]}function qy(t){return 0!=(4&t.flags)}function Hs(t){return t.componentOffset>-1}function Oh(t){return 1==(1&t.flags)}function Er(t){return!!t.template}function Wy(t){return 0!=(512&t[oe])}function Gs(t,e){return t.hasOwnProperty(hi)?t[hi]:null}let Vt=null,Ph=!1;function ir(t){const e=Vt;return Vt=t,e}const qS={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function KS(t){if(!Ac(t)||t.dirty){if(!t.producerMustRecompute(t)&&!JS(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function YS(t){t.dirty=!0,function QS(t){if(void 0===t.liveConsumerNode)return;const e=Ph;Ph=!0;try{for(const n of t.liveConsumerNode)n.dirty||YS(n)}finally{Ph=e}}(t),t.consumerMarkedDirty?.(t)}function Qy(t){return t&&(t.nextProducerIndex=0),ir(t)}function Yy(t,e){if(ir(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ac(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Fh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function JS(t){ua(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(KS(n),r!==n.version))return!0}return!1}function XS(t){if(ua(t),Ac(t))for(let e=0;e<t.producerNode.length;e++)Fh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Fh(t,e){if(function e2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ua(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Fh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ua(i),i.producerIndexOfThis[r]=e}}function Ac(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ua(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let t2=null;const s2=()=>{},b8=(()=>({...qS,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:s2}))();class C8{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function sr(){return o2}function o2(t){return t.type.prototype.ngOnChanges&&(t.setInput=T8),D8}function D8(){const t=u2(this),e=t?.current;if(e){const n=t.previous;if(n===Pr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function T8(t,e,n,r){const i=this.declaredInputs[n],s=u2(t)||function A8(t,e){return t[a2]=e}(t,{previous:Pr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new C8(u&&u.currentValue,e,a===Pr),t[r]=e}sr.ngInherit=!0;const a2="__ngSimpleChanges__";function u2(t){return t[a2]||null}const Vr=function(t,e,n){};function Le(t){for(;Array.isArray(t);)t=t[Xe];return t}function Lh(t,e){return Le(e[t])}function Dn(t,e){return Le(e[t.index])}function d2(t,e){return t.data[e]}function Vn(t,e){const n=e[t];return Cn(n)?n:n[Xe]}function es(t,e){return null==e?null:t[e]}function h2(t){t[oa]=0}function k8(t){1024&t[oe]||(t[oe]|=1024,p2(t,1))}function f2(t){1024&t[oe]&&(t[oe]&=-1025,p2(t,-1))}function p2(t,e){let n=t[ze];if(null===n)return;n[wc]+=e;let r=n;for(n=n[ze];null!==n&&(1===e&&1===r[wc]||-1===e&&0===r[wc]);)n[wc]+=e,r=n,n=n[ze]}const Y={lFrame:D2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function y2(){return Y.bindingsEnabled}function A(){return Y.lFrame.lView}function me(){return Y.lFrame.tView}function Un(t){return Y.lFrame.contextLView=t,t[st]}function Bn(t){return Y.lFrame.contextLView=null,t}function Ut(){let t=_2();for(;null!==t&&64===t.type;)t=t.parent;return t}function _2(){return Y.lFrame.currentTNode}function Ur(t,e){const n=Y.lFrame;n.currentTNode=t,n.isParent=e}function t_(){return Y.lFrame.isParent}function dn(){const t=Y.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pi(){return Y.lFrame.bindingIndex}function da(){return Y.lFrame.bindingIndex++}function gi(t){const e=Y.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function z8(t,e){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=t,r_(e)}function r_(t){Y.lFrame.currentDirectiveIndex=t}function s_(t){Y.lFrame.currentQueryIndex=t}function W8(t){const e=t[B];return 2===e.type?e.declTNode:1===e.type?t[Jt]:null}function b2(t,e,n){if(n&de.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&de.Host||(i=W8(s),null===i||(s=s[sa],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Y.lFrame=C2();return r.currentTNode=e,r.lView=t,!0}function o_(t){const e=C2(),n=t[B];Y.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function C2(){const t=Y.lFrame,e=null===t?null:t.child;return null===e?D2(t):e}function D2(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function T2(){const t=Y.lFrame;return Y.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const A2=T2;function a_(){const t=T2();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hn(){return Y.lFrame.selectedIndex}function zs(t){Y.lFrame.selectedIndex=t}function Qe(){const t=Y.lFrame;return d2(t.tView,t.selectedIndex)}let M2=!0;function Vh(){return M2}function ts(t){M2=t}function Uh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Bh(t,e,n){N2(t,e,3,n)}function jh(t,e,n,r){(3&t[oe])===n&&N2(t,e,n,r)}function u_(t,e){let n=t[oe];(3&n)===e&&(n&=8191,n+=1,t[oe]=n)}function N2(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[oa]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[oa]+=65536),(a<s||-1==s)&&(ej(t,n,e,u),t[oa]=(4294901760&t[oa])+u+2),u++}function R2(t,e){Vr(4,t,e);const n=ir(null);try{e.call(t)}finally{ir(n),Vr(5,t,e)}}function ej(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[oe]>>13<t[oa]>>16&&(3&t[oe])===e&&(t[oe]+=8192,R2(a,s)):R2(a,s)}const ha=-1;class xc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function l_(t){return t!==ha}function Mc(t){return 32767&t}function Nc(t,e){let n=function ij(t){return t>>16}(t),r=e;for(;n>0;)r=r[sa],n--;return r}let d_=!0;function $h(t){const e=d_;return d_=t,e}const k2=255,O2=5;let sj=0;const Br={};function Hh(t,e){const n=P2(t,e);if(-1!==n)return n;const r=e[B];r.firstCreatePass&&(t.injectorIndex=e.length,h_(r.data,t),h_(e,null),h_(r.blueprint,null));const i=Gh(t,e),s=t.injectorIndex;if(l_(i)){const o=Mc(i),a=Nc(i,e),u=a[B].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function h_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function P2(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Gh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=$2(i),null===r)return ha;if(n++,i=i[sa],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ha}function f_(t,e,n){!function oj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(_c)&&(r=n[_c]),null==r&&(r=n[_c]=sj++);const i=r&k2;e.data[t+(i>>O2)]|=1<<i}(t,e,n)}function F2(t,e,n){if(n&de.Optional||void 0!==t)return t;ky()}function L2(t,e,n,r){if(n&de.Optional&&void 0===r&&(r=null),!(n&(de.Self|de.Host))){const i=t[Ji],s=bn(void 0);try{return i?i.get(e,r,n&de.Optional):CS(e,r,n&de.Optional)}finally{bn(s)}}return F2(r,0,n)}function V2(t,e,n,r=de.Default,i){if(null!==t){if(2048&e[oe]&&!(r&de.Self)){const o=function hj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[oe]&&!(512&o[oe]);){const a=U2(s,o,n,r|de.Self,Br);if(a!==Br)return a;let u=s.parent;if(!u){const c=o[$S];if(c){const l=c.get(n,Br,r);if(l!==Br)return l}u=$2(o),o=o[sa]}s=u}return i}(t,e,n,r,Br);if(o!==Br)return o}const s=U2(t,e,n,r,Br);if(s!==Br)return s}return L2(e,n,r,i)}function U2(t,e,n,r,i){const s=function cj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(_c)?t[_c]:void 0;return"number"==typeof e?e>=0?e&k2:dj:e}(n);if("function"==typeof s){if(!b2(e,t,r))return r&de.Host?F2(i,0,r):L2(e,n,r,i);try{let o;if(o=s(r),null!=o||r&de.Optional)return o;ky()}finally{A2()}}else if("number"==typeof s){let o=null,a=P2(t,e),u=ha,c=r&de.Host?e[ot][Jt]:null;for((-1===a||r&de.SkipSelf)&&(u=-1===a?Gh(t,e):e[a+8],u!==ha&&j2(r,!1)?(o=e[B],a=Mc(u),e=Nc(u,e)):a=-1);-1!==a;){const l=e[B];if(B2(s,a,l.data)){const d=uj(a,e,n,o,r,c);if(d!==Br)return d}u=e[a+8],u!==ha&&j2(r,e[B].data[a+8]===c)&&B2(s,a,e)?(o=l,a=Mc(u),e=Nc(u,e)):a=-1}}return i}function uj(t,e,n,r,i,s){const o=e[B],a=o.data[t+8],l=function zh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Er(f)&&f.type===n)return u}return null}(a,o,n,null==r?Hs(a)&&d_:r!=o&&0!=(3&a.type),i&de.Host&&s===a);return null!==l?qs(e,o,l,a):Br}function qs(t,e,n,r){let i=t[n];const s=e.data;if(function tj(t){return t instanceof xc}(i)){const o=i;o.resolving&&function NB(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,`Circular dependency in DI detected for ${t}${n}`)}(function De(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():te(t)}(s[n]));const a=$h(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?bn(o.injectImpl):null;b2(t,r,de.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Z8(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=o2(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&bn(c),$h(a),o.resolving=!1,A2()}}return i}function B2(t,e,n){return!!(n[e+(t>>O2)]&1<<t)}function j2(t,e){return!(t&de.Self||t&de.Host&&e)}class fn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return V2(this._tNode,this._lView,e,xh(r),n)}}function dj(){return new fn(Ut(),A())}function Bt(t){return di(()=>{const e=t.prototype.constructor,n=e[hi]||p_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[hi]||p_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function p_(t){return Ny(t)?()=>{const e=p_(X(t));return e&&e()}:Gs(t)}function $2(t){const e=t[B],n=e.type;return 2===n?e.declTNode:1===n?t[Jt]:null}const pa="__parameters__";function ma(t,e,n){return di(()=>{const r=function g_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(pa)?u[pa]:Object.defineProperty(u,pa,{value:[]})[pa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function _a(t,e){t.forEach(n=>Array.isArray(n)?_a(n,e):e(n))}function G2(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Wh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function jn(t,e,n){let r=va(t,e);return r>=0?t[1|r]=n:(r=~r,function vj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function m_(t,e){const n=va(t,e);if(n>=0)return t[1|n]}function va(t,e){return function z2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Tn=yc(ma("Optional"),8),Qh=yc(ma("SkipSelf"),4);function ef(t){return 128==(128&t.flags)}var ns=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ns||{});const I_=new Map;let Hj=0;const b_="__ngContext__";function Xt(t,e){Cn(e)?(t[b_]=e[bc],function zj(t){I_.set(t[bc],t)}(e)):t[b_]=e}let C_;function D_(t,e){return C_(t,e)}function Lc(t){const e=t[ze];return ln(e)?e[ze]:e}function dx(t){return fx(t[Ic])}function hx(t){return fx(t[Ir])}function fx(t){for(;null!==t&&!ln(t);)t=t[Ir];return t}function Ea(t,e,n,r,i){if(null!=r){let s,o=!1;ln(r)?s=r:Cn(r)&&(o=!0,r=r[Xe]);const a=Le(r);0===t&&null!==n?null==i?yx(e,n,a):Ws(e,n,a,i||null,!0):1===t&&null!==n?Ws(e,n,a,i||null,!0):2===t?function cf(t,e,n){const r=af(t,e);r&&function l$(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function f$(t,e,n,r,i){const s=n[Lr];s!==Le(n)&&Ea(e,t,r,s,i);for(let a=Lt;a<n.length;a++){const u=n[a];Uc(u[B],u,t,e,r,s)}}(e,t,s,n,i)}}function rf(t,e,n){return t.createElement(e,n)}function gx(t,e){const n=t[aa],r=n.indexOf(e);f2(e),n.splice(r,1)}function sf(t,e){if(t.length<=Lt)return;const n=Lt+e,r=t[n];if(r){const i=r[Ec];null!==i&&i!==t&&gx(i,r),e>0&&(t[n-1][Ir]=r[Ir]);const s=Wh(t,Lt+e);!function n$(t,e){Uc(t,e,e[ne],2,null,null),e[Xe]=null,e[Jt]=null}(r[B],r);const o=s[Fr];null!==o&&o.detachView(s[B]),r[ze]=null,r[Ir]=null,r[oe]&=-129}return r}function A_(t,e){if(!(256&e[oe])){const n=e[ne];e[Cc]&&XS(e[Cc]),e[Dc]&&XS(e[Dc]),n.destroyNode&&Uc(t,e,n,3,null,null),function s$(t){let e=t[Ic];if(!e)return S_(t[B],t);for(;e;){let n=null;if(Cn(e))n=e[Ic];else{const r=e[Lt];r&&(n=r)}if(!n){for(;e&&!e[Ir]&&e!==t;)Cn(e)&&S_(e[B],e),e=e[ze];null===e&&(e=t),Cn(e)&&S_(e[B],e),n=e&&e[Ir]}e=n}}(e)}}function S_(t,e){if(!(256&e[oe])){e[oe]&=-129,e[oe]|=256,function c$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof xc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Vr(4,a,u);try{u.call(a)}finally{Vr(5,a,u)}}else{Vr(4,i,s);try{s.call(i)}finally{Vr(5,i,s)}}}}}(t,e),function u$(t,e){const n=t.cleanup,r=e[ra];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[ra]=null);const i=e[Xi];if(null!==i){e[Xi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[B].type&&e[ne].destroy();const n=e[Ec];if(null!==n&&ln(e[ze])){n!==e[ze]&&gx(n,e);const r=e[Fr];null!==r&&r.detachView(t)}!function qj(t){I_.delete(t[bc])}(e)}}function x_(t,e,n){return function mx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Xe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===vr.None||s===vr.Emulated)return null}return Dn(r,n)}}(t,e.parent,n)}function Ws(t,e,n,r,i){t.insertBefore(e,n,r,i)}function yx(t,e,n){t.appendChild(e,n)}function _x(t,e,n,r,i){null!==r?Ws(t,e,n,r,i):yx(t,e,n)}function af(t,e){return t.parentNode(e)}let M_,lf,O_,df,Ix=function wx(t,e,n){return 40&t.type?Dn(t,n):null};function uf(t,e,n,r){const i=x_(t,r,e),s=e[ne],a=function vx(t,e,n){return Ix(t,e,n)}(r.parent||e[Jt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)_x(s,i,n[u],a,!1);else _x(s,i,n,a,!1);void 0!==M_&&M_(s,r,e,n,i)}function Vc(t,e){if(null!==e){const n=e.type;if(3&n)return Dn(e,t);if(4&n)return N_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Vc(t,r);{const i=t[e.index];return ln(i)?N_(-1,i):Le(i)}}if(32&n)return D_(e,t)()||Le(t[e.index]);{const r=bx(t,e);return null!==r?Array.isArray(r)?r[0]:Vc(Lc(t[ot]),r):Vc(t,e.next)}}return null}function bx(t,e){return null!==e?t[ot][Jt].projection[e.projection]:null}function N_(t,e){const n=Lt+t+1;if(n<e.length){const r=e[n],i=r[B].firstChild;if(null!==i)return Vc(r,i)}return e[Lr]}function R_(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Xt(Le(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)R_(t,e,n.child,r,i,s,!1),Ea(e,t,i,a,s);else if(32&u){const c=D_(n,r);let l;for(;l=c();)Ea(e,t,i,l,s);Ea(e,t,i,a,s)}else 16&u?Dx(t,e,r,n,i,s):Ea(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Uc(t,e,n,r,i,s){R_(n,r,t.firstChild,e,i,s,!1)}function Dx(t,e,n,r,i,s){const o=n[ot],u=o[Jt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ea(e,t,i,u[c],s);else{let c=u;const l=o[ze];ef(r)&&(c.flags|=128),R_(t,e,c,l,i,s,!0)}}function Tx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ax(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Gy(t,e,r),null!==i&&Tx(t,e,i),null!==s&&function g$(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function ba(t){return function k_(){if(void 0===lf&&(lf=null,Fe.trustedTypes))try{lf=Fe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lf}()?.createHTML(t)||t}function Mx(t){return function P_(){if(void 0===df&&(df=null,Fe.trustedTypes))try{df=Fe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return df}()?.createScriptURL(t)||t}class Ks{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wS})`}}class w$ extends Ks{getTypeName(){return"HTML"}}class I$ extends Ks{getTypeName(){return"Style"}}class E$ extends Ks{getTypeName(){return"Script"}}class b$ extends Ks{getTypeName(){return"URL"}}class C$ extends Ks{getTypeName(){return"ResourceURL"}}function $n(t){return t instanceof Ks?t.changingThisBreaksApplicationSecurity:t}function jr(t,e){const n=function D$(t){return t instanceof Ks&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${wS})`)}return n===e}class N${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(ba(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class R${constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=ba(e),n}}const O$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hf(t){return(t=String(t)).match(O$)?t:"unsafe:"+t}function mi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Bc(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Rx=mi("area,br,col,hr,img,wbr"),kx=mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ox=mi("rp,rt"),F_=Bc(Rx,Bc(kx,mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bc(Ox,mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bc(Ox,kx)),L_=mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Px=Bc(L_,mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),P$=mi("script,style,template");class F${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!F_.hasOwnProperty(n))return this.sanitizedSomething=!0,!P$.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Px.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;L_[a]&&(u=hf(u)),this.buf.push(" ",o,'="',Fx(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();F_.hasOwnProperty(n)&&!Rx.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Fx(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const L$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,V$=/([^\#-~ |!])/g;function Fx(t){return t.replace(/&/g,"&amp;").replace(L$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(V$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ff;function Lx(t,e){let n=null;try{ff=ff||function Nx(t){const e=new R$(t);return function k$(){try{return!!(new window.DOMParser).parseFromString(ba(""),"text/html")}catch{return!1}}()?new N$(e):e}(t);let r=e?String(e):"";n=ff.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ff.getInertBodyElement(r)}while(r!==s);return ba((new F$).sanitizeChildren(V_(n)||n))}finally{if(n){const r=V_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function V_(t){return"content"in t&&function U$(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ar=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ar||{});function jc(t){const e=$c();return e?e.sanitize(ar.URL,t)||"":jr(t,"URL")?$n(t):hf(te(t))}function U_(t){const e=$c();if(e)return Mx(e.sanitize(ar.RESOURCE_URL,t)||"");if(jr(t,"ResourceURL"))return Mx($n(t));throw new x(904,!1)}function $c(){const t=A();return t&&t[ia].sanitizer}const Hc=new V("ENVIRONMENT_INITIALIZER"),Ux=new V("INJECTOR",-1),Bx=new V("INJECTOR_DEF_TYPES");class B_{get(e,n=mc){if(n===mc){const r=new Error(`NullInjectorError: No provider for ${It(e)}!`);throw r.name="NullInjectorError",r}return n}}function q$(...t){return{\u0275providers:jx(0,t),\u0275fromNgModule:!0}}function jx(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return _a(e,o=>{const a=o;pf(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&$x(i,s),n}function $x(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];$_(i,s=>{e(s,r)})}}function pf(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=Th(t);const o=!s&&ge(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=Th(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)pf(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{_a(s.imports,l=>{pf(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&$x(c,e)}if(!a){const c=Gs(i)||(()=>new i);e({provide:i,useFactory:c,deps:we},i),e({provide:Bx,useValue:i,multi:!0},i),e({provide:Hc,useValue:()=>H(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;$_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function $_(t,e){for(let n of t)Ry(n)&&(n=n.\u0275providers),Array.isArray(n)?$_(n,e):e(n)}const W$=Te({provide:String,useValue:Te});function H_(t){return null!==t&&"object"==typeof t&&W$ in t}function Qs(t){return"function"==typeof t}const G_=new V("Set Injector scope."),gf={},Q$={};let z_;function mf(){return void 0===z_&&(z_=new B_),z_}class Hn{}class Da extends Hn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,W_(e,o=>this.processProvider(o)),this.records.set(Ux,Ta(void 0,this)),i.has("environment")&&this.records.set(Hn,Ta(void 0,this));const s=this.records.get(G_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Bx.multi,we,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Yi(this),r=bn(void 0);try{return e()}finally{Yi(n),bn(r)}}get(e,n=mc,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xS))return e[xS](this);r=xh(r);const s=Yi(this),o=bn(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function eH(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&Dh(e);u=c&&this.injectableDefInScope(c)?Ta(q_(e),gf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&de.Self?mf():this.parent).get(e,n=r&de.Optional&&n===mc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Sh]=a[Sh]||[]).unshift(It(e)),s)throw a;return function qB(t,e,n,r){const i=t[Sh];throw e[TS]&&i.unshift(e[TS]),t.message=function WB(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=It(e);if(Array.isArray(e))i=e.map(It).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):It(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jB,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Sh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{bn(o),Yi(s)}}resolveInjectorInitializers(){const e=Yi(this),n=bn(void 0);try{const i=this.get(Hc.multi,we,de.Self);for(const s of i)s()}finally{Yi(e),bn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let n=Qs(e=X(e))?e:X(e&&e.provide);const r=function J$(t){return H_(t)?Ta(void 0,t.useValue):Ta(zx(t),gf)}(e);if(Qs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ta(void 0,gf,!0),i.factory=()=>jy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===gf&&(n.value=Q$,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Z$(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function q_(t){const e=Dh(t),n=null!==e?e.factory:Gs(t);if(null!==n)return n;if(t instanceof V)throw new x(204,!1);if(t instanceof Function)return function Y$(t){const e=t.length;if(e>0)throw function Oc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new x(204,!1);const n=function LB(t){return t&&(t[Ah]||t[ES])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new x(204,!1)}function zx(t,e,n){let r;if(Qs(t)){const i=X(t);return Gs(i)||q_(i)}if(H_(t))r=()=>X(t.useValue);else if(function Gx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...jy(t.deps||[]));else if(function Hx(t){return!(!t||!t.useExisting)}(t))r=()=>H(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function X$(t){return!!t.deps}(t))return Gs(i)||q_(i);r=()=>new i(...jy(t.deps))}return r}function Ta(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function W_(t,e){for(const n of t)Array.isArray(n)?W_(n,e):n&&Ry(n)?W_(n.\u0275providers,e):e(n)}const yf=new V("AppId",{providedIn:"root",factory:()=>tH}),tH="ng",qx=new V("Platform Initializer"),yi=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wx=new V("CSP nonce",{providedIn:"root",factory:()=>function Ca(){if(void 0!==O_)return O_;if(typeof document<"u")return document;throw new x(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kx=(t,e,n)=>null;function tv(t,e,n=!1){return Kx(t,e,n)}class dH{}class Jx{}class fH{resolveComponentFactory(e){throw function hH(t){const e=Error(`No component factory found for ${It(t)}.`);return e.ngComponent=t,e}(e)}}let bf=(()=>{class t{static#e=this.NULL=new fH}return t})();function pH(){return xa(Ut(),A())}function xa(t,e){return new Gn(Dn(t,e))}let Gn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=pH}return t})();class Zx{}let _i=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function mH(){const t=A(),n=Vn(Ut().index,t);return(Cn(n)?n:t)[ne]}()}return t})(),yH=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();class Ma{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iv=new Ma("16.2.11"),sv={};function rM(t,e=null,n=null,r){const i=iM(t,e,n,r);return i.resolveInjectorInitializers(),i}function iM(t,e=null,n=null,r,i=new Set){const s=[n||we,q$(t)];return r=r||("object"==typeof t?void 0:It(t)),new Da(s,e||mf(),r||null,i)}let Zt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=mc;static#t=this.NULL=new B_;static create(n,r){if(Array.isArray(n))return rM({name:""},r,n,"");{const i=n.name??"";return rM({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=z({token:t,providedIn:"any",factory:()=>H(Ux)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function av(t){return t.ngOriginalError}class vi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&av(e);for(;n&&av(n);)n=av(n);return n||null}}function cv(t){return e=>{setTimeout(t,void 0,e)}}const Ze=class CH extends yr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=cv(s),i&&(i=cv(i)),o&&(o=cv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof En&&e.add(a),a}};function oM(...t){}class Ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function DH(){const t="function"==typeof Fe.requestAnimationFrame;let e=Fe[t?"requestAnimationFrame":"setTimeout"],n=Fe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function SH(t){const e=()=>{!function AH(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dv(t),t.isCheckStableRunning=!0,lv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function MH(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return aM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),uM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return aM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),uM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,dv(t),lv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,TH,oM,oM);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const TH={};function lv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function aM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uM(t){t._nesting--,lv(t)}class xH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ze,this.onMicrotaskEmpty=new Ze,this.onStable=new Ze,this.onError=new Ze}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const cM=new V("",{providedIn:"root",factory:lM});function lM(){const t=U(Ae);let e=!0;return function AB(...t){const e=gc(t),n=function wB(t,e){return"number"==typeof Sy(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Pn(r[0]):ea(n)(wt(r,e)):Or}(new Ce(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ce(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(vS()))}function wi(t){return t instanceof Function?t():t}let hv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function qc(t){for(;t;){t[oe]|=64;const e=Lc(t);if(Wy(t)&&!e)return t;t=e}return null}const gM=new V("",{providedIn:"root",factory:()=>!1});let Df=null;function vM(t,e){return t[e]??EM()}function wM(t,e){const n=EM();n.producerNode?.length&&(t[e]=Df,n.lView=t,Df=IM())}const BH={...qS,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qc(t.lView)},lView:null};function IM(){return Object.create(BH)}function EM(){return Df??=IM(),Df}const ie={};function k(t){bM(me(),A(),hn()+t,!1)}function bM(t,e,n,r){if(!r)if(3==(3&e[oe])){const s=t.preOrderCheckHooks;null!==s&&Bh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&jh(e,s,0,n)}zs(n)}function D(t,e=de.Default){const n=A();return null===n?H(t,e):V2(Ut(),n,X(t),e)}function Tf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Xe]=i,d[oe]=140|r,(null!==c||t&&2048&t[oe])&&(d[oe]|=2048),h2(d),d[ze]=d[sa]=t,d[st]=n,d[ia]=o||t&&t[ia],d[ne]=a||t&&t[ne],d[Ji]=u||t&&t[Ji]||null,d[Jt]=s,d[bc]=function Gj(){return Hj++}(),d[fi]=l,d[$S]=c,d[ot]=2==e.type?t[ot]:d,d}function ka(t,e,n,r,i){let s=t.data[e];if(null===s)s=function fv(t,e,n,r,i){const s=_2(),o=t_(),u=t.data[e]=function KH(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function la(){return null!==Y.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function G8(){return Y.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Sc(){const t=Y.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ur(s,!0),s}function Wc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function DM(t,e,n,r,i){const s=vM(e,Cc),o=hn(),a=2&r;try{zs(-1),a&&e.length>he&&bM(t,e,he,!1),Vr(a?2:0,i);const c=a?s:null,l=Qy(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Yy(c,l)}}finally{a&&null===e[Cc]&&wM(e,Cc),zs(o),Vr(a?3:1,i)}}function pv(t,e,n){if(qy(e)){const r=ir(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ir(r)}}}function gv(t,e,n){y2()&&(function tG(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Hs(n)&&function uG(t,e,n){const r=Dn(e,t),i=TM(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Af(t,Tf(t,i,null,o,r,e,null,t[ia].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Hh(n,e),Xt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=qs(e,t,a,n);Xt(c,e),null!==o&&cG(0,a-i,c,u,0,o),Er(u)&&(Vn(n.index,e)[st]=qs(e,t,a,n))}}(t,e,n,Dn(n,e)),64==(64&n.flags)&&NM(t,e,n))}function mv(t,e,n=Dn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function TM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=yv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function yv(t,e,n,r,i,s,o,a,u,c,l){const d=he+r,h=d+i,f=function $H(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(d,h),p="function"==typeof c?c():c;return f[B]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let AM=t=>null;function SM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?xM(n,e,i,s):r.hasOwnProperty(i)&&xM(n,e,r[i],s)}return n}function xM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function zn(t,e,n,r,i,s,o,a){const u=Dn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Ev(t,n,l,r,i),Hs(e)&&function JH(t,e){const n=Vn(e,t);16&n[oe]||(n[oe]|=64)}(n,e.index)):3&e.type&&(r=function YH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function _v(t,e,n,r){if(y2()){const i=null===r?null:{"":-1},s=function rG(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(FS(e,o.selectors,!1))if(r||(r=[]),Er(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),vv(t,e,a.length)}else r.unshift(o),vv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&MM(t,e,n,o,i,a),i&&function iG(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=vc(n.mergedAttrs,n.attrs)}function MM(t,e,n,r,i,s){for(let c=0;c<r.length;c++)f_(Hh(n,e),t,r[c].type);!function oG(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Wc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=vc(n.mergedAttrs,l.hostAttrs),aG(t,n,e,u,l),sG(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function QH(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=SM(d.inputs,l,u,h?h.inputs:null),c=SM(d.outputs,l,c,p);const g=null===u||null===o||PS(e)?null:lG(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function NM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function q8(){return Y.lFrame.currentDirectiveIndex}();try{zs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];r_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&nG(u,c)}}finally{zs(-1),r_(o)}}function nG(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function vv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function sG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Er(e)&&(n[""]=t)}}function aG(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Gs(i.type)),o=new xc(s,Er(i),D);t.blueprint[r]=o,n[r]=o,function ZH(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function eG(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Wc(t,n,i.hostVars,ie),i)}function $r(t,e,n,r,i,s){const o=Dn(t,e);!function wv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?te(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[ne],o,s,t.value,n,r,i)}function cG(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)RM(r,n,o[a++],o[a++],o[a++])}function RM(t,e,n,r,i){const s=ir(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ir(s)}}function lG(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function kM(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function OM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];s_(n[r]),o.contentQueries(2,e[s],s)}}}function Af(t,e){return t[Ic]?t[jS][Ir]=e:t[Ic]=e,t[jS]=e,e}function Iv(t,e,n){s_(0);const r=ir(null);try{e(t,n)}finally{ir(r)}}function VM(t,e){const n=t[Ji],r=n?n.get(vi,null):null;r&&r.handleError(e)}function Ev(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];RM(t.data[o],e[o],r,a,i)}}function Ii(t,e,n){const r=Lh(e,t);!function px(t,e,n){t.setValue(e,n)}(t[ne],r,n)}function dG(t,e){const n=Vn(e,t),r=n[B];!function hG(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Xe];null!==i&&null===n[fi]&&(n[fi]=tv(i,n[Ji])),bv(r,n,n[st])}function bv(t,e,n){o_(e);try{const r=t.viewQuery;null!==r&&Iv(1,r,n);const i=t.template;null!==i&&DM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&OM(t,e),t.staticViewQueries&&Iv(2,t.viewQuery,n);const s=t.components;null!==s&&function fG(t,e){for(let n=0;n<e.length;n++)dG(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,a_()}}let UM=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function E8(t,e,n){const r=Object.create(b8);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>YS(r),run:()=>{if(r.dirty=!1,r.hasRun&&!JS(r))return;r.hasRun=!0;const o=Qy(r);try{r.cleanupFn(),r.cleanupFn=s2,r.fn(i)}finally{Yy(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function Sf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=My(i,a):2==s&&(r=My(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Kc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Le(s)),ln(s)&&BM(s,r);const o=n.type;if(8&o)Kc(t,e,n.child,r);else if(32&o){const a=D_(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=bx(e,n);if(Array.isArray(a))r.push(...a);else{const u=Lc(e[ot]);Kc(u[B],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function BM(t,e){for(let n=Lt;n<t.length;n++){const r=t[n],i=r[B].firstChild;null!==i&&Kc(r[B],r,i,e)}t[Lr]!==t[Xe]&&e.push(t[Lr])}function xf(t,e,n,r=!0){const i=e[ia],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{jM(t,e,t.template,n)}catch(u){throw r&&VM(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function jM(t,e,n,r){const i=e[oe];if(256!=(256&i)){e[ia].effectManager?.flush(),o_(e);try{h2(e),function w2(t){return Y.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&DM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Bh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&jh(e,c,0,null),u_(e,0)}if(function mG(t){for(let e=dx(t);null!==e;e=hx(e)){if(!e[HS])continue;const n=e[aa];for(let r=0;r<n.length;r++){k8(n[r])}}}(e),$M(e,2),null!==t.contentQueries&&OM(t,e),o){const c=t.contentCheckHooks;null!==c&&Bh(e,c)}else{const c=t.contentHooks;null!==c&&jh(e,c,1),u_(e,1)}!function jH(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=vM(e,Dc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)zs(~s);else{const o=s,a=n[++i],u=n[++i];z8(a,o),r.dirty=!1;const c=Qy(r);try{u(2,e[o])}finally{Yy(r,c)}}}}finally{null===e[Dc]&&wM(e,Dc),zs(-1)}}(t,e);const a=t.components;null!==a&&GM(e,a,0);const u=t.viewQuery;if(null!==u&&Iv(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Bh(e,c)}else{const c=t.viewHooks;null!==c&&jh(e,c,2),u_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[oe]&=-73,f2(e)}finally{a_()}}}function $M(t,e){for(let n=dx(t);null!==n;n=hx(n))for(let r=Lt;r<n.length;r++)HM(n[r],e)}function yG(t,e,n){HM(Vn(e,t),n)}function HM(t,e){if(!function N8(t){return 128==(128&t[oe])}(t))return;const n=t[B],r=t[oe];if(80&r&&0===e||1024&r||2===e)jM(n,t,n.template,t[st]);else if(t[wc]>0){$M(t,1);const i=n.components;null!==i&&GM(t,i,1)}}function GM(t,e,n){for(let r=0;r<e.length;r++)yG(t,e[r],n)}class Qc{get rootNodes(){const e=this._lView,n=e[B];return Kc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[st]}set context(e){this._lView[st]=e}get destroyed(){return 256==(256&this._lView[oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ze];if(ln(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(sf(e,r),Wh(n,r))}this._attachedToViewContainer=!1}A_(this._lView[B],this._lView)}onDestroy(e){!function g2(t,e){if(256==(256&t[oe]))throw new x(911,!1);null===t[Xi]&&(t[Xi]=[]),t[Xi].push(e)}(this._lView,e)}markForCheck(){qc(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-129}reattach(){this._lView[oe]|=128}detectChanges(){xf(this._lView[B],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function i$(t,e){Uc(t,e,e[ne],2,null,null)}(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class _G extends Qc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;xf(e[B],e,e[st],!1)}checkNoChanges(){}get context(){return null}}class zM extends bf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ge(e);return new Yc(n,this.ngModule)}}function qM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class wG{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xh(r);const i=this.injector.get(e,sv,r);return i!==sv||n===sv?i:this.parentInjector.get(e,n,r)}}class Yc extends Jx{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=qM(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function r8(t){return t.map(n8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Hn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new wG(e,s):e,a=o.get(Zx,null);if(null===a)throw new x(407,!1);const d={rendererFactory:a,sanitizer:o.get(yH,null),effectManager:o.get(UM,null),afterRenderEventManager:o.get(hv,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function HH(t,e,n,r){const s=r.get(gM,!1)||n===vr.ShadowDom,o=t.selectRootElement(e,s);return function GH(t){AM(t)}(o),o}(h,r,this.componentDef.encapsulation,o):rf(h,f,function vG(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),b=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==p&&(w=tv(p,o,!0));const T=yv(0,null,null,1,0,null,null,null,null,null,null),F=Tf(null,T,null,b,null,null,d,h,o,null,w);let G,J;o_(F);try{const ke=this.componentDef;let Qt,ci=null;ke.findHostDirectiveDefs?(Qt=[],ci=new Map,ke.findHostDirectiveDefs(ke,Qt,ci),Qt.push(ke)):Qt=[ke];const KA=function EG(t,e){const n=t[B],r=he;return t[r]=e,ka(n,r,2,"#host",null)}(F,p),V_e=function bG(t,e,n,r,i,s,o){const a=i[B];!function CG(t,e,n,r){for(const i of t)e.mergedAttrs=vc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Sf(e,e.mergedAttrs,!0),null!==n&&Ax(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=tv(e,i[Ji]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Tf(i,TM(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&vv(a,t,r.length-1),Af(i,d),i[t.index]=d}(KA,p,ke,Qt,F,d,h);J=d2(T,he),p&&function TG(t,e,n,r){if(r)Gy(t,n,["ng-version",iv.full]);else{const{attrs:i,classes:s}=function i8(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!wr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Gy(t,n,i),s&&s.length>0&&Tx(t,n,s.join(" "))}}(h,ke,p,r),void 0!==n&&function AG(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(J,this.ngContentSelectors,n),G=function DG(t,e,n,r,i,s){const o=Ut(),a=i[B],u=Dn(o,i);MM(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Xt(qs(i,a,o.directiveStart+l,o),i);NM(a,i,o),u&&Xt(u,i);const c=qs(i,a,o.directiveStart+o.componentOffset,o);if(t[st]=i[st]=c,null!==s)for(const l of s)l(c,e);return pv(a,o,t),c}(V_e,ke,Qt,ci,F,[SG]),bv(T,F,null)}finally{a_()}return new IG(this.componentType,G,xa(J,F),F,J)}}class IG extends dH{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new _G(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Ev(s[B],s,i,e,n),this.previousInputValues.set(e,n),qc(Vn(this._tNode.index,s))}}get injector(){return new fn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function SG(){const t=Ut();Uh(A()[B],t)}function Se(t){let e=function WM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Er(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Mf(t.inputs),o.inputTransforms=Mf(t.inputTransforms),o.declaredInputs=Mf(t.declaredInputs),o.outputs=Mf(t.outputs);const a=i.hostBindings;a&&RG(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&MG(t,u),c&&NG(t,c),bh(t.inputs,i.inputs),bh(t.declaredInputs,i.declaredInputs),bh(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),bh(o.inputTransforms,i.inputTransforms)),Er(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Se&&(n=!1)}}e=Object.getPrototypeOf(e)}!function xG(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=vc(i.hostAttrs,n=vc(n,i.hostAttrs))}}(r)}function Mf(t){return t===Pr?{}:t===we?[]:t}function MG(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function NG(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function RG(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function JM(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Nf(t){return!!function Cv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function en(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ys(t,e,n,r){const i=en(t,e,n);return en(t,e+1,r)||i}function Gr(t,e,n,r){const i=A();return en(i,da(),e)&&(me(),$r(Qe(),i,t,e,n,r)),Gr}function Pa(t,e,n,r){return en(t,da(),n)?e+te(n)+r:ie}function La(t,e,n,r,i,s,o,a){const c=function Rf(t,e,n,r,i){const s=Ys(t,e,n,r);return en(t,e+2,i)||s}(t,pi(),n,i,o);return gi(3),c?e+te(n)+r+te(i)+s+te(o)+a:ie}function le(t,e,n,r,i,s,o,a){const u=A(),c=me(),l=t+he,d=c.firstCreatePass?function rz(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ka(e,t,4,o||null,es(c,a));_v(e,n,l,es(c,u)),Uh(e,l);const d=l.tView=yv(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Ur(d,!1);const h=lN(c,u,d,t);Vh()&&uf(c,u,h,d),Xt(h,u),Af(u,u[l]=kM(h,u,h,d)),Oh(d)&&gv(c,u,d),null!=o&&mv(u,d,a)}let lN=function dN(t,e,n,r){return ts(!0),e[ne].createComment("")};function j(t,e,n){const r=A();return en(r,da(),e)&&zn(me(),Qe(),r,t,e,r[ne],n,!1),j}function Mv(t,e,n,r,i){const o=i?"class":"style";Ev(t,n,e.inputs[o],o,r)}function _(t,e,n,r){const i=A(),s=me(),o=he+t,a=i[ne],u=s.firstCreatePass?function uz(t,e,n,r,i,s){const o=e.consts,u=ka(e,t,2,r,es(o,i));return _v(e,n,u,es(o,s)),null!==u.attrs&&Sf(u,u.attrs,!1),null!==u.mergedAttrs&&Sf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=hN(s,i,u,a,e,t);i[o]=c;const l=Oh(u);return Ur(u,!0),Ax(a,c,u),32!=(32&u.flags)&&Vh()&&uf(s,i,c,u),0===function P8(){return Y.lFrame.elementDepthCount}()&&Xt(c,i),function F8(){Y.lFrame.elementDepthCount++}(),l&&(gv(s,i,u),pv(s,u,i)),null!==r&&mv(i,u),_}function m(){let t=Ut();t_()?function n_(){Y.lFrame.isParent=!1}():(t=t.parent,Ur(t,!1));const e=t;(function V8(t){return Y.skipHydrationRootTNode===t})(e)&&function $8(){Y.skipHydrationRootTNode=null}(),function L8(){Y.lFrame.elementDepthCount--}();const n=me();return n.firstCreatePass&&(Uh(n,t),qy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function nj(t){return 0!=(8&t.flags)}(e)&&Mv(n,e,A(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function rj(t){return 0!=(16&t.flags)}(e)&&Mv(n,e,A(),e.stylesWithoutHost,!1),m}function M(t,e,n,r){return _(t,e,n,r),m(),M}let hN=(t,e,n,r,i,s)=>(ts(!0),rf(r,i,function x2(){return Y.lFrame.currentNamespace}()));function qn(){return A()}function tl(t){return!!t&&"function"==typeof t.then}function gN(t){return!!t&&"function"==typeof t.subscribe}function ae(t,e,n,r){const i=A(),s=me(),o=Ut();return function yN(t,e,n,r,i,s,o){const a=Oh(r),c=t.firstCreatePass&&function FM(t){return t.cleanup||(t.cleanup=[])}(t),l=e[st],d=function PM(t){return t[ra]||(t[ra]=[])}(e);let h=!0;if(3&r.type||o){const g=Dn(r,e),y=o?o(g):g,b=d.length,w=o?F=>o(Le(F[r.index])):r.index;let T=null;if(!o&&a&&(T=function pz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[ra],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,h=!1;else{s=vN(r,e,l,s,!1);const F=n.listen(y,i,s);d.push(s,F),c&&c.push(i,w,b,b+1)}}else s=vN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const G=e[p[y]][p[y+1]].subscribe(s),J=d.length;d.push(s,G),c&&c.push(i,r.index,J,-(J+1))}}}(s,i,i[ne],o,t,e,r),ae}function _N(t,e,n,r){try{return Vr(6,e,n),!1!==n(r)}catch(i){return VM(t,i),!1}finally{Vr(7,e,n)}}function vN(t,e,n,r,i){return function s(o){if(o===Function)return r;qc(t.componentOffset>-1?Vn(t.index,e):e);let u=_N(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=_N(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function qe(t=1){return function K8(t){return(Y.lFrame.contextLView=function Q8(t,e){for(;t>0;)e=e[sa],t--;return e}(t,Y.lFrame.contextLView))[st]}(t)}function kv(t,e,n){return Ov(t,"",e,"",n),kv}function Ov(t,e,n,r,i){const s=A(),o=Pa(s,e,n,r);return o!==ie&&zn(me(),Qe(),s,t,o,s[ne],i,!1),Ov}function Ff(t,e){return t<<17|e<<2}function rs(t){return t>>17&32767}function Pv(t){return 2|t}function Js(t){return(131068&t)>>2}function Fv(t,e){return-131069&t|e<<2}function Lv(t){return 1|t}function SN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?rs(s):Js(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];bz(t[a],e)&&(u=!0,t[a+1]=r?Lv(l):Pv(l)),a=r?rs(l):Js(l)}u&&(t[n+1]=r?Pv(s):Lv(s))}function bz(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&va(t,e)>=0}function Lf(t,e){return function br(t,e,n,r){const i=A(),s=me(),o=gi(2);s.firstUpdatePass&&function LN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[hn()],o=function FN(t,e){return e>=t.expandoStartIndex}(t,n);(function jN(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function Rz(t,e,n,r){const i=function i_(t){const e=Y.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=nl(n=Vv(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Vv(i,t,e,n,r),null===s){let u=function kz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Js(r))return t[rs(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Vv(null,t,e,u[1],r),u=nl(u,e.attrs,r),function Oz(t,e,n,r){t[rs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Pz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=nl(r,t[s].hostAttrs,n);return nl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Iz(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=rs(o),u=Js(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||va(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=rs(t[a+1]);t[r+1]=Ff(h,a),0!==h&&(t[h+1]=Fv(t[h+1],r)),t[a+1]=function vz(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ff(a,0),0!==a&&(t[a+1]=Fv(t[a+1],r)),a=r;else t[r+1]=Ff(u,0),0===a?a=r:t[u+1]=Fv(t[u+1],r),u=r;c&&(t[r+1]=Pv(t[r+1])),SN(t,l,r,!0),SN(t,l,r,!1),function Ez(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&va(s,e)>=0&&(n[r+1]=Lv(n[r+1]))}(e,l,t,r,s),o=Ff(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ie&&en(i,o,e)&&function UN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function wz(t){return 1==(1&t)}(c)?BN(u,e,n,i,Js(c),o):void 0;Vf(l)||(Vf(s)||function _z(t){return 2==(2&t)}(c)&&(s=BN(u,null,n,i,a,o)),function p$(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:ns.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ns.Important),t.setStyle(n,r,i,s))}}(r,o,Lh(hn(),n),i,s))}(s,s.data[hn()],i,i[ne],t,i[o+1]=function Uz(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=It($n(t)))),t}(e,n),r,o)}(t,e,null,!0),Lf}function Vv(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=nl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function nl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jn(t,o,!!n||e[++s]))}return void 0===t?null:t}function BN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ie&&(h=d?we:void 0);let f=d?m_(h,r):l===r?h:void 0;if(c&&!Vf(f)&&(f=m_(u,r)),Vf(f)&&(a=f,o))return a;const p=t[i+1];i=o?rs(p):Js(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=m_(u,r))}return a}function Vf(t){return void 0!==t}function I(t,e=""){const n=A(),r=me(),i=t+he,s=r.firstCreatePass?ka(r,i,1,e,null):r.data[i],o=$N(r,n,s,e,t);n[i]=o,Vh()&&uf(r,n,o,s),Ur(s,!1)}let $N=(t,e,n,r,i)=>(ts(!0),function nf(t,e){return t.createText(e)}(e[ne],r));function Sn(t){return ft("",t,""),Sn}function ft(t,e,n){const r=A(),i=Pa(r,t,e,n);return i!==ie&&Ii(r,hn(),i),ft}function Uf(t,e,n,r,i){const s=A(),o=function Fa(t,e,n,r,i,s){const a=Ys(t,pi(),n,i);return gi(2),a?e+te(n)+r+te(i)+s:ie}(s,t,e,n,r,i);return o!==ie&&Ii(s,hn(),o),Uf}function Uv(t,e,n,r,i,s,o){const a=A(),u=La(a,t,e,n,r,i,s,o);return u!==ie&&Ii(a,hn(),u),Uv}const za="en-US";let uR=za;function $v(t,e,n,r,i){if(t=X(t),Array.isArray(t))for(let s=0;s<t.length;s++)$v(t[s],e,n,r,i);else{const s=me(),o=A(),a=Ut();let u=Qs(t)?t:X(t.provide);const c=zx(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Qs(t)||!t.multi){const f=new xc(c,i,D),p=Gv(u,e,i?l:l+h,d);-1===p?(f_(Hh(a,o),s,u),Hv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Gv(u,e,l+h,d),p=Gv(u,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){f_(Hh(a,o),s,u);const b=function oW(t,e,n,r,i){const s=new xc(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,kR(s,i,r&&!n),s}(i?sW:iW,n.length,i,r,c);!i&&y&&(n[p].providerFactory=b),Hv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),o.push(b)}else Hv(s,t,f>-1?f:p,kR(n[i?p:f],c,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Hv(t,e,n,r){const i=Qs(e),s=function K$(t){return!!t.useClass}(e);if(i||s){const u=(s?X(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function kR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Gv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function iW(t,e,n,r){return zv(this.multi,[])}function sW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=qs(n,n[B],this.providerFactory.index,r);s=a.slice(0,o),zv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],zv(i,s);return s}function zv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function We(t,e=[]){return n=>{n.providersResolver=(r,i)=>function rW(t,e,n){const r=me();if(r.firstCreatePass){const i=Er(t);$v(n,r.data,r.blueprint,i,!0),$v(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Zs{}class OR{}class qv extends Zs{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zM(this);const i=Ln(e);this._bootstrapComponents=wi(i.bootstrap),this._r3Injector=iM(e,n,[{provide:Zs,useValue:this},{provide:bf,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Wv extends OR{constructor(e){super(),this.moduleType=e}create(e){return new qv(this.moduleType,e,[])}}class PR extends Zs{constructor(e){super(),this.componentFactoryResolver=new zM(this),this.instance=null;const n=new Da([...e.providers,{provide:Zs,useValue:this},{provide:bf,useValue:this.componentFactoryResolver}],e.parent||mf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Kv(t,e,n=null){return new PR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let cW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=jx(0,n.type),i=r.length>0?Kv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(H(Hn))})}return t})();function FR(t){t.getStandaloneInjector=e=>e.get(cW).getOrCreateStandaloneInjector(t)}function ul(t,e,n,r){return HR(A(),dn(),t,e,n,r)}function HR(t,e,n,r,i,s){const o=e+n;return en(t,o,i)?function Hr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function cl(t,e){const n=t[e];return n===ie?void 0:n}(t,o+1)}function QR(t,e,n){const r=t+he,i=A(),s=function ca(t,e){return t[e]}(i,r);return function ll(t,e){return t[B].data[e].pure}(i,r)?HR(i,dn(),e,s.transform,n,s):s.transform(n)}function OW(t,e,n,r=!0){const i=e[B];if(function o$(t,e,n,r){const i=Lt+r,s=n.length;r>0&&(n[i-1][Ir]=e),r<s-Lt?(e[Ir]=n[i],G2(n,Lt+r,e)):(n.push(e),e[Ir]=null),e[ze]=n;const o=e[Ec];null!==o&&n!==o&&function a$(t,e){const n=t[aa];e[ot]!==e[ze][ze][ot]&&(t[HS]=!0),null===n?t[aa]=[e]:n.push(e)}(o,e);const a=e[Fr];null!==a&&a.insertView(t),e[oe]|=128}(i,e,t,n),r){const s=N_(n,t),o=e[ne],a=af(o,t[Lr]);null!==a&&function r$(t,e,n,r,i,s){r[Xe]=i,r[Jt]=e,Uc(t,r,n,1,i,s)}(i,t[Jt],o,e,a,s)}}Symbol;let Ei=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=LW}return t})();const PW=Ei,FW=class extends PW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function kW(t,e,n,r){const i=e.tView,a=Tf(t,i,n,4096&t[oe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ec]=t[e.index];const c=t[Fr];return null!==c&&(a[Fr]=c.createEmbeddedView(i)),bv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Qc(i)}};function LW(){return function Gf(t,e){return 4&t.type?new FW(e,t,xa(t,e)):null}(Ut(),A())}let Dr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=HW}return t})();function HW(){return function nk(t,e){let n;const r=e[t.index];return ln(r)?n=r:(n=kM(r,e,null,t),e[t.index]=n,Af(e,n)),rk(n,e,t,r),new ek(n,t,e)}(Ut(),A())}const GW=Dr,ek=class extends GW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new fn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gh(this._hostTNode,this._hostLView);if(l_(e)){const n=Nc(e,this._hostLView),r=Mc(e);return new fn(n[B].data[r+8],n)}return new fn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=tk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function kc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Yc(ge(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(Hn,null);y&&(s=y)}ge(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function R8(t){return ln(t[ze])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[ze],l=new ek(c,c[Jt],c[ze]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return OW(a,i,o,!r),e.attachToViewContainerRef(),G2(Jv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=tk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=sf(this._lContainer,n);r&&(Wh(Jv(this._lContainer),n),A_(r[B],r))}detach(e){const n=this._adjustIndex(e,-1),r=sf(this._lContainer,n);return r&&null!=Wh(Jv(this._lContainer),n)?new Qc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function tk(t){return t[8]}function Jv(t){return t[8]||(t[8]=[])}let rk=function ik(t,e,n,r){if(t[Lr])return;let i;i=8&n.type?Le(r):function zW(t,e){const n=t[ne],r=n.createComment(""),i=Dn(e,t);return Ws(n,af(n,i),r,function d$(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Lr]=i};const c0=new V("Application Initializer");let l0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=U(c0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(tl(s))n.push(s);else if(gN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const bi=new V("LocaleId",{providedIn:"root",factory:()=>U(bi,de.Optional|de.SkipSelf)||function EK(){return typeof $localize<"u"&&$localize.locale||za}()});let Wf=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class DK{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Mk=(()=>{class t{compileModuleSync(n){return new Wv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=wi(Ln(n).declarations).reduce((o,a)=>{const u=ge(a);return u&&o.push(new Yc(u)),o},[]);return new DK(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ok=new V(""),Qf=new V("");let g0,f0=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,g0||(function WK(t){g0=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(H(Ae),H(p0),H(Qf))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),p0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return g0?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),is=null;const Pk=new V("AllowMultipleToken"),m0=new V("PlatformDestroyListeners"),y0=new V("appBootstrapListener");class Lk{constructor(e,n){this.name=e,this.token=n}}function Uk(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=_0();if(!o||o.injector.get(Pk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function YK(t){if(is&&!is.get(Pk,!1))throw new x(400,!1);(function Fk(){!function y8(t){t2=t}(()=>{throw new x(600,!1)})})(),is=t;const e=t.get(jk);(function Vk(t){t.get(qx,null)?.forEach(n=>n())})(t)}(function Bk(t=[],e){return Zt.create({name:e,providers:[{provide:G_,useValue:"platform"},{provide:m0,useValue:new Set([()=>is=null])},...t]})}(a,r))}return function XK(t){const e=_0();if(!e)throw new x(401,!1);return e}()}}function _0(){return is?.get(jk)??null}let jk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function ZK(t="zone.js",e){return"noop"===t?new xH:"zone.js"===t?new Ae(e):t}(r?.ngZone,function $k(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function uW(t,e,n){return new qv(t,e,n)}(n.moduleType,this.injector,function Wk(t){return[{provide:Ae,useFactory:t},{provide:Hc,multi:!0,useFactory:()=>{const e=U(tQ,{optional:!0});return()=>e.initialize()}},{provide:qk,useFactory:eQ},{provide:cM,useFactory:lM}]}(()=>i)),o=s.injector.get(vi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Yf(this._modules,s),a.unsubscribe()})}),function Hk(t,e,n){try{const r=n();return tl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(l0);return a.runInitializers(),a.donePromise.then(()=>(function cR(t){rr(t,"Expected localeId to be defined"),"string"==typeof t&&(uR=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(bi,za)||za),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=Gk({},r);return function KK(t,e,n){const r=new Wv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ka);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new x(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(m0,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(H(Zt))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Gk(t,e){return Array.isArray(e)?e.reduce(Gk,t):{...t,...e}}let Ka=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=U(qk),this.zoneIsStable=U(cM),this.componentTypes=[],this.components=[],this.isStable=U(Wf).hasPendingTasks.pipe(_r(n=>n?K(!1):this.zoneIsStable),function SB(t,e=Ki){return t=t??xB,vt((n,r)=>{let i,s=!0;n.subscribe(ht(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),vS()),this._injector=U(Hn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Jx;if(!this._injector.get(l0).done)throw!i&&function na(t){const e=ge(t)||Ft(t)||cn(t);return null!==e&&e.standalone}(n),new x(405,!1);let o;o=i?n:this._injector.get(bf).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function QK(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Zs),c=o.create(Zt.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Ok,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Yf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Yf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(y0,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Yf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const qk=new V("",{providedIn:"root",factory:()=>U(vi).handleError.bind(void 0)});function eQ(){const t=U(Ae),e=U(vi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let tQ=(()=>{class t{constructor(){this.zone=U(Ae),this.applicationRef=U(Ka)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Jf=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=rQ}return t})();function rQ(t){return function iQ(t,e,n){if(Hs(t)&&!n){const r=Vn(t.index,e);return new Qc(r,r)}return 47&t.type?new Qc(e[ot],e):null}(Ut(),A(),16==(16&t))}class Jk{constructor(){}supports(e){return Nf(e)}create(e){return new lQ(e)}}const cQ=(t,e)=>e;class lQ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cQ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Zk(r,i,s)?n:r,a=Zk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Nf(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function UG(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new dQ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Xk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class dQ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hQ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Xk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new hQ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function tO(){return new ep([new Jk])}let ep=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:tO});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||tO()),deps:[[t,new Qh,new Tn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new x(901,!1)}}return t})();const yQ=Uk(null,"core",[]);let _Q=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(H(Ka))};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({})}return t})();function Qa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let C0=null;function ss(){return C0}class RQ{}const mn=new V("DocumentToken");let D0=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return U(OQ)},providedIn:"platform"})}return t})();const kQ=new V("Location Initialized");let OQ=(()=>{class t extends D0{constructor(){super(),this._doc=U(mn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ss().getBaseHref(this._doc)}onPopState(n){const r=ss().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ss().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function T0(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function dO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ci(t){return t&&"?"!==t[0]?"?"+t:t}let to=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return U(fO)},providedIn:"root"})}return t})();const hO=new V("appBaseHref");let fO=(()=>{class t extends to{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return T0(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ci(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ci(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ci(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(H(D0),H(hO,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PQ=(()=>{class t extends to{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=T0(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ci(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ci(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(H(D0),H(hO,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),A0=(()=>{class t{constructor(n){this._subject=new Ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function VQ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(dO(pO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ci(r))}normalize(n){return t.stripTrailingSlash(function LQ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,pO(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ci(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ci(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ci;static#t=this.joinWithSlash=T0;static#n=this.stripTrailingSlash=dO;static#r=this.\u0275fac=function(r){return new(r||t)(H(to))};static#i=this.\u0275prov=z({token:t,factory:function(){return function FQ(){return new A0(H(to))}()},providedIn:"root"})}return t})();function pO(t){return t.replace(/\/index.html$/,"")}function bO(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class CY{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let no=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new CY(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),TO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{TO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(D(Dr),D(Ei),D(ep))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function TO(t,e){t.context.$implicit=e.item}let Ja=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new DY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){AO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){AO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(D(Dr),D(Ei))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class DY{constructor(){this.$implicit=null,this.ngIf=null}}function AO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${It(e)}'.`)}let hp=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({})}return t})();function NO(t){return"server"===t}let ZY=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new eJ(H(mn),window)})}return t})();class eJ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function tJ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class RO{}class CJ extends RQ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class G0 extends CJ{static makeCurrent(){!function NQ(t){C0||(C0=t)}(new G0)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function DJ(){return yl=yl||document.querySelector("base"),yl?yl.getAttribute("href"):null}();return null==n?null:function TJ(t){gp=gp||document.createElement("a"),gp.setAttribute("href",t);const e=gp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bO(document.cookie,e)}}let gp,yl=null,SJ=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const z0=new V("EventManagerPlugins");let LO=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(H(z0),H(Ae))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class VO{constructor(e){this._doc=e}}const q0="ng-app-id";let UO=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=NO(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${q0}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(q0),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(q0,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(H(mn),H(yf),H(Wx,8),H(yi))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const W0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},K0=/%COMP%/g,RJ=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function jO(t,e){return e.map(n=>n.replace(K0,t))}let $O=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=NO(a),this.defaultRenderer=new Q0(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vr.ShadowDom&&(r={...r,encapsulation:vr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof GO?i.applyToHost(n):i instanceof Y0&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case vr.Emulated:s=new GO(u,c,r,this.appId,l,o,a,d);break;case vr.ShadowDom:return new FJ(u,c,n,r,o,a,this.nonce,d);default:s=new Y0(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(H(LO),H(UO),H(yf),H(RJ),H(mn),H(yi),H(Ae),H(Wx))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class Q0{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(W0[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(HO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(HO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=W0[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=W0[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ns.DashCase|ns.Important)?e.style.setProperty(n,r,i&ns.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ns.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ss().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function HO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class FJ extends Q0{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=jO(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Y0 extends Q0{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?jO(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class GO extends Y0{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function kJ(t){return"_ngcontent-%COMP%".replace(K0,t)}(c),this.hostAttr=function OJ(t){return"_nghost-%COMP%".replace(K0,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let LJ=(()=>{class t extends VO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(H(mn))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const zO=["alt","control","meta","shift"],VJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UJ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let BJ=(()=>{class t extends VO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ss().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),zO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=VJ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),zO.forEach(o=>{o!==i&&(0,UJ[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(H(mn))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const WO=[{provide:yi,useValue:"browser"},{provide:qx,useValue:function jJ(){G0.makeCurrent()},multi:!0},{provide:mn,useFactory:function HJ(){return function v$(t){O_=t}(document),document},deps:[]}],GJ=Uk(yQ,"browser",WO),zJ=new V(""),KO=[{provide:Qf,useClass:class AJ{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new x(5103,!1);return s},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements(),Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(r=>{const i=Fe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ss().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Ok,useClass:f0,deps:[Ae,p0,Qf]},{provide:f0,useClass:f0,deps:[Ae,p0,Qf]}],QO=[{provide:G_,useValue:"root"},{provide:vi,useFactory:function $J(){return new vi},deps:[]},{provide:z0,useClass:LJ,multi:!0,deps:[mn,Ae,yi]},{provide:z0,useClass:BJ,multi:!0,deps:[mn]},$O,UO,LO,{provide:Zx,useExisting:$O},{provide:RO,useClass:SJ,deps:[]},[]];let qJ=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:yf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(H(zJ,12))};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({providers:[...QO,...KO],imports:[hp,_Q]})}return t})(),YO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(H(mn))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function KJ(){return new YO(H(mn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let ZO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new(r||t):H(eP),i},providedIn:"root"})}return t})(),eP=(()=>{class t extends ZO{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case ar.NONE:return r;case ar.HTML:return jr(r,"HTML")?$n(r):Lx(this._doc,String(r)).toString();case ar.STYLE:return jr(r,"Style")?$n(r):r;case ar.SCRIPT:if(jr(r,"Script"))return $n(r);throw new x(5200,!1);case ar.URL:return jr(r,"URL")?$n(r):hf(String(r));case ar.RESOURCE_URL:if(jr(r,"ResourceURL"))return $n(r);throw new x(5201,!1);default:throw new x(5202,!1)}}bypassSecurityTrustHtml(n){return function T$(t){return new w$(t)}(n)}bypassSecurityTrustStyle(n){return function A$(t){return new I$(t)}(n)}bypassSecurityTrustScript(n){return function S$(t){return new E$(t)}(n)}bypassSecurityTrustUrl(n){return function x$(t){return new b$(t)}(n)}bypassSecurityTrustResourceUrl(n){return function M$(t){return new C$(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(H(mn))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function XJ(t){return new eP(t.get(mn))}(H(Zt)),i},providedIn:"root"})}return t})();const{isArray:eX}=Array,{getPrototypeOf:tX,prototype:nX,keys:rX}=Object;function nP(t){if(1===t.length){const e=t[0];if(eX(e))return{args:e,keys:null};if(function iX(t){return t&&"object"==typeof t&&tX(t)===nX}(e)){const n=rX(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:sX}=Array;function rP(t){return Ie(e=>function oX(t,e){return sX(e)?t(...e):t(e)}(t,e))}function iP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function X0(...t){const e=gc(t),n=yS(t),{args:r,keys:i}=nP(t);if(0===r.length)return wt([],e);const s=new Ce(function aX(t,e,n=Ki){return r=>{sP(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)sP(e,()=>{const c=wt(t[u],e);let l=!1;c.subscribe(ht(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>iP(i,o):Ki));return n?s.pipe(rP(n)):s}function sP(t,e,n){t?li(n,t,e):e()}const mp=fc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z0(...t){return function uX(){return ea(1)}()(wt(t,gc(t)))}function oP(t){return new Ce(e=>{Pn(t()).subscribe(e)})}function _l(t,e){const n=Re(t)?t:()=>t,r=i=>i.error(n());return new Ce(e?i=>e.schedule(r,0,i):r)}function ew(){return vt((t,e)=>{let n=null;t._refCount++;const r=ht(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class aP extends Ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new En;const n=this.getSubject();e.add(this.source.subscribe(ht(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=En.EMPTY)}return e}refCount(){return ew()(this)}}function Xa(t){return t<=0?()=>Or:vt((e,n)=>{let r=0;e.subscribe(ht(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ai(t,e){return vt((n,r)=>{let i=0;n.subscribe(ht(r,s=>t.call(e,s,i++)&&r.next(s)))})}function yp(t){return vt((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function uP(t=lX){return vt((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lX(){return new mp}function ro(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ai((i,s)=>t(i,s,r)):Ki,Xa(1),n?yp(e):uP(()=>new mp))}function Za(t,e){return Re(e)?Ot(t,e,1):Ot(t,1)}function jt(t,e,n){const r=Re(t)||e||n?{next:t,error:e,complete:n}:t;return r?vt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ht(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ki}function io(t){return vt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ht(n,void 0,void 0,o=>{s=Pn(t(o,io(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function tw(t){return t<=0?()=>Or:vt((e,n)=>{let r=[];e.subscribe(ht(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function vl(t){return vt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ue="primary",wl=Symbol("RouteTitle");class mX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function eu(t){return new mX(t)}function yX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Wr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!cP(t[i],e[i]))return!1;return!0}function cP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function lP(t){return t.length>0?t[t.length-1]:null}function as(t){return function ZJ(t){return!!t&&(t instanceof Ce||Re(t.lift)&&Re(t.subscribe))}(t)?t:tl(t)?wt(Promise.resolve(t)):K(t)}const vX={exact:function fP(t,e,n){if(!so(t.segments,e.segments)||!_p(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!fP(t.children[r],e.children[r],n))return!1;return!0},subset:pP},dP={exact:function wX(t,e){return Wr(t,e)},subset:function IX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>cP(t[n],e[n]))},ignored:()=>!0};function hP(t,e,n){return vX[n.paths](t.root,e.root,n.matrixParams)&&dP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function pP(t,e,n){return gP(t,e,e.segments,n)}function gP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!so(i,n)||e.hasChildren()||!_p(i,n,r))}if(t.segments.length===n.length){if(!so(t.segments,n)||!_p(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!pP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(so(t.segments,i)&&_p(t.segments,i,r)&&t.children[ue])&&gP(t.children[ue],e,s,r)}}function _p(t,e,n){return e.every((r,i)=>dP[n](t[i].parameters,r.parameters))}class tu{constructor(e=new xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return CX.serialize(this)}}class xe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vp(this)}}class Il{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=eu(this.parameters)),this._parameterMap}toString(){return _P(this)}}function so(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let El=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new nw},providedIn:"root"})}return t})();class nw{parse(e){const n=new PX(e);return new tu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${bl(e.root,!0)}`,r=function AX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${wp(n)}=${wp(i)}`).join("&"):`${wp(n)}=${wp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function DX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const CX=new nw;function vp(t){return t.segments.map(e=>_P(e)).join("/")}function bl(t,e){if(!t.hasChildren())return vp(t);if(e){const n=t.children[ue]?bl(t.children[ue],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ue&&r.push(`${i}:${bl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function bX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ue&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ue&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ue?[bl(t.children[ue],!1)]:[`${i}:${bl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ue]?`${vp(t)}/${n[0]}`:`${vp(t)}/(${n.join("//")})`}}function mP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wp(t){return mP(t).replace(/%3B/gi,";")}function rw(t){return mP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ip(t){return decodeURIComponent(t)}function yP(t){return Ip(t.replace(/\+/g,"%20"))}function _P(t){return`${rw(t.path)}${function TX(t){return Object.keys(t).map(e=>`;${rw(e)}=${rw(t[e])}`).join("")}(t.parameters)}`}const SX=/^[^\/()?;#]+/;function iw(t){const e=t.match(SX);return e?e[0]:""}const xX=/^[^\/()?;=#]+/,NX=/^[^=?&#]+/,kX=/^[^&#]+/;class PX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new xe(e,n)),r}parseSegment(){const e=iw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new Il(Ip(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function MX(t){const e=t.match(xX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=iw(this.remaining);i&&(r=i,this.capture(r))}e[Ip(n)]=Ip(r)}parseQueryParam(e){const n=function RX(t){const e=t.match(NX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function OX(t){const e=t.match(kX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=yP(n),s=yP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=iw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ue]:new xe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}}function vP(t){return t.segments.length>0?new xe([],{[ue]:t}):t}function wP(t){const e={};for(const r of Object.keys(t.children)){const s=wP(t.children[r]);if(r===ue&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function FX(t){if(1===t.numberOfChildren&&t.children[ue]){const e=t.children[ue];return new xe(t.segments.concat(e.segments),e.children)}return t}(new xe(t.segments,e))}function oo(t){return t instanceof tu}function IP(t){let e;const i=vP(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new xe(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function EP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return sw(i,i,i,n,r);const s=function VX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new CP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new CP(n,e,r)}(e);if(s.toRoot())return sw(i,i,new xe([],{}),n,r);const o=function UX(t,e,n){if(t.isAbsolute)return new bp(e,!0,0);if(!n)return new bp(e,!1,NaN);if(null===n.parent)return new bp(n,!0,0);const r=Ep(t.commands[0])?0:1;return function BX(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new bp(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Dl(o.segmentGroup,o.index,s.commands):DP(o.segmentGroup,o.index,s.commands);return sw(i,o.segmentGroup,a,n,r)}function Ep(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Cl(t){return"object"==typeof t&&null!=t&&t.outlets}function sw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:bP(t,e,n);const a=vP(wP(o));return new tu(a,s,i)}function bP(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:bP(s,e,n)}),new xe(t.segments,r)}class CP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ep(r[0]))throw new x(4003,!1);const i=r.find(Cl);if(i&&i!==lP(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function DP(t,e,n){if(t||(t=new xe([],{})),0===t.segments.length&&t.hasChildren())return Dl(t,e,n);const r=function $X(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Cl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!AP(u,c,o))return s;r+=2}else{if(!AP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new xe(t.segments.slice(0,r.pathIndex),{});return s.children[ue]=new xe(t.segments.slice(r.pathIndex),t.children),Dl(s,0,i)}return r.match&&0===i.length?new xe(t.segments,{}):r.match&&!t.hasChildren()?ow(t,e,n):r.match?Dl(t,0,i):ow(t,e,n)}function Dl(t,e,n){if(0===n.length)return new xe(t.segments,{});{const r=function jX(t){return Cl(t[0])?t[0].outlets:{[ue]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ue)&&t.children[ue]&&1===t.numberOfChildren&&0===t.children[ue].segments.length){const s=Dl(t.children[ue],e,n);return new xe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=DP(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new xe(t.segments,i)}}function ow(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Cl(s)){const u=HX(s.outlets);return new xe(r,u)}if(0===i&&Ep(n[0])){r.push(new Il(t.segments[e].path,TP(n[0]))),i++;continue}const o=Cl(s)?s.outlets[ue]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ep(a)?(r.push(new Il(o,TP(a))),i+=2):(r.push(new Il(o,{})),i++)}return new xe(r,{})}function HX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=ow(new xe([],{}),0,r))}),e}function TP(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function AP(t,e,n){return t==n.path&&Wr(e,n.parameters)}const Tl="imperative";class Kr{constructor(e,n){this.id=e,this.url=n}}class Cp extends Kr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class us extends Kr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Al extends Kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nu extends Kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Dp extends Kr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SP extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zX extends Kr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xP{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class aw{}class uw{constructor(e){this.url=e}}class eZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sl,this.attachRef=null}}let Sl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new eZ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class MP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=cw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=cw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=lw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lw(e,this._root).map(n=>n.value)}}function cw(t,e){if(t===e.value)return e;for(const n of e.children){const r=cw(t,n);if(r)return r}return null}function lw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=lw(t,n);if(r.length)return r.unshift(e),r}return[]}class Si{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ru(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class NP extends MP{constructor(e,n){super(e),this.snapshot=n,dw(this,e)}toString(){return this.snapshot.toString()}}function RP(t,e){const n=function tZ(t,e){const o=new Tp([],{},{},"",{},ue,e,null,{});return new OP("",new Si(o,[]))}(0,e),r=new nr([new Il("",{})]),i=new nr({}),s=new nr({}),o=new nr({}),a=new nr(""),u=new cs(r,i,o,a,s,ue,e,n.root);return u.snapshot=n.root,new NP(new Si(u,[]),n)}class cs{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ie(c=>c[wl]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(e=>eu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(e=>eu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kP(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function nZ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Tp{get title(){return this.data?.[wl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OP extends MP{constructor(e,n){super(n),this.url=e,dw(this,n)}toString(){return PP(this._root)}}function dw(t,e){e.value._routerState=t,e.children.forEach(n=>dw(t,n))}function PP(t){const e=t.children.length>0?` { ${t.children.map(PP).join(", ")} } `:"";return`${t.value}${e}`}function hw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Wr(e.params,n.params)||t.paramsSubject.next(n.params),function _X(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Wr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function fw(t,e){const n=Wr(t.params,e.params)&&function EX(t,e){return so(t,e)&&t.every((n,r)=>Wr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||fw(t.parent,e.parent))}let pw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.parentContexts=U(Sl),this.location=U(Dr),this.changeDetector=U(Jf),this.environmentInjector=U(Hn),this.inputBinder=U(Ap,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new rZ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Z({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[sr]})}return t})();class rZ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===cs?this.route:e===Sl?this.childContexts:this.parent.get(e,n)}}const Ap=new V("");let FP=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=X0([r.queryParams,r.params,r.data]).pipe(_r(([s,o,a],u)=>(a={...s,...o,...a},0===u?K(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function MQ(t){const e=ge(t);if(!e)return null;const n=new Yc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function xl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function sZ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xl(t,r,i);return xl(t,r)})}(t,e,n);return new Si(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>xl(t,a)),o}}const r=function oZ(t){return new cs(new nr(t.url),new nr(t.params),new nr(t.queryParams),new nr(t.fragment),new nr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>xl(t,s));return new Si(r,i)}}const gw="ngNavigationCancelingError";function LP(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=VP(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function VP(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[gw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function UP(t){return t&&t[gw]}let BP=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Yt({type:t,selectors:[["ng-component"]],standalone:!0,features:[FR],decls:1,vars:0,template:function(r,i){1&r&&M(0,"router-outlet")},dependencies:[pw],encapsulation:2})}return t})();function mw(t){const e=t.children&&t.children.map(mw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=BP),n}function Sr(t){return t.outlet||ue}function Ml(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class pZ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ru(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ru(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ru(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ru(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ZX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new JX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(hw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ml(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class jP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sp{constructor(e,n){this.component=e,this.route=n}}function gZ(t,e,n){const r=t._root;return Nl(r,e?e._root:null,n,[r.value])}function iu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function FB(t){return null!==Dh(t)}(t)?e.get(t):t:r}function Nl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ru(e);return t.children.forEach(o=>{(function yZ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function _Z(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!so(t.url,e.url);case"pathParamsOrQueryParamsChange":return!so(t.url,e.url)||!Wr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fw(t,e)||!Wr(t.queryParams,e.queryParams);default:return!fw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Nl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sp(a.outlet.component,o))}else o&&Rl(e,a,i),i.canActivateChecks.push(new jP(r)),Nl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Rl(a,n.getContext(o),i)),i}function Rl(t,e,n){const r=ru(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Rl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Sp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function kl(t){return"function"==typeof t}function $P(t){return t instanceof mp||"EmptyError"===t?.name}const xp=Symbol("INITIAL_VALUE");function su(){return _r(t=>X0(t.map(e=>e.pipe(Xa(1),function cX(...t){const e=gc(t);return vt((n,r)=>{(e?Z0(t,n,e):Z0(t,n)).subscribe(r)})}(xp)))).pipe(Ie(e=>{for(const n of e)if(!0!==n){if(n===xp)return xp;if(!1===n||n instanceof tu)return n}return!0}),Ai(e=>e!==xp),Xa(1)))}function HP(t){return function UU(...t){return ZA(t)}(jt(e=>{if(oo(e))throw LP(0,e)}),Ie(e=>!0===e))}class Mp{constructor(e){this.segmentGroup=e||null}}class GP{constructor(e){this.urlTree=e}}function ou(t){return _l(new Mp(t))}function zP(t){return _l(new GP(t))}class VZ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new x(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[ue])return _l(new x(4e3,!1));i=i.children[ue]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new tu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new xe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const yw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UZ(t,e,n,r,i){const s=_w(t,e,n);return s.matched?(r=function uZ(t,e){return t.providers&&!t._injector&&(t._injector=Kv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function PZ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?K(i.map(o=>{const a=iu(o,t);return as(function CZ(t){return t&&kl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(su(),HP()):K(!0)}(r,e,n).pipe(Ie(o=>!0===o?s:{...yw}))):K(s)}function _w(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...yw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yX)(n,t,e);if(!i)return{...yw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function qP(t,e,n,r){return n.length>0&&function $Z(t,e,n){return n.some(r=>Np(t,e,r)&&Sr(r)!==ue)}(t,n,r)?{segmentGroup:new xe(e,jZ(r,new xe(n,t.children))),slicedSegments:[]}:0===n.length&&function HZ(t,e,n){return n.some(r=>Np(t,e,r))}(t,n,r)?{segmentGroup:new xe(t.segments,BZ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function BZ(t,e,n,r,i){const s={};for(const o of r)if(Np(t,n,o)&&!i[Sr(o)]){const a=new xe([],{});s[Sr(o)]=a}return{...i,...s}}function jZ(t,e){const n={};n[ue]=e;for(const r of t)if(""===r.path&&Sr(r)!==ue){const i=new xe([],{});n[Sr(r)]=i}return n}function Np(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class WZ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new VZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new x(4002,!1)}recognize(){const e=qP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(io(n=>{if(n instanceof GP)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Mp?this.noMatchError(n):n}),Ie(n=>{const r=new Tp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,{}),i=new Si(r,n),s=new OP("",i),o=function LX(t,e,n=null,r=null){return EP(IP(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ue).pipe(io(r=>{throw r instanceof Mp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=kP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return wt(i).pipe(Za(s=>{const o=r.children[s],a=function hZ(t,e){const n=t.filter(r=>Sr(r)===e);return n.push(...t.filter(r=>Sr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function hX(t,e){return vt(function dX(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ht(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),yp(null),function fX(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ai((i,s)=>t(i,s,r)):Ki,tw(1),n?yp(e):uP(()=>new mp))}(),Ot(s=>{if(null===s)return ou(r);const o=WP(s);return function KZ(t){t.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet))}(o),K(o)}))}processSegment(e,n,r,i,s,o){return wt(n).pipe(Za(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(io(u=>{if(u instanceof Mp)return K(null);throw u}))),ro(a=>!!a),io(a=>{if($P(a))return function zZ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?K([]):ou(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function GZ(t,e,n,r){return!!(Sr(t)===r||r!==ue&&Np(e,n,t))&&("**"===t.path||_w(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ou(i):ou(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zP(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Ot(o=>{const a=new xe(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=_w(n,i,s);if(!a)return ou(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?zP(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ot(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?lP(i).parameters:{};a=K({snapshot:new Tp(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KP(r),Sr(r),r.component??r._loadedComponent??null,r,QP(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=UZ(n,r,i,e).pipe(Ie(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Tp(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KP(r),Sr(r),r.component??r._loadedComponent??null,r,QP(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(_r(u=>null===u?ou(n):this.getChildConfig(e=r._injector??e,r,i).pipe(_r(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=qP(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Ie(b=>null===b?null:[new Si(d,b)]));if(0===c.length&&0===g.length)return K([new Si(d,[])]);const y=Sr(r)===s;return this.processSegment(l,c,p,g,y?ue:s,!0).pipe(Ie(b=>[new Si(d,b)]))}))))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?K({routes:n._loadedRoutes,injector:n._loadedInjector}):function OZ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?K(!0):K(i.map(o=>{const a=iu(o,t);return as(function wZ(t){return t&&kl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(su(),HP())}(e,n,r).pipe(Ot(i=>i?this.configLoader.loadChildren(e,n).pipe(jt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function LZ(t){return _l(VP(!1,3))}())):K({routes:[],injector:e})}}function QZ(t){const e=t.value.routeConfig;return e&&""===e.path}function WP(t){const e=[],n=new Set;for(const r of t){if(!QZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=WP(r.children);e.push(new Si(r.value,i))}return e.filter(r=>!n.has(r))}function KP(t){return t.data||{}}function QP(t){return t.resolve||{}}function YP(t){return"string"==typeof t.title||null===t.title}function vw(t){return _r(e=>{const n=t(e);return n?wt(n).pipe(Ie(()=>e)):K(e)})}const au=new V("ROUTES");let ww=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(Mk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=as(n.loadComponent()).pipe(Ie(JP),jt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),vl(()=>{this.componentLoaders.delete(n)})),i=new aP(r,()=>new yr).pipe(ew());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function nee(t,e,n,r){return as(t.loadChildren()).pipe(Ie(JP),Ot(i=>i instanceof OR||Array.isArray(i)?K(i):wt(e.compileModuleAsync(i))),Ie(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(au,[],{optional:!0,self:!0}).flat()),{routes:o.map(mw),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(vl(()=>{this.childrenLoaders.delete(r)})),o=new aP(s,()=>new yr).pipe(ew());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JP(t){return function ree(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Rp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yr,this.transitionAbortSubject=new yr,this.configLoader=U(ww),this.environmentInjector=U(Hn),this.urlSerializer=U(El),this.rootContexts=U(Sl),this.inputBindingEnabled=null!==U(Ap,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new QX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new KX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new nr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ai(s=>0!==s.id),Ie(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),_r(s=>{this.currentTransition=s;let o=!1,a=!1;return K(s).pipe(jt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_r(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new nu(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Or}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return K(u).pipe(_r(h=>{const f=this.transitions?.getValue();return this.events.next(new Cp(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Or:Promise.resolve(h)}),function YZ(t,e,n,r,i,s){return Ot(o=>function qZ(t,e,n,r,i,s,o="emptyOnly"){return new WZ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ie(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),jt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new SP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=u,b=new Cp(h,this.urlSerializer.serialize(f),p,g);this.events.next(b);const w=RP(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:w,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},K(s)}{const h="";return this.events.next(new nu(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Or}}),jt(u=>{const c=new GX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Ie(u=>(this.currentTransition=s={...u,guards:gZ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function TZ(t,e){return Ot(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?K({...n,guardsResult:!0}):function AZ(t,e,n,r){return wt(t).pipe(Ot(i=>function kZ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?K(s.map(a=>{const u=Ml(e)??i,c=iu(a,u);return as(function bZ(t){return t&&kl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ro())})).pipe(su()):K(!0)}(i.component,i.route,n,e,r)),ro(i=>!0!==i,!0))}(o,r,i,t).pipe(Ot(a=>a&&function vZ(t){return"boolean"==typeof t}(a)?function SZ(t,e,n,r){return wt(e).pipe(Za(i=>Z0(function MZ(t,e){return null!==t&&e&&e(new YX(t)),K(!0)}(i.route.parent,r),function xZ(t,e){return null!==t&&e&&e(new XX(t)),K(!0)}(i.route,r),function RZ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function mZ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>oP(()=>K(o.guards.map(u=>{const c=Ml(o.node)??n,l=iu(u,c);return as(function EZ(t){return t&&kl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ro())})).pipe(su())));return K(s).pipe(su())}(t,i.path,n),function NZ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(s=>oP(()=>{const o=Ml(e)??n,a=iu(s,o);return as(function IZ(t){return t&&kl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ro())}));return K(i).pipe(su())}(t,i.route,n))),ro(i=>!0!==i,!0))}(r,s,t,e):K(a)),Ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),jt(u=>{if(s.guardsResult=u.guardsResult,oo(u.guardsResult))throw LP(0,u.guardsResult);const c=new zX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Ai(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),vw(u=>{if(u.guards.canActivateChecks.length)return K(u).pipe(jt(c=>{const l=new qX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),_r(c=>{let l=!1;return K(c).pipe(function JZ(t,e){return Ot(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=0;return wt(i).pipe(Za(o=>function XZ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!YP(i)&&(s[wl]=i.title),function ZZ(t,e,n,r){const i=function eee(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return K({});const s={};return wt(i).pipe(Ot(o=>function tee(t,e,n,r){const i=Ml(e)??r,s=iu(t,i);return as(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ro(),jt(a=>{s[o]=a}))),tw(1),function pX(t){return Ie(()=>t)}(s),io(o=>$P(o)?Or:_l(o)))}(s,t,e,r).pipe(Ie(o=>(t._resolvedData=o,t.data=kP(t,n).resolve,i&&YP(i)&&(t.data[wl]=i.title),null)))}(o.route,r,t,e)),jt(()=>s++),tw(1),Ot(o=>s===i.length?K(n):Or))})}(n.paramsInheritanceStrategy,this.environmentInjector),jt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),jt(c=>{const l=new WX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),vw(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(jt(h=>{l.component=h}),Ie(()=>{})));for(const h of l.children)d.push(...c(h));return d};return X0(c(u.targetSnapshot.root)).pipe(yp(),Xa(1))}),vw(()=>this.afterPreactivation()),Ie(u=>{const c=function iZ(t,e,n){const r=xl(t,e._root,n?n._root:void 0);return new NP(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),jt(()=>{this.events.next(new aw)}),((t,e,n,r)=>Ie(i=>(new pZ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Xa(1),jt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new us(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function gX(t){return vt((e,n)=>{Pn(t).subscribe(ht(n,()=>n.complete(),yy)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(jt(u=>{throw u}))),vl(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),io(u=>{if(a=!0,UP(u))this.events.next(new Al(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function aZ(t){return UP(t)&&oo(t.url)}(u)?this.events.next(new uw(u.url)):s.resolve(!1);else{this.events.next(new Dp(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return Or}))}))}cancelNavigationTransition(n,r,i){const s=new Al(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XP(t){return t!==Tl}let ZP=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(n){return n.data[wl]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return U(iee)},providedIn:"root"})}return t})(),iee=(()=>{class t extends ZP{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(H(YO))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),see=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return U(aee)},providedIn:"root"})}return t})();class oee{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let aee=(()=>{class t extends oee{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const kp=new V("",{providedIn:"root",factory:()=>({})});let uee=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return U(cee)},providedIn:"root"})}return t})(),cee=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ol=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ol||{});function eF(t,e){t.events.pipe(Ai(n=>n instanceof us||n instanceof Al||n instanceof Dp||n instanceof nu),Ie(n=>n instanceof us||n instanceof nu?Ol.COMPLETE:n instanceof Al&&(0===n.code||1===n.code)?Ol.REDIRECTING:Ol.FAILED),Ai(n=>n!==Ol.REDIRECTING),Xa(1)).subscribe(()=>{e()})}function lee(t){throw t}function dee(t,e,n){return e.parse("/")}const hee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=U(xk),this.isNgZoneEnabled=!1,this._events=new yr,this.options=U(kp,{optional:!0})||{},this.pendingTasks=U(Wf),this.errorHandler=this.options.errorHandler||lee,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dee,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=U(uee),this.routeReuseStrategy=U(see),this.titleStrategy=U(ZP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=U(au,{optional:!0})?.flat()??[],this.navigationTransitions=U(Rp),this.urlSerializer=U(El),this.location=U(A0),this.componentInputBindingEnabled=!!U(Ap,{optional:!0}),this.eventsSubscription=new En,this.isNgZoneEnabled=U(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new tu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=RP(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(tF(r)&&this._events.next(r));if(r instanceof Cp)XP(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof nu)this.rawUrlTree=i.rawUrl;else if(r instanceof SP){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof aw)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Al)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof uw){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XP(i.source)};this.scheduleNavigation(s,Tl,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Dp&&this.restoreHistory(i,!0),r instanceof us&&(this.navigated=!0),tF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(mw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=IP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return EP(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=oo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Tl,null,r)}navigate(n,r={skipLocationChange:!1}){return function pee(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new x(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...hee}:!1===r?{...fee}:r,oo(n))return hP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return hP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return eF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tF(t){return!(t instanceof aw||t instanceof uw)}let ao=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new yr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof us&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Vx(t,e,n){return function z$(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?U_:jc}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(D(Kn),D(cs),function qh(t){return function aj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(NS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Ut(),t)}("tabindex"),D(_i),D(Gn),D(to))};static#t=this.\u0275dir=Z({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ae("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Gr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Qa],skipLocationChange:["skipLocationChange","skipLocationChange",Qa],replaceUrl:["replaceUrl","replaceUrl",Qa],routerLink:"routerLink"},standalone:!0,features:[JM,sr]})}return t})();class nF{}let yee=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(n=>n instanceof us),Za(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Kv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return wt(i).pipe(ea())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):K(null);const s=i.pipe(Ot(o=>null===o?K(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?wt([s,this.loader.loadComponent(r)]).pipe(ea()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(H(Kn),H(Mk),H(Hn),H(nF),H(ww))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Iw=new V("");let rF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Cp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof us?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof nu&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof xP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function CM(){throw new Error("invalid")}()};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function xi(t,e){return{\u0275kind:t,\u0275providers:e}}function sF(){const t=U(Zt);return e=>{const n=t.get(Ka);if(e!==n.components[0])return;const r=t.get(Kn),i=t.get(oF);1===t.get(Ew)&&r.initialNavigation(),t.get(aF,null,de.Optional)?.setUpPreloading(),t.get(Iw,null,de.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const oF=new V("",{factory:()=>new yr}),Ew=new V("",{providedIn:"root",factory:()=>1}),aF=new V("");function Iee(t){return xi(0,[{provide:aF,useExisting:yee},{provide:nF,useExisting:t}])}const uF=new V("ROUTER_FORROOT_GUARD"),bee=[A0,{provide:El,useClass:nw},Kn,Sl,{provide:cs,useFactory:function iF(t){return t.routerState.root},deps:[Kn]},ww,[]];function Cee(){return new Lk("Router",Kn)}let Op=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[bee,[],{provide:au,multi:!0,useValue:n},{provide:uF,useFactory:See,deps:[[Kn,new Tn,new Qh]]},{provide:kp,useValue:r||{}},r?.useHash?{provide:to,useClass:PQ}:{provide:to,useClass:fO},{provide:Iw,useFactory:()=>{const t=U(ZY),e=U(Ae),n=U(kp),r=U(Rp),i=U(El);return n.scrollOffset&&t.setOffset(n.scrollOffset),new rF(i,r,t,e,n)}},r?.preloadingStrategy?Iee(r.preloadingStrategy).\u0275providers:[],{provide:Lk,multi:!0,useFactory:Cee},r?.initialNavigation?xee(r):[],r?.bindToComponentInputs?xi(8,[FP,{provide:Ap,useExisting:FP}]).\u0275providers:[],[{provide:cF,useFactory:sF},{provide:y0,multi:!0,useExisting:cF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:au,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(H(uF,8))};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({})}return t})();function See(t){return"guarded"}function xee(t){return["disabled"===t.initialNavigation?xi(3,[{provide:c0,multi:!0,useFactory:()=>{const e=U(Kn);return()=>{e.setUpLocationChangeListener()}}},{provide:Ew,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?xi(2,[{provide:Ew,useValue:0},{provide:c0,multi:!0,deps:[Zt],useFactory:e=>{const n=e.get(kQ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Kn),s=e.get(oF);eF(i,()=>{r(!0)}),e.get(Rp).afterPreactivation=()=>(r(!0),s.closed?K(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const cF=new V("");let Nee=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-main"]],decls:38,vars:0,consts:[[1,"main"],[1,"logo"],["viewBox","0 0 320 360","height","360","width","320",1,"logo"],["xmlns","http://www.w3.org/2000/svg","d","M20.961 227.22l3.726 4.658-1.863-6.056c-0.466-2.795-3.726 0.466-1.863 1.398M25.153 224.425c1.397 2.329 2.795 4.658 2.795 6.987 0 3.261 2.795 4.658 5.123 5.589-3.261-3.726-5.124-13.974-7.918-12.576M204.017 26.929c7.918 0 15.371-0.932 23.756 0.931 20.495 5.124 37.729 15.371 49.374 29.811l32.606 52.169c1.397 13.042 4.192 27.482 3.726 43.319 3.261 0 2.795-4.658 6.521-5.59-3.726 9.316-5.59 20.961-6.521 34.469-2.329-7.453 0-18.632 0.466-24.687-3.261 5.124-5.124 1.397-5.124-0.932 0.466-3.726-1.397-3.261-2.795-4.658-5.124-4.658-8.384-9.782-12.11-17.7 2.329-6.055 2.795-14.905-4.658-19.563-2.329-1.397-5.124-3.726-6.521-7.453-1.863-5.124-5.124-11.179-4.193-19.097 0.466-2.329-6.987 5.124-11.179 1.863-18.166-12.576-36.332-27.016-58.224-39.127-11.645 0-20.029-4.192-24.221-9.316-3.726-4.658-0.932-10.713 4.658-11.179 3.261 0 6.987-0.932 9.782 0.932 0.466-1.863 2.329-4.192 4.657-4.192M157.904 16.215l0.932 0.466c4.658 0.932 6.987 7.453 12.11 5.124 0 3.261 0.466 6.521-0.466 8.85-1.397 3.726-5.59 3.726-8.85 3.726-31.208-1.863-49.374 11.179-68.471 22.358-5.124 3.261-10.713 5.59-14.906 9.782-20.029 18.632-41.921 35.866-47.045 70.335l-4.192 38.195c-0.466 4.192-5.124 8.384-4.192 13.508l3.26 22.824c-3.261-3.261-5.124 0.932-4.192 2.795 0.466 1.397 2.329 6.055 5.124 1.863 3.726 6.987 7.453 20.495 12.576 26.55 15.837 18.632 36.332 35.4 53.101 52.169 4.192-0.932 7.453-0.932 8.384-3.727 1.397 2.795-1.397 5.59-3.726 6.056 7.453 4.658 15.837 8.85 27.016 9.781 14.44 0.932 27.948 3.261 40.524 6.522 6.521-1.863 13.042-2.795 20.029-3.261 2.329 0 3.726-3.726 6.521-4.658l0.466-4.658c2.795 4.192 2.329-1.397 0.466-4.192 3.261 2.795 4.192 5.124 5.589 6.987 0-1.397 3.726-6.521 3.727-0.466l0.931-6.055c1.397-0.932 1.863 5.124 3.261 0.931 1.397-4.192 4.192-0.932 6.987-2.329-0.932 1.863-0.466 5.59 2.794 3.261l3.727-3.261c2.329 5.59 6.055 3.261 7.918 2.329 20.495-13.042 40.99-28.413 60.553-43.784l-0.466 6.055 2.329-7.453c2.329 2.329 4.192 0.466 5.124-0.931 2.795-4.658 6.521-9.316 12.577-13.508-7.453 20.029-16.303 35.866-27.482 48.908l-4.658 5.59c0 3.261-0.932 7.453-4.658 7.918-1.863 0.466-5.59-0.932-8.384 1.863-1.397 1.863 3.261 5.59-0.466 2.795-3.261-2.329-6.521 0-10.248 0.932-2.795 0.932 1.863 3.726 2.795 5.589 0.932 1.863 1.863 3.726 1.398 6.056l-5.124-5.59c-6.055 3.261-9.782 9.316-14.906 13.974-2.329 1.863-1.397 5.124-1.397 7.918-3.261 0-6.987-0.932-8.85 0.932-1.397 1.863-0.932 4.658-0.932 7.453-4.658-0.466-5.124-7.453-9.315-6.056-4.192 0.932-8.85 1.397-12.577 3.727 2.795 5.59-4.658 2.329-3.726 3.26-6.987-4.192-13.042-7.453-20.495-4.658-15.837-5.124-35.4-2.795-49.84-0.931 0-2.329 0.466-4.658-0.466-5.124-0.932 2.329-3.726 1.397-3.26 1.397-8.85-6.055-17.7-9.782-27.016-14.905-8.384 0.932-16.303-3.261-18.632-5.59-6.521-6.055-13.974-2.795-20.029-4.192-13.042-3.261-17.7-16.769-19.098-26.084-0.932-4.658-4.658-6.521-6.055-6.056-6.055-19.563-15.371-37.263-22.824-55.429-1.863-4.658-1.397-9.316-1.397-14.44 2.329 0.932 4.658 0.466 4.192-2.794-2.329-15.371-7.918-27.016-13.974-38.195 3.261-15.837 3.726-34.469 11.179-48.443 6.521-12.576 18.632-19.098 27.016-29.811 2.795-3.726 2.795-8.85 5.59-12.11 9.316-9.316 18.632-19.098 28.879-27.482 4.658-3.726 10.247 0 17.234-1.397 2.329-8.384 11.645-15.837 20.495-13.508 3.726 0.932 11.179-8.85 13.508-9.782 3.726-1.397 1.863 3.726 1.863 6.987 8.85-6.987 20.961-10.713 32.14-14.906","fill","#ffffff","fill-rule","nonzero","stroke","none","stroke-width","1","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","stroke-dasharray","","stroke-dashoffset","0","font-family","none","font-weight","none","font-size","none","text-anchor","none","data-fill-palette-color","tertiary",2,"mix-blend-mode","normal"],["transform","matrix(1,0,0,1,64,100.74523665202226)"],["viewBox","0 0 192 158.5095266959555","height","158.5095266959555","width","192"],["transform","matrix(1,0,0,1,0,116.51177957641397)"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192"],["id","textblocktransform"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192","id","textblock"],["viewBox","0 0 192 27.968648441980502","height","27.968648441980502","width","192"],["transform","matrix(1,0,0,1,0,0)"],["width","192","viewBox","3.25 -37.599998474121094 261.5199890136719 38.099998474121094","height","27.968648441980502","data-palette-color","#ffffff"],["d","M18.9-37.6L18.9-37.6Q21.4-37.6 23.73-36.77 26.05-35.95 27.9-34.55 29.75-33.15 30.95-31.3 32.15-29.45 32.45-27.35L32.45-27.35Q32.55-26.9 32.48-26.75 32.4-26.6 32.1-26.6L32.1-26.6 28.35-26.3Q28.1-26.25 28-26.4 27.9-26.55 27.85-26.8L27.85-26.8Q27.15-30 24.83-31.98 22.5-33.95 19.05-33.95L19.05-33.95Q13.85-33.95 11.05-30.1 8.25-26.25 8.25-18.5L8.25-18.5Q8.25-11 11-7.15 13.75-3.3 19.3-3.3L19.3-3.3Q22.85-3.3 25.23-5 27.6-6.7 29.05-10.45L29.05-10.45Q29.2-10.75 29.65-10.65L29.65-10.65 32.6-9.95Q32.75-9.9 32.85-9.75 32.95-9.6 32.85-9.25L32.85-9.25Q32.45-7.8 31.63-6.4 30.8-5 29.6-3.78 28.4-2.55 26.8-1.58 25.2-0.6 23.28-0.05 21.35 0.5 19.1 0.5L19.1 0.5Q14.15 0.5 10.58-1.8 7-4.1 5.13-8.4 3.25-12.7 3.25-18.6L3.25-18.6Q3.25-24.5 5.13-28.78 7-33.05 10.53-35.33 14.05-37.6 18.9-37.6L18.9-37.6ZM39.9 0L39.9 0Q39.25 0 39.25-0.65L39.25-0.65 39.25-36.45Q39.25-37.1 39.8-37.1L39.8-37.1 42.75-37.1Q43.3-37.1 43.3-36.5L43.3-36.5 43.3-23.15Q43.3-22.9 43.4-22.85 43.5-22.8 43.75-23L43.75-23Q45.5-24.35 46.97-25.25 48.45-26.15 49.87-26.58 51.3-27 53-27L53-27Q56.9-27 58.95-24.93 61-22.85 61-19.4L61-19.4 61-0.8Q61 0 60.25 0L60.25 0 57.45 0Q57.1 0 56.95-0.18 56.8-0.35 56.8-0.65L56.8-0.65 56.8-18.5Q56.8-20.95 55.55-22.33 54.3-23.7 51.6-23.7L51.6-23.7Q50.15-23.7 48.87-23.23 47.6-22.75 46.3-21.88 45-21 43.45-19.65L43.45-19.65 43.45-0.75Q43.45 0 42.65 0L42.65 0 39.9 0ZM71.2-11.6L71.2-11.6Q71.2-9.15 72.37-7.13 73.55-5.1 75.52-3.9 77.5-2.7 79.95-2.7L79.95-2.7Q82.45-2.7 84.4-3.73 86.35-4.75 87.75-6.85L87.75-6.85Q87.95-7.05 88.07-7.08 88.2-7.1 88.45-7L88.45-7 90.55-5.95Q91-5.7 90.65-5.25L90.65-5.25Q89.3-3.25 87.67-1.98 86.05-0.7 84.05-0.1 82.05 0.5 79.55 0.5L79.55 0.5Q75.85 0.5 73-1.2 70.15-2.9 68.5-5.95 66.85-9 66.85-13L66.85-13Q66.85-17.35 68.52-20.48 70.2-23.6 73.07-25.3 75.95-27 79.5-27L79.5-27Q83.15-27 85.85-25.4 88.55-23.8 90.05-20.75 91.55-17.7 91.55-13.4L91.55-13.4Q91.55-13.05 91.47-12.7 91.4-12.35 90.8-12.35L90.8-12.35 71.65-12.35Q71.45-12.35 71.32-12.13 71.2-11.9 71.2-11.6L71.2-11.6ZM71.3-15.1L86.5-15.1Q87.05-15.1 87.2-15.23 87.35-15.35 87.35-15.8L87.35-15.8Q87.35-17.95 86.42-19.83 85.5-21.7 83.77-22.85 82.05-24 79.6-24L79.6-24Q76.9-24 75.05-22.73 73.2-21.45 72.25-19.4 71.3-17.35 71.3-15.1L71.3-15.1ZM110.19-26.5L110.19-26.5Q110.44-26.5 110.57-26.35 110.69-26.2 110.69-26L110.69-26 110.69-23.85Q110.69-23.35 110.19-23.35L110.19-23.35 104.49-23.35Q104.09-23.35 104.09-22.95L104.09-22.95 104.09-0.7Q104.09 0 103.49 0L103.49 0 100.44 0Q99.89 0 99.89-0.65L99.89-0.65 99.89-23Q99.89-23.35 99.54-23.35L99.54-23.35 94.64-23.35Q94.14-23.35 94.14-23.85L94.14-23.85 94.14-26Q94.14-26.2 94.27-26.35 94.39-26.5 94.69-26.5L94.69-26.5 99.44-26.5Q99.89-26.5 99.89-27L99.89-27 99.89-30.65Q99.89-33.8 101.44-35.45 102.99-37.1 106.14-37.1L106.14-37.1 110.29-37.1Q110.94-37.1 110.94-36.5L110.94-36.5 110.94-34.55Q110.94-34.3 110.82-34.18 110.69-34.05 110.39-34.05L110.39-34.05 106.89-34.05Q105.34-34.05 104.67-33.08 103.99-32.1 103.99-30.45L103.99-30.45 103.99-26.95Q103.99-26.5 104.44-26.5L104.44-26.5 110.19-26.5ZM130.99-20.65L130.99-20.65Q129.99-22.15 128.19-23.1 126.39-24.05 123.89-24.05L123.89-24.05Q121.19-24.05 119.42-22.9 117.64-21.75 117.64-19.8L117.64-19.8Q117.64-18.75 118.44-17.82 119.24-16.9 121.69-16.1L121.69-16.1 128.04-14.2Q131.49-13.25 133.02-11.45 134.54-9.65 134.54-7.3L134.54-7.3Q134.54-4.95 133.14-3.2 131.74-1.45 129.29-0.48 126.84 0.5 123.74 0.5L123.74 0.5Q119.79 0.5 116.84-1.07 113.89-2.65 112.64-5L112.64-5Q112.49-5.25 112.49-5.45 112.49-5.65 112.74-5.8L112.74-5.8 114.69-6.9Q114.94-7.05 115.14-7.03 115.34-7 115.44-6.85L115.44-6.85Q116.29-5.55 117.42-4.6 118.54-3.65 120.12-3.1 121.69-2.55 123.79-2.55L123.79-2.55Q125.69-2.6 127.24-3.1 128.79-3.6 129.69-4.58 130.59-5.55 130.59-6.85L130.59-6.85Q130.59-8.2 129.49-9.18 128.39-10.15 125.69-10.9L125.69-10.9 120.54-12.35Q116.79-13.35 115.27-15.05 113.74-16.75 113.69-19.05L113.69-19.05Q113.69-21.45 114.99-23.23 116.29-25 118.62-26 120.94-27 123.94-27L123.94-27Q127.29-27 129.92-25.73 132.54-24.45 133.89-22.35L133.89-22.35Q134.04-22.15 134.04-21.98 134.04-21.8 133.84-21.65L133.84-21.65 131.74-20.5Q131.54-20.4 131.37-20.43 131.19-20.45 130.99-20.65L130.99-20.65ZM149.63-33.95L149.63-36.55Q149.63-36.8 149.76-36.95 149.88-37.1 150.23-37.1L150.23-37.1 177.13-37.1Q177.44-37.1 177.59-36.95 177.74-36.8 177.74-36.55L177.74-36.55 177.74-33.95Q177.74-33.45 177.13-33.45L177.13-33.45 166.99-33.45Q166.44-33.45 166.44-32.95L166.44-32.95 166.44-0.65Q166.44 0 165.84 0L165.84 0 162.23 0Q161.63 0 161.63-0.65L161.63-0.65 161.63-32.9Q161.63-33.45 161.13-33.45L161.13-33.45 150.23-33.45Q149.63-33.45 149.63-33.95L149.63-33.95ZM194.68-3.2L194.68-3.2Q192.83-1.4 190.66-0.45 188.48 0.5 185.78 0.5L185.78 0.5Q181.88 0.5 179.66-1.5 177.43-3.5 177.43-6.75L177.43-6.75Q177.43-9.4 178.93-11.33 180.43-13.25 183.38-14.38 186.33-15.5 190.63-15.75L190.63-15.75 194.53-16.05Q194.83-16.1 195.08-16.25 195.33-16.4 195.33-16.8L195.33-16.8 195.33-18.15Q195.33-20.85 193.66-22.43 191.98-24 189.13-24L189.13-24Q186.93-24 185.16-23 183.38-22 181.98-20L181.98-20Q181.78-19.75 181.66-19.68 181.53-19.6 181.23-19.7L181.23-19.7 178.53-20.6Q178.38-20.7 178.31-20.85 178.23-21 178.43-21.4L178.43-21.4Q179.93-24 182.66-25.5 185.38-27 189.33-27L189.33-27Q192.68-27 194.91-25.98 197.13-24.95 198.26-23.03 199.38-21.1 199.38-18.45L199.38-18.45 199.38-0.75Q199.38-0.3 199.23-0.15 199.08 0 198.73 0L198.73 0 196.18 0Q195.83 0 195.68-0.23 195.53-0.45 195.48-0.8L195.48-0.8 195.43-3.1Q195.28-3.8 194.68-3.2L194.68-3.2ZM195.33-12.7L195.33-12.7Q195.33-13.55 194.63-13.5L194.63-13.5 191.33-13.2Q189.03-13.1 187.23-12.63 185.43-12.15 184.18-11.4 182.93-10.65 182.28-9.63 181.63-8.6 181.63-7.25L181.63-7.25Q181.63-5.05 183.16-3.83 184.68-2.6 187.28-2.6L187.28-2.6Q188.88-2.6 190.36-3.18 191.83-3.75 192.93-4.65L192.93-4.65Q194.08-5.6 194.71-6.6 195.33-7.6 195.33-8.55L195.33-8.55 195.33-12.7ZM211.08-36.45L211.08-0.85Q211.08-0.35 210.88-0.18 210.68 0 210.18 0L210.18 0 207.58 0Q206.83 0 206.83-0.7L206.83-0.7 206.88-36.4Q206.88-37.1 207.48-37.1L207.48-37.1 210.48-37.1Q211.08-37.1 211.08-36.45L211.08-36.45ZM241.68-0.8L241.68-0.8Q241.88-0.5 241.78-0.25 241.68 0 241.23 0L241.23 0 237.73 0Q237.43 0 237.2-0.15 236.98-0.3 236.83-0.6L236.83-0.6 229.28-13.55Q229.18-13.75 229.05-13.83 228.93-13.9 228.68-13.65L228.68-13.65 223.38-8.3Q223.18-8.1 223.1-7.88 223.03-7.65 223.03-7.3L223.03-7.3 223.03-0.85Q223.03-0.35 222.85-0.18 222.68 0 222.13 0L222.13 0 219.58 0Q219.08 0 218.95-0.15 218.83-0.3 218.83-0.7L218.83-0.7 218.83-36.4Q218.83-37.1 219.38-37.1L219.38-37.1 222.43-37.1Q223.03-37.1 223.03-36.45L223.03-36.45 223.03-13.25Q223.03-12.85 223.13-12.78 223.23-12.7 223.53-13.05L223.53-13.05 235.88-25.9Q236.43-26.5 236.93-26.5L236.93-26.5 239.98-26.5Q240.48-26.5 240.55-26.23 240.63-25.95 240.23-25.55L240.23-25.55 232.33-17.5Q232.18-17.35 232.15-17.15 232.13-16.95 232.28-16.65L232.28-16.65 241.68-0.8ZM261.23-20.65L261.23-20.65Q260.23-22.15 258.43-23.1 256.63-24.05 254.13-24.05L254.13-24.05Q251.42-24.05 249.65-22.9 247.88-21.75 247.88-19.8L247.88-19.8Q247.88-18.75 248.67-17.82 249.47-16.9 251.92-16.1L251.92-16.1 258.27-14.2Q261.73-13.25 263.25-11.45 264.77-9.65 264.77-7.3L264.77-7.3Q264.77-4.95 263.38-3.2 261.98-1.45 259.52-0.48 257.07 0.5 253.97 0.5L253.97 0.5Q250.03 0.5 247.07-1.07 244.13-2.65 242.88-5L242.88-5Q242.72-5.25 242.72-5.45 242.72-5.65 242.97-5.8L242.97-5.8 244.92-6.9Q245.17-7.05 245.38-7.03 245.57-7 245.67-6.85L245.67-6.85Q246.53-5.55 247.65-4.6 248.78-3.65 250.35-3.1 251.92-2.55 254.03-2.55L254.03-2.55Q255.92-2.6 257.48-3.1 259.02-3.6 259.93-4.58 260.82-5.55 260.82-6.85L260.82-6.85Q260.82-8.2 259.73-9.18 258.63-10.15 255.92-10.9L255.92-10.9 250.78-12.35Q247.03-13.35 245.5-15.05 243.97-16.75 243.92-19.05L243.92-19.05Q243.92-21.45 245.22-23.23 246.53-25 248.85-26 251.17-27 254.17-27L254.17-27Q257.52-27 260.15-25.73 262.77-24.45 264.13-22.35L264.13-22.35Q264.27-22.15 264.27-21.98 264.27-21.8 264.07-21.65L264.07-21.65 261.98-20.5Q261.77-20.4 261.6-20.43 261.43-20.45 261.23-20.65L261.23-20.65Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,36.672,34.57137509156949)"],["viewBox","0 0 118.656 7.426372027972029","height","7.426372027972029","width","118.656"],["width","118.656","viewBox","0 -35.79999923706055 571.9600219726562 35.79999923706055","height","7.426372027972029","data-palette-color","#ffffff"],["d","M40.35-2.15L52.4-2.15 52.4 0 33.75 0 26.4-23.95 26-23.95 18.65 0 0 0 0-2.15 12.05-2.15 0.6-34.95 6.95-34.95 15.75-9.8 23.55-34.95 28.85-34.95 36.65-9.8 45.45-34.95 51.8-34.95 40.35-2.15ZM52.4-2.15L57.25-2.15 57.25-34.95 81.8-34.95 81.8-29.4 63.15-29.4 63.15-20.15 79.9-20.15 79.9-14.9 63.15-14.9 63.15-5.55 82.4-5.55 82.4-2.15 87.25-2.15 87.25 0 52.4 0 52.4-2.15ZM85.1-2.15L98.8-2.15 98.8 0 85.1 0 85.1-2.15ZM129.04-2.15L135.59-2.15 135.59 0 98.79 0 98.79-2.15 109.89-2.15Q105.94-4.5 103.67-8.55 101.39-12.6 101.39-17.7L101.39-17.7Q101.39-25.4 106.72-30.6 112.04-35.8 120.17-35.8 128.29-35.8 133.74-29.8L133.74-29.8 129.99-25.7Q127.49-28.1 125.27-29.05 123.04-30 120.04-30L120.04-30Q114.74-30 111.14-26.58 107.54-23.15 107.54-17.82 107.54-12.5 111.12-8.93 114.69-5.35 119.59-5.35L119.59-5.35Q122.64-5.35 124.84-6.38 127.04-7.4 129.44-9.65L129.44-9.65 133.24-5.75Q131.04-3.35 129.04-2.15L129.04-2.15ZM166.14-2.15L177.59-2.15 177.59 0 135.59 0 135.59-2.15 147.04-2.15Q142.94-4.5 140.57-8.6 138.19-12.7 138.19-17.75L138.19-17.75Q138.19-25.45 143.49-30.63 148.79-35.8 156.59-35.8 164.39-35.8 169.69-30.63 174.99-25.45 174.99-17.75L174.99-17.75Q174.99-12.75 172.62-8.6 170.24-4.45 166.14-2.15L166.14-2.15ZM165.37-26.7Q161.79-30.4 156.59-30.4 151.39-30.4 147.82-26.7 144.24-23 144.24-17.73 144.24-12.45 147.82-8.75 151.39-5.05 156.59-5.05 161.79-5.05 165.37-8.75 168.94-12.45 168.94-17.73 168.94-23 165.37-26.7ZM208.14-2.15L219.59-2.15 219.59 0 177.59 0 177.59-2.15 189.04-2.15Q184.94-4.5 182.56-8.6 180.19-12.7 180.19-17.75L180.19-17.75Q180.19-25.45 185.49-30.63 190.79-35.8 198.59-35.8 206.39-35.8 211.69-30.63 216.99-25.45 216.99-17.75L216.99-17.75Q216.99-12.75 214.61-8.6 212.24-4.45 208.14-2.15L208.14-2.15ZM207.36-26.7Q203.79-30.4 198.59-30.4 193.39-30.4 189.81-26.7 186.24-23 186.24-17.73 186.24-12.45 189.81-8.75 193.39-5.05 198.59-5.05 203.79-5.05 207.36-8.75 210.94-12.45 210.94-17.73 210.94-23 207.36-26.7ZM219.59-2.15L224.44-2.15 224.44-34.95 230.34-34.95 230.34-17.9 246.34-34.95 253.84-34.95 239.79-19.65 252.49-2.1 252.49-2.15 257.34-2.15 257.34 0 247.04 0 235.44-15.3 230.34-9.8 230.34 0 219.59 0 219.59-2.15ZM254.78-2.15L268.48-2.15 268.48 0 254.78 0 254.78-2.15ZM308.83-2.15L320.88-2.15 320.88 0 302.23 0 294.88-23.95 294.48-23.95 287.13 0 268.48 0 268.48-2.15 280.53-2.15 269.08-34.95 275.43-34.95 284.23-9.8 292.03-34.95 297.33-34.95 305.13-9.8 313.93-34.95 320.28-34.95 308.83-2.15ZM320.88-2.15L325.73-2.15 325.73-34.95 331.63-34.95 331.63-2.15 336.48-2.15 336.48 0 320.88 0 320.88-2.15ZM354.53-2.15L366.68-2.15 366.68 0 336.48 0 336.48-2.15 348.63-2.15 348.63-29.55 338.03-29.55 338.03-34.95 365.13-34.95 365.13-29.55 354.53-29.55 354.53-2.15ZM405.52 0L405.52-2.15 400.67-2.15 400.67-34.95 394.77-34.95 394.77-19.8 377.42-19.8 377.42-34.95 371.52-34.95 371.52 0 377.42 0 377.42-14.3 394.77-14.3 394.77 0 405.52 0ZM366.67-2.15L371.52-2.15 371.52 0 366.67 0 366.67-2.15ZM405.52-2.15L419.22-2.15 419.22 0 405.52 0 405.52-2.15ZM445.92-2.15L450.77-2.15 450.77 0 419.22 0 419.22-2.15 424.07-2.15 424.07-34.95 429.97-34.95 429.97-5.6 445.92-5.6 445.92-2.15ZM478.07-2.15L489.52-2.15 489.52 0 447.52 0 447.52-2.15 458.97-2.15Q454.87-4.5 452.49-8.6 450.12-12.7 450.12-17.75L450.12-17.75Q450.12-25.45 455.42-30.63 460.72-35.8 468.52-35.8 476.32-35.8 481.62-30.63 486.92-25.45 486.92-17.75L486.92-17.75Q486.92-12.75 484.54-8.6 482.17-4.45 478.07-2.15L478.07-2.15ZM477.29-26.7Q473.72-30.4 468.52-30.4 463.32-30.4 459.74-26.7 456.17-23 456.17-17.73 456.17-12.45 459.74-8.75 463.32-5.05 468.52-5.05 473.72-5.05 477.29-8.75 480.87-12.45 480.87-17.73 480.87-23 477.29-26.7ZM511.16-2.15L524.51-2.15 524.51 0 489.51 0 489.51-2.15 502.81-2.15 489.66-34.95 496.26-34.95 507.01-8.85 517.76-34.95 524.36-34.95 511.16-2.15ZM524.51-2.15L529.36-2.15 529.36-34.95 553.91-34.95 553.91-29.4 535.26-29.4 535.26-20.15 552.01-20.15 552.01-14.9 535.26-14.9 535.26-5.55 554.51-5.55 554.51-2.15 559.36-2.15 559.36 0 524.51 0 524.51-2.15ZM561.11-28.5L561.11-34.95 568.11-34.95 568.11-28.5 566.61-10.95 562.61-10.95 561.11-28.5ZM567.21-2.15L571.96-2.15 571.96 0 557.21 0 557.21-2.15 562.06-2.15Q560.91-3.2 560.91-4.78 560.91-6.35 562.01-7.45 563.11-8.55 564.63-8.55 566.16-8.55 567.26-7.45 568.36-6.35 568.36-4.78 568.36-3.2 567.21-2.15L567.21-2.15Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","secondary","id","text-1",1,"slogan-text-1"],["transform","matrix(1,0,0,1,44.346836861382,0)"],["viewBox","0 0 103.306326277236 103.306326277236","height","103.306326277236","width","103.306326277236"],["id","icon-0"],["d","M0 51.653c0-28.527 23.126-51.653 51.653-51.653 28.527 0 51.653 23.126 51.653 51.653 0 28.527-23.126 51.653-51.653 51.653-28.527 0-51.653-23.126-51.653-51.653zM51.653 100.784c27.134 0 49.131-21.997 49.131-49.131 0-27.134-21.997-49.131-49.131-49.131-27.134 0-49.131 21.997-49.131 49.131 0 27.134 21.997 49.131 49.131 49.131z","data-fill-palette-color","accent","fill","#ffffff","stroke","transparent"],["rx","51.13663150723182","ry","51.13663150723182","cx","51.653163138618","cy","51.653163138618","fill","#ffffff","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,20.799678473042622,21.56674460107238)"],["viewBox","0 0 61.70696933115075 60.17283707509124","height","60.17283707509124","width","61.70696933115075"],["xmlns","http://www.w3.org/2000/svg","version","1.1","x","0","y","0","viewBox","4.642358779907227 7.340823173522949 90.00060272216797 87.76304626464844","enable-background","new 0 0 100 100","height","60.17283707509124","width","61.70696933115075","data-fill-palette-color","quaternary","id","y-0",1,"icon-y-0"],["d","M34.065 95.103c0 0-5.908 0.268-6.441-8.623l-4.313-27.253c0 0-17.724-3.09-18.628-18.685 0 0-1.49-14.747 13.574-20.441 0 0 2.29-1.809 10.115-1.704 0 0 7.187-11.871 21.397-10.965 0 0 10.968-1.81 21.08 10.699 0 0 14.211-1.011 21.345 11.604 0 0 8.251 13.468-5.537 24.752 0 0-3.46 3.087-9.847 4.578l-3.565 29.33c0 0 0.21 4.95-3.779 5.909l0.212-43.862c0 0-0.638-3.62-4.151-3.568 0 0-3.355-0.158-4.045 3.568V76.42h2.767v18.683h-8.782V66.41c0 0 2.874-0.462 3.246-3.185V47.887c0 0 0.238-1.146-0.831-1.083-1.072 0.063-0.926 0.42-0.926 1.029 0 0.608 0 11.062 0 11.062h-1.679V47.75c0 0-0.042-1.008-0.796-0.797 0 0-0.86-0.19-0.902 0.818-0.042 1.006 0 11.04 0 11.04h-1.679V47.853c0 0 0.125-1.069-0.735-1.048-0.861 0.021-0.925 0.672-0.925 1.134 0 0.461 0 10.894 0 10.894h-1.615V47.434c0 0 0.083-0.755-0.841-0.65-0.921 0.106-0.902 0.629-0.902 0.86 0 0.232 0 15.389 0 15.389s-0.273 2.853 3.359 3.146v28.924H39.071V68.363c0 0 6.467-3.529 5.795-10.58 0 0 0.504-8.649-7.223-10.831 0 0-8.06-0.505-9.235 9.571 0 0-0.841 8.73 5.542 11.672L34.065 95.103z","fill","#8abe53","data-fill-palette-color","quaternary"]],template:function(r,i){1&r&&(_(0,"main",0)(1,"div",1),function S2(){Y.lFrame.currentNamespace="svg"}(),_(2,"svg",2)(3,"g"),M(4,"path",3),m(),_(5,"g",4)(6,"svg",5)(7,"g")(8,"svg",5)(9,"g",6)(10,"svg",7)(11,"g",8)(12,"svg",9)(13,"g")(14,"svg",10)(15,"g",11)(16,"svg",12),M(17,"path",13),m()()()(),_(18,"g",14)(19,"svg",15)(20,"g",11)(21,"svg",16),M(22,"path",17),m()()()()()()()(),_(23,"g",18)(24,"svg",19)(25,"g"),M(26,"svg"),m(),_(27,"g",20)(28,"svg",19)(29,"g"),M(30,"path",21)(31,"ellipse",22),m(),_(32,"g",23)(33,"svg",24)(34,"g")(35,"svg",25),M(36,"path",26),m()()()()()()()(),M(37,"g"),m()()()()()()())},styles:[".main[_ngcontent-%COMP%]{height:80vh;background-color:#d5cabd}.logo[_ngcontent-%COMP%]{width:250px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:red}"]})}return t})();function lF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){lF(s,r,i,o,a,"next",u)}function a(u){lF(s,r,i,o,a,"throw",u)}o(void 0)})}}const dF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Pee;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uu=function(t){return function(t){const e=dF(t);return Cw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Pp=function(t){try{return Cw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Fp=()=>{try{return function Vee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Dw=()=>{var t;return null===(t=Fp())||void 0===t?void 0:t.config};class Lp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Qn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ls(){try{return"object"==typeof indexedDB}catch{return!1}}function cu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Aw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xr.prototype.create)}}class xr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Yee(t,e){return t.replace(Jee,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Yn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Jee=/\{\$([^}]+)}/g;function Pl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pF(s)&&pF(o)){if(!Pl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pF(t){return null!==t&&"object"==typeof t}function gF(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Zee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function ete(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Sw),void 0===i.error&&(i.error=Sw),void 0===i.complete&&(i.complete=Sw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sw(){}const tte=1e3,nte=2,rte=144e5,ite=.5;function Mw(t,e=tte,n=nte){const r=e*Math.pow(n,t),i=Math.round(ite*r*(Math.random()-.5)*2);return Math.min(rte,r+i)}function dr(t){return t&&t._delegate?t._delegate:t}class gt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const uo="[DEFAULT]";class ote{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ute(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===uo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ote(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Nw=[];var ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{});const yF={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},cte=ve.INFO,lte={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},dte=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=lte[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class co{constructor(e){this.name=e,this._logLevel=cte,this._logHandler=dte,this._userLogHandler=null,Nw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?yF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const hte=(t,e)=>e.some(n=>t instanceof n);let _F,vF;const wF=new WeakMap,Rw=new WeakMap,IF=new WeakMap,kw=new WeakMap,Ow=new WeakMap;let Pw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Rw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||IF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function vte(t){return"function"==typeof t?function _te(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pte(){return vF||(vF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Fw(this),e),ds(wF.get(this))}:function(...e){return ds(t.apply(Fw(this),e))}:function(e,...n){const r=t.call(Fw(this),e,...n);return IF.set(r,e.sort?e.sort():[e]),ds(r)}}(t):(t instanceof IDBTransaction&&function mte(t){if(Rw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rw.set(t,e)}(t),hte(t,function fte(){return _F||(_F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Pw):t)}function ds(t){if(t instanceof IDBRequest)return function gte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ds(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wF.set(n,t)}).catch(()=>{}),Ow.set(e,t),e}(t);if(kw.has(t))return kw.get(t);const e=vte(t);return e!==t&&(kw.set(t,e),Ow.set(e,t)),e}const Fw=t=>Ow.get(t);function EF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ds(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ds(o.result),u.oldVersion,u.newVersion,ds(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const wte=["get","getKey","getAll","getAllKeys","count"],Ite=["put","add","delete","clear"],Lw=new Map;function bF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Lw.get(e))return Lw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ite.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wte.includes(n))return;const s=function(){var o=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Lw.set(e,s),s}!function yte(t){Pw=t(Pw)}(t=>({...t,get:(e,n,r)=>bF(e,n)||t.get(e,n,r),has:(e,n)=>!!bF(e,n)||t.has(e,n)}));class Ete{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function bte(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Vw="@firebase/app",lo=new co("@firebase/app"),Up="[DEFAULT]",Qte={[Vw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ho=new Map,Bp=new Map;function Yte(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lu(t){const e=t.name;if(Bp.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,t);for(const n of ho.values())Yte(n,t);return!0}const Mi=new xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xte{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}const jp="9.23.0";function TF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Up,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Mi.create("bad-app-name",{appName:String(i)});if(n||(n=Dw()),!n)throw Mi.create("no-options");const s=ho.get(i);if(s){if(Pl(n,s.options)&&Pl(r,s.config))return s;throw Mi.create("duplicate-app",{appName:i})}const o=new mF(i);for(const u of Bp.values())o.addComponent(u);const a=new Xte(n,r,o);return ho.set(i,a),a}function AF(t=Up){const e=ho.get(t);if(!e&&t===Up&&Dw())return TF();if(!e)throw Mi.create("no-app",{appName:t});return e}function SF(){return Array.from(ho.values())}function hr(t,e,n){var r;let i=null!==(r=Qte[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void lo.warn(a.join(" "))}lu(new gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Zte="firebase-heartbeat-database",ene=1,Fl="firebase-heartbeat-store";let Bw=null;function xF(){return Bw||(Bw=EF(Zte,ene,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Fl)}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),Bw}function jw(){return(jw=v(function*(t){try{return yield(yield xF()).transaction(Fl).objectStore(Fl).get(NF(t))}catch(e){if(e instanceof Yn)lo.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e?.message});lo.warn(n.message)}}})).apply(this,arguments)}function MF(t,e){return $w.apply(this,arguments)}function $w(){return($w=v(function*(t,e){try{const r=(yield xF()).transaction(Fl,"readwrite");yield r.objectStore(Fl).put(e,NF(t)),yield r.done}catch(n){if(n instanceof Yn)lo.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n?.message});lo.warn(r.message)}}})).apply(this,arguments)}function NF(t){return`${t.name}!${t.options.appId}`}class ine{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new one(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=RF(),{heartbeatsToSend:r,unsentEntries:i}=function sne(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=uu(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function RF(){return(new Date).toISOString().substring(0,10)}class one{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!ls()&&cu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function tne(t){return jw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return MF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return MF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function kF(t){return uu(JSON.stringify({version:2,heartbeats:t})).length}!function ane(t){lu(new gt("platform-logger",e=>new Ete(e),"PRIVATE")),lu(new gt("heartbeat",e=>new ine(e),"PRIVATE")),hr(Vw,"0.9.13",t),hr(Vw,"0.9.13","esm2017"),hr("fire-js","")}(""),hr("firebase","9.23.0","app");class lne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function dne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Hw="@firebase/app",fo=new co("@firebase/app"),Lne={[Hw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},po=new Map,Hp=new Map;function Vne(t,e){try{t.container.addComponent(e)}catch(n){fo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fr(t){const e=t.name;if(Hp.has(e))return fo.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,t);for(const n of po.values())Vne(n,t);return!0}function Gw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ni=new xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Bne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}function Jn(t,e,n){var r;let i=null!==(r=Lne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void fo.warn(a.join(" "))}fr(new gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $ne="firebase-heartbeat-database",Hne=1,Ll="firebase-heartbeat-store";let qw=null;function FF(){return qw||(qw=EF($ne,Hne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ll)}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),qw}function Ww(){return(Ww=v(function*(t){try{return yield(yield FF()).transaction(Ll).objectStore(Ll).get(VF(t))}catch(e){if(e instanceof Yn)fo.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e?.message});fo.warn(n.message)}}})).apply(this,arguments)}function LF(t,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=v(function*(t,e){try{const r=(yield FF()).transaction(Ll,"readwrite");yield r.objectStore(Ll).put(e,VF(t)),yield r.done}catch(n){if(n instanceof Yn)fo.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n?.message});fo.warn(r.message)}}})).apply(this,arguments)}function VF(t){return`${t.name}!${t.options.appId}`}class Wne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=UF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=UF(),{heartbeatsToSend:r,unsentEntries:i}=function Kne(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),BF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=uu(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function UF(){return(new Date).toISOString().substring(0,10)}class Qne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!ls()&&cu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Gne(t){return Ww.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return LF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return LF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function BF(t){return uu(JSON.stringify({version:2,heartbeats:t})).length}!function Yne(t){fr(new gt("platform-logger",e=>new lne(e),"PRIVATE")),fr(new gt("heartbeat",e=>new Wne(e),"PRIVATE")),Jn(Hw,"0.9.22",t),Jn(Hw,"0.9.22","esm2017"),Jn("fire-js","")}("");const Jne=(t,e)=>e.some(n=>t instanceof n);let jF,$F;const HF=new WeakMap,Qw=new WeakMap,GF=new WeakMap,Yw=new WeakMap,Jw=new WeakMap;let Xw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Qw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||GF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ire(t){return"function"==typeof t?function rre(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zne(){return $F||($F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Zw(this),e),hs(HF.get(this))}:function(...e){return hs(t.apply(Zw(this),e))}:function(e,...n){const r=t.call(Zw(this),e,...n);return GF.set(r,e.sort?e.sort():[e]),hs(r)}}(t):(t instanceof IDBTransaction&&function tre(t){if(Qw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qw.set(t,e)}(t),Jne(t,function Xne(){return jF||(jF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Xw):t)}function hs(t){if(t instanceof IDBRequest)return function ere(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HF.set(n,t)}).catch(()=>{}),Jw.set(e,t),e}(t);if(Yw.has(t))return Yw.get(t);const e=ire(t);return e!==t&&(Yw.set(t,e),Jw.set(e,t)),e}const Zw=t=>Jw.get(t),ore=["get","getKey","getAll","getAllKeys","count"],are=["put","add","delete","clear"],eI=new Map;function zF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(eI.get(e))return eI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=are.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ore.includes(n))return;const s=function(){var o=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return eI.set(e,s),s}!function nre(t){Xw=t(Xw)}(t=>({...t,get:(e,n,r)=>zF(e,n)||t.get(e,n,r),has:(e,n)=>!!zF(e,n)||t.has(e,n)}));const qF="@firebase/installations",tI="0.6.4",WF=1e4,KF=`w:${tI}`,QF="FIS_v2",ure="https://firebaseinstallations.googleapis.com/v1",cre=36e5,Ri=new xr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function YF(t){return t instanceof Yn&&t.code.includes("request-failed")}function nI({projectId:t}){return`${ure}/projects/${t}/installations`}function JF(t){return{token:t.token,requestStatus:2,expiresIn:fre(t.expiresIn),creationTime:Date.now()}}function rI(t,e){return iI.apply(this,arguments)}function iI(){return(iI=v(function*(t,e){const r=(yield e.json()).error;return Ri.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function XF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sI(t){return oI.apply(this,arguments)}function oI(){return(oI=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function fre(t){return Number(t.replace("s","000"))}function aI(){return(aI=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nI(t),i=XF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:QF,appId:t.appId,sdkVersion:KF})},u=yield sI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:JF(c.authToken)}}throw yield rI("Create Installation",u)})).apply(this,arguments)}function e3(t){return new Promise(e=>{setTimeout(e,t)})}const yre=/^[cdef][\w-]{21}$/,uI="";function _re(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function vre(t){return function mre(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return yre.test(n)?n:uI}catch{return uI}}function du(t){return`${t.appName}!${t.appId}`}const hu=new Map;function t3(t,e){const n=du(t);n3(n,e),function Ere(t,e){const n=function r3(){return!go&&"BroadcastChannel"in self&&(go=new BroadcastChannel("[Firebase] FID Change"),go.onmessage=t=>{n3(t.data.key,t.data.fid)}),go}();n&&n.postMessage({key:t,fid:e}),function i3(){0===hu.size&&go&&(go.close(),go=null)}()}(n,e)}function n3(t,e){const n=hu.get(t);if(n)for(const r of n)r(e)}let go=null;const bre="firebase-installations-database",Cre=1,mo="firebase-installations-store";let cI=null;function lI(){return cI||(cI=function sre(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(hs(o.result),u.oldVersion,u.newVersion,hs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(bre,Cre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(mo)}})),cI}function Gp(t,e){return dI.apply(this,arguments)}function dI(){return(dI=v(function*(t,e){const n=du(t),i=(yield lI()).transaction(mo,"readwrite"),s=i.objectStore(mo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&t3(t,e.fid),e})).apply(this,arguments)}function hI(t){return fI.apply(this,arguments)}function fI(){return(fI=v(function*(t){const e=du(t),r=(yield lI()).transaction(mo,"readwrite");yield r.objectStore(mo).delete(e),yield r.done})).apply(this,arguments)}function Vl(t,e){return pI.apply(this,arguments)}function pI(){return(pI=v(function*(t,e){const n=du(t),i=(yield lI()).transaction(mo,"readwrite"),s=i.objectStore(mo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&t3(t,a.fid),a})).apply(this,arguments)}function gI(t){return mI.apply(this,arguments)}function mI(){return mI=v(function*(t){let e;const n=yield Vl(t.appConfig,r=>{const i=function Dre(t){return o3(t||{fid:_re(),registrationStatus:0})}(r),s=function Tre(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ri.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Are(t,e){return yI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Sre(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===uI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),mI.apply(this,arguments)}function yI(){return yI=v(function*(t,e){try{const n=yield function gre(t,e){return aI.apply(this,arguments)}(t,e);return Gp(t.appConfig,n)}catch(n){throw YF(n)&&409===n.customData.serverCode?yield hI(t.appConfig):yield Gp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),yI.apply(this,arguments)}function Sre(t){return _I.apply(this,arguments)}function _I(){return(_I=v(function*(t){let e=yield s3(t.appConfig);for(;1===e.registrationStatus;)yield e3(100),e=yield s3(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield gI(t);return r||n}return e})).apply(this,arguments)}function s3(t){return Vl(t,e=>{if(!e)throw Ri.create("installation-not-found");return o3(e)})}function o3(t){return function xre(t){return 1===t.registrationStatus&&t.registrationTime+WF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function vI(){return(vI=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Nre(t,{fid:e}){return`${nI(t)}/${e}/authTokens:generate`}(t,n),i=function ZF(t,{refreshToken:e}){const n=XF(t);return n.append("Authorization",function pre(t){return`${QF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:KF,appId:t.appId}})},u=yield sI(()=>fetch(r,a));if(u.ok)return JF(yield u.json());throw yield rI("Generate Auth Token",u)})).apply(this,arguments)}function wI(t){return II.apply(this,arguments)}function II(){return II=v(function*(t,e=!1){let n;const r=yield Vl(t.appConfig,s=>{if(!u3(s))throw Ri.create("not-registered");const o=s.authToken;if(!e&&function Ore(t){return 2===t.requestStatus&&!function Pre(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cre}(t)}(o))return s;if(1===o.requestStatus)return n=function Rre(t,e){return EI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ri.create("app-offline");const a=function Fre(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function kre(t,e){return bI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),II.apply(this,arguments)}function EI(){return(EI=v(function*(t,e){let n=yield a3(t.appConfig);for(;1===n.authToken.requestStatus;)yield e3(100),n=yield a3(t.appConfig);const r=n.authToken;return 0===r.requestStatus?wI(t,e):r})).apply(this,arguments)}function a3(t){return Vl(t,e=>{if(!u3(e))throw Ri.create("not-registered");return function Lre(t){return 1===t.requestStatus&&t.requestTime+WF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function bI(){return bI=v(function*(t,e){try{const n=yield function Mre(t,e){return vI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Gp(t.appConfig,r),n}catch(n){if(!YF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Gp(t.appConfig,r)}else yield hI(t.appConfig);throw n}}),bI.apply(this,arguments)}function u3(t){return void 0!==t&&2===t.registrationStatus}function CI(){return(CI=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield gI(e);return r?r.catch(console.error):wI(e).catch(console.error),n.fid})).apply(this,arguments)}function DI(){return DI=v(function*(t,e=!1){const n=t;return yield function Bre(t){return TI.apply(this,arguments)}(n),(yield wI(n,e)).token}),DI.apply(this,arguments)}function TI(){return(TI=v(function*(t){const{registrationPromise:e}=yield gI(t);e&&(yield e)})).apply(this,arguments)}function xI(t){return Ri.create("missing-app-config-values",{valueName:t})}const c3="installations",zre=t=>{const e=t.getProvider("app").getImmediate(),n=function Hre(t){if(!t||!t.options)throw xI("App Configuration");if(!t.name)throw xI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Gw(e,"heartbeat"),_delete:()=>Promise.resolve()}},qre=t=>{const n=Gw(t.getProvider("app").getImmediate(),c3).getImmediate();return{getId:()=>function Vre(t){return CI.apply(this,arguments)}(n),getToken:i=>function Ure(t){return DI.apply(this,arguments)}(n,i)}};(function Wre(){fr(new gt(c3,zre,"PUBLIC")),fr(new gt("installations-internal",qre,"PRIVATE"))})(),Jn(qF,tI),Jn(qF,tI,"esm2017");const MI="@firebase/remote-config",Nn=new xr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class iie{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function sie(t=navigator){return t.languages&&t.languages[0]||t.language}class oie{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:sie()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((b,w)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",w(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(b){let w="fetch-client-network";throw"AbortError"===b?.name&&(w="fetch-timeout"),Nn.create(w,{originalErrorMessage:b?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let b;try{b=yield h.json()}catch(w){throw Nn.create("fetch-client-parse",{originalErrorMessage:w?.message})}g=b.entries,y=b.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw Nn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class cie{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return v(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return v(function*(){yield function aie(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function uie(t){if(!(t instanceof Yn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Mw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class hie{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qp(t,e){const n=t.target.error||void 0;return Nn.create(e,{originalErrorMessage:n&&n?.message})}const yo="app_namespace_store";class mie{constructor(e,n,r,i=function gie(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(qp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yo,{keyPath:"compositeKey"})}}catch(n){e(Nn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([yo],"readonly").objectStore(yo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(qp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Nn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([yo],"readwrite").objectStore(yo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(qp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Nn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([yo],"readwrite").objectStore(yo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(qp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Nn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class yie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function vie(){return PI.apply(this,arguments)}function PI(){return(PI=v(function*(){if(!ls())return!1;try{return yield cu()}catch{return!1}})).apply(this,arguments)}!function _ie(){fr(new gt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nn.create("registration-window");if(!ls())throw Nn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Nn.create("registration-project-id");if(!o)throw Nn.create("registration-api-key");if(!a)throw Nn.create("registration-app-id");const u=new mie(a,r.name,n=n||"firebase"),c=new yie(u),l=new co(MI);l.logLevel=ve.ERROR;const d=new oie(i,"10.5.2",n,s,o,a),h=new cie(d,u),f=new iie(h,u,c,l),p=new hie(r,f,c,u,l);return function tie(t){const e=dr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Jn(MI,"0.4.4"),Jn(MI,"0.4.4","esm2017")}();const wie=(t,e)=>e.some(n=>t instanceof n);let f3,p3;const g3=new WeakMap,FI=new WeakMap,m3=new WeakMap,LI=new WeakMap,VI=new WeakMap;let UI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return FI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||m3.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Aie(t){return"function"==typeof t?function Tie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Eie(){return p3||(p3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(BI(this),e),ki(g3.get(this))}:function(...e){return ki(t.apply(BI(this),e))}:function(e,...n){const r=t.call(BI(this),e,...n);return m3.set(r,e.sort?e.sort():[e]),ki(r)}}(t):(t instanceof IDBTransaction&&function Cie(t){if(FI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});FI.set(t,e)}(t),wie(t,function Iie(){return f3||(f3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,UI):t)}function ki(t){if(t instanceof IDBRequest)return function bie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ki(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&g3.set(n,t)}).catch(()=>{}),VI.set(e,t),e}(t);if(LI.has(t))return LI.get(t);const e=Aie(t);return e!==t&&(LI.set(t,e),VI.set(e,t)),e}const BI=t=>VI.get(t);function y3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ki(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ki(o.result),u.oldVersion,u.newVersion,ki(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function jI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ki(n).then(()=>{})}const Sie=["get","getKey","getAll","getAllKeys","count"],xie=["put","add","delete","clear"],$I=new Map;function _3(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if($I.get(e))return $I.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Sie.includes(n))return;const s=function(){var o=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return $I.set(e,s),s}!function Die(t){UI=t(UI)}(t=>({...t,get:(e,n,r)=>_3(e,n)||t.get(e,n,r),has:(e,n)=>!!_3(e,n)||t.has(e,n)}));const Mie="/firebase-messaging-sw.js",Nie="/firebase-cloud-messaging-push-scope",v3="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rie="https://fcmregistrations.googleapis.com/v1",w3="google.c.a.c_id",kie="google.c.a.c_l",Oie="google.c.a.ts";var Wp=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Wp||{});function Oi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Lie(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const HI="fcm_token_details_db",Vie=5,I3="fcm_token_object_Store";function GI(){return GI=v(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(HI))return null;let e=null;return(yield y3(HI,Vie,{upgrade:(r=v(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(I3))return;const c=a.objectStore(I3),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Oi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield jI(HI),yield jI("fcm_vapid_details_db"),yield jI("undefined"),function Bie(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),GI.apply(this,arguments)}const jie="firebase-messaging-database",$ie=1,_o="firebase-messaging-store";let zI=null;function qI(){return zI||(zI=y3(jie,$ie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(_o)}})),zI}function E3(t){return WI.apply(this,arguments)}function WI(){return WI=v(function*(t){const e=JI(t),r=yield(yield qI()).transaction(_o).objectStore(_o).get(e);if(r)return r;{const i=yield function Uie(t){return GI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield KI(t,i),i}}),WI.apply(this,arguments)}function KI(t,e){return QI.apply(this,arguments)}function QI(){return(QI=v(function*(t,e){const n=JI(t),i=(yield qI()).transaction(_o,"readwrite");return yield i.objectStore(_o).put(e,n),yield i.done,e})).apply(this,arguments)}function YI(){return(YI=v(function*(t){const e=JI(t),r=(yield qI()).transaction(_o,"readwrite");yield r.objectStore(_o).delete(e),yield r.done})).apply(this,arguments)}function JI({appConfig:t}){return t.appId}const $t=new xr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zie(t,e){return XI.apply(this,arguments)}function XI(){return(XI=v(function*(t,e){const n=yield nE(t),r=C3(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(tE(t.appConfig),i)).json()}catch(o){throw $t.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw $t.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw $t.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ZI(){return(ZI=v(function*(t,e){const n=yield nE(t),r=C3(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${tE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw $t.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw $t.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw $t.create("token-update-no-token");return s.token})).apply(this,arguments)}function b3(t,e){return eE.apply(this,arguments)}function eE(){return(eE=v(function*(t,e){const r={method:"DELETE",headers:yield nE(t)};try{const s=yield(yield fetch(`${tE(t.appConfig)}/${e}`,r)).json();if(s.error)throw $t.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw $t.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function tE({projectId:t}){return`${Rie}/projects/${t}/registrations`}function nE(t){return rE.apply(this,arguments)}function rE(){return(rE=v(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function C3({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==v3&&(i.web.applicationPubKey=r),i}const Wie=6048e5;function iE(){return iE=v(function*(t){const e=yield function Yie(t,e){return uE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Oi(e.getKey("auth")),p256dh:Oi(e.getKey("p256dh"))},r=yield E3(t.firebaseDependencies);if(r){if(function Jie(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Wie?function Qie(t,e){return oE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield b3(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return T3(t.firebaseDependencies,n)}return T3(t.firebaseDependencies,n)}),iE.apply(this,arguments)}function sE(){return sE=v(function*(t){const e=yield E3(t.firebaseDependencies);e&&(yield b3(t.firebaseDependencies,e.token),yield function Hie(t){return YI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),sE.apply(this,arguments)}function oE(){return oE=v(function*(t,e){try{const n=yield function qie(t,e){return ZI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield KI(t.firebaseDependencies,r),n}catch(n){throw yield function D3(t){return sE.apply(this,arguments)}(t),n}}),oE.apply(this,arguments)}function T3(t,e){return aE.apply(this,arguments)}function aE(){return(aE=v(function*(t,e){const r={token:yield zie(t,e),createTime:Date.now(),subscriptionOptions:e};return yield KI(t,r),r.token})).apply(this,arguments)}function uE(){return(uE=v(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Lie(e)})})).apply(this,arguments)}function A3(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Xie(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Zie(t,e){e.data&&(t.data=e.data)}(e,t),function ese(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function S3(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function cE(t){return $t.create("missing-app-config-values",{valueName:t})}S3("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),S3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rse{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function nse(t){if(!t||!t.options)throw cE("App Configuration Object");if(!t.name)throw cE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw cE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function lE(){return(lE=v(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Mie,{scope:Nie}),t.swRegistration.update().catch(()=>{})}catch(e){throw $t.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function dE(){return(dE=v(function*(t,e){if(!e&&!t.swRegistration&&(yield function x3(t){return lE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw $t.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function hE(){return(hE=v(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=v3)})).apply(this,arguments)}function fE(){return fE=v(function*(t,e){if(!navigator)throw $t.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $t.create("permission-blocked");return yield function sse(t,e){return hE.apply(this,arguments)}(t,e?.vapidKey),yield function ise(t,e){return dE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Kie(t){return iE.apply(this,arguments)}(t)}),fE.apply(this,arguments)}function pE(){return(pE=v(function*(t,e,n){const r=function ase(t){switch(t){case Wp.NOTIFICATION_CLICKED:return"notification_open";case Wp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[w3],message_name:n[kie],message_time:n[Oie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gE(){return gE=v(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Wp.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(A3(n)):t.onMessageHandler.next(A3(n)));const r=n.data;(function tse(t){return"object"==typeof t&&!!t&&w3 in t})(r)&&"1"===r["google.c.a.e"]&&(yield function ose(t,e,n){return pE.apply(this,arguments)}(t,n.messageType,r))}),gE.apply(this,arguments)}const N3="@firebase/messaging",cse=t=>{const e=new rse(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function use(t,e){return gE.apply(this,arguments)}(e,n)),e},lse=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function M3(t,e){return fE.apply(this,arguments)}(e,r)}};function k3(){return mE.apply(this,arguments)}function mE(){return(mE=v(function*(){try{yield cu()}catch{return!1}return typeof window<"u"&&ls()&&Aw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function dse(){fr(new gt("messaging",cse,"PUBLIC")),fr(new gt("messaging-internal",lse,"PRIVATE")),Jn(N3,"0.12.4"),Jn(N3,"0.12.4","esm2017")}();const Kp="analytics",pse="firebase_id",gse="origin",mse=6e4,yse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vE="https://www.googletagmanager.com/gtag/js",At=new co("@firebase/analytics"),_n=new xr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function vse(t){if(!t.startsWith(vE)){const e=_n.create("invalid-gtag-resource",{gtagURL:t});return At.warn(e.message),""}return t}function O3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function wE(){return(wE=v(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield O3(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){At.error(a)}t("config",i,s)})).apply(this,arguments)}function IE(){return(IE=v(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield O3(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){At.error(s)}})).apply(this,arguments)}const Sse=30,P3=new class Mse{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Nse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function EE(){return(EE=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Nse(r)},s=yse.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function bE(){return(bE=v(function*(t,e=P3,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw _n.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw _n.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Fse;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:mse),F3({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function F3(t,e,n){return CE.apply(this,arguments)}function CE(){return CE=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=P3){var s;const{appId:o,measurementId:a}=t;try{yield function Ose(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return At.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Rse(t){return EE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Pse(t){if(!(t instanceof Yn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return At.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Mw(n,i.intervalMillis,Sse):Mw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),At.debug(`Calling attemptFetch again in ${l} millis`),F3(t,d,r,i)}}),CE.apply(this,arguments)}class Fse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let DE,RE;function TE(){return(TE=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function kE(){return(kE=v(function*(){if(!ls())return At.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield cu()}catch(t){return At.warn(_n.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function OE(){return OE=v(function*(t,e,n,r,i,s,o){var a;const u=function kse(t){return bE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&At.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>At.error(f)),e.push(u);const c=function Hse(){return kE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Ase(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(vE)&&n.src.includes(t))return n;return null})(s)||function Ise(t,e){const n=function wse(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:vse}),r=document.createElement("script"),i=`${vE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),RE&&(i("consent","default",RE),function L3(t){RE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[gse]="firebase",h.update=!0,null!=d&&(h[pse]=d),i("config",l.measurementId,h),DE&&(i("set",DE),function V3(t){DE=t}(void 0)),l.measurementId}),OE.apply(this,arguments)}class zse{constructor(e){this.app=e}_delete(){return delete Qr[this.app.options.appId],Promise.resolve()}}let Qr={},U3=[];const B3={};let $3,Yr,Qp="dataLayer",PE=!1;function Wse(t,e,n){!function qse(){const t=[];if(Tw()&&t.push("This is a browser extension environment."),Aw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});At.warn(n.message)}}();const r=t.options.appId;if(!r)throw _n.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw _n.create("no-api-key");At.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qr[r])throw _n.create("already-exists",{id:r});if(!PE){!function Ese(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Qp);const{wrappedGtag:s,gtagCore:o}=function Tse(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Dse(t,e,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Cse(t,e,n,r,i){return IE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function bse(t,e,n,r,i,s){return wE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){At.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Qr,U3,B3,Qp,"gtag");Yr=s,$3=o,PE=!0}return Qr[r]=function Gse(t,e,n,r,i,s,o){return OE.apply(this,arguments)}(t,U3,B3,e,$3,Qp,n),new zse(t)}function Qse(){return FE.apply(this,arguments)}function FE(){return(FE=v(function*(){if(Tw()||!Aw()||!ls())return!1;try{return yield cu()}catch{return!1}})).apply(this,arguments)}const H3="@firebase/analytics";!function Jse(){fr(new gt(Kp,(e,{options:n})=>Wse(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),fr(new gt("analytics-internal",function t(e){try{const n=e.getProvider(Kp).getImmediate();return{logEvent:(r,i,s)=>function Yse(t,e,n,r){t=dr(t),function Lse(t,e,n,r,i){return TE.apply(this,arguments)}(Yr,Qr[t.app.options.appId],e,n,r).catch(i=>At.error(i))}(n,r,i,s)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Jn(H3,"0.10.0"),Jn(H3,"0.10.0","esm2017")}();class Xse extends En{constructor(e,n){super()}schedule(e,n=0){return this}}const Yp={setInterval(t,e,...n){const{delegate:r}=Yp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Yp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class z3 extends Xse{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Yp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Yp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Zo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const q3={now:()=>(q3.delegate||Date).now(),delegate:void 0};class Ul{constructor(e,n=Ul.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ul.now=q3.now;class W3 extends Ul{constructor(e,n=Ul.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const toe=new class eoe extends W3{}(class Zse extends z3{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),noe=new W3(z3),VE=new Ma("7.6.1"),UE="__angularfire_symbol__analyticsIsSupportedValue",BE="__angularfire_symbol__analyticsIsSupported",jE="__angularfire_symbol__remoteConfigIsSupportedValue",$E="__angularfire_symbol__remoteConfigIsSupported",HE="__angularfire_symbol__messagingIsSupportedValue",GE="__angularfire_symbol__messagingIsSupported";globalThis[BE]||(globalThis[BE]=Qse().then(t=>globalThis[UE]=t).catch(()=>globalThis[UE]=!1)),globalThis[GE]||(globalThis[GE]=k3().then(t=>globalThis[HE]=t).catch(()=>globalThis[HE]=!1)),globalThis[$E]||(globalThis[$E]=vie().then(t=>globalThis[jE]=t).catch(()=>globalThis[jE]=!1));const WE=(t,e)=>{const n=e?[e]:SF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function fu(){}class K3{constructor(e,n=toe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class roe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fu,{},fu,fu)),n.pipe(jt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Q3=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new K3(Zone.current)),this.insideAngular=n.run(()=>new K3(Zone.current,noe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(H(Ae))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function wo(t){return vo().ngZone.run(()=>t())}function soe(t){return vo(),function ooe(t){return function(n){return(n=n.lift(new roe(t.ngZone))).pipe(Eh(t.outsideAngular),Ih(t.insideAngular))}}(vo())(t)}const aoe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),wo(()=>t.apply(void 0,r))},Pi=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=wo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fu,{},fu,fu)))),r[s]=aoe(r[s],n));const i=function ioe(t){return vo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ce){const s=vo();return i.pipe(Eh(s.outsideAngular),Ih(s.insideAngular))}return wo(()=>i)}return i instanceof Ce?i.pipe(soe):i instanceof Promise?wo(()=>new Promise((s,o)=>i.then(a=>wo(()=>s(a)),a=>wo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:wo(()=>i)};class pu{constructor(e){return e}}class Y3{constructor(){return SF()}}const KE=new V("angularfire2._apps"),coe={provide:pu,useFactory:function uoe(t){return t&&1===t.length?t[0]:new pu(AF())},deps:[[new Tn,KE]]},loe={provide:Y3,deps:[[new Tn,KE]]};function doe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new pu(r)}}let hoe=(()=>{class t{constructor(n){hr("angularfire",VE.full,"core"),hr("angularfire",VE.full,"app"),hr("angular",iv.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(H(yi))},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({providers:[coe,loe]}),t})();function foe(t,...e){return{ngModule:hoe,providers:[{provide:KE,useFactory:doe(t),multi:!0,deps:[Ae,Zt,Q3,...e]}]}}const poe=Pi(TF,!0);const goe=function J3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},X3=new xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jp=new co("@firebase/auth");function Xp(t,...e){Jp.logLevel<=ve.ERROR&&Jp.error(`Auth (${jp}): ${t}`,...e)}function Rn(t,...e){throw QE(t,...e)}function Jr(t,...e){return QE(t,...e)}function QE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return X3.create(t,...e)}function R(t,e,...n){if(!t)throw QE(e,...n)}function Xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xp(e),new Error(e)}function fs(t,e){t||Xr(e)}function eL(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,fs(n>e,"Short delay should be less than long delay!"),this.isMobile=function qee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}()||function Kee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function yoe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function YE(){return"http:"===eL()||"https:"===eL()}()||Tw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class tL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const voe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},woe=new jl(3e4,6e4);function tt(t,e,n,r){return XE.apply(this,arguments)}function XE(){return(XE=v(function*(t,e,n,r,i={}){return nL(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=gF(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),tL.fetch()(rL(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function nL(t,e,n){return ZE.apply(this,arguments)}function ZE(){return(ZE=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},voe),e);try{const i=new Ioe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw $l(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw $l(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw $l(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw $l(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function Z3(t,e,n){const r=Object.assign(Object.assign({},goe()),{[e]:n});return new xr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Rn(t,l)}}catch(i){if(i instanceof Yn)throw i;Rn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function rL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function JE(t,e){fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Ioe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),woe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $l(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jr(t,e,r);return i.customData._tokenResponse=n,i}function tb(){return(tb=v(function*(t,e){return tt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function rb(){return(rb=v(function*(t,e){return tt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Hl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ib(){return(ib=v(function*(t,e=!1){const n=dr(t),r=yield n.getIdToken(e),i=Zp(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Hl(sb(i.auth_time)),issuedAtTime:Hl(sb(i.iat)),expirationTime:Hl(sb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function sb(t){return 1e3*Number(t)}function Zp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Xp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pp(n);return i?JSON.parse(i):(Xp("Failed to decode base64 JWT payload"),null)}catch(i){return Xp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Li(t,e){return ob.apply(this,arguments)}function ob(){return(ob=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Yn&&function Aoe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Soe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class iL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gl(t){return ab.apply(this,arguments)}function ab(){return ab=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Li(t,function Coe(t,e){return rb.apply(this,arguments)}(n,{idToken:r}));R(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Noe(t){return t.map(e=>{var{providerId:n}=e,r=Dy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Moe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new iL(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),ab.apply(this,arguments)}function ub(){return(ub=v(function*(t){const e=dr(t);yield Gl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function cb(){return(cb=v(function*(t,e){const n=yield nL(t,{},v(function*(){const r=gF({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rL(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Toe(t){const e=Zp(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Roe(t,e){return cb.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zl;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return Xr("not implemented")}}function ps(t,e){R("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Io{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Dy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Soe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new iL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield Li(n,n.stsTokenManager.getToken(n.auth,e));return R(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Doe(t){return ib.apply(this,arguments)}(this,e)}reload(){return function xoe(t){return ub.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Io(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Gl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield Li(e,function Eoe(t,e){return tb.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,b=null!==(c=n.createdAt)&&void 0!==c?c:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:F,isAnonymous:G,providerData:J,stsTokenManager:ke}=n;R(T&&ke,e,"internal-error");const Qt=zl.fromJSON(this.name,ke);R("string"==typeof T,e,"internal-error"),ps(d,e.name),ps(h,e.name),R("boolean"==typeof F,e,"internal-error"),R("boolean"==typeof G,e,"internal-error"),ps(f,e.name),ps(p,e.name),ps(g,e.name),ps(y,e.name),ps(b,e.name),ps(w,e.name);const ci=new Io({uid:T,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Qt,createdAt:b,lastLoginAt:w});return J&&Array.isArray(J)&&(ci.providerData=J.map(KA=>Object.assign({},KA))),y&&(ci._redirectEventId=y),ci}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new zl;i.updateFromServerResponse(n);const s=new Io({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gl(s),s})()}}const sL=new Map;function Vi(t){fs(t instanceof Function,"Expected a class definition");let e=sL.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sL.set(t,e),e)}const oL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function eg(t,e,n){return`firebase:${t}:${e}:${n}`}class mu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=eg(this.userKey,i.apiKey,s),this.fullPersistenceKey=eg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Io._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new mu(Vi(oL),e,r);const i=(yield Promise.all(n.map(function(){var c=v(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Vi(oL);const o=eg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Io._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=v(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new mu(s,e,r)):new mu(s,e,r)})()}}function aL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function lL(t=Qn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function uL(t=Qn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function hL(t=Qn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function fL(t=Qn()){return/webos/i.test(t)}(e))return"Webos";if(function lb(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function cL(t=Qn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function dL(t=Qn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function pL(t,e=[]){let n;switch(t){case"Browser":n=aL(Qn());break;case"Worker":n=`${aL(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jp}/${r}`}function gL(t,e){return hb.apply(this,arguments)}function hb(){return(hb=v(function*(t,e){return tt(t,"GET","/v2/recaptchaConfig",function Ye(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function yL(t){return void 0!==t&&void 0!==t.enterprise}class _L{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class wL{constructor(e){this.type="recaptcha-enterprise",this.auth=St(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=v(function*(c,l){gL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new _L(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;yL(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&yL(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function fb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Foe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Boe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class joe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IL(this),this.idTokenSubscription=new IL(this),this.beforeStateQueue=new Boe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Vi(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield mu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return R(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield Gl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function _oe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?dr(e):null;return r&&R(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&R(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(Vi(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const n=yield gL(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new _L(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new wL(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&Vi(e)||n._popupRedirectResolver;R(r,n,"argument-error"),n.redirectPersistenceManager=yield mu.create(n,[Vi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return R(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function moe(t,...e){Jp.logLevel<=ve.WARN&&Jp.warn(`Auth (${jp}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function St(t){return dr(t)}class IL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Xee(t,e){const n=new Zee(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function vL(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new jl(3e4,6e4),new jl(2e3,1e4),new jl(3e4,6e4),new jl(5e3,15e3),encodeURIComponent("fac");var YL="@firebase/auth";class kue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Fp(),function Pue(t){lu(new gt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pL(t)},c=new joe(r,i,s,u);return function Hoe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lu(new gt("auth-internal",e=>{const n=St(e.getProvider("auth").getImmediate());return new kue(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(YL,"0.23.2",function Oue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),hr(YL,"0.23.2","esm2017")}("Browser");class e4{constructor(){return WE("auth")}}const t1=new Map,t4={activated:!1,tokenObservers:[]},$ue={initialized:!1,enabled:!1};function nt(t){return t1.get(t)||Object.assign({},t4)}function fg(){return $ue}const n1="https://content-firebaseappcheck.googleapis.com/v1",que="exchangeDebugToken",n4={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Kue{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new Lp,yield function Que(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Lp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ht=new xr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function r1(t){if(!nt(t).activated)throw Ht.create("use-before-activation",{appName:t.name})}function mg(t,e){return s1.apply(this,arguments)}function s1(){return s1=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Ht.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Ht.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ht.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),s1.apply(this,arguments)}function r4(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${n1}/projects/${n}/apps/${r}:${que}?key=${i}`,body:{debug_token:e}}}const Zue="firebase-app-check-database",ece=1,Yl="firebase-app-check-store";let yg=null;function o1(){return o1=v(function*(t,e){const r=(yield function s4(){return yg||(yg=new Promise((t,e)=>{try{const n=indexedDB.open(Zue,ece);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ht.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yl,{keyPath:"compositeKey"})}}catch(n){e(Ht.create("storage-open",{originalErrorMessage:n?.message}))}}),yg)}()).transaction(Yl,"readwrite"),s=r.objectStore(Yl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Ht.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),o1.apply(this,arguments)}const Jl=new co("@firebase/app-check");function c1(t,e){return ls()?function nce(t,e){return function o4(t,e){return o1.apply(this,arguments)}(function u4(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Jl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function d1(){return fg().enabled}function h1(){return f1.apply(this,arguments)}function f1(){return f1=v(function*(){const t=fg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),f1.apply(this,arguments)}const uce={error:"UNKNOWN_ERROR"};function cce(t){return Cw.encodeString(JSON.stringify(t),!1)}function _g(t){return p1.apply(this,arguments)}function p1(){return p1=v(function*(t,e=!1){const n=t.app;r1(n);const r=nt(n);let s,i=r.token;if(i&&!_u(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(_u(u)?i=u:yield c1(n,void 0))}if(!e&&i&&_u(i))return{token:i.token};let a,o=!1;if(d1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=mg(r4(n,yield h1()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield c1(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield nt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Jl.warn(u.message):Jl.error(u),s=u}return i?s?a=_u(i)?{token:i.token,internalError:s}:h4(s):(a={token:i.token},r.token=i,yield c1(n,i)):a=h4(s),o&&function d4(t,e){const n=nt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),p1.apply(this,arguments)}function g1(){return g1=v(function*(t){const e=t.app;r1(e);const{provider:n}=nt(e);if(d1()){const r=yield h1(),{token:i}=yield mg(r4(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),g1.apply(this,arguments)}function y1(t,e){const n=nt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function l4(t){const{app:e}=t,n=nt(e);let r=n.tokenRefresher;r||(r=function lce(t){const{app:e}=t;return new Kue(v(function*(){let r;if(r=nt(e).token?yield _g(t,!0):yield _g(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=nt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},n4.RETRIAL_MIN_WAIT,n4.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function _u(t){return t.expireTimeMillis-Date.now()>0}function h4(t){return{token:cce(uce),error:t}}class dce{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=nt(this.app);for(const n of e)y1(this.app,n.next);return Promise.resolve()}}const w4="app-check-internal";!function Dce(){fr(new gt("app-check",t=>function hce(t,e){return new dce(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(w4).initialize()})),fr(new gt(w4,t=>function fce(t){return{getToken:e=>_g(t,e),getLimitedUseToken:()=>function c4(t){return g1.apply(this,arguments)}(t),addTokenListener:e=>function m1(t,e,n,r){const{app:i}=t,s=nt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&_u(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),l4(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>l4(t))}(t,"INTERNAL",e),removeTokenListener:e=>y1(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Jn("@firebase/app-check","0.8.0")}();class E4{constructor(){return WE("app-check")}}typeof window<"u"&&window;var L,Mce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr={},E1=E1||{},re=Mce||self;function wg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var b1="closure_uid_"+(1e9*Math.random()>>>0),Rce=0;function kce(t,e,n){return t.call.apply(t.bind,arguments)}function Oce(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return(tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kce:Oce).apply(null,arguments)}function Ig(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ms(){this.s=this.s,this.o=this.o}ms.prototype.s=!1,ms.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Nce(t){Object.prototype.hasOwnProperty.call(t,b1)&&t[b1]||(t[b1]=++Rce)}(this)},ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const b4=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function C1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function C4(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};var Fce=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{re.addEventListener("test",()=>{},e),re.removeEventListener("test",()=>{},e)}catch{}return t}();function Zl(t){return/^[\s\xa0]*$/.test(t)}function Eg(){var t=re.navigator;return t&&(t=t.userAgent)?t:""}function Zr(t){return-1!=Eg().indexOf(t)}function D1(t){return D1[" "](t),t}D1[" "]=function(){};var A1,Vce=Zr("Opera"),vu=Zr("Trident")||Zr("MSIE"),D4=Zr("Edge"),T1=D4||vu,T4=Zr("Gecko")&&!(-1!=Eg().toLowerCase().indexOf("webkit")&&!Zr("Edge"))&&!(Zr("Trident")||Zr("MSIE"))&&!Zr("Edge"),Uce=-1!=Eg().toLowerCase().indexOf("webkit")&&!Zr("Edge");function A4(){var t=re.document;return t?t.documentMode:void 0}e:{var S1="",x1=function(){var t=Eg();return T4?/rv:([^\);]+)(\)|;)/.exec(t):D4?/Edge\/([\d\.]+)/.exec(t):vu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Uce?/WebKit\/(\S+)/.exec(t):Vce?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(x1&&(S1=x1?x1[1]:""),vu){var M1=A4();if(null!=M1&&M1>parseFloat(S1)){A1=String(M1);break e}}A1=S1}var Bce=re.document&&vu&&(A4()||parseInt(A1,10))||void 0;function ed(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(T4){e:{try{D1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:jce[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ed.$.h.call(this)}}xt(ed,nn);var jce={2:"touch",3:"pen",4:"mouse"};ed.prototype.h=function(){ed.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var td="closure_listenable_"+(1e6*Math.random()|0),$ce=0;function Hce(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++$ce,this.fa=this.ia=!1}function bg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function R1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function x4(t){const e={};for(const n in t)e[n]=t[n];return e}const M4="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N4(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<M4.length;s++)n=M4[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cg(t){this.src=t,this.g={},this.h=0}function k1(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=b4(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(bg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function O1(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Cg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=O1(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Hce(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var P1="closure_lm_"+(1e6*Math.random()|0),F1={};function R4(t,e,n,r,i){if(r&&r.once)return O4(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)R4(t,e[s],n,r,i);return null}return n=B1(n),t&&t[td]?t.O(e,n,Xl(r)?!!r.capture:!!r,i):k4(t,e,n,!1,r,i)}function k4(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Xl(i)?!!i.capture:!!i,a=V1(t);if(a||(t[P1]=a=new Cg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function zce(){const e=qce;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Fce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(F4(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function O4(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)O4(t,e[s],n,r,i);return null}return n=B1(n),t&&t[td]?t.P(e,n,Xl(r)?!!r.capture:!!r,i):k4(t,e,n,!0,r,i)}function P4(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)P4(t,e[s],n,r,i);else r=Xl(r)?!!r.capture:!!r,n=B1(n),t&&t[td]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=O1(s=t.g[e],n,r,i))&&(bg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=V1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=O1(e,n,r,i)),(n=-1<t?e[t]:null)&&L1(n))}function L1(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[td])k1(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(F4(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=V1(e))?(k1(n,t),0==n.h&&(n.src=null,e[P1]=null)):bg(t)}}}function F4(t){return t in F1?F1[t]:F1[t]="on"+t}function qce(t,e){if(t.fa)t=!0;else{e=new ed(e,this);var n=t.listener,r=t.la||t.src;t.ia&&L1(t),t=n.call(r,e)}return t}function V1(t){return(t=t[P1])instanceof Cg?t:null}var U1="__closure_events_fn_"+(1e9*Math.random()>>>0);function B1(t){return"function"==typeof t?t:(t[U1]||(t[U1]=function(e){return t.handleEvent(e)}),t[U1])}function Mt(){ms.call(this),this.i=new Cg(this),this.S=this,this.J=null}function Gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;N4(e=new nn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Dg(o,r,!0,e)&&i}if(i=Dg(o=e.g=t,r,!0,e)&&i,i=Dg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Dg(o=e.g=n[s],r,!1,e)&&i}function Dg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&k1(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}xt(Mt,ms),Mt.prototype[td]=!0,Mt.prototype.removeEventListener=function(t,e,n,r){P4(this,t,e,n,r)},Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bg(n[r]);delete t.g[e],t.h--}}this.J=null},Mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Mt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var j1=re.JSON.stringify;function Kce(){var t=$1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var L4=new class Wce{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Yce,t=>t.reset());class Yce{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Jce(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Xce(t){re.setTimeout(()=>{throw t},0)}let nd,rd=!1,$1=new class Qce{constructor(){this.h=this.g=null}add(e,n){const r=L4.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},V4=()=>{const t=re.Promise.resolve(void 0);nd=()=>{t.then(Zce)}};var Zce=()=>{for(var t;t=Kce();){try{t.h.call(t.g)}catch(n){Xce(n)}var e=L4;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}rd=!1};function Tg(t,e){Mt.call(this),this.h=t||1,this.g=e||re,this.j=tn(this.qb,this),this.l=Date.now()}function H1(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function G1(t,e,n){if("function"==typeof t)n&&(t=tn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=tn(t.handleEvent,t)}return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function U4(t){t.g=G1(()=>{t.g=null,t.i&&(t.i=!1,U4(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}xt(Tg,Mt),(L=Tg.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(H1(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){Tg.$.N.call(this),H1(this),delete this.g};class ele extends ms{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:U4(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function id(t){ms.call(this),this.h=t,this.g={}}xt(id,ms);var B4=[];function j4(t,e,n,r){Array.isArray(n)||(n&&(B4[0]=n.toString()),n=B4);for(var i=0;i<n.length;i++){var s=R4(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function $4(t){R1(t.g,function(e,n){this.g.hasOwnProperty(n)&&L1(e)},t),t.g={}}function Ag(){this.g=!0}function wu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ile(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return j1(n)}catch{return e}}(t,n)+(r?" "+r:"")})}id.prototype.N=function(){id.$.N.call(this),$4(this)},id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ag.prototype.Ea=function(){this.g=!1},Ag.prototype.info=function(){};var Do={},H4=null;function Sg(){return H4=H4||new Mt}function G4(t){nn.call(this,Do.Ta,t)}function sd(t){const e=Sg();Gt(e,new G4(e))}function z4(t,e){nn.call(this,Do.STAT_EVENT,t),this.stat=e}function vn(t){const e=Sg();Gt(e,new z4(e,t))}function q4(t,e){nn.call(this,Do.Ua,t),this.size=e}function od(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}Do.Ta="serverreachability",xt(G4,nn),Do.STAT_EVENT="statevent",xt(z4,nn),Do.Ua="timingevent",xt(q4,nn);var xg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},W4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function z1(){}function Q4(){}z1.prototype.h=null;var K1,ad={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function q1(){nn.call(this,"d")}function W1(){nn.call(this,"c")}function Mg(){}function ud(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new id(this),this.P=sle,this.V=new Tg(t=T1?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Y4}function Y4(){this.i=null,this.g="",this.h=!1}xt(q1,nn),xt(W1,nn),xt(Mg,z1),Mg.prototype.g=function(){return new XMLHttpRequest},Mg.prototype.i=function(){return{}},K1=new Mg;var sle=45e3,Q1={},Ng={};function Y1(t,e,n){t.L=1,t.v=Pg(Bi(e)),t.s=n,t.S=!0,J4(t,null)}function J4(t,e){t.G=Date.now(),cd(t),t.A=Bi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),a5(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Y4,t.g=N5(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ele(tn(t.Pa,t,t.g),t.O)),j4(t.U,t.g,"readystatechange",t.nb),e=t.I?x4(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),sd(),function tle(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function X4(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Z4(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=ole(t,n),i==Ng){4==e&&(t.o=4,vn(14),r=!1),wu(t.j,t.m,null,"[Incomplete Response]");break}if(i==Q1){t.o=4,vn(15),wu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}wu(t.j,t.m,i,null),J1(t,i)}X4(t)&&i!=Ng&&i!=Q1&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,vn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),iD(e),e.M=!0,vn(11))):(wu(t.j,t.m,n,"[Invalid Chunked Response]"),To(t),ld(t))}function ole(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ng:(n=Number(e.substring(n,r)),isNaN(n)?Q1:(r+=1)+n>e.length?Ng:(e=e.slice(r,r+n),t.C=r+n,e))}function cd(t){t.Y=Date.now()+t.P,e5(t,t.P)}function e5(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=od(tn(t.lb,t),e)}function Rg(t){t.B&&(re.clearTimeout(t.B),t.B=null)}function ld(t){0==t.l.H||t.J||A5(t.l,t)}function To(t){Rg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,H1(t.V),$4(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function J1(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||X1(n.i,t)))if(!t.K&&X1(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;jg(n),Ug(n)}rD(n),vn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=od(tn(n.ib,n),6e3));if(1>=l5(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else So(n,11)}else if((t.K||n.g==t)&&jg(n),!Zl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Z1(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,je(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=M5(r,r.J?r.pa:null,r.Y),o.K){d5(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Rg(a),cd(a)),r.g=o}else D5(r);0<n.j.length&&Bg(n)}else"stop"!=c[0]&&"close"!=c[0]||So(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?So(n,7):nD(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}sd()}catch{}}function t5(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(wg(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function ule(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wg(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function ale(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(wg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(L=ud.prototype).setTimeout=function(t){this.P=t},L.nb=function(t){t=t.target;const e=this.M;e&&3==ei(t)?e.l():this.Pa(t)},L.Pa=function(t){try{if(t==this.g)e:{const l=ei(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||T1||this.g&&(this.h.h||this.g.ja()||v5(this.g)))){this.J||4!=l||7==e||sd(),Rg(this);var n=this.g.da();this.ca=n;t:if(X4(this)){var r=v5(this.g);t="";var i=r.length,s=4==ei(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){To(this),ld(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function nle(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,vn(12),To(this),ld(this);break e}wu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,J1(this,n)}this.S?(Z4(this,l,o),T1&&this.i&&3==l&&(j4(this.U,this.V,"tick",this.mb),this.V.start())):(wu(this.j,this.m,o,null),J1(this,o)),4==l&&To(this),this.i&&!this.J&&(4==l?A5(this.l,this):(this.i=!1,cd(this)))}else(function Tle(t){const e={};t=(t.g&&2<=ei(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Zl(t[r]))continue;var n=Jce(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Gce(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,vn(12)):(this.o=0,vn(13)),To(this),ld(this)}}}catch{}},L.mb=function(){if(this.g){var t=ei(this.g),e=this.g.ja();this.C<e.length&&(Rg(this),Z4(this,t,e),this.i&&4!=t&&cd(this))}},L.cancel=function(){this.J=!0,To(this)},L.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function rle(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(sd(),vn(17)),To(this),this.o=2,ld(this)):e5(this,this.Y-t)};var n5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ao(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ao){this.h=t.h,kg(this,t.j),this.s=t.s,this.g=t.g,Og(this,t.m),this.l=t.l;var e=t.i,n=new fd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),r5(this,n),this.o=t.o}else t&&(e=String(t).match(n5))?(this.h=!1,kg(this,e[1]||"",!0),this.s=dd(e[2]||""),this.g=dd(e[3]||"",!0),Og(this,e[4]),this.l=dd(e[5]||"",!0),r5(this,e[6]||"",!0),this.o=dd(e[7]||"")):(this.h=!1,this.i=new fd(null,this.h))}function Bi(t){return new Ao(t)}function kg(t,e,n){t.j=n?dd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Og(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function r5(t,e,n){e instanceof fd?(t.i=e,function gle(t,e){e&&!t.j&&(ys(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(s5(this,r),a5(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=hd(e,fle)),t.i=new fd(e,t.h))}function je(t,e,n){t.i.set(e,n)}function Pg(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function dd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,lle),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lle(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ao.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hd(e,i5,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(hd(e,i5,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(hd(n,"/"==n.charAt(0)?hle:dle,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hd(n,ple)),t.join("")};var i5=/[#\/\?@]/g,dle=/[#\?:]/g,hle=/[#\?]/g,fle=/[#\?@]/g,ple=/#/g;function fd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ys(t){t.g||(t.g=new Map,t.h=0,t.i&&function cle(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function s5(t,e){ys(t),e=Iu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function o5(t,e){return ys(t),e=Iu(t,e),t.g.has(e)}function a5(t,e,n){s5(t,e),0<n.length&&(t.i=null,t.g.set(Iu(t,e),C1(n)),t.h+=n.length)}function Iu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function u5(t){this.l=t||yle,t=re.PerformanceNavigationTiming?0<(t=re.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=fd.prototype).add=function(t,e){ys(this),this.i=null,t=Iu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},L.forEach=function(t,e){ys(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},L.ta=function(){ys(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},L.Z=function(t){ys(this);let e=[];if("string"==typeof t)o5(this,t)&&(e=e.concat(this.g.get(Iu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},L.set=function(t,e){return ys(this),this.i=null,o5(this,t=Iu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},L.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var yle=10;function c5(t){return!!t.h||!!t.g&&t.g.size>=t.j}function l5(t){return t.h?1:t.g?t.g.size:0}function X1(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Z1(t,e){t.g?t.g.add(e):t.h=e}function d5(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function h5(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return C1(t.i)}u5.prototype.cancel=function(){if(this.i=h5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var _le=class{stringify(t){return re.JSON.stringify(t,void 0)}parse(t){return re.JSON.parse(t,void 0)}};function vle(){this.g=new _le}function wle(t,e,n){const r=n||"";try{t5(t,function(i,s){let o=i;Xl(i)&&(o=j1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function pd(t){this.l=t.fc||null,this.j=t.ob||!1}function Lg(t,e){Mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=eD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(pd,z1),pd.prototype.g=function(){return new Lg(this.l,this.j)},pd.prototype.i=function(t){return function(){return t}}({}),xt(Lg,Mt);var eD=0;function f5(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function gd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,md(t)}function md(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(L=Lg.prototype).open=function(t,e){if(this.readyState!=eD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,md(this)},L.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gd(this)),this.readyState=eD},L.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,md(this)),this.g&&(this.readyState=3,md(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;f5(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gd(this):md(this),3==this.readyState&&f5(this)}},L.Za=function(t){this.g&&(this.response=this.responseText=t,gd(this))},L.Ya=function(t){this.g&&(this.response=t,gd(this))},L.ka=function(){this.g&&gd(this)},L.setRequestHeader=function(t,e){this.v.append(t,e)},L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Lg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ele=re.JSON.parse;function rt(t){Mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=p5,this.L=this.M=!1}xt(rt,Mt);var p5="",ble=/^https?$/i,Cle=["POST","PUT"];function g5(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,m5(t),Vg(t)}function m5(t){t.F||(t.F=!0,Gt(t,"complete"),Gt(t,"error"))}function y5(t){if(t.h&&typeof E1<"u"&&(!t.C[1]||4!=ei(t)||2!=t.da()))if(t.v&&4==ei(t))G1(t.La,0,t);else if(Gt(t,"readystatechange"),4==ei(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(n5)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!ble.test(i?i.toLowerCase():"")}n=r}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var s=2<ei(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",m5(t)}}finally{Vg(t)}}}function Vg(t,e){if(t.g){_5(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function _5(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}function ei(t){return t.g?t.g.readyState:0}function v5(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case p5:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function w5(t){let e="";return R1(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function tD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=w5(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function yd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function I5(t){this.Ga=0,this.j=[],this.l=new Ag,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yd("baseRetryDelayMs",5e3,t),this.hb=yd("retryDelaySeedMs",1e4,t),this.eb=yd("forwardChannelMaxRetries",2,t),this.xa=yd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new u5(t&&t.concurrentRequestLimit),this.Ja=new vle,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function nD(t){if(E5(t),3==t.H){var e=t.W++,n=Bi(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),_d(t,n),(e=new ud(t,t.l,e)).L=2,e.v=Pg(Bi(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&re.Image&&((new Image).src=e.v,n=!0),n||(e.g=N5(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cd(e)}x5(t)}function Ug(t){t.g&&(iD(t),t.g.cancel(),t.g=null)}function E5(t){Ug(t),t.u&&(re.clearTimeout(t.u),t.u=null),jg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&re.clearTimeout(t.m),t.m=null)}function Bg(t){if(!c5(t.i)&&!t.m){t.m=!0;var e=t.Na;nd||V4(),rd||(nd(),rd=!0),$1.add(e,t),t.C=0}}function b5(t,e){var n;n=e?e.m:t.W++;const r=Bi(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),_d(t,r),t.o&&t.s&&tD(r,t.o,t.s),n=new ud(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=C5(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Z1(t.i,n),Y1(n,r,e)}function _d(t,e){t.na&&R1(t.na,function(n,r){je(e,r,n)}),t.h&&t5({},function(n,r){je(e,r,n)})}function C5(t,e,n){n=Math.min(t.j.length,n);var r=t.h?tn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{wle(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function D5(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;nd||V4(),rd||(nd(),rd=!0),$1.add(e,t),t.A=0}}function rD(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=od(tn(t.Ma,t),S5(t,t.A)),t.A++,0))}function iD(t){null!=t.B&&(re.clearTimeout(t.B),t.B=null)}function T5(t){t.g=new ud(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Bi(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),_d(t,e),t.o&&t.s&&tD(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Pg(Bi(e)),n.s=null,n.S=!0,J4(n,t)}function jg(t){null!=t.v&&(re.clearTimeout(t.v),t.v=null)}function A5(t,e){var n=null;if(t.g==e){jg(t),iD(t),t.g=null;var r=2}else{if(!X1(t.i,e))return;n=e.F,d5(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Gt(r=Sg(),new q4(r,n)),Bg(t)}else D5(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Ale(t,e){return!(l5(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=od(tn(t.Na,t,e),S5(t,t.C)),t.C++,0)))}(t,e)||2==r&&rD(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:So(t,5);break;case 4:So(t,10);break;case 3:So(t,6);break;default:So(t,2)}}function S5(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function So(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=tn(t.pb,t);n||(n=new Ao("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||kg(n,"https"),Pg(n)),function Ile(t,e){const n=new Ag;if(re.Image){const r=new Image;r.onload=Ig(Fg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ig(Fg,n,r,"TestLoadImage: error",!1,e),r.onabort=Ig(Fg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ig(Fg,n,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else vn(2);t.H=0,t.h&&t.h.za(e),x5(t),E5(t)}function x5(t){if(t.H=0,t.ma=[],t.h){const e=h5(t.i);(0!=e.length||0!=t.j.length)&&(C4(t.ma,e),C4(t.ma,t.j),t.i.i.length=0,C1(t.j),t.j.length=0),t.h.ya()}}function M5(t,e,n){var r=n instanceof Ao?Bi(n):new Ao(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Og(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ao(null);r&&kg(s,r),e&&(s.g=e),i&&Og(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&je(r,n,e),je(r,"VER",t.ra),_d(t,r),r}function N5(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rt(n&&t.Ha&&!t.va?new pd({ob:!0}):t.va)).Oa(t.J),e}function R5(){}function $g(){if(vu&&!(10<=Number(Bce)))throw Error("Environmental error: no available transport.")}function Xn(t,e){Mt.call(this),this.g=new I5(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Zl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Eu(this)}function k5(t){q1.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function O5(){W1.call(this),this.status=1}function Eu(t){this.g=t}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function sD(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(L=rt.prototype).Oa=function(t){this.M=t},L.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():K1.g(),this.C=function K4(t){return t.h||(t.h=t.i())}(this.u?this.u:K1),this.g.onreadystatechange=tn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void g5(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=re.FormData&&t instanceof re.FormData,!(0<=b4(Cle,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_5(this),0<this.B&&((this.L=function Dle(t){return vu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.ua,this)):this.A=G1(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){g5(this,s)}},L.ua=function(){typeof E1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),Vg(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vg(this,!0)),rt.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?y5(this):this.kb())},L.kb=function(){y5(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ele(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=I5.prototype).ra=8,L.H=1,L.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ud(this,this.l,t);let s=this.s;if(this.U&&(s?(s=x4(s),N4(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=C5(this,i,e),je(n=Bi(this.I),"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),_d(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(w5(s)))+"&"+e:this.o&&tD(n,this.o,s)),Z1(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,Y1(i,n,null)):Y1(i,n,e),this.H=2}}else 3==this.H&&(t?b5(this,t):0==this.j.length||c5(this.i)||b5(this))},L.Ma=function(){if(this.u=null,T5(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=od(tn(this.jb,this),t)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vn(10),Ug(this),T5(this))},L.ib=function(){null!=this.v&&(this.v=null,Ug(this),rD(this),vn(19))},L.pb=function(t){t?(this.l.info("Successfully pinged google.com"),vn(2)):(this.l.info("Failed to ping google.com"),vn(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=R5.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},$g.prototype.g=function(t,e){return new Xn(t,e)},xt(Xn,Mt),Xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;vn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=M5(t,null,t.Y),Bg(t)},Xn.prototype.close=function(){nD(this.g)},Xn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=j1(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Bg(e)},Xn.prototype.N=function(){this.g.h=null,delete this.j,nD(this.g),delete this.g,Xn.$.N.call(this)},xt(k5,q1),xt(O5,W1),xt(Eu,R5),Eu.prototype.Ba=function(){Gt(this.g,"a")},Eu.prototype.Aa=function(t){Gt(this.g,new k5(t))},Eu.prototype.za=function(t){Gt(this.g,new O5)},Eu.prototype.ya=function(){Gt(this.g,"b")},xt(Nr,function Sle(){this.blockSize=-1}),Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Nr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)sD(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){sD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){sD(this,r),i=0;break}}this.h=i,this.i+=e},Nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var xle={};function oD(t){return-128<=t&&128>t?function Lce(t,e){var n=xle;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Me([0|e],0>e?-1:0)}):new Me([0|t],0>t?-1:0)}function ti(t){if(isNaN(t)||!isFinite(t))return bu;if(0>t)return zt(ti(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=aD;return new Me(e,0)}var aD=4294967296,bu=oD(0),uD=oD(1),F5=oD(16777216);function ji(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function gr(t){return-1==t.h}function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(uD)}function Hg(t,e){return t.add(zt(e))}function Gg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function vd(t,e){this.g=t,this.h=e}function zg(t,e){if(ji(e))throw Error("division by zero");if(ji(t))return new vd(bu,bu);if(gr(t))return e=zg(zt(t),e),new vd(zt(e.g),zt(e.h));if(gr(e))return e=zg(t,zt(e)),new vd(zt(e.g),e.h);if(30<t.g.length){if(gr(t)||gr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=uD,r=e;0>=r.X(t);)n=L5(n),r=L5(r);var i=Cu(n,1),s=Cu(r,1);for(r=Cu(r,2),n=Cu(n,2);!ji(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Cu(r,1),n=Cu(n,1)}return e=Hg(t,i.R(e)),new vd(i,e)}for(i=bu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ti(n)).R(e);gr(o)||0<o.X(t);)o=(s=ti(n-=r)).R(e);ji(s)&&(s=uD),i=i.add(s),t=Hg(t,o)}return new vd(i,t)}function L5(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function Cu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Me(i,t.h)}(L=Me.prototype).ea=function(){if(gr(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:aD+r)*e,e*=aD}return t},L.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ji(this))return"0";if(gr(this))return"-"+zt(this).toString(t);for(var e=ti(Math.pow(t,6)),n=this,r="";;){var i=zg(n,e).g,s=((0<(n=Hg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ji(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},L.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},L.X=function(t){return gr(t=Hg(this,t))?-1:ji(t)?0:1},L.abs=function(){return gr(this)?zt(this):this},L.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Me(n,-2147483648&n[n.length-1]?-1:0)},L.R=function(t){if(ji(this)||ji(t))return bu;if(gr(this))return gr(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(gr(t))return zt(this.R(zt(t)));if(0>this.X(F5)&&0>t.X(F5))return ti(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Gg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Gg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Gg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Gg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)},L.gb=function(t){return zg(this,t).h},L.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)},L.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)},L.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)},$g.prototype.createWebChannel=$g.prototype.g,Xn.prototype.send=Xn.prototype.u,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,xg.NO_ERROR=0,xg.TIMEOUT=8,xg.HTTP_ERROR=6,W4.COMPLETE="complete",Q4.EventType=ad,ad.OPEN="a",ad.CLOSE="b",ad.ERROR="c",ad.MESSAGE="d",Mt.prototype.listen=Mt.prototype.O,rt.prototype.listenOnce=rt.prototype.P,rt.prototype.getLastError=rt.prototype.Sa,rt.prototype.getLastErrorCode=rt.prototype.Ia,rt.prototype.getStatus=rt.prototype.da,rt.prototype.getResponseJson=rt.prototype.Wa,rt.prototype.getResponseText=rt.prototype.ja,rt.prototype.send=rt.prototype.ha,rt.prototype.setWithCredentials=rt.prototype.Oa,Nr.prototype.digest=Nr.prototype.l,Nr.prototype.reset=Nr.prototype.reset,Nr.prototype.update=Nr.prototype.j,Me.prototype.add=Me.prototype.add,Me.prototype.multiply=Me.prototype.R,Me.prototype.modulo=Me.prototype.gb,Me.prototype.compare=Me.prototype.X,Me.prototype.toNumber=Me.prototype.ea,Me.prototype.toString=Me.prototype.toString,Me.prototype.getBits=Me.prototype.D,Me.fromNumber=ti,Me.fromString=function P5(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return zt(P5(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ti(Math.pow(e,8)),r=bu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ti(Math.pow(e,s)),r=r.R(s).add(ti(o))):r=(r=r.R(n)).add(ti(o))}return r};var Mle=Mr.createWebChannelTransport=function(){return new $g},Nle=Mr.getStatEventTarget=function(){return Sg()},cD=Mr.ErrorCode=xg,Rle=Mr.EventType=W4,kle=Mr.Event=Do,V5=Mr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ole=Mr.FetchXmlHttpFactory=pd,qg=Mr.WebChannel=Q4,Ple=Mr.XhrIo=rt,Fle=Mr.Md5=Nr,Du=Mr.Integer=Me;const U5="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let Tu="9.23.0";const _s=new co("@firebase/firestore");function lD(){return _s.logLevel}function N(t,...e){if(_s.logLevel<=ve.DEBUG){const n=e.map(dD);_s.debug(`Firestore (${Tu}): ${t}`,...n)}}function ut(t,...e){if(_s.logLevel<=ve.ERROR){const n=e.map(dD);_s.error(`Firestore (${Tu}): ${t}`,...n)}}function Rr(t,...e){if(_s.logLevel<=ve.WARN){const n=e.map(dD);_s.warn(`Firestore (${Tu}): ${t}`,...n)}}function dD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function $(t="Unexpected state"){const e=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function q(t,e){t||$()}function P(t,e){return t}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class B5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class Vle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ule{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ct,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(v(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new B5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new Nt(e)}}class Ble{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jle{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Ble(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $le{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(q("string"==typeof n.token),this.T=n.token,new j5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class $5{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Hle(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function Au(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new Je(0,0))}static max(){return new W(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wd{constructor(e,n,r){void 0===n?n=0:n>e.length&&$(),void 0===r?r=e.length-n:r>e.length-n&&$(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===wd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends wd{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const Gle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends wd{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return Gle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(ye.fromString(e))}static fromName(e){return new O(ye.fromString(e).popFirst(5))}static empty(){return new O(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new ye(e.slice()))}}function z5(t){return new Zn(t.readTime,t.key,-1)}class Zn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zn(W.min(),O.empty(),-1)}static max(){return new Zn(W.max(),O.empty(),-1)}}function fD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=O.comparator(t.documentKey,e.documentKey),0!==n?n:ee(t.largestBatchId,e.largestBatchId))}const q5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vs(t){return pD.apply(this,arguments)}function pD(){return pD=v(function*(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==q5)throw t;N("LocalStore","Unexpectedly lost primary lease")}),pD.apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof E?n:E.resolve(n)}catch(n){return E.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):E.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):E.reject(n)}static resolve(e){return new E((n,r)=>{n(e)})}static reject(e){return new E((n,r)=>{r(e)})}static waitFor(e){return new E((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=E.resolve(!1);for(const r of e)n=n.next(i=>i?E.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new E((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new E((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function ws(t){return"IndexedDbTransactionError"===t.name}let er=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function bd(t){return null==t}function Cd(t){return 0===t&&1/t==-1/0}function tV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Be{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jg(this.root,e,this.comparator,!0)}}class Jg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=s??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rV(this.data.getIterator())}getIteratorFrom(e){return new rV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class rV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new kn([])}unionWith(e){let n=new $e(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Au(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class iV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new iV("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const mde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(t){if(q(!!t),"string"==typeof t){let e=0;const n=mde.exec(t);if(q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $i(t){return"string"==typeof t?Dt.fromBase64String(t):Dt.fromUint8Array(t)}function Xg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zg(t){const e=t.mapValue.fields.__previous_value__;return Xg(e)?Zg(e):e}function Dd(t){const e=Es(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}class yde{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class No{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new No("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}const bs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xg(t)?4:uV(t)?9007199254740991:10:$()}function ri(t,e){if(t===e)return!0;const n=Cs(t);if(n!==Cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dd(t).isEqual(Dd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Es(r.timestampValue),o=Es(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,$i(t.bytesValue).isEqual($i(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return it(r.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return it(r.integerValue)===it(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=it(r.doubleValue),o=it(i.doubleValue);return s===o?Cd(s)===Cd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Au(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(tV(s)!==tV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ri(s[a],o[a])))return!1;return!0}(t,e);default:return $()}var i}function Td(t,e){return void 0!==(t.values||[]).find(n=>ri(n,e))}function Ds(t,e){if(t===e)return 0;const n=Cs(t),r=Cs(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=it(i.integerValue||i.doubleValue),a=it(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return sV(t.timestampValue,e.timestampValue);case 4:return sV(Dd(t),Dd(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(i,s){const o=$i(i),a=$i(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ee(o[u],a[u]);if(0!==c)return c}return ee(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ee(it(i.latitude),it(s.latitude));return 0!==o?o:ee(it(i.longitude),it(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ds(o[u],a[u]);if(c)return c}return ee(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===bs.mapValue&&s===bs.mapValue)return 0;if(i===bs.mapValue)return 1;if(s===bs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ee(a[l],c[l]);if(0!==d)return d;const h=Ds(o[a[l]],u[c[l]]);if(0!==h)return h}return ee(a.length,c.length)}(t.mapValue,e.mapValue);default:throw $()}}function sV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ee(t,e);const n=Es(t),r=Es(e),i=ee(n.seconds,r.seconds);return 0!==i?i:ee(n.nanos,r.nanos)}function xu(t){return yD(t)}function yD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Es(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$i(t.bytesValue).toBase64():"referenceValue"in t?O.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=yD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${yD(r.fields[a])}`;return s+"}"}(t.mapValue):$();var e}function Ro(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _D(t){return!!t&&"integerValue"in t}function Ad(t){return!!t&&"arrayValue"in t}function oV(t){return!!t&&"nullValue"in t}function aV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nm(t){return!!t&&"mapValue"in t}function Sd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sd(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Is(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(Sd(this.value))}}function dV(t){const e=[];return Is(t.fields,(n,r)=>{const i=new ct([n]);if(nm(r)){const s=dV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new kn(e)}class He{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new He(e,0,W.min(),W.min(),W.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new He(e,1,n,W.min(),r,i,0)}static newNoDocument(e,n){return new He(e,2,n,W.min(),W.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new He(e,3,n,W.min(),W.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ts{constructor(e,n){this.position=e,this.inclusive=n}}function hV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),n.key):Ds(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function fV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function wde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class pV{}class fe extends pV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Ide(e,n,r):"array-contains"===n?new Cde(e,r):"in"===n?new wV(e,r):"not-in"===n?new Dde(e,r):"array-contains-any"===n?new Tde(e,r):new fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Ede(e,r):new bde(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ds(n,this.value)):null!==n&&Cs(this.value)===Cs(n)&&this.matchesComparison(Ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ne extends pV{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ne(e,n)}matches(e){return Nu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Nu(t){return"and"===t.op}function wD(t){return function gV(t){for(const e of t.filters)if(e instanceof Ne)return!1;return!0}(t)&&Nu(t)}function ID(t){if(t instanceof fe)return t.field.canonicalString()+t.op.toString()+xu(t.value);if(wD(t))return t.filters.map(e=>ID(e)).join(",");{const e=t.filters.map(n=>ID(n)).join(",");return`${t.op}(${e})`}}function mV(t,e){return t instanceof fe?(n=t,(r=e)instanceof fe&&n.op===r.op&&n.field.isEqual(r.field)&&ri(n.value,r.value)):t instanceof Ne?function(n,r){return r instanceof Ne&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&mV(s,r.filters[o]),!0)}(t,e):void $();var n,r}function _V(t){return t instanceof fe?function(e){return`${e.field.canonicalString()} ${e.op} ${xu(e.value)}`}(t):t instanceof Ne?function(e){return e.op.toString()+" {"+e.getFilters().map(_V).join(" ,")+"}"}(t):"Filter"}class Ide extends fe{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ede extends fe{constructor(e,n){super(e,"in",n),this.keys=vV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bde extends fe{constructor(e,n){super(e,"not-in",n),this.keys=vV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}class Cde extends fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ad(n)&&Td(n.arrayValue,this.value)}}class wV extends fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Td(this.value.arrayValue,n)}}class Dde extends fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Td(this.value.arrayValue,n)}}class Tde extends fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ad(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Td(this.value.arrayValue,r))}}class Ade{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function ED(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ade(t,e,n,r,i,s,o)}function ko(t){const e=P(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ID(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xu(r)).join(",")),e.dt=n}return e.dt}function xd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fV(t.startAt,e.startAt)&&fV(t.endAt,e.endAt)}function rm(t){return O.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Hi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Ru(t){return new Hi(t)}function CV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function bD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function sm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function CD(t){return null!==t.collectionGroup}function Oo(t){const e=P(t);if(null===e.wt){e.wt=[];const n=sm(e),r=bD(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Mu(n)),e.wt.push(new Mu(ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Mu(ct.keyField(),s))}}}return e.wt}function wn(t){const e=P(t);if(!e._t)if("F"===e.limitType)e._t=ED(e.path,e.collectionGroup,Oo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Oo(e))n.push(new Mu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ts(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ts(e.startAt.position,e.startAt.inclusive):null;e._t=ED(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function DD(t,e){e.getFirstInequalityField(),sm(t);const n=t.filters.concat([e]);return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function om(t,e,n){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Md(t,e){return xd(wn(t),wn(e))&&t.limitType===e.limitType}function DV(t){return`${ko(wn(t))}|lt:${t.limitType}`}function TD(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>_V(r)).join(", ")}]`),bd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xu(r)).join(",")),`Target(${n})`}(wn(t))}; limitType=${t.limitType})`}function Nd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):O.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Oo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=hV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Oo(n),r)||n.endAt&&!function(i,s,o){const a=hV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Oo(n),r)));var n,r}function AV(t){return(e,n)=>{let r=!1;for(const i of Oo(t)){const s=Sde(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Sde(t,e,n){const r=t.field.isKeyField()?O.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ds(a,u):$()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class Gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nV(this.inner)}size(){return this.innerSize}}const xde=new Be(O.comparator);function On(){return xde}const SV=new Be(O.comparator);function Rd(...t){let e=SV;for(const n of t)e=e.insert(n.key,n);return e}function xV(t){let e=SV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ii(){return kd()}function MV(){return kd()}function kd(){return new Gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Mde=new Be(O.comparator),Nde=new $e(O.comparator);function ce(...t){let e=Nde;for(const n of t)e=e.add(n);return e}const Rde=new $e(ee);function NV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(e)?"-0":e}}function RV(t){return{integerValue:""+t}}function kV(t,e){return function K5(t){return"number"==typeof t&&Number.isInteger(t)&&!Cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?RV(e):NV(t,e)}class am{constructor(){this._=void 0}}function kde(t,e,n){return t instanceof ku?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Xg(i)&&(i=Zg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Po?PV(t,e):t instanceof Fo?FV(t,e):function(r,i){const s=OV(r,i),o=LV(s)+LV(r.gt);return _D(s)&&_D(r.gt)?RV(o):NV(r.serializer,o)}(t,e)}function Ode(t,e,n){return t instanceof Po?PV(t,e):t instanceof Fo?FV(t,e):n}function OV(t,e){return t instanceof Ou?_D(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ku extends am{}class Po extends am{constructor(e){super(),this.elements=e}}function PV(t,e){const n=VV(e);for(const r of t.elements)n.some(i=>ri(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fo extends am{constructor(e){super(),this.elements=e}}function FV(t,e){let n=VV(e);for(const r of t.elements)n=n.filter(i=>!ri(i,r));return{arrayValue:{values:n}}}class Ou extends am{constructor(e,n){super(),this.serializer=e,this.gt=n}}function LV(t){return it(t.integerValue||t.doubleValue)}function VV(t){return Ad(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Fde{constructor(e,n){this.version=e,this.transformResults=n}}class Ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function um(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class cm{}function UV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Fu(t.key,Ke.none()):new Pu(t.key,t.data,Ke.none());{const n=t.data,r=Wt.empty();let i=new $e(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new zi(t.key,r,new kn(i.toArray()),Ke.none())}}function Lde(t,e,n){t instanceof Pu?function(r,i,s){const o=r.value.clone(),a=$V(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof zi?function(r,i,s){if(!um(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=$V(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(jV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Pd(t,e,n,r){return t instanceof Pu?function(i,s,o,a){if(!um(i.precondition,s))return o;const u=i.value.clone(),c=HV(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zi?function(i,s,o,a){if(!um(i.precondition,s))return o;const u=HV(i.fieldTransforms,a,s),c=s.data;return c.setAll(jV(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,um(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Vde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OV(r.transform,i||null);null!=s&&(null===n&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function BV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Au(n,r,(i,s)=>function Pde(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Po&&r instanceof Po||n instanceof Fo&&r instanceof Fo?Au(n.elements,r.elements,ri):n instanceof Ou&&r instanceof Ou?ri(n.gt,r.gt):n instanceof ku&&r instanceof ku);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Pu extends cm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zi extends cm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $V(t,e,n){const r=new Map;q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ode(o,a,n[i]))}return r}function HV(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,kde(s,o,e))}return r}class Fu extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SD extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Lde(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=UV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Au(this.mutations,e.mutations,(n,r)=>BV(n,r))&&Au(this.baseMutations,e.baseMutations,(n,r)=>BV(n,r))}}class MD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){q(e.mutations.length===r.length);let i=Mde;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new MD(e,n,r,i)}}class ND{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bde{constructor(e,n){this.count=e,this.unchangedNames=n}}var yt,_e;function zV(t){if(void 0===t)return ut("GRPC error has no .code"),C.UNKNOWN;switch(t){case yt.OK:return C.OK;case yt.CANCELLED:return C.CANCELLED;case yt.UNKNOWN:return C.UNKNOWN;case yt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case yt.INTERNAL:return C.INTERNAL;case yt.UNAVAILABLE:return C.UNAVAILABLE;case yt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case yt.NOT_FOUND:return C.NOT_FOUND;case yt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case yt.ABORTED:return C.ABORTED;case yt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case yt.DATA_LOSS:return C.DATA_LOSS;default:return $()}}(_e=yt||(yt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";class RD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return lm}static getOrCreateInstance(){return null===lm&&(lm=new RD),lm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let lm=null;const jde=new Du([4294967295,4294967295],0);function WV(t){const e=function qV(){return new TextEncoder}().encode(t),n=new Fle;return n.update(e),new Uint8Array(n.digest())}function KV(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Du([n,r],0),new Du([i,s],0)]}class kD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fd(`Invalid padding: ${n}`);if(r<0)throw new Fd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Fd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Fd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Du.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Du.fromNumber(r)));return 1===i.compare(jde)&&(i=new Du([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=WV(e),[r,i]=KV(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new kD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=WV(e),[r,i]=KV(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ld{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ld(W.min(),i,new Be(ee),On(),ce())}}class Vd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vd(r,n,ce(),ce(),ce())}}class dm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class QV{constructor(e,n){this.targetId=e,this.Vt=n}}class YV{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class JV{constructor(){this.St=0,this.Dt=ZV(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ce(),n=ce(),r=ce();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$()}}),new Vd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=ZV()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $de{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=On(),this.zt=XV(),this.Wt=new Be(ee)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:$()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(rm(o))if(0===i){const a=new O(o.path);this.Yt(r,a,He.newNoDocument(a,W.min()))}else q(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=RD.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,b;const w={localCacheCount:l,existenceFilterCount:d.count},T=d.unchangedNames;return T&&(w.bloomFilter={applied:0===c,hashCount:null!==(h=T?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=T?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(b=null===(y=T?.bits)||void 0===y?void 0:y.padding)&&void 0!==b?b:0}),w}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=$i(s).toUint8Array()}catch(l){if(l instanceof iV)return Rr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new kD(u,o,a)}catch(l){return Rr(l instanceof Fd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&rm(a.target)){const u=new O(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,He.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ce();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Ld(e,n,this.Wt,this.jt,r);return this.jt=On(),this.zt=XV(),this.Wt=new Be(ee),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new JV,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new $e(ee),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||N("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new JV),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function XV(){return new Be(O.comparator)}function ZV(){return new Be(O.comparator)}const Hde={asc:"ASCENDING",desc:"DESCENDING"},Gde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zde={and:"AND",or:"OR"};class qde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function OD(t,e){return t.useProto3Json||bd(e)?e:{value:e}}function Lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wde(t,e){return Lu(t,e.toTimestamp())}function lt(t){return q(!!t),W.fromTimestamp(function(e){const n=Es(e);return new Je(n.seconds,n.nanos)}(t))}function PD(t,e){return(n=t,new ye(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function t6(t){const e=ye.fromString(t);return q(l6(e)),e}function Ud(t,e){return PD(t.databaseId,e.path)}function si(t,e){const n=t6(e);if(n.get(1)!==t.databaseId.projectId)throw new S(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(r6(n))}function FD(t,e){return PD(t.databaseId,e)}function Bd(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r6(t){return q(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function i6(t,e,n){return{name:Ud(t,e),fields:n.value.mapValue.fields}}function o6(t,e){return{documents:[FD(t,e.path)]}}function VD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=FD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=FD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return c6(Ne.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:As((l=c).field),direction:Xde(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=OD(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function a6(t){let e=function n6(t){const e=t6(t);return 4===e.length?ye.emptyPath():r6(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){q(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=u6(l);return d instanceof Ne&&wD(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Mu(Vu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,bd(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ts((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ts(l.values||[],!l.before)}(n.endAt)),function bV(t,e,n,r,i,s,o,a){return new Hi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function u6(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Vu(e.unaryFilter.field);return fe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Vu(e.unaryFilter.field);return fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vu(e.unaryFilter.field);return fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vu(e.unaryFilter.field);return fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(t):void 0!==t.fieldFilter?function(e){return fe.create(Vu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Ne.create(e.compositeFilter.filters.map(n=>u6(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(t):$()}function Xde(t){return Hde[t]}function Zde(t){return Gde[t]}function ehe(t){return zde[t]}function As(t){return{fieldPath:t.canonicalString()}}function Vu(t){return ct.fromServerFormat(t.fieldPath)}function c6(t){return t instanceof fe?function(e){if("=="===e.op){if(aV(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NAN"}};if(oV(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(aV(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NOT_NAN"}};if(oV(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(e.field),op:Zde(e.op),value:e.value}}}(t):t instanceof Ne?function(e){const n=e.getFilters().map(r=>c6(r));return 1===n.length?n[0]:{compositeFilter:{op:ehe(e.op),filters:n}}}(t):$()}function the(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l6(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class qi{constructor(e,n,r,i,s=W.min(),o=W.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class d6{constructor(e){this.fe=e}}function UD(t){const e=a6({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?om(e,e.limit,"L"):e}class Bo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(it(e.integerValue));else if("doubleValue"in e){const r=it(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Cd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae($i(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?uV(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):$()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),O.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Bo.Ve=new Bo;class lhe{constructor(){this.rn=new zD}addToCollectionParentIndex(e,n){return this.rn.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(Zn.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(Zn.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}}class zD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(ye.comparator)).toArray()}}new Uint8Array(0);class sn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);class $o{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $o(0)}static Mn(){return new $o(-1)}}class mhe{constructor(){this.changes=new Gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vhe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class L6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Pd(r.mutation,i,kn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Rd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=On();const o=kd(),a=kd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof zi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Pd(l.mutation,c,l.mutation.getFieldMask(),Je.now())):o.set(c.key,kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new vhe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=kd();let i=new Be((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||kn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ce()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=MV();l.forEach(h=>{if(!s.has(h)){const f=UV(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return O.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):CD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):E.resolve(ii());let a=-1,u=s;return o.next(c=>E.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ce())).next(l=>({batchId:a,changes:xV(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new O(n)).next(r=>{let i=Rd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Rd();return this.indexManager.getCollectionParents(e,i).next(o=>E.forEach(o,a=>{const u=(c=n,l=a.child(i),new Hi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,He.newInvalidDocument(c)))});let o=Rd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Pd(c.mutation,u,kn.empty(),Je.now()),Nd(n,u)&&(o=o.insert(a,u))}),o})}}class whe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return E.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:lt(r.createTime)}),E.resolve()}getNamedQuery(e,n){return E.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:UD(r.bundledQuery),readTime:lt(r.readTime)}),E.resolve();var r}}class Ihe{constructor(){this.overlays=new Be(O.comparator),this.ls=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ii();return E.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),E.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){const i=ii(),s=n.length+1,o=new O(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return E.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=ii(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ii(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return E.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ND(n,r));let s=this.ls.get(n);void 0===s&&(s=ce(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class qD{constructor(){this.fs=new $e(kt.ds),this.ws=new $e(kt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new kt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new kt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new O(new ye([])),r=new kt(n,e),i=new kt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new O(new ye([])),r=new kt(n,e),i=new kt(n,e+1);let s=ce();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new kt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return O.comparator(e.key,n.key)||ee(e.As,n.As)}static _s(e,n){return ee(e.As,n.As)||O.comparator(e.key,n.key)}}class Ehe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new $e(kt.ds)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new xD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(ee);return n.forEach(i=>{const s=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),E.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new kt(new O(s),0);let a=new $e(ee);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),E.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){q(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return E.forEach(n.mutations,i=>{const s=new kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new kt(n,0),i=this.Rs.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class bhe{constructor(e){this.Ds=e,this.docs=new Be(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():He.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():He.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=On();const o=n.path,a=new O(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fD(z5(l),r)<=0||(i.has(l.key)||Nd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,n,r,i){$()}Cs(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Che(this)}getSize(e){return E.resolve(this.size)}}class Che extends mhe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Dhe{constructor(e){this.persistence=e,this.xs=new Gi(n=>ko(n),xd),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Ns=0,this.ks=new qD,this.targetCount=0,this.Ms=$o.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),E.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.Fn(n),E.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),E.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.ks.containsKey(n))}}class WD{constructor(e,n){this.$s={},this.overlays={},this.Os=new er(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Dhe(this),this.indexManager=new lhe,this.remoteDocumentCache=new bhe(r=>this.referenceDelegate.Ls(r)),this.serializer=new d6(n),this.qs=new whe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ihe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Ehe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){N("MemoryPersistence","Starting transaction:",e);const i=new The(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return E.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class The extends Wle{constructor(e){super(),this.currentSequenceNumber=e}}class wm{constructor(e){this.persistence=e,this.Qs=new qD,this.js=null}static zs(e){return new wm(e)}get Ws(){if(this.js)return this.js;throw $()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),E.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Ws,r=>{const i=O.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return E.or([()=>E.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class JD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new JD(e,n.fromCache,r,i)}}class U6{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(CV(n))return E.resolve(null);let r=wn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=om(n,null,"F"),r=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,om(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return CV(n)||i.isEqual(W.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(lD()<=ve.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),TD(n)),this.Wi(e,o,n,function G5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new Je(n+1,0):new Je(n,r));return new Zn(i,O.empty(),e)}(i,-1)))})}ji(e,n){let r=new $e(AV(e));return n.forEach((i,s)=>{Nd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return lD()<=ve.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",TD(n)),this.Ui.getDocumentsMatchingQuery(e,n,Zn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class She{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Be(ee),this.Yi=new Gi(s=>ko(s),xd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L6(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function j6(t,e){return XD.apply(this,arguments)}function XD(){return XD=v(function*(t,e){const n=P(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ce();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),XD.apply(this,arguments)}function $6(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Nhe(t,e){const n=P(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $u(t,e,n){return ZD.apply(this,arguments)}function ZD(){return ZD=v(function*(t,e,n){const r=P(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ws(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),ZD.apply(this,arguments)}function bm(t,e,n){const r=P(t);let i=W.min(),s=ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=P(a),d=l.Yi.get(c);return void 0!==d?E.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:W.min(),n?s:ce())).next(a=>(function q6(t,e,n){let r=t.Xi.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function TV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class iT{constructor(){this.activeTargetIds=function AD(){return Rde}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q6{constructor(){this.Hr=new iT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new iT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ohe{Yr(e){}shutdown(){}}class Y6{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Tm=null;function oT(){return null===Tm?Tm=268435456+Math.round(2147483648*Math.random()):Tm++,"0x"+Tm.toString(16)}const Phe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fhe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const on="WebChannelConnection";class Lhe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=oT(),a=this.To(e,n);N("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(N("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Rr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Phe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=oT();return new Promise((o,a)=>{const u=new Ple;u.setWithCredentials(!0),u.listenOnce(Rle.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case cD.NO_ERROR:const l=u.getResponseJson();N(on,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case cD.TIMEOUT:N(on,`RPC '${e}' ${s} timed out`),a(new S(C.DEADLINE_EXCEEDED,"Request time out"));break;case cD.HTTP_ERROR:const d=u.getStatus();if(N(on,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(y)>=0?y:C.UNKNOWN}(f.status);a(new S(p,f.message))}else a(new S(C.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new S(C.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{N(on,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);N(on,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=oT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Mle(),a=Nle(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Ole({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");N(on,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Fhe({ro:y=>{f?N(on,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(N(on,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),N(on,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,b,w)=>{y.listen(b,T=>{try{w(T)}catch(F){setTimeout(()=>{throw F},0)}})};return g(d,qg.EventType.OPEN,()=>{f||N(on,`RPC '${e}' stream ${i} transport opened.`)}),g(d,qg.EventType.CLOSE,()=>{f||(f=!0,N(on,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,qg.EventType.ERROR,y=>{f||(f=!0,Rr(on,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new S(C.UNAVAILABLE,"The operation could not be completed")))}),g(d,qg.EventType.MESSAGE,y=>{var b;if(!f){const w=y.data[0];q(!!w);const F=w.error||(null===(b=w[0])||void 0===b?void 0:b.error);if(F){N(on,`RPC '${e}' stream ${i} received error:`,F);const G=F.status;let J=function(Qt){const ci=yt[Qt];if(void 0!==ci)return zV(ci)}(G),ke=F.message;void 0===J&&(J=C.INTERNAL,ke="Unknown error status: "+G+" with message "+F.message),f=!0,p.wo(new S(J,ke)),d.close()}else N(on,`RPC '${e}' stream ${i} received:`,w),p._o(w)}}),g(a,kle.STAT_EVENT,y=>{y.stat===V5.PROXY?N(on,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===V5.NOPROXY&&N(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Am(){return typeof document<"u"?document:null}function Yd(t){return new qde(t,!0)}class aT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class X6{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new aT(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return v(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return v(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return v(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new S(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(v(function*(){e.state=0,e.start()}))}tu(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vhe extends X6{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Qde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:$(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(q(void 0===c||"string"==typeof c),Dt.fromBase64String(c||"")):(q(void 0===c||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?C.UNKNOWN:zV(u.code);return new S(c,u.message||"")}(o);n=new YV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=si(t,r.document.name),s=lt(r.document.updateTime),o=r.document.createTime?lt(r.document.createTime):W.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=He.newFoundDocument(i,s,o,a);n=new dm(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=si(t,r.document),s=r.readTime?lt(r.readTime):W.min(),o=He.newNoDocument(i,s);n=new dm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=si(t,r.document);n=new dm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Bde(i,s);n=new QV(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?lt(s.readTime):W.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Bd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=rm(a)?{documents:o6(i,a)}:{query:VD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=e6(i,s.resumeToken);const u=OD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(W.min())>0){o.readTime=Lu(i,s.snapshotVersion.toTimestamp());const u=OD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Jde(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Bd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Uhe extends X6{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Yde(t,e){return t&&t.length>0?(q(void 0!==e),t.map(n=>function(r,i){let s=lt(r.updateTime?r.updateTime:i);return s.isEqual(W.min())&&(s=lt(i)),new Fde(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.cu(r,n)}return q(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Bd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function jd(t,e){let n;if(e instanceof Pu)n={update:i6(t,e.key,e.value)};else if(e instanceof Fu)n={delete:Ud(t,e.key)};else if(e instanceof zi)n={update:i6(t,e.key,e.data),updateMask:the(e.fieldMask)};else{if(!(e instanceof SD))return $();n={verify:Ud(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ku)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ou)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw $()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Wde(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),n;var i}(this.serializer,r))};this.Wo(n)}}class Bhe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new S(C.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(C.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(C.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class $he{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ut(n),this.mu=!1):N("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Hhe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(v(function*(){var u;Ns(o)&&(N("RemoteStore","Restarting streams for network reachability change."),yield(u=v(function*(c){const l=P(c);l.vu.add(4),yield Hu(l),l.bu.set("Unknown"),l.vu.delete(4),yield Jd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new $he(r,i)}}function Jd(t){return cT.apply(this,arguments)}function cT(){return cT=v(function*(t){if(Ns(t))for(const e of t.Ru)yield e(!0)}),cT.apply(this,arguments)}function Hu(t){return lT.apply(this,arguments)}function lT(){return lT=v(function*(t){for(const e of t.Ru)yield e(!1)}),lT.apply(this,arguments)}function Sm(t,e){const n=P(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),fT(n)?hT(n):zu(n).Ko()&&dT(n,e))}function Xd(t,e){const n=P(t),r=zu(n);n.Au.delete(e),r.Ko()&&Z6(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ns(n)&&n.bu.set("Unknown"))}function dT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zu(t).su(e)}function Z6(t,e){t.Vu.qt(e),zu(t).iu(e)}function hT(t){t.Vu=new $de({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),zu(t).start(),t.bu.gu()}function fT(t){return Ns(t)&&!zu(t).Uo()&&t.Au.size>0}function Ns(t){return 0===P(t).vu.size}function e9(t){t.Vu=void 0}function Ghe(t){return pT.apply(this,arguments)}function pT(){return pT=v(function*(t){t.Au.forEach((e,n)=>{dT(t,e)})}),pT.apply(this,arguments)}function zhe(t,e){return gT.apply(this,arguments)}function gT(){return gT=v(function*(t,e){e9(t),fT(t)?(t.bu.Iu(e),hT(t)):t.bu.set("Unknown")}),gT.apply(this,arguments)}function qhe(t,e,n){return mT.apply(this,arguments)}function mT(){return mT=v(function*(t,e,n){if(t.bu.set("Online"),e instanceof YV&&2===e.state&&e.cause)try{yield(r=v(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xm(t,r)}else if(e instanceof dm?t.Vu.Ht(e):e instanceof QV?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(W.min()))try{const r=yield $6(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Dt.EMPTY_BYTE_STRING,c.snapshotVersion)),Z6(i,a);const l=new qi(c.target,a,u,c.sequenceNumber);dT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){N("RemoteStore","Failed to raise snapshot:",r),yield xm(t,r)}var r}),mT.apply(this,arguments)}function xm(t,e,n){return yT.apply(this,arguments)}function yT(){return yT=v(function*(t,e,n){if(!ws(e))throw e;t.vu.add(1),yield Hu(t),t.bu.set("Offline"),n||(n=()=>$6(t.localStore)),t.asyncQueue.enqueueRetryable(v(function*(){N("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Jd(t)}))}),yT.apply(this,arguments)}function t9(t,e){return e().catch(n=>xm(t,n,e))}function Gu(t){return _T.apply(this,arguments)}function _T(){return _T=v(function*(t){const e=P(t),n=Rs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Whe(e);)try{const i=yield Nhe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Khe(e,i)}catch(i){yield xm(e,i)}n9(e)&&r9(e)}),_T.apply(this,arguments)}function Whe(t){return Ns(t)&&t.Eu.length<10}function Khe(t,e){t.Eu.push(e);const n=Rs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function n9(t){return Ns(t)&&!Rs(t).Uo()&&t.Eu.length>0}function r9(t){Rs(t).start()}function Qhe(t){return vT.apply(this,arguments)}function vT(){return vT=v(function*(t){Rs(t).hu()}),vT.apply(this,arguments)}function Yhe(t){return wT.apply(this,arguments)}function wT(){return wT=v(function*(t){const e=Rs(t);for(const n of t.Eu)e.uu(n.mutations)}),wT.apply(this,arguments)}function Jhe(t,e,n){return IT.apply(this,arguments)}function IT(){return IT=v(function*(t,e,n){const r=t.Eu.shift(),i=MD.from(r,e,n);yield t9(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Gu(t)}),IT.apply(this,arguments)}function Xhe(t,e){return ET.apply(this,arguments)}function ET(){return ET=v(function*(t,e){var n;e&&Rs(t).ou&&(yield(n=v(function*(r,i){if(function GV(t){switch(t){default:return $();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}(s=i.code)&&s!==C.ABORTED){const o=r.Eu.shift();Rs(r).Qo(),yield t9(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Gu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),n9(t)&&r9(t)}),ET.apply(this,arguments)}function i9(t,e){return bT.apply(this,arguments)}function bT(){return bT=v(function*(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=Ns(n);n.vu.add(3),yield Hu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Jd(n)}),bT.apply(this,arguments)}function DT(){return DT=v(function*(t,e){const n=P(t);e?(n.vu.delete(2),yield Jd(n)):e||(n.vu.add(2),yield Hu(n),n.bu.set("Unknown"))}),DT.apply(this,arguments)}function zu(t){return t.Su||(t.Su=function(e,n,r){const i=P(e);return i.fu(),new Vhe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ghe.bind(null,t),ao:zhe.bind(null,t),nu:qhe.bind(null,t)}),t.Ru.push(function(){var e=v(function*(n){n?(t.Su.Qo(),fT(t)?hT(t):t.bu.set("Unknown")):(yield t.Su.stop(),e9(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Rs(t){return t.Du||(t.Du=function(e,n,r){const i=P(e);return i.fu(),new Uhe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Qhe.bind(null,t),ao:Xhe.bind(null,t),au:Yhe.bind(null,t),cu:Jhe.bind(null,t)}),t.Ru.push(function(){var e=v(function*(n){n?(t.Du.Qo(),yield Gu(t)):(yield t.Du.stop(),t.Eu.length>0&&(N("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class TT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new TT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qu(t,e){if(ut("AsyncQueue",`${e}: ${t}`),ws(t))return new S(C.UNAVAILABLE,`${e}: ${t}`);throw t}class Wu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=Rd(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new Wu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class s9{constructor(){this.Cu=new Be(O.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):$():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ku{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ku(e,n,Wu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Zhe{constructor(){this.Nu=void 0,this.listeners=[]}}class efe{constructor(){this.queries=new Gi(e=>DV(e),Md),this.onlineState="Unknown",this.ku=new Set}}function AT(t,e){return ST.apply(this,arguments)}function ST(){return ST=v(function*(t,e){const n=P(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Zhe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=qu(o,`Initialization of query '${TD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&NT(n)}),ST.apply(this,arguments)}function xT(t,e){return MT.apply(this,arguments)}function MT(){return MT=v(function*(t,e){const n=P(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),MT.apply(this,arguments)}function tfe(t,e){const n=P(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&NT(n)}function nfe(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function NT(t){t.ku.forEach(e=>{e.next()})}class RT{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class u9{constructor(e){this.key=e}}class c9{constructor(e){this.key=e}}class l9{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ce(),this.mutatedKeys=ce(),this.tc=AV(e),this.ec=new Wu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new s9,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Nd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ku(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new s9,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ce(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new c9(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new u9(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ce();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ku.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class sfe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ofe{constructor(e){this.key=e,this.fc=!1}}class afe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Gi(a=>DV(a),Md),this._c=new Map,this.mc=new Set,this.gc=new Be(O.comparator),this.yc=new Map,this.Ic=new qD,this.Tc={},this.Ec=new Map,this.Ac=$o.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ufe(t,e){return kT.apply(this,arguments)}function kT(){return kT=v(function*(t,e){const n=function nA(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=d9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dfe.bind(null,e),e.dc.nu=tfe.bind(null,e.eventManager),e.dc.Pc=nfe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function ju(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new qi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,wn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function OT(t,e,n,r,i){return PT.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Sm(n.remoteStore,o)}return i}),kT.apply(this,arguments)}function PT(){return PT=v(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=v(function*(g,y,b,w){let T=y.view.sc(b);T.zi&&(T=yield bm(g.localStore,y.query,!1).then(({documents:J})=>y.view.sc(J,T)));const F=w&&w.targetChanges.get(y.targetId),G=y.view.applyChanges(T,g.isPrimaryClient,F);return zT(g,y.targetId,G.cc),G.snapshot}),function(g,y,b,w){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield bm(t.localStore,e,!0),o=new l9(e,s.ir),a=o.sc(s.documents),u=Vd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);zT(t,n,c.cc);const l=new sfe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),PT.apply(this,arguments)}function cfe(t,e){return FT.apply(this,arguments)}function FT(){return FT=v(function*(t,e){const n=P(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Md(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $u(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Xd(n.remoteStore,r.targetId),Qu(n,r.targetId)}).catch(vs))):(Qu(n,r.targetId),yield $u(n.localStore,r.targetId,!0))}),FT.apply(this,arguments)}function LT(){return LT=v(function*(t,e,n){const r=function rA(t){const e=P(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ffe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=P(s),u=Je.now(),c=o.reduce((h,f)=>h.add(f.key),ce());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=On(),p=ce();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((y,b)=>{b.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const b of o){const w=Vde(b,l.get(b.key).overlayedDocument);null!=w&&y.push(new zi(b.key,w,dV(w.value.mapValue),Ke.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:xV(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Be(ee)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Wi(r,i.changes),yield Gu(r.remoteStore)}catch(i){const s=qu(i,"Failed to persist write");n.reject(s)}}),LT.apply(this,arguments)}function d9(t,e){return VT.apply(this,arguments)}function VT(){return VT=v(function*(t,e){const n=P(t);try{const r=yield function Mhe(t,e){const n=P(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Dt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=On(),c=ce();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function H6(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=On();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(W.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?q(o.fc):i.removedDocuments.size>0&&(q(o.fc),o.fc=!1))}),yield Wi(n,r,e)}catch(r){yield vs(r)}}),VT.apply(this,arguments)}function h9(t,e,n){const r=P(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=P(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&NT(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dfe(t,e,n){return UT.apply(this,arguments)}function UT(){return UT=v(function*(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Be(O.comparator);o=o.insert(s,He.newNoDocument(s,W.min()));const a=ce().add(s),u=new Ld(W.min(),new Map,new Be(ee),o,a);yield d9(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),qT(r)}else yield $u(r.localStore,e,!1).then(()=>Qu(r,e,n)).catch(vs)}),UT.apply(this,arguments)}function hfe(t,e){return BT.apply(this,arguments)}function BT(){return BT=v(function*(t,e){const n=P(t),r=e.batch.batchId;try{const i=yield function xhe(t,e){const n=P(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=E.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);q(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ce();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);GT(n,r,null),HT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Wi(n,i)}catch(i){yield vs(i)}}),BT.apply(this,arguments)}function ffe(t,e,n){return jT.apply(this,arguments)}function jT(){return jT=v(function*(t,e,n){const r=P(t);try{const i=yield function(s,o){const a=P(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(q(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);GT(r,e,n),HT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Wi(r,i)}catch(i){yield vs(i)}}),jT.apply(this,arguments)}function HT(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function GT(t,e,n){const r=P(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Qu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||f9(t,r)})}function f9(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Xd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),qT(t))}function zT(t,e,n){for(const r of n)r instanceof u9?(t.Ic.addReference(r.key,e),gfe(t,r)):r instanceof c9?(N("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||f9(t,r.key)):$()}function gfe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(N("SyncEngine","New document in limbo: "+n),t.mc.add(r),qT(t))}function qT(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new O(ye.fromString(e)),r=t.Ac.next();t.yc.set(r,new ofe(n)),t.gc=t.gc.insert(n,r),Sm(t.remoteStore,new qi(wn(Ru(n.path)),r,"TargetPurposeLimboResolution",er.ct))}}function Wi(t,e,n){return WT.apply(this,arguments)}function WT(){return WT=v(function*(t,e,n){const r=P(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=JD.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=v(function*(u,c){const l=P(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(c,h=>E.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ws(d))throw d;N("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),WT.apply(this,arguments)}function mfe(t,e){return KT.apply(this,arguments)}function KT(){return KT=v(function*(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=yield j6(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new S(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wi(n,r.er)}var i}),KT.apply(this,arguments)}function yfe(t,e){const n=P(t),r=n.yc.get(e);if(r&&r.fc)return ce().add(r.key);{let i=ce();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Mm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=Yd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function B6(t,e,n,r){return new She(t,e,n,r)}(this.persistence,new U6,e.initialUser,this.serializer)}createPersistence(e){return new WD(wm.zs,this.serializer)}createSharedClientState(e){return new Q6}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yu{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>h9(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=mfe.bind(null,r.syncEngine),yield function CT(t,e){return DT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new efe}createDatastore(e){const n=Yd(e.databaseInfo.databaseId),r=new Lhe(e.databaseInfo);return new Bhe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>h9(this.syncEngine,a,0),o=Y6.D()?new Y6:new Ohe,new Hhe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new afe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=v(function*(n){const r=P(n);N("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Hu(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Nm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Mfe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=$5.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){N("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(N("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=qu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Rm(t,e){return iA.apply(this,arguments)}function iA(){return iA=v(function*(t,e){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield j6(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),iA.apply(this,arguments)}function sA(t,e){return oA.apply(this,arguments)}function oA(){return oA=v(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function aA(t){return uA.apply(this,arguments)}(t);N("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>i9(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>i9(e.remoteStore,s)),t._onlineComponents=e}),oA.apply(this,arguments)}function uA(){return uA=v(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){N("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function v9(t){return"FirebaseError"===t.name?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Rr("Error using user provided cache. Falling back to memory cache: "+n),yield Rm(t,new Mm)}}else N("FirestoreClient","Using default OfflineComponentProvider"),yield Rm(t,new Mm);return t._offlineComponents}),uA.apply(this,arguments)}function km(t){return cA.apply(this,arguments)}function cA(){return cA=v(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(N("FirestoreClient","Using user provided OnlineComponentProvider"),yield sA(t,t._uninitializedComponentsProvider._online)):(N("FirestoreClient","Using default OnlineComponentProvider"),yield sA(t,new Yu))),t._onlineComponents}),cA.apply(this,arguments)}function Ju(t){return dA.apply(this,arguments)}function dA(){return dA=v(function*(t){const e=yield km(t),n=e.eventManager;return n.onListen=ufe.bind(null,e.syncEngine),n.onUnlisten=cfe.bind(null,e.syncEngine),n}),dA.apply(this,arguments)}function D9(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const T9=new Map;function hA(t,e,n){if(!n)throw new S(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A9(t){if(!O.isDocumentKey(t))throw new S(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S9(t){if(O.isDocumentKey(t))throw new S(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":$()}function pe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pm(t);throw new S(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class M9{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new S(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Ufe(t,e,n,r){if(!0===e&&!0===r)throw new S(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=D9(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new S(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new S(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new S(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M9({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M9(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Lle;switch(n.type){case"firstParty":return new jle(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new S(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=T9.get(e);n&&(N("ComponentProvider","Removing Datastore"),T9.delete(e),n.terminate())}(this),Promise.resolve()}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}}class Kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class oi extends Kt{constructor(e,n,r){super(e,n,Ru(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new O(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function jfe(t,e,...n){if(t=dr(t),hA("collection","path",e),t instanceof Zd){const r=ye.fromString(e,...n);return S9(r),new oi(t,null,r)}{if(!(t instanceof dt||t instanceof oi))throw new S(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return S9(r),new oi(t.firestore,null,r)}}function N9(t,e,...n){if(t=dr(t),1===arguments.length&&(e=$5.A()),hA("doc","path",e),t instanceof Zd){const r=ye.fromString(e,...n);return A9(r),new dt(t,null,new O(r))}{if(!(t instanceof dt||t instanceof oi))throw new S(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return A9(r),new dt(t.firestore,t instanceof oi?t.converter:null,new O(r))}}class $fe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new aT(this,"async_queue_retry"),this.Xc=()=>{const n=Am();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Am();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Am();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return v(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ws(n))throw n;N("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ut("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=TT.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&$()}verifyOperationInProgress(){}sa(){var e=this;return v(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ge extends Zd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $fe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||k9(this),this._firestoreClient.terminate()}}function Gfe(t,e){const r="string"==typeof t?t:e||"(default)",i=function DF(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:AF(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Fp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Bfe(t,e,n,r={}){var i;const s=(t=pe(t,Zd))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Nt.MOCK_USER;else{a=function zee(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uu(JSON.stringify({alg:"none",type:"JWT"})),uu(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new S(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Nt(c)}t._authCredentials=new Vle(new B5(a,u))}}(i,...s)}return i}function _t(t){return t._firestoreClient||k9(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function k9(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new yde(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,D9(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Mfe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Go(Dt.fromBase64String(e))}catch(n){throw new S(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Go(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new S(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class F9{constructor(e){this._methodName=e}}class pA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}const qfe=/^__.*__$/;class Wfe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}function V9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class Fm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Vm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(V9(this.ca)&&qfe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Kfe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yd(e)}ya(e,n,r,i=!1){return new Fm({ca:e,methodName:n,ga:r,path:ct.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zu(t){const e=t._freezeSettings(),n=Yd(t._databaseId);return new Kfe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gA(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);yA("Data must be an object, but it was:",o,r);const a=H9(r,o);let u,c;if(s.merge)u=new kn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=nh(e,d,n);if(!o.contains(h))throw new S(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);z9(l,h)||l.push(h)}u=new kn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Wfe(new Wt(a),u,c)}function zo(t,e){if(G9(t=dr(t)))return yA("Unsupported field value:",e,t),H9(t,e);if(t instanceof F9)return function(n,r){if(!V9(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=zo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=dr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return kV(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Je.fromDate(n);return{timestampValue:Lu(r.serializer,i)}}if(n instanceof Je){const i=new Je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Lu(r.serializer,i)}}if(n instanceof pA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Go)return{bytesValue:e6(r.serializer,n._byteString)};if(n instanceof dt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:PD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Pm(n)}`)}(t,e)}function H9(t,e){const n={};return nV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(t,(r,i)=>{const s=zo(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function G9(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof pA||t instanceof Go||t instanceof dt||t instanceof F9)}function yA(t,e,n){if(!G9(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Pm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function nh(t,e,n){if((e=dr(e))instanceof Xu)return e._internalPath;if("string"==typeof e)return Lm(t,e);throw Vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xfe=new RegExp("[~\\*/\\[\\]]");function Lm(t,e,n){if(e.search(Xfe)>=0)throw Vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xu(...e.split("."))._internalPath}catch{throw Vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(C.INVALID_ARGUMENT,a+t+u)}function z9(t,e){return t.some(n=>n.isEqual(e))}class _A{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Um("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Zfe extends _A{data(){return super.data()}}function Um(t,e){return"string"==typeof e?Lm(t,e):e instanceof Xu?e._internalPath:e._delegate._internalPath}class vA{}class epe extends vA{}function tpe(t,e,...n){let r=[];e instanceof vA&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof ec).length,o=i.filter(a=>a instanceof rh).length;if(s>1||s>0&&o>0)throw new S(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rh extends epe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rh(e,n,r)}_apply(e){const n=this._parse(e);return Y9(e._query,n),new Kt(e.firestore,e.converter,DD(e._query,n))}_parse(e){const n=Zu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new S(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){Q9(l,c);const h=[];for(const f of l)h.push(K9(a,i,f));d={arrayValue:{values:h}}}else d=K9(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||Q9(l,c),d=function $9(t,e,n,r=!1){return zo(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return fe.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function npe(t,e,n){const r=e,i=Um("where",t);return rh._create(i,r,n)}class ec extends vA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ec(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ne.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Y9(s,a),s=DD(s,a)}(e._query,n),new Kt(e.firestore,e.converter,DD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function K9(t,e,n){if("string"==typeof(n=dr(n))){if(""===n)throw new S(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CD(e)&&-1!==n.indexOf("/"))throw new S(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ye.fromString(n));if(!O.isDocumentKey(r))throw new S(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ro(t,new O(r))}if(n instanceof dt)return Ro(t,n._key);throw new S(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pm(n)}.`)}function Q9(t,e){if(!Array.isArray(t)||0===t.length)throw new S(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y9(t,e){if(e.isInequality()){const r=sm(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new S(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=bD(t);null!==s&&function J9(t,e,n){if(!n.isEqual(e))throw new S(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new S(C.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rpe{convertValue(e,n="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw $()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Is(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new pA(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dd(e));default:return null}}convertTimestamp(e){const n=Es(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);q(l6(r));const i=new No(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(n)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tc extends _A{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Um("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hm extends tc{data(e={}){return super.data(e)}}class nc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hm(this._firestore,this._userDataWriter,r.key,r,new qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Hm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new qo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Hm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new qo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:spe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function spe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}function ope(t){t=pe(t,dt);const e=pe(t.firestore,Ge);return function b9(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(v(function*(){return function(i,s,o,a,u){const c=new Nm({next:d=>{s.enqueueAndForget(()=>xT(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new S(C.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new S(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new RT(Ru(o.path),c,{includeMetadataChanges:!0,Ku:!0});return AT(i,l)}(yield Ju(t),t.asyncQueue,e,n,r)})),r.promise}(_t(e),t._key).then(n=>function EA(t,e,n){const r=n.docs.get(e._key),i=new ks(t);return new tc(t,i,e._key,r,new qo(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class ks extends rpe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function ape(t){t=pe(t,Kt);const e=pe(t.firestore,Ge),n=_t(e),r=new ks(e);return function q9(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new S(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function C9(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(v(function*(){return function(i,s,o,a,u){const c=new Nm({next:d=>{s.enqueueAndForget(()=>xT(i,l)),d.fromCache&&"server"===a.source?u.reject(new S(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new RT(o,c,{includeMetadataChanges:!0,Ku:!0});return AT(i,l)}(yield Ju(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new nc(e,r,t,i))}function upe(t,e){const n=pe(t.firestore,Ge),r=N9(t),i=function IA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function ih(t,e){return function(n,r){const i=new Ct;return n.asyncQueue.enqueueAndForget(v(function*(){return function lfe(t,e,n){return LT.apply(this,arguments)}(yield function lA(t){return km(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(_t(t),e)}(n,[gA(Zu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ke.exists(!1))]).then(()=>r)}!function(t,e=!0){Tu=jp,lu(new gt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ge(new Ule(n.getProvider("auth-internal")),new $le(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),hr(U5,"3.13.0",t),hr(U5,"3.13.0","esm2017")}();class tr{constructor(e){return e}}const e7="firestore",bA=new V("angularfire2.firestore-instances");function Epe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new tr(r)}}const bpe={provide:class wpe{constructor(){return WE(e7)}},deps:[[new Tn,bA]]},Cpe={provide:tr,useFactory:function Ipe(t,e){const n=function qE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(e7,t,e);return n&&new tr(n)},deps:[[new Tn,bA],pu]};let Dpe=(()=>{class t{constructor(){hr("angularfire",VE.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({providers:[Cpe,bpe]}),t})();function Tpe(t,...e){return{ngModule:Dpe,providers:[{provide:bA,useFactory:Epe(t),multi:!0,deps:[Ae,Zt,Q3,Y3,[new Tn,e4],[new Tn,E4],...e]}]}}const zm=Pi(upe,!0),mr=Pi(jfe,!0),qm=Pi(N9,!0),Wm=Pi(ope,!0),Os=Pi(ape,!0),Ape=Pi(Gfe,!0),Spe=Pi(tpe,!0),xpe=Pi(npe,!0);let Km=(()=>{class t{constructor(n){this.firestore=n}getCategories(){const r=mr(this.firestore,"Category");return new Ce(i=>{Os(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}static#e=this.\u0275fac=function(r){return new(r||t)(H(tr))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mpe(t,e){if(1&t&&(_(0,"div",6)(1,"div",7)(2,"div",8),I(3),m()(),_(4,"div",9)(5,"ul")(6,"li"),I(7),m(),_(8,"li"),I(9),m(),_(10,"li"),M(11,"img",10),m()()()()),2&t){const n=qe().$implicit;k(3),Sn(n.name),k(4),Sn(n.menu),k(2),Sn(n.note),k(2),j("src",n.image,jc)}}const Npe=function(t){return["/category/",t]};function Rpe(t,e){if(1&t&&(_(0,"div")(1,"a",4),le(2,Mpe,12,4,"div",5),m()()),2&t){const n=e.$implicit;k(1),j("routerLink",ul(2,Npe,n.id)),k(1),j("ngIf",n.is_active)}}let kpe=(()=>{class t{constructor(n){this.categoryService=n,this.categories=[]}ngOnInit(){this.getCategory()}getCategory(){this.categoryService.getCategories().subscribe({next:n=>{this.categories=n.sort((r,i)=>r.order_index-i.order_index)},error:n=>{console.error("Error fetching categories:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(D(Km))};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-list-categories"]],decls:5,vars:1,consts:[[1,"list-categories"],[1,"title"],[1,"wrapper"],[4,"ngFor","ngForOf"],[3,"routerLink"],["class","custom-card",4,"ngIf"],[1,"custom-card"],[1,"custom-card-header"],[1,"custom-card-title"],[1,"custom-card-content"],["alt","",3,"src"]],template:function(r,i){1&r&&(_(0,"section",0)(1,"h1",1),I(2,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),m(),_(3,"section",2),le(4,Rpe,3,4,"div",3),m()()),2&r&&(k(4),j("ngForOf",i.categories))},dependencies:[no,Ja,ao],styles:[".list-categories[_ngcontent-%COMP%]{height:80vh}.title[_ngcontent-%COMP%]{text-align:center;padding-top:20px;font-size:32px}.wrapper[_ngcontent-%COMP%]{margin:0 auto;width:50vw;display:grid;grid-template-columns:repeat(3,1fr);gap:10px;justify-items:center;align-items:center}.custom-card[_ngcontent-%COMP%]{border:1px solid #ccc;margin:10px;padding:10px;width:300px}.custom-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.custom-header-image[_ngcontent-%COMP%]{width:50px;height:50px;background-color:#333;border-radius:50%;margin-right:10px}.custom-card-title[_ngcontent-%COMP%]{font-size:20px}.custom-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.custom-card-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.custom-card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}"]})}return t})(),Ope=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-chefs"]],decls:1,vars:0,template:function(r,i){1&r&&M(0,"app-list-categories")},dependencies:[kpe]})}return t})(),t7=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(_i),D(Gn))};static#t=this.\u0275dir=Z({type:t})}return t})(),Wo=(()=>{class t extends t7{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,features:[Se]})}return t})();const ai=new V("NgValueAccessor"),Fpe={provide:ai,useExisting:Pe(()=>CA),multi:!0};let CA=(()=>{class t extends Wo{writeValue(n){this.setProperty("checked",n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&ae("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[We([Fpe]),Se]})}return t})();const Lpe={provide:ai,useExisting:Pe(()=>Ko),multi:!0},Upe=new V("CompositionEventMode");let Ko=(()=>{class t extends t7{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vpe(){const t=ss()?ss().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(_i),D(Gn),D(Upe,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ae("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[We([Lpe]),Se]})}return t})();function Ps(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function n7(t){return null!=t&&"number"==typeof t.length}const an=new V("NgValidators"),Fs=new V("NgAsyncValidators"),Bpe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jpe{static min(e){return function r7(t){return e=>{if(Ps(e.value)||Ps(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function i7(t){return e=>{if(Ps(e.value)||Ps(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return s7(e)}static requiredTrue(e){return function o7(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function a7(t){return Ps(t.value)||Bpe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function u7(t){return e=>Ps(e.value)||!n7(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function c7(t){return e=>n7(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function l7(t){if(!t)return Qm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ps(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return m7(e)}static composeAsync(e){return y7(e)}}function s7(t){return Ps(t.value)?{required:!0}:null}function Qm(t){return null}function d7(t){return null!=t}function h7(t){return tl(t)?wt(t):t}function f7(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function p7(t,e){return e.map(n=>n(t))}function g7(t){return t.map(e=>function $pe(t){return!t.validate}(e)?e:n=>e.validate(n))}function m7(t){if(!t)return null;const e=t.filter(d7);return 0==e.length?null:function(n){return f7(p7(n,e))}}function DA(t){return null!=t?m7(g7(t)):null}function y7(t){if(!t)return null;const e=t.filter(d7);return 0==e.length?null:function(n){return function Ppe(...t){const e=yS(t),{args:n,keys:r}=nP(t),i=new Ce(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Pn(n[l]).subscribe(ht(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?iP(r,a):a),s.complete())}))}});return e?i.pipe(rP(e)):i}(p7(n,e).map(h7)).pipe(Ie(f7))}}function TA(t){return null!=t?y7(g7(t)):null}function _7(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function v7(t){return t._rawValidators}function w7(t){return t._rawAsyncValidators}function AA(t){return t?Array.isArray(t)?t:[t]:[]}function Ym(t,e){return Array.isArray(t)?t.includes(e):t===e}function I7(t,e){const n=AA(e);return AA(t).forEach(i=>{Ym(n,i)||n.push(i)}),n}function E7(t,e){return AA(e).filter(n=>!Ym(t,n))}class b7{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class In extends b7{get formDirective(){return null}get path(){return null}}class Ls extends b7{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class C7{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let sh=(()=>{class t extends C7{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(Ls,2))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Lf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Se]})}return t})(),oh=(()=>{class t extends C7{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(In,10))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Lf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Se]})}return t})();const ah="VALID",Xm="INVALID",rc="PENDING",uh="DISABLED";function MA(t){return(Zm(t)?t.validators:t)||null}function NA(t,e){return(Zm(e)?e.asyncValidators:t)||null}function Zm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function T7(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[n])throw new x(1001,"")}function A7(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new x(1002,"")})}class ey{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ah}get invalid(){return this.status===Xm}get pending(){return this.status==rc}get disabled(){return this.status===uh}get enabled(){return this.status!==uh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(I7(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(I7(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(E7(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(E7(e,this._rawAsyncValidators))}hasValidator(e){return Ym(this._rawValidators,e)}hasAsyncValidator(e){return Ym(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=uh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ah,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ah||this.status===rc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uh:ah}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rc,this._hasOwnPendingAsyncValidator=!0;const n=h7(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?uh:this.errors?Xm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rc)?rc:this._anyControlsHaveStatus(Xm)?Xm:ah}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function qpe(t){return Array.isArray(t)?DA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Wpe(t){return Array.isArray(t)?TA(t):t||null}(this._rawAsyncValidators)}}class ch extends ey{constructor(e,n,r){super(MA(n),NA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){A7(this,0,e),Object.keys(e).forEach(r=>{T7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class S7 extends ch{}const ic=new V("CallSetDisabledState",{providedIn:"root",factory:()=>ty}),ty="always";function ny(t,e){return[...e.path,t]}function lh(t,e,n=ty){RA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Qpe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&x7(t,e)})}(t,e),function Jpe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Ype(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&x7(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Kpe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ry(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sy(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function iy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function RA(t,e){const n=v7(t);null!==e.validator?t.setValidators(_7(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=w7(t);null!==e.asyncValidator?t.setAsyncValidators(_7(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();iy(e._rawValidators,i),iy(e._rawAsyncValidators,i)}function sy(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=v7(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=w7(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return iy(e._rawValidators,r),iy(e._rawAsyncValidators,r),n}function x7(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function R7(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function k7(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const hh=class extends ey{constructor(e=null,n,r){super(MA(n),NA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=k7(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){R7(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){R7(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){k7(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let O7=(()=>{class t extends In{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ny(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,features:[Se]})}return t})(),fh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const oge={provide:ai,useExisting:Pe(()=>sc),multi:!0};let sc=(()=>{class t extends Wo{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&ae("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[We([oge]),Se]})}return t})(),V7=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({})}return t})();const LA=new V("NgModelWithFormControlWarning"),dge={provide:In,useExisting:Pe(()=>Qo)};let Qo=(()=>{class t extends In{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ze,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return lh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){ry(n.control||null,n,!1),function tge(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function N7(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(ry(r||null,n),(t=>t instanceof hh)(i)&&(lh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function M7(t,e){RA(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Xpe(t,e){return sy(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){RA(this.form,this),this._oldForm&&sy(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(D(an,10),D(Fs,10),D(ic,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ae("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[We([dge]),Se,sr]})}return t})();const hge={provide:In,useExisting:Pe(()=>oc)};let oc=(()=>{class t extends O7{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){$7(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(D(In,13),D(an,10),D(Fs,10))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[We([hge]),Se]})}return t})();const fge={provide:In,useExisting:Pe(()=>ac)};let ac=(()=>{class t extends In{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ny(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$7(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(D(In,13),D(an,10),D(Fs,10))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[We([fge]),Se]})}return t})();function $7(t){return!(t instanceof oc||t instanceof Qo||t instanceof ac)}const pge={provide:Ls,useExisting:Pe(()=>uc)};let uc=(()=>{class t extends Ls{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Ze,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function PA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ko?n=s:function ege(t){return Object.getPrototypeOf(t.constructor)===Wo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function OA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return ny(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(D(In,13),D(an,10),D(Fs,10),D(ai,10),D(LA,8))};static#n=this.\u0275dir=Z({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[We([pge]),Se,sr]})}return t})();const gge={provide:ai,useExisting:Pe(()=>cc),multi:!0};function H7(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let cc=(()=>{class t extends Wo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=H7(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function mge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ae("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[We([gge]),Se]})}return t})(),oy=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(H7(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(D(Gn),D(_i),D(cc,9))};static#t=this.\u0275dir=Z({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const yge={provide:ai,useExisting:Pe(()=>VA),multi:!0};function G7(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let VA=(()=>{class t extends Wo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function _ge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ae("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[We([yge]),Se]})}return t})(),ay=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(G7(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(G7(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(D(Gn),D(_i),D(VA,9))};static#t=this.\u0275dir=Z({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),Yo=(()=>{class t{constructor(){this._validator=Qm}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Qm,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Z({type:t,features:[sr]})}return t})();const Ige={provide:an,useExisting:Pe(()=>uy),multi:!0};let uy=(()=>{class t extends Yo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qa,this.createValidator=n=>s7}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Bt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Gr("required",i._enabled?"":null)},inputs:{required:"required"},features:[We([Ige]),Se]})}return t})(),Age=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({imports:[V7]})}return t})();class eU extends ey{constructor(e,n,r){super(MA(n),NA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){A7(this,0,e),e.forEach((r,i)=>{T7(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function tU(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let cy=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return tU(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new ch(i,s)}record(n,r=null){const i=this._reduceControls(n);return new S7(i,r)}control(n,r,i){let s={};return this.useNonNullable?(tU(r)?s=r:(s.validators=r,s.asyncValidators=i),new hh(n,{...s,nonNullable:!0})):new hh(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new eU(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof hh||n instanceof ey?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nU=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:LA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ic,useValue:n.callSetDisabledState??ty}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({imports:[Age]})}return t})(),UA=(()=>{class t{constructor(n){this.firestore=n}getBaseRecipe(){const r=mr(this.firestore,"BaseRecipe");return new Ce(i=>{Os(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}static#e=this.\u0275fac=function(r){return new(r||t)(H(tr))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sge(t,e){if(1&t&&(_(0,"option",31),I(1),m()),2&t){const n=e.$implicit;j("value",n.id),k(1),ft(" ",n.name," ")}}function xge(t,e){if(1&t&&(_(0,"option",31),I(1),m()),2&t){const n=e.$implicit;j("value",n.id),k(1),ft(" ",n.name," ")}}function Mge(t,e){if(1&t){const n=qn();_(0,"div",32)(1,"label",33),I(2,"Image"),m(),M(3,"input",34),_(4,"button",23),ae("click",function(){const s=Un(n).index;return Bn(qe().removeImage(s))}),I(5,"Remove Image"),m()()}2&t&&j("formGroupName",e.index)}function Nge(t,e){if(1&t){const n=qn();_(0,"div",32)(1,"label",35),I(2,"Video"),m(),M(3,"input",36),_(4,"button",23),ae("click",function(){const s=Un(n).index;return Bn(qe().removeVideo(s))}),I(5,"Remove Video"),m()()}2&t&&j("formGroupName",e.index)}function Rge(t,e){if(1&t){const n=qn();_(0,"div",32)(1,"label",37),I(2,"Preparation Method"),m(),M(3,"input",38),_(4,"button",23),ae("click",function(){const s=Un(n).index;return Bn(qe().removePreparation(s))}),I(5," Remove Preparation "),m()()}2&t&&j("formGroupName",e.index)}function kge(t,e){if(1&t&&(_(0,"option",31),I(1),m()),2&t){const n=e.$implicit;j("value",n.id),k(1),ft(" ",n.name," ")}}function Oge(t,e){if(1&t&&(_(0,"option",31),I(1),m()),2&t){const n=e.$implicit;j("value",n.id),k(1),ft(" ",n.title," ")}}function Pge(t,e){if(1&t&&(_(0,"div")(1,"label",53),I(2,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),m(),_(3,"select",54),le(4,Oge,2,2,"option",5),m()()),2&t){const n=qe(2);k(4),j("ngForOf",n.baseRecipes)}}function Fge(t,e){if(1&t){const n=qn();_(0,"div",32)(1,"label",39),I(2,"Name"),m(),M(3,"input",40),_(4,"label",41),I(5,"Amount"),m(),M(6,"input",42),_(7,"label",16),I(8,"Order Index"),m(),M(9,"input",43),_(10,"label",44),I(11,"Quantity"),m(),M(12,"input",45),_(13,"label",37),I(14,"Preparation Method"),m(),M(15,"input",38),_(16,"label",46),I(17,"Unit"),m(),M(18,"input",47),_(19,"label",48),I(20,"Base?"),m(),_(21,"select",49),ae("change",function(){return Un(n),Bn(qe().onIsBaseChange())}),_(22,"option",50),I(23,"\u041d\u0435"),m(),_(24,"option",51),I(25,"\u0414\u0430"),m()(),le(26,Pge,5,1,"div",52),m()}if(2&t){const n=e.index,r=qe();j("formGroupName",n),k(26),j("ngIf","true"==r.isBaseControl)}}let Lge=(()=>{class t{constructor(n,r,i,s){this.fb=r,this.baseRecipeService=i,this.categoriesService=s,this.allergens=[],this.plates=[],this.baseRecipes=[],this.categories=[],this.currentOrderIndex=1,this.firestore=n,this.testForm=this.fb.group({title:"",category:this.fb.control(null),description:"",summary:"",season:"",order_index:[0],release_time:[0],serving_value:[0],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",food_plate:this.fb.control(null),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:"",amount:null,base:this.fb.control(null),is_base:!1,order_index:[0],preparation_method:"",quantity:[0],unit:""})])}),this.getAllergens().subscribe(o=>{this.allergens=o}),this.getPlates().subscribe(o=>{this.plates=o,console.log(this.plates)})}ngOnInit(){this.getBaseRecipe(),this.getCategory()}addImage(){this.testForm.get("image_recipe").push(this.fb.group({image_recipe:""}))}removeImage(n){this.testForm.get("image_recipe").removeAt(n)}addVideo(){this.testForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.testForm.get("video_recipe").removeAt(n)}addPreparation(){this.testForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.testForm.get("preparation_method").removeAt(n)}addIngredient(){this.testForm.get("ingredients").push(this.fb.group({name:"",amount:null,base:this.fb.control(null),is_base:!1,order_index:this.currentOrderIndex,quantity:[0],preparation_method:"",unit:""})),this.currentOrderIndex++}addReferenceToSelectedAllergen(n){const r=n.target.value;this.testForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const n=this.testForm.get("selectedAllergen")?.value;this.testForm.get("allergens").push(this.fb.control(n));const i=this.testForm.get("selectedAllergenNames"),s=this.allergens.find(o=>o.id===n);s&&i?.setValue(i.value?i.value+", "+s.name:s.name)}onIsBaseChange(){const n=this.testForm.get("ingredients");this.isBaseControl=n.value[0].is_base}get ingredients(){return this.testForm.get("ingredients")}get image_recipe(){return this.testForm.get("image_recipe")}get video_recipe(){return this.testForm.get("video_recipe")}get preparation_method(){return this.testForm.get("preparation_method")}onSubmit(){this.testForm.valid&&(this.addTest(this.testForm.value),this.testForm.reset())}getCategory(){this.categoriesService.getCategories().subscribe({next:n=>{this.categories=n},error:n=>{console.error("Error fetching recipes:",n)}})}getAllergens(){const r=mr(this.firestore,"Allergens");return new Ce(i=>{Os(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getPlates(){const r=mr(this.firestore,"Plates");return new Ce(i=>{Os(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n},error:n=>{console.error("Error fetching recipes:",n)}})}addTest(n){zm(mr(this.firestore,"test"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(D(tr),D(cy),D(UA),D(Km))};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-test"]],decls:87,vars:9,consts:[[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],["for","category"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","description"],["type","text","id","description","formControlName","description"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","order_index"],["type","text","id","order_index","formControlName","order_index"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["formControlName","selectedAllergen"],["type","button",3,"click"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["formArrayName","ingredients"],[3,"value"],[3,"formGroupName"],["for","image_recipe"],["type","text","id","image_recipe","formControlName","image_recipe"],["for","video_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["for","preparation_method"],["type","text","id","preparation_method","formControlName","preparation_method"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["type","number","id","order_index","formControlName","order_index"],["for","quantity"],["type","number","id","quantity","formControlName","amount"],["for","unit"],["type","text","id","unit","formControlName","unit"],["for","is_base"],["id","is_base","formControlName","is_base",3,"change"],["value","false"],["value","true"],[4,"ngIf"],["for","base"],["id","base","formControlName","base"]],template:function(r,i){if(1&r&&(_(0,"form",0)(1,"div")(2,"label",1),I(3,"Title"),m(),M(4,"input",2),m(),M(5,"br"),_(6,"label",3),I(7,"Category"),m(),_(8,"select",4),le(9,Sge,2,2,"option",5),m(),M(10,"br"),_(11,"div")(12,"label",6),I(13,"Description"),m(),M(14,"input",7),m(),M(15,"br"),_(16,"div")(17,"label",8),I(18,"Summary"),m(),M(19,"input",9),m(),M(20,"br"),_(21,"div")(22,"label",10),I(23,"Season"),m(),_(24,"select",11)(25,"option",12),I(26,"\u041f\u0440\u043e\u043b\u0435\u0442"),m(),_(27,"option",13),I(28,"\u041b\u044f\u0442\u043e"),m(),_(29,"option",14),I(30,"\u0415\u0441\u0435\u043d"),m(),_(31,"option",15),I(32,"\u0417\u0438\u043c\u0430"),m()()(),M(33,"br"),_(34,"div")(35,"label",16),I(36,"Order Index"),m(),M(37,"input",17),m(),M(38,"br"),_(39,"div")(40,"label",18),I(41,"Release Time"),m(),M(42,"input",19),m(),M(43,"br"),_(44,"div")(45,"label",20),I(46,"Serving Value"),m(),M(47,"input",21),m(),M(48,"br"),_(49,"div")(50,"div")(51,"select",22),le(52,xge,2,2,"option",5),m(),_(53,"button",23),ae("click",function(){return i.addSelectedAllergen()}),I(54," Add Allergen "),m()(),_(55,"div")(56,"label"),I(57,"Selected Allergens:"),m(),_(58,"div"),I(59),m()(),M(60,"br"),_(61,"div",24),le(62,Mge,6,1,"div",25),m(),_(63,"button",23),ae("click",function(){return i.addImage()}),I(64,"Add Image"),m(),M(65,"br"),_(66,"div",26),le(67,Nge,6,1,"div",25),_(68,"button",23),ae("click",function(){return i.addVideo()}),I(69,"Add Video"),m()(),M(70,"br"),_(71,"div",27),le(72,Rge,6,1,"div",25),_(73,"button",23),ae("click",function(){return i.addPreparation()}),I(74,"Add Preparation"),m()(),M(75,"br"),_(76,"label",28),I(77,"Plate"),m(),_(78,"select",29),le(79,kge,2,2,"option",5),m(),M(80,"br"),m(),_(81,"div",30),le(82,Fge,27,2,"div",25),m(),_(83,"button",23),ae("click",function(){return i.addIngredient()}),I(84,"Add Ingredient"),m(),_(85,"button",23),ae("click",function(){return i.onSubmit()}),I(86,"Submit"),m()()),2&r){let s;j("formGroup",i.testForm),k(9),j("ngForOf",i.categories),k(43),j("ngForOf",i.allergens),k(7),Sn(null==(s=i.testForm.get("selectedAllergenNames"))?null:s.value),k(3),j("ngForOf",i.image_recipe.controls),k(5),j("ngForOf",i.video_recipe.controls),k(5),j("ngForOf",i.preparation_method.controls),k(7),j("ngForOf",i.plates),k(3),j("ngForOf",i.ingredients.controls)}},dependencies:[no,Ja,fh,oy,ay,Ko,sc,cc,sh,oh,Qo,uc,oc,ac]})}return t})(),Vge=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-waiters"]],decls:1,vars:0,template:function(r,i){1&r&&M(0,"app-test")},dependencies:[Lge]})}return t})(),Uge=(()=>{class t{constructor(n,r){this.fb=n,this.firestore=r,this.categoryForm=this.fb.group({name:["",[jpe.required]],is_active:[!1],menu:[""],order_index:[0],note:[""],image:[""]})}onSubmit(){this.categoryForm.valid&&(this.addCategory(this.categoryForm.value),this.categoryForm.reset())}addCategory(n){zm(mr(this.firestore,"Category"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(D(cy),D(tr))};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-category-form"]],decls:25,vars:1,consts:[[1,"form-wrapper"],[1,"categoryForm"],[3,"formGroup","ngSubmit"],["type","checkbox","formControlName","is_active"],["type","text","formControlName","menu"],["type","number","formControlName","order_index"],["type","text","formControlName","name","required",""],["formControlName","note"],["type","text","formControlName","image"],["type","submit"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h2"),I(3,"Category Form"),m(),_(4,"form",2),ae("ngSubmit",function(){return i.onSubmit()}),_(5,"label"),I(6," Is Active: "),M(7,"input",3),m(),_(8,"label"),I(9," Menu: "),M(10,"input",4),m(),_(11,"label"),I(12," Order Index: "),M(13,"input",5),m(),_(14,"label"),I(15," Name: "),M(16,"input",6),m(),_(17,"label"),I(18," Note: "),M(19,"textarea",7),m(),_(20,"label"),I(21," Image URL: "),M(22,"input",8),m(),_(23,"button",9),I(24,"Submit"),m()()()()),2&r&&(k(4),j("formGroup",i.categoryForm))},dependencies:[fh,Ko,sc,CA,sh,oh,uy,Qo,uc],styles:[".categoryForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}form[_ngcontent-%COMP%]{padding:50px 0;display:flex;flex-direction:column;max-width:300px;margin:0 auto}label[_ngcontent-%COMP%]{margin-bottom:10px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px;margin:5px 0;border:1px solid #ccc;border-radius:5px}input[type=checkbox][_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return t})();const Bge=function(t){return["/recipe",t]};function jge(t,e){if(1&t&&(_(0,"div")(1,"a",3)(2,"div",4),M(3,"img",5),_(4,"h3"),I(5),m()()()()),2&t){const n=e.$implicit;k(1),j("routerLink",ul(4,Bge,n.id)),k(2),kv("alt",n.title),j("src",n.image_recipe,jc),k(2),Sn(n.title)}}let $ge=(()=>{class t{constructor(n,r){this.route=n,this.router=r,this.recipes=[],this.category=null,this.firestore=U(tr)}ngOnInit(){var n=this;this.route.params.subscribe(function(){var r=v(function*(i){const s=i.id,a=mr(n.firestore,"Recipe"),u=qm(n.firestore,"Category",s),c=yield Wm(u);c.exists()&&(n.category=c.data());const l=Spe(a,xpe("category","==",s));Os(l).then(d=>{const h=[];d.forEach(f=>{const p=f.data();h.push({title:p.title,image_recipe:p.image_recipe[0]?p.image_recipe[0].image_recipe:null,order_index:p.order_index,id:f.id})}),n.recipes=h}).catch(d=>{console.error("Error retrieving recipes: ",d)})});return function(i){return r.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||t)(D(cs),D(Kn))};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-category"]],decls:7,vars:4,consts:[[1,"category"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[3,"src","alt"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"h1"),I(2),m(),_(3,"h3"),I(4),m(),_(5,"div",1),le(6,jge,6,6,"div",2),m()()),2&r&&(k(2),ft(" ",null==i.category?null:i.category.name," "),k(2),Uf(" ",null==i.category?null:i.category.menu," - ",null==i.category?null:i.category.note," "),k(2),j("ngForOf",i.recipes))},dependencies:[no,ao],styles:[".category[_ngcontent-%COMP%]{padding:20px}.recipe-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.recipe-item[_ngcontent-%COMP%]{width:300px;margin:10px;padding:10px;border:1px solid #ccc;border-radius:5px;box-shadow:0 0 5px #0003;background-color:#f9f9f9;text-align:center}.recipe-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px}.recipe-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.recipe-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;margin:5px 0}.recipe-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:5px 10px;background-color:#007bff;color:#fff;text-decoration:none;border-radius:5px;transition:background-color .3s}.recipe-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return t})();function Hge(t,e){if(1&t&&(_(0,"option",31),I(1),m()),2&t){const n=e.$implicit;j("value",n.id),k(1),ft(" ",n.name," ")}}function Gge(t,e){if(1&t&&(_(0,"option",31),I(1),m()),2&t){const n=e.$implicit;j("value",n.id),k(1),ft(" ",n.name," ")}}function zge(t,e){if(1&t){const n=qn();_(0,"div",32)(1,"label",33),I(2,"Image"),m(),M(3,"input",34),_(4,"button",23),ae("click",function(){const s=Un(n).index;return Bn(qe().removeImage(s))}),I(5,"Remove Image"),m()()}2&t&&j("formGroupName",e.index)}function qge(t,e){if(1&t){const n=qn();_(0,"div",32)(1,"label",35),I(2,"Video"),m(),M(3,"input",36),_(4,"button",23),ae("click",function(){const s=Un(n).index;return Bn(qe().removeVideo(s))}),I(5,"Remove Video"),m()()}2&t&&j("formGroupName",e.index)}function Wge(t,e){if(1&t){const n=qn();_(0,"div",32)(1,"label",37),I(2,"Preparation Method"),m(),M(3,"input",38),_(4,"button",23),ae("click",function(){const s=Un(n).index;return Bn(qe().removePreparation(s))}),I(5," Remove Preparation "),m()()}2&t&&j("formGroupName",e.index)}function Kge(t,e){if(1&t&&(_(0,"option",31),I(1),m()),2&t){const n=e.$implicit;j("value",n.id),k(1),ft(" ",n.name," ")}}function Qge(t,e){if(1&t&&(_(0,"option",31),I(1),m()),2&t){const n=e.$implicit;j("value",n.id),k(1),ft(" ",n.title," ")}}function Yge(t,e){if(1&t&&(_(0,"div")(1,"label",57),I(2,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),m(),_(3,"select",58),le(4,Qge,2,2,"option",5),m()()),2&t){const n=qe(2);k(4),j("ngForOf",n.baseRecipes)}}function Jge(t,e){if(1&t){const n=qn();_(0,"div",32)(1,"label",39),I(2,"Name"),m(),M(3,"input",40),_(4,"label",41),I(5,"Amount"),m(),M(6,"input",42),_(7,"label",16),I(8,"Order Index"),m(),M(9,"input",43),_(10,"label",44),I(11,"Quantity"),m(),M(12,"input",45),_(13,"label",37),I(14,"Preparation Method"),m(),M(15,"input",38),_(16,"label",46),I(17,"Unit"),m(),_(18,"select",47)(19,"option",48),I(20,"\u0433\u0440\u0430\u043c\u0430"),m(),_(21,"option",49),I(22,"\u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u0430"),m(),_(23,"option",50),I(24,"\u043c\u0438\u043b\u0438\u043b\u0438\u0442\u0440\u0430"),m(),_(25,"option",51),I(26,"\u043b\u0438\u0442\u0440\u0430"),m()(),_(27,"label",52),I(28,"Base?"),m(),_(29,"select",53),ae("change",function(){return Un(n),Bn(qe().onIsBaseChange())}),_(30,"option",54),I(31,"\u041d\u0435"),m(),_(32,"option",55),I(33,"\u0414\u0430"),m()(),le(34,Yge,5,1,"div",56),m()}if(2&t){const n=e.index,r=qe();j("formGroupName",n),k(34),j("ngIf","true"==r.isBaseControl)}}let Xge=(()=>{class t{constructor(n,r,i,s){this.fb=r,this.baseRecipeService=i,this.categoriesService=s,this.allergens=[],this.plates=[],this.baseRecipes=[],this.categories=[],this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({title:"",category:this.fb.control(null),description:"",summary:"",season:"",order_index:[0],release_time:[0],serving_value:[0],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",food_plate:this.fb.control(null),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:"",amount:null,base:this.fb.control(null),is_base:!1,order_index:[0],preparation_method:"",quantity:[0],unit:""})])}),this.getAllergens().subscribe(o=>{this.allergens=o}),this.getPlates().subscribe(o=>{this.plates=o,console.log(this.plates)})}ngOnInit(){this.getBaseRecipe(),this.getCategory()}addImage(){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:""}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:"",amount:null,base:this.fb.control(null),is_base:!1,order_index:this.currentOrderIndex,quantity:[0],preparation_method:"",unit:""})),this.currentOrderIndex++}addReferenceToSelectedAllergen(n){const r=n.target.value;this.recipeForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const n=this.recipeForm.get("selectedAllergen")?.value;this.recipeForm.get("allergens").push(this.fb.control(n));const i=this.recipeForm.get("selectedAllergenNames"),s=this.allergens.find(o=>o.id===n);s&&i?.setValue(i.value?i.value+", "+s.name:s.name)}onIsBaseChange(){const n=this.recipeForm.get("ingredients");this.isBaseControl=n.value[0].is_base}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.valid&&(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}getCategory(){this.categoriesService.getCategories().subscribe({next:n=>{this.categories=n},error:n=>{console.error("Error fetching recipes:",n)}})}getAllergens(){const r=mr(this.firestore,"Allergens");return new Ce(i=>{Os(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getPlates(){const r=mr(this.firestore,"Plates");return new Ce(i=>{Os(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n},error:n=>{console.error("Error fetching recipes:",n)}})}addRecipe(n){zm(mr(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(D(tr),D(cy),D(UA),D(Km))};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-recipe-form"]],decls:87,vars:9,consts:[[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],["for","category"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","description"],["type","text","id","description","formControlName","description"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","order_index"],["type","text","id","order_index","formControlName","order_index"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["formControlName","selectedAllergen"],["type","button",3,"click"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["formArrayName","ingredients"],[3,"value"],[3,"formGroupName"],["for","image_recipe"],["type","text","id","image_recipe","formControlName","image_recipe"],["for","video_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["for","preparation_method"],["type","text","id","preparation_method","formControlName","preparation_method"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["type","number","id","order_index","formControlName","order_index"],["for","quantity"],["type","number","id","quantity","formControlName","amount"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","is_base"],["id","is_base","formControlName","is_base",3,"change"],["value","false"],["value","true"],[4,"ngIf"],["for","base"],["id","base","formControlName","base"]],template:function(r,i){if(1&r&&(_(0,"form",0)(1,"div")(2,"label",1),I(3,"Title"),m(),M(4,"input",2),m(),M(5,"br"),_(6,"label",3),I(7,"Category"),m(),_(8,"select",4),le(9,Hge,2,2,"option",5),m(),M(10,"br"),_(11,"div")(12,"label",6),I(13,"Description"),m(),M(14,"input",7),m(),M(15,"br"),_(16,"div")(17,"label",8),I(18,"Summary"),m(),M(19,"input",9),m(),M(20,"br"),_(21,"div")(22,"label",10),I(23,"Season"),m(),_(24,"select",11)(25,"option",12),I(26,"\u041f\u0440\u043e\u043b\u0435\u0442"),m(),_(27,"option",13),I(28,"\u041b\u044f\u0442\u043e"),m(),_(29,"option",14),I(30,"\u0415\u0441\u0435\u043d"),m(),_(31,"option",15),I(32,"\u0417\u0438\u043c\u0430"),m()()(),M(33,"br"),_(34,"div")(35,"label",16),I(36,"Order Index"),m(),M(37,"input",17),m(),M(38,"br"),_(39,"div")(40,"label",18),I(41,"Release Time"),m(),M(42,"input",19),m(),M(43,"br"),_(44,"div")(45,"label",20),I(46,"Serving Value"),m(),M(47,"input",21),m(),M(48,"br"),_(49,"div")(50,"div")(51,"select",22),le(52,Gge,2,2,"option",5),m(),_(53,"button",23),ae("click",function(){return i.addSelectedAllergen()}),I(54," Add Allergen "),m()(),_(55,"div")(56,"label"),I(57,"Selected Allergens:"),m(),_(58,"div"),I(59),m()(),M(60,"br"),_(61,"div",24),le(62,zge,6,1,"div",25),m(),_(63,"button",23),ae("click",function(){return i.addImage()}),I(64,"Add Image"),m(),M(65,"br"),_(66,"div",26),le(67,qge,6,1,"div",25),_(68,"button",23),ae("click",function(){return i.addVideo()}),I(69,"Add Video"),m()(),M(70,"br"),_(71,"div",27),le(72,Wge,6,1,"div",25),_(73,"button",23),ae("click",function(){return i.addPreparation()}),I(74,"Add Preparation"),m()(),M(75,"br"),_(76,"label",28),I(77,"Plate"),m(),_(78,"select",29),le(79,Kge,2,2,"option",5),m(),M(80,"br"),m(),_(81,"div",30),le(82,Jge,35,2,"div",25),m(),_(83,"button",23),ae("click",function(){return i.addIngredient()}),I(84,"Add Ingredient"),m(),_(85,"button",23),ae("click",function(){return i.onSubmit()}),I(86,"Submit"),m()()),2&r){let s;j("formGroup",i.recipeForm),k(9),j("ngForOf",i.categories),k(43),j("ngForOf",i.allergens),k(7),Sn(null==(s=i.recipeForm.get("selectedAllergenNames"))?null:s.value),k(3),j("ngForOf",i.image_recipe.controls),k(5),j("ngForOf",i.video_recipe.controls),k(5),j("ngForOf",i.preparation_method.controls),k(7),j("ngForOf",i.plates),k(3),j("ngForOf",i.ingredients.controls)}},dependencies:[no,Ja,fh,oy,ay,Ko,sc,cc,sh,oh,Qo,uc,oc,ac]})}return t})(),Zge=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return v(function*(){const i=qm(r.firestore,"Recipe",n),s=yield Wm(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(H(tr))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eme=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+n)}static#e=this.\u0275fac=function(r){return new(r||t)(D(ZO,16))};static#t=this.\u0275pipe=un({name:"safeUrl",type:t,pure:!0})}return t})();function tme(t,e){if(1&t&&(_(0,"li"),M(1,"img",14),m()),2&t){const n=e.$implicit;k(1),j("src",n.image_recipe,jc)}}function nme(t,e){if(1&t&&(_(0,"span"),I(1),m()),2&t){const n=qe().$implicit;k(1),Sn(n.quantity)}}const rme=function(t){return["/base",t]};function ime(t,e){if(1&t&&(_(0,"li")(1,"a",4),I(2,"Base Link"),m()()),2&t){const n=qe().$implicit;k(1),j("routerLink",ul(1,rme,n.base))}}function sme(t,e){if(1&t&&(_(0,"li"),I(1),m()),2&t){const n=qe().$implicit;k(1),ft(" \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430: ",n.preparation_method," ")}}function ome(t,e){1&t&&M(0,"hr")}function ame(t,e){if(1&t&&(_(0,"ul",15)(1,"li"),I(2),le(3,nme,2,1,"span",16),m(),le(4,ime,3,3,"li",16),le(5,sme,2,1,"li",16),le(6,ome,1,0,"hr",16),M(7,"hr"),m()),2&t){const n=e.$implicit;k(2),Uv(" ",n.name," - ",n.amount," ",n.unit," "),k(1),j("ngIf",n.quantity),k(1),j("ngIf",n.is_base),k(1),j("ngIf",n.preparation_method),k(1),j("ngIf",n.name||n.is_base||n.preparation_method)}}function ume(t,e){if(1&t&&(_(0,"ul",17)(1,"li"),I(2),m()()),2&t){const n=e.$implicit;k(2),Sn(n.preparation_method)}}function cme(t,e){if(1&t&&(_(0,"li"),M(1,"iframe",19),function KR(t,e){const n=me();let r;const i=t+he;n.firstCreatePass?(r=function AW(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Gs(r.type)),a=bn(D);try{const u=$h(!1),c=s();return $h(u),function oz(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,A(),i,c),c}finally{bn(a)}}(2,"safeUrl"),m()),2&t){const n=e.$implicit;k(1),j("src",QR(2,1,n.video_recipe),U_)}}function lme(t,e){if(1&t&&(_(0,"div",18)(1,"h2"),I(2,"\u0412\u0438\u0434\u0435\u043e \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),m(),_(3,"ul"),le(4,cme,3,3,"li",7),m()()),2&t){const n=qe();k(4),j("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}const dme=function(t){return["/category",t]};let hme=(()=>{class t{constructor(n,r,i=U(tr)){var s=this;this.route=n,this.recipeService=r,this.firestore=i,this.recipe=null,this.category=null,this.plate=null,this.route.paramMap.subscribe(function(){var o=v(function*(a){const u=a.get("id");if(u)try{s.recipe=yield s.recipeService.getRecipeById(u),s.recipe?yield s.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(c){console.error("An error occurred while retrieving the recipe:",c)}else console.error("Recipe ID not provided.")});return function(a){return o.apply(this,arguments)}}())}loadCategoryAndPlateData(){var n=this;return v(function*(){const r=n.recipe?.food_plate,i=n.recipe?.category;if(r){const s=qm(n.firestore,"Plates/"+r),o=yield Wm(s);o.exists()&&(n.plate=o.data())}if(i){const s=qm(n.firestore,"Category/"+i),o=yield Wm(s);o.exists()&&(n.category=o.data())}})()}static#e=this.\u0275fac=function(r){return new(r||t)(D(cs),D(Zge),D(tr))};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-recipe"]],decls:34,vars:17,consts:[[1,"recipe-container"],[1,"recipe-title"],[1,"recipe-summary"],[1,"recipe-category"],[3,"routerLink"],[1,"recipe-details"],[1,"recipe-image"],[4,"ngFor","ngForOf"],[1,"recipe-description"],[1,"recipe-description-text"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-other-details"],["class","recipe-videos",4,"ngIf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-ingredients"],[4,"ngIf"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"h1",1),I(2),m(),_(3,"div",2),I(4),m(),_(5,"div",3)(6,"a",4),I(7),m()(),_(8,"div",5)(9,"ul",6),le(10,tme,2,1,"li",7),m(),_(11,"div",8)(12,"h2"),I(13,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),m(),_(14,"p",9),I(15),m()()(),_(16,"h2"),I(17,"\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438"),m(),le(18,ame,8,7,"ul",10),_(19,"h2"),I(20,"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0435"),m(),le(21,ume,3,1,"ul",11),_(22,"div",12)(23,"p"),I(24),m(),_(25,"p"),I(26),m(),_(27,"p"),I(28),m(),_(29,"p"),I(30),m(),_(31,"p"),I(32),m()(),le(33,lme,5,1,"div",13),m()),2&r&&(k(2),Sn(null==i.recipe?null:i.recipe.title),k(2),Sn(null==i.recipe?null:i.recipe.summary),k(2),j("routerLink",ul(15,dme,null==i.recipe?null:i.recipe.category)),k(1),Uf(" ",null==i.category?null:i.category.name," - ",null==i.category?null:i.category.menu," "),k(3),j("ngForOf",null==i.recipe?null:i.recipe.image_recipe),k(5),Sn(null==i.recipe?null:i.recipe.description),k(3),j("ngForOf",null==i.recipe?null:i.recipe.ingredients),k(3),j("ngForOf",null==i.recipe?null:i.recipe.preparation_method),k(3),ft("\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0430\u0432\u0430\u043d\u0435: ",null==i.recipe?null:i.recipe.release_time," \u043c\u0438\u043d\u0443\u0442\u0438"),k(2),ft("\u0421\u0435\u0437\u043e\u043d: ",null==i.recipe?null:i.recipe.season,""),k(2),ft("\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: ",null==i.recipe?null:i.recipe.selectedAllergenNames,""),k(2),ft("\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ",null==i.recipe?null:i.recipe.serving_value," \u0433\u0440\u0430\u043c\u0430"),k(2),ft("\u0427\u0438\u043d\u0438\u044f: ",null==i.plate?null:i.plate.name,""),k(1),j("ngIf",i.recipe))},dependencies:[no,Ja,ao,eme],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;text-decoration:none;color:#007bff}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return t})();function fme(t,e){if(1&t&&(_(0,"option",21),I(1),m()),2&t){const n=e.$implicit;j("value",n.id),k(1),ft(" ",n.name," ")}}function pme(t,e){if(1&t){const n=qn();_(0,"div",22)(1,"label",23),I(2,"Image"),m(),M(3,"input",24),_(4,"button",15),ae("click",function(){const s=Un(n).index;return Bn(qe().removeImage(s))}),I(5,"Remove Image"),m()()}2&t&&j("formGroupName",e.index)}function gme(t,e){if(1&t){const n=qn();_(0,"div",22)(1,"label",25),I(2,"Video"),m(),M(3,"input",26),_(4,"button",15),ae("click",function(){const s=Un(n).index;return Bn(qe().removeVideo(s))}),I(5,"Remove Video"),m()()}2&t&&j("formGroupName",e.index)}function mme(t,e){if(1&t){const n=qn();_(0,"div",22)(1,"label",27),I(2,"Preparation Method"),m(),M(3,"input",28),_(4,"button",15),ae("click",function(){const s=Un(n).index;return Bn(qe().removePreparation(s))}),I(5," Remove Preparation "),m()()}2&t&&j("formGroupName",e.index)}function yme(t,e){if(1&t&&(_(0,"option",21),I(1),m()),2&t){const n=e.$implicit;j("value",n.id),k(1),ft(" ",n.title," ")}}function _me(t,e){if(1&t&&(_(0,"div")(1,"label",48),I(2,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),m(),_(3,"select",49),le(4,yme,2,2,"option",14),m()()),2&t){const n=qe(2);k(4),j("ngForOf",n.baseRecipes)}}function vme(t,e){if(1&t){const n=qn();_(0,"div",22)(1,"label",29),I(2,"Name"),m(),M(3,"input",30),_(4,"label",31),I(5,"Amount"),m(),M(6,"input",32),_(7,"label",33),I(8,"Order Index"),m(),M(9,"input",34),_(10,"label",35),I(11,"Quantity"),m(),M(12,"input",36),_(13,"label",27),I(14,"Preparation Method"),m(),M(15,"input",28),_(16,"label",37),I(17,"Unit"),m(),_(18,"select",38)(19,"option",39),I(20,"\u0433\u0440\u0430\u043c\u0430"),m(),_(21,"option",40),I(22,"\u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u0430"),m(),_(23,"option",41),I(24,"\u043c\u0438\u043b\u0438\u043b\u0438\u0442\u0440\u0430"),m(),_(25,"option",42),I(26,"\u043b\u0438\u0442\u0440\u0430"),m()(),_(27,"label",43),I(28,"Base?"),m(),_(29,"select",44),ae("change",function(){return Un(n),Bn(qe().onIsBaseChange())}),_(30,"option",45),I(31,"\u041d\u0435"),m(),_(32,"option",46),I(33,"\u0414\u0430"),m()(),le(34,_me,5,1,"div",47),m()}if(2&t){const n=e.index,r=qe();j("formGroupName",n),k(34),j("ngIf","true"==r.isBaseControl)}}const wme=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Nee},{path:"chefs",component:Ope},{path:"waiters",component:Vge},{path:"add-category",component:Uge},{path:"add-recipe",component:Xge},{path:"add-base",component:(()=>{class t{constructor(n,r,i,s){this.fb=r,this.baseRecipeService=i,this.categoriesService=s,this.allergens=[],this.baseRecipes=[],this.currentOrderIndex=1,this.firestore=n,this.baseForm=this.fb.group({title:"",description:"",summary:"",selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",base_type:"",base_recipe_portions:[0],base_yield:[0],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:"",amount:null,base:this.fb.control(null),is_base:!1,order_index:[0],preparation_method:"",quantity:[0],unit:""})])}),this.getAllergens().subscribe(o=>{this.allergens=o})}ngOnInit(){this.getBaseRecipe()}addImage(){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:""}))}removeImage(n){this.baseForm.get("image_recipe").removeAt(n)}addVideo(){this.baseForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.baseForm.get("video_recipe").removeAt(n)}addPreparation(){this.baseForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.baseForm.get("preparation_method").removeAt(n)}addIngredient(){this.baseForm.get("ingredients").push(this.fb.group({name:"",amount:null,base:this.fb.control(null),is_base:!1,order_index:this.currentOrderIndex,quantity:[0],preparation_method:"",unit:""})),this.currentOrderIndex++}addReferenceToSelectedAllergen(n){const r=n.target.value;this.baseForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const n=this.baseForm.get("selectedAllergen")?.value;this.baseForm.get("allergens").push(this.fb.control(n));const i=this.baseForm.get("selectedAllergenNames"),s=this.allergens.find(o=>o.id===n);s&&i?.setValue(i.value?i.value+", "+s.name:s.name)}onIsBaseChange(){const n=this.baseForm.get("ingredients");this.isBaseControl=n.value[0].is_base}get ingredients(){return this.baseForm.get("ingredients")}get image_recipe(){return this.baseForm.get("image_recipe")}get video_recipe(){return this.baseForm.get("video_recipe")}get preparation_method(){return this.baseForm.get("preparation_method")}onSubmit(){this.baseForm.valid&&(this.addBaseRecipe(this.baseForm.value),this.baseForm.reset())}getAllergens(){const r=mr(this.firestore,"Allergens");return new Ce(i=>{Os(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n},error:n=>{console.error("Error fetching recipes:",n)}})}addBaseRecipe(n){zm(mr(this.firestore,"BaseRecipe"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(D(tr),D(cy),D(UA),D(Km))};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-base-form"]],decls:64,vars:7,consts:[[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],["for","base_type"],["type","text","id","base_type","formControlName","base_type"],["for","base_recipe_portions"],["type","number","id","base_recipe_portions","formControlName","base_recipe_portions"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","description"],["type","text","id","description","formControlName","description"],["for","summary"],["type","text","id","summary","formControlName","summary"],["formControlName","selectedAllergen"],[3,"value",4,"ngFor","ngForOf"],["type","button",3,"click"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["formArrayName","ingredients"],[3,"value"],[3,"formGroupName"],["for","image_recipe"],["type","text","id","image_recipe","formControlName","image_recipe"],["for","video_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["for","preparation_method"],["type","text","id","preparation_method","formControlName","preparation_method"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],["for","quantity"],["type","number","id","quantity","formControlName","amount"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","is_base"],["id","is_base","formControlName","is_base",3,"change"],["value","false"],["value","true"],[4,"ngIf"],["for","base"],["id","base","formControlName","base"]],template:function(r,i){if(1&r&&(_(0,"form",0)(1,"div")(2,"label",1),I(3,"Title"),m(),M(4,"input",2),m(),M(5,"br"),_(6,"div")(7,"label",3),I(8,"Base Typ"),m(),M(9,"input",4),m(),M(10,"br"),_(11,"div")(12,"label",5),I(13,"Base Recipe Portions"),m(),M(14,"input",6),m(),M(15,"br"),_(16,"div")(17,"label",7),I(18,"Yield"),m(),M(19,"input",8),m(),M(20,"br"),_(21,"div")(22,"label",9),I(23,"Description"),m(),M(24,"input",10),m(),M(25,"br"),_(26,"div")(27,"label",11),I(28,"Summary"),m(),M(29,"input",12),m(),M(30,"br"),_(31,"div")(32,"div")(33,"select",13),le(34,fme,2,2,"option",14),m(),_(35,"button",15),ae("click",function(){return i.addSelectedAllergen()}),I(36," Add Allergen "),m()(),_(37,"div")(38,"label"),I(39,"Selected Allergens:"),m(),_(40,"div"),I(41),m()(),M(42,"br"),_(43,"div",16),le(44,pme,6,1,"div",17),m(),_(45,"button",15),ae("click",function(){return i.addImage()}),I(46,"Add Image"),m(),M(47,"br"),_(48,"div",18),le(49,gme,6,1,"div",17),_(50,"button",15),ae("click",function(){return i.addVideo()}),I(51,"Add Video"),m()(),M(52,"br"),_(53,"div",19),le(54,mme,6,1,"div",17),_(55,"button",15),ae("click",function(){return i.addPreparation()}),I(56,"Add Preparation"),m()(),M(57,"br"),m(),_(58,"div",20),le(59,vme,35,2,"div",17),m(),_(60,"button",15),ae("click",function(){return i.addIngredient()}),I(61,"Add Ingredient"),m(),_(62,"button",15),ae("click",function(){return i.onSubmit()}),I(63,"Submit"),m()()),2&r){let s;j("formGroup",i.baseForm),k(34),j("ngForOf",i.allergens),k(7),Sn(null==(s=i.baseForm.get("selectedAllergenNames"))?null:s.value),k(3),j("ngForOf",i.image_recipe.controls),k(5),j("ngForOf",i.video_recipe.controls),k(5),j("ngForOf",i.preparation_method.controls),k(5),j("ngForOf",i.ingredients.controls)}},dependencies:[no,Ja,fh,oy,ay,Ko,sc,cc,sh,oh,Qo,uc,oc,ac]})}return t})()},{path:"base/:id",component:(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-base-recipe"]],decls:2,vars:0,template:function(r,i){1&r&&(_(0,"p"),I(1,"base-recipe works!"),m())}})}return t})()},{path:"category/:id",component:$ge},{path:"recipe/:id",component:hme}];let Ime=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({imports:[Op.forRoot(wme),Op]})}return t})();class ph{constructor(e){this.values=[],this.delimiter=":",this.hasValue(e)&&this.addValue(e)}toString(){return this.values.join(this.delimiter)}hasValue(e){return typeof e<"u"&&null!==e&&""!==e}addValue(e){return Array.isArray(e)?this.values=this.values.concat(e):this.values.push(e),this.values=this.values.filter(n=>this.hasValue(n)),this}setDelimiter(e){return this.delimiter=e,this}}class Eme extends Error{constructor(e="Unsupported"){super(e)}}function BA(t){return new Eme(t)}function bme(){return this._qualifierModel||{error:BA(`unsupported qualifier ${this.constructor.name}`)}}class Cme{constructor(){this._qualifierModel={}}toJson(){return bme.apply(this)}}class ly extends Cme{constructor(e,n){super(),this.delimiter="_",this.key=e,n instanceof ph?this.qualifierValue=n:(this.qualifierValue=new ph,this.qualifierValue.addValue(n))}toString(){const{key:e,delimiter:n,qualifierValue:r}=this;return`${e}${n}${r.toString()}`}addValue(e){return this.qualifierValue.addValue(e),this}}class se extends ly{constructor(e,n){let r;r=n?new ph([e,`${n}`]).setDelimiter(":"):e,super("fl",r),this.flagValue=n}toString(){return super.toString().replace(/\./,"%2E")}getFlagValue(){return this.flagValue}}function Tme(){var t,e,n;const r=this._actionModel&&Object.keys(this._actionModel).length,i=null===(n=null===(e=null===(t=this._actionModel)||void 0===t?void 0:t.source)||void 0===e?void 0:e.transformation)||void 0===n?void 0:n.error;return i&&i instanceof Error?{error:i}:r?this._actionModel:{error:BA(`unsupported action ${this.constructor.name}`)}}class Ame{constructor(){this._actionModel={}}toJson(){return Tme.apply(this)}}class jA extends Ame{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(e){return this.actionTag=e,this}toString(){return this.prepareQualifiers(),function Dme(t,e){const n=Array.from(t.entries());return e.forEach(r=>{n.push(["fl",r])}),n.sort().map(r=>r[1])}(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(e){if("string"==typeof e){const[n,r]=e.toLowerCase().split("_");"fl"===n?this.flags.push(new se(r)):this.qualifiers.set(n,new ly(n,r))}else this.qualifiers.set(e.key,e);return this}addFlag(e){return"string"==typeof e?this.flags.push(new se(e)):e instanceof se&&this.flags.push(e),this}addValueToQualifier(e,n){return this.qualifiers.get(e).addValue(n),this}}class Sme extends jA{constructor(e){super(),this.addQualifier(new ly("b",new ph(e).setDelimiter("_")))}}class rU{constructor(e){this.raw=e}toString(){return this.raw}toJson(){return{error:BA(`unsupported action ${this.constructor.name}`)}}}function Mme(t){return"error"in t&&!!t.error}class fye extends ph{constructor(e){super(e),this.val=e}getValue(){return this.val}}function Jo(t){const e={};return Object.keys(t).forEach(n=>{e[t[n]]=n}),e}Jo({444:"CHROMA_444",420:"CHROMA_420"}),Jo({noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"}),Jo({limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad"});const Iye=Jo({colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"});Jo({redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore"}),Jo({autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"}),Jo({fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"});class Eye extends jA{constructor(e,n,r){let i;super(),this._actionModel={},i=n instanceof fye?n.getValue():n,this._actionModel.actionType=Iye[e],this._actionModel[r]=i,this.addQualifier(new ly(e,n))}}class lc extends se{constructor(e){super("progressive",e)}}class dy extends Eye{constructor(e,n){super(e,n,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(function iU(){return new se("lossy")}()),this}progressive(e){return e instanceof lc?(this._actionModel.progressive={mode:e.getFlagValue()},this.addFlag(e)):(this._actionModel.progressive={mode:e},this.addFlag(function oU(t){return new se("progressive",t)}(e))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(function sU(){return new se("preserve_transparency")}()),this}static fromJson(e){const{formatType:n,lossy:r,progressive:i,preserveTransparency:s}=e;let o;return o=n?new this("f",n):new this("f"),i&&(i.mode?o.progressive(i.mode):o.progressive()),r&&o.lossy(),s&&o.preserveTransparency(),o}}class hy{constructor(){this.actions=[]}addAction(e){let n;if("string"==typeof e){if(e.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";n=new rU(e)}else n=e;return this.actions.push(n),this}addTransformation(e){return e instanceof hy?this.actions=this.actions.concat(e.actions):this.actions.push(new rU(e)),this}toString(){return this.actions.map(e=>e.toString()).filter(e=>e).join("/")}animated(e){return this.addAction(e)}border(e){return this.addAction(e)}reshape(e){return this.addAction(e)}resize(e){return this.addAction(e)}quality(e){return this.addAction(new dy("q",e)),this}format(e){return this.addAction(new dy("f",e)),this}roundCorners(e){return this.addAction(e)}overlay(e){return this.addAction(e)}underlay(e){return e.setLayerType("u"),this.addAction(e)}addVariable(e){return this.addAction(e)}conditional(e){return this.addAction(e)}effect(e){return this.addAction(e)}adjust(e){return this.addAction(e)}rotate(e){return this.addAction(e)}namedTransformation(e){return this.addAction(e)}delivery(e){return this.addAction(e)}backgroundColor(e){return this.addAction(new Sme(function xme(t){return t&&(t.match(/^#/)?`rgb:${t.substr(1)}`:t)}(e)))}psdTools(e){return this.addAction(e)}extract(e){return this.addAction(e)}addFlag(e){const n=new jA;let r=e;return"string"==typeof e&&(r=new se(e)),n.addQualifier(r),this.addAction(n)}customFunction(e){return this.addAction(e)}transcode(e){return this.addAction(e)}videoEdit(e){return this.addAction(e)}toJson(){const e=[];for(const n of this.actions){const r=n.toJson();if(Mme(r))return r;e.push(r)}return{actions:e}}}class Aye extends hy{}const Lye=class Fye{filterOutNonSupportedKeys(e,n){const r=Object.create({});return function Pye(t){return!("object"!=typeof t||t instanceof Array)}(e)?(Object.keys(e).forEach(i=>{n.indexOf(i)>=0?r[i]=e[i]:console.warn("Warning - unsupported key provided to configuration: ",i)}),r):Object.create({})}},aU=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class $A extends Lye{constructor(e){super();const n=this.filterOutNonSupportedKeys(e,aU);Object.assign(this,{secure:!0},n)}extend(e){const n=this.filterOutNonSupportedKeys(e,aU);return new $A(Object.assign({},this,n))}setCname(e){return this.cname=e,this}setSecureDistribution(e){return this.secureDistribution=e,this}setPrivateCdn(e){return this.privateCdn=e,this}setSignUrl(e){return this.signUrl=e,this}setLongUrlSignature(e){return this.longUrlSignature=e,this}setShorten(e){return this.shorten=e,this}setUseRootPath(e){return this.useRootPath=e,this}setSecure(e){return this.secure=e,this}setForceVersion(e){return this.forceVersion=e,this}setQueryParams(e){return this.queryParams=e,this}}const Vye=$A;function HA(t,e,n){let r=e>>0,i=String(typeof n<"u"?n:" ");return t.length>r?String(t):(r-=t.length,r>i.length&&(i+=function Uye(t,e){let n=e,r="";for(;n>0;)r+=t,n--;return r}(i,r/i.length)),i.slice(0,r)+String(t))}const uU={};let cU=0;function lU(t){let e="";const r=6*t.split(".").length,i=function jye(t){if(t.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return t.split(".").reverse().map(e=>{const n=+e;if(isNaN(n)||n<0)throw"Invalid version number provided";return HA(e,2,"0")}).join(".")}(t);let o=parseInt(i.split(".").join("")).toString(2);if(o=HA(o,r,"0"),o.length%6!=0)throw"Version must be smaller than 43.21.26)";return o.match(/.{1,6}/g).forEach(a=>{e+=uU[a]}),e}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(t=>{let e=cU.toString(2);e=HA(e,6,"0"),uU[e]=t,cU++});function Gye(){const t="0.0.0";if(typeof window<"u")return t;try{return process.versions.node||t}catch{return t}}const dU={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Kye{constructor(e,n={},r){this.setPublicID(e),this.setCloudConfig(n),this.setURLConfig(r)}setURLConfig(e){return this.urlConfig=new Vye(e),this}setCloudConfig(e){return this.cloudName=e.cloudName,this.apiKey=e.apiKey,this.apiSecret=e.apiSecret,this.authToken=e.authToken,this}setPublicID(e){return this.publicID=e?e.toString():"",this}setDeliveryType(e){return this.deliveryType=e,this}setSuffix(e){return this.suffix=e,this}setSignature(e){return this.signature=e,this}setVersion(e){return e&&(this.version=e),this}setAssetType(e){return e&&(this.assetType=e),this}sign(){return this}toURL(e={}){return this.createCloudinaryURL(null,e.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const e=this.suffix&&this.suffix.indexOf(".")>=0,n=this.suffix&&this.suffix.indexOf("/")>=0;if(e||n)throw"`suffix`` should not include . or /"}getResourceType(){const e=function Rye(t){return t||"image"}(this.assetType),n=function kye(t){return t||"upload"}(this.deliveryType),r=!!this.suffix,i=`${e}/${n}`,s=dU[`${e}/${n}`],a=this.urlConfig.shorten;if(this.urlConfig.useRootPath){if("image/upload"===i)return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${i} instead`)}if(a&&"image/upload"===i)return"iu";if(r){if(s)return s;throw new Error(`URL Suffix only supported for ${Object.keys(dU).join(", ")}, Provided: ${i} instead`)}return i}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(e,n){if(!this.publicID)return"";this.validateAssetForURLCreation();const r=function Nye(t,e){const n=e.secure,r=e.privateCdn,i=e.cname,s=e.secureDistribution;return n||i?n&&!s&&r?`https://${t}-res.cloudinary.com`:n&&!s?`https://res.cloudinary.com/${t}`:n&&s&&r?`https://${s}`:n&&s?`https://${s}/${t}`:!n&&i?`http://${i}/${t}`:"ERROR":`http://res.cloudinary.com/${t}`}(this.cloudName,this.urlConfig),i=e?e.toString():"",s=function Oye(t,e,n){const r=!1!==n;return e?`v${e}`:function Mye(t){return t.match(/^v[0-9]+/)}(t)||function Sye(t){return t.match(/^https?:\//)}(t)||function xye(t){return t.indexOf("/")<0}(t)?"":r?"v1":""}(this.publicID,this.version,this.urlConfig.forceVersion),o=this.publicID.replace(/,/g,"%2C"),a=[r,this.getResourceType(),this.getSignature(),i,s,o,this.suffix].filter(u=>u).join("/");if("string"==typeof e)return a;{const u=encodeURI(a).replace(/\?/g,"%3F").replace(/=/g,"%3D"),c=new URLSearchParams(this.urlConfig.queryParams);!1!==this.urlConfig.analytics&&!o.includes("?")&&c.set("_a",function qye(t){const e=function zye(t){const e={techVersion:Gye(),sdkCode:"T",sdkSemver:"1.12.0".split("-")[0],product:"A",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return t?Object.assign(Object.assign({},e),t):e}(t),n=function $ye(t){const e={sdkSemver:t.sdkSemver,techVersion:t.techVersion,sdkCode:t.sdkCode,product:t.product,feature:"0"};return t.accessibility&&(e.feature="D"),t.lazyload&&(e.feature="C"),t.responsive&&(e.feature="A"),t.placeholder&&(e.feature="B"),e}(e);try{const r=function Wye(t){const e=t.split(".");return`${e[0]}.${e[1]}`}(n.techVersion),i=lU(n.sdkSemver),s=lU(r);return`B${n.product}${n.sdkCode}${i}${s}${n.feature}`}catch{return"E"}}(n));const l=c.toString();return l?`${u}?${l}`:u}}}class hU extends Kye{constructor(e,n,r,i){super(e,n,r),this.transformation=i}animated(e){return this.transformation.animated(e),this}border(e){return this.transformation.border(e),this}reshape(e){return this.transformation.reshape(e),this}resize(e){return this.transformation.resize(e),this}quality(e){return this.addAction(new dy("q",e)),this}format(e){return this.addAction(new dy("f",e)),this}roundCorners(e){return this.transformation.roundCorners(e),this}overlay(e){return this.transformation.overlay(e),this}addVariable(e){return this.transformation.addVariable(e),this}conditional(e){return this.transformation.conditional(e),this}effect(e){return this.transformation.effect(e),this}adjust(e){return this.transformation.adjust(e),this}rotate(e){return this.transformation.rotate(e),this}namedTransformation(e){return this.transformation.namedTransformation(e),this}delivery(e){return this.transformation.delivery(e),this}backgroundColor(e){return this.transformation.backgroundColor(e),this}psdTools(e){return this.transformation.psdTools(e),this}extract(e){return this.transformation.extract(e),this}addFlag(e){return this.transformation.addFlag(e),this}customFunction(e){return this.transformation.customFunction(e),this}addAction(e){return this.transformation.addAction(e),this}addTransformation(e){return this.transformation.addTransformation(e),this}toString(){return this.transformation.toString()}underlay(e){return this.transformation.underlay(e),this}toURL(e={}){return this.createCloudinaryURL(this.transformation,e?.trackedAnalytics)}}class Qye extends hU{constructor(e,n,r){super(e,n,r,new Aye)}}class Yye extends hy{}class Jye extends hU{constructor(e,n,r){super(e,n,r,new Yye),this.assetType="video"}transcode(e){return this.transformation.transcode(e),this}videoEdit(e){return this.transformation.videoEdit(e),this}}class Xye{constructor(e){e&&(this.cloudinaryConfig=e)}image(e){return new Qye(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(e){return new Jye(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(e){return this.cloudinaryConfig=e,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}let Zye=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-header"]],decls:21,vars:0,consts:[[1,"header"],[1,"logo"],["routerLink","/home"],[1,"navigation"],["routerLink","/chefs"],["routerLink","/waiters"],["routerLink","/add-category"],["routerLink","/add-recipe"],["routerLink","/add-base"]],template:function(r,i){1&r&&(_(0,"header",0)(1,"div",1)(2,"a",2),I(3,"Chefs Talks"),m()(),_(4,"nav",3)(5,"ul")(6,"li")(7,"a",4),I(8,"Chefs"),m()(),_(9,"li")(10,"a",5),I(11,"Waiters"),m()(),_(12,"li")(13,"a",6),I(14,"Add Category"),m()(),_(15,"li")(16,"a",7),I(17,"Add Recipe"),m()(),_(18,"li")(19,"a",8),I(20,"Add Base"),m()()()()())},dependencies:[ao],styles:[".header[_ngcontent-%COMP%]{height:10vh;background-color:#8abe53;color:#fff;display:flex;justify-content:space-between;align-items:center;padding:20px}.logo[_ngcontent-%COMP%]{font-size:42px;font-weight:900;text-decoration:underline}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]})}return t})(),e_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(r,i){1&r&&(_(0,"footer",0)(1,"p"),I(2,"\xa9 2023 Shefs Talks"),m()())},styles:[".footer[_ngcontent-%COMP%]{height:10vh;background-color:#00c0a3;color:#fff;text-align:center;padding:10px}"]})}return t})(),t_e=(()=>{class t{constructor(){this.title="chefs-talks"}ngOnInit(){new Xye({cloud:{cloudName:"demo"}})}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Yt({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&M(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[pw,Zye,e_e]})}return t})(),n_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({imports:[hp,Op]})}return t})(),r_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({imports:[hp]})}return t})();class fy{}class py{}class ui{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ui?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ui;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ui?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class i_e{encodeKey(e){return fU(e)}encodeValue(e){return fU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const o_e=/%(\d[a-f0-9])/gi,a_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fU(t){return encodeURIComponent(t).replace(o_e,(e,n)=>a_e[n]??e)}function gy(t){return`${t}`}class Vs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new i_e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function s_e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(gy):[gy(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Vs({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(gy(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(gy(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class u_e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function gU(t){return typeof Blob<"u"&&t instanceof Blob}function mU(t){return typeof FormData<"u"&&t instanceof FormData}class gh{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function c_e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ui),this.context||(this.context=new u_e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Vs,this.urlWithParams=n}serializeBody(){return null===this.body?null:pU(this.body)||gU(this.body)||mU(this.body)||function l_e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mU(this.body)?null:gU(this.body)?this.body.type||null:pU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new gh(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var dc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(dc||{});class GA{constructor(e,n=200,r="OK"){this.headers=e.headers||new ui,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class zA extends GA{constructor(e={}){super(e),this.type=dc.ResponseHeader}clone(e={}){return new zA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hc extends GA{constructor(e={}){super(e),this.type=dc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new hc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yU extends GA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function qA(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let d_e=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof gh)s=n;else{let u,c;u=i.headers instanceof ui?i.headers:new ui(i.headers),i.params&&(c=i.params instanceof Vs?i.params:new Vs({fromObject:i.params})),s=new gh(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=K(s).pipe(Za(u=>this.handler.handle(u)));if(n instanceof gh||"events"===i.observe)return o;const a=o.pipe(Ai(u=>u instanceof hc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ie(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ie(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ie(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ie(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Vs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,qA(i,r))}post(n,r,i={}){return this.request("POST",n,qA(i,r))}put(n,r,i={}){return this.request("PUT",n,qA(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(H(fy))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function wU(t,e){return e(t)}function f_e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const g_e=new V(""),mh=new V(""),IU=new V("");function m_e(){let t=null;return(e,n)=>{null===t&&(t=(U(g_e,{optional:!0})??[]).reduceRight(f_e,wU));const r=U(Wf),i=r.add();return t(e,n).pipe(vl(()=>r.remove(i)))}}let EU=(()=>{class t extends fy{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=U(Wf)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(mh),...this.injector.get(IU,[])]));this.chain=i.reduceRight((s,o)=>function p_e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(s,o,this.injector),wU)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(vl(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(H(py),H(Hn))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const w_e=/^\)\]\}',?\n/;let CU=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new x(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?wt(r.\u0275loadImpl()):K(null)).pipe(_r(()=>new Ce(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((g,y)=>o.setRequestHeader(g,y.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const g=n.detectContentTypeHeader();null!==g&&o.setRequestHeader("Content-Type",g)}if(n.responseType){const g=n.responseType.toLowerCase();o.responseType="json"!==g?g:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const g=o.statusText||"OK",y=new ui(o.getAllResponseHeaders()),b=function I_e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return u=new zA({headers:y,status:o.status,statusText:g,url:b}),u},l=()=>{let{headers:g,status:y,statusText:b,url:w}=c(),T=null;204!==y&&(T=typeof o.response>"u"?o.responseText:o.response),0===y&&(y=T?200:0);let F=y>=200&&y<300;if("json"===n.responseType&&"string"==typeof T){const G=T;T=T.replace(w_e,"");try{T=""!==T?JSON.parse(T):null}catch(J){T=G,F&&(F=!1,T={error:J,text:T})}}F?(s.next(new hc({body:T,headers:g,status:y,statusText:b,url:w||void 0})),s.complete()):s.error(new yU({error:T,headers:g,status:y,statusText:b,url:w||void 0}))},d=g=>{const{url:y}=c(),b=new yU({error:g,status:o.status||0,statusText:o.statusText||"Unknown Error",url:y||void 0});s.error(b)};let h=!1;const f=g=>{h||(s.next(c()),h=!0);let y={type:dc.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),"text"===n.responseType&&o.responseText&&(y.partialText=o.responseText),s.next(y)},p=g=>{let y={type:dc.UploadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),s.next(y)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:dc.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(H(RO))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const WA=new V("XSRF_ENABLED"),DU=new V("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),TU=new V("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class AU{}let C_e=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=bO(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(H(mn),H(yi),H(DU))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function D_e(t,e){const n=t.url.toLowerCase();if(!U(WA)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=U(AU).getToken(),i=U(TU);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Us=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Us||{});function T_e(...t){const e=[d_e,CU,EU,{provide:fy,useExisting:EU},{provide:py,useExisting:CU},{provide:mh,useValue:D_e,multi:!0},{provide:WA,useValue:!0},{provide:AU,useClass:C_e}];for(const n of t)e.push(...n.\u0275providers);return function j_(t){return{\u0275providers:t}}(e)}const SU=new V("LEGACY_INTERCEPTOR_FN");function A_e(){return function Xo(t,e){return{\u0275kind:t,\u0275providers:e}}(Us.LegacyInterceptors,[{provide:SU,useFactory:m_e},{provide:mh,useExisting:SU,multi:!0}])}let S_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({providers:[T_e(A_e())]})}return t})();Jn("firebase","10.5.2","app");const xU_firebaseConfig={apiKey:"AIzaSyBqXpKb2qj9VKAYX_DOaOyGV6e-lsUhxG8",authDomain:"chefs-talks.firebaseapp.com",projectId:"chefs-talks",storageBucket:"chefs-talks.appspot.com",messagingSenderId:"821574305127",appId:"1:821574305127:web:1ec43d2f164a6f2c151bc2",measurementId:"G-96713DEB05"};!function PF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=Dw()),!n)throw Ni.create("no-options");const s=po.get(i);if(s){if(Pl(n,s.options)&&Pl(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new mF(i);for(const u of Hp.values())o.addComponent(u);const a=new Bne(n,r,o);return po.set(i,a),a}(xU_firebaseConfig);let MU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Pt({type:t});static#n=this.\u0275inj=Tt({imports:[hp,nU]})}return t})(),F_e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({imports:[[]]}),t})(),L_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Pt({type:t,bootstrap:[t_e]});static#n=this.\u0275inj=Tt({imports:[qJ,Ime,n_e,r_e,MU,S_e,Op,nU,MU,foe(()=>poe(xU_firebaseConfig)),Tpe(()=>Ape()),F_e]})}return t})();GJ().bootstrapModule(L_e).catch(t=>console.error(t))}},Re=>{Re(Re.s=496)}]);