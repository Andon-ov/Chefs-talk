"use strict";(self.webpackChunkchefs_talks=self.webpackChunkchefs_talks||[]).push([[179],{6304:(it,Ee,P)=>{P.d(Ee,{Dh:()=>Re,GT:()=>he,cc:()=>Oe,on:()=>Se,pX:()=>se,xv:()=>Ue});var o=P(8926),L=P(120);it=P.hmd(it);const ie=["ngOnDestroy"],se=(xe,Ae,Ye,we={})=>new Proxy(xe,{get:(Ce,ce)=>Ye.runOutsideAngular(()=>{var ve;if(xe[ce])return!(null===(ve=we?.spy)||void 0===ve)&&ve.get&&we.spy.get(ce,xe[ce]),xe[ce];if(ie.indexOf(ce)>-1)return()=>{};const Me=Ae.toPromise().then(K=>{const k=K&&K[ce];return"function"==typeof k?k.bind(K):k&&k.then?k.then(W=>Ye.run(()=>W)):Ye.run(()=>k)});return new Proxy(()=>{},{get:(K,k)=>Me[k],apply:(K,k,W)=>Me.then(pe=>{var Mt;const cn=pe&&pe(...W);return!(null===(Mt=we?.spy)||void 0===Mt)&&Mt.apply&&we.spy.apply(ce,W,cn),cn})})})}),he=(xe,Ae)=>{Ae.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(we=>{Object.defineProperty(xe.prototype,we,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,we))})})};class ye{constructor(Ae){return Ae}}const Re=new o.OlP("angularfire2.app.options"),Ue=new o.OlP("angularfire2.app.name");function Se(xe,Ae,Ye){const Ce="object"==typeof Ye&&Ye||{};Ce.name=Ce.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const ve=L.Z.apps.filter(Me=>Me&&Me.name===Ce.name)[0]||Ae.runOutsideAngular(()=>L.Z.initializeApp(xe,Ce));try{JSON.stringify(xe)!==JSON.stringify(ve.options)&&B("error",`${ve.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(ve)}const B=(xe,...Ae)=>{(0,o.X6Q)()&&typeof console<"u"&&console[xe](...Ae)};function Oe(xe,Ae,Ye,we,Ce){const[,ce,ve]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===xe)||[];if(ce)return function ue(xe,Ae){try{return xe.toString()===Ae.toString()}catch{return xe===Ae}}(Ce,ve)||(Ve("error",`${Ae} was already initialized on the ${Ye} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:Ce,was:ve})),ce;{const Me=we();return globalThis.\u0275AngularfireInstanceCache.push([xe,Me,Ce]),Me}}const Qe=!!it.hot,Ve=(xe,...Ae)=>{(0,o.X6Q)()&&typeof console<"u"&&console[xe](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6710:(it,Ee,P)=>{P.d(Ee,{$:()=>nl,A:()=>Z,D:()=>ue,I:()=>$c,J:()=>yu,L:()=>$i,N:()=>Qt,P:()=>Tl,Q:()=>mt,R:()=>x1,U:()=>wn,V:()=>Xc,W:()=>xo,X:()=>os,Y:()=>Hi,Z:()=>Cs,_:()=>oh,a:()=>Su,a0:()=>v1,a1:()=>_n,a2:()=>gA,a3:()=>mA,a4:()=>E_,a5:()=>Bp,a6:()=>Cu,a7:()=>da,a8:()=>w_,a9:()=>hr,aA:()=>k,aB:()=>Dl,aC:()=>ut,aD:()=>Xn,aE:()=>ko,aF:()=>Uu,aG:()=>Ri,aH:()=>mn,aL:()=>xu,aO:()=>xi,aa:()=>ol,ab:()=>C_,ac:()=>b_,ad:()=>D_,ae:()=>Zp,af:()=>S_,ai:()=>bu,aj:()=>_A,ak:()=>yA,an:()=>Eu,ao:()=>fl,aq:()=>ml,ar:()=>ph,as:()=>pe,at:()=>kn,au:()=>vt,av:()=>Ce,aw:()=>ba,ax:()=>Zu,ay:()=>Fn,az:()=>ce,b:()=>fr,c:()=>ii,d:()=>Ss,e:()=>bl,f:()=>B_,g:()=>Zn,h:()=>Vu,i:()=>tg,j:()=>bh,k:()=>ps,l:()=>wh,m:()=>jn,p:()=>Ue,r:()=>at,s:()=>Kn,u:()=>ig});var o=P(5861),L=P(9058),ie=P(7592),se=P(7582),he=P(7879),ye=P(4537);const Ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ue=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new he.Yd("@firebase/auth");function we(I,...g){Ae.logLevel<=he.in.ERROR&&Ae.error(`Auth (${ie.SDK_VERSION}): ${I}`,...g)}function Ce(I,...g){throw K(I,...g)}function ce(I,...g){return K(I,...g)}function ve(I,g,_){const w=Object.assign(Object.assign({},Qe()),{[g]:_});return new L.LL("auth","Firebase",w).create(g,{appName:I.name})}function Me(I,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ce(I,"argument-error"),ve(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K(I,...g){if("string"!=typeof I){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(_,...w)}return Ve.create(I,...g)}function k(I,g,..._){if(!I)throw K(g,..._)}function W(I){const g="INTERNAL ASSERTION FAILED: "+I;throw we(g),new Error(g)}function pe(I,g){I||W(g)}function Mt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function cn(){return"http:"===Pn()||"https:"===Pn()}function Pn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class pn{constructor(g,_){this.shortDelay=g,this.longDelay=_,pe(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xr(I,g){pe(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Q{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oe=new pn(3e4,6e4);function J(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function de(I,g,_,w){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,o.Z)(function*(I,g,_,w,D={}){return ot(I,D,(0,o.Z)(function*(){let x={},q={};w&&("GET"===g?q=w:x={body:JSON.stringify(w)});const ee=(0,L.xO)(Object.assign({key:I.config.apiKey},q)).slice(1),Pe=yield I._getAdditionalHeaders();return Pe["Content-Type"]="application/json",I.languageCode&&(Pe["X-Firebase-Locale"]=I.languageCode),Q.fetch()(Dt(I,I.config.apiHost,_,ee),Object.assign({method:g,headers:Pe,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ot(I,g,_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,o.Z)(function*(I,g,_){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},te),g);try{const D=new Ze(I),x=yield Promise.race([_(),D.promise]);D.clearNetworkTimeout();const q=yield x.json();if("needConfirmation"in q)throw tn(I,"account-exists-with-different-credential",q);if(x.ok&&!("errorMessage"in q))return q;{const ee=x.ok?q.errorMessage:q.error.message,[Pe,Le]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw tn(I,"credential-already-in-use",q);if("EMAIL_EXISTS"===Pe)throw tn(I,"email-already-in-use",q);if("USER_DISABLED"===Pe)throw tn(I,"user-disabled",q);const et=w[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Le)throw ve(I,et,Le);Ce(I,et)}}catch(D){if(D instanceof L.ZR)throw D;Ce(I,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function on(I,g,_,w){return dt.apply(this,arguments)}function dt(){return(dt=(0,o.Z)(function*(I,g,_,w,D={}){const x=yield de(I,g,_,w,D);return"mfaPendingCredential"in x&&Ce(I,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Dt(I,g,_,w){const D=`${g}${_}?${w}`;return I.config.emulator?Xr(I.config,D):`${I.config.apiScheme}://${D}`}class Ze{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(ce(this.auth,"network-request-failed")),oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(I,g,_){const w={appName:I.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const D=ce(I,g,w);return D.customData._tokenResponse=_,D}function Lr(){return(Lr=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Tr(){return(Tr=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qi(){return(qi=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ei(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function ts(){return(ts=(0,o.Z)(function*(I,g=!1){const _=(0,L.m9)(I),w=yield _.getIdToken(g),D=Tt(w);k(D&&D.exp&&D.auth_time&&D.iat,_.auth,"internal-error");const x="object"==typeof D.firebase?D.firebase:void 0,q=x?.sign_in_provider;return{claims:D,token:w,authTime:ei(zn(D.auth_time)),issuedAtTime:ei(zn(D.iat)),expirationTime:ei(zn(D.exp)),signInProvider:q||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function zn(I){return 1e3*Number(I)}function Tt(I){const[g,_,w]=I.split(".");if(void 0===g||void 0===_||void 0===w)return we("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(_);return D?JSON.parse(D):(we("Failed to decode base64 JWT payload"),null)}catch(D){return we("Caught error parsing JWT payload as JSON",D?.toString()),null}}function Vr(I,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,o.Z)(function*(I,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof L.ZR&&function cr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}class ns{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const D=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,o.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,o.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Bt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rs(I){return nn.apply(this,arguments)}function nn(){return nn=(0,o.Z)(function*(I){var g;const _=I.auth,w=yield I.getIdToken(),D=yield Vr(I,function Ur(I,g){return qi.apply(this,arguments)}(_,{idToken:w}));k(D?.users.length,_,"internal-error");const x=D.users[0];I._notifyReloadListener(x);const q=null!==(g=x.providerUserInfo)&&void 0!==g&&g.length?function Nt(I){return I.map(g=>{var{providerId:_}=g,w=(0,se._T)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(x.providerUserInfo):[],ee=function jc(I,g){return[...I.filter(w=>!g.some(D=>D.providerId===w.providerId)),...g]}(I.providerData,q),et=!!I.isAnonymous&&!(I.email&&x.passwordHash||ee?.length),kt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ee,metadata:new Bt(x.createdAt,x.lastLoginAt),isAnonymous:et};Object.assign(I,kt)}),nn.apply(this,arguments)}function Ht(){return(Ht=(0,o.Z)(function*(I){const g=(0,L.m9)(I);yield rs(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ti(){return(Ti=(0,o.Z)(function*(I,g){const _=yield ot(I,{},(0,o.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:D,apiKey:x}=I.config,q=Dt(I,D,"/v1/token",`key=${x}`),ee=yield I._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",Q.fetch()(q,{method:"POST",headers:ee,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class is{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){k(g.idToken,"internal-error"),k(typeof g.idToken<"u","internal-error"),k(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ot(I){const g=Tt(I);return k(g,"internal-error"),k(typeof g.exp<"u","internal-error"),k(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,o.Z)(function*(){return k(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,o.Z)(function*(){const{accessToken:D,refreshToken:x,expiresIn:q}=yield function ca(I,g){return Ti.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(D,x,Number(q))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:D,expirationTime:x}=_,q=new is;return w&&(k("string"==typeof w,"internal-error",{appName:g}),q.refreshToken=w),D&&(k("string"==typeof D,"internal-error",{appName:g}),q.accessToken=D),x&&(k("number"==typeof x,"internal-error",{appName:g}),q.expirationTime=x),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new is,this.toJSON())}_performRefresh(){return W("not implemented")}}function qe(I,g){k("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class fe{constructor(g){var{uid:_,auth:w,stsTokenManager:D}=g,x=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Bt(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,o.Z)(function*(){const w=yield Vr(_,_.stsTokenManager.getToken(_.auth,g));return k(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function Ks(I){return ts.apply(this,arguments)}(this,g)}reload(){return function gn(I){return Ht.apply(this,arguments)}(this)}_assign(g){this!==g&&(k(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new fe(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,o.Z)(function*(){let D=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),D=!0),_&&(yield rs(w)),yield w.auth._persistUserIfCurrent(w),D&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,o.Z)(function*(){const _=yield g.getIdToken();return yield Vr(g,function Fr(I,g){return Lr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,D,x,q,ee,Pe,Le,et;const kt=null!==(w=_.displayName)&&void 0!==w?w:void 0,tr=null!==(D=_.email)&&void 0!==D?D:void 0,Os=null!==(x=_.phoneNumber)&&void 0!==x?x:void 0,Wi=null!==(q=_.photoURL)&&void 0!==q?q:void 0,yg=null!==(ee=_.tenantId)&&void 0!==ee?ee:void 0,Aa=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,Ol=null!==(Le=_.createdAt)&&void 0!==Le?Le:void 0,Da=null!==(et=_.lastLoginAt)&&void 0!==et?et:void 0,{uid:Gu,emailVerified:Sa,isAnonymous:Ki,providerData:Qi,stsTokenManager:ui}=_;k(Gu&&ui,g,"internal-error");const zu=is.fromJSON(this.name,ui);k("string"==typeof Gu,g,"internal-error"),qe(kt,g.name),qe(tr,g.name),k("boolean"==typeof Sa,g,"internal-error"),k("boolean"==typeof Ki,g,"internal-error"),qe(Os,g.name),qe(Wi,g.name),qe(yg,g.name),qe(Aa,g.name),qe(Ol,g.name),qe(Da,g.name);const Uo=new fe({uid:Gu,auth:g,email:tr,emailVerified:Sa,displayName:kt,isAnonymous:Ki,photoURL:Wi,phoneNumber:Os,tenantId:yg,stsTokenManager:zu,createdAt:Ol,lastLoginAt:Da});return Qi&&Array.isArray(Qi)&&(Uo.providerData=Qi.map(Wu=>Object.assign({},Wu))),Aa&&(Uo._redirectEventId=Aa),Uo}static _fromIdTokenResponse(g,_,w=!1){return(0,o.Z)(function*(){const D=new is;D.updateFromServerResponse(_);const x=new fe({uid:_.localId,auth:g,stsTokenManager:D,isAnonymous:w});return yield rs(x),x})()}}const We=new Map;function ut(I){pe(I instanceof Function,"Expected a class definition");let g=We.get(I);return g?(pe(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,We.set(I,g),g)}const Qt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(_,w){var D=this;return(0,o.Z)(function*(){D.storage[_]=w})()}_get(_){var w=this;return(0,o.Z)(function*(){const D=w.storage[_];return void 0===D?null:D})()}_remove(_){var w=this;return(0,o.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return I.type="NONE",I})();function Xn(I,g,_){return`firebase:${I}:${g}:${_}`}class U{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:D,name:x}=this.auth;this.fullUserKey=Xn(this.userKey,D.apiKey,x),this.fullPersistenceKey=Xn("persistence",D.apiKey,x),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?fe._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,o.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,o.Z)(function*(){if(!_.length)return new U(ut(Qt),g,w);const D=(yield Promise.all(_.map(function(){var Le=(0,o.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return Le.apply(this,arguments)}}()))).filter(Le=>Le);let x=D[0]||ut(Qt);const q=Xn(w,g.config.apiKey,g.name);let ee=null;for(const Le of _)try{const et=yield Le._get(q);if(et){const kt=fe._fromJSON(g,et);Le!==x&&(ee=kt),x=Le;break}}catch{}const Pe=D.filter(Le=>Le._shouldAllowMigration);return x._shouldAllowMigration&&Pe.length?(x=Pe[0],ee&&(yield x._set(q,ee.toJSON())),yield Promise.all(_.map(function(){var Le=(0,o.Z)(function*(et){if(et!==x)try{yield et._remove(q)}catch{}});return function(et){return Le.apply(this,arguments)}}())),new U(x,g,w)):new U(x,g,w)})()}}function F(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Xe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if($(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Yt(g))return"Blackberry";if(On(g))return"Webos";if(le(g))return"Safari";if((g.includes("chrome/")||Y(g))&&!g.includes("edge/"))return"Chrome";if(vt(g))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function $(I=(0,L.z$)()){return/firefox\//i.test(I)}function le(I=(0,L.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Y(I=(0,L.z$)()){return/crios\//i.test(I)}function Xe(I=(0,L.z$)()){return/iemobile/i.test(I)}function vt(I=(0,L.z$)()){return/android/i.test(I)}function Yt(I=(0,L.z$)()){return/blackberry/i.test(I)}function On(I=(0,L.z$)()){return/webos/i.test(I)}function kn(I=(0,L.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Fn(I=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function ss(I=(0,L.z$)()){return kn(I)||vt(I)||On(I)||Yt(I)||/windows phone/i.test(I)||Xe(I)}function fu(I,g=[]){let _;switch(I){case"Browser":_=F((0,L.z$)());break;case"Worker":_=`${F((0,L.z$)())}-${I}`;break;default:_=I}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ie.SDK_VERSION}/${w}`}function Is(){return(Is=(0,o.Z)(function*(I){return(yield de(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Np(I,g){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,o.Z)(function*(I,g){return de(I,"GET","/v2/recaptchaConfig",J(I,g))})).apply(this,arguments)}function Rp(I){return void 0!==I&&void 0!==I.getResponse}function Ci(I){return void 0!==I&&void 0!==I.enterprise}class Ao{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function bi(I){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=g,w.onerror=D=>{const x=ce("internal-error");x.customData=D,_(x)},w.type="text/javascript",w.charset="UTF-8",function ws(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(w)})}function Zt(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Kd{constructor(g){this.type="recaptcha-enterprise",this.auth=mn(g)}verify(g="verify",_=!1){var w=this;return(0,o.Z)(function*(){function x(){return x=(0,o.Z)(function*(ee){if(!_){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Pe=(0,o.Z)(function*(Le,et){Np(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kt=>{if(void 0!==kt.recaptchaKey){const tr=new Ao(kt);return null==ee.tenantId?ee._agentRecaptchaConfig=tr:ee._tenantRecaptchaConfigs[ee.tenantId]=tr,Le(tr.siteKey)}et(new Error("recaptcha Enterprise site key undefined"))}).catch(kt=>{et(kt)})});return function(Le,et){return Pe.apply(this,arguments)}}())}),x.apply(this,arguments)}function q(ee,Pe,Le){const et=window.grecaptcha;Ci(et)?et.enterprise.ready(()=>{et.enterprise.execute(ee,{action:g}).then(kt=>{Pe(kt)}).catch(()=>{Pe("NO_RECAPTCHA")})}):Le(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Pe)=>{(function D(ee){return x.apply(this,arguments)})(w.auth).then(Le=>{if(!_&&Ci(window.grecaptcha))q(Le,ee,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));bi("https://www.google.com/recaptcha/enterprise.js?render="+Le).then(()=>{q(Le,ee,Pe)}).catch(et=>{Pe(et)})}}).catch(Le=>{Pe(Le)})})})()}}function lr(I,g,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,o.Z)(function*(I,g,_,w=!1){const D=new Kd(I);let x;try{x=yield D.verify(_)}catch{x=yield D.verify(_,!0)}const q=Object.assign({},g);return Object.assign(q,w?{captchaResp:x}:{captchaResponse:x}),Object.assign(q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),q})).apply(this,arguments)}class Pp{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=x=>new Promise((q,ee)=>{try{q(g(x))}catch(Pe){ee(Pe)}});w.onAbort=_,this.queue.push(w);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,o.Z)(function*(){if(_.auth.currentUser===g)return;const w=[];try{for(const D of _.queue)yield D(g),D.onAbort&&w.push(D.onAbort)}catch(D){w.reverse();for(const x of w)try{x()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class Ai{constructor(g,_,w,D){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Op(this),this.idTokenSubscription=new Op(this),this.beforeStateQueue=new Pp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=ut(_)),this._initializationPromise=this.queue((0,o.Z)(function*(){var D,x;if(!w._deleted&&(w.persistenceManager=yield U.create(w,g),!w._deleted)){if(null!==(D=w._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(x=w.currentUser)||void 0===x?void 0:x.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,o.Z)(function*(){var w;const D=yield _.assertedPersistence.getCurrentUser();let x=D,q=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ee=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Pe=x?._redirectEventId,Le=yield _.tryRedirectSignIn(g);(!ee||ee===Pe)&&Le?.user&&(x=Le.user,q=!0)}if(!x)return _.directlySetCurrentUser(null);if(!x._redirectEventId){if(q)try{yield _.beforeStateQueue.runMiddleware(x)}catch(ee){x=D,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ee))}return x?_.reloadAndSetCurrentUserOrClear(x):_.directlySetCurrentUser(null)}return k(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===x._redirectEventId?_.directlySetCurrentUser(x):_.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(g){var _=this;return(0,o.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,o.Z)(function*(){try{yield rs(g)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function fn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,o.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,o.Z)(function*(){const w=g?(0,L.m9)(g):null;return w&&k(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,o.Z)(function*(){if(!w._deleted)return g&&k(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,o.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,o.Z)(function*(){yield _.assertedPersistence.setPersistence(ut(g))}))}initializeRecaptchaConfig(){var g=this;return(0,o.Z)(function*(){const _=yield Np(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new Ao(_);null==g.tenantId?g._agentRecaptchaConfig=w:g._tenantRecaptchaConfigs[g.tenantId]=w,w.emailPasswordEnabled&&new Kd(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,o.Z)(function*(){const D=yield w.getOrInitRedirectPersistenceManager(_);return null===g?D.removeCurrentUser():D.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,o.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&ut(g)||_._popupRedirectResolver;k(w,_,"argument-error"),_.redirectPersistenceManager=yield U.create(_,[ut(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,o.Z)(function*(){var w,D;return _._isInitialized&&(yield _.queue((0,o.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,o.Z)(function*(){if(g===_.currentUser)return _.queue((0,o.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,D){if(this._deleted)return()=>{};const x="function"==typeof _?_:_.next.bind(_),q=this._isInitialized?Promise.resolve():this._initializationPromise;return k(q,this,"internal-error"),q.then(()=>x(this.currentUser)),"function"==typeof _?g.addObserver(_,w,D):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,o.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=fu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.Z)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const D=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();D&&(w["X-Firebase-Client"]=D);const x=yield g._getAppCheckToken();return x&&(w["X-Firebase-AppCheck"]=x),w})()}_getAppCheckToken(){var g=this;return(0,o.Z)(function*(){var _;const w=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function Ye(I,...g){Ae.logLevel<=he.in.WARN&&Ae.warn(`Auth (${ie.SDK_VERSION}): ${I}`,...g)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function mn(I){return(0,L.m9)(I)}class Op{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $c(I,g,_){const w=mn(I);k(w._canInitEmulator,w,"emulator-config-failed"),k(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const D=!!_?.disableWarnings,x=_u(g),{host:q,port:ee}=function Qd(I){const g=_u(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(w);if(D){const x=D[1];return{host:x,port:Yd(w.substr(x.length+1))}}{const[x,q]=w.split(":");return{host:x,port:Yd(q)}}}(g);w.config.emulator={url:`${x}//${q}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:ee,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function l_(){function I(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function _u(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Yd(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class yu{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return W("not implemented")}_getIdTokenResponse(g){return W("not implemented")}_linkToIdToken(g,_){return W("not implemented")}_getReauthenticationResolver(g){return W("not implemented")}}function ti(I,g){return kp.apply(this,arguments)}function kp(){return(kp=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:resetPassword",J(I,g))})).apply(this,arguments)}function Fp(I,g){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ni(){return(ni=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",J(I,g))})).apply(this,arguments)}function Jd(I,g){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithPassword",J(I,g))})).apply(this,arguments)}function Gc(I,g){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:sendOobCode",J(I,g))})).apply(this,arguments)}function zc(){return(zc=(0,o.Z)(function*(I,g){return Gc(I,g)})).apply(this,arguments)}function eh(I,g){return th.apply(this,arguments)}function th(){return(th=(0,o.Z)(function*(I,g){return Gc(I,g)})).apply(this,arguments)}function nh(I,g){return vu.apply(this,arguments)}function vu(){return(vu=(0,o.Z)(function*(I,g){return Gc(I,g)})).apply(this,arguments)}function Wc(){return(Wc=(0,o.Z)(function*(I,g){return Gc(I,g)})).apply(this,arguments)}function Qc(){return(Qc=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithEmailLink",J(I,g))})).apply(this,arguments)}function Ln(){return(Ln=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithEmailLink",J(I,g))})).apply(this,arguments)}class Un extends yu{constructor(g,_,w,D=null){super("password",w),this._email=g,this._password=_,this._tenantId=D}static _fromEmailAndPassword(g,_){return new Un(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new Un(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,o.Z)(function*(){var w;switch(_.signInMethod){case"password":const D={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=g._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const x=yield lr(g,D,"signInWithPassword");return Jd(g,x)}return Jd(g,D).catch(function(){var x=(0,o.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield lr(g,D,"signInWithPassword");return Jd(g,ee)}return Promise.reject(q)});return function(q){return x.apply(this,arguments)}}());case"emailLink":return function Kc(I,g){return Qc.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ce(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return Fp(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Lt(I,g){return Ln.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:Ce(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Br(I,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithIdp",J(I,g))})).apply(this,arguments)}class $i extends yu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new $i(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ce("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:D}=_,x=(0,se._T)(_,["providerId","signInMethod"]);if(!w||!D)return null;const q=new $i(w,D);return q.idToken=x.idToken||void 0,q.accessToken=x.accessToken||void 0,q.secret=x.secret,q.nonce=x.nonce,q.pendingToken=x.pendingToken||null,q}_getIdTokenResponse(g){return Br(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Br(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Br(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,L.xO)(_)}return g}}function ih(){return(ih=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:sendVerificationCode",J(I,g))})).apply(this,arguments)}function un(){return(un=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,g))})).apply(this,arguments)}function Ct(){return(Ct=(0,o.Z)(function*(I,g){const _=yield on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,g));if(_.temporaryProof)throw tn(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const en={USER_NOT_FOUND:"user-not-found"};function Do(){return(Do=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),en)})).apply(this,arguments)}class En extends yu{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new En({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new En({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function sh(I,g){return un.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function ze(I,g){return Ct.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Di(I,g){return Do.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:D}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:D}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:x}=g;return w||_||D||x?new En({verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:x}):null}}class Zr{constructor(g){var _,w,D,x,q,ee;const Pe=(0,L.zd)((0,L.pd)(g)),Le=null!==(_=Pe.apiKey)&&void 0!==_?_:null,et=null!==(w=Pe.oobCode)&&void 0!==w?w:null,kt=function la(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Pe.mode)&&void 0!==D?D:null);k(Le&&et&&kt,"argument-error"),this.apiKey=Le,this.operation=kt,this.code=et,this.continueUrl=null!==(x=Pe.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(q=Pe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ee=Pe.tenantId)&&void 0!==ee?ee:null}static parseLink(g){const _=function Sn(I){const g=(0,L.zd)((0,L.pd)(I)).link,_=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(I)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||_||g||I}(g);try{return new Zr(_)}catch{return null}}}let mt=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,w){return Un._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const D=Zr.parseLink(w);return k(D,"argument-error"),Un._fromEmailAndCode(_,D.code,D.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Si{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class So extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class os extends So{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return k("providerId"in _&&"signInMethod"in _,"argument-error"),$i._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return k(g.idToken||g.accessToken,"argument-error"),$i._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return os.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return os.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:x,nonce:q,providerId:ee}=g;if(!w&&!D&&!_&&!x||!ee)return null;try{return new os(ee)._credential({idToken:_,accessToken:w,nonce:q,pendingToken:x})}catch{return null}}}let wn=(()=>{class I extends So{constructor(){super("facebook.com")}static credential(_){return $i._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Xc=(()=>{class I extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return $i._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:D}=_;if(!w&&!D)return null;try{return I.credential(w,D)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),xo=(()=>{class I extends So{constructor(){super("github.com")}static credential(_){return $i._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class xi extends yu{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Br(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Br(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Br(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:D,pendingToken:x}=_;return w&&D&&x&&w===D?new xi(w,x):null}static _create(g,_){return new xi(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hi extends Si{constructor(g){k(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Hi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Hi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=xi.fromJSON(g);return k(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return xi._create(w,_)}catch{return null}}}let Cs=(()=>{class I extends So{constructor(){super("twitter.com")}static credential(_,w){return $i._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:D}=_;if(!w||!D)return null;try{return I.credential(w,D)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Ys(I,g){return as.apply(this,arguments)}function as(){return(as=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signUp",J(I,g))})).apply(this,arguments)}class ht{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,D=!1){return(0,o.Z)(function*(){const x=yield fe._fromIdTokenResponse(g,w,D),q=y1(w);return new ht({user:x,providerId:q,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,o.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const D=y1(w);return new ht({user:g,providerId:D,_tokenResponse:w,operationType:_})})()}}function y1(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function oh(I){return el.apply(this,arguments)}function el(){return(el=(0,o.Z)(function*(I){var g;const _=mn(I);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new ht({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Ys(_,{returnSecureToken:!0}),D=yield ht._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(D.user),D})).apply(this,arguments)}class Mi extends L.ZR{constructor(g,_,w,D){var x;super(_.code,_.message),this.operationType=w,this.user=D,Object.setPrototypeOf(this,Mi.prototype),this.customData={appName:g.name,tenantId:null!==(x=g.tenantId)&&void 0!==x?x:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,D){return new Mi(g,_,w,D)}}function tl(I,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Mi._fromErrorAndOperation(I,x,g,w):x})}function Mo(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Eu(I,g){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,o.Z)(function*(I,g){const _=(0,L.m9)(I);yield Wn(!0,_,g);const{providerUserInfo:w}=yield function wt(I,g){return Tr.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),D=Mo(w||[]);return _.providerData=_.providerData.filter(x=>D.has(x.providerId)),D.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Vn.apply(this,arguments)}function p_(I,g){return br.apply(this,arguments)}function br(){return(br=(0,o.Z)(function*(I,g,_=!1){const w=yield Vr(I,g._linkToIdToken(I.auth,yield I.getIdToken()),_);return ht._forOperation(I,"link",w)})).apply(this,arguments)}function Wn(I,g,_){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,o.Z)(function*(I,g,_){yield rs(g);const D=!1===I?"provider-already-linked":"no-such-provider";k(Mo(g.providerData).has(_)===I,g.auth,D)})).apply(this,arguments)}function Js(I,g){return wu.apply(this,arguments)}function wu(){return(wu=(0,o.Z)(function*(I,g,_=!1){const{auth:w}=I,D="reauthenticate";try{const x=yield Vr(I,tl(w,D,g,I),_);k(x.idToken,w,"internal-error");const q=Tt(x.idToken);k(q,w,"internal-error");const{sub:ee}=q;return k(I.uid===ee,w,"user-mismatch"),ht._forOperation(I,D,x)}catch(x){throw"auth/user-not-found"===x?.code&&Ce(w,"user-mismatch"),x}})).apply(this,arguments)}function Gi(I,g){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,o.Z)(function*(I,g,_=!1){const w="signIn",D=yield tl(I,w,g),x=yield ht._fromIdTokenResponse(I,w,D);return _||(yield I._updateCurrentUser(x.user)),x})).apply(this,arguments)}function nl(I,g){return ah.apply(this,arguments)}function ah(){return(ah=(0,o.Z)(function*(I,g){return Gi(mn(I),g)})).apply(this,arguments)}function v1(I,g){return Up.apply(this,arguments)}function Up(){return(Up=(0,o.Z)(function*(I,g){const _=(0,L.m9)(I);return yield Wn(!1,_,g.providerId),p_(_,g)})).apply(this,arguments)}function _n(I,g){return g_.apply(this,arguments)}function g_(){return(g_=(0,o.Z)(function*(I,g){return Js((0,L.m9)(I),g)})).apply(this,arguments)}function m_(){return(m_=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithCustomToken",J(I,g))})).apply(this,arguments)}function gA(I,g){return __.apply(this,arguments)}function __(){return __=(0,o.Z)(function*(I,g){const _=mn(I),w=yield function pA(I,g){return m_.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),D=yield ht._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(D.user),D}),__.apply(this,arguments)}class uh{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?y_._fromServerResponse(g,_):"totpInfo"in _?Vp._fromServerResponse(g,_):Ce(g,"internal-error")}}class y_ extends uh{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new y_(_)}}class Vp extends uh{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new Vp(_)}}function rl(I,g,_){var w;k((null===(w=_.url)||void 0===w?void 0:w.length)>0,I,"invalid-continue-uri"),k(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(k(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(k(_.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function mA(I,g,_){return v_.apply(this,arguments)}function v_(){return v_=(0,o.Z)(function*(I,g,_){var w;const D=mn(I),x={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const q=yield lr(D,x,"getOobCode",!0);_&&rl(D,q,_),yield eh(D,q)}else _&&rl(D,x,_),yield eh(D,x).catch(function(){var q=(0,o.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield lr(D,x,"getOobCode",!0);_&&rl(D,Pe,_),yield eh(D,Pe)}});return function(ee){return q.apply(this,arguments)}}())}),v_.apply(this,arguments)}function E_(I,g,_){return il.apply(this,arguments)}function il(){return(il=(0,o.Z)(function*(I,g,_){yield ti((0,L.m9)(I),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Bp(I,g){return sl.apply(this,arguments)}function sl(){return sl=(0,o.Z)(function*(I,g){yield function _1(I,g){return ni.apply(this,arguments)}((0,L.m9)(I),{oobCode:g})}),sl.apply(this,arguments)}function Cu(I,g){return I_.apply(this,arguments)}function I_(){return(I_=(0,o.Z)(function*(I,g){const _=(0,L.m9)(I),w=yield ti(_,{oobCode:g}),D=w.requestType;switch(k(D,_,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(w.mfaInfo,_,"internal-error");default:k(w.email,_,"internal-error")}let x=null;return w.mfaInfo&&(x=uh._fromServerResponse(mn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:x},operation:D}})).apply(this,arguments)}function da(I,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,o.Z)(function*(I,g){const{data:_}=yield Cu((0,L.m9)(I),g);return _.email})).apply(this,arguments)}function w_(I,g,_){return T_.apply(this,arguments)}function T_(){return T_=(0,o.Z)(function*(I,g,_){var w;const D=mn(I),x={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let q;if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Le=yield lr(D,x,"signUpPassword");q=Ys(D,Le)}else q=Ys(D,x).catch(function(){var Le=(0,o.Z)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kt=yield lr(D,x,"signUpPassword");return Ys(D,kt)}return Promise.reject(et)});return function(et){return Le.apply(this,arguments)}}());const ee=yield q.catch(Le=>Promise.reject(Le)),Pe=yield ht._fromIdTokenResponse(D,"signIn",ee);return yield D._updateCurrentUser(Pe.user),Pe}),T_.apply(this,arguments)}function hr(I,g,_){return nl((0,L.m9)(I),mt.credential(g,_))}function ol(I,g,_){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,o.Z)(function*(I,g,_){var w;const D=mn(I),x={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function q(ee,Pe){k(Pe.handleCodeInApp,D,"argument-error"),Pe&&rl(D,ee,Pe)}if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield lr(D,x,"getOobCode",!0);q(ee,_),yield nh(D,ee)}else q(x,_),yield nh(D,x).catch(function(){var ee=(0,o.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Le=yield lr(D,x,"getOobCode",!0);q(Le,_),yield nh(D,Le)}});return function(Pe){return ee.apply(this,arguments)}}())}),Ar.apply(this,arguments)}function C_(I,g){const _=Zr.parseLink(g);return"EMAIL_SIGNIN"===_?.operation}function b_(I,g,_){return ch.apply(this,arguments)}function ch(){return(ch=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I),D=mt.credentialWithLink(g,_||Mt());return k(D._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),nl(w,D)})).apply(this,arguments)}function al(){return(al=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:createAuthUri",J(I,g))})).apply(this,arguments)}function D_(I,g){return ul.apply(this,arguments)}function ul(){return ul=(0,o.Z)(function*(I,g){const w={identifier:g,continueUri:cn()?Mt():"http://localhost"},{signinMethods:D}=yield function A_(I,g){return al.apply(this,arguments)}((0,L.m9)(I),w);return D||[]}),ul.apply(this,arguments)}function Zp(I,g){return cl.apply(this,arguments)}function cl(){return cl=(0,o.Z)(function*(I,g){const _=(0,L.m9)(I),D={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&rl(_.auth,D,g);const{email:x}=yield function d_(I,g){return zc.apply(this,arguments)}(_.auth,D);x!==I.email&&(yield I.reload())}),cl.apply(this,arguments)}function S_(I,g,_){return ll.apply(this,arguments)}function ll(){return ll=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};_&&rl(w.auth,x,_);const{email:q}=yield function h_(I,g){return Wc.apply(this,arguments)}(w.auth,x);q!==I.email&&(yield I.reload())}),ll.apply(this,arguments)}function ha(){return(ha=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bu(I,g){return lh.apply(this,arguments)}function lh(){return lh=(0,o.Z)(function*(I,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,L.m9)(I),x={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},q=yield Vr(w,function dl(I,g){return ha.apply(this,arguments)}(w.auth,x));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const ee=w.providerData.find(({providerId:Pe})=>"password"===Pe);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)}),lh.apply(this,arguments)}function _A(I,g){return E1((0,L.m9)(I),g,null)}function yA(I,g){return E1((0,L.m9)(I),null,g)}function E1(I,g,_){return jp.apply(this,arguments)}function jp(){return(jp=(0,o.Z)(function*(I,g,_){const{auth:w}=I,x={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(x.email=g),_&&(x.password=_);const q=yield Vr(I,Fp(w,x));yield I._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class hl{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class qp extends hl{constructor(g,_,w,D){super(g,_,w),this.username=D}}class fa extends hl{constructor(g,_){super(g,"facebook.com",_)}}class w1 extends qp{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class dh extends hl{constructor(g,_){super(g,"google.com",_)}}class $p extends qp{constructor(g,_,w){super(g,"twitter.com",_,w)}}function fl(I){const{user:g,_tokenResponse:_}=I;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function I1(I){var g,_;if(!I)return null;const{providerId:w}=I,D=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},x=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!w&&I?.idToken){const q=null===(_=null===(g=Tt(I.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(q)return new hl(x,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new fa(x,D);case"github.com":return new w1(x,D);case"google.com":return new dh(x,D);case"twitter.com":return new $p(x,D,I.screenName||null);case"custom":case"anonymous":return new hl(x,null);default:return new hl(x,w,D)}}(_)}class Xs{constructor(g,_,w){this.type=g,this.credential=_,this.auth=w}static _fromIdtoken(g,_){return new Xs("enroll",g,_)}static _fromMfaPendingCredential(g){return new Xs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Xs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return Xs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Au{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=mn(g),D=_.customData._serverResponse,x=(D.mfaInfo||[]).map(ee=>uh._fromServerResponse(w,ee));k(D.mfaPendingCredential,w,"internal-error");const q=Xs._fromMfaPendingCredential(D.mfaPendingCredential);return new Au(q,x,function(){var ee=(0,o.Z)(function*(Pe){const Le=yield Pe._process(w,q);delete D.mfaInfo,delete D.mfaPendingCredential;const et=Object.assign(Object.assign({},D),{idToken:Le.idToken,refreshToken:Le.refreshToken});switch(_.operationType){case"signIn":const kt=yield ht._fromIdTokenResponse(w,_.operationType,et);return yield w._updateCurrentUser(kt.user),kt;case"reauthenticate":return k(_.user,w,"internal-error"),ht._forOperation(_.user,_.operationType,et);default:Ce(w,"internal-error")}});return function(Pe){return ee.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,o.Z)(function*(){return _.signInResolver(g)})()}}function ml(I,g){var _;const w=(0,L.m9)(I),D=g;return k(g.customData.operationType,w,"argument-error"),k(null===(_=D.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Au._fromError(w,D)}class fh{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>uh._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new fh(g)}getSession(){var g=this;return(0,o.Z)(function*(){return Xs._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var w=this;return(0,o.Z)(function*(){const D=g,x=yield w.getSession(),q=yield Vr(w.user,D._process(w.user.auth,x,_));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(g){var _=this;return(0,o.Z)(function*(){const w="string"==typeof g?g:g.uid,D=yield _.user.getIdToken();try{const x=yield Vr(_.user,function Kp(I,g){return de(I,"POST","/v2/accounts/mfaEnrollment:withdraw",J(I,g))}(_.user.auth,{idToken:D,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:q})=>q!==w),yield _.user._updateTokensIfNecessary(x),yield _.user.reload()}catch(x){throw x}})()}}const pa=new WeakMap;function ph(I){const g=(0,L.m9)(I);return pa.has(g)||pa.set(g,fh._fromUser(g)),pa.get(g)}const Dr="__sak";class gh{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Dr,"1"),this.storage.removeItem(Dr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const fr=(()=>{class I extends gh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function P_(){const I=(0,L.z$)();return le(I)||kn(I)}()&&function Jt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ss(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const D=this.storage.getItem(w),x=this.localCache[w];D!==x&&_(w,x,D)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ee,Pe,Le)=>{this.notifyListeners(ee,Le)});const D=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(D);if(_.newValue!==ee)null!==_.newValue?this.storage.setItem(D,_.newValue):this.storage.removeItem(D);else if(this.localCache[D]===_.newValue&&!w)return}const x=()=>{const ee=this.storage.getItem(D);!w&&this.localCache[D]===ee||this.notifyListeners(D,ee)},q=this.storage.getItem(D);!function an(){return(0,L.w1)()&&10===document.documentMode}()||q===_.newValue||_.newValue===_.oldValue?x():setTimeout(x,10)}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const x of Array.from(D))x(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var D=()=>super._set,x=this;return(0,o.Z)(function*(){yield D().call(x,_,w),x.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,D=this;return(0,o.Z)(function*(){const x=yield w().call(D,_);return D.localCache[_]=JSON.stringify(x),x})()}_remove(_){var w=()=>super._remove,D=this;return(0,o.Z)(function*(){yield w().call(D,_),delete D.localCache[_]})()}}return I.type="LOCAL",I})(),Su=(()=>{class I extends gh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return I.type="SESSION",I})();let ri=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(x=>x.isListeningto(_));if(w)return w;const D=new I(_);return this.receivers.push(D),D}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,o.Z)(function*(){const D=_,{eventId:x,eventType:q,data:ee}=D.data,Pe=w.handlersMap[q];if(!Pe?.size)return;D.ports[0].postMessage({status:"ack",eventId:x,eventType:q});const Le=Array.from(Pe).map(function(){var kt=(0,o.Z)(function*(tr){return tr(D.origin,ee)});return function(tr){return kt.apply(this,arguments)}}()),et=yield function ga(I){return Promise.all(I.map(function(){var g=(0,o.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(Le);D.ports[0].postMessage({status:"done",eventId:x,eventType:q,response:et})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function xu(I="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return I+_}class D1{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var D=this;return(0,o.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let q,ee;return new Promise((Pe,Le)=>{const et=xu("",20);x.port1.start();const kt=setTimeout(()=>{Le(new Error("unsupported_event"))},w);ee={messageChannel:x,onMessage(tr){const Os=tr;if(Os.data.eventId===et)switch(Os.data.status){case"ack":clearTimeout(kt),q=setTimeout(()=>{Le(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Pe(Os.data.response);break;default:clearTimeout(kt),clearTimeout(q),Le(new Error("invalid_response"))}}},D.handlers.add(ee),x.port1.addEventListener("message",ee.onMessage),D.target.postMessage({eventType:g,eventId:et,data:_},[x.port2])}).finally(()=>{ee&&D.removeMessageHandler(ee)})})()}}function Bn(){return window}function _h(){return typeof Bn().WorkerGlobalScope<"u"&&"function"==typeof Bn().importScripts}function _l(){return(_l=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Yp="firebaseLocalStorageDb",ma="firebaseLocalStorage",Jp="fbase_key";class _a{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function vh(I,g){return I.transaction([ma],g?"readwrite":"readonly").objectStore(ma)}function Eh(){const I=indexedDB.open(Yp,1);return new Promise((g,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(ma,{keyPath:Jp})}catch(D){_(D)}}),I.addEventListener("success",(0,o.Z)(function*(){const w=I.result;w.objectStoreNames.contains(ma)?g(w):(w.close(),yield function k_(){const I=indexedDB.deleteDatabase(Yp);return new _a(I).toPromise()}(),g(yield Eh()))}))})}function No(I,g,_){return yl.apply(this,arguments)}function yl(){return(yl=(0,o.Z)(function*(I,g,_){const w=vh(I,!0).put({[Jp]:g,value:_});return new _a(w).toPromise()})).apply(this,arguments)}function us(){return(us=(0,o.Z)(function*(I,g){const _=vh(I,!1).get(g),w=yield new _a(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function eg(I,g){const _=vh(I,!0).delete(g);return new _a(_).toPromise()}const tg=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,o.Z)(function*(){return _.db||(_.db=yield Eh()),_.db})()}_withRetries(_){var w=this;return(0,o.Z)(function*(){let D=0;for(;;)try{const x=yield w._openDb();return yield _(x)}catch(x){if(D++>3)throw x;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,o.Z)(function*(){return _h()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,o.Z)(function*(){_.receiver=ri._getInstance(function yh(){return _h()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,o.Z)(function*(D,x){return{keyProcessed:(yield _._poll()).includes(x.key)}});return function(D,x){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,o.Z)(function*(D,x){return["keyChanged"]});return function(D,x){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,o.Z)(function*(){var w,D;if(_.activeServiceWorker=yield function O_(){return _l.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new D1(_.activeServiceWorker);const x=yield _.sender._send("ping",{},800);x&&null!==(w=x[0])&&void 0!==w&&w.fulfilled&&null!==(D=x[0])&&void 0!==D&&D.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,o.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Qp(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Eh();return yield No(_,Dr,"1"),yield eg(_,Dr),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,o.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var D=this;return(0,o.Z)(function*(){return D._withPendingWrite((0,o.Z)(function*(){return yield D._withRetries(x=>No(x,_,w)),D.localCache[_]=w,D.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,o.Z)(function*(){const D=yield w._withRetries(x=>function Xp(I,g){return us.apply(this,arguments)}(x,_));return w.localCache[_]=D,D})()}_remove(_){var w=this;return(0,o.Z)(function*(){return w._withPendingWrite((0,o.Z)(function*(){return yield w._withRetries(D=>eg(D,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,o.Z)(function*(){const w=yield _._withRetries(q=>{const ee=vh(q,!1).getAll();return new _a(ee).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const D=[],x=new Set;for(const{fbase_key:q,value:ee}of w)x.add(q),JSON.stringify(_.localCache[q])!==JSON.stringify(ee)&&(_.notifyListeners(q,ee),D.push(q));for(const q of Object.keys(_.localCache))_.localCache[q]&&!x.has(q)&&(_.notifyListeners(q,null),D.push(q));return D})()}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const x of Array.from(D))x(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Mu=1e12;class rg{constructor(g){this.auth=g,this.counter=Mu,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new S1(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||Mu;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Mu))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,o.Z)(function*(){var w;return null===(w=_._widgets.get(g||Mu))||void 0===w||w.execute(),""})()}}class S1{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof g?document.getElementById(g):g;k(D,"argument-error",{appName:_}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function vA(I){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<I;w++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nu=Zt("rcb"),Sr=new pn(3e4,6e4);class Ih{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Bn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return k(function Ru(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&Rp(Bn().grecaptcha)?Promise.resolve(Bn().grecaptcha):new Promise((w,D)=>{const x=Bn().setTimeout(()=>{D(ce(g,"network-request-failed"))},Sr.get());Bn()[Nu]=()=>{Bn().clearTimeout(x),delete Bn()[Nu];const ee=Bn().grecaptcha;if(!ee||!Rp(ee))return void D(ce(g,"internal-error"));const Pe=ee.render;ee.render=(Le,et)=>{const kt=Pe(Le,et);return this.counter++,kt},this.hostLanguage=_,w(ee)},bi(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Nu,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(x),D(ce(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Bn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class eo{load(g){return(0,o.Z)(function*(){return new rg(g)})()}clearedOneInstance(){}}const U_="recaptcha",V_={theme:"light",type:"image"};class x1{constructor(g,_=Object.assign({},V_),w){this.parameters=_,this.type=U_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(w),this.isInvisible="invisible"===this.parameters.size,k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof g?document.getElementById(g):g;k(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new eo:new Ih,this.validateStartingState()}verify(){var g=this;return(0,o.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(x=>{const q=ee=>{ee&&(g.tokenChangeListeners.delete(q),x(ee))};g.tokenChangeListeners.add(q),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=Bn()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.Z)(function*(){k(cn()&&!_h(),g.auth,"internal-error"),yield function M1(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function zd(I){return Is.apply(this,arguments)}(g.auth);k(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class El{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=En._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Kn(I,g,_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,o.Z)(function*(I,g,_){const w=mn(I),D=yield Pu(w,g,(0,L.m9)(_));return new El(D,x=>nl(w,x))})).apply(this,arguments)}function wh(I,g,_){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I);yield Wn(!1,w,"phone");const D=yield Pu(w.auth,g,(0,L.m9)(_));return new El(D,x=>v1(w,x))})).apply(this,arguments)}function at(I,g,_){return er.apply(this,arguments)}function er(){return(er=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I),D=yield Pu(w.auth,g,(0,L.m9)(_));return new El(D,x=>_n(w,x))})).apply(this,arguments)}function Pu(I,g,_){return Il.apply(this,arguments)}function Il(){return Il=(0,o.Z)(function*(I,g,_){var w;const D=yield _.verify();try{let x;if(k("string"==typeof D,I,"argument-error"),k(_.type===U_,I,"argument-error"),x="string"==typeof g?{phoneNumber:g}:g,"session"in x){const q=x.session;if("phoneNumber"in x)return k("enroll"===q.type,I,"internal-error"),(yield function zp(I,g){return de(I,"POST","/v2/accounts/mfaEnrollment:start",J(I,g))}(I,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{k("signin"===q.type,I,"internal-error");const ee=(null===(w=x.multiFactorHint)||void 0===w?void 0:w.uid)||x.multiFactorUid;return k(ee,I,"missing-multi-factor-info"),(yield function L_(I,g){return de(I,"POST","/v2/accounts/mfaSignIn:start",J(I,g))}(I,{mfaPendingCredential:q.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield function Yc(I,g){return ih.apply(this,arguments)}(I,{phoneNumber:x.phoneNumber,recaptchaToken:D});return q}}finally{_._reset()}}),Il.apply(this,arguments)}function ig(I,g){return wl.apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(I,g){yield p_((0,L.m9)(I),g)})).apply(this,arguments)}let Tl=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=mn(_)}verifyPhoneNumber(_,w){return Pu(this.auth,_,(0,L.m9)(w))}static credential(_,w){return En._fromVerification(_,w)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:D}=_;return w&&D?En._fromTokenResponse(w,D):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ro(I,g){return g?ut(g):(k(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Po extends yu{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Br(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Br(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Br(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function gt(I){return Gi(I.auth,new Po(I),I.bypassAuthState)}function Oo(I){const{auth:g,user:_}=I;return k(_,g,"internal-error"),Js(_,new Po(I),I.bypassAuthState)}function yn(I){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,o.Z)(function*(I){const{auth:g,user:_}=I;return k(_,g,"internal-error"),p_(_,new Po(I),I.bypassAuthState)})).apply(this,arguments)}class ya{constructor(g,_,w,D,x=!1){this.auth=g,this.resolver=w,this.user=D,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,o.Z)(function*(w,D){g.pendingPromise={resolve:w,reject:D};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(x){g.reject(x)}});return function(w,D){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,o.Z)(function*(){const{urlResponse:w,sessionId:D,postBody:x,tenantId:q,error:ee,type:Pe}=g;if(ee)return void _.reject(ee);const Le={auth:_.auth,requestUri:w,sessionId:D,tenantId:q||void 0,postBody:x||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(Le))}catch(et){_.reject(et)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return gt;case"linkViaPopup":case"linkViaRedirect":return yn;case"reauthViaPopup":case"reauthViaRedirect":return Oo;default:Ce(this.auth,"internal-error")}}resolve(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sg=new pn(2e3,1e4);function ii(I,g,_){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,o.Z)(function*(I,g,_){const w=mn(I);Me(I,g,Si);const D=Ro(w,_);return new xs(w,"signInViaPopup",g,D).executeNotNull()})).apply(this,arguments)}function bl(I,g,_){return va.apply(this,arguments)}function va(){return(va=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Si);const D=Ro(w.auth,_);return new xs(w.auth,"reauthViaPopup",g,D,w).executeNotNull()})).apply(this,arguments)}function Ss(I,g,_){return Th.apply(this,arguments)}function Th(){return(Th=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Si);const D=Ro(w.auth,_);return new xs(w.auth,"linkViaPopup",g,D,w).executeNotNull()})).apply(this,arguments)}let xs=(()=>{class I extends ya{constructor(_,w,D,x,q){super(_,w,x,q),this.provider=D,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,o.Z)(function*(){const w=yield _.execute();return k(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,o.Z)(function*(){pe(1===_.filter.length,"Popup operations only handle one event");const w=xu();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(D=>{_.reject(D)}),_.resolver._isIframeWebStorageSupported(_.auth,D=>{D||_.reject(ce(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,D;this.pollId=null!==(D=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,sg.get())};_()}}return I.currentPopupAction=null,I})();const to="pendingRedirect",no=new Map;class ku extends ya{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,o.Z)(function*(){let w=no.get(_.auth._key());if(!w){try{const x=(yield function Fu(I,g){return Lu.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(x)}catch(D){w=()=>Promise.reject(D)}no.set(_.auth._key(),w)}return _.bypassAuthState||no.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,o.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const D=yield w.auth._redirectUserForId(g.eventId);if(D)return w.user=D,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Lu(){return(Lu=(0,o.Z)(function*(I,g){const _=Ea(g),w=si(I);if(!(yield w._isAvailable()))return!1;const D="true"===(yield w._get(_));return yield w._remove(_),D})).apply(this,arguments)}function Ch(I,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,o.Z)(function*(I,g){return si(I)._set(Ea(g),"true")})).apply(this,arguments)}function Ri(){no.clear()}function Uu(I,g){no.set(I._key(),g)}function si(I){return ut(I._redirectPersistence)}function Ea(I){return Xn(to,I.config.apiKey,I.name)}function B_(I,g,_){return function ls(I,g,_){return xn.apply(this,arguments)}(I,g,_)}function xn(){return(xn=(0,o.Z)(function*(I,g,_){const w=mn(I);Me(I,g,Si),yield w._initializationPromise;const D=Ro(w,_);return yield Ch(D,w),D._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Vu(I,g,_){return function N1(I,g,_){return jr.apply(this,arguments)}(I,g,_)}function jr(){return(jr=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Si),yield w.auth._initializationPromise;const D=Ro(w.auth,_);yield Ch(D,w.auth);const x=yield Ms(w);return D._openRedirect(w.auth,g,"reauthViaRedirect",x)})).apply(this,arguments)}function Zn(I,g,_){return function Al(I,g,_){return ro.apply(this,arguments)}(I,g,_)}function ro(){return(ro=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Si),yield w.auth._initializationPromise;const D=Ro(w.auth,_);yield Wn(!1,w,g.providerId),yield Ch(D,w.auth);const x=yield Ms(w);return D._openRedirect(w.auth,g,"linkViaRedirect",x)})).apply(this,arguments)}function bh(I,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,o.Z)(function*(I,g){return yield mn(I)._initializationPromise,ko(I,g,!1)})).apply(this,arguments)}function ko(I,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,o.Z)(function*(I,g,_=!1){const w=mn(I),D=Ro(w,g),q=yield new ku(w,D,_).execute();return q&&!_&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,g)),q})).apply(this,arguments)}function Ms(I){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,o.Z)(function*(I){const g=xu(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Dl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ia(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sl(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!Sl(g)){const D=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(ce(this.auth,D))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bu(g))}saveEventToCache(g){this.cachedEventUids.add(Bu(g)),this.lastProcessedEventTime=Date.now()}}function Bu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function Sl({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function Zu(I){return ju.apply(this,arguments)}function ju(){return(ju=(0,o.Z)(function*(I,g={}){return de(I,"GET","/v1/projects",g)})).apply(this,arguments)}const St=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wa=/^https?/;function Ns(){return(Ns=(0,o.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield Zu(I);for(const _ of g)try{if(ag(_))return}catch{}Ce(I,"unauthorized-domain")})).apply(this,arguments)}function ag(I){const g=Mt(),{protocol:_,hostname:w}=new URL(g);if(I.startsWith("chrome-extension://")){const q=new URL(I);return""===q.hostname&&""===w?"chrome-extension:"===_&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&q.hostname===w}if(!wa.test(_))return!1;if(St.test(I))return w===I;const D=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(w)}const Z_=new pn(3e4,6e4);function qr(){const I=Bn().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let qu=null;const ug=new pn(5e3,15e3),Ta="__/auth/iframe",cg="emulator/auth/iframe",xr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dg(I){const g=I.config;k(g.authDomain,I,"auth-domain-config-required");const _=g.emulator?Xr(g,cg):`https://${I.config.authDomain}/${Ta}`,w={apiKey:g.apiKey,appName:I.name,v:ie.SDK_VERSION},D=lg.get(I.config.apiHost);D&&(w.eid=D);const x=I._getFrameworks();return x.length&&(w.fw=x.join(",")),`${_}?${(0,L.xO)(w).slice(1)}`}function Ml(){return Ml=(0,o.Z)(function*(I){const g=yield function Rs(I){return qu=qu||function io(I){return new Promise((g,_)=>{var w,D,x;function q(){qr(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{qr(),_(ce(I,"network-request-failed"))},timeout:Z_.get()})}if(null!==(D=null===(w=Bn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==D&&D.Iframe)g(gapi.iframes.getContext());else{if(null===(x=Bn().gapi)||void 0===x||!x.load){const ee=Zt("iframefcb");return Bn()[ee]=()=>{gapi.load?q():_(ce(I,"network-request-failed"))},bi(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Pe=>_(Pe))}q()}}).catch(g=>{throw qu=null,g})}(I),qu}(I),_=Bn().gapi;return k(_,I,"internal-error"),g.open({where:document.body,url:dg(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xr,dontclear:!0},w=>new Promise(function(){var D=(0,o.Z)(function*(x,q){yield w.restyle({setHideOnLeave:!1});const ee=ce(I,"network-request-failed"),Pe=Bn().setTimeout(()=>{q(ee)},ug.get());function Le(){Bn().clearTimeout(Pe),x(w)}w.ping(Le).then(Le,()=>{q(ee)})});return function(x,q){return D.apply(this,arguments)}}()))}),Ml.apply(this,arguments)}const $u={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ps{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hg="__/auth/handler",j_="emulator/auth/handler",Sh=encodeURIComponent("fac");function ba(I,g,_,w,D,x){return xh.apply(this,arguments)}function xh(){return(xh=(0,o.Z)(function*(I,g,_,w,D,x){k(I.config.authDomain,I,"auth-domain-config-required"),k(I.config.apiKey,I,"invalid-api-key");const q={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:w,v:ie.SDK_VERSION,eventId:D};if(g instanceof Si){g.setDefaultLanguage(I.languageCode),q.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||(q.customParameters=JSON.stringify(g.getCustomParameters()));for(const[et,kt]of Object.entries(x||{}))q[et]=kt}if(g instanceof So){const et=g.getScopes().filter(kt=>""!==kt);et.length>0&&(q.scopes=et.join(","))}I.tenantId&&(q.tid=I.tenantId);const ee=q;for(const et of Object.keys(ee))void 0===ee[et]&&delete ee[et];const Pe=yield I._getAppCheckToken(),Le=Pe?`#${Sh}=${encodeURIComponent(Pe)}`:"";return`${function Mh({config:I}){return I.emulator?Xr(I,j_):`https://${I.authDomain}/${hg}`}(I)}?${(0,L.xO)(ee).slice(1)}${Le}`})).apply(this,arguments)}const fg="webStorageSupport",ps=class pg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Su,this._completeRedirectFn=ko,this._overrideRedirectResult=Uu}_openPopup(g,_,w,D){var x=this;return(0,o.Z)(function*(){var q;pe(null===(q=x.eventManagers[g._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ee=yield ba(g,_,w,Mt(),D);return function Dh(I,g,_,w=500,D=600){const x=Math.max((window.screen.availHeight-D)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Pe=Object.assign(Object.assign({},$u),{width:w.toString(),height:D.toString(),top:x,left:q}),Le=(0,L.z$)().toLowerCase();_&&(ee=Y(Le)?"_blank":_),$(Le)&&(g=g||"http://localhost",Pe.scrollbars="yes");const et=Object.entries(Pe).reduce((tr,[Os,Wi])=>`${tr}${Os}=${Wi},`,"");if(function qt(I=(0,L.z$)()){var g;return kn(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Le)&&"_self"!==ee)return function fs(I,g){const _=document.createElement("a");_.href=I,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",ee),new Ps(null);const kt=window.open(g||"",ee,et);k(kt,I,"popup-blocked");try{kt.focus()}catch{}return new Ps(kt)}(g,ee,xu())})()}_openRedirect(g,_,w,D){var x=this;return(0,o.Z)(function*(){return yield x._originValidation(g),function bs(I){Bn().location.href=I}(yield ba(g,_,w,Mt(),D)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:D,promise:x}=this.eventManagers[_];return D?Promise.resolve(D):(pe(x,"If manager is not set, promise should be"),x)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,o.Z)(function*(){const w=yield function xl(I){return Ml.apply(this,arguments)}(g),D=new Dl(g);return w.register("authEvent",x=>(k(x?.authEvent,g,"invalid-auth-event"),{status:D.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:D},_.iframes[g._key()]=w,D})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(fg,{type:fg},D=>{var x;const q=null===(x=D?.[0])||void 0===x?void 0:x[fg];void 0!==q&&_(!!q),Ce(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function og(I){return Ns.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return ss()||le()||kn()}};class gg{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return W("unexpected MultiFactorSessionType")}}}class Nl extends gg{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Nl(g)}_finalizeEnroll(g,_,w){return function R_(I,g){return de(I,"POST","/v2/accounts/mfaEnrollment:finalize",J(I,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function pr(I,g){return de(I,"POST","/v2/accounts/mfaSignIn:finalize",J(I,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jn=(()=>{class I{constructor(){}static assertion(_){return Nl._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var Lo="@firebase/auth";class Pl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,o.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.Pz)("authIdTokenMaxAge"),function q_(I){(0,ie._registerComponent)(new ye.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),D=g.getProvider("heartbeat"),x=g.getProvider("app-check-internal"),{apiKey:q,authDomain:ee}=w.options;k(q&&!q.includes(":"),"invalid-api-key",{appName:w.name});const Pe={apiKey:q,authDomain:ee,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fu(I)},Le=new Ai(w,D,x,Pe);return function mu(I,g){const _=g?.persistence||[],w=(Array.isArray(_)?_:[_]).map(ut);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(w,g?.popupRedirectResolver)}(Le,_),Le},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ye.wA("auth-internal",g=>{const _=mn(g.getProvider("auth").getImmediate());return new Pl(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Lo,"0.23.2",function Hu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ie.registerVersion)(Lo,"0.23.2","esm2017")}("Browser")},9058:(it,Ee,P)=>{P.d(Ee,{$s:()=>ut,BH:()=>ve,L:()=>Se,LL:()=>Ne,P0:()=>we,Pz:()=>ce,Sg:()=>Me,UG:()=>W,US:()=>ye,ZB:()=>re,ZR:()=>de,aH:()=>Ce,b$:()=>cn,eu:()=>te,hl:()=>Q,jU:()=>pe,m9:()=>Xn,ne:()=>Vr,pd:()=>Tt,q4:()=>Ye,r3:()=>wt,ru:()=>Mt,tV:()=>B,uI:()=>k,vZ:()=>ei,w1:()=>ln,xO:()=>ts,xb:()=>Ur,z$:()=>K,zI:()=>oe,zd:()=>zn});const se=function(U){const F=[];let $=0;for(let le=0;le<U.length;le++){let Y=U.charCodeAt(le);Y<128?F[$++]=Y:Y<2048?(F[$++]=Y>>6|192,F[$++]=63&Y|128):55296==(64512&Y)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(Y=65536+((1023&Y)<<10)+(1023&U.charCodeAt(++le)),F[$++]=Y>>18|240,F[$++]=Y>>12&63|128,F[$++]=Y>>6&63|128,F[$++]=63&Y|128):(F[$++]=Y>>12|224,F[$++]=Y>>6&63|128,F[$++]=63&Y|128)}return F},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Y=0;Y<U.length;Y+=3){const Xe=U[Y],vt=Y+1<U.length,Yt=vt?U[Y+1]:0,On=Y+2<U.length,kn=On?U[Y+2]:0;let an=(15&Yt)<<2|kn>>6,ss=63&kn;On||(ss=64,vt||(an=64)),le.push($[Xe>>2],$[(3&Xe)<<4|Yt>>4],$[an],$[ss])}return le.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(se(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let $=0,le=0;for(;$<U.length;){const Y=U[$++];if(Y<128)F[le++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Xe=U[$++];F[le++]=String.fromCharCode((31&Y)<<6|63&Xe)}else if(Y>239&&Y<365){const On=((7&Y)<<18|(63&U[$++])<<12|(63&U[$++])<<6|63&U[$++])-65536;F[le++]=String.fromCharCode(55296+(On>>10)),F[le++]=String.fromCharCode(56320+(1023&On))}else{const Xe=U[$++],vt=U[$++];F[le++]=String.fromCharCode((15&Y)<<12|(63&Xe)<<6|63&vt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Y=0;Y<U.length;){const Xe=$[U.charAt(Y++)],Yt=Y<U.length?$[U.charAt(Y)]:0;++Y;const kn=Y<U.length?$[U.charAt(Y)]:64;++Y;const qt=Y<U.length?$[U.charAt(Y)]:64;if(++Y,null==Xe||null==Yt||null==kn||null==qt)throw new Re;le.push(Xe<<2|Yt>>4),64!==kn&&(le.push(Yt<<4&240|kn>>2),64!==qt&&le.push(kn<<6&192|qt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(U){return function(U){const F=se(U);return ye.encodeByteArray(F,!0)}(U).replace(/\./g,"")},B=function(U){try{return ye.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function re(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const $ in F)!F.hasOwnProperty($)||!Oe($)||(U[$]=re(U[$],F[$]));return U}function Oe(U){return"__proto__"!==U}const Ae=()=>{try{return function ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&B(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Ye=U=>{var F,$;return null===($=null===(F=Ae())||void 0===F?void 0:F.emulatorHosts)||void 0===$?void 0:$[U]},we=U=>{const F=Ye(U);if(!F)return;const $=F.lastIndexOf(":");if($<=0||$+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const le=parseInt(F.substring($+1),10);return"["===F[0]?[F.substring(1,$-1),le]:[F.substring(0,$),le]},Ce=()=>{var U;return null===(U=Ae())||void 0===U?void 0:U.config},ce=U=>{var F;return null===(F=Ae())||void 0===F?void 0:F[`_${U}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,le))}}}function Me(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=F||"demo-project",Y=U.iat||0,Xe=U.sub||U.user_id;if(!Xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Y,exp:Y+3600,auth_time:Y,sub:Xe,user_id:Xe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(vt)),""].join(".")}function K(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function W(){var U;const F=null===(U=Ae())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Mt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ln(){const U=K();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((U,F)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(le);Y.onsuccess=()=>{Y.result.close(),$||self.indexedDB.deleteDatabase(le),U(!0)},Y.onupgradeneeded=()=>{$=!1},Y.onerror=()=>{var Xe;F((null===(Xe=Y.error)||void 0===Xe?void 0:Xe.message)||"")}}catch($){F($)}})}function oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class de extends Error{constructor(F,$,le){super($),this.code=F,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(F,$,le){this.service=F,this.serviceName=$,this.errors=le}create(F,...$){const le=$[0]||{},Y=`${this.service}/${F}`,Xe=this.errors[F],vt=Xe?function ot(U,F){return U.replace(Ft,($,le)=>{const Y=F[le];return null!=Y?String(Y):`<${le}?>`})}(Xe,le):"Error";return new de(Y,`${this.serviceName}: ${vt} (${Y}).`,le)}}const Ft=/\{\$([^}]+)}/g;function wt(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function Ur(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function ei(U,F){if(U===F)return!0;const $=Object.keys(U),le=Object.keys(F);for(const Y of $){if(!le.includes(Y))return!1;const Xe=U[Y],vt=F[Y];if(ua(Xe)&&ua(vt)){if(!ei(Xe,vt))return!1}else if(Xe!==vt)return!1}for(const Y of le)if(!$.includes(Y))return!1;return!0}function ua(U){return null!==U&&"object"==typeof U}function ts(U){const F=[];for(const[$,le]of Object.entries(U))Array.isArray(le)?le.forEach(Y=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(Y))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(le));return F.length?"&"+F.join("&"):""}function zn(U){const F={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Y,Xe]=le.split("=");F[decodeURIComponent(Y)]=decodeURIComponent(Xe)}}),F}function Tt(U){const F=U.indexOf("?");if(!F)return"";const $=U.indexOf("#",F);return U.substring(F,$>0?$:void 0)}function Vr(U,F){const $=new yt(U,F);return $.subscribe.bind($)}class yt{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(le=>{this.error(le)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,le){let Y;if(void 0===F&&void 0===$&&void 0===le)throw new Error("Missing Observer.");Y=function ns(U,F){if("object"!=typeof U||null===U)return!1;for(const $ of F)if($ in U&&"function"==typeof U[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:le},void 0===Y.next&&(Y.next=Bt),void 0===Y.error&&(Y.error=Bt),void 0===Y.complete&&(Y.complete=Bt);const Xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Xe}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bt(){}const is=1e3,qe=2,fe=144e5,We=.5;function ut(U,F=is,$=qe){const le=F*Math.pow($,U),Y=Math.round(We*le*(Math.random()-.5)*2);return Math.min(fe,le+Y)}function Xn(U){return U&&U._delegate?U._delegate:U}},656:(it,Ee,P)=>{var o=P(8926);let L=null;function ie(){return L}class he{}const ye=new o.OlP("DocumentToken");let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Se)},providedIn:"platform"})}return n})();const Ue=new o.OlP("Location Initialized");let Se=(()=>{class n extends Re{constructor(){super(),this._doc=(0,o.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function B(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function re(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Qe)},providedIn:"root"})}return n})();const ue=new o.OlP("appBaseHref");let Qe=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return B(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+re(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const l=this.prepareExternalUrl(i+re(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){const l=this.prepareExternalUrl(i+re(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Re),o.LFG(ue,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ve=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=B(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let l=this.prepareExternalUrl(i+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){let l=this.prepareExternalUrl(i+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Re),o.LFG(ue,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})(),xe=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ce(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(we(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+re(r))}normalize(t){return n.stripTrailingSlash(function Ye(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=re;static#t=this.joinWithSlash=B;static#n=this.stripTrailingSlash=Z;static#r=this.\u0275fac=function(r){return new(r||n)(o.LFG(Oe))};static#i=this.\u0275prov=o.Yz7({token:n,factory:function(){return function Ae(){return new xe((0,o.LFG)(Oe))}()},providedIn:"root"})}return n})();function we(n){return n.replace(/\/index.html$/,"")}var K=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(K||{}),k=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(k||{}),W=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(W||{}),pe=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(pe||{});function te(n,e){return wt((0,o.cg1)(n)[o.wAp.DateFormat],e)}function oe(n,e){return wt((0,o.cg1)(n)[o.wAp.TimeFormat],e)}function J(n,e){return wt((0,o.cg1)(n)[o.wAp.DateTimeFormat],e)}function de(n,e){const t=(0,o.cg1)(n),r=t[o.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===pe.CurrencyDecimal)return t[o.wAp.NumberSymbols][pe.Decimal];if(e===pe.CurrencyGroup)return t[o.wAp.NumberSymbols][pe.Group]}return r}function Ze(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Tr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ua=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ks={},ts=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(zn||{}),Tt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Tt||{}),Ot=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ot||{});function Vr(n,e,t,r){let i=function F(n){if(le(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,l=1]=n.split("-").map(f=>+f);return yt(i,u-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ua))return function $(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,l,f,m,v),e}(r)}const e=new Date(n);if(!le(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=cr(t,e)||e;let f,l=[];for(;e;){if(f=ts.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const C=l.pop();if(!C)break;e=C}}let m=i.getTimezoneOffset();r&&(m=Qt(r,m),i=function U(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Xn(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Qt(e,i)-i))}(i,r,!0));let v="";return l.forEach(C=>{const A=function Gt(n){if(ut[n])return ut[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ht(Ot.Eras,k.Abbreviated);break;case"GGGG":e=Ht(Ot.Eras,k.Wide);break;case"GGGGG":e=Ht(Ot.Eras,k.Narrow);break;case"y":e=nn(Tt.FullYear,1,0,!1,!0);break;case"yy":e=nn(Tt.FullYear,2,0,!0,!0);break;case"yyy":e=nn(Tt.FullYear,3,0,!1,!0);break;case"yyyy":e=nn(Tt.FullYear,4,0,!1,!0);break;case"Y":e=We(1);break;case"YY":e=We(2,!0);break;case"YYY":e=We(3);break;case"YYYY":e=We(4);break;case"M":case"L":e=nn(Tt.Month,1,1);break;case"MM":case"LL":e=nn(Tt.Month,2,1);break;case"MMM":e=Ht(Ot.Months,k.Abbreviated);break;case"MMMM":e=Ht(Ot.Months,k.Wide);break;case"MMMMM":e=Ht(Ot.Months,k.Narrow);break;case"LLL":e=Ht(Ot.Months,k.Abbreviated,K.Standalone);break;case"LLLL":e=Ht(Ot.Months,k.Wide,K.Standalone);break;case"LLLLL":e=Ht(Ot.Months,k.Narrow,K.Standalone);break;case"w":e=fe(1);break;case"ww":e=fe(2);break;case"W":e=fe(1,!0);break;case"d":e=nn(Tt.Date,1);break;case"dd":e=nn(Tt.Date,2);break;case"c":case"cc":e=nn(Tt.Day,1);break;case"ccc":e=Ht(Ot.Days,k.Abbreviated,K.Standalone);break;case"cccc":e=Ht(Ot.Days,k.Wide,K.Standalone);break;case"ccccc":e=Ht(Ot.Days,k.Narrow,K.Standalone);break;case"cccccc":e=Ht(Ot.Days,k.Short,K.Standalone);break;case"E":case"EE":case"EEE":e=Ht(Ot.Days,k.Abbreviated);break;case"EEEE":e=Ht(Ot.Days,k.Wide);break;case"EEEEE":e=Ht(Ot.Days,k.Narrow);break;case"EEEEEE":e=Ht(Ot.Days,k.Short);break;case"a":case"aa":case"aaa":e=Ht(Ot.DayPeriods,k.Abbreviated);break;case"aaaa":e=Ht(Ot.DayPeriods,k.Wide);break;case"aaaaa":e=Ht(Ot.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":e=Ht(Ot.DayPeriods,k.Abbreviated,K.Standalone,!0);break;case"bbbb":e=Ht(Ot.DayPeriods,k.Wide,K.Standalone,!0);break;case"bbbbb":e=Ht(Ot.DayPeriods,k.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ht(Ot.DayPeriods,k.Abbreviated,K.Format,!0);break;case"BBBB":e=Ht(Ot.DayPeriods,k.Wide,K.Format,!0);break;case"BBBBB":e=Ht(Ot.DayPeriods,k.Narrow,K.Format,!0);break;case"h":e=nn(Tt.Hours,1,-12);break;case"hh":e=nn(Tt.Hours,2,-12);break;case"H":e=nn(Tt.Hours,1);break;case"HH":e=nn(Tt.Hours,2);break;case"m":e=nn(Tt.Minutes,1);break;case"mm":e=nn(Tt.Minutes,2);break;case"s":e=nn(Tt.Seconds,1);break;case"ss":e=nn(Tt.Seconds,2);break;case"S":e=nn(Tt.FractionalSeconds,1);break;case"SS":e=nn(Tt.FractionalSeconds,2);break;case"SSS":e=nn(Tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Nt(zn.Short);break;case"ZZZZZ":e=Nt(zn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nt(zn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nt(zn.Long);break;default:return null}return ut[n]=e,e}(C);v+=A?A(i,t,m):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function yt(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function cr(n,e){const t=function cn(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(Ks[t]=Ks[t]||{},Ks[t][e])return Ks[t][e];let r="";switch(e){case"shortDate":r=te(n,W.Short);break;case"mediumDate":r=te(n,W.Medium);break;case"longDate":r=te(n,W.Long);break;case"fullDate":r=te(n,W.Full);break;case"shortTime":r=oe(n,W.Short);break;case"mediumTime":r=oe(n,W.Medium);break;case"longTime":r=oe(n,W.Long);break;case"fullTime":r=oe(n,W.Full);break;case"short":const i=cr(n,"shortTime"),u=cr(n,"shortDate");r=ns(J(n,W.Short),[i,u]);break;case"medium":const l=cr(n,"mediumTime"),f=cr(n,"mediumDate");r=ns(J(n,W.Medium),[l,f]);break;case"long":const m=cr(n,"longTime"),v=cr(n,"longDate");r=ns(J(n,W.Long),[m,v]);break;case"full":const C=cr(n,"fullTime"),A=cr(n,"fullDate");r=ns(J(n,W.Full),[C,A])}return r&&(Ks[t][e]=r),r}function ns(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Bt(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),u+l}function nn(n,e,t=0,r=!1,i=!1){return function(u,l){let f=function gn(n,e){switch(n){case Tt.FullYear:return e.getFullYear();case Tt.Month:return e.getMonth();case Tt.Date:return e.getDate();case Tt.Hours:return e.getHours();case Tt.Minutes:return e.getMinutes();case Tt.Seconds:return e.getSeconds();case Tt.FractionalSeconds:return e.getMilliseconds();case Tt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||f>-t)&&(f+=t),n===Tt.Hours)0===f&&-12===t&&(f=12);else if(n===Tt.FractionalSeconds)return function rs(n,e){return Bt(n,3).substring(0,e)}(f,e);const m=de(l,pe.MinusSign);return Bt(f,e,m,r,i)}}function Ht(n,e,t=K.Format,r=!1){return function(i,u){return function jc(n,e,t,r,i,u){switch(t){case Ot.Months:return function fn(n,e,t){const r=(0,o.cg1)(n),u=wt([r[o.wAp.MonthsFormat],r[o.wAp.MonthsStandalone]],e);return wt(u,t)}(e,i,r)[n.getMonth()];case Ot.Days:return function ln(n,e,t){const r=(0,o.cg1)(n),u=wt([r[o.wAp.DaysFormat],r[o.wAp.DaysStandalone]],e);return wt(u,t)}(e,i,r)[n.getDay()];case Ot.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(u){const v=function tn(n){const e=(0,o.cg1)(n);return Ze(e),(e[o.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Tr(r):[Tr(r[0]),Tr(r[1])])}(e),C=function Fr(n,e,t){const r=(0,o.cg1)(n);Ze(r);const u=wt([r[o.wAp.ExtraData][0],r[o.wAp.ExtraData][1]],e)||[];return wt(u,t)||[]}(e,i,r),A=v.findIndex(M=>{if(Array.isArray(M)){const[O,j]=M,G=l>=O.hours&&f>=O.minutes,X=l<j.hours||l===j.hours&&f<j.minutes;if(O.hours<j.hours){if(G&&X)return!0}else if(G||X)return!0}else if(M.hours===l&&M.minutes===f)return!0;return!1});if(-1!==A)return C[A]}return function Pn(n,e,t){const r=(0,o.cg1)(n),u=wt([r[o.wAp.DayPeriodsFormat],r[o.wAp.DayPeriodsStandalone]],e);return wt(u,t)}(e,i,r)[l<12?0:1];case Ot.Eras:return function pn(n,e){return wt((0,o.cg1)(n)[o.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Nt(n){return function(e,t,r){const i=-1*r,u=de(t,pe.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case zn.Short:return(i>=0?"+":"")+Bt(l,2,u)+Bt(Math.abs(i%60),2,u);case zn.ShortGMT:return"GMT"+(i>=0?"+":"")+Bt(l,1,u);case zn.Long:return"GMT"+(i>=0?"+":"")+Bt(l,2,u)+":"+Bt(Math.abs(i%60),2,u);case zn.Extended:return 0===r?"Z":(i>=0?"+":"")+Bt(l,2,u)+":"+Bt(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}const ca=0,Ti=4;function qe(n){return yt(n.getFullYear(),n.getMonth(),n.getDate()+(Ti-n.getDay()))}function fe(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+u)/7)}else{const u=qe(t),l=function is(n){const e=yt(n,ca,1).getDay();return yt(n,0,1+(e<=Ti?Ti:Ti+7)-e)}(u.getFullYear()),f=u.getTime()-l.getTime();i=1+Math.round(f/6048e5)}return Bt(i,n,de(r,pe.MinusSign))}}function We(n,e=!1){return function(t,r){return Bt(qe(t).getFullYear(),n,de(r,pe.MinusSign),e)}}const ut={};function Qt(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function le(n){return n instanceof Date&&!isNaN(n.valueOf())}function pu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class Pp{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ai=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Pp(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const f=r.get(u);r.move(f,l),mn(f,i)}});for(let i=0,u=r.length;i<u;i++){const f=r.get(i).context;f.index=i,f.count=u,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{mn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function mn(n,e){n.context.$implicit=e.item}let dr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$c("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$c("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.s_b),o.Y36(o.Rgc))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class mu{constructor(){this.$implicit=null,this.ngIf=null}}function $c(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}const h_=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Wc=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Kc=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,u){if(null==t||""===t||t!=t)return null;try{return Vr(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function ni(n,e){return new o.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.soG,16),o.Y36(h_,24),o.Y36(Wc,24))};static#t=this.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),en=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();function Zr(n){return"server"===n}let So=(()=>{class n{static#e=this.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new os((0,o.LFG)(ye),window)})}return n})();class os{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wn(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class xo{}class dh extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $p extends dh{static makeCurrent(){!function se(n){L||(L=n)}(new $p)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function T1(){return fl=fl||document.querySelector("base"),fl?fl.getAttribute("href"):null}();return null==t?null:function Hp(n){pl=pl||document.createElement("a"),pl.setAttribute("href",n);const e=pl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){fl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pu(document.cookie,e)}}let pl,fl=null,C1=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Gp=new o.OlP("EventManagerPlugins");let M_=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new o.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Gp),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class N_{constructor(e){this._doc=e}}const hh="ng-app-id";let gl=(()=>{class n{constructor(t,r,i,u={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zr(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${hh}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const u=i.get(t);return u.usage+=r,u.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,u=i?.get(r);if(u?.parentNode===t)return i.delete(r),u.removeAttribute(hh),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(hh,this.appId),l}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(i):u.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye),o.LFG(o.AFp),o.LFG(o.Ojb,8),o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Xs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Au=/%COMP%/g,Wp=new o.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function pa(n,e){return e.map(t=>t.replace(Au,n))}let ph=(()=>{class n{constructor(t,r,i,u,l,f,m,v=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=f,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=Zr(f),this.defaultRenderer=new Dr(t,l,m,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===o.ifc.ShadowDom&&(r={...r,encapsulation:o.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof fr?i.applyToHost(t):i instanceof Du&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const l=this.doc,f=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,A=this.platformIsServer;switch(r.encapsulation){case o.ifc.Emulated:u=new fr(m,v,r,this.appId,C,l,f,A);break;case o.ifc.ShadowDom:return new mh(m,v,t,r,l,f,this.nonce,A);default:u=new Du(m,v,r,C,l,f,A)}i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(M_),o.LFG(gl),o.LFG(o.AFp),o.LFG(Wp),o.LFG(ye),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(o.Ojb))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class Dr{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Xs[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(rn(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(rn(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new o.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Xs[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Xs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,r,i&o.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=ie().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function rn(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mh extends Dr{constructor(e,t,r,i,u,l,f,m){super(e,u,l,m),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=pa(i.id,i.styles);for(const C of v){const A=document.createElement("style");f&&A.setAttribute("nonce",f),A.textContent=C,this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Du extends Dr{constructor(e,t,r,i,u,l,f,m){super(e,u,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=m?pa(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class fr extends Du{constructor(e,t,r,i,u,l,f,m){const v=i+"-"+r.id;super(e,t,r,u,l,f,m,v),this.contentAttr=function Kp(n){return"_ngcontent-%COMP%".replace(Au,n)}(v),this.hostAttr=function fh(n){return"_nghost-%COMP%".replace(Au,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let A1=(()=>{class n extends N_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Su=["alt","control","meta","shift"],ga={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ri={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xu=(()=>{class n extends N_{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ie().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Su.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),l+=v+".")}),l+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=i,m.fullKey=l,m}static matchEventFullKeyCode(t,r){let i=ga[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Su.forEach(l=>{l!==i&&(0,ri[l])(t)&&(u+=l+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Yp=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function O_(){$p.makeCurrent()},multi:!0},{provide:ye,useFactory:function Qp(){return(0,o.RDi)(document),document},deps:[]}]),ft=new o.OlP(""),ma=[{provide:o.rWj,useClass:class x_{addToWindow(e){o.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new o.vHH(5103,!1);return u},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(r=>{const i=o.dqk.getAllAngularTestabilities();let u=i.length,l=!1;const f=function(m){l=l||m,u--,0==u&&r(l)};i.forEach(m=>{m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ie().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Jp=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function _l(){return new o.qLn},deps:[]},{provide:Gp,useClass:A1,multi:!0,deps:[ye,o.R0b,o.Lbi]},{provide:Gp,useClass:xu,multi:!0,deps:[ye]},ph,gl,M_,{provide:o.FYo,useExisting:ph},{provide:xo,useClass:C1,deps:[]},[]];let _a=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ft,12))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[...Jp,...ma],imports:[en,o.hGG]})}return n})(),yl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function No(){return new yl((0,o.LFG)(ye))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let Nu=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(r){let i=null;return i=r?new(r||n):o.LFG(cs),i},providedIn:"root"})}return n})(),cs=(()=>{class n extends Nu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case o.q3G.NONE:return r;case o.q3G.HTML:return(0,o.qzn)(r,"HTML")?(0,o.z3N)(r):(0,o.EiD)(this._doc,String(r)).toString();case o.q3G.STYLE:return(0,o.qzn)(r,"Style")?(0,o.z3N)(r):r;case o.q3G.SCRIPT:if((0,o.qzn)(r,"Script"))return(0,o.z3N)(r);throw new o.vHH(5200,!1);case o.q3G.URL:return(0,o.qzn)(r,"URL")?(0,o.z3N)(r):(0,o.mCW)(String(r));case o.q3G.RESOURCE_URL:if((0,o.qzn)(r,"ResourceURL"))return(0,o.z3N)(r);throw new o.vHH(5201,!1);default:throw new o.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,o.JVY)(t)}bypassSecurityTrustStyle(t){return(0,o.L6k)(t)}bypassSecurityTrustScript(t){return(0,o.eBb)(t)}bypassSecurityTrustUrl(t){return(0,o.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,o.pB0)(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Sr(n){return new cs(n.get(ye))}(o.LFG(o.zs3)),i},providedIn:"root"})}return n})();var Kn=P(5592),Ds=P(4674),Tn=P(2459),at=P(2096),er=P(5619);const{isArray:Pu}=Array,{getPrototypeOf:Il,prototype:ig,keys:wl}=Object;function Tl(n){if(1===n.length){const e=n[0];if(Pu(e))return{args:e,keys:null};if(function Ro(n){return n&&"object"==typeof n&&Il(n)===ig}(e)){const t=wl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Po=P(2737),gt=P(7398);const{isArray:Oo}=Array;function Ou(n){return(0,gt.U)(e=>function yn(n,e){return Oo(e)?n(...e):n(e)}(n,e))}var ya=P(4564);function sg(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ii=P(8251),Cl=P(7103);function bl(...n){const e=(0,ya.yG)(n),t=(0,ya.jO)(n),{args:r,keys:i}=Tl(n);if(0===r.length)return(0,Tn.D)([],e);const u=new Kn.y(function va(n,e,t=Po.y){return r=>{Ss(e,()=>{const{length:i}=n,u=new Array(i);let l=i,f=i;for(let m=0;m<i;m++)Ss(e,()=>{const v=(0,Tn.D)(n[m],e);let C=!1;v.subscribe((0,ii.x)(r,A=>{u[m]=A,C||(C=!0,f--),f||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>sg(i,l):Po.y));return t?u.pipe(Ou(t)):u}function Ss(n,e,t){n?(0,Cl.f)(t,n,e):e()}const xs=(0,P(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var to=P(7537);function ku(...n){return function no(){return(0,to.J)(1)}()((0,Tn.D)(n,(0,ya.yG)(n)))}var Fu=P(4829);function Lu(n){return new Kn.y(e=>{(0,Fu.Xf)(n()).subscribe(e)})}var Ch=P(8407);function Ni(n,e){const t=(0,Ds.m)(n)?n:()=>n,r=i=>i.error(t());return new Kn.y(e?i=>e.schedule(r,0,i):r)}var Ri=P(6232),Uu=P(7394),si=P(9360);function Ea(){return(0,si.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ii.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class B_ extends Kn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,si.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Uu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ii.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Uu.w0.EMPTY)}return e}refCount(){return Ea()(this)}}var ls=P(8645),xn=P(4664);function Vu(n){return n<=0?()=>Ri.E:(0,si.e)((e,t)=>{let r=0;e.subscribe((0,ii.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jr(n,e){return(0,si.e)((t,r)=>{let i=0;t.subscribe((0,ii.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Zn=P(1631);function Al(n){return(0,si.e)((e,t)=>{let r=!1;e.subscribe((0,ii.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ro(n=bh){return(0,si.e)((e,t)=>{let r=!1;e.subscribe((0,ii.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function bh(){return new xs}function oi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jr((i,u)=>n(i,u,r)):Po.y,Vu(1),t?Al(e):ro(()=>new xs))}function ko(n,e){return(0,Ds.m)(e)?(0,Zn.z)(n,e,1):(0,Zn.z)(n,1)}function Mn(n,e,t){const r=(0,Ds.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,si.e)((i,u)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let f=!0;i.subscribe((0,ii.x)(u,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),u.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),u.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),u.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Po.y}function Ms(n){return(0,si.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,ii.x)(t,void 0,void 0,l=>{u=(0,Fu.Xf)(n(l,Ms(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Dl(n){return n<=0?()=>Ri.E:(0,si.e)((e,t)=>{let r=[];e.subscribe((0,ii.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ia(n){return(0,si.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Zu=P(2420);const St="primary",wa=Symbol("RouteTitle");class og{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ns(n){return new og(n)}function ag(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const l=r[u],f=n[u];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!io(n[i],e[i]))return!1;return!0}function io(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function qu(n){return n.length>0?n[n.length-1]:null}function Rs(n){return function wh(n){return!!n&&(n instanceof Kn.y||(0,Ds.m)(n.lift)&&(0,Ds.m)(n.subscribe))}(n)?n:(0,o.QGY)(n)?(0,Tn.D)(Promise.resolve(n)):(0,at.of)(n)}const ug={exact:function lg(n,e,t){if(!Ps(n.segments,e.segments)||!$u(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!lg(n.children[r],e.children[r],t))return!1;return!0},subset:xl},Ta={exact:function xr(n,e){return qr(n,e)},subset:function dg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>io(n[t],e[t]))},ignored:()=>!0};function cg(n,e,t){return ug[t.paths](n.root,e.root,t.matrixParams)&&Ta[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function xl(n,e,t){return Ml(n,e,e.segments,t)}function Ml(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ps(i,t)||e.hasChildren()||!$u(i,t,r))}if(n.segments.length===t.length){if(!Ps(n.segments,t)||!$u(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!xl(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ps(n.segments,i)&&$u(n.segments,i,r)&&n.children[St])&&Ml(n.children[St],e,u,r)}}function $u(n,e,t){return e.every((r,i)=>Ta[t](n[i].parameters,r.parameters))}class so{constructor(e=new Vt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return j_.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sh(this)}}class hs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ns(this.parameters)),this._parameterMap}toString(){return Nl(this)}}function Ps(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let fs=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return new hg},providedIn:"root"})}return n})();class hg{parse(e){const t=new P1(e);return new so(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ba(e.root,!0)}`,r=function R1(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Mh(t)}=${Mh(i)}`).join("&"):`${Mh(t)}=${Mh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function fg(n){return encodeURI(n)}(e.fragment)}`:""}`}}const j_=new hg;function Sh(n){return n.segments.map(e=>Nl(e)).join("/")}function ba(n,e){if(!n.hasChildren())return Sh(n);if(e){const t=n.children[St]?ba(n.children[St],!1):"",r=[];return Object.entries(n.children).forEach(([i,u])=>{i!==St&&r.push(`${i}:${ba(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Dh(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===St&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==St&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===St?[ba(n.children[St],!1)]:[`${i}:${ba(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${Sh(n)}/${t[0]}`:`${Sh(n)}/(${t.join("//")})`}}function xh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mh(n){return xh(n).replace(/%3B/gi,";")}function pg(n){return xh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ps(n){return decodeURIComponent(n)}function gg(n){return ps(n.replace(/\+/g,"%20"))}function Nl(n){return`${pg(n.path)}${function jn(n){return Object.keys(n).map(e=>`;${pg(e)}=${pg(n[e])}`).join("")}(n.parameters)}`}const Fo=/^[^\/()?;#]+/;function Rl(n){const e=n.match(Fo);return e?e[0]:""}const Mr=/^[^\/()?;=#]+/,Nh=/^[^=?&#]+/,Hu=/^[^&#]+/;class P1{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[St]=new Vt(e,t)),r}parseSegment(){const e=Rl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(e),new hs(ps(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Lo(n){const e=n.match(Mr);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Rl(this.remaining);i&&(r=i,this.capture(r))}e[ps(t)]=ps(r)}parseQueryParam(e){const t=function Pl(n){const e=n.match(Nh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function q_(n){const e=n.match(Hu);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=gg(t),u=gg(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Rl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new o.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=St);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[St]:new Vt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,!1)}}function mg(n){return n.segments.length>0?new Vt([],{[St]:n}):n}function _g(n){const e={};for(const r of Object.keys(n.children)){const u=_g(n.children[r]);if(r===St&&0===u.segments.length&&u.hasChildren())for(const[l,f]of Object.entries(u.children))e[l]=f;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function ai(n){if(1===n.numberOfChildren&&n.children[St]){const e=n.children[St];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}function oo(n){return n instanceof so}function g(n){let e;const i=mg(function t(u){const l={};for(const m of u.children){const v=t(m);l[m.outlet]=v}const f=new Vt(u.url,l);return u===n&&(e=f),f}(n.root));return e??i}function _(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return x(i,i,i,t,r);const u=function Pe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ee(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Object.entries(u.outlets).forEach(([m,v])=>{f[m]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===l?(u.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new ee(t,e,r)}(e);if(u.toRoot())return x(i,i,new Vt([],{}),t,r);const l=function et(n,e,t){if(n.isAbsolute)return new Le(e,!0,0);if(!t)return new Le(e,!1,NaN);if(null===t.parent)return new Le(t,!0,0);const r=w(n.commands[0])?0:1;return function kt(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new o.vHH(4005,!1);i=r.segments.length}return new Le(r,!1,i-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,i,n),f=l.processChildren?Wi(l.segmentGroup,l.index,u.commands):Os(l.segmentGroup,l.index,u.commands);return x(i,l.segmentGroup,f,t,r)}function w(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function D(n){return"object"==typeof n&&null!=n&&n.outlets}function x(n,e,t,r,i){let l,u={};r&&Object.entries(r).forEach(([m,v])=>{u[m]=Array.isArray(v)?v.map(C=>`${C}`):`${v}`}),l=n===e?t:q(n,e,t);const f=mg(_g(l));return new so(f,u,i)}function q(n,e,t){const r={};return Object.entries(n.children).forEach(([i,u])=>{r[i]=u===e?t:q(u,e,t)}),new Vt(n.segments,r)}class ee{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&w(r[0]))throw new o.vHH(4003,!1);const i=r.find(D);if(i&&i!==qu(r))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Le{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Os(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return Wi(n,e,t);const r=function yg(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const l=n.segments[i],f=t[r];if(D(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!Gu(m,v,l))return u;r+=2}else{if(!Gu(m,{},l))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Vt(n.segments.slice(0,r.pathIndex),{});return u.children[St]=new Vt(n.segments.slice(r.pathIndex),n.children),Wi(u,0,i)}return r.match&&0===i.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?Aa(n,e,t):r.match?Wi(n,0,i):Aa(n,e,t)}function Wi(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function tr(n){return D(n[0])?n[0].outlets:{[St]:n}}(t),i={};if(Object.keys(r).some(u=>u!==St)&&n.children[St]&&1===n.numberOfChildren&&0===n.children[St].segments.length){const u=Wi(n.children[St],e,t);return new Vt(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[u]=Os(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(i[u]=l)}),new Vt(n.segments,i)}}function Aa(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(D(u)){const m=Ol(u.outlets);return new Vt(r,m)}if(0===i&&w(t[0])){r.push(new hs(n.segments[e].path,Da(t[0]))),i++;continue}const l=D(u)?u.outlets[St]:`${u}`,f=i<t.length-1?t[i+1]:null;l&&f&&w(f)?(r.push(new hs(l,Da(f))),i+=2):(r.push(new hs(l,{})),i++)}return new Vt(r,{})}function Ol(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Aa(new Vt([],{}),0,r))}),e}function Da(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Gu(n,e,t){return n==t.path&&qr(e,t.parameters)}const Sa="imperative";class Ki{constructor(e,t){this.id=e,this.url=t}}class Qi extends Ki{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ui extends Ki{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zu extends Ki{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uo extends Ki{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Wu extends Ki{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class O1 extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uk extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EA extends Ki{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class IA extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wA extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class k1{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class TA{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F1{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ck{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L1{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $_{}class H_{constructor(e){this.url=e}}class lk{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Eg,this.attachRef=null}}let Eg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lk,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ig{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=V1(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=V1(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=B1(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return B1(e,this._root).map(t=>t.value)}}function V1(n,e){if(n===e.value)return e;for(const t of e.children){const r=V1(n,t);if(r)return r}return null}function B1(n,e){if(n===e.value)return[e];for(const t of e.children){const r=B1(n,t);if(r.length)return r.unshift(e),r}return[]}class xa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Rh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bA extends Ig{constructor(e,t){super(e),this.snapshot=t,Tg(this,e)}toString(){return this.snapshot.toString()}}function Z1(n,e){const t=function wg(n,e){const l=new Ph([],{},{},"",{},St,e,null,{});return new Ku("",new xa(l,[]))}(0,e),r=new er.X([new hs("",{})]),i=new er.X({}),u=new er.X({}),l=new er.X({}),f=new er.X(""),m=new ci(r,i,l,f,u,St,e,t.root);return m.snapshot=t.root,new bA(new xa(m,[]),t)}class ci{constructor(e,t,r,i,u,l,f,m){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=u,this.outlet=l,this.component=f,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,gt.U)(v=>v[wa]))??(0,at.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Ns(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Ns(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function G_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function j1(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ph{get title(){return this.data?.[wa]}constructor(e,t,r,i,u,l,f,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=f,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ns(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ku extends Ig{constructor(e,t){super(t),this.url=e,Tg(this,t)}toString(){return z_(this._root)}}function Tg(n,e){e.value._routerState=n,e.children.forEach(t=>Tg(n,t))}function z_(n){const e=n.children.length>0?` { ${n.children.map(z_).join(", ")} } `:"";return`${n.value}${e}`}function kl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),qr(e.params,t.params)||n.paramsSubject.next(t.params),function Z_(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),qr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fl(n,e){const t=qr(n.params,e.params)&&function Ca(n,e){return Ps(n,e)&&n.every((t,r)=>qr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Fl(n.parent,e.parent))}let Ll=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(Eg),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb),this.inputBinder=(0,o.f3M)(Cg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new o.vHH(4013,!1);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new AA(t,f,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]})}return n})();class AA{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ci?this.route:e===Eg?this.childContexts:this.parent.get(e,t)}}const Cg=new o.OlP("");let q1=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=bl([r.queryParams,r.params,r.data]).pipe((0,xn.w)(([u,l,f],m)=>(f={...u,...l,...f},0===m?(0,at.of)(f):Promise.resolve(f)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,o.qFp)(r.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,u[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function Qu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function DA(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qu(n,r,i);return Qu(n,r)})}(n,e,t);return new xa(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Qu(n,f)),l}}const r=function SA(n){return new ci(new er.X(n.url),new er.X(n.params),new er.X(n.queryParams),new er.X(n.fragment),new er.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Qu(n,u));return new xa(r,i)}}const W_="ngNavigationCancelingError";function K_(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=H1(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function H1(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[W_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function li(n){return n&&n[W_]}let bg=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(r,i){1&r&&o._UZ(0,"router-outlet")},dependencies:[Ll],encapsulation:2})}return n})();function Dg(n){const e=n.children&&n.children.map(Dg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==St&&(t.component=bg),t}function ks(n){return n.outlet||St}function Oh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Y_{constructor(e,t,r,i,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Rh(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,i[l],r),delete i[l]}),Object.values(i).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Rh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Rh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Rh(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new L1(u.value.snapshot))}),e.children.length&&this.forwardEvent(new F1(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(kl(i),i===u)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),kl(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Oh(i.snapshot);l.attachRef=null,l.route=i,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Y1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ma{constructor(e,t){this.component=e,this.route=t}}function RA(n,e,t){const r=n._root;return Ul(r,e?e._root:null,t,[r.value])}function Yu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,o.Z0I)(n)?e.get(n):n:r}function Ul(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Rh(e);return n.children.forEach(l=>{(function J1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const m=function Vl(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ps(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ps(n.url,e.url)||!qr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fl(n,e)||!qr(n.queryParams,e.queryParams);default:return!Fl(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new Y1(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Ul(n,e,u.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Ma(f.outlet.component,l))}else l&&Na(e,f,i),i.canActivateChecks.push(new Y1(r)),Ul(n,null,u.component?f?f.children:null:t,r,i)})(l,u[l.value.outlet],t,r.concat([l.value]),i),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,f])=>Na(f,t.getContext(l),i)),i}function Na(n,e,t){const r=Rh(n),i=n.value;Object.entries(r).forEach(([u,l])=>{Na(l,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ma(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bl(n){return"function"==typeof n}function X_(n){return n instanceof xs||"EmptyError"===n?.name}const Ju=Symbol("INITIAL_VALUE");function Ra(){return(0,xn.w)(n=>bl(n.map(e=>e.pipe(Vu(1),function N1(...n){const e=(0,ya.yG)(n);return(0,si.e)((t,r)=>{(e?ku(n,t,e):ku(n,t)).subscribe(r)})}(Ju)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===Ju)return Ju;if(!1===t||t instanceof so)return t}return!0}),jr(e=>e!==Ju),Vu(1)))}function jA(n){return(0,Ch.z)(Mn(e=>{if(oo(e))throw K_(0,e)}),(0,gt.U)(e=>!0===e))}class Mg{constructor(e){this.segmentGroup=e||null}}class ny{constructor(e){this.urlTree=e}}function ec(n){return Ni(new Mg(n))}function ry(n){return Ni(new ny(n))}class Ng{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new o.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,at.of)(r);if(i.numberOfChildren>1||!i.children[St])return Ni(new o.vHH(4e3,!1));i=i.children[St]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new so(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,u])=>{if("string"==typeof u&&u.startsWith(":")){const f=u.substring(1);r[i]=t[f]}else r[i]=u}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let l={};return Object.entries(t.children).forEach(([f,m])=>{l[f]=this.createSegmentGroup(e,m,r,i)}),new Vt(u,l)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new o.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const tc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rI(n,e,t,r,i){const u=kh(n,e,t);return u.matched?(r=function G1(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function xg(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,at.of)(!0);const u=i.map(l=>{const f=Yu(l,n);return Rs(function LA(n){return n&&Bl(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,at.of)(u).pipe(Ra(),jA())}(r,e,t).pipe((0,gt.U)(l=>!0===l?u:{...tc}))):(0,at.of)(u)}function kh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...tc}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ag)(t,n,e);if(!i)return{...tc};const u={};Object.entries(i.posParams??{}).forEach(([f,m])=>{u[f]=m.path});const l=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Fh(n,e,t,r){return t.length>0&&function Lh(n,e,t){return t.some(r=>Uh(n,e,r)&&ks(r)!==St)}(n,t,r)?{segmentGroup:new Vt(e,sy(r,new Vt(t,n.children))),slicedSegments:[]}:0===t.length&&function qA(n,e,t){return t.some(r=>Uh(n,e,r))}(n,t,r)?{segmentGroup:new Vt(n.segments,iI(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Vt(n.segments,n.children),slicedSegments:t}}function iI(n,e,t,r,i){const u={};for(const l of r)if(Uh(n,t,l)&&!i[ks(l)]){const f=new Vt([],{});u[ks(l)]=f}return{...i,...u}}function sy(n,e){const t={};t[St]=e;for(const r of n)if(""===r.path&&ks(r)!==St){const i=new Vt([],{});t[ks(r)]=i}return t}function Uh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class sI{constructor(e,t,r,i,u,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new Ng(this.urlSerializer,this.urlTree)}noMatchError(e){return new o.vHH(4002,!1)}recognize(){const e=Fh(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,St).pipe(Ms(t=>{if(t instanceof ny)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Mg?this.noMatchError(t):t}),(0,gt.U)(t=>{const r=new Ph([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,{}),i=new xa(r,t),u=new Ku("",i),l=function I(n,e,t=null,r=null){return _(g(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,St).pipe(Ms(r=>{throw r instanceof Mg?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=G_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Tn.D)(i).pipe(ko(u=>{const l=r.children[u],f=function Q1(n,e){const t=n.filter(r=>ks(r)===e);return t.push(...n.filter(r=>ks(r)!==e)),t}(t,u);return this.processSegmentGroup(e,f,l,u)}),function ds(n,e){return(0,si.e)(function Ah(n,e,t,r,i){return(u,l)=>{let f=t,m=e,v=0;u.subscribe((0,ii.x)(l,C=>{const A=v++;m=f?n(m,C,A):(f=!0,C),r&&l.next(m)},i&&(()=>{f&&l.next(m),l.complete()})))}}(n,e,arguments.length>=2,!0))}((u,l)=>(u.push(...l),u)),Al(null),function Bu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jr((i,u)=>n(i,u,r)):Po.y,Dl(1),t?Al(e):ro(()=>new xs))}(),(0,Zn.z)(u=>{if(null===u)return ec(r);const l=Pg(u);return function oI(n){n.sort((e,t)=>e.value.outlet===St?-1:t.value.outlet===St?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,at.of)(l)}))}processSegment(e,t,r,i,u,l){return(0,Tn.D)(t).pipe(ko(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,r,i,u,l).pipe(Ms(m=>{if(m instanceof Mg)return(0,at.of)(null);throw m}))),oi(f=>!!f),Ms(f=>{if(X_(f))return function HA(n,e,t){return 0===e.length&&!n.children[t]}(r,i,u)?(0,at.of)([]):ec(r);throw f}))}processSegmentAgainstRoute(e,t,r,i,u,l,f){return function $A(n,e,t,r){return!!(ks(n)===r||r!==St&&Uh(e,t,n))&&("**"===n.path||kh(e,n,t).matched)}(r,i,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,u,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,u,l):ec(i):ec(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ry(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,Zn.z)(l=>{const f=new Vt(l,{});return this.processSegment(e,t,f,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:C}=kh(t,i,u);if(!f)return ec(t);const A=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,C);return i.redirectTo.startsWith("/")?ry(A):this.applyRedirects.lineralizeSegments(i,A).pipe((0,Zn.z)(M=>this.processSegment(e,r,t,M.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,u,l){let f;if("**"===r.path){const m=i.length>0?qu(i).parameters:{},v=new Ph(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aI(r),ks(r),r.component??r._loadedComponent??null,r,uI(r));f=(0,at.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=rI(t,r,i,e).pipe((0,gt.U)(({matched:m,consumedSegments:v,remainingSegments:C,parameters:A})=>m?{snapshot:new Ph(v,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aI(r),ks(r),r.component??r._loadedComponent??null,r,uI(r)),consumedSegments:v,remainingSegments:C}:null));return f.pipe((0,xn.w)(m=>null===m?ec(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,xn.w)(({routes:v})=>{const C=r._loadedInjector??e,{snapshot:A,consumedSegments:M,remainingSegments:O}=m,{segmentGroup:j,slicedSegments:G}=Fh(t,M,O,v);if(0===G.length&&j.hasChildren())return this.processChildren(C,v,j).pipe((0,gt.U)(Te=>null===Te?null:[new xa(A,Te)]));if(0===v.length&&0===G.length)return(0,at.of)([new xa(A,[])]);const X=ks(r)===u;return this.processSegment(C,v,j,G,X?St:u,!0).pipe((0,gt.U)(Te=>[new xa(A,Te)]))}))))}getChildConfig(e,t,r){return t.children?(0,at.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,at.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function ZA(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,at.of)(!0);const u=i.map(l=>{const f=Yu(l,n);return Rs(function Sg(n){return n&&Bl(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,at.of)(u).pipe(Ra(),jA())}(e,t,r).pipe((0,Zn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Mn(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function nI(n){return Ni(H1(!1,3))}())):(0,at.of)({routes:[],injector:e})}}function Rg(n){const e=n.value.routeConfig;return e&&""===e.path}function Pg(n){const e=[],t=new Set;for(const r of n){if(!Rg(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Pg(r.children);e.push(new xa(r.value,i))}return e.filter(r=>!t.has(r))}function aI(n){return n.data||{}}function uI(n){return n.resolve||{}}function kg(n){return"string"==typeof n.title||null===n.title}function Fg(n){return(0,xn.w)(e=>{const t=n(e);return t?(0,Tn.D)(t).pipe((0,gt.U)(()=>e)):(0,at.of)(e)})}const nc=new o.OlP("ROUTES");let Lg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,at.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Rs(t.loadComponent()).pipe((0,gt.U)(cI),Mn(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Ia(()=>{this.componentLoaders.delete(t)})),i=new B_(r,()=>new ls.x).pipe(Ea());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,at.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function rc(n,e,t,r){return Rs(n.loadChildren()).pipe((0,gt.U)(cI),(0,Zn.z)(i=>i instanceof o.YKP||Array.isArray(i)?(0,at.of)(i):(0,Tn.D)(e.compileModuleAsync(i))),(0,gt.U)(i=>{r&&r(n);let u,l,f=!1;return Array.isArray(i)?(l=i,!0):(u=i.create(t).injector,l=u.get(nc,[],{optional:!0,self:!0}).flat()),{routes:l.map(Dg),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Ia(()=>{this.childrenLoaders.delete(r)})),l=new B_(u,()=>new ls.x).pipe(Ea());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cI(n){return function KA(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ug=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ls.x,this.transitionAbortSubject=new ls.x,this.configLoader=(0,o.f3M)(Lg),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(fs),this.rootContexts=(0,o.f3M)(Eg),this.inputBindingEnabled=null!==(0,o.f3M)(Cg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,at.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new k1(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new vg(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new er.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jr(u=>0!==u.id),(0,gt.U)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,xn.w)(u=>{this.currentTransition=u;let l=!1,f=!1;return(0,at.of)(u).pipe(Mn(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xn.w)(m=>{const v=m.currentBrowserUrl.toString(),C=!t.navigated||m.extractedUrl.toString()!==v||v!==m.currentUrlTree.toString();if(!C&&"reload"!==(m.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new Uo(m.id,this.urlSerializer.serialize(m.rawUrl),M,0)),m.resolve(null),Ri.E}if(t.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,at.of)(m).pipe((0,xn.w)(M=>{const O=this.transitions?.getValue();return this.events.next(new Qi(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),O!==this.transitions?.getValue()?Ri.E:Promise.resolve(M)}),function pk(n,e,t,r,i,u){return(0,Zn.z)(l=>function GA(n,e,t,r,i,u,l="emptyOnly"){return new sI(n,e,t,r,i,l,u).recognize()}(n,e,t,r,l.extractedUrl,i,u).pipe((0,gt.U)(({state:f,tree:m})=>({...l,targetSnapshot:f,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Mn(M=>{u.targetSnapshot=M.targetSnapshot,u.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects};const O=new O1(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(O)}));if(C&&t.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:M,extractedUrl:O,source:j,restoredState:G,extras:X}=m,Te=new Qi(M,this.urlSerializer.serialize(O),j,G);this.events.next(Te);const Fe=Z1(0,this.rootComponentType).snapshot;return this.currentTransition=u={...m,targetSnapshot:Fe,urlAfterRedirects:O,extras:{...X,skipLocationChange:!1,replaceUrl:!1}},(0,at.of)(u)}{const M="";return this.events.next(new Uo(m.id,this.urlSerializer.serialize(m.extractedUrl),M,1)),m.resolve(null),Ri.E}}),Mn(m=>{const v=new uk(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),(0,gt.U)(m=>(this.currentTransition=u={...m,guards:RA(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},u)),function ey(n,e){return(0,Zn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,at.of)({...t,guardsResult:!0}):function VA(n,e,t,r){return(0,Tn.D)(n).pipe((0,Zn.z)(i=>function tI(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,at.of)(!0);const l=u.map(f=>{const m=Oh(e)??i,v=Yu(f,m);return Rs(function FA(n){return n&&Bl(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(oi())});return(0,at.of)(l).pipe(Ra())}(i.component,i.route,t,e,r)),oi(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Zn.z)(f=>f&&function J_(n){return"boolean"==typeof n}(f)?function BA(n,e,t,r){return(0,Tn.D)(e).pipe(ko(i=>ku(function X1(n,e){return null!==n&&e&&e(new TA(n)),(0,at.of)(!0)}(i.route.parent,r),function ty(n,e){return null!==n&&e&&e(new ck(n)),(0,at.of)(!0)}(i.route,r),function eI(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function PA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Lu(()=>{const f=l.guards.map(m=>{const v=Oh(l.node)??t,C=Yu(m,v);return Rs(function kA(n){return n&&Bl(n.canActivateChild)}(C)?C.canActivateChild(r,n):v.runInContext(()=>C(r,n))).pipe(oi())});return(0,at.of)(f).pipe(Ra())}));return(0,at.of)(u).pipe(Ra())}(n,i.path,t),function Xu(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,at.of)(!0);const i=r.map(u=>Lu(()=>{const l=Oh(e)??t,f=Yu(u,l);return Rs(function OA(n){return n&&Bl(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(oi())}));return(0,at.of)(i).pipe(Ra())}(n,i.route,t))),oi(i=>!0!==i,!0))}(r,u,n,e):(0,at.of)(f)),(0,gt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,m=>this.events.next(m)),Mn(m=>{if(u.guardsResult=m.guardsResult,oo(m.guardsResult))throw K_(0,m.guardsResult);const v=new EA(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(v)}),jr(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),Fg(m=>{if(m.guards.canActivateChecks.length)return(0,at.of)(m).pipe(Mn(v=>{const C=new IA(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}),(0,xn.w)(v=>{let C=!1;return(0,at.of)(v).pipe(function zA(n,e){return(0,Zn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,at.of)(t);let u=0;return(0,Tn.D)(i).pipe(ko(l=>function oy(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!kg(i)&&(u[wa]=i.title),function WA(n,e,t,r){const i=function Zl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,at.of)({});const u={};return(0,Tn.D)(i).pipe((0,Zn.z)(l=>function Og(n,e,t,r){const i=Oh(e)??r,u=Yu(n,i);return Rs(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(oi(),Mn(f=>{u[l]=f}))),Dl(1),function Sl(n){return(0,gt.U)(()=>n)}(u),Ms(l=>X_(l)?Ri.E:Ni(l)))}(u,n,e,r).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=G_(n,t).resolve,i&&kg(i)&&(n.data[wa]=i.title),null)))}(l.route,r,n,e)),Mn(()=>u++),Dl(1),(0,Zn.z)(l=>u===i.length?(0,at.of)(t):Ri.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Mn({next:()=>C=!0,complete:()=>{C||this.cancelNavigationTransition(v,"",2)}}))}),Mn(v=>{const C=new wA(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}))}),Fg(m=>{const v=C=>{const A=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(C.routeConfig).pipe(Mn(M=>{C.component=M}),(0,gt.U)(()=>{})));for(const M of C.children)A.push(...v(M));return A};return bl(v(m.targetSnapshot.root)).pipe(Al(),Vu(1))}),Fg(()=>this.afterPreactivation()),(0,gt.U)(m=>{const v=function $1(n,e,t){const r=Qu(n,e._root,t?t._root:void 0);return new bA(r,e)}(t.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=u={...m,targetRouterState:v},u}),Mn(()=>{this.events.next(new $_)}),((n,e,t,r)=>(0,gt.U)(i=>(new Y_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Vu(1),Mn({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ui(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),t.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),function ju(n){return(0,si.e)((e,t)=>{(0,Fu.Xf)(n).subscribe((0,ii.x)(t,()=>t.complete(),Zu.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Mn(m=>{throw m}))),Ia(()=>{l||f||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Ms(m=>{if(f=!0,li(m))this.events.next(new zu(u.id,this.urlSerializer.serialize(u.extractedUrl),m.message,m.cancellationCode)),function xA(n){return li(n)&&oo(n.url)}(m)?this.events.next(new H_(m.url)):u.resolve(!1);else{this.events.next(new Wu(u.id,this.urlSerializer.serialize(u.extractedUrl),m,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(m))}catch(v){u.reject(v)}}return Ri.E}))}))}cancelNavigationTransition(t,r,i){const u=new zu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lI(n){return n!==Sa}let dI=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===St);return r}getResolvedTitleForRoute(t){return t.data[wa]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Vo)},providedIn:"root"})}return n})(),Vo=(()=>{class n extends dI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(yl))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(YA)},providedIn:"root"})}return n})();class QA{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let YA=(()=>{class n extends QA{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Vg=new o.OlP("",{providedIn:"root",factory:()=>({})});let JA=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(XA)},providedIn:"root"})}return n})(),XA=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Bh||{});function ay(n,e){n.events.pipe(jr(t=>t instanceof ui||t instanceof zu||t instanceof Wu||t instanceof Uo),(0,gt.U)(t=>t instanceof ui||t instanceof Uo?Bh.COMPLETE:t instanceof zu&&(0===t.code||1===t.code)?Bh.REDIRECTING:Bh.FAILED),jr(t=>t!==Bh.REDIRECTING),Vu(1)).subscribe(()=>{e()})}function eD(n){throw n}function tD(n,e,t){return e.parse("/")}const nD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this._events=new ls.x,this.options=(0,o.f3M)(Vg,{optional:!0})||{},this.pendingTasks=(0,o.f3M)(o.HDt),this.errorHandler=this.options.errorHandler||eD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(JA),this.routeReuseStrategy=(0,o.f3M)(jl),this.titleStrategy=(0,o.f3M)(dI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.f3M)(nc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.f3M)(Ug),this.urlSerializer=(0,o.f3M)(fs),this.location=(0,o.f3M)(xe),this.componentInputBindingEnabled=!!(0,o.f3M)(Cg,{optional:!0}),this.eventsSubscription=new Uu.w0,this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new so,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Z1(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(ql(r)&&this._events.next(r));if(r instanceof Qi)lI(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Uo)this.rawUrlTree=i.rawUrl;else if(r instanceof O1){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(u,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof $_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof zu)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof H_){const u=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lI(i.source)};this.scheduleNavigation(u,Sa,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Wu&&this.restoreHistory(i,!0),r instanceof ui&&(this.navigated=!0),ql(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Sa,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(u.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Dg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:l,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:l;let A,C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...u};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}null!==C&&(C=this.removeEmptyProps(C));try{A=g(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),A=this.currentUrlTree.root}return _(A,t,C,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=oo(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,Sa,null,r)}navigate(t,r={skipLocationChange:!1}){return function Bo(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new o.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...nD}:!1===r?{...rD}:r,oo(t))return cg(this.currentUrlTree,t,i);const u=this.parseUrl(t);return cg(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,l){if(this.disposed)return Promise.resolve(!1);let f,m,v;l?(f=l.resolve,m=l.reject,v=l.promise):v=new Promise((A,M)=>{f=A,m=M});const C=this.pendingTasks.add();return ay(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ql(n){return!(n instanceof $_||n instanceof H_)}let hi=(()=>{class n{constructor(t,r,i,u,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new ls.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof ui&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(qn),o.Y36(ci),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Oe))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&o.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",o.VuI],replaceUrl:["replaceUrl","replaceUrl",o.VuI],routerLink:"routerLink"},standalone:!0,features:[o.Xq5,o.TTD]})}return n})();class iD{}let uy=(()=>{class n{constructor(t,r,i,u,l){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(jr(t=>t instanceof ui),ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,o.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,f=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,Tn.D)(i).pipe((0,to.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,at.of)(null);const u=i.pipe((0,Zn.z)(l=>null===l?(0,at.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Tn.D)([u,l]).pipe((0,to.J)())}return u})}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(qn),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(iD),o.LFG(Lg))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Zh=new o.OlP("");let sD=(()=>{class n{constructor(t,r,i,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ui?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Uo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof CA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new CA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){o.$Z()};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function Zo(n,e){return{\u0275kind:n,\u0275providers:e}}function jh(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const r=n.get(qn),i=n.get(ly);1===n.get(qh)&&r.initialNavigation(),n.get(pI,null,o.XFs.Optional)?.setUpPreloading(),n.get(Zh,null,o.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ly=new o.OlP("",{factory:()=>new ls.x}),qh=new o.OlP("",{providedIn:"root",factory:()=>1}),pI=new o.OlP("");function dy(n){return Zo(0,[{provide:pI,useExisting:uy},{provide:iD,useExisting:n}])}const hy=new o.OlP("ROUTER_FORROOT_GUARD"),Ik=[xe,{provide:fs,useClass:hg},qn,Eg,{provide:ci,useFactory:function cy(n){return n.routerState.root},deps:[qn]},Lg,[]];function wk(){return new o.PXZ("Router",qn)}let jo=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ik,[],{provide:nc,multi:!0,useValue:t},{provide:hy,useFactory:fy,deps:[[qn,new o.FiY,new o.tp0]]},{provide:Vg,useValue:r||{}},r?.useHash?{provide:Oe,useClass:Ve}:{provide:Oe,useClass:Qe},{provide:Zh,useFactory:()=>{const n=(0,o.f3M)(So),e=(0,o.f3M)(o.R0b),t=(0,o.f3M)(Vg),r=(0,o.f3M)(Ug),i=(0,o.f3M)(fs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new sD(i,r,n,e,t)}},r?.preloadingStrategy?dy(r.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:wk},r?.initialNavigation?py(r):[],r?.bindToComponentInputs?Zo(8,[q1,{provide:Cg,useExisting:q1}]).\u0275providers:[],[{provide:yI,useFactory:jh},{provide:o.tb,multi:!0,useExisting:yI}]]}}static forChild(t){return{ngModule:n,providers:[{provide:nc,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(hy,8))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();function fy(n){return"guarded"}function py(n){return["disabled"===n.initialNavigation?Zo(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const e=(0,o.f3M)(qn);return()=>{e.setUpLocationChangeListener()}}},{provide:qh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zo(2,[{provide:qh,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:e=>{const t=e.get(Ue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(qn),u=e.get(ly);ay(i,()=>{r(!0)}),e.get(Ug).afterPreactivation=()=>(r(!0),u.closed?(0,at.of)(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const yI=new o.OlP("");let wI=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-main"]],decls:38,vars:0,consts:[[1,"main"],[1,"logo"],["viewBox","0 0 320 360","height","360","width","320",1,"logo"],["xmlns","http://www.w3.org/2000/svg","d","M20.961 227.22l3.726 4.658-1.863-6.056c-0.466-2.795-3.726 0.466-1.863 1.398M25.153 224.425c1.397 2.329 2.795 4.658 2.795 6.987 0 3.261 2.795 4.658 5.123 5.589-3.261-3.726-5.124-13.974-7.918-12.576M204.017 26.929c7.918 0 15.371-0.932 23.756 0.931 20.495 5.124 37.729 15.371 49.374 29.811l32.606 52.169c1.397 13.042 4.192 27.482 3.726 43.319 3.261 0 2.795-4.658 6.521-5.59-3.726 9.316-5.59 20.961-6.521 34.469-2.329-7.453 0-18.632 0.466-24.687-3.261 5.124-5.124 1.397-5.124-0.932 0.466-3.726-1.397-3.261-2.795-4.658-5.124-4.658-8.384-9.782-12.11-17.7 2.329-6.055 2.795-14.905-4.658-19.563-2.329-1.397-5.124-3.726-6.521-7.453-1.863-5.124-5.124-11.179-4.193-19.097 0.466-2.329-6.987 5.124-11.179 1.863-18.166-12.576-36.332-27.016-58.224-39.127-11.645 0-20.029-4.192-24.221-9.316-3.726-4.658-0.932-10.713 4.658-11.179 3.261 0 6.987-0.932 9.782 0.932 0.466-1.863 2.329-4.192 4.657-4.192M157.904 16.215l0.932 0.466c4.658 0.932 6.987 7.453 12.11 5.124 0 3.261 0.466 6.521-0.466 8.85-1.397 3.726-5.59 3.726-8.85 3.726-31.208-1.863-49.374 11.179-68.471 22.358-5.124 3.261-10.713 5.59-14.906 9.782-20.029 18.632-41.921 35.866-47.045 70.335l-4.192 38.195c-0.466 4.192-5.124 8.384-4.192 13.508l3.26 22.824c-3.261-3.261-5.124 0.932-4.192 2.795 0.466 1.397 2.329 6.055 5.124 1.863 3.726 6.987 7.453 20.495 12.576 26.55 15.837 18.632 36.332 35.4 53.101 52.169 4.192-0.932 7.453-0.932 8.384-3.727 1.397 2.795-1.397 5.59-3.726 6.056 7.453 4.658 15.837 8.85 27.016 9.781 14.44 0.932 27.948 3.261 40.524 6.522 6.521-1.863 13.042-2.795 20.029-3.261 2.329 0 3.726-3.726 6.521-4.658l0.466-4.658c2.795 4.192 2.329-1.397 0.466-4.192 3.261 2.795 4.192 5.124 5.589 6.987 0-1.397 3.726-6.521 3.727-0.466l0.931-6.055c1.397-0.932 1.863 5.124 3.261 0.931 1.397-4.192 4.192-0.932 6.987-2.329-0.932 1.863-0.466 5.59 2.794 3.261l3.727-3.261c2.329 5.59 6.055 3.261 7.918 2.329 20.495-13.042 40.99-28.413 60.553-43.784l-0.466 6.055 2.329-7.453c2.329 2.329 4.192 0.466 5.124-0.931 2.795-4.658 6.521-9.316 12.577-13.508-7.453 20.029-16.303 35.866-27.482 48.908l-4.658 5.59c0 3.261-0.932 7.453-4.658 7.918-1.863 0.466-5.59-0.932-8.384 1.863-1.397 1.863 3.261 5.59-0.466 2.795-3.261-2.329-6.521 0-10.248 0.932-2.795 0.932 1.863 3.726 2.795 5.589 0.932 1.863 1.863 3.726 1.398 6.056l-5.124-5.59c-6.055 3.261-9.782 9.316-14.906 13.974-2.329 1.863-1.397 5.124-1.397 7.918-3.261 0-6.987-0.932-8.85 0.932-1.397 1.863-0.932 4.658-0.932 7.453-4.658-0.466-5.124-7.453-9.315-6.056-4.192 0.932-8.85 1.397-12.577 3.727 2.795 5.59-4.658 2.329-3.726 3.26-6.987-4.192-13.042-7.453-20.495-4.658-15.837-5.124-35.4-2.795-49.84-0.931 0-2.329 0.466-4.658-0.466-5.124-0.932 2.329-3.726 1.397-3.26 1.397-8.85-6.055-17.7-9.782-27.016-14.905-8.384 0.932-16.303-3.261-18.632-5.59-6.521-6.055-13.974-2.795-20.029-4.192-13.042-3.261-17.7-16.769-19.098-26.084-0.932-4.658-4.658-6.521-6.055-6.056-6.055-19.563-15.371-37.263-22.824-55.429-1.863-4.658-1.397-9.316-1.397-14.44 2.329 0.932 4.658 0.466 4.192-2.794-2.329-15.371-7.918-27.016-13.974-38.195 3.261-15.837 3.726-34.469 11.179-48.443 6.521-12.576 18.632-19.098 27.016-29.811 2.795-3.726 2.795-8.85 5.59-12.11 9.316-9.316 18.632-19.098 28.879-27.482 4.658-3.726 10.247 0 17.234-1.397 2.329-8.384 11.645-15.837 20.495-13.508 3.726 0.932 11.179-8.85 13.508-9.782 3.726-1.397 1.863 3.726 1.863 6.987 8.85-6.987 20.961-10.713 32.14-14.906","fill","#ffffff","fill-rule","nonzero","stroke","none","stroke-width","1","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","stroke-dasharray","","stroke-dashoffset","0","data-fill-palette-color","tertiary",2,"mix-blend-mode","normal"],["transform","matrix(1,0,0,1,64,100.74523665202226)"],["viewBox","0 0 192 158.5095266959555","height","158.5095266959555","width","192"],["transform","matrix(1,0,0,1,0,116.51177957641397)"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192"],["id","textblocktransform"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192","id","textblock"],["viewBox","0 0 192 27.968648441980502","height","27.968648441980502","width","192"],["transform","matrix(1,0,0,1,0,0)"],["width","192","viewBox","3.25 -37.599998474121094 261.5199890136719 38.099998474121094","height","27.968648441980502","data-palette-color","#ffffff"],["d","M18.9-37.6L18.9-37.6Q21.4-37.6 23.73-36.77 26.05-35.95 27.9-34.55 29.75-33.15 30.95-31.3 32.15-29.45 32.45-27.35L32.45-27.35Q32.55-26.9 32.48-26.75 32.4-26.6 32.1-26.6L32.1-26.6 28.35-26.3Q28.1-26.25 28-26.4 27.9-26.55 27.85-26.8L27.85-26.8Q27.15-30 24.83-31.98 22.5-33.95 19.05-33.95L19.05-33.95Q13.85-33.95 11.05-30.1 8.25-26.25 8.25-18.5L8.25-18.5Q8.25-11 11-7.15 13.75-3.3 19.3-3.3L19.3-3.3Q22.85-3.3 25.23-5 27.6-6.7 29.05-10.45L29.05-10.45Q29.2-10.75 29.65-10.65L29.65-10.65 32.6-9.95Q32.75-9.9 32.85-9.75 32.95-9.6 32.85-9.25L32.85-9.25Q32.45-7.8 31.63-6.4 30.8-5 29.6-3.78 28.4-2.55 26.8-1.58 25.2-0.6 23.28-0.05 21.35 0.5 19.1 0.5L19.1 0.5Q14.15 0.5 10.58-1.8 7-4.1 5.13-8.4 3.25-12.7 3.25-18.6L3.25-18.6Q3.25-24.5 5.13-28.78 7-33.05 10.53-35.33 14.05-37.6 18.9-37.6L18.9-37.6ZM39.9 0L39.9 0Q39.25 0 39.25-0.65L39.25-0.65 39.25-36.45Q39.25-37.1 39.8-37.1L39.8-37.1 42.75-37.1Q43.3-37.1 43.3-36.5L43.3-36.5 43.3-23.15Q43.3-22.9 43.4-22.85 43.5-22.8 43.75-23L43.75-23Q45.5-24.35 46.97-25.25 48.45-26.15 49.87-26.58 51.3-27 53-27L53-27Q56.9-27 58.95-24.93 61-22.85 61-19.4L61-19.4 61-0.8Q61 0 60.25 0L60.25 0 57.45 0Q57.1 0 56.95-0.18 56.8-0.35 56.8-0.65L56.8-0.65 56.8-18.5Q56.8-20.95 55.55-22.33 54.3-23.7 51.6-23.7L51.6-23.7Q50.15-23.7 48.87-23.23 47.6-22.75 46.3-21.88 45-21 43.45-19.65L43.45-19.65 43.45-0.75Q43.45 0 42.65 0L42.65 0 39.9 0ZM71.2-11.6L71.2-11.6Q71.2-9.15 72.37-7.13 73.55-5.1 75.52-3.9 77.5-2.7 79.95-2.7L79.95-2.7Q82.45-2.7 84.4-3.73 86.35-4.75 87.75-6.85L87.75-6.85Q87.95-7.05 88.07-7.08 88.2-7.1 88.45-7L88.45-7 90.55-5.95Q91-5.7 90.65-5.25L90.65-5.25Q89.3-3.25 87.67-1.98 86.05-0.7 84.05-0.1 82.05 0.5 79.55 0.5L79.55 0.5Q75.85 0.5 73-1.2 70.15-2.9 68.5-5.95 66.85-9 66.85-13L66.85-13Q66.85-17.35 68.52-20.48 70.2-23.6 73.07-25.3 75.95-27 79.5-27L79.5-27Q83.15-27 85.85-25.4 88.55-23.8 90.05-20.75 91.55-17.7 91.55-13.4L91.55-13.4Q91.55-13.05 91.47-12.7 91.4-12.35 90.8-12.35L90.8-12.35 71.65-12.35Q71.45-12.35 71.32-12.13 71.2-11.9 71.2-11.6L71.2-11.6ZM71.3-15.1L86.5-15.1Q87.05-15.1 87.2-15.23 87.35-15.35 87.35-15.8L87.35-15.8Q87.35-17.95 86.42-19.83 85.5-21.7 83.77-22.85 82.05-24 79.6-24L79.6-24Q76.9-24 75.05-22.73 73.2-21.45 72.25-19.4 71.3-17.35 71.3-15.1L71.3-15.1ZM110.19-26.5L110.19-26.5Q110.44-26.5 110.57-26.35 110.69-26.2 110.69-26L110.69-26 110.69-23.85Q110.69-23.35 110.19-23.35L110.19-23.35 104.49-23.35Q104.09-23.35 104.09-22.95L104.09-22.95 104.09-0.7Q104.09 0 103.49 0L103.49 0 100.44 0Q99.89 0 99.89-0.65L99.89-0.65 99.89-23Q99.89-23.35 99.54-23.35L99.54-23.35 94.64-23.35Q94.14-23.35 94.14-23.85L94.14-23.85 94.14-26Q94.14-26.2 94.27-26.35 94.39-26.5 94.69-26.5L94.69-26.5 99.44-26.5Q99.89-26.5 99.89-27L99.89-27 99.89-30.65Q99.89-33.8 101.44-35.45 102.99-37.1 106.14-37.1L106.14-37.1 110.29-37.1Q110.94-37.1 110.94-36.5L110.94-36.5 110.94-34.55Q110.94-34.3 110.82-34.18 110.69-34.05 110.39-34.05L110.39-34.05 106.89-34.05Q105.34-34.05 104.67-33.08 103.99-32.1 103.99-30.45L103.99-30.45 103.99-26.95Q103.99-26.5 104.44-26.5L104.44-26.5 110.19-26.5ZM130.99-20.65L130.99-20.65Q129.99-22.15 128.19-23.1 126.39-24.05 123.89-24.05L123.89-24.05Q121.19-24.05 119.42-22.9 117.64-21.75 117.64-19.8L117.64-19.8Q117.64-18.75 118.44-17.82 119.24-16.9 121.69-16.1L121.69-16.1 128.04-14.2Q131.49-13.25 133.02-11.45 134.54-9.65 134.54-7.3L134.54-7.3Q134.54-4.95 133.14-3.2 131.74-1.45 129.29-0.48 126.84 0.5 123.74 0.5L123.74 0.5Q119.79 0.5 116.84-1.07 113.89-2.65 112.64-5L112.64-5Q112.49-5.25 112.49-5.45 112.49-5.65 112.74-5.8L112.74-5.8 114.69-6.9Q114.94-7.05 115.14-7.03 115.34-7 115.44-6.85L115.44-6.85Q116.29-5.55 117.42-4.6 118.54-3.65 120.12-3.1 121.69-2.55 123.79-2.55L123.79-2.55Q125.69-2.6 127.24-3.1 128.79-3.6 129.69-4.58 130.59-5.55 130.59-6.85L130.59-6.85Q130.59-8.2 129.49-9.18 128.39-10.15 125.69-10.9L125.69-10.9 120.54-12.35Q116.79-13.35 115.27-15.05 113.74-16.75 113.69-19.05L113.69-19.05Q113.69-21.45 114.99-23.23 116.29-25 118.62-26 120.94-27 123.94-27L123.94-27Q127.29-27 129.92-25.73 132.54-24.45 133.89-22.35L133.89-22.35Q134.04-22.15 134.04-21.98 134.04-21.8 133.84-21.65L133.84-21.65 131.74-20.5Q131.54-20.4 131.37-20.43 131.19-20.45 130.99-20.65L130.99-20.65ZM149.63-33.95L149.63-36.55Q149.63-36.8 149.76-36.95 149.88-37.1 150.23-37.1L150.23-37.1 177.13-37.1Q177.44-37.1 177.59-36.95 177.74-36.8 177.74-36.55L177.74-36.55 177.74-33.95Q177.74-33.45 177.13-33.45L177.13-33.45 166.99-33.45Q166.44-33.45 166.44-32.95L166.44-32.95 166.44-0.65Q166.44 0 165.84 0L165.84 0 162.23 0Q161.63 0 161.63-0.65L161.63-0.65 161.63-32.9Q161.63-33.45 161.13-33.45L161.13-33.45 150.23-33.45Q149.63-33.45 149.63-33.95L149.63-33.95ZM194.68-3.2L194.68-3.2Q192.83-1.4 190.66-0.45 188.48 0.5 185.78 0.5L185.78 0.5Q181.88 0.5 179.66-1.5 177.43-3.5 177.43-6.75L177.43-6.75Q177.43-9.4 178.93-11.33 180.43-13.25 183.38-14.38 186.33-15.5 190.63-15.75L190.63-15.75 194.53-16.05Q194.83-16.1 195.08-16.25 195.33-16.4 195.33-16.8L195.33-16.8 195.33-18.15Q195.33-20.85 193.66-22.43 191.98-24 189.13-24L189.13-24Q186.93-24 185.16-23 183.38-22 181.98-20L181.98-20Q181.78-19.75 181.66-19.68 181.53-19.6 181.23-19.7L181.23-19.7 178.53-20.6Q178.38-20.7 178.31-20.85 178.23-21 178.43-21.4L178.43-21.4Q179.93-24 182.66-25.5 185.38-27 189.33-27L189.33-27Q192.68-27 194.91-25.98 197.13-24.95 198.26-23.03 199.38-21.1 199.38-18.45L199.38-18.45 199.38-0.75Q199.38-0.3 199.23-0.15 199.08 0 198.73 0L198.73 0 196.18 0Q195.83 0 195.68-0.23 195.53-0.45 195.48-0.8L195.48-0.8 195.43-3.1Q195.28-3.8 194.68-3.2L194.68-3.2ZM195.33-12.7L195.33-12.7Q195.33-13.55 194.63-13.5L194.63-13.5 191.33-13.2Q189.03-13.1 187.23-12.63 185.43-12.15 184.18-11.4 182.93-10.65 182.28-9.63 181.63-8.6 181.63-7.25L181.63-7.25Q181.63-5.05 183.16-3.83 184.68-2.6 187.28-2.6L187.28-2.6Q188.88-2.6 190.36-3.18 191.83-3.75 192.93-4.65L192.93-4.65Q194.08-5.6 194.71-6.6 195.33-7.6 195.33-8.55L195.33-8.55 195.33-12.7ZM211.08-36.45L211.08-0.85Q211.08-0.35 210.88-0.18 210.68 0 210.18 0L210.18 0 207.58 0Q206.83 0 206.83-0.7L206.83-0.7 206.88-36.4Q206.88-37.1 207.48-37.1L207.48-37.1 210.48-37.1Q211.08-37.1 211.08-36.45L211.08-36.45ZM241.68-0.8L241.68-0.8Q241.88-0.5 241.78-0.25 241.68 0 241.23 0L241.23 0 237.73 0Q237.43 0 237.2-0.15 236.98-0.3 236.83-0.6L236.83-0.6 229.28-13.55Q229.18-13.75 229.05-13.83 228.93-13.9 228.68-13.65L228.68-13.65 223.38-8.3Q223.18-8.1 223.1-7.88 223.03-7.65 223.03-7.3L223.03-7.3 223.03-0.85Q223.03-0.35 222.85-0.18 222.68 0 222.13 0L222.13 0 219.58 0Q219.08 0 218.95-0.15 218.83-0.3 218.83-0.7L218.83-0.7 218.83-36.4Q218.83-37.1 219.38-37.1L219.38-37.1 222.43-37.1Q223.03-37.1 223.03-36.45L223.03-36.45 223.03-13.25Q223.03-12.85 223.13-12.78 223.23-12.7 223.53-13.05L223.53-13.05 235.88-25.9Q236.43-26.5 236.93-26.5L236.93-26.5 239.98-26.5Q240.48-26.5 240.55-26.23 240.63-25.95 240.23-25.55L240.23-25.55 232.33-17.5Q232.18-17.35 232.15-17.15 232.13-16.95 232.28-16.65L232.28-16.65 241.68-0.8ZM261.23-20.65L261.23-20.65Q260.23-22.15 258.43-23.1 256.63-24.05 254.13-24.05L254.13-24.05Q251.42-24.05 249.65-22.9 247.88-21.75 247.88-19.8L247.88-19.8Q247.88-18.75 248.67-17.82 249.47-16.9 251.92-16.1L251.92-16.1 258.27-14.2Q261.73-13.25 263.25-11.45 264.77-9.65 264.77-7.3L264.77-7.3Q264.77-4.95 263.38-3.2 261.98-1.45 259.52-0.48 257.07 0.5 253.97 0.5L253.97 0.5Q250.03 0.5 247.07-1.07 244.13-2.65 242.88-5L242.88-5Q242.72-5.25 242.72-5.45 242.72-5.65 242.97-5.8L242.97-5.8 244.92-6.9Q245.17-7.05 245.38-7.03 245.57-7 245.67-6.85L245.67-6.85Q246.53-5.55 247.65-4.6 248.78-3.65 250.35-3.1 251.92-2.55 254.03-2.55L254.03-2.55Q255.92-2.6 257.48-3.1 259.02-3.6 259.93-4.58 260.82-5.55 260.82-6.85L260.82-6.85Q260.82-8.2 259.73-9.18 258.63-10.15 255.92-10.9L255.92-10.9 250.78-12.35Q247.03-13.35 245.5-15.05 243.97-16.75 243.92-19.05L243.92-19.05Q243.92-21.45 245.22-23.23 246.53-25 248.85-26 251.17-27 254.17-27L254.17-27Q257.52-27 260.15-25.73 262.77-24.45 264.13-22.35L264.13-22.35Q264.27-22.15 264.27-21.98 264.27-21.8 264.07-21.65L264.07-21.65 261.98-20.5Q261.77-20.4 261.6-20.43 261.43-20.45 261.23-20.65L261.23-20.65Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,36.672,34.57137509156949)"],["viewBox","0 0 118.656 7.426372027972029","height","7.426372027972029","width","118.656"],["width","118.656","viewBox","0 -35.79999923706055 571.9600219726562 35.79999923706055","height","7.426372027972029","data-palette-color","#ffffff"],["d","M40.35-2.15L52.4-2.15 52.4 0 33.75 0 26.4-23.95 26-23.95 18.65 0 0 0 0-2.15 12.05-2.15 0.6-34.95 6.95-34.95 15.75-9.8 23.55-34.95 28.85-34.95 36.65-9.8 45.45-34.95 51.8-34.95 40.35-2.15ZM52.4-2.15L57.25-2.15 57.25-34.95 81.8-34.95 81.8-29.4 63.15-29.4 63.15-20.15 79.9-20.15 79.9-14.9 63.15-14.9 63.15-5.55 82.4-5.55 82.4-2.15 87.25-2.15 87.25 0 52.4 0 52.4-2.15ZM85.1-2.15L98.8-2.15 98.8 0 85.1 0 85.1-2.15ZM129.04-2.15L135.59-2.15 135.59 0 98.79 0 98.79-2.15 109.89-2.15Q105.94-4.5 103.67-8.55 101.39-12.6 101.39-17.7L101.39-17.7Q101.39-25.4 106.72-30.6 112.04-35.8 120.17-35.8 128.29-35.8 133.74-29.8L133.74-29.8 129.99-25.7Q127.49-28.1 125.27-29.05 123.04-30 120.04-30L120.04-30Q114.74-30 111.14-26.58 107.54-23.15 107.54-17.82 107.54-12.5 111.12-8.93 114.69-5.35 119.59-5.35L119.59-5.35Q122.64-5.35 124.84-6.38 127.04-7.4 129.44-9.65L129.44-9.65 133.24-5.75Q131.04-3.35 129.04-2.15L129.04-2.15ZM166.14-2.15L177.59-2.15 177.59 0 135.59 0 135.59-2.15 147.04-2.15Q142.94-4.5 140.57-8.6 138.19-12.7 138.19-17.75L138.19-17.75Q138.19-25.45 143.49-30.63 148.79-35.8 156.59-35.8 164.39-35.8 169.69-30.63 174.99-25.45 174.99-17.75L174.99-17.75Q174.99-12.75 172.62-8.6 170.24-4.45 166.14-2.15L166.14-2.15ZM165.37-26.7Q161.79-30.4 156.59-30.4 151.39-30.4 147.82-26.7 144.24-23 144.24-17.73 144.24-12.45 147.82-8.75 151.39-5.05 156.59-5.05 161.79-5.05 165.37-8.75 168.94-12.45 168.94-17.73 168.94-23 165.37-26.7ZM208.14-2.15L219.59-2.15 219.59 0 177.59 0 177.59-2.15 189.04-2.15Q184.94-4.5 182.56-8.6 180.19-12.7 180.19-17.75L180.19-17.75Q180.19-25.45 185.49-30.63 190.79-35.8 198.59-35.8 206.39-35.8 211.69-30.63 216.99-25.45 216.99-17.75L216.99-17.75Q216.99-12.75 214.61-8.6 212.24-4.45 208.14-2.15L208.14-2.15ZM207.36-26.7Q203.79-30.4 198.59-30.4 193.39-30.4 189.81-26.7 186.24-23 186.24-17.73 186.24-12.45 189.81-8.75 193.39-5.05 198.59-5.05 203.79-5.05 207.36-8.75 210.94-12.45 210.94-17.73 210.94-23 207.36-26.7ZM219.59-2.15L224.44-2.15 224.44-34.95 230.34-34.95 230.34-17.9 246.34-34.95 253.84-34.95 239.79-19.65 252.49-2.1 252.49-2.15 257.34-2.15 257.34 0 247.04 0 235.44-15.3 230.34-9.8 230.34 0 219.59 0 219.59-2.15ZM254.78-2.15L268.48-2.15 268.48 0 254.78 0 254.78-2.15ZM308.83-2.15L320.88-2.15 320.88 0 302.23 0 294.88-23.95 294.48-23.95 287.13 0 268.48 0 268.48-2.15 280.53-2.15 269.08-34.95 275.43-34.95 284.23-9.8 292.03-34.95 297.33-34.95 305.13-9.8 313.93-34.95 320.28-34.95 308.83-2.15ZM320.88-2.15L325.73-2.15 325.73-34.95 331.63-34.95 331.63-2.15 336.48-2.15 336.48 0 320.88 0 320.88-2.15ZM354.53-2.15L366.68-2.15 366.68 0 336.48 0 336.48-2.15 348.63-2.15 348.63-29.55 338.03-29.55 338.03-34.95 365.13-34.95 365.13-29.55 354.53-29.55 354.53-2.15ZM405.52 0L405.52-2.15 400.67-2.15 400.67-34.95 394.77-34.95 394.77-19.8 377.42-19.8 377.42-34.95 371.52-34.95 371.52 0 377.42 0 377.42-14.3 394.77-14.3 394.77 0 405.52 0ZM366.67-2.15L371.52-2.15 371.52 0 366.67 0 366.67-2.15ZM405.52-2.15L419.22-2.15 419.22 0 405.52 0 405.52-2.15ZM445.92-2.15L450.77-2.15 450.77 0 419.22 0 419.22-2.15 424.07-2.15 424.07-34.95 429.97-34.95 429.97-5.6 445.92-5.6 445.92-2.15ZM478.07-2.15L489.52-2.15 489.52 0 447.52 0 447.52-2.15 458.97-2.15Q454.87-4.5 452.49-8.6 450.12-12.7 450.12-17.75L450.12-17.75Q450.12-25.45 455.42-30.63 460.72-35.8 468.52-35.8 476.32-35.8 481.62-30.63 486.92-25.45 486.92-17.75L486.92-17.75Q486.92-12.75 484.54-8.6 482.17-4.45 478.07-2.15L478.07-2.15ZM477.29-26.7Q473.72-30.4 468.52-30.4 463.32-30.4 459.74-26.7 456.17-23 456.17-17.73 456.17-12.45 459.74-8.75 463.32-5.05 468.52-5.05 473.72-5.05 477.29-8.75 480.87-12.45 480.87-17.73 480.87-23 477.29-26.7ZM511.16-2.15L524.51-2.15 524.51 0 489.51 0 489.51-2.15 502.81-2.15 489.66-34.95 496.26-34.95 507.01-8.85 517.76-34.95 524.36-34.95 511.16-2.15ZM524.51-2.15L529.36-2.15 529.36-34.95 553.91-34.95 553.91-29.4 535.26-29.4 535.26-20.15 552.01-20.15 552.01-14.9 535.26-14.9 535.26-5.55 554.51-5.55 554.51-2.15 559.36-2.15 559.36 0 524.51 0 524.51-2.15ZM561.11-28.5L561.11-34.95 568.11-34.95 568.11-28.5 566.61-10.95 562.61-10.95 561.11-28.5ZM567.21-2.15L571.96-2.15 571.96 0 557.21 0 557.21-2.15 562.06-2.15Q560.91-3.2 560.91-4.78 560.91-6.35 562.01-7.45 563.11-8.55 564.63-8.55 566.16-8.55 567.26-7.45 568.36-6.35 568.36-4.78 568.36-3.2 567.21-2.15L567.21-2.15Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","secondary","id","text-1",1,"slogan-text-1"],["transform","matrix(1,0,0,1,44.346836861382,0)"],["viewBox","0 0 103.306326277236 103.306326277236","height","103.306326277236","width","103.306326277236"],["id","icon-0"],["d","M0 51.653c0-28.527 23.126-51.653 51.653-51.653 28.527 0 51.653 23.126 51.653 51.653 0 28.527-23.126 51.653-51.653 51.653-28.527 0-51.653-23.126-51.653-51.653zM51.653 100.784c27.134 0 49.131-21.997 49.131-49.131 0-27.134-21.997-49.131-49.131-49.131-27.134 0-49.131 21.997-49.131 49.131 0 27.134 21.997 49.131 49.131 49.131z","data-fill-palette-color","accent","fill","#ffffff","stroke","transparent"],["rx","51.13663150723182","ry","51.13663150723182","cx","51.653163138618","cy","51.653163138618","fill","#ffffff","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,20.799678473042622,21.56674460107238)"],["viewBox","0 0 61.70696933115075 60.17283707509124","height","60.17283707509124","width","61.70696933115075"],["xmlns","http://www.w3.org/2000/svg","x","0","y","0","viewBox","4.642358779907227 7.340823173522949 90.00060272216797 87.76304626464844","height","60.17283707509124","width","61.70696933115075","data-fill-palette-color","quaternary","id","y-0",1,"icon-y-0"],["d","M34.065 95.103c0 0-5.908 0.268-6.441-8.623l-4.313-27.253c0 0-17.724-3.09-18.628-18.685 0 0-1.49-14.747 13.574-20.441 0 0 2.29-1.809 10.115-1.704 0 0 7.187-11.871 21.397-10.965 0 0 10.968-1.81 21.08 10.699 0 0 14.211-1.011 21.345 11.604 0 0 8.251 13.468-5.537 24.752 0 0-3.46 3.087-9.847 4.578l-3.565 29.33c0 0 0.21 4.95-3.779 5.909l0.212-43.862c0 0-0.638-3.62-4.151-3.568 0 0-3.355-0.158-4.045 3.568V76.42h2.767v18.683h-8.782V66.41c0 0 2.874-0.462 3.246-3.185V47.887c0 0 0.238-1.146-0.831-1.083-1.072 0.063-0.926 0.42-0.926 1.029 0 0.608 0 11.062 0 11.062h-1.679V47.75c0 0-0.042-1.008-0.796-0.797 0 0-0.86-0.19-0.902 0.818-0.042 1.006 0 11.04 0 11.04h-1.679V47.853c0 0 0.125-1.069-0.735-1.048-0.861 0.021-0.925 0.672-0.925 1.134 0 0.461 0 10.894 0 10.894h-1.615V47.434c0 0 0.083-0.755-0.841-0.65-0.921 0.106-0.902 0.629-0.902 0.86 0 0.232 0 15.389 0 15.389s-0.273 2.853 3.359 3.146v28.924H39.071V68.363c0 0 6.467-3.529 5.795-10.58 0 0 0.504-8.649-7.223-10.831 0 0-8.06-0.505-9.235 9.571 0 0-0.841 8.73 5.542 11.672L34.065 95.103z","fill","#06aed5","data-fill-palette-color","quaternary"]],template:function(r,i){1&r&&(o.TgZ(0,"main",0)(1,"div",1),o.O4$(),o.TgZ(2,"svg",2)(3,"g"),o._UZ(4,"path",3),o.qZA(),o.TgZ(5,"g",4)(6,"svg",5)(7,"g")(8,"svg",5)(9,"g",6)(10,"svg",7)(11,"g",8)(12,"svg",9)(13,"g")(14,"svg",10)(15,"g",11)(16,"svg",12),o._UZ(17,"path",13),o.qZA()()()(),o.TgZ(18,"g",14)(19,"svg",15)(20,"g",11)(21,"svg",16),o._UZ(22,"path",17),o.qZA()()()()()()()(),o.TgZ(23,"g",18)(24,"svg",19)(25,"g"),o._UZ(26,"svg"),o.qZA(),o.TgZ(27,"g",20)(28,"svg",19)(29,"g"),o._UZ(30,"path",21)(31,"ellipse",22),o.qZA(),o.TgZ(32,"g",23)(33,"svg",24)(34,"g")(35,"svg",25),o._UZ(36,"path",26),o.qZA()()()()()()()(),o._UZ(37,"g"),o.qZA()()()()()()())},styles:[".logo[_ngcontent-%COMP%]{width:250px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return n})(),Pa=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.Qsj),o.Y36(o.SBq))};static#t=this.\u0275dir=o.lG2({type:n})}return n})(),sc=(()=>{class n extends Pa{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,features:[o.qOj]})}return n})();const gs=new o.OlP("NgValueAccessor"),Bg={provide:gs,useExisting:(0,o.Gpc)(()=>Zg),multi:!0};let Zg=(()=>{class n extends sc{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&o.NdJ("change",function(l){return i.onChange(l.target.checked)})("blur",function(){return i.onTouched()})},features:[o._Bn([Bg]),o.qOj]})}return n})();const my={provide:gs,useExisting:(0,o.Gpc)(()=>fi),multi:!0},ao=new o.OlP("CompositionEventMode");let fi=(()=>{class n extends Pa{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jg(){const n=ie()?ie().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(ao,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&o.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[o._Bn([my]),o.qOj]})}return n})();function uo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function CI(n){return null!=n&&"number"==typeof n.length}const $r=new o.OlP("NgValidators"),qo=new o.OlP("NgAsyncValidators"),$l=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ct{static min(e){return function bI(n){return e=>{if(uo(e.value)||uo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function AI(n){return e=>{if(uo(e.value)||uo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return qg(e)}static requiredTrue(e){return function _y(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function DI(n){return uo(n.value)||$l.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function yy(n){return e=>uo(e.value)||!CI(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function $g(n){return e=>CI(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function dD(n){if(!n)return Hg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(uo(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return zg(e)}static composeAsync(e){return oc(e)}}function qg(n){return uo(n.value)?{required:!0}:null}function Hg(n){return null}function SI(n){return null!=n}function xI(n){return(0,o.QGY)(n)?(0,Tn.D)(n):n}function hD(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function fD(n,e){return e.map(t=>t(n))}function MI(n){return n.map(e=>function Gg(n){return!n.validate}(e)?e:t=>e.validate(t))}function zg(n){if(!n)return null;const e=n.filter(SI);return 0==e.length?null:function(t){return hD(fD(t,e))}}function Hh(n){return null!=n?zg(MI(n)):null}function oc(n){if(!n)return null;const e=n.filter(SI);return 0==e.length?null:function(t){return function TI(...n){const e=(0,ya.jO)(n),{args:t,keys:r}=Tl(n),i=new Kn.y(u=>{const{length:l}=t;if(!l)return void u.complete();const f=new Array(l);let m=l,v=l;for(let C=0;C<l;C++){let A=!1;(0,Fu.Xf)(t[C]).subscribe((0,ii.x)(u,M=>{A||(A=!0,v--),f[C]=M},()=>m--,void 0,()=>{(!m||!A)&&(v||u.next(r?sg(r,f):f),u.complete())}))}});return e?i.pipe(Ou(e)):i}(fD(t,e).map(xI)).pipe((0,gt.U)(hD))}}function Gh(n){return null!=n?oc(MI(n)):null}function Wg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Hl(n){return n._rawValidators}function zh(n){return n._rawAsyncValidators}function Oa(n){return n?Array.isArray(n)?n:[n]:[]}function Gl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Kg(n,e){const t=Oa(e);return Oa(n).forEach(i=>{Gl(t,i)||t.push(i)}),t}function Wh(n,e){return Oa(e).filter(t=>!Gl(n,t))}class pD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Nr extends pD{get formDirective(){return null}get path(){return null}}class ms extends pD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NI{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ka=(()=>{class n extends NI{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ms,2))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]})}return n})(),co=(()=>{class n extends NI{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Nr,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]})}return n})();const Fa="VALID",Jg="INVALID",Fs="PENDING",$o="DISABLED";function Iy(n){return(Xg(n)?n.validators:n)||null}function wy(n,e){return(Xg(e)?e.asyncValidators:n)||null}function Xg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ty(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new o.vHH(1e3,"");if(!r[t])throw new o.vHH(1001,"")}function Cy(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new o.vHH(1002,"")})}class zl{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fa}get invalid(){return this.status===Jg}get pending(){return this.status==Fs}get disabled(){return this.status===$o}get enabled(){return this.status!==$o}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Kg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Kg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wh(e,this._rawAsyncValidators))}hasValidator(e){return Gl(this._rawValidators,e)}hasAsyncValidator(e){return Gl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$o,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fa,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fa||this.status===Fs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$o:Fa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fs,this._hasOwnPendingAsyncValidator=!0;const t=xI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?$o:this.errors?Jg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fs)?Fs:this._anyControlsHaveStatus(Jg)?Jg:Fa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function LI(n){return Array.isArray(n)?Hh(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function ED(n){return Array.isArray(n)?Gh(n):n||null}(this._rawAsyncValidators)}}class em extends zl{constructor(e,t,r){super(Iy(t),wy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Cy(this,0,e),Object.keys(e).forEach(r=>{Ty(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class VI extends em{}const La=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Kh}),Kh="always";function Qh(n,e){return[...e.path,n]}function Yh(n,e,t=Kh){nm(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ZI(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rm(n,e)})}(n,e),function Ua(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function xk(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rm(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function BI(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function tm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pi(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function by(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function nm(n,e){const t=Hl(n);null!==e.validator?n.setValidators(Wg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=zh(n);null!==e.asyncValidator?n.setAsyncValidators(Wg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();by(e._rawValidators,i),by(e._rawAsyncValidators,i)}function Pi(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Hl(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=zh(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return by(e._rawValidators,r),by(e._rawAsyncValidators,r),t}function rm(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function jI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Wl=class extends zl{constructor(e=null,t,r){super(Iy(t),wy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=jI(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){jI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let qI=(()=>{class n extends Nr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Qh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,features:[o.qOj]})}return n})(),lo=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const ef={provide:gs,useExisting:(0,o.Gpc)(()=>Go),multi:!0};let Go=(()=>{class n extends sc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&o.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([ef]),o.qOj]})}return n})(),GI=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();const WI=new o.OlP("NgModelWithFormControlWarning"),Pk={provide:Nr,useExisting:(0,o.Gpc)(()=>Ls)};let Ls=(()=>{class n extends Nr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Yh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){tm(t.control||null,t,!1),function Sy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function nr(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(tm(r||null,t),(n=>n instanceof Wl)(i)&&(Yh(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function im(n,e){nm(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function wD(n,e){return Pi(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nm(this.form,this),this._oldForm&&Pi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36($r,10),o.Y36(qo,10),o.Y36(La,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&o.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Pk]),o.qOj,o.TTD]})}return n})();const KI={provide:Nr,useExisting:(0,o.Gpc)(()=>tf)};let tf=(()=>{class n extends qI{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Py(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Nr,13),o.Y36($r,10),o.Y36(qo,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o._Bn([KI]),o.qOj]})}return n})();const om={provide:Nr,useExisting:(0,o.Gpc)(()=>uc)};let uc=(()=>{class n extends Nr{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Qh(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Py(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Nr,13),o.Y36($r,10),o.Y36(qo,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o._Bn([om]),o.qOj]})}return n})();function Py(n){return!(n instanceof tf||n instanceof Ls||n instanceof uc)}const kD={provide:ms,useExisting:(0,o.Gpc)(()=>ho)};let ho=(()=>{class n extends ms{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Dy(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===fi?t=u:function Mk(n){return Object.getPrototypeOf(n.constructor)===sc}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function Ay(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Qh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(o.Y36(Nr,13),o.Y36($r,10),o.Y36(qo,10),o.Y36(gs,10),o.Y36(WI,8))};static#n=this.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([kD]),o.qOj,o.TTD]})}return n})();const QI={provide:gs,useExisting:(0,o.Gpc)(()=>zo),multi:!0};function At(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let zo=(()=>{class n extends sc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=At(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function YI(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&o.NdJ("change",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([QI]),o.qOj]})}return n})(),Us=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(At(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(zo,9))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const JI={provide:gs,useExisting:(0,o.Gpc)(()=>rf),multi:!0};function XI(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let rf=(()=>{class n extends sc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,l)=>{u._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const l=u;for(let f=0;f<l.length;f++){const v=this._getOptionValue(l[f].value);i.push(v)}}else{const l=r.options;for(let f=0;f<l.length;f++){const m=l[f];if(m.selected){const v=this._getOptionValue(m.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function am(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&o.NdJ("change",function(l){return i.onChange(l.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([JI]),o.qOj]})}return n})(),fo=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(XI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(XI(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(rf,9))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),Wo=(()=>{class n{constructor(){this._validator=Hg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=o.lG2({type:n,features:[o.TTD]})}return n})();const FD={provide:$r,useExisting:(0,o.Gpc)(()=>sf),multi:!0};let sf=(()=>{class n extends Wo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.VuI,this.createValidator=t=>qg}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([FD]),o.qOj]})}return n})(),cm=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[GI]})}return n})();class Vy extends zl{constructor(e,t,r){super(Iy(t),wy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Cy(this,0,e),e.forEach((r,i)=>{Ty(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function s3(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Ba=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return s3(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new em(i,u)}record(t,r=null){const i=this._reduceControls(t);return new VI(i,r)}control(t,r,i){let u={};return this.useNonNullable?(s3(r)?u=r:(u.validators=r,u.asyncValidators=i),new Wl(t,{...u,nonNullable:!0})):new Wl(t,r,i)}array(t,r,i){const u=t.map(l=>this._createControl(l));return new Vy(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Wl||t instanceof zl?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:La,useValue:t.callSetDisabledState??Kh}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[cm]})}return n})(),By=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:WI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:La,useValue:t.callSetDisabledState??Kh}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[cm]})}return n})();var pi=P(7592);(0,pi.registerVersion)("firebase","9.23.0","app");var R=P(5861),rr=P(4537),ki=P(7879),_e=P(9058),$D=P(1878);class a3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function u3(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Ql="@firebase/app",Yl=new ki.Yd("@firebase/app"),fm="[DEFAULT]",v3={[Ql]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Za=new Map,pm=new Map;function JD(n,e){try{n.container.addComponent(e)}catch(t){Yl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fi(n){const e=n.name;if(pm.has(e))return Yl.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,n);for(const t of Za.values())JD(t,n);return!0}function cf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Qo=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class eS{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rr.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}const Jl="10.5.2";function qy(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:fm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(t||(t=(0,_e.aH)()),!t)throw Qo.create("no-options");const u=Za.get(i);if(u){if((0,_e.vZ)(t,u.options)&&(0,_e.vZ)(r,u.config))return u;throw Qo.create("duplicate-app",{appName:i})}const l=new rr.H0(i);for(const m of pm.values())l.addComponent(m);const f=new eS(t,r,l);return Za.set(i,f),f}function gi(n,e,t){var r;let i=null!==(r=v3[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const u=i.match(/\s|\//),l=e.match(/\s|\//);if(u||l){const f=[`Unable to register library "${i}" with version "${e}":`];return u&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),u&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Yl.warn(f.join(" "))}Fi(new rr.wA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const tS="firebase-heartbeat-database",nS=1,lf="firebase-heartbeat-store";let mm=null;function zy(){return mm||(mm=(0,$D.X3)(tS,nS,{upgrade:(n,e)=>{0===e&&n.createObjectStore(lf)}}).catch(n=>{throw Qo.create("idb-open",{originalErrorMessage:n.message})})),mm}function E3(){return(E3=(0,R.Z)(function*(n){try{return yield(yield zy()).transaction(lf).objectStore(lf).get(iS(n))}catch(e){if(e instanceof _e.ZR)Yl.warn(e.message);else{const t=Qo.create("idb-get",{originalErrorMessage:e?.message});Yl.warn(t.message)}}})).apply(this,arguments)}function Wy(n,e){return _m.apply(this,arguments)}function _m(){return(_m=(0,R.Z)(function*(n,e){try{const r=(yield zy()).transaction(lf,"readwrite");yield r.objectStore(lf).put(e,iS(n)),yield r.done}catch(t){if(t instanceof _e.ZR)Yl.warn(t.message);else{const r=Qo.create("idb-set",{originalErrorMessage:t?.message});Yl.warn(r.message)}}})).apply(this,arguments)}function iS(n){return`${n.name}!${n.options.appId}`}class oS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new po(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,R.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vm();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(u=>u.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(u=>{const l=new Date(u.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,R.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=vm(),{heartbeatsToSend:r,unsentEntries:i}=function aS(n,e=1024){const t=[];let r=n.slice();for(const i of n){const u=t.find(l=>l.agent===i.agent);if(u){if(u.dates.push(i.date),Xl(t)>e){u.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Xl(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),u=(0,_e.L)(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),u})()}}function vm(){return(new Date).toISOString().substring(0,10)}class po{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,R.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function rS(n){return E3.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,R.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return Wy(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,R.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return Wy(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}})()}}function Xl(n){return(0,_e.L)(JSON.stringify({version:2,heartbeats:n})).length}!function Hr(n){Fi(new rr.wA("platform-logger",e=>new a3(e),"PRIVATE")),Fi(new rr.wA("heartbeat",e=>new oS(e),"PRIVATE")),gi(Ql,"0.9.22",n),gi(Ql,"0.9.22","esm2017"),gi("fire-js","")}("");const cc=(n,e)=>e.some(t=>n instanceof t);let df,Yi;const lc=new WeakMap,ja=new WeakMap,dc=new WeakMap,qa=new WeakMap,$a=new WeakMap;let Ha={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return ja.get(n);if("objectStoreNames"===e)return n.objectStoreNames||dc.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function T3(n){return"function"==typeof n?function w3(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ed(){return Yi||(Yi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Em(this),e),Yo(lc.get(this))}:function(...e){return Yo(n.apply(Em(this),e))}:function(e,...t){const r=n.call(Em(this),e,...t);return dc.set(r,e.sort?e.sort():[e]),Yo(r)}}(n):(n instanceof IDBTransaction&&function nd(n){if(ja.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});ja.set(n,e)}(n),cc(n,function Ky(){return df||(df=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ha):n)}function Yo(n){if(n instanceof IDBRequest)return function td(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(Yo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&lc.set(t,n)}).catch(()=>{}),$a.set(e,n),e}(n);if(qa.has(n))return qa.get(n);const e=T3(n);return e!==n&&(qa.set(n,e),$a.set(e,n)),e}const Em=n=>$a.get(n),b3=["get","getKey","getAll","getAllKeys","count"],A3=["put","add","delete","clear"],hf=new Map;function D3(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(hf.get(e))return hf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=A3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b3.includes(t))return;const u=function(){var l=(0,R.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return l.apply(this,arguments)}}();return hf.set(e,u),u}!function I3(n){Ha=n(Ha)}(n=>({...n,get:(e,t,r)=>D3(e,t)||n.get(e,t,r),has:(e,t)=>!!D3(e,t)||n.has(e,t)}));const cS="@firebase/installations",S3="0.6.4",x3=1e4,M3=`w:${S3}`,lS="FIS_v2",dS="https://firebaseinstallations.googleapis.com/v1",Gk=36e5,Vs=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rd(n){return n instanceof _e.ZR&&n.code.includes("request-failed")}function ff({projectId:n}){return`${dS}/projects/${n}/installations`}function pf(n){return{token:n.token,requestStatus:2,expiresIn:gS(n.expiresIn),creationTime:Date.now()}}function Im(n,e){return hc.apply(this,arguments)}function hc(){return(hc=(0,R.Z)(function*(n,e){const r=(yield e.json()).error;return Vs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Qy({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function fc(n){return Yy.apply(this,arguments)}function Yy(){return(Yy=(0,R.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function gS(n){return Number(n.replace("s","000"))}function gf(){return(gf=(0,R.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=ff(n),i=Qy(n),u=e.getImmediate({optional:!0});if(u){const v=yield u.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:lS,appId:n.appId,sdkVersion:M3})},m=yield fc(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:pf(v.authToken)}}throw yield Im("Create Installation",m)})).apply(this,arguments)}function mf(n){return new Promise(e=>{setTimeout(e,n)})}const zk=/^[cdef][\w-]{21}$/,Jy="";function yS(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Xy(n){return function wm(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return zk.test(t)?t:Jy}catch{return Jy}}function id(n){return`${n.appName}!${n.appId}`}const pc=new Map;function R3(n,e){const t=id(n);ev(t,e),function O3(n,e){const t=function k3(){return!gc&&"BroadcastChannel"in self&&(gc=new BroadcastChannel("[Firebase] FID Change"),gc.onmessage=n=>{ev(n.data.key,n.data.fid)}),gc}();t&&t.postMessage({key:n,fid:e}),function F3(){0===pc.size&&gc&&(gc.close(),gc=null)}()}(t,e)}function ev(n,e){const t=pc.get(n);if(t)for(const r of t)r(e)}let gc=null;const L3="firebase-installations-database",tv=1,Jo="firebase-installations-store";let nv=null;function sd(){return nv||(nv=function C3(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),f=Yo(l);return r&&l.addEventListener("upgradeneeded",m=>{r(Yo(l.result),m.oldVersion,m.newVersion,Yo(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(m=>{u&&m.addEventListener("close",()=>u()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(L3,tv,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Jo)}})),nv}function mc(n,e){return _f.apply(this,arguments)}function _f(){return(_f=(0,R.Z)(function*(n,e){const t=id(n),i=(yield sd()).transaction(Jo,"readwrite"),u=i.objectStore(Jo),l=yield u.get(t);return yield u.put(e,t),yield i.done,(!l||l.fid!==e.fid)&&R3(n,e.fid),e})).apply(this,arguments)}function Tm(n){return rv.apply(this,arguments)}function rv(){return(rv=(0,R.Z)(function*(n){const e=id(n),r=(yield sd()).transaction(Jo,"readwrite");yield r.objectStore(Jo).delete(e),yield r.done})).apply(this,arguments)}function yf(n,e){return iv.apply(this,arguments)}function iv(){return(iv=(0,R.Z)(function*(n,e){const t=id(n),i=(yield sd()).transaction(Jo,"readwrite"),u=i.objectStore(Jo),l=yield u.get(t),f=e(l);return void 0===f?yield u.delete(t):yield u.put(f,t),yield i.done,f&&(!l||l.fid!==f.fid)&&R3(n,f.fid),f})).apply(this,arguments)}function od(n){return ad.apply(this,arguments)}function ad(){return ad=(0,R.Z)(function*(n){let e;const t=yield yf(n.appConfig,r=>{const i=function U3(n){return Cm(n||{fid:yS(),registrationStatus:0})}(r),u=function V3(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Vs.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function ES(n,e){return sv.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:B3(n)}:{installationEntry:e}}(n,i);return e=u.registrationPromise,u.installationEntry});return t.fid===Jy?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),ad.apply(this,arguments)}function sv(){return sv=(0,R.Z)(function*(n,e){try{const t=yield function _S(n,e){return gf.apply(this,arguments)}(n,e);return mc(n.appConfig,t)}catch(t){throw rd(t)&&409===t.customData.serverCode?yield Tm(n.appConfig):yield mc(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),sv.apply(this,arguments)}function B3(n){return vf.apply(this,arguments)}function vf(){return(vf=(0,R.Z)(function*(n){let e=yield ov(n.appConfig);for(;1===e.registrationStatus;)yield mf(100),e=yield ov(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield od(n);return r||t}return e})).apply(this,arguments)}function ov(n){return yf(n,e=>{if(!e)throw Vs.create("installation-not-found");return Cm(e)})}function Cm(n){return function Z3(n){return 1===n.registrationStatus&&n.registrationTime+x3<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function bm(){return(bm=(0,R.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function j3(n,{fid:e}){return`${ff(n)}/${e}/authTokens:generate`}(n,t),i=function N3(n,{refreshToken:e}){const t=Qy(n);return t.append("Authorization",function mS(n){return`${lS} ${n}`}(e)),t}(n,t),u=e.getImmediate({optional:!0});if(u){const v=yield u.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:M3,appId:n.appId}})},m=yield fc(()=>fetch(r,f));if(m.ok)return pf(yield m.json());throw yield Im("Generate Auth Token",m)})).apply(this,arguments)}function Am(n){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,R.Z)(function*(n,e=!1){let t;const r=yield yf(n.appConfig,u=>{if(!cv(u))throw Vs.create("not-registered");const l=u.authToken;if(!e&&function $3(n){return 2===n.requestStatus&&!function H3(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Gk}(n)}(l))return u;if(1===l.requestStatus)return t=function wS(n,e){return av.apply(this,arguments)}(n,e),u;{if(!navigator.onLine)throw Vs.create("app-offline");const f=function G3(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(u);return t=function uv(n,e){return Ef.apply(this,arguments)}(n,f),f}});return t?yield t:r.authToken}),Dm.apply(this,arguments)}function av(){return(av=(0,R.Z)(function*(n,e){let t=yield q3(n.appConfig);for(;1===t.authToken.requestStatus;)yield mf(100),t=yield q3(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Am(n,e):r})).apply(this,arguments)}function q3(n){return yf(n,e=>{if(!cv(e))throw Vs.create("not-registered");return function z3(n){return 1===n.requestStatus&&n.requestTime+x3<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ef(){return Ef=(0,R.Z)(function*(n,e){try{const t=yield function IS(n,e){return bm.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield mc(n.appConfig,r),t}catch(t){if(!rd(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield mc(n.appConfig,r)}else yield Tm(n.appConfig);throw t}}),Ef.apply(this,arguments)}function cv(n){return void 0!==n&&2===n.registrationStatus}function Sm(){return(Sm=(0,R.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield od(e);return r?r.catch(console.error):Am(e).catch(console.error),t.fid})).apply(this,arguments)}function ud(){return ud=(0,R.Z)(function*(n,e=!1){const t=n;return yield function Ga(n){return lv.apply(this,arguments)}(t),(yield Am(t,e)).token}),ud.apply(this,arguments)}function lv(){return(lv=(0,R.Z)(function*(n){const{registrationPromise:e}=yield od(n);e&&(yield e)})).apply(this,arguments)}function hv(n){return Vs.create("missing-app-config-values",{valueName:n})}const J3="installations",CS=n=>{const e=n.getProvider("app").getImmediate(),t=function Wk(n){if(!n||!n.options)throw hv("App Configuration");if(!n.name)throw hv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw hv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:cf(e,"heartbeat"),_delete:()=>Promise.resolve()}},ir=n=>{const t=cf(n.getProvider("app").getImmediate(),J3).getImmediate();return{getId:()=>function W3(n){return Sm.apply(this,arguments)}(t),getToken:i=>function K3(n){return ud.apply(this,arguments)}(t,i)}};(function ew(){Fi(new rr.wA(J3,CS,"PUBLIC")),Fi(new rr.wA("installations-internal",ir,"PRIVATE"))})(),gi(cS,S3),gi(cS,S3,"esm2017");const fv="@firebase/remote-config",mi=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class NS{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,R.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const u=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&l.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(l),u})()}}function RS(n=navigator){return n.languages&&n.languages[0]||n.language}class mv{constructor(e,t,r,i,u,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=u,this.appId=l}fetch(e){var t=this;return(0,R.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:RS()},v={method:"POST",headers:f,body:JSON.stringify(m)},C=fetch(l,v),A=new Promise((Te,Fe)=>{e.signal.addEventListener(()=>{const ke=new Error("The operation was aborted.");ke.name="AbortError",Fe(ke)})});let M;try{yield Promise.race([C,A]),M=yield C}catch(Te){let Fe="fetch-client-network";throw"AbortError"===Te?.name&&(Fe="fetch-timeout"),mi.create(Fe,{originalErrorMessage:Te?.message})}let O=M.status;const j=M.headers.get("ETag")||void 0;let G,X;if(200===M.status){let Te;try{Te=yield M.json()}catch(Fe){throw mi.create("fetch-client-parse",{originalErrorMessage:Fe?.message})}G=Te.entries,X=Te.state}if("INSTANCE_STATE_UNSPECIFIED"===X?O=500:"NO_CHANGE"===X?O=304:("NO_TEMPLATE"===X||"EMPTY_CONFIG"===X)&&(G={}),304!==O&&200!==O)throw mi.create("fetch-status",{httpStatus:O});return{status:O,eTag:j,config:G}})()}}class ow{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,R.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,R.Z)(function*(){yield function Cf(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(mi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),u}catch(u){if(!function PS(n){if(!(n instanceof _e.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const l={throttleEndTimeMillis:Date.now()+(0,_e.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class aw{constructor(e,t,r,i,u){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bf(n,e){const t=n.target.error||void 0;return mi.create(e,{originalErrorMessage:t&&t?.message})}const yo="app_namespace_store";class lw{constructor(e,t,r,i=function cw(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(bf(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yo,{keyPath:"compositeKey"})}}catch(t){e(mi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,R.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([yo],"readonly").objectStore(yo),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=C=>{u(bf(C,"storage-get"))},v.onsuccess=C=>{const A=C.target.result;i(A?A.value:void 0)}}catch(v){u(mi.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,R.Z)(function*(){const i=yield r.openDbPromise;return new Promise((u,l)=>{const m=i.transaction([yo],"readwrite").objectStore(yo),v=r.createCompositeKey(e);try{const C=m.put({compositeKey:v,value:t});C.onerror=A=>{l(bf(A,"storage-set"))},C.onsuccess=()=>{u()}}catch(C){l(mi.create("storage-set",{originalErrorMessage:C?.message}))}})})()}delete(e){var t=this;return(0,R.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([yo],"readwrite").objectStore(yo),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=C=>{u(bf(C,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){u(mi.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class LS{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,R.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function hw(){return Af.apply(this,arguments)}function Af(){return(Af=(0,R.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}!function US(){Fi(new rr.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mi.create("registration-window");if(!(0,_e.hl)())throw mi.create("indexed-db-unavailable");const{projectId:u,apiKey:l,appId:f}=r.options;if(!u)throw mi.create("registration-project-id");if(!l)throw mi.create("registration-api-key");if(!f)throw mi.create("registration-app-id");const m=new lw(f,r.name,t=t||"firebase"),v=new LS(m),C=new ki.Yd(fv);C.logLevel=ki.in.ERROR;const A=new mv(i,Jl,t,u,l,f),M=new ow(A,m),O=new NS(M,m,v,C),j=new aw(r,O,v,m,C);return function go(n){const e=(0,_e.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(j),j},"PUBLIC").setMultipleInstances(!0)),gi(fv,"0.4.4"),gi(fv,"0.4.4","esm2017")}();const fw=(n,e)=>e.some(t=>n instanceof t);let _v,yv;const vv=new WeakMap,Ev=new WeakMap,mw=new WeakMap,Iv=new WeakMap,wv=new WeakMap;let Tv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Ev.get(n);if("objectStoreNames"===e)return n.objectStoreNames||mw.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ea(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function qS(n){return"function"==typeof n?function jS(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gw(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Cv(this),e),ea(vv.get(this))}:function(...e){return ea(n.apply(Cv(this),e))}:function(e,...t){const r=n.call(Cv(this),e,...t);return mw.set(r,e.sort?e.sort():[e]),ea(r)}}(n):(n instanceof IDBTransaction&&function BS(n){if(Ev.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});Ev.set(n,e)}(n),fw(n,function pw(){return _v||(_v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Tv):n)}function ea(n){if(n instanceof IDBRequest)return function VS(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(ea(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&vv.set(t,n)}).catch(()=>{}),wv.set(e,n),e}(n);if(Iv.has(n))return Iv.get(n);const e=qS(n);return e!==n&&(Iv.set(n,e),wv.set(e,n)),e}const Cv=n=>wv.get(n);function _w(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),f=ea(l);return r&&l.addEventListener("upgradeneeded",m=>{r(ea(l.result),m.oldVersion,m.newVersion,ea(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(m=>{u&&m.addEventListener("close",()=>u()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function bv(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ea(t).then(()=>{})}const $S=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],Av=new Map;function yw(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Av.get(e))return Av.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=HS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!$S.includes(t))return;const u=function(){var l=(0,R.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return l.apply(this,arguments)}}();return Av.set(e,u),u}!function ZS(n){Tv=n(Tv)}(n=>({...n,get:(e,t,r)=>yw(e,t)||n.get(e,t,r),has:(e,t)=>!!yw(e,t)||n.has(e,t)}));const vw="/firebase-messaging-sw.js",Ew="/firebase-cloud-messaging-push-scope",Dv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Iw="https://fcmregistrations.googleapis.com/v1",Sv="google.c.a.c_id",ww="google.c.a.c_l",Tw="google.c.a.ts";var Df=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Df||{});function vo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yc(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let u=0;u<r.length;++u)i[u]=r.charCodeAt(u);return i}const xv="fcm_token_details_db",GS=5,vc="fcm_token_object_Store";function Sf(){return Sf=(0,R.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(xv))return null;let e=null;return(yield _w(xv,GS,{upgrade:(r=(0,R.Z)(function*(i,u,l,f){var m;if(u<2||!i.objectStoreNames.contains(vc))return;const v=f.objectStore(vc),C=yield v.index("fcmSenderId").get(n);if(yield v.clear(),C)if(2===u){const A=C;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:null!==(m=A.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:"string"==typeof A.vapidKey?A.vapidKey:vo(A.vapidKey)}}}else if(3===u){const A=C;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:vo(A.auth),p256dh:vo(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:vo(A.vapidKey)}}}else if(4===u){const A=C;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:vo(A.auth),p256dh:vo(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:vo(A.vapidKey)}}}}),function(u,l,f,m){return r.apply(this,arguments)})})).close(),yield bv(xv),yield bv("fcm_vapid_details_db"),yield bv("undefined"),function Yk(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Sf.apply(this,arguments)}const Aw="firebase-messaging-database",Dw=1,dd="firebase-messaging-store";let za=null;function Mv(){return za||(za=_w(Aw,Dw,{upgrade:(n,e)=>{0===e&&n.createObjectStore(dd)}})),za}function Sw(n){return Nv.apply(this,arguments)}function Nv(){return Nv=(0,R.Z)(function*(n){const e=Gr(n),r=yield(yield Mv()).transaction(dd).objectStore(dd).get(e);if(r)return r;{const i=yield function Qk(n){return Sf.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield Wa(n,i),i}}),Nv.apply(this,arguments)}function Wa(n,e){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,R.Z)(function*(n,e){const t=Gr(n),i=(yield Mv()).transaction(dd,"readwrite");return yield i.objectStore(dd).put(e,t),yield i.done,e})).apply(this,arguments)}function hd(){return(hd=(0,R.Z)(function*(n){const e=Gr(n),r=(yield Mv()).transaction(dd,"readwrite");yield r.objectStore(dd).delete(e),yield r.done})).apply(this,arguments)}function Gr({appConfig:n}){return n.appId}const gr=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xw(n,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,R.Z)(function*(n,e){const t=yield Fv(n),r=fd(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(kv(n.appConfig),i)).json()}catch(l){throw gr.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(u.error)throw gr.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw gr.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function Nm(){return(Nm=(0,R.Z)(function*(n,e){const t=yield Fv(n),r=fd(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${kv(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw gr.create("token-update-failed",{errorInfo:l?.toString()})}if(u.error)throw gr.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw gr.create("token-update-no-token");return u.token})).apply(this,arguments)}function Ov(n,e){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,R.Z)(function*(n,e){const r={method:"DELETE",headers:yield Fv(n)};try{const u=yield(yield fetch(`${kv(n.appConfig)}/${e}`,r)).json();if(u.error)throw gr.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(i){throw gr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function kv({projectId:n}){return`${Iw}/projects/${n}/registrations`}function Fv(n){return Lv.apply(this,arguments)}function Lv(){return(Lv=(0,R.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function fd({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Dv&&(i.web.applicationPubKey=r),i}const zS=6048e5;function Uv(){return Uv=(0,R.Z)(function*(n){const e=yield function Mf(n,e){return Vv.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:vo(e.getKey("auth")),p256dh:vo(e.getKey("p256dh"))},r=yield Sw(n.firebaseDependencies);if(r){if(function KS(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+zS?function Nw(n,e){return Om.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Ov(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Rw(n.firebaseDependencies,t)}return Rw(n.firebaseDependencies,t)}),Uv.apply(this,arguments)}function Pm(){return Pm=(0,R.Z)(function*(n){const e=yield Sw(n.firebaseDependencies);e&&(yield Ov(n.firebaseDependencies,e.token),yield function Mm(n){return hd.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Pm.apply(this,arguments)}function Om(){return Om=(0,R.Z)(function*(n,e){try{const t=yield function Mw(n,e){return Nm.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Wa(n.firebaseDependencies,r),t}catch(t){throw yield function xf(n){return Pm.apply(this,arguments)}(n),t}}),Om.apply(this,arguments)}function Rw(n,e){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,R.Z)(function*(n,e){const r={token:yield xw(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Wa(n,r),r.token})).apply(this,arguments)}function Vv(){return(Vv=(0,R.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yc(e)})})).apply(this,arguments)}function Pw(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Ow(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function kw(n,e){e.data&&(n.data=e.data)}(e,n),function Fw(n,e){var t,r,i,u,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(u=e.notification)||void 0===u?void 0:u.click_action;f&&(n.fcmOptions.link=f);const m=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function Bv(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Zv(n){return gr.create("missing-app-config-values",{valueName:n})}Bv("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bv("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xk{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function YS(n){if(!n||!n.options)throw Zv("App Configuration Object");if(!n.name)throw Zv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Zv(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Lw(){return(Lw=(0,R.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(vw,{scope:Ew}),n.swRegistration.update().catch(()=>{})}catch(e){throw gr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function km(){return(km=(0,R.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield function JS(n){return Lw.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw gr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function jv(){return(jv=(0,R.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Dv)})).apply(this,arguments)}function Lm(){return Lm=(0,R.Z)(function*(n,e){if(!navigator)throw gr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gr.create("permission-blocked");return yield function Fm(n,e){return jv.apply(this,arguments)}(n,e?.vapidKey),yield function eF(n,e){return km.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function WS(n){return Uv.apply(this,arguments)}(n)}),Lm.apply(this,arguments)}function qv(){return(qv=(0,R.Z)(function*(n,e,t){const r=function XS(n){switch(n){case Df.NOTIFICATION_CLICKED:return"notification_open";case Df.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Sv],message_name:t[ww],message_time:t[Tw],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $v(){return $v=(0,R.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Df.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Pw(t)):n.onMessageHandler.next(Pw(t)));const r=t.data;(function QS(n){return"object"==typeof n&&!!n&&Sv in n})(r)&&"1"===r["google.c.a.e"]&&(yield function Nf(n,e,t){return qv.apply(this,arguments)}(n,t.messageType,r))}),$v.apply(this,arguments)}const t2="@firebase/messaging",Bw=n=>{const e=new Xk(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function e2(n,e){return $v.apply(this,arguments)}(e,t)),e},n2=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Uw(n,e){return Lm.apply(this,arguments)}(e,r)}};function pd(){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,R.Z)(function*(){try{yield(0,_e.eu)()}catch{return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function r2(){Fi(new rr.wA("messaging",Bw,"PUBLIC")),Fi(new rr.wA("messaging-internal",n2,"PRIVATE")),gi(t2,"0.12.4"),gi(t2,"0.12.4","esm2017")}();const Rf="analytics",$w="firebase_id",s2="origin",o2=6e4,a2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pf="https://www.googletagmanager.com/gtag/js",mr=new ki.Yd("@firebase/analytics"),_i=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function u2(n){if(!n.startsWith(Pf)){const e=_i.create("invalid-gtag-resource",{gtagURL:n});return mr.warn(e.message),""}return n}function Gw(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Wv(){return(Wv=(0,R.Z)(function*(n,e,t,r,i,u){const l=r[i];try{if(l)yield e[l];else{const m=(yield Gw(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){mr.error(f)}n("config",i,u)})).apply(this,arguments)}function Um(){return(Um=(0,R.Z)(function*(n,e,t,r,i){try{let u=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const f=yield Gw(t);for(const m of l){const v=f.find(A=>A.measurementId===m),C=v&&e[v.appId];if(!C){u=[];break}u.push(C)}}0===u.length&&(u=Object.values(e)),yield Promise.all(u),n("event",r,i||{})}catch(u){mr.error(u)}})).apply(this,arguments)}const g2=30,Kw=new class _2{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Kv(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Vm(){return(Vm=(0,R.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Kv(r)},u=a2.replace("{app-id}",t),l=yield fetch(u,i);if(200!==l.status&&304!==l.status){let f="";try{const m=yield l.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw _i.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()})).apply(this,arguments)}function Jv(){return(Jv=(0,R.Z)(function*(n,e=Kw,t){const{appId:r,apiKey:i,measurementId:u}=n.options;if(!r)throw _i.create("no-app-id");if(!i){if(u)return{measurementId:u,appId:r};throw _i.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Ic;return setTimeout((0,R.Z)(function*(){f.abort()}),void 0!==t?t:o2),Qw({appId:r,apiKey:i,measurementId:u},l,f,e)})).apply(this,arguments)}function Qw(n,e,t){return Of.apply(this,arguments)}function Of(){return Of=(0,R.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Kw){var u;const{appId:l,measurementId:f}=n;try{yield function y2(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(_i.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(m){if(f)return mr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:f};throw m}try{const m=yield function Qv(n){return Vm.apply(this,arguments)}(n);return i.deleteThrottleMetadata(l),m}catch(m){const v=m;if(!function Yw(n){if(!(n instanceof _e.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v)){if(i.deleteThrottleMetadata(l),f)return mr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:l,measurementId:f};throw m}const C=503===Number(null===(u=v?.customData)||void 0===u?void 0:u.httpStatus)?(0,_e.$s)(t,i.intervalMillis,g2):(0,_e.$s)(t,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return i.setThrottleMetadata(l,A),mr.debug(`Calling attemptFetch again in ${C} millis`),Qw(n,A,r,i)}}),Of.apply(this,arguments)}class Ic{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Bm,qm;function Jw(){return(Jw=(0,R.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const u=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:u}))}})).apply(this,arguments)}function n4(){return(n4=(0,R.Z)(function*(){if(!(0,_e.hl)())return mr.warn(_i.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(n){return mr.warn(_i.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function $m(){return $m=(0,R.Z)(function*(n,e,t,r,i,u,l){var f;const m=function Yv(n){return Jv.apply(this,arguments)}(n);m.then(O=>{t[O.measurementId]=O.appId,n.options.measurementId&&O.measurementId!==n.options.measurementId&&mr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>mr.error(O)),e.push(m);const v=function I2(){return n4.apply(this,arguments)}().then(O=>{if(O)return r.getId()}),[C,A]=yield Promise.all([m,v]);(function Ww(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Pf)&&t.src.includes(n))return t;return null})(u)||function l2(n,e){const t=function c2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:u2}),r=document.createElement("script"),i=`${Pf}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(u,C.measurementId),qm&&(i("consent","default",qm),function t4(n){qm=n}(void 0)),i("js",new Date);const M=null!==(f=l?.config)&&void 0!==f?f:{};return M[s2]="firebase",M.update=!0,null!=A&&(M[$w]=A),i("config",C.measurementId,M),Bm&&(i("set",Bm),function nT(n){Bm=n}(void 0)),C.measurementId}),$m.apply(this,arguments)}class rF{constructor(e){this.app=e}_delete(){return delete Bs[this.app.options.appId],Promise.resolve()}}let Bs={},rT=[];const iT={};let oT,Eo,r4="dataLayer",Hm=!1;function C2(n,e,t){!function T2(){const n=[];if((0,_e.ru)()&&n.push("This is a browser extension environment."),(0,_e.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=_i.create("invalid-analytics-context",{errorInfo:e});mr.warn(t.message)}}();const r=n.options.appId;if(!r)throw _i.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw _i.create("no-api-key");mr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bs[r])throw _i.create("already-exists",{id:r});if(!Hm){!function d2(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(r4);const{wrappedGtag:u,gtagCore:l}=function p2(n,e,t,r,i){let u=function(...l){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(u=window[i]),window[i]=function f2(n,e,t,r){function u(){return u=(0,R.Z)(function*(l,...f){try{if("event"===l){const[m,v]=f;yield function zw(n,e,t,r,i){return Um.apply(this,arguments)}(n,e,t,m,v)}else if("config"===l){const[m,v]=f;yield function h2(n,e,t,r,i,u){return Wv.apply(this,arguments)}(n,e,t,r,m,v)}else if("consent"===l){const[m]=f;n("consent","update",m)}else if("get"===l){const[m,v,C]=f;n("get",m,v,C)}else if("set"===l){const[m]=f;n("set",m)}else n(l,...f)}catch(m){mr.error(m)}}),u.apply(this,arguments)}return function i(l){return u.apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[i]}}(Bs,rT,iT,r4,"gtag");Eo=u,oT=l,Hm=!0}return Bs[r]=function w2(n,e,t,r,i,u,l){return $m.apply(this,arguments)}(n,rT,iT,e,oT,r4,t),new rF(n)}function A2(){return i4.apply(this,arguments)}function i4(){return(i4=(0,R.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}const N2="@firebase/analytics";!function uT(){Fi(new rr.wA(Rf,(e,{options:t})=>C2(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Fi(new rr.wA("analytics-internal",function n(e){try{const t=e.getProvider(Rf).getImmediate();return{logEvent:(r,i,u)=>function aT(n,e,t,r){n=(0,_e.m9)(n),function v2(n,e,t,r,i){return Jw.apply(this,arguments)}(Eo,Bs[n.app.options.appId],e,t,r).catch(i=>mr.error(i))}(t,r,i,u)}}catch(t){throw _i.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),gi(N2,"0.10.0"),gi(N2,"0.10.0","esm2017")}();class cT extends Uu.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Wm={setInterval(n,e,...t){const{delegate:r}=Wm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Wm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var P2=P(9039);class lT extends cT{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,u=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return Wm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Wm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(u){r=!0,i=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P2.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const s4={now:()=>(s4.delegate||Date).now(),delegate:void 0};class wc{constructor(e,t=wc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}wc.now=s4.now;class dT extends wc{constructor(e,t=wc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const O2=new class uF extends dT{}(class Lf extends lT{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Uf=new dT(lT);var Vf=P(5137),gd=P(3093);const Tc=new o.GfV("7.6.1"),Km="__angularfire_symbol__analyticsIsSupportedValue",o4="__angularfire_symbol__analyticsIsSupported",Qm="__angularfire_symbol__remoteConfigIsSupportedValue",md="__angularfire_symbol__remoteConfigIsSupported",a4="__angularfire_symbol__messagingIsSupportedValue",u4="__angularfire_symbol__messagingIsSupported";globalThis[o4]||(globalThis[o4]=A2().then(n=>globalThis[Km]=n).catch(()=>globalThis[Km]=!1)),globalThis[u4]||(globalThis[u4]=pd().then(n=>globalThis[a4]=n).catch(()=>globalThis[a4]=!1)),globalThis[md]||(globalThis[md]=hw().then(n=>globalThis[Qm]=n).catch(()=>globalThis[Qm]=!1));const c4=(n,e)=>{const t=e?[e]:(0,pi.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function yd(){}class l4{constructor(e,t=O2){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class hT{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yd,{},yd,yd)),t.pipe(Mn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bf=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new l4(Zone.current)),this.insideAngular=t.run(()=>new l4(Zone.current,Uf)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ka(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Qa(n){return Ka().ngZone.run(()=>n())}function fT(n){return Ka(),function d4(n){return function(t){return(t=t.lift(new hT(n.ngZone))).pipe((0,Vf.R)(n.outsideAngular),(0,gd.Q)(n.insideAngular))}}(Ka())(n)}const h4=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Qa(()=>n.apply(void 0,r))},_s=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=Qa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yd,{},yd,yd)))),r[u]=h4(r[u],t));const i=function F2(n){return Ka().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Kn.y){const u=Ka();return i.pipe((0,Vf.R)(u.outsideAngular),(0,gd.Q)(u.insideAngular))}return Qa(()=>i)}return i instanceof Kn.y?i.pipe(fT):i instanceof Promise?Qa(()=>new Promise((u,l)=>i.then(f=>Qa(()=>u(f)),f=>Qa(()=>l(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Qa(()=>i)};class Ya{constructor(e){return e}}class Jm{constructor(){return(0,pi.getApps)()}}const f4=new o.OlP("angularfire2._apps"),V2={provide:Ya,useFactory:function U2(n){return n&&1===n.length?n[0]:new Ya((0,pi.getApp)())},deps:[[new o.FiY,f4]]},pT={provide:Jm,deps:[[new o.FiY,f4]]};function p4(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ya(r)}}let gT=(()=>{class n{constructor(t){(0,pi.registerVersion)("angularfire",Tc.full,"core"),(0,pi.registerVersion)("angularfire",Tc.full,"app"),(0,pi.registerVersion)("angular",o.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[V2,pT]}),n})();function B2(n,...e){return{ngModule:gT,providers:[{provide:f4,useFactory:p4(n),multi:!0,deps:[o.R0b,o.zs3,Bf,...e]}]}}const mT=_s(pi.initializeApp,!0);P(6710);class _T{constructor(){return c4("auth")}}const jf=new Map,m4={activated:!1,tokenObservers:[]},ux={initialized:!1,enabled:!1};function vn(n){return jf.get(n)||Object.assign({},m4)}function _4(){return ux}const bT="https://content-firebaseappcheck.googleapis.com/v1",dx="exchangeDebugToken",DT={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class LF{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,R.Z)(function*(){t.stop();try{t.pending=new _e.BH,yield function fx(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _e.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qn=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function y4(n){if(!vn(n).activated)throw Qn.create("use-before-activation",{appName:n.name})}function n0(n,e){return E4.apply(this,arguments)}function E4(){return(E4=(0,R.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,u)}catch(A){throw Qn.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==l.status)throw Qn.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(A){throw Qn.create("fetch-parse-error",{originalErrorMessage:A?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Qn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}})).apply(this,arguments)}function ST(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${bT}/projects/${t}/apps/${r}:${dx}?key=${i}`,body:{debug_token:e}}}const gx="firebase-app-check-database",mx=1,$f="firebase-app-check-store";let r0=null;function w4(){return(w4=(0,R.Z)(function*(n,e){const r=(yield function MT(){return r0||(r0=new Promise((n,e)=>{try{const t=indexedDB.open(gx,mx);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Qn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($f,{keyPath:"compositeKey"})}}catch(t){e(Qn.create("storage-open",{originalErrorMessage:t?.message}))}}),r0)}()).transaction($f,"readwrite"),u=r.objectStore($f).put({compositeKey:n,value:e});return new Promise((l,f)=>{u.onsuccess=m=>{l()},r.onerror=m=>{var v;f(Qn.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const a0=new ki.Yd("@firebase/app-check");function c0(n,e){return(0,_e.hl)()?function yx(n,e){return function s0(n,e){return w4.apply(this,arguments)}(function T4(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{a0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function C4(){return _4().enabled}function Hf(){return Io.apply(this,arguments)}function Io(){return(Io=(0,R.Z)(function*(){const n=_4();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const b4={error:"UNKNOWN_ERROR"};function A4(n){return _e.US.encodeString(JSON.stringify(n),!1)}function d0(n){return OT.apply(this,arguments)}function OT(){return(OT=(0,R.Z)(function*(n,e=!1){const t=n.app;y4(t);const r=vn(t);let u,i=r.token;if(i&&!Cc(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(Cc(m)?i=m:yield c0(t,void 0))}if(!e&&i&&Cc(i))return{token:i.token};let f,l=!1;if(C4()){r.exchangeTokenPromise||(r.exchangeTokenPromise=n0(ST(t,yield Hf()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield c0(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield vn(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?a0.warn(m.message):a0.error(m),u=m}return i?u?f=Cc(i)?{token:i.token,internalError:u}:LT(u):(f={token:i.token},r.token=i,yield c0(t,i)):f=LT(u),l&&function Ix(n,e){const t=vn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function D4(n){return S4.apply(this,arguments)}function S4(){return(S4=(0,R.Z)(function*(n){const e=n.app;y4(e);const{provider:t}=vn(e);if(C4()){const r=yield Hf(),{token:i}=yield n0(ST(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function M4(n,e){const t=vn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function kT(n){const{app:e}=n,t=vn(e);let r=t.tokenRefresher;r||(r=function FT(n){const{app:e}=n;return new LF((0,R.Z)(function*(){let r;if(r=vn(e).token?yield d0(n,!0):yield d0(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=vn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},DT.RETRIAL_MIN_WAIT,DT.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Cc(n){return n.expireTimeMillis-Date.now()>0}function LT(n){return{token:A4(b4),error:n}}class UT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=vn(this.app);for(const t of e)M4(this.app,t.next);return Promise.resolve()}}const xx="app-check-internal";!function Mx(){Fi(new rr.wA("app-check",n=>function UF(n,e){return new UT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(xx).initialize()})),Fi(new rr.wA(xx,n=>function N4(n){return{getToken:e=>d0(n,e),getLimitedUseToken:()=>D4(n),addTokenListener:e=>function x4(n,e,t,r){const{app:i}=n,u=vn(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Cc(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),kT(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>kT(n))}(n,"INTERNAL",e),removeTokenListener:e=>M4(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),gi("@firebase/app-check","0.8.0")}();class F4{constructor(){return c4("app-check")}}typeof window<"u"&&window;var $e,kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zs={},h0=h0||{},bt=kx||self;function f0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Wf="closure_uid_"+(1e9*Math.random()>>>0),GF=0;function QT(n,e,t){return n.call.apply(n.bind,arguments)}function B4(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Wr(n,e,t){return(Wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?QT:B4).apply(null,arguments)}function p0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Rr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Ac(){this.s=this.s,this.o=this.o}Ac.prototype.s=!1,Ac.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function KT(n){Object.prototype.hasOwnProperty.call(n,Wf)&&n[Wf]||(n[Wf]=++GF)}(this)},Ac.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Z4(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function JT(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(f0(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let l=0;l<u;l++)n[i+l]=r[l]}else n.push(r)}}function Pr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Pr.prototype.h=function(){this.defaultPrevented=!0};var XT=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",()=>{},e),bt.removeEventListener("test",()=>{},e)}catch{}return n}();function Kf(n){return/^[\s\xa0]*$/.test(n)}function Qf(){var n=bt.navigator;return n&&(n=n.userAgent)?n:""}function js(n){return-1!=Qf().indexOf(n)}function eC(n){return eC[" "](n),n}eC[" "]=function(){};var g0,n,j4=js("Opera"),Dc=js("Trident")||js("MSIE"),q4=js("Edge"),$4=q4||Dc,Yf=js("Gecko")&&!(-1!=Qf().toLowerCase().indexOf("webkit")&&!js("Edge"))&&!(js("Trident")||js("MSIE"))&&!js("Edge"),Ux=-1!=Qf().toLowerCase().indexOf("webkit")&&!js("Edge");function tC(){var n=bt.document;return n?n.documentMode:void 0}e:{var m0="",nC=(n=Qf(),Yf?/rv:([^\);]+)(\)|;)/.exec(n):q4?/Edge\/([\d\.]+)/.exec(n):Dc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ux?/WebKit\/(\S+)/.exec(n):j4?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(nC&&(m0=nC?nC[1]:""),Dc){var H4=tC();if(null!=H4&&H4>parseFloat(m0)){g0=String(H4);break e}}g0=m0}var zF=bt.document&&Dc&&(tC()||parseInt(g0,10))||void 0;function _0(n,e){if(Pr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Yf){e:{try{eC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Vx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_0.$.h.call(this)}}Rr(_0,Pr);var Vx={2:"touch",3:"pen",4:"mouse"};_0.prototype.h=function(){_0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jf="closure_listenable_"+(1e6*Math.random()|0),WF=0;function KF(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++WF,this.fa=this.ia=!1}function G4(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function sC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function oC(n){const e={};for(const t in n)e[t]=n[t];return e}const Bx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zx(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Bx.length;u++)t=Bx[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function z4(n){this.src=n,this.g={},this.h=0}function aC(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=YT(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(G4(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function uC(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}z4.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=uC(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new KF(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var W4="closure_lm_"+(1e6*Math.random()|0),cC={};function s(n,e,t,r,i){if(r&&r.once)return d(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)s(n,e[u],t,r,i);return null}return t=S(t),n&&n[Jf]?n.O(e,t,zf(r)?!!r.capture:!!r,i):a(n,e,t,!1,r,i)}function a(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var l=zf(i)?!!i.capture:!!i,f=T(n);if(f||(n[W4]=f=new z4(n)),(t=f.add(e,t,r,l,u)).proxy)return t;if(r=function c(){const e=E;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)XT||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(y(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function d(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)d(n,e[u],t,r,i);return null}return t=S(t),n&&n[Jf]?n.P(e,t,zf(r)?!!r.capture:!!r,i):a(n,e,t,!0,r,i)}function h(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)h(n,e[u],t,r,i);else r=zf(r)?!!r.capture:!!r,t=S(t),n&&n[Jf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=uC(u=n.g[e],t,r,i))&&(G4(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=T(n))&&(e=n.g[e.toString()],n=-1,e&&(n=uC(e,t,r,i)),(t=-1<n?e[n]:null)&&p(t))}function p(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Jf])aC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(y(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=T(e))?(aC(t,n),0==t.h&&(t.src=null,e[W4]=null)):G4(n)}}}function y(n){return n in cC?cC[n]:cC[n]="on"+n}function E(n,e){if(n.fa)n=!0;else{e=new _0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&p(n),n=t.call(r,e)}return n}function T(n){return(n=n[W4])instanceof z4?n:null}var b="__closure_events_fn_"+(1e9*Math.random()>>>0);function S(n){return"function"==typeof n?n:(n[b]||(n[b]=function(e){return n.handleEvent(e)}),n[b])}function N(){Ac.call(this),this.i=new z4(this),this.S=this,this.J=null}function V(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Pr(e,n);else if(e instanceof Pr)e.target=e.target||n;else{var i=e;Zx(e=new Pr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];i=H(l,r,!0,e)&&i}if(i=H(l=e.g=n,r,!0,e)&&i,i=H(l,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=H(l=e.g=t[u],r,!1,e)&&i}function H(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var f=l.listener,m=l.la||l.src;l.ia&&aC(n.i,l),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}Rr(N,Ac),N.prototype[Jf]=!0,N.prototype.removeEventListener=function(n,e,t,r){h(this,n,e,t,r)},N.prototype.N=function(){if(N.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)G4(t[r]);delete n.g[e],n.h--}}this.J=null},N.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},N.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ae=bt.JSON.stringify;function je(){var n=Xa;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var me=new class be{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Et,n=>n.reset());class Et{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Rt(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function sn(n){bt.setTimeout(()=>{throw n},0)}let _r,Ji=!1,Xa=new class nt{constructor(){this.h=this.g=null}add(e,t){const r=me.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},y0=()=>{const n=bt.Promise.resolve(void 0);_r=()=>{n.then(jx)}};var jx=()=>{for(var n;n=je();){try{n.h.call(n.g)}catch(t){sn(t)}var e=me;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ji=!1};function v0(n,e){N.call(this),this.h=n||1,this.g=e||bt,this.j=Wr(this.qb,this),this.l=Date.now()}function qx(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function $x(n,e,t){if("function"==typeof n)t&&(n=Wr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wr(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function YF(n){n.g=$x(()=>{n.g=null,n.i&&(n.i=!1,YF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Rr(v0,N),($e=v0.prototype).ga=!1,$e.T=null,$e.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),V(this,"tick"),this.ga&&(qx(this),this.start()))}},$e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.N=function(){v0.$.N.call(this),qx(this),delete this.g};class u9 extends Ac{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:YF(this)}N(){super.N(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function K4(n){Ac.call(this),this.h=n,this.g={}}Rr(K4,Ac);var JF=[];function XF(n,e,t,r){Array.isArray(t)||(t&&(JF[0]=t.toString()),t=JF);for(var i=0;i<t.length;i++){var u=s(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function e5(n){sC(n.g,function(e,t){this.g.hasOwnProperty(t)&&p(e)},n),n.g={}}function lC(){this.g=!0}function E0(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function h9(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<i.length;l++)i[l]=""}}}return ae(t)}catch{return e}}(n,t)+(r?" "+r:"")})}K4.prototype.N=function(){K4.$.N.call(this),e5(this)},K4.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lC.prototype.Ea=function(){this.g=!1},lC.prototype.info=function(){};var Xf={},t5=null;function dC(){return t5=t5||new N}function n5(n){Pr.call(this,Xf.Ta,n)}function Q4(n){const e=dC();V(e,new n5(e))}function r5(n,e){Pr.call(this,Xf.STAT_EVENT,n),this.stat=e}function Xi(n){const e=dC();V(e,new r5(e,n))}function i5(n,e){Pr.call(this,Xf.Ua,n),this.size=e}function Y4(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}Xf.Ta="serverreachability",Rr(n5,Pr),Xf.STAT_EVENT="statevent",Rr(r5,Pr),Xf.Ua="timingevent",Rr(i5,Pr);var hC={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},s5={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hx(){}function a5(){}Hx.prototype.h=null;var Wx,J4={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gx(){Pr.call(this,"d")}function zx(){Pr.call(this,"c")}function fC(){}function X4(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new K4(this),this.P=f9,this.V=new v0(n=$4?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new u5}function u5(){this.i=null,this.g="",this.h=!1}Rr(Gx,Pr),Rr(zx,Pr),Rr(fC,Hx),fC.prototype.g=function(){return new XMLHttpRequest},fC.prototype.i=function(){return{}},Wx=new fC;var f9=45e3,Kx={},pC={};function Qx(n,e,t){n.L=1,n.v=yC(Sc(e)),n.s=t,n.S=!0,c5(n,null)}function c5(n,e){n.G=Date.now(),eE(n),n.A=Sc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),v5(t.i,"t",r),n.C=0,t=n.l.J,n.h=new u5,n.g=q5(n.l,t?e:null,!n.s),0<n.O&&(n.M=new u9(Wr(n.Pa,n,n.g),n.O)),XF(n.U,n.g,"readystatechange",n.nb),e=n.I?oC(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Q4(),function c9(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var l="",f=u.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var C=v[0];v=v[1];var A=C.split("_");l=2<=A.length&&"type"==A[1]?l+(C+"=")+v+"&":l+(C+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function l5(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function d5(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=p9(n,t),i==pC){4==e&&(n.o=4,Xi(14),r=!1),E0(n.j,n.m,null,"[Incomplete Response]");break}if(i==Kx){n.o=4,Xi(15),E0(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}E0(n.j,n.m,i,null),Yx(n,i)}l5(n)&&i!=pC&&i!=Kx&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),iM(e),e.M=!0,Xi(11))):(E0(n.j,n.m,t,"[Invalid Chunked Response]"),ep(n),tE(n))}function p9(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pC:(t=Number(e.substring(t,r)),isNaN(t)?Kx:(r+=1)+t>e.length?pC:(e=e.slice(r,r+t),n.C=r+t,e))}function eE(n){n.Y=Date.now()+n.P,h5(n,n.P)}function h5(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Y4(Wr(n.lb,n),e)}function gC(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function tE(n){0==n.l.H||n.J||V5(n.l,n)}function ep(n){gC(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,qx(n.V),e5(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Yx(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Jx(t.i,n)))if(!n.K&&Jx(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;CC(t),wC(t)}rM(t),Xi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Y4(Wr(t.ib,t),6e3));if(1>=w5(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else np(t,11)}else if((n.K||t.g==n)&&CC(t),!Kf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const C=v[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const A=v[4];null!=A&&(t.Ga=A,t.l.info("SVER="+t.Ga));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.L=r=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const O=n.g;if(O){const j=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var u=r.i;u.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Xx(u,u.h),u.h=null))}if(r.F){const G=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;G&&(r.Da=G,Cn(r.I,r.F,G))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=j5(r,r.J?r.pa:null,r.Y),l.K){T5(r.i,l);var f=l,m=r.L;m&&f.setTimeout(m),f.B&&(gC(f),eE(f)),r.g=l}else L5(r);0<t.j.length&&TC(t)}else"stop"!=v[0]&&"close"!=v[0]||np(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?np(t,7):nM(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}Q4()}catch{}}function f5(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(f0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function m9(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(f0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function g9(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(f0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}($e=X4.prototype).setTimeout=function(n){this.P=n},$e.nb=function(n){n=n.target;const e=this.M;e&&3==eu(n)?e.l():this.Pa(n)},$e.Pa=function(n){try{if(n==this.g)e:{const C=eu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||$4||this.g&&(this.h.h||this.g.ja()||N5(this.g)))){this.J||4!=C||7==e||Q4(),gC(this);var t=this.g.da();this.ca=t;t:if(l5(this)){var r=N5(this.g);n="";var i=r.length,u=4==eu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ep(this),tE(this);var l="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function l9(n,e,t,r,i,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kf(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Xi(12),ep(this),tE(this);break e}E0(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yx(this,t)}this.S?(d5(this,C,l),$4&&this.i&&3==C&&(XF(this.U,this.V,"tick",this.mb),this.V.start())):(E0(this.j,this.m,l,null),Yx(this,l)),4==C&&ep(this),this.i&&!this.J&&(4==C?V5(this.l,this):(this.i=!1,eE(this)))}else(function O9(n){const e={};n=(n.g&&2<=eu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Kf(n[r]))continue;var t=Rt(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[i]||[];e[i]=u,u.push(t)}!function QF(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Xi(12)):(this.o=0,Xi(13)),ep(this),tE(this)}}}catch{}},$e.mb=function(){if(this.g){var n=eu(this.g),e=this.g.ja();this.C<e.length&&(gC(this),d5(this,n,e),this.i&&4!=n&&eE(this))}},$e.cancel=function(){this.J=!0,ep(this)},$e.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function d9(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Q4(),Xi(17)),ep(this),this.o=2,tE(this)):h5(this,this.Y-n)};var p5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tp(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tp){this.h=n.h,mC(this,n.j),this.s=n.s,this.g=n.g,_C(this,n.m),this.l=n.l;var e=n.i,t=new iE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),g5(this,t),this.o=n.o}else n&&(e=String(n).match(p5))?(this.h=!1,mC(this,e[1]||"",!0),this.s=nE(e[2]||""),this.g=nE(e[3]||"",!0),_C(this,e[4]),this.l=nE(e[5]||"",!0),g5(this,e[6]||"",!0),this.o=nE(e[7]||"")):(this.h=!1,this.i=new iE(null,this.h))}function Sc(n){return new tp(n)}function mC(n,e,t){n.j=t?nE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _C(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function g5(n,e,t){e instanceof iE?(n.i=e,function T9(n,e){e&&!n.j&&(Ed(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(_5(this,r),v5(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=rE(e,I9)),n.i=new iE(e,n.h))}function Cn(n,e,t){n.i.set(e,t)}function yC(n){return Cn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function nE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,y9),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function y9(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(rE(e,m5,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(rE(e,m5,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(rE(t,"/"==t.charAt(0)?E9:v9,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",rE(t,w9)),n.join("")};var m5=/[#\/\?@]/g,v9=/[#\?:]/g,E9=/[#\?]/g,I9=/[#\?@]/g,w9=/#/g;function iE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ed(n){n.g||(n.g=new Map,n.h=0,n.i&&function _9(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _5(n,e){Ed(n),e=I0(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function y5(n,e){return Ed(n),e=I0(n,e),n.g.has(e)}function v5(n,e,t){_5(n,e),0<t.length&&(n.i=null,n.g.set(I0(n,e),Z4(t)),n.h+=t.length)}function I0(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function E5(n){this.l=n||b9,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ka&&bt.g.Ka()&&bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=iE.prototype).add=function(n,e){Ed(this),this.i=null,n=I0(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$e.forEach=function(n,e){Ed(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},$e.ta=function(){Ed(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},$e.Z=function(n){Ed(this);let e=[];if("string"==typeof n)y5(this,n)&&(e=e.concat(this.g.get(I0(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$e.set=function(n,e){return Ed(this),this.i=null,y5(this,n=I0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$e.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=u;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var b9=10;function I5(n){return!!n.h||!!n.g&&n.g.size>=n.j}function w5(n){return n.h?1:n.g?n.g.size:0}function Jx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Xx(n,e){n.g?n.g.add(e):n.h=e}function T5(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function C5(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Z4(n.i)}E5.prototype.cancel=function(){if(this.i=C5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var A9=class{stringify(n){return bt.JSON.stringify(n,void 0)}parse(n){return bt.JSON.parse(n,void 0)}};function D9(){this.g=new A9}function S9(n,e,t){const r=t||"";try{f5(n,function(i,u){let l=i;zf(i)&&(l=ae(i)),e.push(r+u+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sE(n){this.l=n.fc||null,this.j=n.ob||!1}function EC(n,e){N.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=eM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rr(sE,Hx),sE.prototype.g=function(){return new EC(this.l,this.j)},sE.prototype.i=function(n){return function(){return n}}({}),Rr(EC,N);var eM=0;function b5(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function oE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,aE(n)}function aE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($e=EC.prototype).open=function(n,e){if(this.readyState!=eM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,aE(this)},$e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oE(this)),this.readyState=eM},$e.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,aE(this)),this.g&&(this.readyState=3,aE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;b5(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$e.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?oE(this):aE(this),3==this.readyState&&b5(this)}},$e.Za=function(n){this.g&&(this.response=this.responseText=n,oE(this))},$e.Ya=function(n){this.g&&(this.response=n,oE(this))},$e.ka=function(){this.g&&oE(this)},$e.setRequestHeader=function(n,e){this.v.append(n,e)},$e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(EC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var M9=bt.JSON.parse;function Yn(n){N.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=A5,this.L=this.M=!1}Rr(Yn,N);var A5="",N9=/^https?$/i,R9=["POST","PUT"];function D5(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,S5(n),IC(n)}function S5(n){n.F||(n.F=!0,V(n,"complete"),V(n,"error"))}function x5(n){if(n.h&&typeof h0<"u"&&(!n.C[1]||4!=eu(n)||2!=n.da()))if(n.v&&4==eu(n))$x(n.La,0,n);else if(V(n,"readystatechange"),4==eu(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(p5)[1]||null;!i&&bt.self&&bt.self.location&&(i=bt.self.location.protocol.slice(0,-1)),r=!N9.test(i?i.toLowerCase():"")}t=r}if(t)V(n,"complete"),V(n,"success");else{n.m=6;try{var u=2<eu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",S5(n)}}finally{IC(n)}}}function IC(n,e){if(n.g){M5(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||V(n,"ready");try{t.onreadystatechange=r}catch{}}}function M5(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function eu(n){return n.g?n.g.readyState:0}function N5(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case A5:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function R5(n){let e="";return sC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function tM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=R5(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Cn(n,e,t))}function uE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function P5(n){this.Ga=0,this.j=[],this.l=new lC,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=uE("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=uE("baseRetryDelayMs",5e3,n),this.hb=uE("retryDelaySeedMs",1e4,n),this.eb=uE("forwardChannelMaxRetries",2,n),this.xa=uE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new E5(n&&n.concurrentRequestLimit),this.Ja=new D9,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function nM(n){if(O5(n),3==n.H){var e=n.W++,t=Sc(n.I);if(Cn(t,"SID",n.K),Cn(t,"RID",e),Cn(t,"TYPE","terminate"),cE(n,t),(e=new X4(n,n.l,e)).L=2,e.v=yC(Sc(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon)try{t=bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=q5(e.l,null),e.g.ha(e.v)),e.G=Date.now(),eE(e)}Z5(n)}function wC(n){n.g&&(iM(n),n.g.cancel(),n.g=null)}function O5(n){wC(n),n.u&&(bt.clearTimeout(n.u),n.u=null),CC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function TC(n){if(!I5(n.i)&&!n.m){n.m=!0;var e=n.Na;_r||y0(),Ji||(_r(),Ji=!0),Xa.add(e,n),n.C=0}}function k5(n,e){var t;t=e?e.m:n.W++;const r=Sc(n.I);Cn(r,"SID",n.K),Cn(r,"RID",t),Cn(r,"AID",n.V),cE(n,r),n.o&&n.s&&tM(r,n.o,n.s),t=new X4(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=F5(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Xx(n.i,t),Qx(t,r,e)}function cE(n,e){n.na&&sC(n.na,function(t,r){Cn(e,r,t)}),n.h&&f5({},function(t,r){Cn(e,r,t)})}function F5(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Wr(n.h.Va,n.h,n):null;e:{var i=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=i[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let f=!0;for(let m=0;m<t;m++){let v=i[m].g;const C=i[m].map;if(v-=u,0>v)u=Math.max(0,i[m].g-100),f=!1;else try{S9(C,l,"req"+v+"_")}catch{r&&r(C)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function L5(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;_r||y0(),Ji||(_r(),Ji=!0),Xa.add(e,n),n.A=0}}function rM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Y4(Wr(n.Ma,n),B5(n,n.A)),n.A++,0))}function iM(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function U5(n){n.g=new X4(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Sc(n.wa);Cn(e,"RID","rpc"),Cn(e,"SID",n.K),Cn(e,"AID",n.V),Cn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Cn(e,"TO",n.qa),Cn(e,"TYPE","xmlhttp"),cE(n,e),n.o&&n.s&&tM(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=yC(Sc(e)),t.s=null,t.S=!0,c5(t,n)}function CC(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function V5(n,e){var t=null;if(n.g==e){CC(n),iM(n),n.g=null;var r=2}else{if(!Jx(n.i,e))return;t=e.F,T5(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;V(r=dC(),new i5(r,t)),TC(n)}else L5(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function k9(n,e){return!(w5(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Y4(Wr(n.Na,n,e),B5(n,n.C)),n.C++,0)))}(n,e)||2==r&&rM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:np(n,5);break;case 4:np(n,10);break;case 3:np(n,6);break;default:np(n,2)}}function B5(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function np(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Wr(n.pb,n);t||(t=new tp("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||mC(t,"https"),yC(t)),function x9(n,e){const t=new lC;if(bt.Image){const r=new Image;r.onload=p0(vC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=p0(vC,t,r,"TestLoadImage: error",!1,e),r.onabort=p0(vC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=p0(vC,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Xi(2);n.H=0,n.h&&n.h.za(e),Z5(n),O5(n)}function Z5(n){if(n.H=0,n.ma=[],n.h){const e=C5(n.i);(0!=e.length||0!=n.j.length)&&(JT(n.ma,e),JT(n.ma,n.j),n.i.i.length=0,Z4(n.j),n.j.length=0),n.h.ya()}}function j5(n,e,t){var r=t instanceof tp?Sc(t):new tp(t);if(""!=r.g)e&&(r.g=e+"."+r.g),_C(r,r.m);else{var i=bt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new tp(null);r&&mC(u,r),e&&(u.g=e),i&&_C(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Cn(r,t,e),Cn(r,"VER",n.ra),cE(n,r),r}function q5(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yn(t&&n.Ha&&!n.va?new sE({ob:!0}):n.va)).Oa(n.J),e}function $5(){}function bC(){if(Dc&&!(10<=Number(zF)))throw Error("Environmental error: no available transport.")}function qs(n,e){N.call(this),this.g=new P5(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Kf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new w0(this)}function H5(n){Gx.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function G5(){zx.call(this),this.status=1}function w0(n){this.g=n}function na(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function sM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=u+((l=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function dn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}($e=Yn.prototype).Oa=function(n){this.M=n},$e.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wx.g(),this.C=function o5(n){return n.h||(n.h=n.i())}(this.u?this.u:Wx),this.g.onreadystatechange=Wr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void D5(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=bt.FormData&&n instanceof bt.FormData,!(0<=YT(R9,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{M5(this),0<this.B&&((this.L=function P9(n){return Dc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wr(this.ua,this)):this.A=$x(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){D5(this,u)}},$e.ua=function(){typeof h0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,V(this,"timeout"),this.abort(8))},$e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,V(this,"complete"),V(this,"abort"),IC(this))},$e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),IC(this,!0)),Yn.$.N.call(this)},$e.La=function(){this.s||(this.G||this.v||this.l?x5(this):this.kb())},$e.kb=function(){x5(this)},$e.isActive=function(){return!!this.g},$e.da=function(){try{return 2<eu(this)?this.g.status:-1}catch{return-1}},$e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$e.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),M9(e)}},$e.Ia=function(){return this.m},$e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=P5.prototype).ra=8,$e.H=1,$e.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new X4(this,this.l,n);let u=this.s;if(this.U&&(u?(u=oC(u),Zx(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=F5(this,i,e),Cn(t=Sc(this.I),"RID",n),Cn(t,"CVER",22),this.F&&Cn(t,"X-HTTP-Session-Id",this.F),cE(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(R5(u)))+"&"+e:this.o&&tM(t,this.o,u)),Xx(this.i,i),this.bb&&Cn(t,"TYPE","init"),this.P?(Cn(t,"$req",e),Cn(t,"SID","null"),i.aa=!0,Qx(i,t,null)):Qx(i,t,e),this.H=2}}else 3==this.H&&(n?k5(this,n):0==this.j.length||I5(this.i)||k5(this))},$e.Ma=function(){if(this.u=null,U5(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Y4(Wr(this.jb,this),n)}},$e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xi(10),wC(this),U5(this))},$e.ib=function(){null!=this.v&&(this.v=null,wC(this),rM(this),Xi(19))},$e.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Xi(2)):(this.l.info("Failed to ping google.com"),Xi(1))},$e.isActive=function(){return!!this.h&&this.h.isActive(this)},($e=$5.prototype).Ba=function(){},$e.Aa=function(){},$e.za=function(){},$e.ya=function(){},$e.isActive=function(){return!0},$e.Va=function(){},bC.prototype.g=function(n,e){return new qs(n,e)},Rr(qs,N),qs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Xi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=j5(n,null,n.Y),TC(n)},qs.prototype.close=function(){nM(this.g)},qs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ae(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&TC(e)},qs.prototype.N=function(){this.g.h=null,delete this.j,nM(this.g),delete this.g,qs.$.N.call(this)},Rr(H5,Gx),Rr(G5,zx),Rr(w0,$5),w0.prototype.Ba=function(){V(this.g,"a")},w0.prototype.Aa=function(n){V(this.g,new H5(n))},w0.prototype.za=function(n){V(this.g,new G5)},w0.prototype.ya=function(){V(this.g,"b")},Rr(na,function F9(){this.blockSize=-1}),na.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},na.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)sM(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){sM(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){sM(this,r),i=0;break}}this.h=i,this.i+=e},na.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var L9={};function oM(n){return-128<=n&&128>n?function Lx(n,e){var t=L9;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new dn([0|e],0>e?-1:0)}):new dn([0|n],0>n?-1:0)}function tu(n){if(isNaN(n)||!isFinite(n))return T0;if(0>n)return yi(tu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=aM;return new dn(e,0)}var aM=4294967296,T0=oM(0),uM=oM(1),W5=oM(16777216);function xc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function wo(n){return-1==n.h}function yi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new dn(t,~n.h).add(uM)}function AC(n,e){return n.add(yi(e))}function DC(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function lE(n,e){this.g=n,this.h=e}function SC(n,e){if(xc(e))throw Error("division by zero");if(xc(n))return new lE(T0,T0);if(wo(n))return e=SC(yi(n),e),new lE(yi(e.g),yi(e.h));if(wo(e))return e=SC(n,yi(e)),new lE(yi(e.g),e.h);if(30<n.g.length){if(wo(n)||wo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=uM,r=e;0>=r.X(n);)t=K5(t),r=K5(r);var i=C0(t,1),u=C0(r,1);for(r=C0(r,2),t=C0(t,2);!xc(r);){var l=u.add(r);0>=l.X(n)&&(i=i.add(t),u=l),r=C0(r,1),t=C0(t,1)}return e=AC(n,i.R(e)),new lE(i,e)}for(i=T0;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=tu(t)).R(e);wo(l)||0<l.X(n);)l=(u=tu(t-=r)).R(e);xc(u)&&(u=uM),i=i.add(u),n=AC(n,l)}return new lE(i,n)}function K5(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new dn(t,n.h)}function C0(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new dn(i,n.h)}($e=dn.prototype).ea=function(){if(wo(this))return-yi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:aM+r)*e,e*=aM}return n},$e.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(xc(this))return"0";if(wo(this))return"-"+yi(this).toString(n);for(var e=tu(Math.pow(n,6)),t=this,r="";;){var i=SC(t,e).g,u=((0<(t=AC(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(xc(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},$e.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$e.X=function(n){return wo(n=AC(this,n))?-1:xc(n)?0:1},$e.abs=function(){return wo(this)?yi(this):this},$e.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),l=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(u&=65535)}return new dn(t,-2147483648&t[t.length-1]?-1:0)},$e.R=function(n){if(xc(this)||xc(n))return T0;if(wo(this))return wo(n)?yi(this).R(yi(n)):yi(yi(this).R(n));if(wo(n))return yi(this.R(yi(n)));if(0>this.X(W5)&&0>n.X(W5))return tu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=l*m,DC(t,2*r+2*i),t[2*r+2*i+1]+=u*m,DC(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,DC(t,2*r+2*i+1),t[2*r+2*i+2]+=u*f,DC(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new dn(t,0)},$e.gb=function(n){return SC(this,n).h},$e.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new dn(t,this.h&n.h)},$e.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new dn(t,this.h|n.h)},$e.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new dn(t,this.h^n.h)},bC.prototype.createWebChannel=bC.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,hC.NO_ERROR=0,hC.TIMEOUT=8,hC.HTTP_ERROR=6,s5.COMPLETE="complete",a5.EventType=J4,J4.OPEN="a",J4.CLOSE="b",J4.ERROR="c",J4.MESSAGE="d",N.prototype.listen=N.prototype.O,Yn.prototype.listenOnce=Yn.prototype.P,Yn.prototype.getLastError=Yn.prototype.Sa,Yn.prototype.getLastErrorCode=Yn.prototype.Ia,Yn.prototype.getStatus=Yn.prototype.da,Yn.prototype.getResponseJson=Yn.prototype.Wa,Yn.prototype.getResponseText=Yn.prototype.ja,Yn.prototype.send=Yn.prototype.ha,Yn.prototype.setWithCredentials=Yn.prototype.Oa,na.prototype.digest=na.prototype.l,na.prototype.reset=na.prototype.reset,na.prototype.update=na.prototype.j,dn.prototype.add=dn.prototype.add,dn.prototype.multiply=dn.prototype.R,dn.prototype.modulo=dn.prototype.gb,dn.prototype.compare=dn.prototype.X,dn.prototype.toNumber=dn.prototype.ea,dn.prototype.toString=dn.prototype.toString,dn.prototype.getBits=dn.prototype.D,dn.fromNumber=tu,dn.fromString=function z5(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return yi(z5(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=tu(Math.pow(e,8)),r=T0,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+u),e);8>u?(u=tu(Math.pow(e,u)),r=r.R(u).add(tu(l))):r=(r=r.R(t)).add(tu(l))}return r};var U9=Zs.createWebChannelTransport=function(){return new bC},V9=Zs.getStatEventTarget=function(){return dC()},cM=Zs.ErrorCode=hC,B9=Zs.EventType=s5,Z9=Zs.Event=Xf,Q5=Zs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},j9=Zs.FetchXmlHttpFactory=sE,xC=Zs.WebChannel=a5,q9=Zs.XhrIo=Yn,$9=Zs.Md5=na,b0=Zs.Integer=dn;const Y5="@firebase/firestore";class Kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let A0="9.23.0";const Id=new ki.Yd("@firebase/firestore");function lM(){return Id.logLevel}function De(n,...e){if(Id.logLevel<=ki.in.DEBUG){const t=e.map(dM);Id.debug(`Firestore (${A0}): ${n}`,...t)}}function sr(n,...e){if(Id.logLevel<=ki.in.ERROR){const t=e.map(dM);Id.error(`Firestore (${A0}): ${n}`,...t)}}function ra(n,...e){if(Id.logLevel<=ki.in.WARN){const t=e.map(dM);Id.warn(`Firestore (${A0}): ${n}`,...t)}}function dM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${A0}) INTERNAL ASSERTION FAILED: `+n;throw sr(e),new Error(e)}function rt(n,e){n||Je()}function Ge(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class J5{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kr.UNAUTHENTICATED))}shutdown(){}}class G9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class z9{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Or,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,R.Z)(function*(){yield v.promise,yield u(r.currentUser)}))},m=v=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Or)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt("string"==typeof r.accessToken),new J5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(null===e||"string"==typeof e),new Kr(e)}}class W9{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class K9{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new W9(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q9{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt("string"==typeof t.token),this.T=t.token,new X5(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Y9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class eL{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Y9(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[u]%62))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function D0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class $n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new $n(0,0))}static max(){return new st(new $n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dE{constructor(e,t,r){void 0===t?t=0:t>e.length&&Je(),void 0===r?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dE?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),l=t.get(i);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zt extends dE{construct(e,t,r){return new zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new zt(t)}static emptyPath(){return new zt([])}}const J9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends dE{construct(e,t,r){return new or(e,t,r)}static isValidIdentifier(e){return J9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ie(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Ie(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(u(),i++)}if(u(),l)throw new Ie(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(t)}static emptyPath(){return new or([])}}class He{constructor(e){this.path=e}static fromPath(e){return new He(zt.fromString(e))}static fromName(e){return new He(zt.fromString(e).popFirst(5))}static empty(){return new He(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new zt(e.slice()))}}function rL(n){return new $s(n.readTime,n.key,-1)}class $s{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $s(st.min(),He.empty(),-1)}static max(){return new $s(st.max(),He.empty(),-1)}}function fM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const iL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wd(n){return pM.apply(this,arguments)}function pM(){return pM=(0,R.Z)(function*(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==iL)throw n;De("LocalStore","Unexpectedly lost primary lease")}),pM.apply(this,arguments)}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,r)=>{t(e)})}static reject(e){return new z((t,r)=>{r(e)})}static waitFor(e){return new z((t,r)=>{let i=0,u=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++u,l&&u===i&&t()},m=>r(m))}),l=!0,u===i&&t()})}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next(i=>i?z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new z((r,i)=>{const u=e.length,l=new Array(u);let f=0;for(let m=0;m<u;m++){const v=m;t(e[v]).next(C=>{l[v]=C,++f,f===u&&r(l)},C=>i(C))}})}static doWhile(e,t){return new z((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function Td(n){return"IndexedDbTransactionError"===n.name}let Hs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function pE(n){return null==n}function gE(n){return 0===n&&1/n==-1/0}function fL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class In{constructor(e,t){this.comparator=e,this.root=t||vi.EMPTY}insert(e,t){return new In(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new In(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new OC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new OC(this.root,e,this.comparator,!1)}getReverseIterator(){return new OC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new OC(this.root,e,this.comparator,!0)}}class OC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vi{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??vi.RED,this.left=i??vi.EMPTY,this.right=u??vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new vi(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return vi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1,vi.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,r,i){return this}insert(n,e,t){return new vi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gL(this.data.getIterator())}getIteratorFrom(e){return new gL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class gL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ys{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new ys([])}unionWith(e){let t=new bn(or.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ys(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return D0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mL("Invalid base64 string: "+i):i}}(e);return new kr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const C7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bd(n){if(rt(!!n),"string"==typeof n){let e=0;const t=C7.exec(n);if(rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Mc(n){return"string"==typeof n?kr.fromBase64String(n):kr.fromUint8Array(n)}function kC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function FC(n){const e=n.mapValue.fields.__previous_value__;return kC(e)?FC(e):e}function mE(n){const e=bd(n.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}class b7{constructor(e,t,r,i,u,l,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class sp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sp&&e.projectId===this.projectId&&e.database===this.database}}const Ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Dd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kC(n)?4:EL(n)?9007199254740991:10:Je()}function ru(n,e){if(n===e)return!0;const t=Dd(n);if(t!==Dd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mE(n).isEqual(mE(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=bd(r.timestampValue),l=bd(i.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Mc(n.bytesValue).isEqual(Mc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Jn(r.geoPointValue.latitude)===Jn(i.geoPointValue.latitude)&&Jn(r.geoPointValue.longitude)===Jn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Jn(r.integerValue)===Jn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Jn(r.doubleValue),l=Jn(i.doubleValue);return u===l?gE(u)===gE(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return D0(n.arrayValue.values||[],e.arrayValue.values||[],ru);case 10:return function(r,i){const u=r.mapValue.fields||{},l=i.mapValue.fields||{};if(fL(u)!==fL(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===l[f]||!ru(u[f],l[f])))return!1;return!0}(n,e);default:return Je()}var i}function _E(n,e){return void 0!==(n.values||[]).find(t=>ru(t,e))}function Sd(n,e){if(n===e)return 0;const t=Dd(n),r=Dd(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const l=Jn(i.integerValue||i.doubleValue),f=Jn(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return _L(n.timestampValue,e.timestampValue);case 4:return _L(mE(n),mE(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(i,u){const l=Mc(i),f=Mc(u);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const l=i.split("/"),f=u.split("/");for(let m=0;m<l.length&&m<f.length;m++){const v=xt(l[m],f[m]);if(0!==v)return v}return xt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const l=xt(Jn(i.latitude),Jn(u.latitude));return 0!==l?l:xt(Jn(i.longitude),Jn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const l=i.values||[],f=u.values||[];for(let m=0;m<l.length&&m<f.length;++m){const v=Sd(l[m],f[m]);if(v)return v}return xt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Ad.mapValue&&u===Ad.mapValue)return 0;if(i===Ad.mapValue)return 1;if(u===Ad.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let C=0;C<f.length&&C<v.length;++C){const A=xt(f[C],v[C]);if(0!==A)return A;const M=Sd(l[f[C]],m[v[C]]);if(0!==M)return M}return xt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Je()}}function _L(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=bd(n),r=bd(e),i=xt(t.seconds,r.seconds);return 0!==i?i:xt(t.nanos,r.nanos)}function x0(n){return _M(n)}function _M(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=bd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Mc(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const l of r.values||[])u?u=!1:i+=",",i+=_M(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const f of i)l?l=!1:u+=",",u+=`${f}:${_M(r.fields[f])}`;return u+"}"}(n.mapValue):Je();var e}function op(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yM(n){return!!n&&"integerValue"in n}function yE(n){return!!n&&"arrayValue"in n}function yL(n){return!!n&&"nullValue"in n}function vL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function VC(n){return!!n&&"mapValue"in n}function vE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vE(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vE(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!VC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vE(t)}setAll(e){let t=or.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=vE(l):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());VC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ru(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];VC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Cd(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Ei(vE(this.value))}}function TL(n){const e=[];return Cd(n.fields,(t,r)=>{const i=new or([t]);if(VC(r)){const u=TL(r.mapValue).fields;if(0===u.length)e.push(i);else for(const l of u)e.push(i.child(l))}else e.push(i)}),new ys(e)}class An{constructor(e,t,r,i,u,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=l,this.documentState=f}static newInvalidDocument(e){return new An(e,0,st.min(),st.min(),st.min(),Ei.empty(),0)}static newFoundDocument(e,t,r,i){return new An(e,1,t,st.min(),r,i,0)}static newNoDocument(e,t){return new An(e,2,t,st.min(),st.min(),Ei.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,st.min(),st.min(),Ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(st.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xd{constructor(e,t){this.position=e,this.inclusive=t}}function CL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],l=n.position[i];if(r=u.field.isKeyField()?He.comparator(He.fromName(l.referenceValue),t.key):Sd(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function bL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ru(n.position[t],e.position[t]))return!1;return!0}class M0{constructor(e,t="asc"){this.field=e,this.dir=t}}function S7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class AL{}class jt extends AL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new x7(e,t,r):"array-contains"===t?new R7(e,r):"in"===t?new RL(e,r):"not-in"===t?new P7(e,r):"array-contains-any"===t?new O7(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new M7(e,r):new N7(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sd(t,this.value)):null!==t&&Dd(this.value)===Dd(t)&&this.matchesComparison(Sd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class hn extends AL{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new hn(e,t)}matches(e){return N0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function N0(n){return"and"===n.op}function EM(n){return function DL(n){for(const e of n.filters)if(e instanceof hn)return!1;return!0}(n)&&N0(n)}function IM(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+x0(n.value);if(EM(n))return n.filters.map(e=>IM(e)).join(",");{const e=n.filters.map(t=>IM(t)).join(",");return`${n.op}(${e})`}}function SL(n,e){return n instanceof jt?(t=n,(r=e)instanceof jt&&t.op===r.op&&t.field.isEqual(r.field)&&ru(t.value,r.value)):n instanceof hn?function(t,r){return r instanceof hn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,l)=>i&&SL(u,r.filters[l]),!0)}(n,e):void Je();var t,r}function ML(n){return n instanceof jt?`${(e=n).field.canonicalString()} ${e.op} ${x0(e.value)}`:n instanceof hn?function(e){return e.op.toString()+" {"+e.getFilters().map(ML).join(" ,")+"}"}(n):"Filter";var e}class x7 extends jt{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class M7 extends jt{constructor(e,t){super(e,"in",t),this.keys=NL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class N7 extends jt{constructor(e,t){super(e,"not-in",t),this.keys=NL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function NL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class R7 extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yE(t)&&_E(t.arrayValue,this.value)}}class RL extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_E(this.value.arrayValue,t)}}class P7 extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_E(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_E(this.value.arrayValue,t)}}class O7 extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_E(this.value.arrayValue,r))}}class k7{constructor(e,t=null,r=[],i=[],u=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=l,this.endAt=f,this.dt=null}}function wM(n,e=null,t=[],r=[],i=null,u=null,l=null){return new k7(n,e,t,r,i,u,l)}function ap(n){const e=Ge(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>IM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),pE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>x0(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>x0(r)).join(",")),e.dt=t}return e.dt}function EE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!S7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bL(n.startAt,e.startAt)&&bL(n.endAt,e.endAt)}function BC(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Nc{constructor(e,t=null,r=[],i=[],u=null,l="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=l,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function R0(n){return new Nc(n)}function FL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function TM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function jC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function CM(n){return null!==n.collectionGroup}function up(n){const e=Ge(n);if(null===e.wt){e.wt=[];const t=jC(e),r=TM(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new M0(t)),e.wt.push(new M0(or.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new M0(or.keyField(),u))}}}return e.wt}function es(n){const e=Ge(n);if(!e._t)if("F"===e.limitType)e._t=wM(e.path,e.collectionGroup,up(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of up(e))t.push(new M0(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new xd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new xd(e.startAt.position,e.startAt.inclusive):null;e._t=wM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function bM(n,e){e.getFirstInequalityField(),jC(n);const t=n.filters.concat([e]);return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qC(n,e,t){return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function IE(n,e){return EE(es(n),es(e))&&n.limitType===e.limitType}function LL(n){return`${ap(es(n))}|lt:${n.limitType}`}function AM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>ML(r)).join(", ")}]`),pE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>x0(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>x0(r)).join(",")),`Target(${t})`}(es(n))}; limitType=${n.limitType})`}function wE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):He.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of up(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,l){const f=CL(i,u,l);return i.inclusive?f<=0:f<0}(t.startAt,up(t),r)||t.endAt&&!function(i,u,l){const f=CL(i,u,l);return i.inclusive?f>=0:f>0}(t.endAt,up(t),r)));var t,r}function VL(n){return(e,t)=>{let r=!1;for(const i of up(n)){const u=F7(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function F7(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(i,u,l){const f=u.data.field(i),m=l.data.field(i);return null!==f&&null!==m?Sd(f,m):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}class Rc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cd(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return pL(this.inner)}size(){return this.innerSize}}const L7=new In(He.comparator);function vs(){return L7}const BL=new In(He.comparator);function TE(...n){let e=BL;for(const t of n)e=e.insert(t.key,t);return e}function ZL(n){let e=BL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function iu(){return CE()}function jL(){return CE()}function CE(){return new Rc(n=>n.toString(),(n,e)=>n.isEqual(e))}const U7=new In(He.comparator),V7=new bn(He.comparator);function Pt(...n){let e=V7;for(const t of n)e=e.add(t);return e}const B7=new bn(xt);function qL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gE(e)?"-0":e}}function $L(n){return{integerValue:""+n}}function HL(n,e){return function oL(n){return"number"==typeof n&&Number.isInteger(n)&&!gE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?$L(e):qL(n,e)}class $C{constructor(){this._=void 0}}function Z7(n,e,t){return n instanceof P0?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&kC(i)&&(i=FC(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof cp?zL(n,e):n instanceof lp?WL(n,e):function(r,i){const u=GL(r,i),l=KL(u)+KL(r.gt);return yM(u)&&yM(r.gt)?$L(l):qL(r.serializer,l)}(n,e)}function j7(n,e,t){return n instanceof cp?zL(n,e):n instanceof lp?WL(n,e):t}function GL(n,e){return n instanceof O0?yM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class P0 extends $C{}class cp extends $C{constructor(e){super(),this.elements=e}}function zL(n,e){const t=QL(e);for(const r of n.elements)t.some(i=>ru(i,r))||t.push(r);return{arrayValue:{values:t}}}class lp extends $C{constructor(e){super(),this.elements=e}}function WL(n,e){let t=QL(e);for(const r of n.elements)t=t.filter(i=>!ru(i,r));return{arrayValue:{values:t}}}class O0 extends $C{constructor(e,t){super(),this.serializer=e,this.gt=t}}function KL(n){return Jn(n.integerValue||n.doubleValue)}function QL(n){return yE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $7{constructor(e,t){this.version=e,this.transformResults=t}}class Nn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function HC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class GC{}function YL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new F0(n.key,Nn.none()):new k0(n.key,n.data,Nn.none());{const t=n.data,r=Ei.empty();let i=new bn(or.comparator);for(let u of e.fields)if(!i.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),i=i.add(u)}return new Pc(n.key,r,new ys(i.toArray()),Nn.none())}}function H7(n,e,t){n instanceof k0?function(r,i,u){const l=r.value.clone(),f=e6(r.fieldTransforms,i,u.transformResults);l.setAll(f),i.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Pc?function(r,i,u){if(!HC(r.precondition,i))return void i.convertToUnknownDocument(u.version);const l=e6(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(XL(r)),f.setAll(l),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function AE(n,e,t,r){return n instanceof k0?function(i,u,l,f){if(!HC(i.precondition,u))return l;const m=i.value.clone(),v=t6(i.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Pc?function(i,u,l,f){if(!HC(i.precondition,u))return l;const m=t6(i.fieldTransforms,f,u),v=u.data;return v.setAll(XL(i)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(l=t,HC(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function G7(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=GL(r.transform,i||null);null!=u&&(null===t&&(t=Ei.empty()),t.set(r.field,u))}return t||null}function JL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&D0(t,r,(i,u)=>function q7(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof cp&&r instanceof cp||t instanceof lp&&r instanceof lp?D0(t.elements,r.elements,ru):t instanceof O0&&r instanceof O0?ru(t.gt,r.gt):t instanceof P0&&r instanceof P0);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class k0 extends GC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pc extends GC{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function XL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function e6(n,e,t){const r=new Map;rt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],l=u.transform,f=e.data.field(u.field);r.set(u.field,j7(l,f,t[i]))}return r}function t6(n,e,t){const r=new Map;for(const i of n){const u=i.transform,l=t.data.field(i.field);r.set(i.field,Z7(u,l,e))}return r}class F0 extends GC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SM extends GC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&H7(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=AE(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=AE(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jL();return this.mutations.forEach(i=>{const u=e.get(i.key),l=u.overlayedDocument;let f=this.applyToLocalView(l,u.mutatedFields);f=t.has(i.key)?null:f;const m=YL(l,f);null!==m&&r.set(i.key,m),l.isValidDocument()||l.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pt())}isEqual(e){return this.batchId===e.batchId&&D0(this.mutations,e.mutations,(t,r)=>JL(t,r))&&D0(this.baseMutations,e.baseMutations,(t,r)=>JL(t,r))}}class MM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){rt(e.mutations.length===r.length);let i=U7;const u=e.mutations;for(let l=0;l<u.length;l++)i=i.insert(u[l].key,r[l].version);return new MM(e,t,r,i)}}class NM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class W7{constructor(e,t){this.count=e,this.unchangedNames=t}}var yr,Wt;function r6(n){if(void 0===n)return sr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case yr.OK:return ne.OK;case yr.CANCELLED:return ne.CANCELLED;case yr.UNKNOWN:return ne.UNKNOWN;case yr.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case yr.INTERNAL:return ne.INTERNAL;case yr.UNAVAILABLE:return ne.UNAVAILABLE;case yr.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case yr.NOT_FOUND:return ne.NOT_FOUND;case yr.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case yr.ABORTED:return ne.ABORTED;case yr.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case yr.DATA_LOSS:return ne.DATA_LOSS;default:return Je()}}(Wt=yr||(yr={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";class RM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zC}static getOrCreateInstance(){return null===zC&&(zC=new RM),zC}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let zC=null;const K7=new b0([4294967295,4294967295],0);function s6(n){const e=function i6(){return new TextEncoder}().encode(n),t=new $9;return t.update(e),new Uint8Array(t.digest())}function o6(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new b0([t,r],0),new b0([i,u],0)]}class PM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new DE(`Invalid padding: ${t}`);if(r<0)throw new DE(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new DE(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new DE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=b0.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(b0.fromNumber(r)));return 1===i.compare(K7)&&(i=new b0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=s6(e),[r,i]=o6(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new PM(u,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=s6(e),[r,i]=o6(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class DE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class SE{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,xE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new SE(st.min(),i,new In(xt),vs(),Pt())}}class xE{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xE(r,t,Pt(),Pt(),Pt())}}class WC{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class a6{constructor(e,t){this.targetId=e,this.Vt=t}}class u6{constructor(e,t,r=kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class c6{constructor(){this.St=0,this.Dt=d6(),this.Ct=kr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Pt(),t=Pt(),r=Pt();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Je()}}),new xE(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=d6()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Q7{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=vs(),this.zt=l6(),this.Wt=new In(xt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(BC(l))if(0===i){const f=new He(l.path);this.Yt(r,f,An.newNoDocument(f,st.min()))}else rt(1===i);else{const f=this.ie(r);if(f!==i){const m=this.re(e,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=RM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,C,A){var M,O,j,G,X,Te;const Fe={localCacheCount:C,existenceFilterCount:A.count},ke=A.unchangedNames;return ke&&(Fe.bloomFilter={applied:0===v,hashCount:null!==(M=ke?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(G=null===(j=null===(O=ke?.bits)||void 0===O?void 0:O.bitmap)||void 0===j?void 0:j.length)&&void 0!==G?G:0,padding:null!==(Te=null===(X=ke?.bits)||void 0===X?void 0:X.padding)&&void 0!==Te?Te:0}),Fe}(m,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:f=0}=r;let m,v;try{m=Mc(u).toUint8Array()}catch(C){if(C instanceof mL)return ra("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{v=new PM(m,l,f)}catch(C){return ra(C instanceof DE?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===v.It?1:i!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(f)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const f=this.se(l);if(f){if(u.current&&BC(f.target)){const m=new He(f.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,An.newNoDocument(m,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Pt();this.zt.forEach((u,l)=>{let f=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const i=new SE(e,t,this.Wt,this.jt,r);return this.jt=vs(),this.zt=l6(),this.Wt=new In(xt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new c6,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new bn(xt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||De("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new c6),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function l6(){return new In(He.comparator)}function d6(){return new In(He.comparator)}const Y7={asc:"ASCENDING",desc:"DESCENDING"},J7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X7={and:"AND",or:"OR"};class eZ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function OM(n,e){return n.useProto3Json||pE(e)?e:{value:e}}function L0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h6(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tZ(n,e){return L0(n,e.toTimestamp())}function ar(n){return rt(!!n),st.fromTimestamp(function(e){const t=bd(e);return new $n(t.seconds,t.nanos)}(n))}function kM(n,e){return(t=n,new zt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function f6(n){const e=zt.fromString(n);return rt(w6(e)),e}function ME(n,e){return kM(n.databaseId,e.path)}function su(n,e){const t=f6(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(g6(t))}function FM(n,e){return kM(n.databaseId,e)}function NE(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g6(n){return rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function m6(n,e,t){return{name:ME(n,e),fields:t.value.mapValue.fields}}function y6(n,e){return{documents:[FM(n,e.path)]}}function UM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=FM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=FM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return I6(hn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(m){if(0!==m.length)return m.map(v=>{return{field:Md((C=v).field),direction:oZ(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=OM(n,e.limit);var f,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function v6(n){let e=function p6(n){const e=f6(n);return 4===e.length?zt.emptyPath():g6(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){rt(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let u=[];t.where&&(u=function(C){const A=E6(C);return A instanceof hn&&EM(A)?A.getFilters():[A]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new M0(U0((A=C).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(C){let A;return A="object"==typeof C?C.value:C,pE(A)?null:A}(t.limit));let m=null;var C;t.startAt&&(m=new xd((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new xd(C.values||[],!C.before)}(t.endAt)),function kL(n,e,t,r,i,u,l,f){return new Nc(n,e,t,r,i,u,l,f)}(e,i,l,u,f,"F",m,v)}function E6(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=U0(e.unaryFilter.field);return jt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=U0(e.unaryFilter.field);return jt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=U0(e.unaryFilter.field);return jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=U0(e.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(n):void 0!==n.fieldFilter?jt.create(U0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return hn.create(e.compositeFilter.filters.map(t=>E6(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Je()}}(e.compositeFilter.op))}(n):Je();var e}function oZ(n){return Y7[n]}function aZ(n){return J7[n]}function uZ(n){return X7[n]}function Md(n){return{fieldPath:n.canonicalString()}}function U0(n){return or.fromServerFormat(n.fieldPath)}function I6(n){return n instanceof jt?function(e){if("=="===e.op){if(vL(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NAN"}};if(yL(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vL(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NOT_NAN"}};if(yL(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Md(e.field),op:aZ(e.op),value:e.value}}}(n):n instanceof hn?function(e){const t=e.getFilters().map(r=>I6(r));return 1===t.length?t[0]:{compositeFilter:{op:uZ(e.op),filters:t}}}(n):Je()}function cZ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function w6(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Oc{constructor(e,t,r,i,u=st.min(),l=st.min(),f=kr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class T6{constructor(e){this.fe=e}}function VM(n){const e=v6({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qC(e,e.limit,"L"):e}class pp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Jn(e.integerValue));else if("doubleValue"in e){const r=Jn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),gE(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Mc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?EL(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Je()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),He.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}pp.Ve=new pp;class yZ{constructor(){this.rn=new HM}addToCollectionParentIndex(e,t){return this.rn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve($s.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class HM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bn(zt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(zt.comparator)).toArray()}}new Uint8Array(0);class Vi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Vi(e,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Vi.DEFAULT_COLLECTION_PERCENTILE=10,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vi.DEFAULT=new Vi(41943040,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vi.DISABLED=new Vi(-1,0,0);class mp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new mp(0)}static Mn(){return new mp(-1)}}class CZ{constructor(){this.changes=new Rc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DZ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class K6{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&AE(r.mutation,i,ys.empty(),$n.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pt()){const i=iu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let l=TE();return u.forEach((f,m)=>{l=l.insert(f,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=iu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let u=vs();const l=CE(),f=CE();return t.forEach((m,v)=>{const C=r.get(v.key);i.has(v.key)&&(void 0===C||C.mutation instanceof Pc)?u=u.insert(v.key,v):void 0!==C?(l.set(v.key,C.mutation.getFieldMask()),AE(C.mutation,v,C.mutation.getFieldMask(),$n.now())):l.set(v.key,ys.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((v,C)=>l.set(v,C)),t.forEach((v,C)=>{var A;return f.set(v,new DZ(C,null!==(A=l.get(v))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=CE();let i=new In((l,f)=>l-f),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let C=r.get(m)||ys.empty();C=f.applyToLocalView(v,C),r.set(m,C);const A=(i.get(f.batchId)||Pt()).add(m);i=i.insert(f.batchId,A)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,C=m.value,A=jL();C.forEach(M=>{if(!u.has(M)){const O=YL(t.get(M),r.get(M));null!==O&&A.set(M,O),u=u.add(M)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,A))}return z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return He.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):CM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const l=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):z.resolve(iu());let f=-1,m=u;return l.next(v=>z.forEach(v,(C,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),u.get(C)?z.resolve():this.remoteDocumentCache.getEntry(e,C).next(M=>{m=m.insert(C,M)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,m,v,Pt())).next(C=>({batchId:f,changes:ZL(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let i=TE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=TE();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,f=>{const m=(v=t,C=f.child(i),new Nc(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((C,A)=>{u=u.insert(C,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((f,m)=>{const v=m.getKey();null===u.get(v)&&(u=u.insert(v,An.newInvalidDocument(v)))});let l=TE();return u.forEach((f,m)=>{const v=i.get(f);void 0!==v&&AE(v.mutation,m,ys.empty(),$n.now()),wE(t,m)&&(l=l.insert(f,m))}),l})}}class SZ{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return z.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:ar(r.createTime)}),z.resolve()}getNamedQuery(e,t){return z.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:VM(r.bundledQuery),readTime:ar(r.readTime)}),z.resolve();var r}}class xZ{constructor(){this.overlays=new In(He.comparator),this.ls=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=iu();return z.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const i=iu(),u=t.length+1,l=new He(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&m.largestBatchId>r&&i.set(m.getKey(),m)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new In((v,C)=>v-C);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let C=u.get(v.largestBatchId);null===C&&(C=iu(),u=u.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const f=iu(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,C)=>f.set(v,C)),!(f.size()>=i)););return z.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new NM(t,r));let u=this.ls.get(t);void 0===u&&(u=Pt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class GM{constructor(){this.fs=new bn(Yr.ds),this.ws=new bn(Yr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Yr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Yr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new He(new zt([])),r=new Yr(t,e),i=new Yr(t,e+1),u=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new He(new zt([])),r=new Yr(t,e),i=new Yr(t,e+1);let u=Pt();return this.ws.forEachInRange([r,i],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Yr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return He.comparator(e.key,t.key)||xt(e.As,t.As)}static _s(e,t){return xt(e.As,t.As)||He.comparator(e.key,t.key)}}class MZ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new bn(Yr.ds)}checkEmpty(e){return z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const l=new xM(u,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new Yr(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return z.resolve(l)}lookupMutationBatch(e,t){return z.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yr(t,0),i=new Yr(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);u.push(f)}),z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(xt);return t.forEach(i=>{const u=new Yr(i,0),l=new Yr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],f=>{r=r.add(f.As)})}),z.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;He.isDocumentKey(u)||(u=u.child(""));const l=new Yr(new He(u),0);let f=new bn(xt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m.As)),!0)},l),z.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){rt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return z.forEach(t.mutations,i=>{const u=new Yr(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Yr(t,0),i=this.Rs.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return z.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class NZ{constructor(e){this.Ds=e,this.docs=new In(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=vs();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():An.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=vs();const l=t.path,f=new He(l.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:C}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||fM(rL(C),r)<=0||(i.has(C.key)||wE(t,C))&&(u=u.insert(C.key,C.mutableCopy()))}return z.resolve(u)}getAllFromCollectionGroup(e,t,r,i){Je()}Cs(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RZ(this)}getSize(e){return z.resolve(this.size)}}class RZ extends CZ{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class PZ{constructor(e){this.persistence=e,this.xs=new Rc(t=>ap(t),EE),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Ns=0,this.ks=new GM,this.targetCount=0,this.Ms=mp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),z.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new mp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Fn(t),z.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),z.waitFor(u).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(l=>{u.push(i.markPotentiallyOrphaned(e,l))}),z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.ks.containsKey(t))}}class zM{constructor(e,t){this.$s={},this.overlays={},this.Os=new Hs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new PZ(this),this.indexManager=new yZ,this.remoteDocumentCache=new NZ(r=>this.referenceDelegate.Ls(r)),this.serializer=new T6(t),this.qs=new SZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xZ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new MZ(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){De("MemoryPersistence","Starting transaction:",e);const i=new OZ(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return z.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class OZ extends t7{constructor(e){super(),this.currentSequenceNumber=e}}class rb{constructor(e){this.persistence=e,this.Qs=new GM,this.js=null}static zs(e){return new rb(e)}get Ws(){if(this.js)return this.js;throw Je()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),z.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Ws,r=>{const i=He.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,st.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return z.or([()=>z.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class YM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Pt(),i=Pt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new YM(e,t.fromCache,r,i)}}class Y6{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(FL(t))return z.resolve(null);let r=es(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=qC(t,null,"F"),r=es(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Pt(...u);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.ji(t,f);return this.zi(t,v,l,m.readTime)?this.Ki(e,qC(t,null,"F")):this.Wi(e,v,t,m)}))})))}Gi(e,t,r,i){return FL(t)||i.isEqual(st.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,i)?this.Qi(e,t):(lM()<=ki.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),AM(t)),this.Wi(e,l,t,function nL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=st.fromTimestamp(1e9===r?new $n(t+1,0):new $n(t,r));return new $s(i,He.empty(),e)}(i,-1)))})}ji(e,t){let r=new bn(VL(e));return t.forEach((i,u)=>{wE(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return lM()<=ki.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",AM(t)),this.Ui.getDocumentsMatchingQuery(e,t,$s.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class FZ{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new In(xt),this.Yi=new Rc(u=>ap(u),EE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K6(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function X6(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,R.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],f=[];let m=Pt();for(const v of i){l.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}for(const v of u){f.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}return t.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),JM.apply(this,arguments)}function eU(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function VZ(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j0(n,e,t){return XM.apply(this,arguments)}function XM(){return XM=(0,R.Z)(function*(n,e,t){const r=Ge(n),i=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Td(l))throw l;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),XM.apply(this,arguments)}function ob(n,e,t){const r=Ge(n);let i=st.min(),u=Pt();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,m,v){const C=Ge(f),A=C.Yi.get(v);return void 0!==A?z.resolve(C.Ji.get(A)):C.Bs.getTargetData(m,v)}(r,l,es(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(m=>{u=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:st.min(),t?u:Pt())).next(f=>(function iU(n,e,t){let r=n.Xi.get(e)||st.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function UL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:u})))}class iN{constructor(){this.activeTargetIds=function DM(){return B7}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aU{constructor(){this.Hr=new iN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new iN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jZ{Yr(e){}shutdown(){}}class uU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let cb=null;function oN(){return null===cb?cb=268435456+Math.round(2147483648*Math.random()):cb++,"0x"+cb.toString(16)}const qZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $Z{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Bi="WebChannelConnection";class HZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const l=oN(),f=this.To(e,t);De("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const m={};return this.Eo(m,i,u),this.Ao(e,f,m,r).then(v=>(De("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw ra("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,i,u,l){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+A0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${qZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=oN();return new Promise((l,f)=>{const m=new q9;m.setWithCredentials(!0),m.listenOnce(B9.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case cM.NO_ERROR:const C=m.getResponseJson();De(Bi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(C)),l(C);break;case cM.TIMEOUT:De(Bi,`RPC '${e}' ${u} timed out`),f(new Ie(ne.DEADLINE_EXCEEDED,"Request time out"));break;case cM.HTTP_ERROR:const A=m.getStatus();if(De(Bi,`RPC '${e}' ${u} failed with status:`,A,"response text:",m.getResponseText()),A>0){let M=m.getResponseJson();Array.isArray(M)&&(M=M[0]);const O=M?.error;if(O&&O.status&&O.message){const j=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN}(O.status);f(new Ie(j,O.message))}else f(new Ie(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Ie(ne.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{De(Bi,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(i);De(Bi,`RPC '${e}' ${u} sending request:`,i),m.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=oN(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=U9(),f=V9(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new j9({})),this.Eo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const C=u.join("");De(Bi,`Creating RPC '${e}' stream ${i}: ${C}`,m);const A=l.createWebChannel(C,m);let M=!1,O=!1;const j=new $Z({ro:X=>{O?De(Bi,`Not sending because RPC '${e}' stream ${i} is closed:`,X):(M||(De(Bi,`Opening RPC '${e}' stream ${i} transport.`),A.open(),M=!0),De(Bi,`RPC '${e}' stream ${i} sending:`,X),A.send(X))},oo:()=>A.close()}),G=(X,Te,Fe)=>{X.listen(Te,ke=>{try{Fe(ke)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return G(A,xC.EventType.OPEN,()=>{O||De(Bi,`RPC '${e}' stream ${i} transport opened.`)}),G(A,xC.EventType.CLOSE,()=>{O||(O=!0,De(Bi,`RPC '${e}' stream ${i} transport closed`),j.wo())}),G(A,xC.EventType.ERROR,X=>{O||(O=!0,ra(Bi,`RPC '${e}' stream ${i} transport errored:`,X),j.wo(new Ie(ne.UNAVAILABLE,"The operation could not be completed")))}),G(A,xC.EventType.MESSAGE,X=>{var Te;if(!O){const Fe=X.data[0];rt(!!Fe);const Ke=Fe.error||(null===(Te=Fe[0])||void 0===Te?void 0:Te.error);if(Ke){De(Bi,`RPC '${e}' stream ${i} received error:`,Ke);const _t=Ke.status;let pt=function(wr){const Zi=yr[wr];if(void 0!==Zi)return r6(Zi)}(_t),Kt=Ke.message;void 0===pt&&(pt=ne.INTERNAL,Kt="Unknown error status: "+_t+" with message "+Ke.message),O=!0,j.wo(new Ie(pt,Kt)),A.close()}else De(Bi,`RPC '${e}' stream ${i} received:`,Fe),j._o(Fe)}}),G(f,Z9.STAT_EVENT,X=>{X.stat===Q5.PROXY?De(Bi,`RPC '${e}' stream ${i} detected buffering proxy`):X.stat===Q5.NOPROXY&&De(Bi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{j.fo()},0),j}}function lb(){return typeof document<"u"?document:null}function ZE(n){return new eZ(n,!0)}class aN{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class lU{constructor(e,t,r,i,u,l,f,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new aN(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,R.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,R.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,R.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ie(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,R.Z)(function*(){e.state=0,e.start()}))}tu(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GZ extends lU{constructor(e,t,r,i,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function rZ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:Je(),i=e.targetChange.targetIds||[],u=function(m,v){return m.useProto3Json?(rt(void 0===v||"string"==typeof v),kr.fromBase64String(v||"")):(rt(void 0===v||v instanceof Uint8Array),kr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(m){const v=void 0===m.code?ne.UNKNOWN:r6(m.code);return new Ie(v,m.message||"")}(l);t=new u6(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=su(n,r.document.name),u=ar(r.document.updateTime),l=r.document.createTime?ar(r.document.createTime):st.min(),f=new Ei({mapValue:{fields:r.document.fields}}),m=An.newFoundDocument(i,u,l,f);t=new WC(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=su(n,r.document),u=r.readTime?ar(r.readTime):st.min(),l=An.newNoDocument(i,u);t=new WC([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=su(n,r.document);t=new WC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Je();{const r=e.filter,{count:i=0,unchangedNames:u}=r,l=new W7(i,u);t=new a6(r.targetId,l)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return st.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?st.min():u.readTime?ar(u.readTime):st.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=NE(this.serializer),t.addTarget=function(i,u){let l;const f=u.target;if(l=BC(f)?{documents:y6(i,f)}:{query:UM(i,f)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=h6(i,u.resumeToken);const m=OM(i,u.expectedCount);null!==m&&(l.expectedCount=m)}else if(u.snapshotVersion.compareTo(st.min())>0){l.readTime=L0(i,u.snapshotVersion.toTimestamp());const m=OM(i,u.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const r=function sZ(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=NE(this.serializer),t.removeTarget=e,this.Wo(t)}}class zZ extends lU{constructor(e,t,r,i,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function iZ(n,e){return n&&n.length>0?(rt(void 0!==e),n.map(t=>function(r,i){let u=ar(r.updateTime?r.updateTime:i);return u.isEqual(st.min())&&(u=ar(i)),new $7(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.cu(r,t)}return rt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=NE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function RE(n,e){let t;if(e instanceof k0)t={update:m6(n,e.key,e.value)};else if(e instanceof F0)t={delete:ME(n,e.key)};else if(e instanceof Pc)t={update:m6(n,e.key,e.data),updateMask:cZ(e.fieldMask)};else{if(!(e instanceof SM))return Je();t={verify:ME(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const l=u.transform;if(l instanceof P0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof lp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof O0)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:tZ(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Je()),t;var i}(this.serializer,r))};this.Wo(t)}}class WZ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ie(ne.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(ne.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class QZ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(sr(t),this.mu=!1):De("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class YZ{constructor(e,t,r,i,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(f=>{r.enqueueAndForget((0,R.Z)(function*(){var m;Od(l)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,R.Z)(function*(v){const C=Ge(v);C.vu.add(4),yield q0(C),C.bu.set("Unknown"),C.vu.delete(4),yield jE(C)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new QZ(r,i)}}function jE(n){return cN.apply(this,arguments)}function cN(){return cN=(0,R.Z)(function*(n){if(Od(n))for(const e of n.Ru)yield e(!0)}),cN.apply(this,arguments)}function q0(n){return lN.apply(this,arguments)}function lN(){return lN=(0,R.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),lN.apply(this,arguments)}function db(n,e){const t=Ge(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),fN(t)?hN(t):H0(t).Ko()&&dN(t,e))}function qE(n,e){const t=Ge(n),r=H0(t);t.Au.delete(e),r.Ko()&&dU(t,e),0===t.Au.size&&(r.Ko()?r.jo():Od(t)&&t.bu.set("Unknown"))}function dN(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}H0(n).su(e)}function dU(n,e){n.Vu.qt(e),H0(n).iu(e)}function hN(n){n.Vu=new Q7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),H0(n).start(),n.bu.gu()}function fN(n){return Od(n)&&!H0(n).Uo()&&n.Au.size>0}function Od(n){return 0===Ge(n).vu.size}function hU(n){n.Vu=void 0}function JZ(n){return pN.apply(this,arguments)}function pN(){return pN=(0,R.Z)(function*(n){n.Au.forEach((e,t)=>{dN(n,e)})}),pN.apply(this,arguments)}function XZ(n,e){return gN.apply(this,arguments)}function gN(){return gN=(0,R.Z)(function*(n,e){hU(n),fN(n)?(n.bu.Iu(e),hN(n)):n.bu.set("Unknown")}),gN.apply(this,arguments)}function ej(n,e,t){return mN.apply(this,arguments)}function mN(){return mN=(0,R.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof u6&&2===e.state&&e.cause)try{yield(r=(0,R.Z)(function*(i,u){const l=u.cause;for(const f of u.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hb(n,r)}else if(e instanceof WC?n.Vu.Ht(e):e instanceof a6?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(st.min()))try{const r=yield eU(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const l=i.Vu.ce(u);return l.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(m);v&&i.Au.set(m,v.withResumeToken(f.resumeToken,u))}}),l.targetMismatches.forEach((f,m)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(kr.EMPTY_BYTE_STRING,v.snapshotVersion)),dU(i,f);const C=new Oc(v.target,f,m,v.sequenceNumber);dN(i,C)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){De("RemoteStore","Failed to raise snapshot:",r),yield hb(n,r)}var r}),mN.apply(this,arguments)}function hb(n,e,t){return _N.apply(this,arguments)}function _N(){return _N=(0,R.Z)(function*(n,e,t){if(!Td(e))throw e;n.vu.add(1),yield q0(n),n.bu.set("Offline"),t||(t=()=>eU(n.localStore)),n.asyncQueue.enqueueRetryable((0,R.Z)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield jE(n)}))}),_N.apply(this,arguments)}function fU(n,e){return e().catch(t=>hb(n,t,e))}function $0(n){return yN.apply(this,arguments)}function yN(){return yN=(0,R.Z)(function*(n){const e=Ge(n),t=kd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;tj(e);)try{const i=yield VZ(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,nj(e,i)}catch(i){yield hb(e,i)}pU(e)&&gU(e)}),yN.apply(this,arguments)}function tj(n){return Od(n)&&n.Eu.length<10}function nj(n,e){n.Eu.push(e);const t=kd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function pU(n){return Od(n)&&!kd(n).Uo()&&n.Eu.length>0}function gU(n){kd(n).start()}function rj(n){return vN.apply(this,arguments)}function vN(){return vN=(0,R.Z)(function*(n){kd(n).hu()}),vN.apply(this,arguments)}function ij(n){return EN.apply(this,arguments)}function EN(){return EN=(0,R.Z)(function*(n){const e=kd(n);for(const t of n.Eu)e.uu(t.mutations)}),EN.apply(this,arguments)}function sj(n,e,t){return IN.apply(this,arguments)}function IN(){return IN=(0,R.Z)(function*(n,e,t){const r=n.Eu.shift(),i=MM.from(r,e,t);yield fU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $0(n)}),IN.apply(this,arguments)}function oj(n,e){return wN.apply(this,arguments)}function wN(){return wN=(0,R.Z)(function*(n,e){var t;e&&kd(n).ou&&(yield(t=(0,R.Z)(function*(r,i){if(function n6(n){switch(n){default:return Je();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}(u=i.code)&&u!==ne.ABORTED){const l=r.Eu.shift();kd(r).Qo(),yield fU(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield $0(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),pU(n)&&gU(n)}),wN.apply(this,arguments)}function mU(n,e){return TN.apply(this,arguments)}function TN(){return TN=(0,R.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=Od(t);t.vu.add(3),yield q0(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield jE(t)}),TN.apply(this,arguments)}function bN(){return bN=(0,R.Z)(function*(n,e){const t=Ge(n);e?(t.vu.delete(2),yield jE(t)):e||(t.vu.add(2),yield q0(t),t.bu.set("Unknown"))}),bN.apply(this,arguments)}function H0(n){return n.Su||(n.Su=function(e,t,r){const i=Ge(e);return i.fu(),new GZ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:JZ.bind(null,n),ao:XZ.bind(null,n),nu:ej.bind(null,n)}),n.Ru.push(function(){var e=(0,R.Z)(function*(t){t?(n.Su.Qo(),fN(n)?hN(n):n.bu.set("Unknown")):(yield n.Su.stop(),hU(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function kd(n){return n.Du||(n.Du=function(e,t,r){const i=Ge(e);return i.fu(),new zZ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:rj.bind(null,n),ao:oj.bind(null,n),au:ij.bind(null,n),cu:sj.bind(null,n)}),n.Ru.push(function(){var e=(0,R.Z)(function*(t){t?(n.Du.Qo(),yield $0(n)):(yield n.Du.stop(),n.Eu.length>0&&(De("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class AN{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,u){const l=Date.now()+r,f=new AN(e,t,l,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G0(n,e){if(sr("AsyncQueue",`${e}: ${n}`),Td(n))return new Ie(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class z0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=TE(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new z0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof z0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new z0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _U{constructor(){this.Cu=new In(He.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Je():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class W0{constructor(e,t,r,i,u,l,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,u){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new W0(e,t,z0.emptySet(t),l,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&IE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class aj{constructor(){this.Nu=void 0,this.listeners=[]}}class uj{constructor(){this.queries=new Rc(e=>LL(e),IE),this.onlineState="Unknown",this.ku=new Set}}function DN(n,e){return SN.apply(this,arguments)}function SN(){return SN=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new aj),i)try{u.Nu=yield t.onListen(r)}catch(l){const f=G0(l,`Initialization of query '${AM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&NN(t)}),SN.apply(this,arguments)}function xN(n,e){return MN.apply(this,arguments)}function MN(){return MN=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),MN.apply(this,arguments)}function cj(n,e){const t=Ge(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&NN(t)}function lj(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function NN(n){n.ku.forEach(e=>{e.next()})}class RN{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new W0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=W0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class EU{constructor(e){this.key=e}}class IU{constructor(e){this.key=e}}class wU{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Pt(),this.mutatedKeys=Pt(),this.tc=VL(e),this.ec=new z0(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new _U,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,A)=>{const M=i.get(C),O=wE(this.query,A)?A:null,j=!!M&&this.mutatedKeys.has(M.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let X=!1;M&&O?M.data.isEqual(O.data)?j!==G&&(r.track({type:3,doc:O}),X=!0):this.rc(M,O)||(r.track({type:2,doc:O}),X=!0,(m&&this.tc(O,m)>0||v&&this.tc(O,v)<0)&&(f=!0)):!M&&O?(r.track({type:0,doc:O}),X=!0):M&&!O&&(r.track({type:1,doc:M}),X=!0,(m||v)&&(f=!0)),X&&(O?(l=l.add(O),u=G?u.add(C):u.delete(C)):(l=l.delete(C),u=u.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),u=u.delete(C.key),r.track({type:1,doc:C})}return{ec:l,ic:r,zi:f,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((v,C)=>function(A,M){const O=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return O(A)-O(M)}(v.type,C.type)||this.tc(v.doc,C.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==u.length||m?{snapshot:new W0(this.query,e.ec,i,u,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _U,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Pt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new IU(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new EU(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Pt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return W0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pj{constructor(e){this.key=e,this.fc=!1}}class gj{constructor(e,t,r,i,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Rc(f=>LL(f),IE),this._c=new Map,this.mc=new Set,this.gc=new In(He.comparator),this.yc=new Map,this.Ic=new GM,this.Tc={},this.Ec=new Map,this.Ac=mp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function mj(n,e){return PN.apply(this,arguments)}function PN(){return PN=(0,R.Z)(function*(n,e){const t=function nR(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vj.bind(null,e),e.dc.nu=cj.bind(null,e.eventManager),e.dc.Pc=lj.bind(null,e.eventManager),e}(n);let r,i;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.lc();else{const l=yield function Z0(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,z.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Oc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,es(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield function ON(n,e,t,r,i){return kN.apply(this,arguments)}(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&db(t.remoteStore,l)}return i}),PN.apply(this,arguments)}function kN(){return kN=(0,R.Z)(function*(n,e,t,r,i){n.Rc=(A,M,O)=>{return(j=(0,R.Z)(function*(G,X,Te,Fe){let ke=X.view.sc(Te);ke.zi&&(ke=yield ob(G.localStore,X.query,!1).then(({documents:pt})=>X.view.sc(pt,ke)));const Ke=Fe&&Fe.targetChanges.get(X.targetId),_t=X.view.applyChanges(ke,G.isPrimaryClient,Ke);return HN(G,X.targetId,_t.cc),_t.snapshot}),function(G,X,Te,Fe){return j.apply(this,arguments)})(n,A,M,O);var j};const u=yield ob(n.localStore,e,!0),l=new wU(e,u.ir),f=l.sc(u.documents),m=xE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=l.applyChanges(f,n.isPrimaryClient,m);HN(n,t,v.cc);const C=new fj(e,t,l);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),kN.apply(this,arguments)}function _j(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,R.Z)(function*(n,e){const t=Ge(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!IE(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield j0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),qE(t.remoteStore,r.targetId),K0(t,r.targetId)}).catch(wd))):(K0(t,r.targetId),yield j0(t.localStore,r.targetId,!0))}),FN.apply(this,arguments)}function LN(){return LN=(0,R.Z)(function*(n,e,t){const r=function rR(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ij.bind(null,e),e}(n);try{const i=yield function(u,l){const f=Ge(u),m=$n.now(),v=l.reduce((M,O)=>M.add(O.key),Pt());let C,A;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=vs(),j=Pt();return f.Zi.getEntries(M,v).next(G=>{O=G,O.forEach((X,Te)=>{Te.isValidDocument()||(j=j.add(X))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,O)).next(G=>{C=G;const X=[];for(const Te of l){const Fe=G7(Te,C.get(Te.key).overlayedDocument);null!=Fe&&X.push(new Pc(Te.key,Fe,TL(Fe.value.mapValue),Nn.exists(!0)))}return f.mutationQueue.addMutationBatch(M,m,X,l)}).next(G=>{A=G;const X=G.applyToLocalDocumentSet(C,j);return f.documentOverlayCache.saveOverlays(M,G.batchId,X)})}).then(()=>({batchId:A.batchId,changes:ZL(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,f){let m=u.Tc[u.currentUser.toKey()];m||(m=new In(xt)),m=m.insert(l,f),u.Tc[u.currentUser.toKey()]=m}(r,i.batchId,t),yield kc(r,i.changes),yield $0(r.remoteStore)}catch(i){const u=G0(i,"Failed to persist write");t.reject(u)}}),LN.apply(this,arguments)}function TU(n,e){return UN.apply(this,arguments)}function UN(){return UN=(0,R.Z)(function*(n,e){const t=Ge(n);try{const r=yield function UZ(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((C,A)=>{const M=i.get(A);if(!M)return;f.push(t.Bs.removeMatchingKeys(u,C.removedDocuments,A).next(()=>t.Bs.addMatchingKeys(u,C.addedDocuments,A)));let O=M.withSequenceNumber(u.currentSequenceNumber);var j,G,X;null!==e.targetMismatches.get(A)?O=O.withResumeToken(kr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):C.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(C.resumeToken,r)),i=i.insert(A,O),G=O,X=C,(0===(j=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(u,O))});let m=vs(),v=Pt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),f.push(function tU(n,e,t){let r=Pt(),i=Pt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=vs();return t.forEach((f,m)=>{const v=u.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(st.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):De("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:i}})}(u,l,e.documentUpdates).next(C=>{m=C.nr,v=C.sr})),!r.isEqual(st.min())){const C=t.Bs.getLastRemoteSnapshotVersion(u).next(A=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(C)}return z.waitFor(f).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,v)).next(()=>m)}).then(u=>(t.Ji=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const l=t.yc.get(u);l&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?rt(l.fc):i.removedDocuments.size>0&&(rt(l.fc),l.fc=!1))}),yield kc(t,r,e)}catch(r){yield wd(r)}}),UN.apply(this,arguments)}function CU(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(u,l){const f=Ge(u);f.onlineState=l;let m=!1;f.queries.forEach((v,C)=>{for(const A of C.listeners)A.Mu(l)&&(m=!0)}),m&&NN(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vj(n,e,t){return VN.apply(this,arguments)}function VN(){return VN=(0,R.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),u=i&&i.key;if(u){let l=new In(He.comparator);l=l.insert(u,An.newNoDocument(u,st.min()));const f=Pt().add(u),m=new SE(st.min(),new Map,new In(xt),l,f);yield TU(r,m),r.gc=r.gc.remove(u),r.yc.delete(e),GN(r)}else yield j0(r.localStore,e,!1).then(()=>K0(r,e,t)).catch(wd)}),VN.apply(this,arguments)}function Ej(n,e){return BN.apply(this,arguments)}function BN(){return BN=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield function LZ(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,m,v){const C=m.batch,A=C.keys();let M=z.resolve();return A.forEach(O=>{M=M.next(()=>v.getEntry(f,O)).next(j=>{const G=m.docVersions.get(O);rt(null!==G),j.version.compareTo(G)<0&&(C.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),v.addEntry(j)))})}),M.next(()=>l.mutationQueue.removeMutationBatch(f,C))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=Pt();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(f=f.add(l.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);$N(t,r,null),qN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield kc(t,i)}catch(i){yield wd(i)}}),BN.apply(this,arguments)}function Ij(n,e,t){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,R.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(u,l){const f=Ge(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,l).next(C=>(rt(null!==C),v=C.keys(),f.mutationQueue.removeMutationBatch(m,C))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);$N(r,e,t),qN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield kc(r,i)}catch(i){yield wd(i)}}),ZN.apply(this,arguments)}function qN(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function $N(n,e,t){const r=Ge(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function K0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||bU(n,r)})}function bU(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(qE(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),GN(n))}function HN(n,e,t){for(const r of t)r instanceof EU?(n.Ic.addReference(r.key,e),Tj(n,r)):r instanceof IU?(De("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||bU(n,r.key)):Je()}function Tj(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(De("SyncEngine","New document in limbo: "+t),n.mc.add(r),GN(n))}function GN(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new He(zt.fromString(e)),r=n.Ac.next();n.yc.set(r,new pj(t)),n.gc=n.gc.insert(t,r),db(n.remoteStore,new Oc(es(R0(t.path)),r,"TargetPurposeLimboResolution",Hs.ct))}}function kc(n,e,t){return zN.apply(this,arguments)}function zN(){return zN=(0,R.Z)(function*(n,e,t){const r=Ge(n),i=[],u=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{l.push(r.Rc(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const C=YM.Li(m.targetId,v);u.push(C)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,R.Z)(function*(m,v){const C=Ge(m);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>z.forEach(v,M=>z.forEach(M.Fi,O=>C.persistence.referenceDelegate.addReference(A,M.targetId,O)).next(()=>z.forEach(M.Bi,O=>C.persistence.referenceDelegate.removeReference(A,M.targetId,O)))))}catch(A){if(!Td(A))throw A;De("LocalStore","Failed to update sequence numbers: "+A)}for(const A of v){const M=A.targetId;if(!A.fromCache){const O=C.Ji.get(M),G=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);C.Ji=C.Ji.insert(M,G)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,u))}),zN.apply(this,arguments)}function Cj(n,e){return WN.apply(this,arguments)}function WN(){return WN=(0,R.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const r=yield X6(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Ie(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield kc(t,r.er)}var i}),WN.apply(this,arguments)}function bj(n,e){const t=Ge(n),r=t.yc.get(e);if(r&&r.fc)return Pt().add(r.key);{let i=Pt();const u=t._c.get(e);if(!u)return i;for(const l of u){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}class fb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,R.Z)(function*(){t.serializer=ZE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function J6(n,e,t,r){return new FZ(n,e,t,r)}(this.persistence,new Y6,e.initialUser,this.serializer)}createPersistence(e){return new zM(rb.zs,this.serializer)}createSharedClientState(e){return new aU}terminate(){var e=this;return(0,R.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Q0{initialize(e,t){var r=this;return(0,R.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>CU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Cj.bind(null,r.syncEngine),yield function CN(n,e){return bN.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uj}createDatastore(e){const t=ZE(e.databaseInfo.databaseId),r=new HZ(e.databaseInfo);return new WZ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>CU(this.syncEngine,f,0),l=uU.D()?new uU:new jZ,new YZ(t,r,i,u,l);var t,r,i,u,l}createSyncEngine(e,t){return function(r,i,u,l,f,m,v){const C=new gj(r,i,u,l,f,m);return v&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,R.Z)(function*(t){const r=Ge(t);De("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield q0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Uj{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=eL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,R.Z)(function*(f){De("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(De("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,R.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,R.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=G0(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function gb(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,R.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,R.Z)(function*(u){r.isEqual(u)||(yield X6(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),iR.apply(this,arguments)}function sR(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,R.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function aR(n){return uR.apply(this,arguments)}(n);De("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>mU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>mU(e.remoteStore,u)),n._onlineComponents=e}),oR.apply(this,arguments)}function uR(){return uR=(0,R.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function NU(n){return"FirebaseError"===n.name?n.code===ne.FAILED_PRECONDITION||n.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;ra("Error using user provided cache. Falling back to memory cache: "+t),yield gb(n,new fb)}}else De("FirestoreClient","Using default OfflineComponentProvider"),yield gb(n,new fb);return n._offlineComponents}),uR.apply(this,arguments)}function mb(n){return cR.apply(this,arguments)}function cR(){return cR=(0,R.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),yield sR(n,n._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),yield sR(n,new Q0))),n._onlineComponents}),cR.apply(this,arguments)}function Y0(n){return dR.apply(this,arguments)}function dR(){return dR=(0,R.Z)(function*(n){const e=yield mb(n),t=e.eventManager;return t.onListen=mj.bind(null,e.syncEngine),t.onUnlisten=_j.bind(null,e.syncEngine),t}),dR.apply(this,arguments)}function LU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const UU=new Map;function hR(n,e,t){if(!t)throw new Ie(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VU(n){if(!He.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BU(n){if(He.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function $t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yb(n);throw new Ie(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class jU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ie(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ie(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function zj(n,e,t,r){if(!0===e&&!0===r)throw new Ie(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=LU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $E{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ie(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new H9;switch(t.type){case"firstParty":return new K9(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ie(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=UU.get(e);t&&(De("ComponentProvider","Removing Datastore"),UU.delete(e),t.terminate())}(this),Promise.resolve()}}class ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class Ii{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ii(this.firestore,e,this._query)}}class ou extends Ii{constructor(e,t,r){super(e,t,R0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new He(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function Kj(n,e,...t){if(n=(0,_e.m9)(n),hR("collection","path",e),n instanceof $E){const r=zt.fromString(e,...t);return BU(r),new ou(n,null,r)}{if(!(n instanceof ur||n instanceof ou))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return BU(r),new ou(n.firestore,null,r)}}function qU(n,e,...t){if(n=(0,_e.m9)(n),1===arguments.length&&(e=eL.A()),hR("doc","path",e),n instanceof $E){const r=zt.fromString(e,...t);return VU(r),new ur(n,null,new He(r))}{if(!(n instanceof ur||n instanceof ou))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return VU(r),new ur(n.firestore,n instanceof ou?n.converter:null,new He(r))}}class Qj{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new aN(this,"async_queue_retry"),this.Xc=()=>{const t=lb();t&&De("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=lb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=lb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,R.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Td(t))throw t;De("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,sr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=AN.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&Je()}verifyOperationInProgress(){}sa(){var e=this;return(0,R.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Dn extends $E{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Qj,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HU(this),this._firestoreClient.terminate()}}function Jj(n,e){const t="object"==typeof n?n:(0,pi.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,pi._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,_e.P0)("firestore");u&&function Wj(n,e,t,r={}){var i;const u=(n=$t(n,$E))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=Kr.MOCK_USER;else{f=(0,_e.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ie(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Kr(v)}n._authCredentials=new G9(new J5(f,m))}}(i,...u)}return i}function vr(n){return n._firestoreClient||HU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function HU(n){var e,t,r;const i=n._freezeSettings(),u=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new b7(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,LU(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new Uj(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class yp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yp(kr.fromBase64String(e))}catch(t){throw new Ie(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yp(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class J0{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ie(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pR{constructor(e){this._methodName=e}}class gR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const eq=/^__.*__$/;class tq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms):new k0(e,this.data,t,this.fieldTransforms)}}class WU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class vb{constructor(e,t,r,i,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new vb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ib(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(KU(this.ca)&&eq.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class nq{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ZE(e)}ya(e,t,r,i=!1){return new vb({ca:e,methodName:t,ga:r,path:or.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X0(n){const e=n._freezeSettings(),t=ZE(n._databaseId);return new nq(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mR(n,e,t,r,i,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,i);yR("Data must be an object, but it was:",l,r);const f=eV(r,l);let m,v;if(u.merge)m=new ys(l.fieldMask),v=l.fieldTransforms;else if(u.mergeFields){const C=[];for(const A of u.mergeFields){const M=zE(e,A,t);if(!l.contains(M))throw new Ie(ne.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);nV(C,M)||C.push(M)}m=new ys(C),v=l.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,v=l.fieldTransforms;return new tq(new Ei(f),m,v)}class GE extends pR{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof GE}}function vp(n,e){if(tV(n=(0,_e.m9)(n)))return yR("Unsupported field value:",e,n),eV(n,e);if(n instanceof pR)return function(t,r){if(!KU(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const l of t){let f=vp(l,r.wa(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return HL(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=$n.fromDate(t);return{timestampValue:L0(r.serializer,i)}}if(t instanceof $n){const i=new $n(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:L0(r.serializer,i)}}if(t instanceof gR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof yp)return{bytesValue:h6(r.serializer,t._byteString)};if(t instanceof ur){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${yb(t)}`)}(n,e)}function eV(n,e){const t={};return pL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cd(n,(r,i)=>{const u=vp(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function tV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $n||n instanceof gR||n instanceof yp||n instanceof ur||n instanceof pR)}function yR(n,e,t){if(!tV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=yb(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function zE(n,e,t){if((e=(0,_e.m9)(e))instanceof J0)return e._internalPath;if("string"==typeof e)return Eb(n,e);throw Ib("Field path arguments must be of type string or ",n,!1,void 0,t)}const oq=new RegExp("[~\\*/\\[\\]]");function Eb(n,e,t){if(e.search(oq)>=0)throw Ib(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new J0(...e.split("."))._internalPath}catch{throw Ib(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ib(n,e,t,r,i){const u=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(u||l)&&(m+=" (found",u&&(m+=` in field ${r}`),l&&(m+=` in document ${i}`),m+=")"),new Ie(ne.INVALID_ARGUMENT,f+n+m)}function nV(n,e){return n.some(t=>t.isEqual(e))}class vR{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aq extends vR{data(){return super.data()}}function wb(n,e){return"string"==typeof e?Eb(n,e):e instanceof J0?e._internalPath:e._delegate._internalPath}class ER{}class uq extends ER{}function cq(n,e,...t){let r=[];e instanceof ER&&r.push(e),r=r.concat(t),function(i){const u=i.filter(f=>f instanceof e_).length,l=i.filter(f=>f instanceof WE).length;if(u>1||u>0&&l>0)throw new Ie(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class WE extends uq{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new WE(e,t,r)}_apply(e){const t=this._parse(e);return aV(e._query,t),new Ii(e.firestore,e.converter,bM(e._query,t))}_parse(e){const t=X0(e.firestore);return function(i,u,l,f,m,v,C){let A;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ie(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){oV(C,v);const M=[];for(const O of C)M.push(sV(f,i,O));A={arrayValue:{values:M}}}else A=sV(f,i,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||oV(C,v),A=function XU(n,e,t,r=!1){return vp(t,n.ya(r?4:3,e))}(l,"where",C,"in"===v||"not-in"===v);return jt.create(m,v,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function lq(n,e,t){const r=e,i=wb("where",n);return WE._create(i,r,t)}class e_ extends ER{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new e_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const l=i.getFlattenedFilters();for(const f of l)aV(u,f),u=bM(u,f)}(e._query,t),new Ii(e.firestore,e.converter,bM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function sV(n,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new Ie(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CM(e)&&-1!==t.indexOf("/"))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(zt.fromString(t));if(!He.isDocumentKey(r))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return op(n,new He(r))}if(t instanceof ur)return op(n,t._key);throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yb(t)}.`)}function oV(n,e){if(!Array.isArray(n)||0===n.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aV(n,e){if(e.isInequality()){const r=jC(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=TM(n);null!==u&&function uV(n,e,t){if(!t.isEqual(e))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,u)}const t=function(r,i){for(const u of r)for(const l of u.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ie(ne.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class dq{convertValue(e,t="none"){switch(Dd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Cd(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new gR(Jn(e.latitude),Jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=FC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mE(e));default:return null}}convertTimestamp(e){const t=bd(e);return new $n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=zt.fromString(e);rt(w6(r));const i=new sp(r.get(1),r.get(3)),u=new He(r.popFirst(5));return i.isEqual(t)||sr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function wR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ep{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t_ extends vR{constructor(e,t,r,i,u,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ab(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ab extends t_{data(e={}){return super.data(e)}}class n_{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ep(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ab(this._firestore,this._userDataWriter,r.key,r,new Ep(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Ab(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ep(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new Ab(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ep(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==l.type&&(m=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),v=u.indexOf(l.doc.key)),{type:fq(l.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function pq(n){n=$t(n,ur);const e=$t(n.firestore,Dn);return function kU(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function(i,u,l,f,m){const v=new pb({next:A=>{u.enqueueAndForget(()=>xN(i,C));const M=A.docs.has(l);!M&&A.fromCache?m.reject(new Ie(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&f&&"server"===f.source?m.reject(new Ie(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),C=new RN(R0(l.path),v,{includeMetadataChanges:!0,Ku:!0});return DN(i,C)}(yield Y0(n),n.asyncQueue,e,t,r)})),r.promise}(vr(e),n._key).then(t=>function TR(n,e,t){const r=t.docs.get(e._key),i=new Fd(n);return new t_(n,i,e._key,r,new Ep(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Fd extends dq{constructor(e){super(),this.firestore=e}convertBytes(e){return new yp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}function gq(n){n=$t(n,Ii);const e=$t(n.firestore,Dn),t=vr(e),r=new Fd(e);return function rV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function FU(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function(i,u,l,f,m){const v=new pb({next:A=>{u.enqueueAndForget(()=>xN(i,C)),A.fromCache&&"server"===f.source?m.reject(new Ie(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),C=new RN(l,v,{includeMetadataChanges:!0,Ku:!0});return DN(i,C)}(yield Y0(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new n_(e,r,n,i))}function mq(n,e,t){n=$t(n,ur);const r=$t(n.firestore,Dn),i=wR(n.converter,e,t);return KE(r,[mR(X0(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Nn.none())])}function _q(n,e,t,...r){n=$t(n,ur);const i=$t(n.firestore,Dn),u=X0(i);let l;return l="string"==typeof(e=(0,_e.m9)(e))||e instanceof J0?function JU(n,e,t,r,i,u){const l=n.ya(1,e,t),f=[zE(e,r,t)],m=[i];if(u.length%2!=0)throw new Ie(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<u.length;M+=2)f.push(zE(e,u[M])),m.push(u[M+1]);const v=[],C=Ei.empty();for(let M=f.length-1;M>=0;--M)if(!nV(v,f[M])){const O=f[M];let j=m[M];j=(0,_e.m9)(j);const G=l.da(O);if(j instanceof GE)v.push(O);else{const X=vp(j,G);null!=X&&(v.push(O),C.set(O,X))}}const A=new ys(v);return new WU(C,A,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function YU(n,e,t,r){const i=n.ya(1,e,t);yR("Data must be an object, but it was:",i,r);const u=[],l=Ei.empty();Cd(r,(m,v)=>{const C=Eb(e,m,t);v=(0,_e.m9)(v);const A=i.da(C);if(v instanceof GE)u.push(C);else{const M=vp(v,A);null!=M&&(u.push(C),l.set(C,M))}});const f=new ys(u);return new WU(l,f,i.fieldTransforms)}(u,"updateDoc",n._key,e),KE(i,[l.toMutation(n._key,Nn.exists(!0))])}function yq(n,e){const t=$t(n.firestore,Dn),r=qU(n),i=wR(n.converter,e);return KE(t,[mR(X0(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function KE(n,e){return function(t,r){const i=new Or;return t.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function yj(n,e,t){return LN.apply(this,arguments)}(yield function lR(n){return mb(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(vr(n),e)}!function(n,e=!0){A0=pi.SDK_VERSION,(0,pi._registerComponent)(new rr.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),l=new Dn(new z9(t.getProvider("auth-internal")),new Q9(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sp(f.options.projectId,m)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,pi.registerVersion)(Y5,"3.13.0",n),(0,pi.registerVersion)(Y5,"3.13.0","esm2017")}();class wi{constructor(e){return e}}const dV="firestore",CR=new o.OlP("angularfire2.firestore-instances");function Rq(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wi(r)}}const Pq={provide:class Mq{constructor(){return c4(dV)}},deps:[[new o.FiY,CR]]},Oq={provide:wi,useFactory:function Nq(n,e){const t=function _d(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(l=>l.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(dV,n,e);return t&&new wi(t)},deps:[[new o.FiY,CR],Ya]};let kq=(()=>{class n{constructor(){(0,pi.registerVersion)("angularfire",Tc.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Oq,Pq]}),n})();function Fq(n,...e){return{ngModule:kq,providers:[{provide:CR,useFactory:Rq(n),multi:!0,deps:[o.R0b,o.zs3,Bf,Jm,[new o.FiY,_T],[new o.FiY,F4],...e]}]}}const Sb=_s(yq,!0),sa=_s(Kj,!0),au=_s(qU,!0),Ld=_s(pq,!0),Ip=_s(gq,!0),Lq=_s(Jj,!0),hV=_s(cq,!0),Uq=_s(mq,!0),Vq=_s(_q,!0),fV=_s(lq,!0);gi("firebase","10.5.2","app");const xb_firebaseConfig={apiKey:"AIzaSyBqXpKb2qj9VKAYX_DOaOyGV6e-lsUhxG8",authDomain:"chefs-talks.firebaseapp.com",projectId:"chefs-talks",storageBucket:"chefs-talks.appspot.com",messagingSenderId:"821574305127",appId:"1:821574305127:web:1ec43d2f164a6f2c151bc2",measurementId:"G-96713DEB05"},xb_cloudinaryConfig_cloudName="dsla98vyk",xb_cloudinaryConfig_uploadPreset="chefs_talks";qy(xb_firebaseConfig);let Mb=(()=>{class n{constructor(){this.cloudName=xb_cloudinaryConfig_cloudName,this.uploadPreset=xb_cloudinaryConfig_uploadPreset,this.imageUploaded=new o.vpe}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(t,r)=>{!t&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(t){this.imageUploaded.emit(t)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:3,vars:0,consts:[["id","upload_widget",1,"cloudinary-button","button",3,"click"]],template:function(r,i){1&r&&(o.TgZ(0,"div")(1,"button",0),o.NdJ("click",function(){return i.openWidget()}),o._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()())},styles:[".cloudinary-button[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);text-decoration:none;font-size:16px;line-height:28px;cursor:pointer;font-weight:400;display:block;border-radius:4px;padding:10px 14px}.cloudinary-button[_ngcontent-%COMP%]:hover{background-color:var(--secondColor)}"]})}return n})();function jq(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"p",7),o._uU(2,"\u0412\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(3,"input",18),o.TgZ(4,"button",19),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.removeImage())}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}}function qq(n,e){1&n&&(o.TgZ(0,"div",21),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function $q(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,qq,2,0,"div",20),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.categoryForm.get("name"))||null==r.errors?null:r.errors.required)}}function Hq(n,e){1&n&&(o.TgZ(0,"div",21),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u044e! "),o.qZA())}function Gq(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Hq,2,0,"div",20),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.categoryForm.get("menu"))||null==r.errors?null:r.errors.required)}}let zq=(()=>{class n{constructor(t,r){this.fb=t,this.firestore=r,this.categoryForm=this.fb.group({name:["",[ct.required]],is_active:[!1],menu:["",[ct.required]],order_index:[0],note:[""],image:[""]})}onSubmit(){this.categoryForm.valid?(this.addCategory(this.categoryForm.value),this.categoryForm.reset()):console.log(this.categoryForm.errors)}removeImage(){this.categoryForm.get("image")?.setValue("")}addImageToForm(t){this.categoryForm.get("image")?.setValue(t)}get image(){return this.categoryForm.get("image")}addCategory(t){Sb(sa(this.firestore,"Category"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Ba),o.Y36(wi))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-category-form"]],decls:42,vars:4,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup","ngSubmit"],[3,"imageUploaded"],[4,"ngIf"],["type","checkbox","formControlName","is_active"],[1,"hint"],["type","text","formControlName","name","required",""],["for","menu"],["id","menu","formControlName","menu"],["value","\u041e\u0441\u043d\u043e\u0432\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0437\u043e\u043d\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0422\u0435\u0441\u0442\u043e\u0432\u043e \u041c\u0435\u043d\u044e"],["formControlName","note"],["type","number","formControlName","order_index"],["type","submit"],["type","text","id","image","formControlName","image"],["type","button",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),o.qZA(),o.TgZ(4,"form",3),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(5,"app-image-upload",4),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.YNc(6,jq,6,0,"div",5),o.TgZ(7,"label"),o._uU(8," \u0410\u043a\u0442\u0438\u0432\u043d\u0430 \u043b\u0438 \u0435 \u043a\u0430\u0442\u0435\u0433\u0440\u0438\u044f? "),o._UZ(9,"input",6),o.TgZ(10,"span",7),o._uU(11,"\u0429\u0435 \u0431\u044a\u0434\u0435 \u043b\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430 \u0432\u0438\u0434\u0438\u043c\u0430 \u0432\u044a\u0432 \u0441\u0430\u0439\u0442\u0430?"),o.qZA()(),o.TgZ(12,"label"),o._uU(13," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o._UZ(14,"input",8),o.qZA(),o.YNc(15,$q,2,1,"div",5),o.TgZ(16,"label",9),o._uU(17,"\u041c\u0435\u043d\u044e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(18,"p",7),o._uU(19,"\u041a\u044a\u043c \u043a\u043e\u0435 \u043c\u0435\u043d\u044e \u0441\u043f\u0430\u0434\u0430 \u0442\u0430\u0437\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f?"),o.qZA(),o.TgZ(20,"select",10)(21,"option",11),o._uU(22,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e"),o.qZA(),o.TgZ(23,"option",12),o._uU(24,"\u0421\u0435\u0437\u043e\u043d\u043d\u043e"),o.qZA(),o.TgZ(25,"option",13),o._uU(26,"\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u043e"),o.qZA(),o.TgZ(27,"option",14),o._uU(28,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e"),o.qZA()(),o.YNc(29,Gq,2,1,"div",5),o.TgZ(30,"label"),o._uU(31," \u0411\u0435\u043b\u0435\u0436\u043a\u0430: "),o.TgZ(32,"span",7),o._uU(33,"\u041d\u044f\u043a\u043e\u043b\u043a\u043e \u0434\u0443\u043c\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),o.qZA(),o._UZ(34,"textarea",15),o.qZA(),o.TgZ(35,"label"),o._uU(36," \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),o.TgZ(37,"span",7),o._uU(38,"\u0420\u0435\u0434 \u043d\u0430 \u043f\u043e\u0434\u0440\u0435\u0434\u0431\u0430 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\u0442\u0435"),o.qZA(),o._UZ(39,"input",16),o.qZA(),o.TgZ(40,"button",17),o._uU(41,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),o.qZA()()()()),2&r){let u,l,f;o.xp6(4),o.Q6J("formGroup",i.categoryForm),o.xp6(2),o.Q6J("ngIf",""!==(null==(u=i.categoryForm.get("image"))?null:u.value)),o.xp6(9),o.Q6J("ngIf",null==(l=i.categoryForm.get("name"))?null:l.touched),o.xp6(14),o.Q6J("ngIf",null==(f=i.categoryForm.get("menu"))?null:f.touched)}},dependencies:[dr,lo,Us,fo,fi,Go,Zg,zo,ka,co,sf,Ls,ho,Mb]})}return n})();var pV=P(7582);const Wq=function gV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mV=new _e.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nb=new ki.Yd("@firebase/auth");function Rb(n,...e){Nb.logLevel<=ki.in.ERROR&&Nb.error(`Auth (${Jl}): ${n}`,...e)}function Es(n,...e){throw bR(n,...e)}function uu(n,...e){return bR(n,...e)}function bR(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mV.create(n,...e)}function Be(n,e,...t){if(!n)throw bR(e,...t)}function cu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Rb(e),new Error(e)}function Ud(n,e){n||cu(e)}function QE(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function yV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class YE{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ud(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,_e.uI)()||(0,_e.b$)()}get(){return function Qq(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function AR(){return"http:"===yV()||"https:"===yV()}()||(0,_e.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function DR(n,e){Ud(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class vV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void cu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void cu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void cu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xq=new YE(3e4,6e4);function Rn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Hn(n,e,t,r){return SR.apply(this,arguments)}function SR(){return SR=(0,R.Z)(function*(n,e,t,r,i={}){return EV(n,i,(0,R.Z)(function*(){let u={},l={};r&&("GET"===e?l=r:u={body:JSON.stringify(r)});const f=(0,_e.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),vV.fetch()(IV(n,n.config.apiHost,t,f),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))}))}),SR.apply(this,arguments)}function EV(n,e,t){return xR.apply(this,arguments)}function xR(){return xR=(0,R.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jq),e);try{const i=new t$(n),u=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield u.json();if("needConfirmation"in l)throw JE(n,"account-exists-with-different-credential",l);if(u.ok&&!("errorMessage"in l))return l;{const f=u.ok?l.errorMessage:l.error.message,[m,v]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===m)throw JE(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===m)throw JE(n,"email-already-in-use",l);if("USER_DISABLED"===m)throw JE(n,"user-disabled",l);const C=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw function _V(n,e,t){const r=Object.assign(Object.assign({},Wq()),{[e]:t});return new _e.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,C,v);Es(n,C)}}catch(i){if(i instanceof _e.ZR)throw i;Es(n,"network-request-failed",{message:String(i)})}}),xR.apply(this,arguments)}function Fc(n,e,t,r){return MR.apply(this,arguments)}function MR(){return MR=(0,R.Z)(function*(n,e,t,r,i={}){const u=yield Hn(n,e,t,r,i);return"mfaPendingCredential"in u&&Es(n,"multi-factor-auth-required",{_serverResponse:u}),u}),MR.apply(this,arguments)}function IV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?DR(n.config,i):`${n.config.apiScheme}://${i}`}function e$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class t${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(uu(this.auth,"network-request-failed")),Xq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function JE(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=uu(n,e,r);return i.customData._tokenResponse=t,i}function TV(n){return void 0!==n&&void 0!==n.enterprise}class CV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return e$(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function RR(){return RR=(0,R.Z)(function*(n,e){return Hn(n,"GET","/v2/recaptchaConfig",Rn(n,e))}),RR.apply(this,arguments)}function PR(){return PR=(0,R.Z)(function*(n,e){return Hn(n,"POST","/v1/accounts:delete",e)}),PR.apply(this,arguments)}function kR(){return kR=(0,R.Z)(function*(n,e){return Hn(n,"POST","/v1/accounts:lookup",e)}),kR.apply(this,arguments)}function XE(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function FR(){return FR=(0,R.Z)(function*(n,e=!1){const t=(0,_e.m9)(n),r=yield t.getIdToken(e),i=Pb(r);Be(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const u="object"==typeof i.firebase?i.firebase:void 0,l=u?.sign_in_provider;return{claims:i,token:r,authTime:XE(LR(i.auth_time)),issuedAtTime:XE(LR(i.iat)),expirationTime:XE(LR(i.exp)),signInProvider:l||null,signInSecondFactor:u?.sign_in_second_factor||null}}),FR.apply(this,arguments)}function LR(n){return 1e3*Number(n)}function Pb(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Rb("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,_e.tV)(t);return i?JSON.parse(i):(Rb("Failed to decode base64 JWT payload"),null)}catch(i){return Rb("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Lc(n,e){return UR.apply(this,arguments)}function UR(){return UR=(0,R.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof _e.ZR&&function u$({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),UR.apply(this,arguments)}class c${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,R.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,R.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class AV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=XE(this.lastLoginAt),this.creationTime=XE(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function e1(n){return VR.apply(this,arguments)}function VR(){return VR=(0,R.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Lc(n,function s$(n,e){return kR.apply(this,arguments)}(t,{idToken:r}));Be(i?.users.length,t,"internal-error");const u=i.users[0];n._notifyReloadListener(u);const l=null!==(e=u.providerUserInfo)&&void 0!==e&&e.length?function h$(n){return n.map(e=>{var{providerId:t}=e,r=(0,pV._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(u.providerUserInfo):[],f=function d$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),C=!!n.isAnonymous&&!(n.email&&u.passwordHash||f?.length),A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new AV(u.createdAt,u.lastLoginAt),isAnonymous:C};Object.assign(n,A)}),VR.apply(this,arguments)}function BR(){return BR=(0,R.Z)(function*(n){const e=(0,_e.m9)(n);yield e1(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),BR.apply(this,arguments)}function ZR(){return ZR=(0,R.Z)(function*(n,e){const t=yield EV(n,{},(0,R.Z)(function*(){const r=(0,_e.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:u}=n.config,l=IV(n,i,"/v1/token",`key=${u}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",vV.fetch()(l,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),ZR.apply(this,arguments)}class t1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function a$(n){const e=Pb(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,R.Z)(function*(){return Be(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,R.Z)(function*(){const{accessToken:i,refreshToken:u,expiresIn:l}=yield function f$(n,e){return ZR.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,u,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:u}=t,l=new t1;return r&&(Be("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(Be("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),u&&(Be("number"==typeof u,"internal-error",{appName:e}),l.expirationTime=u),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t1,this.toJSON())}_performRefresh(){return cu("not implemented")}}function Vd(n,e){Be("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class wp{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,u=(0,pV._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new c$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new AV(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,R.Z)(function*(){const r=yield Lc(t,t.stsTokenManager.getToken(t.auth,e));return Be(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function o$(n){return FR.apply(this,arguments)}(this,e)}reload(){return function l$(n){return BR.apply(this,arguments)}(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,R.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield e1(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,R.Z)(function*(){const t=yield e.getIdToken();return yield Lc(e,function r$(n,e){return PR.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,u,l,f,m,v,C;const A=null!==(r=t.displayName)&&void 0!==r?r:void 0,M=null!==(i=t.email)&&void 0!==i?i:void 0,O=null!==(u=t.phoneNumber)&&void 0!==u?u:void 0,j=null!==(l=t.photoURL)&&void 0!==l?l:void 0,G=null!==(f=t.tenantId)&&void 0!==f?f:void 0,X=null!==(m=t._redirectEventId)&&void 0!==m?m:void 0,Te=null!==(v=t.createdAt)&&void 0!==v?v:void 0,Fe=null!==(C=t.lastLoginAt)&&void 0!==C?C:void 0,{uid:ke,emailVerified:Ke,isAnonymous:_t,providerData:pt,stsTokenManager:Kt}=t;Be(ke&&Kt,e,"internal-error");const wr=t1.fromJSON(this.name,Kt);Be("string"==typeof ke,e,"internal-error"),Vd(A,e.name),Vd(M,e.name),Be("boolean"==typeof Ke,e,"internal-error"),Be("boolean"==typeof _t,e,"internal-error"),Vd(O,e.name),Vd(j,e.name),Vd(G,e.name),Vd(X,e.name),Vd(Te,e.name),Vd(Fe,e.name);const Zi=new wp({uid:ke,auth:e,email:M,emailVerified:Ke,displayName:A,isAnonymous:_t,photoURL:j,phoneNumber:O,tenantId:G,stsTokenManager:wr,createdAt:Te,lastLoginAt:Fe});return pt&&Array.isArray(pt)&&(Zi.providerData=pt.map(aa=>Object.assign({},aa))),X&&(Zi._redirectEventId=X),Zi}static _fromIdTokenResponse(e,t,r=!1){return(0,R.Z)(function*(){const i=new t1;i.updateFromServerResponse(t);const u=new wp({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield e1(u),u})()}}const DV=new Map;function Uc(n){Ud(n instanceof Function,"Expected a class definition");let e=DV.get(n);return e?(Ud(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DV.set(n,e),e)}const SV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,R.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,R.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,R.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ob(n,e,t){return`firebase:${n}:${e}:${t}`}class i_{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:u}=this.auth;this.fullUserKey=Ob(this.userKey,i.apiKey,u),this.fullPersistenceKey=Ob("persistence",i.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,R.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?wp._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,R.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,R.Z)(function*(){if(!t.length)return new i_(Uc(SV),e,r);const i=(yield Promise.all(t.map(function(){var v=(0,R.Z)(function*(C){if(yield C._isAvailable())return C});return function(C){return v.apply(this,arguments)}}()))).filter(v=>v);let u=i[0]||Uc(SV);const l=Ob(r,e.config.apiKey,e.name);let f=null;for(const v of t)try{const C=yield v._get(l);if(C){const A=wp._fromJSON(e,C);v!==u&&(f=A),u=v;break}}catch{}const m=i.filter(v=>v._shouldAllowMigration);return u._shouldAllowMigration&&m.length?(u=m[0],f&&(yield u._set(l,f.toJSON())),yield Promise.all(t.map(function(){var v=(0,R.Z)(function*(C){if(C!==u)try{yield C._remove(l)}catch{}});return function(C){return v.apply(this,arguments)}}())),new i_(u,e,r)):new i_(u,e,r)})()}}function xV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OV(e))return"Blackberry";if(kV(e))return"Webos";if(jR(e))return"Safari";if((e.includes("chrome/")||NV(e))&&!e.includes("edge/"))return"Chrome";if(PV(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function MV(n=(0,_e.z$)()){return/firefox\//i.test(n)}function jR(n=(0,_e.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NV(n=(0,_e.z$)()){return/crios\//i.test(n)}function RV(n=(0,_e.z$)()){return/iemobile/i.test(n)}function PV(n=(0,_e.z$)()){return/android/i.test(n)}function OV(n=(0,_e.z$)()){return/blackberry/i.test(n)}function kV(n=(0,_e.z$)()){return/webos/i.test(n)}function kb(n=(0,_e.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function FV(n=(0,_e.z$)()){return kb(n)||PV(n)||kV(n)||OV(n)||/windows phone/i.test(n)||RV(n)}function LV(n,e=[]){let t;switch(n){case"Browser":t=xV((0,_e.z$)());break;case"Worker":t=`${xV((0,_e.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jl}/${r}`}class _${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((l,f)=>{try{l(e(u))}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,R.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const u of r)try{u()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function qR(){return qR=(0,R.Z)(function*(n,e={}){return Hn(n,"GET","/v2/passwordPolicy",Rn(n,e))}),qR.apply(this,arguments)}class E${constructor(e){var t,r,i,u;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=l.minPasswordLength)&&void 0!==t?t:6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),void 0!==l.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),void 0!==l.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),void 0!==l.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),void 0!==l.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(u=e.forceUpgradeOnSignin)&&void 0!==u&&u,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,u,l,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=null===(t=m.meetsMinPasswordLength)||void 0===t||t),m.isValid&&(m.isValid=null===(r=m.meetsMaxPasswordLength)||void 0===r||r),m.isValid&&(m.isValid=null===(i=m.containsLowercaseLetter)||void 0===i||i),m.isValid&&(m.isValid=null===(u=m.containsUppercaseLetter)||void 0===u||u),m.isValid&&(m.isValid=null===(l=m.containsNumericCharacter)||void 0===l||l),m.isValid&&(m.isValid=null===(f=m.containsNonAlphanumericCharacter)||void 0===f||f),m}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class I${constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UV(this),this.idTokenSubscription=new UV(this),this.beforeStateQueue=new _$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Uc(t)),this._initializationPromise=this.queue((0,R.Z)(function*(){var i,u;if(!r._deleted&&(r.persistenceManager=yield i_.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,R.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,R.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let u=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const f=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,m=u?._redirectEventId,v=yield t.tryRedirectSignIn(e);(!f||f===m)&&v?.user&&(u=v.user,l=!0)}if(!u)return t.directlySetCurrentUser(null);if(!u._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(u)}catch(f){u=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(f))}return u?t.reloadAndSetCurrentUserOrClear(u):t.directlySetCurrentUser(null)}return Be(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===u._redirectEventId?t.directlySetCurrentUser(u):t.reloadAndSetCurrentUserOrClear(u)})()}tryRedirectSignIn(e){var t=this;return(0,R.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,R.Z)(function*(){try{yield e1(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Yq(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,R.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,R.Z)(function*(){const r=e?(0,_e.m9)(e):null;return r&&Be(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,R.Z)(function*(){if(!r._deleted)return e&&Be(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,R.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,R.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,R.Z)(function*(){yield t.assertedPersistence.setPersistence(Uc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,R.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,R.Z)(function*(){const t=yield function y$(n){return qR.apply(this,arguments)}(e),r=new E$(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _e.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,R.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,R.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Uc(e)||t._popupRedirectResolver;Be(r,t,"argument-error"),t.redirectPersistenceManager=yield i_.create(t,[Uc(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,R.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,R.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,R.Z)(function*(){if(e===t.currentUser)return t.queue((0,R.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const u="function"==typeof t?t:t.next.bind(t);let l=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(f,this,"internal-error"),f.then(()=>{l||u(this.currentUser)}),"function"==typeof t){const m=e.addObserver(t,r,i);return()=>{l=!0,m()}}{const m=e.addObserver(t);return()=>{l=!0,m()}}}directlySetCurrentUser(e){var t=this;return(0,R.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,R.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const u=yield e._getAppCheckToken();return u&&(r["X-Firebase-AppCheck"]=u),r})()}_getAppCheckToken(){var e=this;return(0,R.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Kq(n,...e){Nb.logLevel<=ki.in.WARN&&Nb.warn(`Auth (${Jl}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Er(n){return(0,_e.m9)(n)}class UV{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,_e.ne)(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $R(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const u=uu("internal-error");u.customData=i,t(u)},r.type="text/javascript",r.charset="UTF-8",function w$(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function VV(n){return`__${n}${Math.floor(1e6*Math.random())}`}class BV{constructor(e){this.type="recaptcha-enterprise",this.auth=Er(e)}verify(e="verify",t=!1){var r=this;return(0,R.Z)(function*(){function u(){return u=(0,R.Z)(function*(f){if(!t){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var m=(0,R.Z)(function*(v,C){(function bV(n,e){return RR.apply(this,arguments)})(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(void 0!==A.recaptchaKey){const M=new CV(A);return null==f.tenantId?f._agentRecaptchaConfig=M:f._tenantRecaptchaConfigs[f.tenantId]=M,v(M.siteKey)}C(new Error("recaptcha Enterprise site key undefined"))}).catch(A=>{C(A)})});return function(v,C){return m.apply(this,arguments)}}())}),u.apply(this,arguments)}function l(f,m,v){const C=window.grecaptcha;TV(C)?C.enterprise.ready(()=>{C.enterprise.execute(f,{action:e}).then(A=>{m(A)}).catch(()=>{m("NO_RECAPTCHA")})}):v(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,m)=>{(function i(f){return u.apply(this,arguments)})(r.auth).then(v=>{if(!t&&TV(window.grecaptcha))l(v,f,m);else{if(typeof window>"u")return void m(new Error("RecaptchaVerifier is only supported in browser"));$R("https://www.google.com/recaptcha/enterprise.js?render="+v).then(()=>{l(v,f,m)}).catch(C=>{m(C)})}}).catch(v=>{m(v)})})})()}}function ZV(n,e,t){return HR.apply(this,arguments)}function HR(){return HR=(0,R.Z)(function*(n,e,t,r=!1){const i=new BV(n);let u;try{u=yield i.verify(t)}catch{u=yield i.verify(t,!0)}const l=Object.assign({},e);return Object.assign(l,r?{captchaResp:u}:{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}),HR.apply(this,arguments)}function Fb(n,e,t,r){return GR.apply(this,arguments)}function GR(){return GR=(0,R.Z)(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=yield ZV(n,e,t,"getOobCode"===t);return r(n,u)}return r(n,e).catch(function(){var u=(0,R.Z)(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=yield ZV(n,e,t,"getOobCode"===t);return r(n,f)}return Promise.reject(l)});return function(l){return u.apply(this,arguments)}}())}),GR.apply(this,arguments)}function jV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function qV(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class $V{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cu("not implemented")}_getIdTokenResponse(e){return cu("not implemented")}_linkToIdToken(e,t){return cu("not implemented")}_getReauthenticationResolver(e){return cu("not implemented")}}function KR(){return KR=(0,R.Z)(function*(n,e){return Hn(n,"POST","/v1/accounts:update",e)}),KR.apply(this,arguments)}function P$(n,e){return YR.apply(this,arguments)}function YR(){return YR=(0,R.Z)(function*(n,e){return Fc(n,"POST","/v1/accounts:signInWithPassword",Rn(n,e))}),YR.apply(this,arguments)}function JR(){return JR=(0,R.Z)(function*(n,e){return Hn(n,"POST","/v1/accounts:sendOobCode",Rn(n,e))}),JR.apply(this,arguments)}function k$(n,e){return eP.apply(this,arguments)}function eP(){return eP=(0,R.Z)(function*(n,e){return function Lb(n,e){return JR.apply(this,arguments)}(n,e)}),eP.apply(this,arguments)}function rP(){return rP=(0,R.Z)(function*(n,e){return Fc(n,"POST","/v1/accounts:signInWithEmailLink",Rn(n,e))}),rP.apply(this,arguments)}function iP(){return iP=(0,R.Z)(function*(n,e){return Fc(n,"POST","/v1/accounts:signInWithEmailLink",Rn(n,e))}),iP.apply(this,arguments)}class n1 extends $V{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n1(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n1(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,R.Z)(function*(){switch(t.signInMethod){case"password":return Fb(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",P$);case"emailLink":return function U$(n,e){return rP.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Es(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,R.Z)(function*(){switch(r.signInMethod){case"password":return function GV(n,e){return KR.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function V$(n,e){return iP.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Es(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Vc(n,e){return sP.apply(this,arguments)}function sP(){return sP=(0,R.Z)(function*(n,e){return Fc(n,"POST","/v1/accounts:signInWithIdp",Rn(n,e))}),sP.apply(this,arguments)}class s1{constructor(e){var t,r,i,u,l,f;const m=(0,_e.zd)((0,_e.pd)(e)),v=null!==(t=m.apiKey)&&void 0!==t?t:null,C=null!==(r=m.oobCode)&&void 0!==r?r:null,A=function G$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=m.mode)&&void 0!==i?i:null);Be(v&&C&&A,"argument-error"),this.apiKey=v,this.operation=A,this.code=C,this.continueUrl=null!==(u=m.continueUrl)&&void 0!==u?u:null,this.languageCode=null!==(l=m.languageCode)&&void 0!==l?l:null,this.tenantId=null!==(f=m.tenantId)&&void 0!==f?f:null}static parseLink(e){const t=function z$(n){const e=(0,_e.zd)((0,_e.pd)(n)).link,t=e?(0,_e.zd)((0,_e.pd)(e)).deep_link_id:null,r=(0,_e.zd)((0,_e.pd)(n)).deep_link_id;return(r?(0,_e.zd)((0,_e.pd)(r)).link:null)||r||t||e||n}(e);try{return new s1(t)}catch{return null}}}let zV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return n1._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=s1.parseLink(r);return Be(i,"argument-error"),n1._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Bd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class W$ extends Bd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function WV(n,e){return dP.apply(this,arguments)}function dP(){return dP=(0,R.Z)(function*(n,e){return Fc(n,"POST","/v1/accounts:signUp",Rn(n,e))}),dP.apply(this,arguments)}class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,R.Z)(function*(){const u=yield wp._fromIdTokenResponse(e,r,i),l=KV(r);return new To({user:u,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,R.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=KV(r);return new To({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function KV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Vb extends _e.ZR{constructor(e,t,r,i){var u;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vb.prototype),this.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Vb(e,t,r,i)}}function QV(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw"auth/multi-factor-auth-required"===u.code?Vb._fromErrorAndOperation(n,u,e,r):u})}function gP(){return gP=(0,R.Z)(function*(n,e,t=!1){const r=yield Lc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return To._forOperation(n,"link",r)}),gP.apply(this,arguments)}function _P(){return _P=(0,R.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const u=yield Lc(n,QV(r,i,e,n),t);Be(u.idToken,r,"internal-error");const l=Pb(u.idToken);Be(l,r,"internal-error");const{sub:f}=l;return Be(n.uid===f,r,"user-mismatch"),To._forOperation(n,i,u)}catch(u){throw"auth/user-not-found"===u?.code&&Es(r,"user-mismatch"),u}}),_P.apply(this,arguments)}function XV(n,e){return yP.apply(this,arguments)}function yP(){return yP=(0,R.Z)(function*(n,e,t=!1){const r="signIn",i=yield QV(n,r,e),u=yield To._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(u.user)),u}),yP.apply(this,arguments)}function EP(){return EP=(0,R.Z)(function*(n,e){return XV(Er(n),e)}),EP.apply(this,arguments)}function SP(n){return xP.apply(this,arguments)}function xP(){return xP=(0,R.Z)(function*(n){const e=Er(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())}),xP.apply(this,arguments)}function MP(){return MP=(0,R.Z)(function*(n,e,t){const r=Er(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&function Zb(n,e,t){var r;Be((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),Be(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Be(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Be(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}(r,i,t),yield Fb(r,i,"getOobCode",k$)}),MP.apply(this,arguments)}function kP(){return kP=(0,R.Z)(function*(n,e,t){const r=Er(n),l=yield Fb(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WV).catch(m=>{throw"auth/password-does-not-meet-requirements"===m.code&&SP(n),m}),f=yield To._fromIdTokenResponse(r,"signIn",l);return yield r._updateCurrentUser(f.user),f}),kP.apply(this,arguments)}const jb="__sak";class tB{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jb,"1"),this.storage.removeItem(jb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const IH=(()=>{class n extends tB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yH(){const n=(0,_e.z$)();return jR(n)||kb(n)}()&&function m$(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=FV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),u=this.localCache[r];i!==u&&t(r,u,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((f,m,v)=>{this.notifyListeners(f,v)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(t.newValue!==f)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const u=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},l=this.storage.getItem(i);!function g$(){return(0,_e.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?u():setTimeout(u,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,u=this;return(0,R.Z)(function*(){yield i().call(u,t,r),u.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,R.Z)(function*(){const u=yield r().call(i,t);return i.localCache[t]=JSON.stringify(u),u})()}_remove(t){var r=()=>super._remove,i=this;return(0,R.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),nB=(()=>{class n extends tB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let TH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,R.Z)(function*(){const i=t,{eventId:u,eventType:l,data:f}=i.data,m=r.handlersMap[l];if(!m?.size)return;i.ports[0].postMessage({status:"ack",eventId:u,eventType:l});const v=Array.from(m).map(function(){var A=(0,R.Z)(function*(M){return M(i.origin,f)});return function(M){return A.apply(this,arguments)}}()),C=yield function wH(n){return Promise.all(n.map(function(){var e=(0,R.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(v);i.ports[0].postMessage({status:"done",eventId:u,eventType:l,response:C})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function YP(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class CH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,R.Z)(function*(){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let l,f;return new Promise((m,v)=>{const C=YP("",20);u.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:u,onMessage(M){const O=M;if(O.data.eventId===C)switch(O.data.status){case"ack":clearTimeout(A),l=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(O.data.response);break;default:clearTimeout(A),clearTimeout(l),v(new Error("invalid_response"))}}},i.handlers.add(f),u.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:e,eventId:C,data:t},[u.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function Ir(){return window}function JP(){return typeof Ir().WorkerGlobalScope<"u"&&"function"==typeof Ir().importScripts}function XP(){return(XP=(0,R.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rB="firebaseLocalStorageDb",qb="firebaseLocalStorage",iB="fbase_key";class a1{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $b(n,e){return n.transaction([qb],e?"readwrite":"readonly").objectStore(qb)}function eO(){const n=indexedDB.open(rB,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qb,{keyPath:iB})}catch(i){t(i)}}),n.addEventListener("success",(0,R.Z)(function*(){const r=n.result;r.objectStoreNames.contains(qb)?e(r):(r.close(),yield function MH(){const n=indexedDB.deleteDatabase(rB);return new a1(n).toPromise()}(),e(yield eO()))}))})}function sB(n,e,t){return tO.apply(this,arguments)}function tO(){return tO=(0,R.Z)(function*(n,e,t){const r=$b(n,!0).put({[iB]:e,value:t});return new a1(r).toPromise()}),tO.apply(this,arguments)}function nO(){return nO=(0,R.Z)(function*(n,e){const t=$b(n,!1).get(e),r=yield new a1(t).toPromise();return void 0===r?null:r.value}),nO.apply(this,arguments)}function oB(n,e){const t=$b(n,!0).delete(e);return new a1(t).toPromise()}const OH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,R.Z)(function*(){return t.db||(t.db=yield eO()),t.db})()}_withRetries(t){var r=this;return(0,R.Z)(function*(){let i=0;for(;;)try{const u=yield r._openDb();return yield t(u)}catch(u){if(i++>3)throw u;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,R.Z)(function*(){return JP()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,R.Z)(function*(){t.receiver=TH._getInstance(function SH(){return JP()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,R.Z)(function*(i,u){return{keyProcessed:(yield t._poll()).includes(u.key)}});return function(i,u){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,R.Z)(function*(i,u){return["keyChanged"]});return function(i,u){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,R.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function AH(){return XP.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new CH(t.activeServiceWorker);const u=yield t.sender._send("ping",{},800);u&&null!==(r=u[0])&&void 0!==r&&r.fulfilled&&null!==(i=u[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,R.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function DH(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.Z)(function*(){try{if(!indexedDB)return!1;const t=yield eO();return yield sB(t,jb,"1"),yield oB(t,jb),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,R.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,R.Z)(function*(){return i._withPendingWrite((0,R.Z)(function*(){return yield i._withRetries(u=>sB(u,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,R.Z)(function*(){const i=yield r._withRetries(u=>function NH(n,e){return nO.apply(this,arguments)}(u,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,R.Z)(function*(){return r._withPendingWrite((0,R.Z)(function*(){return yield r._withRetries(i=>oB(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,R.Z)(function*(){const r=yield t._withRetries(l=>{const f=$b(l,!1).getAll();return new a1(f).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],u=new Set;for(const{fbase_key:l,value:f}of r)u.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(f)&&(t.notifyListeners(l,f),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!u.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,R.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();VV("rcb"),new YE(3e4,6e4);class dO extends $V{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QH(n){return XV(n.auth,new dO(n),n.bypassAuthState)}function YH(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),function JV(n,e){return _P.apply(this,arguments)}(t,new dO(n),n.bypassAuthState)}function JH(n){return hO.apply(this,arguments)}function hO(){return hO=(0,R.Z)(function*(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),function pP(n,e){return gP.apply(this,arguments)}(t,new dO(n),n.bypassAuthState)}),hO.apply(this,arguments)}class XH{constructor(e,t,r,i,u=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,R.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(u){e.reject(u)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,R.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:u,tenantId:l,error:f,type:m}=e;if(f)return void t.reject(f);const v={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:u||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(m)(v))}catch(C){t.reject(C)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QH;case"linkViaPopup":case"linkViaRedirect":return JH;case"reauthViaPopup":case"reauthViaRedirect":return YH;default:Es(this.auth,"internal-error")}}resolve(e){Ud(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ud(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new YE(2e3,1e4);const eG="pendingRedirect",u1=new Map;class tG extends XH{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,R.Z)(function*(){let r=u1.get(t.auth._key());if(!r){try{const u=(yield function nG(n,e){return _O.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(u)}catch(i){r=()=>Promise.reject(i)}u1.set(t.auth._key(),r)}return t.bypassAuthState||u1.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,R.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,R.Z)(function*(){})()}cleanUp(){}}function _O(){return _O=(0,R.Z)(function*(n,e){const t=function cB(n){return Ob(eG,n.config.apiKey,n.name)}(e),r=function uB(n){return Uc(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),_O.apply(this,arguments)}function rG(n,e){u1.set(n._key(),e)}function lB(n,e){return CO.apply(this,arguments)}function CO(){return CO=(0,R.Z)(function*(n,e,t=!1){const r=Er(n),i=function Cp(n,e){return e?Uc(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new tG(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l}),CO.apply(this,arguments)}class uG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function cG(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fB(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!fB(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(uu(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hB(e))}saveEventToCache(e){this.cachedEventUids.add(hB(e)),this.lastProcessedEventTime=Date.now()}}function hB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fB({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function AO(){return AO=(0,R.Z)(function*(n,e={}){return Hn(n,"GET","/v1/projects",e)}),AO.apply(this,arguments)}const dG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hG=/^https?/;function DO(){return DO=(0,R.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function lG(n){return AO.apply(this,arguments)}(n);for(const t of e)try{if(pG(t))return}catch{}Es(n,"unauthorized-domain")}),DO.apply(this,arguments)}function pG(n){const e=QE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!hG.test(t))return!1;if(dG.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gG=new YE(3e4,6e4);function pB(){const n=Ir().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Gb=null;const yG=new YE(5e3,15e3),vG="__/auth/iframe",EG="emulator/auth/iframe",IG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TG(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?DR(e,EG):`https://${n.config.authDomain}/${vG}`,r={apiKey:e.apiKey,appName:n.name,v:Jl},i=wG.get(n.config.apiHost);i&&(r.eid=i);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${(0,_e.xO)(r).slice(1)}`}function SO(){return SO=(0,R.Z)(function*(n){const e=yield function _G(n){return Gb=Gb||function mG(n){return new Promise((e,t)=>{var r,i,u;function l(){pB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pB(),t(uu(n,"network-request-failed"))},timeout:gG.get()})}if(null!==(i=null===(r=Ir().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(u=Ir().gapi)||void 0===u||!u.load){const f=VV("iframefcb");return Ir()[f]=()=>{gapi.load?l():t(uu(n,"network-request-failed"))},$R(`https://apis.google.com/js/api.js?onload=${f}`).catch(m=>t(m))}l()}}).catch(e=>{throw Gb=null,e})}(n),Gb}(n),t=Ir().gapi;return Be(t,n,"internal-error"),e.open({where:document.body,url:TG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IG,dontclear:!0},r=>new Promise(function(){var i=(0,R.Z)(function*(u,l){yield r.restyle({setHideOnLeave:!1});const f=uu(n,"network-request-failed"),m=Ir().setTimeout(()=>{l(f)},yG.get());function v(){Ir().clearTimeout(m),u(r)}r.ping(v).then(v,()=>{l(f)})});return function(u,l){return i.apply(this,arguments)}}()))}),SO.apply(this,arguments)}const bG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const RG="__/auth/handler",PG="emulator/auth/handler",OG=encodeURIComponent("fac");function mB(n,e,t,r,i,u){return xO.apply(this,arguments)}function xO(){return xO=(0,R.Z)(function*(n,e,t,r,i,u){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jl,eventId:i};if(e instanceof Bd){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,_e.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[C,A]of Object.entries(u||{}))l[C]=A}if(e instanceof W$){const C=e.getScopes().filter(A=>""!==A);C.length>0&&(l.scopes=C.join(","))}n.tenantId&&(l.tid=n.tenantId);const f=l;for(const C of Object.keys(f))void 0===f[C]&&delete f[C];const m=yield n._getAppCheckToken(),v=m?`#${OG}=${encodeURIComponent(m)}`:"";return`${function kG({config:n}){return n.emulator?DR(n,PG):`https://${n.authDomain}/${RG}`}(n)}?${(0,_e.xO)(f).slice(1)}${v}`}),xO.apply(this,arguments)}const MO="webStorageSupport",LG=class FG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nB,this._completeRedirectFn=lB,this._overrideRedirectResult=rG}_openPopup(e,t,r,i){var u=this;return(0,R.Z)(function*(){var l;Ud(null===(l=u.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const f=yield mB(e,t,r,QE(),i);return function MG(n,e,t,r=500,i=600){const u=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},bG),{width:r.toString(),height:i.toString(),top:u,left:l}),v=(0,_e.z$)().toLowerCase();t&&(f=NV(v)?"_blank":t),MV(v)&&(e=e||"http://localhost",m.scrollbars="yes");const C=Object.entries(m).reduce((M,[O,j])=>`${M}${O}=${j},`,"");if(function p$(n=(0,_e.z$)()){var e;return kb(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(v)&&"_self"!==f)return function NG(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",f),new gB(null);const A=window.open(e||"",f,C);Be(A,n,"popup-blocked");try{A.focus()}catch{}return new gB(A)}(e,f,YP())})()}_openRedirect(e,t,r,i){var u=this;return(0,R.Z)(function*(){return yield u._originValidation(e),function bH(n){Ir().location.href=n}(yield mB(e,t,r,QE(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:u}=this.eventManagers[t];return i?Promise.resolve(i):(Ud(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,R.Z)(function*(){const r=yield function CG(n){return SO.apply(this,arguments)}(e),i=new uG(e);return r.register("authEvent",u=>(Be(u?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(MO,{type:MO},i=>{var u;const l=null===(u=i?.[0])||void 0===u?void 0:u[MO];void 0!==l&&t(!!l),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function fG(n){return DO.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FV()||jR()||kb()}};var vB="@firebase/auth";class UG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,R.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jG=(0,_e.Pz)("authIdTokenMaxAge")||300;let IB=null;const qG=n=>function(){var e=(0,R.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>jG)return;const u=r?.token;IB!==u&&(IB=u,yield fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Wb(n=function $y(n=fm){const e=Za.get(n);if(!e&&n===fm&&(0,_e.aH)())return qy();if(!e)throw Qo.create("no-app",{appName:n});return e}()){const e=cf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function D$(n,e){const t=cf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),u=t.getOptions();if((0,_e.vZ)(u,e??{}))return i;Es(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:LG,persistence:[OH,IH,nB]}),r=(0,_e.Pz)("authTokenSyncURL");if(r){const u=qG(r);(function hH(n,e,t){(0,_e.m9)(n).beforeAuthStateChanged(e,t)})(t,u,()=>u(t.currentUser)),function dH(n,e,t,r){(0,_e.m9)(n).onIdTokenChanged(e,t,r)}(t,l=>u(l))}const i=(0,_e.q4)("auth");return i&&function x$(n,e,t){const r=Er(n);Be(r._canInitEmulator,r,"emulator-config-failed"),Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,u=jV(e),{host:l,port:f}=function M$(n){const e=jV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const u=i[1];return{host:u,port:qV(r.substr(u.length+1))}}{const[u,l]=r.split(":");return{host:u,port:qV(l)}}}(e);r.config.emulator={url:`${u}//${l}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function N$(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function BG(n){Fi(new rr.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=r.options;Be(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:l,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LV(n)},v=new I$(r,i,u,m);return function S$(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Uc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fi(new rr.wA("auth-internal",e=>{const t=Er(e.getProvider("auth").getImmediate());return new UG(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(vB,"1.3.2",function VG(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),gi(vB,"1.3.2","esm2017")}("Browser");let Zd=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r,this.userDataSubject=new er.X(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const u=JSON.parse(i);this.userDataSubject.next(u)}}registerUser(t,r,i){var u=this;return(0,R.Z)(function*(){try{const l=yield u.createUserWithEmailAndPassword(t,r),f=l.user.uid;yield u.addAdditionalAuthData(f,i),yield u.saveUserData(l.user,i),u.router.navigate(["home"])}catch(l){u.handleError(l)}})()}loginUser(t,r){var i=this;return(0,R.Z)(function*(){try{const u=yield i.signInWithEmailAndPassword(t,r),l=u.user.uid,f=yield i.getAdditionalAuthDataById(l);yield i.saveUserData(u.user,f),i.router.navigate(["home"])}catch(u){i.handleError(u)}})()}logoutUser(){var t=this;return(0,R.Z)(function*(){try{yield t.signOutAuth(),yield t.clearUserData(),t.router.navigate(["sign-in"])}catch(r){t.handleError(r)}})()}forgotPassword(t){var r=this;return(0,R.Z)(function*(){try{yield r.sendPasswordResetEmail(t),window.alert("Password reset email sent, check your inbox."),r.router.navigate(["sign-in"])}catch(i){r.handleError(i),window.alert(i)}})()}sendPasswordResetEmail(t){return function eH(n,e,t){return MP.apply(this,arguments)}(Wb(),t)}createUserWithEmailAndPassword(t,r){return function nH(n,e,t){return kP.apply(this,arguments)}(Wb(),t,r)}signInWithEmailAndPassword(t,r){return function rH(n,e,t){return function vP(n,e){return EP.apply(this,arguments)}((0,_e.m9)(n),zV.credential(e,t)).catch(function(){var r=(0,R.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&SP(n),i});return function(i){return r.apply(this,arguments)}}())}(Wb(),t,r)}signOutAuth(){return function fH(n){return(0,_e.m9)(n).signOut()}(Wb())}addAdditionalAuthData(t,r){return Uq(au(this.firestore,"Auth",t),r)}getAdditionalAuthDataById(t){var r=this;return(0,R.Z)(function*(){const i=au(r.firestore,"Auth",t),u=yield Ld(i);return u.exists()?u.data():null})()}saveUserData(t,r){return new Promise((i,u)=>{if(t&&r){const l={...t,...r};localStorage.setItem("user",JSON.stringify(l)),this.userDataSubject.next(l),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),u()})}clearUserData(){return new Promise((t,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),t()})}handleError(t){if(t instanceof Error){const i=t.message;console.error(`Error (${t.name}): ${i}`),alert(i)}else console.error("Unknown error:",t),alert(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(wi),o.LFG(qn))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $G(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"a",7)(2,"div",8)(3,"div",9),o._UZ(4,"img",10),o.qZA(),o.TgZ(5,"p",11),o._uU(6),o.qZA()()(),o.BQk()),2&n){const t=o.oxw().$implicit,r=o.oxw();o.xp6(1),o.Q6J("routerLink",r.getRecipeLink(t)),o.xp6(3),o.s9C("alt",t.title),o.Q6J("src",t.image_recipe,o.LSH),o.xp6(2),o.Oqu(t.title)}}function HG(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,$G,7,4,"ng-container",6),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.userData)}}let GG=(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.authService=i,this.recipes=[],this.category=null,this.firestore=(0,o.f3M)(wi),this.authService.userData$.subscribe(u=>{this.userData=u})}getRecipeLink(t){return this.userData?.isCook?["/recipe",t.id]:["/recipe-waiters",t.id]}ngOnInit(){var t=this;this.route.params.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.id,f=sa(t.firestore,"Recipe"),m=au(t.firestore,"Category",u),v=yield Ld(m);v.exists()&&(t.category=v.data());const C=hV(f,fV("category","==",u));Ip(C).then(A=>{const M=[];A.forEach(O=>{const j=O.data();M.push({title:j.title,image_recipe:j.image_recipe[0]?j.image_recipe[0].image_recipe:null,order_index:j.order_index,id:O.id})}),t.recipes=M.sort((O,j)=>Number(O.order_index)-Number(j.order_index))}).catch(A=>{console.error("Error retrieving recipes: ",A)})});return function(i){return r.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36(qn),o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-category"]],decls:8,vars:3,consts:[[1,"mainLong"],[1,"category"],[1,"category-title"],[1,"category-subtitle"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.TgZ(4,"h4",3),o._uU(5),o.qZA(),o.TgZ(6,"div",4),o.YNc(7,HG,2,1,"div",5),o.qZA()()()),2&r&&(o.xp6(3),o.hij(" ",null==i.category?null:i.category.name," "),o.xp6(2),o.hij(" ",null==i.category?null:i.category.note," "),o.xp6(2),o.Q6J("ngForOf",i.recipes))},dependencies:[Ai,dr,hi],styles:[".category[_ngcontent-%COMP%]{width:1200px;margin:0 auto;position:relative}.category-title[_ngcontent-%COMP%]{text-align:center;font-family:var(--titleFont)}.category-subtitle[_ngcontent-%COMP%]{font-style:italic;text-align:center;font-weight:200;margin-bottom:20px}.recipe-list[_ngcontent-%COMP%]{position:relative;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{border:1px solid var(--mainWhiteColor);margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--backgroundColor);color:var(--mainBlackColor);font-weight:600;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:capitalize;top:70%;height:30%;font-family:var(--titleFont);display:flex;align-items:center;justify-content:center}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(.95);transition:1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:2%;height:30%;color:var(--mainBlackColor);background:var(--mainMagnoliaColor);transition:1s ease-in-out}@media (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return n})(),s_=(()=>{class n{constructor(t){this.firestore=t}getBaseRecipe(){const r=sa(this.firestore,"BaseRecipe");return new Kn.y(i=>{Ip(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}getBaseById(t){var r=this;return(0,R.Z)(function*(){const i=au(r.firestore,"BaseRecipe",t),u=yield Ld(i);return u.exists()?u.data():null})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(wi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wB=(()=>{class n{constructor(t){this.firestore=t}getCategories(){const r=sa(this.firestore,"Category");return new Kn.y(i=>{Ip(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(wi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zG(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function WG(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,zG,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function KG(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function QG(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),o.qZA())}function YG(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,QG,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("category"))||null==r.errors?null:r.errors.required)}}function JG(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),o.qZA())}function XG(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,JG,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function ez(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0435\u0437\u043e\u043d! "),o.qZA())}function tz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,ez,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("season"))||null==r.errors?null:r.errors.required)}}function nz(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function rz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,nz,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("unit"))||null==r.errors?null:r.errors.required)}}function iz(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function sz(n,e){1&n&&(o.TgZ(0,"p",7),o._uU(1," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438: "),o.qZA())}function oz(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",46)(1,"p",7),o._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(3,"input",47),o.TgZ(4,"button",31),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeImage(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function az(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",46)(1,"p",7),o._uU(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),o.qZA(),o._UZ(3,"input",48),o.TgZ(4,"button",31),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeVideo(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function uz(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",46)(1,"p",7),o._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),o.qZA(),o._UZ(3,"input",49),o.TgZ(4,"button",31),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removePreparation(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function cz(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function lz(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0447\u0438\u043d\u0438\u044f! "),o.qZA())}function dz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,lz,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("food_plate"))||null==r.errors?null:r.errors.required)}}function hz(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function fz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,hz,2,0,"div",43),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function pz(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function gz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,pz,2,0,"div",43),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function mz(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function _z(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,mz,2,0,"div",43),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function yz(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.title," ")}}function vz(n,e){if(1&n&&(o.TgZ(0,"div",46)(1,"div",50),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o.TgZ(6,"label",51),o._uU(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(8,"input",52),o.YNc(9,fz,2,1,"div",5),o.TgZ(10,"label",53),o._uU(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(12,"input",54),o.YNc(13,gz,2,1,"div",5),o.TgZ(14,"label",24),o._uU(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(16,"p",7),o._uU(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),o.qZA(),o.TgZ(18,"select",55)(19,"option",26),o._uU(20,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(21,"option",27),o._uU(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(23,"option",28),o._uU(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(25,"option",29),o._uU(26,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(27,_z,2,1,"div",5),o.TgZ(28,"label",56),o._uU(29,"\u0411\u0440\u043e\u0439\u043a\u0430: "),o.qZA(),o.TgZ(30,"p",7),o._uU(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),o.qZA(),o._UZ(32,"input",57),o.TgZ(33,"label",58),o._uU(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.qZA(),o.TgZ(35,"p",7),o._uU(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),o._UZ(37,"br"),o._uU(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),o.qZA(),o._UZ(39,"input",59),o.TgZ(40,"label",60),o._uU(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),o.qZA(),o.TgZ(42,"p",7),o._uU(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),o.qZA(),o.TgZ(44,"select",61),o.YNc(45,yz,2,2,"option",9),o.qZA(),o.TgZ(46,"label",40),o._uU(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),o.qZA(),o.TgZ(48,"p",7),o._uU(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),o.qZA(),o._UZ(50,"input",62),o.qZA()),2&n){const t=e.index,r=o.oxw();let i,u,l;o.Q6J("formGroupName",t),o.xp6(9),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".name"))?null:i.touched),o.xp6(4),o.Q6J("ngIf",null==(u=r.recipeForm.get("ingredients."+t+".amount"))?null:u.touched),o.xp6(14),o.Q6J("ngIf",null==(l=r.recipeForm.get("ingredients."+t+".unit"))?null:l.touched),o.xp6(18),o.Q6J("ngForOf",r.baseRecipes)}}let Ez=(()=>{class n{constructor(t,r,i,u){this.fb=r,this.baseRecipeService=i,this.categoriesService=u,this.allergens=[],this.plates=[],this.baseRecipes=[],this.categories=[],this.currentOrderIndex=1,this.firestore=t,this.recipeForm=this.fb.group({title:["",[ct.required]],category:this.fb.control([null,[ct.required]]),description:["",[ct.required]],season:["",[ct.required]],unit:["",[ct.required]],summary:[""],release_time:[0],serving_value:[0],order_index:[0],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",food_plate:this.fb.control([null,[ct.required]]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[ct.required]],amount:[null,[ct.required]],base:this.fb.control(null),unit:["",[ct.required]],order_index:[0],preparation_method:[""],quantity:[0]})])}),this.getAllergens().subscribe(l=>{this.allergens=l}),this.getPlates().subscribe(l=>{this.plates=l})}ngOnInit(){this.getBaseRecipe(),this.getCategory()}addImage(){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(t){this.recipeForm.get("image_recipe").removeAt(t)}addImageToForm(t){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.recipeForm.get("video_recipe").removeAt(t)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.recipeForm.get("preparation_method").removeAt(t)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[ct.required]],amount:[null,[ct.required]],base:this.fb.control(null),unit:["",[ct.required]],order_index:this.currentOrderIndex,preparation_method:[""],quantity:[0]})),this.currentOrderIndex++}addReferenceToSelectedAllergen(t){const r=t.target.value;this.recipeForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const t=this.recipeForm.get("selectedAllergen")?.value;this.recipeForm.get("allergens").push(this.fb.control(t));const i=this.recipeForm.get("selectedAllergenNames"),u=this.allergens.find(l=>l.id===t);u&&i?.setValue(i.value?i.value+", "+u.name:u.name)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.valid&&(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}getCategory(){this.categoriesService.getCategories().subscribe({next:t=>{this.categories=t},error:t=>{console.error("Error fetching recipes:",t)}})}getAllergens(){const r=sa(this.firestore,"Allergens");return new Kn.y(i=>{Ip(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}getPlates(){const r=sa(this.firestore,"Plates");return new Kn.y(i=>{Ip(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addRecipe(t){Sb(sa(this.firestore,"Recipe"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(wi),o.Y36(Ba),o.Y36(s_),o.Y36(wB))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-recipe-form"]],decls:113,vars:16,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","category"],[1,"hint"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["formControlName","selectedAllergen"],["type","button",3,"click"],["class","hint",4,"ngIf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["id","ingredient_unit","formControlName","unit"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["type","text","id","ingredient_preparation_method","formControlName","preparation_method"],["for","base"],["id","base","formControlName","base"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(4,"form",3)(5,"label"),o._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o._UZ(7,"input",4),o.qZA(),o.YNc(8,WG,2,1,"div",5),o.TgZ(9,"label",6),o._uU(10,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(11,"p",7),o._uU(12,"\u041a\u044a\u043c \u043a\u043e\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043f\u0440\u0435\u043d\u0430\u0434\u043b\u0435\u0436\u0438 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),o.qZA(),o.TgZ(13,"select",8),o.YNc(14,KG,2,2,"option",9),o.qZA(),o.YNc(15,YG,2,1,"div",5),o.TgZ(16,"div")(17,"label",10),o._uU(18,"\u0420\u0435\u0437\u044e\u043c\u0435:"),o.qZA(),o.TgZ(19,"p",7),o._uU(20,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(21,"input",11),o.qZA(),o.TgZ(22,"div")(23,"label",12),o._uU(24,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(25,"textarea",13),o.qZA(),o.YNc(26,XG,2,1,"div",5),o.TgZ(27,"div")(28,"label",14),o._uU(29,"\u0421\u0435\u0437\u043e\u043d (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(30,"p",7),o._uU(31,"\u0412 \u043a\u043e\u0439 \u0441\u0435\u0437\u043e\u043d \u0449\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),o.qZA(),o.TgZ(32,"select",15)(33,"option",16),o._uU(34,"\u041f\u0440\u043e\u043b\u0435\u0442"),o.qZA(),o.TgZ(35,"option",17),o._uU(36,"\u041b\u044f\u0442\u043e"),o.qZA(),o.TgZ(37,"option",18),o._uU(38,"\u0415\u0441\u0435\u043d"),o.qZA(),o.TgZ(39,"option",19),o._uU(40,"\u0417\u0438\u043c\u0430"),o.qZA()()(),o.YNc(41,tz,2,1,"div",5),o.TgZ(42,"div")(43,"label",20),o._uU(44,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435: "),o.qZA(),o.TgZ(45,"p",7),o._uU(46,"\u0417\u0430 \u043a\u043e\u043b\u043a\u043e \u0432\u0440\u0435\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),o.qZA(),o._UZ(47,"input",21),o.qZA(),o.TgZ(48,"div")(49,"label",22),o._uU(50,"\u0413\u043e\u0442\u043e\u0432\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: "),o.qZA(),o.TgZ(51,"p",7),o._uU(52,"\u041a\u043e\u043b\u043a\u043e \u0442\u0435\u0436\u0438 \u0433\u043e\u0442\u043e\u0432\u043e\u0442\u043e \u044f\u0441\u0442\u0438\u0435?"),o.qZA(),o._UZ(53,"input",23),o.qZA(),o._UZ(54,"br"),o.TgZ(55,"label",24),o._uU(56,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(57,"p",7),o._uU(58,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),o.qZA(),o.TgZ(59,"select",25)(60,"option",26),o._uU(61,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(62,"option",27),o._uU(63,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(64,"option",28),o._uU(65,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(66,"option",29),o._uU(67,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(68,rz,2,1,"div",5),o.TgZ(69,"div")(70,"label"),o._uU(71,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),o.qZA(),o.TgZ(72,"p",7),o._uU(73,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0430\u043b\u0435\u0440\u0433\u0435\u043d\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0441\u0430\u0434\u044a\u0440\u0436\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(74,"select",30),o.YNc(75,iz,2,2,"option",9),o.qZA(),o.TgZ(76,"button",31),o.NdJ("click",function(){return i.addSelectedAllergen()}),o._uU(77," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u0430\u043b\u0435\u0440\u0433\u0435\u043d "),o.qZA()(),o.TgZ(78,"div"),o.YNc(79,sz,2,0,"p",32),o.TgZ(80,"div"),o._uU(81),o.qZA(),o.TgZ(82,"app-image-upload",33),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.TgZ(83,"div",34),o.YNc(84,oz,6,1,"div",35),o.qZA(),o.TgZ(85,"div",36),o.YNc(86,az,6,1,"div",35),o.TgZ(87,"button",31),o.NdJ("click",function(){return i.addVideo()}),o._uU(88," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),o.qZA()(),o.TgZ(89,"div",37),o.YNc(90,uz,6,1,"div",35),o.TgZ(91,"button",31),o.NdJ("click",function(){return i.addPreparation()}),o._uU(92," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),o.qZA()(),o.TgZ(93,"label",38),o._uU(94,"\u0427\u0438\u043d\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(95,"p",7),o._uU(96,"\u0412 \u043a\u043e\u044f \u0447\u0438\u043d\u0438\u044f \u0449\u0435 \u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0440\u0430 \u044f\u0441\u0442\u0438\u0435\u0442\u043e?"),o.qZA(),o.TgZ(97,"select",39),o.YNc(98,cz,2,2,"option",9),o.qZA(),o.YNc(99,dz,2,1,"div",5),o.TgZ(100,"div")(101,"label",40),o._uU(102,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),o.qZA(),o.TgZ(103,"p",7),o._uU(104,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u0438\u0442\u0435 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),o.qZA(),o._UZ(105,"input",41),o.qZA()(),o.TgZ(106,"div",42),o.YNc(107,vz,51,5,"div",35),o.qZA(),o._UZ(108,"br"),o.TgZ(109,"button",31),o.NdJ("click",function(){return i.addIngredient()}),o._uU(110," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),o.qZA(),o.TgZ(111,"button",31),o.NdJ("click",function(){return i.onSubmit()}),o._uU(112,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA()()()()),2&r){let u,l,f,m,v,C,A,M;o.xp6(4),o.Q6J("formGroup",i.recipeForm),o.xp6(4),o.Q6J("ngIf",null==(u=i.recipeForm.get("title"))?null:u.touched),o.xp6(6),o.Q6J("ngForOf",i.categories),o.xp6(1),o.Q6J("ngIf",null==(l=i.recipeForm.get("category"))?null:l.touched),o.xp6(11),o.Q6J("ngIf",null==(f=i.recipeForm.get("description"))?null:f.touched),o.xp6(15),o.Q6J("ngIf",null==(m=i.recipeForm.get("season"))?null:m.touched),o.xp6(27),o.Q6J("ngIf",null==(v=i.recipeForm.get("unit"))?null:v.touched),o.xp6(7),o.Q6J("ngForOf",i.allergens),o.xp6(4),o.Q6J("ngIf",null==(C=i.recipeForm.get("selectedAllergen"))?null:C.touched),o.xp6(2),o.Oqu(null==(A=i.recipeForm.get("selectedAllergenNames"))?null:A.value),o.xp6(3),o.Q6J("ngForOf",i.image_recipe.controls),o.xp6(2),o.Q6J("ngForOf",i.video_recipe.controls),o.xp6(4),o.Q6J("ngForOf",i.preparation_method.controls),o.xp6(8),o.Q6J("ngForOf",i.plates),o.xp6(1),o.Q6J("ngIf",null==(M=i.recipeForm.get("food_plate"))?null:M.touched),o.xp6(8),o.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[Ai,dr,lo,Us,fo,fi,Go,zo,ka,co,Ls,ho,tf,uc,Mb]})}return n})(),TB=(()=>{class n{constructor(t){this.firestore=t}getRecipeById(t){var r=this;return(0,R.Z)(function*(){const i=au(r.firestore,"Recipe",t),u=yield Ld(i);return u.exists()?u.data():null})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(wi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RO=(()=>{class n{constructor(t){this.firestore=t,this.commentAddedSubject=new ls.x}getCommentsForRecipe(t){var r=this;return(0,R.Z)(function*(){try{const i=sa(r.firestore,"Comments"),u=hV(i,fV("recipeId","==",t)),l=yield Ip(u),f=[];return l.forEach(m=>{const v=m.data();f.push({create_time:v.create_time,name:v.name,recipeId:v.recipeId,text:v.text})}),f.sort((m,v)=>{const C=m.create_time.toDate();return v.create_time.toDate()-C}),f}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(t){var r=this;return(0,R.Z)(function*(){try{t.name||(t.name="\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d");const i="Comments",u=yield Sb(sa(r.firestore,i),t);return r.commentAddedSubject.next(),u.id}catch(i){return console.error("Error adding comment:",i),null}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(wi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Iz(n,e){1&n&&(o.TgZ(0,"div",12),o._uU(1," \u041c\u043e\u043b\u044f \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440! "),o.qZA())}function wz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Iz,2,0,"div",11),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let CB=(()=>{class n{constructor(t,r,i){this.fb=t,this.commentService=i,this.timestamp=new Date,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",ct.required],recipeId:[this.recipeId],create_time:[this.timestamp]})}onSubmit(){var t=this;return(0,R.Z)(function*(){if(t.timestamp=new Date,t.commentForm.valid){t.commentForm.patchValue({recipeId:t.recipeId}),t.commentForm.patchValue({create_time:t.timestamp});try{(yield t.commentService.addComment(t.commentForm.value))?(alert("\u0412\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"),t.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Ba),o.Y36(wi),o.Y36(RO))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:20,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","name"],[1,"hint"],["type","text","id","name","formControlName","name",1,"form-control"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(2,"div",2),o._UZ(3,"hr"),o.TgZ(4,"p"),o._uU(5,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0439\u0442\u0435\xa0\xa0"),o.qZA(),o._UZ(6,"hr"),o.qZA(),o.TgZ(7,"div",3)(8,"label",4),o._uU(9,"\u0418\u043c\u0435:"),o.qZA(),o.TgZ(10,"p",5),o._uU(11,'\u0410\u043a\u043e \u043d\u0435 \u043f\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u0435 \u0449\u0435 \u0441\u0442\u0435 "\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d"'),o.qZA(),o._UZ(12,"input",6),o.qZA(),o.TgZ(13,"div",3)(14,"label",7),o._uU(15,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(16,"textarea",8),o.qZA(),o.YNc(17,wz,2,1,"div",9),o.TgZ(18,"button",10),o._uU(19,"\u041f\u0443\u0431\u043b\u0438\u043a\u0443\u0432\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"),o.qZA()()()),2&r){let u;o.xp6(1),o.Q6J("formGroup",i.commentForm),o.xp6(16),o.Q6J("ngIf",null==(u=i.commentForm.get("text"))?null:u.touched)}},dependencies:[dr,lo,fi,ka,co,Ls,ho],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return n})(),bB=(()=>{class n{constructor(t){this.sanitizer=t}transform(t){let r;if(t.startsWith("https://m."))r=new URLSearchParams(t.split("?")[1]).get("v")||"";else{const u=t.split("/");r=u[u.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Nu,16))};static#t=this.\u0275pipe=o.Yjl({name:"safeUrl",type:n,pure:!0})}return n})();function Tz(n,e){if(1&n&&(o.TgZ(0,"div",22),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij(" ",null==t.recipe?null:t.recipe.summary," ")}}function Cz(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"img",25),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",t.image_recipe,o.LSH)}}function bz(n,e){if(1&n&&(o.TgZ(0,"ul",23),o.YNc(1,Cz,2,1,"li",24),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==t.recipe?null:t.recipe.image_recipe)}}function Az(n,e){if(1&n&&(o.TgZ(0,"span",11),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij("\xa0",null==t.recipe?null:t.recipe.unit,"")}}function Dz(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.YNc(7,Az,2,1,"span",26),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.serving_value," "),o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.unit)}}function Sz(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function xz(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.recipe?null:t.recipe.selectedAllergenNames)}}function Mz(n,e){1&n&&(o.TgZ(0,"div",13),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function Nz(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const Rz=function(n){return["/base",n]};function Pz(n,e){if(1&n&&(o.TgZ(0,"span",11)(1,"a",5),o._uU(2," \xa0\xa0"),o._UZ(3,"i",29),o._uU(4," \xa0\xa0"),o._UZ(5,"i",30),o._uU(6," \xa0\xa0"),o._UZ(7,"i",31),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,Rz,t.base))}}function Oz(n,e){if(1&n&&(o.TgZ(0,"span",10)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function kz(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,Nz,2,1,"span",12),o.YNc(3,Pz,8,3,"span",26),o._UZ(4,"br"),o.YNc(5,Oz,3,1,"span",28),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.lnq(" ",t.name," - ",t.amount," ",t.unit," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(2),o.Q6J("ngIf",t.preparation_method)}}function Fz(n,e){if(1&n&&(o.TgZ(0,"ul",27),o.YNc(1,kz,6,6,"li",12),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.ingredients)}}function Lz(n,e){1&n&&(o.TgZ(0,"div",13),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function Uz(n,e){if(1&n&&(o.TgZ(0,"ul",32)(1,"li"),o._uU(2),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.preparation_method)}}function Vz(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"iframe",34),o.ALo(2,"safeUrl"),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",o.lcZ(2,1,t.video_recipe),o.uOi)}}function Bz(n,e){if(1&n&&(o.TgZ(0,"div",33)(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"ul"),o.YNc(8,Vz,3,3,"li",24),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Q6J("ngForOf",null==t.recipe?null:t.recipe.video_recipe)}}function Zz(n,e){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-comment-form",35),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("recipeId",t.recipeId)}}function jz(n,e){1&n&&(o.TgZ(0,"div",13),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function qz(n,e){if(1&n&&(o.TgZ(0,"ul")(1,"li"),o._uU(2),o.qZA(),o.TgZ(3,"li"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"date"),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.name),o.xp6(2),o.Oqu(t.text),o.xp6(2),o.hij(" ",o.xi3(7,3,t.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function $z(n,e){if(1&n&&(o.TgZ(0,"section",36),o.YNc(1,qz,8,6,"ul",24),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.comments)}}const Hz=function(n){return["/category",n]};let Gz=(()=>{class n{constructor(t,r,i,u){var l=this;this.route=t,this.recipeService=r,this.firestore=i,this.commentService=u,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var f=(0,R.Z)(function*(m){const v=m.get("id");if(l.recipeId=v,v)try{l.recipe=yield l.recipeService.getRecipeById(v),l.comments=yield u.getCommentsForRecipe(v),l.recipe?yield l.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(C){console.error("An error occurred while retrieving the recipe:",C)}else console.error("Recipe ID not provided.")});return function(m){return f.apply(this,arguments)}}()),u.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var t=this;return(0,R.Z)(function*(){t.recipeId&&(t.comments=yield t.commentService.getCommentsForRecipe(t.recipeId))})()}loadCategoryAndPlateData(){var t=this;return(0,R.Z)(function*(){const r=t.recipe?.food_plate,i=t.recipe?.category;if(r){const u=au(t.firestore,"Plates/"+r),l=yield Ld(u);l.exists()&&(t.plate=l.data())}if(i){const u=au(t.firestore,"Category/"+i),l=yield Ld(u);l.exists()&&(t.category=l.data())}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36(TB),o.Y36(wi),o.Y36(RO))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-recipe"]],decls:53,vars:21,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],[4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],[3,"click"],["href","javascript:history.back()",1,"btn"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"recipeId"],[1,"comments"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,Tz,2,1,"div",3),o.TgZ(5,"div",4)(6,"a",5),o._UZ(7,"i",6),o._uU(8),o.qZA()(),o.TgZ(9,"div",7),o.YNc(10,bz,2,1,"ul",8),o.TgZ(11,"table",9)(12,"tr")(13,"td")(14,"span",10),o._uU(15,"\u0421\u0435\u0437\u043e\u043d"),o.qZA()(),o.TgZ(16,"td")(17,"span",11),o._uU(18),o.qZA()()(),o.YNc(19,Dz,8,2,"tr",12),o.YNc(20,Sz,7,1,"tr",12),o.TgZ(21,"tr")(22,"td")(23,"span",10),o._uU(24,"\u0427\u0438\u043d\u0438\u044f"),o.qZA()(),o.TgZ(25,"td")(26,"span",11),o._uU(27),o.qZA()()(),o.YNc(28,xz,7,1,"tr",12),o.qZA(),o.TgZ(29,"div",13),o._UZ(30,"hr"),o.TgZ(31,"p"),o._uU(32,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),o.qZA(),o._UZ(33,"hr"),o.qZA(),o._UZ(34,"br"),o.TgZ(35,"p",14),o._uU(36),o.qZA(),o._UZ(37,"br"),o.YNc(38,Mz,5,0,"div",15),o._UZ(39,"br"),o.YNc(40,Fz,2,1,"ul",16),o.YNc(41,Lz,5,0,"div",15),o._UZ(42,"br"),o.YNc(43,Uz,3,1,"ul",17),o.YNc(44,Bz,9,1,"div",18),o.TgZ(45,"button",19),o.NdJ("click",function(){return i.toggleCommentForm()}),o._uU(46,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),o.qZA(),o.TgZ(47,"a",20),o._UZ(48,"i",6),o._uU(49,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA(),o.YNc(50,Zz,2,1,"div",12),o.YNc(51,jz,5,0,"div",15),o.YNc(52,$z,2,1,"section",21),o.qZA()()()),2&r&&(o.xp6(3),o.Oqu(null==i.recipe?null:i.recipe.title),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.summary),o.xp6(2),o.Q6J("routerLink",o.VKq(19,Hz,null==i.recipe?null:i.recipe.category)),o.xp6(2),o.hij(" ",null==i.category?null:i.category.name," "),o.xp6(2),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),o.xp6(8),o.Oqu(null==i.recipe?null:i.recipe.season),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.serving_value),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.release_time),o.xp6(7),o.Oqu(null==i.plate?null:i.plate.name),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.selectedAllergenNames),o.xp6(8),o.hij(" ",null==i.recipe?null:i.recipe.description," "),o.xp6(2),o.Q6J("ngIf",null==i.recipe?null:i.recipe.ingredients),o.xp6(2),o.Q6J("ngForOf",null==i.recipe?null:i.recipe.ingredients),o.xp6(1),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),o.xp6(2),o.Q6J("ngForOf",null==i.recipe?null:i.recipe.preparation_method),o.xp6(1),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),o.xp6(6),o.Q6J("ngIf",i.showCommentForm),o.xp6(1),o.Q6J("ngIf",i.comments.length>0),o.xp6(1),o.Q6J("ngIf",i.comments.length>0))},dependencies:[Ai,dr,hi,CB,Kc,bB],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}"]})}return n})(),AB=(()=>{class n{constructor(t){this.firestore=t}getAllergens(){const r=sa(this.firestore,"Allergens");return new Kn.y(i=>{Ip(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(wi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zz(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function Wz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,zz,2,0,"div",33),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("title"))||null==r.errors?null:r.errors.required)}}function Kz(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),o.qZA())}function Qz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Kz,2,0,"div",33),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("base_type"))||null==r.errors?null:r.errors.required)}}function Yz(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),o.qZA())}function Jz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Yz,2,0,"div",33),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("description"))||null==r.errors?null:r.errors.required)}}function Xz(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),o.qZA())}function eW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Xz,2,0,"div",33),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("base_yield"))||null==r.errors?null:r.errors.required)}}function tW(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function nW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,tW,2,0,"div",33),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("unit"))||null==r.errors?null:r.errors.required)}}function rW(n,e){if(1&n&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function iW(n,e){1&n&&(o.TgZ(0,"p",7),o._uU(1," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438: "),o.qZA())}function sW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",36)(1,"p",7),o._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(3,"input",37),o.TgZ(4,"button",25),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeImage(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function oW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",36)(1,"p",7),o._uU(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),o.qZA(),o._UZ(3,"input",38),o.TgZ(4,"button",25),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeVideo(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function aW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",36)(1,"p",7),o._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),o.qZA(),o._UZ(3,"input",39),o.TgZ(4,"button",25),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removePreparation(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function uW(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function cW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,uW,2,0,"div",33),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function lW(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function dW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,lW,2,0,"div",33),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function hW(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function fW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,hW,2,0,"div",33),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function pW(n,e){if(1&n&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.title," ")}}function gW(n,e){if(1&n&&(o.TgZ(0,"div",36)(1,"div",40),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o.TgZ(6,"label",41),o._uU(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(8,"input",42),o.YNc(9,cW,2,1,"div",5),o.TgZ(10,"label",43),o._uU(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(12,"input",44),o.YNc(13,dW,2,1,"div",5),o.TgZ(14,"label",15),o._uU(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(16,"p",7),o._uU(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),o.qZA(),o.TgZ(18,"select",45)(19,"option",17),o._uU(20,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(21,"option",18),o._uU(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(23,"option",19),o._uU(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(25,"option",20),o._uU(26,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(27,fW,2,1,"div",5),o.TgZ(28,"label",46),o._uU(29,"\u0411\u0440\u043e\u0439\u043a\u0430:"),o.qZA(),o.TgZ(30,"p",7),o._uU(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),o.qZA(),o._UZ(32,"input",47),o.TgZ(33,"label",48),o._uU(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.qZA(),o.TgZ(35,"p",7),o._uU(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),o._UZ(37,"br"),o._uU(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),o.qZA(),o._UZ(39,"input",49),o.TgZ(40,"label",50),o._uU(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),o.qZA(),o.TgZ(42,"p",7),o._uU(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),o.qZA(),o.TgZ(44,"select",51),o.YNc(45,pW,2,2,"option",24),o.qZA(),o.TgZ(46,"label",52),o._uU(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),o.qZA(),o.TgZ(48,"p",7),o._uU(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),o.qZA(),o._UZ(50,"input",53),o.qZA()),2&n){const t=e.index,r=o.oxw();let i,u,l;o.Q6J("formGroupName",t),o.xp6(9),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".name"))?null:i.touched),o.xp6(4),o.Q6J("ngIf",null==(u=r.baseForm.get("ingredients."+t+".amount"))?null:u.touched),o.xp6(14),o.Q6J("ngIf",null==(l=r.baseForm.get("ingredients."+t+".unit"))?null:l.touched),o.xp6(18),o.Q6J("ngForOf",r.baseRecipes)}}let mW=(()=>{class n{constructor(t,r,i,u){this.fb=r,this.baseRecipeService=i,this.allergenService=u,this.allergens=[],this.baseRecipes=[],this.currentOrderIndex=1,this.firestore=t,this.baseForm=this.fb.group({title:["",[ct.required]],base_type:["",[ct.required]],summary:[""],description:["",[ct.required]],base_yield:["",[ct.required]],unit:["",[ct.required]],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",base_recipe_portions:[0],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[ct.required]],amount:[null,[ct.required]],base:this.fb.control(null),unit:["",[ct.required]],order_index:[0],preparation_method:"",quantity:[0]})])})}ngOnInit(){this.getBaseRecipe(),this.getAllergens()}addImage(){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(t){this.baseForm.get("image_recipe").removeAt(t)}addImageToForm(t){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}addVideo(){this.baseForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.baseForm.get("video_recipe").removeAt(t)}addPreparation(){this.baseForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.baseForm.get("preparation_method").removeAt(t)}addIngredient(){this.baseForm.get("ingredients").push(this.fb.group({name:["",[ct.required]],amount:[null,[ct.required]],base:this.fb.control(null),order_index:this.currentOrderIndex,preparation_method:"",quantity:[0],unit:["",[ct.required]]})),this.currentOrderIndex++}addReferenceToSelectedAllergen(t){const r=t.target.value;this.baseForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const t=this.baseForm.get("selectedAllergen")?.value;this.baseForm.get("allergens").push(this.fb.control(t));const i=this.baseForm.get("selectedAllergenNames"),u=this.allergens.find(l=>l.id===t);u&&i?.setValue(i.value?i.value+", "+u.name:u.name)}get ingredients(){return this.baseForm.get("ingredients")}get image_recipe(){return this.baseForm.get("image_recipe")}get video_recipe(){return this.baseForm.get("video_recipe")}get preparation_method(){return this.baseForm.get("preparation_method")}onSubmit(){this.baseForm.valid&&(this.addBaseRecipe(this.baseForm.value),this.baseForm.reset())}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addBaseRecipe(t){Sb(sa(this.firestore,"BaseRecipe"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(wi),o.Y36(Ba),o.Y36(s_),o.Y36(AB))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-form"]],decls:86,vars:13,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","base_recipe_portions"],["type","number","id","base_recipe_portions","formControlName","base_recipe_portions"],["formControlName","selectedAllergen"],[3,"value",4,"ngFor","ngForOf"],["type","button",3,"click"],["class","hint",4,"ngIf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["id","ingredient_unit","formControlName","unit"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["type","text","id","ingredient_preparation_method","formControlName","preparation_method"],["for","base"],["id","base","formControlName","base"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(4,"form",3)(5,"label"),o._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o._UZ(7,"input",4),o.qZA(),o.YNc(8,Wz,2,1,"div",5),o.TgZ(9,"div")(10,"label",6),o._uU(11,"\u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(12,"p",7),o._uU(13,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),o.qZA(),o._UZ(14,"input",8),o.qZA(),o.YNc(15,Qz,2,1,"div",5),o.TgZ(16,"div")(17,"label",9),o._uU(18,"\u0420\u0435\u0437\u044e\u043c\u0435:"),o.qZA(),o.TgZ(19,"p",7),o._uU(20,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(21,"input",10),o.qZA(),o.TgZ(22,"div")(23,"label",11),o._uU(24,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(25,"textarea",12),o.qZA(),o.YNc(26,Jz,2,1,"div",5),o.TgZ(27,"div")(28,"label",13),o._uU(29,"\u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(30,"p",7),o._uU(31,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f"),o.qZA(),o._UZ(32,"input",14),o.qZA(),o.YNc(33,eW,2,1,"div",5),o.TgZ(34,"label",15),o._uU(35,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(36,"p",7),o._uU(37,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),o.qZA(),o.TgZ(38,"select",16)(39,"option",17),o._uU(40,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(41,"option",18),o._uU(42,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(43,"option",19),o._uU(44,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(45,"option",20),o._uU(46,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(47,nW,2,1,"div",5),o.TgZ(48,"div")(49,"label",21),o._uU(50,"\u041f\u043e\u0440\u0446\u0438\u0439: "),o.qZA(),o.TgZ(51,"p",7),o._uU(52,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(53,"input",22),o.qZA(),o.TgZ(54,"div")(55,"div")(56,"label"),o._uU(57,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),o.qZA(),o.TgZ(58,"p",7),o._uU(59," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0430\u043b\u0435\u0440\u0433\u0435\u043d\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0441\u0430\u0434\u044a\u0440\u0436\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 "),o.qZA(),o.TgZ(60,"select",23),o.YNc(61,rW,2,2,"option",24),o.qZA(),o.TgZ(62,"button",25),o.NdJ("click",function(){return i.addSelectedAllergen()}),o._uU(63," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u0430\u043b\u0435\u0440\u0433\u0435\u043d "),o.qZA()(),o.TgZ(64,"div"),o.YNc(65,iW,2,0,"p",26),o.TgZ(66,"div"),o._uU(67),o.qZA()(),o.TgZ(68,"app-image-upload",27),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.TgZ(69,"div",28),o.YNc(70,sW,6,1,"div",29),o.qZA(),o.TgZ(71,"div",30),o.YNc(72,oW,6,1,"div",29),o.TgZ(73,"button",25),o.NdJ("click",function(){return i.addVideo()}),o._uU(74," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),o.qZA()(),o.TgZ(75,"div",31),o.YNc(76,aW,6,1,"div",29),o.TgZ(77,"button",25),o.NdJ("click",function(){return i.addPreparation()}),o._uU(78," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),o.qZA()()(),o.TgZ(79,"div",32),o.YNc(80,gW,51,5,"div",29),o.qZA(),o._UZ(81,"br"),o.TgZ(82,"button",25),o.NdJ("click",function(){return i.addIngredient()}),o._uU(83," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),o.qZA(),o.TgZ(84,"button",25),o.NdJ("click",function(){return i.onSubmit()}),o._uU(85," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 "),o.qZA()()()()),2&r){let u,l,f,m,v,C,A;o.xp6(4),o.Q6J("formGroup",i.baseForm),o.xp6(4),o.Q6J("ngIf",null==(u=i.baseForm.get("title"))?null:u.touched),o.xp6(7),o.Q6J("ngIf",null==(l=i.baseForm.get("base_type"))?null:l.touched),o.xp6(11),o.Q6J("ngIf",null==(f=i.baseForm.get("description"))?null:f.touched),o.xp6(7),o.Q6J("ngIf",null==(m=i.baseForm.get("base_yield"))?null:m.touched),o.xp6(14),o.Q6J("ngIf",null==(v=i.baseForm.get("unit"))?null:v.touched),o.xp6(14),o.Q6J("ngForOf",i.allergens),o.xp6(4),o.Q6J("ngIf",null==(C=i.baseForm.get("selectedAllergen"))?null:C.touched),o.xp6(2),o.Oqu(null==(A=i.baseForm.get("selectedAllergenNames"))?null:A.value),o.xp6(3),o.Q6J("ngForOf",i.image_recipe.controls),o.xp6(2),o.Q6J("ngForOf",i.video_recipe.controls),o.xp6(4),o.Q6J("ngForOf",i.preparation_method.controls),o.xp6(4),o.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[Ai,dr,lo,Us,fo,fi,Go,zo,ka,co,Ls,ho,tf,uc,Mb]})}return n})();function _W(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"div",14),o._uU(8),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Oqu(null==t.base?null:t.base.summary)}}function yW(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"img",17),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",t.image_recipe,o.LSH)}}function vW(n,e){if(1&n&&(o.TgZ(0,"ul",15),o.YNc(1,yW,2,1,"li",16),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==t.base?null:t.base.image_recipe)}}function EW(n,e){if(1&n&&(o.TgZ(0,"div",18)(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"p",19),o._uU(8),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Oqu(null==t.base?null:t.base.description)}}function IW(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const wW=function(n){return["/base",n]};function TW(n,e){if(1&n&&(o.TgZ(0,"span",8)(1,"a",24),o._uU(2," \xa0\xa0"),o._UZ(3,"i",25),o._uU(4," \xa0\xa0"),o._UZ(5,"i",26),o._uU(6," \xa0\xa0"),o._UZ(7,"i",27),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,wW,t.base))}}function CW(n,e){if(1&n&&(o.TgZ(0,"span",7)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function bW(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,IW,2,1,"span",3),o.YNc(3,TW,8,3,"span",22),o._UZ(4,"br"),o.YNc(5,CW,3,1,"span",23),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.lnq(" ",t.name," - ",t.amount," ",t.unit," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(2),o.Q6J("ngIf",t.preparation_method)}}function AW(n,e){if(1&n&&(o.TgZ(0,"ul",21),o.YNc(1,bW,6,6,"li",3),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==t.base?null:t.base.ingredients)}}function DW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.YNc(7,AW,2,1,"ul",20),o.qZA()),2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngForOf",null==t.base?null:t.base.ingredients)}}function SW(n,e){if(1&n&&(o.TgZ(0,"ul",29)(1,"li"),o._uU(2),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.preparation_method)}}function xW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.YNc(7,SW,3,1,"ul",28),o.qZA()),2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngForOf",null==t.base?null:t.base.preparation_method)}}function MW(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",7),o._uU(3,"\u041f\u043e\u0440\u0446\u0438\u0439"),o.qZA()(),o.TgZ(4,"td")(5,"span",8),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.base?null:t.base.base_recipe_portions,"\xa0\u0431\u0440. ")}}function NW(n,e){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij("\xa0",null==t.base?null:t.base.unit,"")}}function RW(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",7),o._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),o.qZA()(),o.TgZ(4,"td")(5,"span",8),o._uU(6),o.YNc(7,NW,2,1,"span",22),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.base?null:t.base.base_yield),o.xp6(1),o.Q6J("ngIf",null==t.base?null:t.base.unit)}}function PW(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",7),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td")(5,"span",8),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.base?null:t.base.selectedAllergenNames)}}function OW(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"iframe",31),o.ALo(2,"safeUrl"),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",o.lcZ(2,1,t.video_recipe),o.uOi)}}function kW(n,e){if(1&n&&(o.TgZ(0,"div",30)(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"ul"),o.YNc(8,OW,3,3,"li",16),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Q6J("ngForOf",null==t.base?null:t.base.video_recipe)}}function FW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.navigateToEdit())}),o._uU(1,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439\u0442\u0435"),o.qZA()}}let LW=(()=>{class n{constructor(t,r,i,u){var l=this;this.route=t,this.router=r,this.baseRecipeService=i,this.authService=u,this.base=null,this.baseId="",this.route.paramMap.subscribe(function(){var f=(0,R.Z)(function*(m){const v=m.get("id");if(l.baseId=v,v)try{l.base=yield l.baseRecipeService.getBaseById(v)}catch(C){console.error("An error occurred while retrieving the recipe:",C)}else console.error("Recipe ID not provided.")});return function(m){return f.apply(this,arguments)}}()),this.authService.userData$.subscribe(f=>{this.userData=f})}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36(qn),o.Y36(s_),o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-recipe"]],decls:27,vars:12,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title-black"],[4,"ngIf"],["class","recipe-image",4,"ngIf"],["class","recipe-description",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["class","recipe-videos",4,"ngIf"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],[3,"click",4,"ngIf"],[1,"divider"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-description"],[1,"recipe-description-text"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],["class","value",4,"ngIf"],["class","key",4,"ngIf"],[3,"routerLink"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"click"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,_W,9,1,"div",3),o.YNc(5,vW,2,1,"ul",4),o.YNc(6,EW,9,1,"div",5),o.YNc(7,DW,8,1,"div",3),o.YNc(8,xW,8,1,"div",3),o.TgZ(9,"table",6)(10,"tr")(11,"td")(12,"span",7),o._uU(13,"\u0422\u0438\u043f"),o.qZA()(),o.TgZ(14,"td")(15,"span",8),o._uU(16),o.qZA()()(),o.YNc(17,MW,7,1,"tr",3),o.YNc(18,RW,8,2,"tr",3),o.YNc(19,PW,7,1,"tr",3),o.qZA(),o.YNc(20,kW,9,1,"div",9),o._UZ(21,"br"),o.TgZ(22,"a",10),o._UZ(23,"i",11),o._uU(24,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA(),o.YNc(25,FW,2,0,"button",12),o.qZA(),o._UZ(26,"br"),o.qZA()),2&r&&(o.xp6(3),o.Oqu(null==i.base?null:i.base.title),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.summary),o.xp6(1),o.Q6J("ngIf",(null==i.base?null:i.base.image_recipe)&&(null==i.base||null==i.base.image_recipe?null:i.base.image_recipe.length)>0),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.description),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.ingredients),o.xp6(1),o.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),o.xp6(8),o.Oqu(null==i.base?null:i.base.base_type),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.base_recipe_portions),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.base_yield),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.selectedAllergenNames),o.xp6(1),o.Q6J("ngIf",(null==i.base?null:i.base.video_recipe)&&(null==i.base||null==i.base.video_recipe?null:i.base.video_recipe.length)>0),o.xp6(5),o.Q6J("ngIf",i.userData&&i.userData.isAdmin))},dependencies:[Ai,dr,hi,bB],styles:[".recipe-container[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return n})();function UW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"a",5)(2,"div",6)(3,"h3"),o._uU(4),o.qZA()()()()),2&n){const t=e.$implicit,r=o.oxw();o.xp6(1),o.Q6J("routerLink",r.getBaseRecipeLink(t)),o.xp6(3),o.Oqu(t.title)}}let VW=(()=>{class n{constructor(t,r){this.baseRecipeService=t,this.authService=r,this.baseRecipes=[],this.authService.userData$.subscribe(i=>{this.userData=i})}ngOnInit(){this.getBaseRecipes()}getBaseRecipes(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t.sort((r,i)=>r.title.localeCompare(i.title))},error:t=>{console.error("Error fetching categories:",t)}})}getBaseRecipeLink(t){return this.userData?.isCook?["/base",t.id]:["/base-waiters",t.id]}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(s_),o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-list"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"card"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0411\u0430\u0437\u043e\u0432\u0438 \u0420\u0435\u0446\u0435\u043f\u0442\u0438"),o.qZA(),o.TgZ(4,"div",3),o.YNc(5,UW,5,2,"div",4),o.qZA()()()),2&r&&(o.xp6(5),o.Q6J("ngForOf",i.baseRecipes))},dependencies:[Ai,hi],styles:['.recipe-list[_ngcontent-%COMP%]{width:1200px;margin:0 auto;padding:0 50px 20px;display:grid;grid-template-columns:repeat(2,1fr);column-gap:20px}.card[_ngcontent-%COMP%]{border-radius:5px;margin:10px 0;text-align:center;padding:20px;transition:transform .2s;position:relative;background:var(--mainColor);color:var(--mainWhiteColor);display:flex;align-items:center;justify-content:center;cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:scale(.96)}.card[_ngcontent-%COMP%]:before, .card[_ngcontent-%COMP%]:after{position:absolute;content:"";width:20%;height:20%;display:flex;align-items:center;justify-content:center;font-weight:700;background-color:var(--secondColor);transition:all .5s}.card[_ngcontent-%COMP%]:before{top:0;right:0;border-radius:0 15px 0 100%}.card[_ngcontent-%COMP%]:after{bottom:0;left:0;border-radius:0 100% 0 15px}.card[_ngcontent-%COMP%]:hover:before, .card[_ngcontent-%COMP%]:hover:after{width:100%;height:100%;border-radius:5px;transition:all .5s}.card[_ngcontent-%COMP%]:hover:after{content:"\\41f\\43e\\43a\\430\\436\\438"}@media (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);width:100%}}']})}return n})();function BW(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function ZW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,BW,2,0,"div",37),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseFormEdit.get("title"))||null==r.errors?null:r.errors.required)}}function jW(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),o.qZA())}function qW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,jW,2,0,"div",37),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseFormEdit.get("base_type"))||null==r.errors?null:r.errors.required)}}function $W(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),o.qZA())}function HW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,$W,2,0,"div",37),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseFormEdit.get("description"))||null==r.errors?null:r.errors.required)}}function GW(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),o.qZA())}function zW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,GW,2,0,"div",37),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseFormEdit.get("base_yield"))||null==r.errors?null:r.errors.required)}}function WW(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function KW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,WW,2,0,"div",37),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseFormEdit.get("unit"))||null==r.errors?null:r.errors.required)}}function QW(n,e){if(1&n&&(o.TgZ(0,"div",40),o._UZ(1,"input",41),o.qZA()),2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("id","allergens"+t)}}function YW(n,e){if(1&n&&(o.TgZ(0,"div",39)(1,"p",8),o._uU(2,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438:"),o.qZA(),o.YNc(3,QW,2,2,"div",30),o.qZA()),2&n){const t=o.oxw();o.xp6(3),o.Q6J("ngForOf",t.added_allergens.controls)}}function JW(n,e){if(1&n&&(o.TgZ(0,"option",42),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function XW(n,e){1&n&&(o.TgZ(0,"p",8),o._uU(1," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438: "),o.qZA())}function eK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",40)(1,"p",8),o._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o.TgZ(3,"label",43),o._uU(4,"\u0421\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(5,"input",44),o.TgZ(6,"button",26),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeImage(u))}),o._uU(7," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}if(2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(3),o.Q6J("for","image_recipe"+t),o.xp6(2),o.Q6J("id","image_recipe"+t)}}function tK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",40)(1,"label",43),o._uU(2,"\u0412\u0438\u0434\u0435\u043e"),o.qZA(),o._UZ(3,"input",45),o.TgZ(4,"button",26),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeVideo(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),o.qZA()()}if(2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("for","video_recipe"+t),o.xp6(2),o.Q6J("id","video_recipe"+t)}}function nK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",40)(1,"label",43),o._uU(2,"\u041c\u0435\u0442\u043e\u0434"),o.qZA(),o._UZ(3,"input",47),o.TgZ(4,"button",26),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw(2);return o.KtG(l.removePreparation(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),o.qZA()()}if(2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("for","method"+t),o.xp6(2),o.Q6J("id","method"+t)}}function rK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",46)(1,"p",8),o._uU(2,"\u041c\u0435\u0442\u043e\u0434\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438:"),o.qZA(),o.YNc(3,nK,6,3,"div",30),o.TgZ(4,"button",26),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.addPreparation())}),o._uU(5," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(3),o.Q6J("ngForOf",t.preparation_method.controls)}}function iK(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function sK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,iK,2,0,"div",37),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function oK(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function aK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,oK,2,0,"div",37),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function uK(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function cK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,uK,2,0,"div",37),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function lK(n,e){if(1&n&&(o.TgZ(0,"option",42),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.title," ")}}function dK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",40)(1,"label",43),o._uU(2,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(3,"input",48),o.YNc(4,sK,2,1,"div",6),o.TgZ(5,"label",43),o._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(7,"input",49),o.YNc(8,aK,2,1,"div",6),o.TgZ(9,"label",43),o._uU(10,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(11,"p",8),o._uU(12,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),o.qZA(),o.TgZ(13,"select",50)(14,"option",18),o._uU(15,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(16,"option",19),o._uU(17,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(18,"option",20),o._uU(19,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(20,"option",21),o._uU(21,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(22,cK,2,1,"div",6),o.TgZ(23,"label",43),o._uU(24,"\u0411\u0440\u043e\u0439\u043a\u0430:"),o.qZA(),o.TgZ(25,"p",8),o._uU(26," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),o.qZA(),o._UZ(27,"input",51),o.TgZ(28,"label",43),o._uU(29,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.qZA(),o.TgZ(30,"p",8),o._uU(31," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),o._UZ(32,"br"),o._uU(33," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),o.qZA(),o._UZ(34,"input",47),o.TgZ(35,"label",43),o._uU(36,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),o.qZA(),o.TgZ(37,"p",8),o._uU(38," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),o.qZA(),o.TgZ(39,"select",52),o.YNc(40,lK,2,2,"option",25),o.qZA(),o.TgZ(41,"label",43),o._uU(42,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),o.qZA(),o.TgZ(43,"p",8),o._uU(44,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),o.qZA(),o._UZ(45,"input",53),o.TgZ(46,"button",26),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeIngredient(u))}),o._uU(47," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430 "),o.qZA()()}if(2&n){const t=e.index,r=o.oxw();let i,u,l;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("for","name"+t),o.xp6(2),o.Q6J("id","name"+t),o.xp6(1),o.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".name"))?null:i.touched),o.xp6(1),o.Q6J("for","amount"+t),o.xp6(2),o.Q6J("id","amount"+t),o.xp6(1),o.Q6J("ngIf",null==(u=r.baseFormEdit.get("ingredients."+t+".amount"))?null:u.touched),o.xp6(1),o.Q6J("for","unit"+t),o.xp6(4),o.Q6J("id","unit"+t),o.xp6(9),o.Q6J("ngIf",null==(l=r.baseFormEdit.get("ingredients."+t+".unit"))?null:l.touched),o.xp6(1),o.Q6J("for","quantity"+t),o.xp6(4),o.Q6J("id","quantity"+t),o.xp6(1),o.Q6J("for","preparation_method"+t),o.xp6(6),o.Q6J("id","preparation_method"+t),o.xp6(1),o.Q6J("for","base"+t),o.xp6(4),o.Q6J("id","base"+t),o.xp6(1),o.Q6J("ngForOf",r.baseRecipes),o.xp6(1),o.Q6J("for","order_index"+t),o.xp6(4),o.Q6J("id","order_index"+t)}}let hK=(()=>{class n{constructor(t,r,i,u,l,f){this.route=t,this.router=r,this.fb=i,this.baseRecipeService=u,this.allergenService=l,this.base=null,this.baseId="",this.baseRecipes=[],this.allergens=[],this.firestore=f}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}ngOnInit(){var t=this;return(0,R.Z)(function*(){t.initializeForm(),yield t.loadData(),t.getBaseRecipe(),t.getAllergens()})()}initializeForm(){this.baseFormEdit=this.fb.group({title:["",[ct.required]],base_type:["",[ct.required]],description:["",[ct.required]],base_yield:["",[ct.required]],unit:["",[ct.required]],summary:[""],selectedAllergen:null,selectedAllergenNames:"",base_recipe_portions:[0],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var t=this;return(0,R.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.get("id");if(t.baseId=u,u)try{t.base=yield t.baseRecipeService.getBaseById(u),t.patchFormWithBaseData()}catch(l){throw console.error("An error occurred while retrieving the recipe:",l),l}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithBaseData(){if(this.base&&this.baseFormEdit){const t=this.baseFormEdit.get("ingredients"),r=this.baseFormEdit.get("image_recipe"),i=this.baseFormEdit.get("video_recipe"),u=this.baseFormEdit.get("preparation_method"),l=this.baseFormEdit.get("allergens");t.clear(),r.clear(),i.clear(),u.clear(),l.clear(),this.base.ingredients.forEach(f=>{t.push(this.fb.group({name:[f.name,[ct.required]],amount:[f.amount,[ct.required]],base:[f.base],unit:[f.unit,[ct.required]],order_index:[f.order_index],preparation_method:[f.preparation_method],quantity:[f.quantity]}))}),this.base.image_recipe&&this.base.image_recipe.length>0&&this.base.image_recipe.forEach(f=>{r.push(this.fb.group({image_recipe:[f.image_recipe]}))}),this.base.video_recipe&&this.base.video_recipe.length>0&&this.base.video_recipe.forEach(f=>{i.push(this.fb.group({video_recipe:[f.video_recipe]}))}),this.base.preparation_method&&this.base.preparation_method.length>0&&this.base.preparation_method.forEach(f=>{u.push(this.fb.group({preparation_method:[f.preparation_method]}))}),this.base.allergens&&this.base.allergens.length>0&&this.base.allergens.forEach(f=>{l.push(this.fb.group({allergen:[f]}))}),this.baseFormEdit.patchValue({title:this.base.title,base_type:this.base.base_type,summary:this.base.summary,description:this.base.description,base_yield:this.base.base_yield,unit:this.base.unit,selectedAllergen:this.base.selectedAllergen,selectedAllergenNames:this.base.selectedAllergenNames,base_recipe_portions:this.base.base_recipe_portions})}}addIngredient(){this.baseFormEdit.get("ingredients").push(this.fb.group({name:["",[ct.required]],amount:["",[ct.required]],base:this.fb.control(""),unit:["",[ct.required]],order_index:[0],preparation_method:"",quantity:[0]}))}removeIngredient(t){this.baseFormEdit.get("ingredients").removeAt(t)}get ingredients(){return this.baseFormEdit.get("ingredients")}get image_recipe(){return this.baseFormEdit.get("image_recipe")}get video_recipe(){return this.baseFormEdit.get("video_recipe")}get preparation_method(){return this.baseFormEdit.get("preparation_method")}get added_allergens(){return this.baseFormEdit.get("allergens")}onSubmit(){this.baseFormEdit.valid&&(this.addBaseRecipe(this.baseFormEdit.value),this.baseFormEdit.reset())}addPreparation(){this.baseFormEdit.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.baseFormEdit.get("preparation_method").removeAt(t)}addVideo(){this.baseFormEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.baseFormEdit.get("video_recipe").removeAt(t)}removeImage(t){this.baseFormEdit.get("image_recipe").removeAt(t)}addImageToForm(t){this.baseFormEdit.get("image_recipe").push(this.fb.group({image_recipe:t}))}addReferenceToSelectedAllergen(t){const r=t.target.value;this.baseFormEdit.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const t=this.baseFormEdit.get("selectedAllergen")?.value,r=this.baseFormEdit.get("allergens"),i=this.allergens.find(u=>u.id===t);if(i){r.push(this.fb.group({allergenId:t,allergenName:i.name}));const u=this.baseFormEdit.get("selectedAllergenNames");u?.setValue(u.value?u.value+", "+i.name:i.name)}}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addBaseRecipe(t){const i=au(this.firestore,"BaseRecipe",this.baseId);Vq(i,t),this.router.navigate(["/base",this.baseId])}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36(qn),o.Y36(Ba),o.Y36(s_),o.Y36(AB),o.Y36(wi))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-form-edit"]],decls:85,vars:14,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["id","summary","formControlName","summary"],["for","description"],["rows","10","id","description","formControlName","description"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["type","text","id","base_recipe_portions","formControlName","base_recipe_portions"],["formArrayName","allergens",4,"ngIf"],["formControlName","selectedAllergen"],[3,"value",4,"ngFor","ngForOf"],["type","button",3,"click"],["class","hint",4,"ngIf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method",4,"ngIf"],[1,"divider"],["formArrayName","ingredients"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["class","errors",4,"ngIf"],[1,"errors"],["formArrayName","allergens"],[3,"formGroupName"],["type","text","formControlName","allergen",3,"id"],[3,"value"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["type","text","formControlName","video_recipe",3,"id"],["formArrayName","preparation_method"],["type","text","formControlName","preparation_method",3,"id"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["type","number","formControlName","quantity",3,"id"],["formControlName","base",3,"id"],["type","number","formControlName","order_index",3,"id"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(4,"form",3)(5,"label",4),o._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o._UZ(7,"input",5),o.YNc(8,ZW,2,1,"div",6),o.TgZ(9,"label",7),o._uU(10," \u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o.TgZ(11,"p",8),o._uU(12,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),o.qZA(),o._UZ(13,"input",9),o.YNc(14,qW,2,1,"div",6),o.TgZ(15,"label",10),o._uU(16," \u0420\u0435\u0437\u044e\u043c\u0435: "),o.qZA(),o.TgZ(17,"p",8),o._uU(18,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(19,"textarea",11),o.TgZ(20,"label",12),o._uU(21," \u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o._UZ(22,"textarea",13),o.YNc(23,HW,2,1,"div",6),o.TgZ(24,"label",14),o._uU(25," \u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o.TgZ(26,"p",8),o._uU(27,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f"),o.qZA(),o._UZ(28,"input",15),o.YNc(29,zW,2,1,"div",6),o.TgZ(30,"label",16),o._uU(31," \u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o.TgZ(32,"p",8),o._uU(33,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),o.qZA(),o.TgZ(34,"select",17)(35,"option",18),o._uU(36,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(37,"option",19),o._uU(38,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(39,"option",20),o._uU(40,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(41,"option",21),o._uU(42,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(43,KW,2,1,"div",6),o.TgZ(44,"label",16),o._uU(45," \u041f\u043e\u0440\u0446\u0438\u0439: "),o.qZA(),o.TgZ(46,"p",8),o._uU(47,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(48,"input",22),o.YNc(49,YW,4,1,"div",23),o.TgZ(50,"div")(51,"label"),o._uU(52,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),o.qZA(),o.TgZ(53,"p",8),o._uU(54," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0430\u043b\u0435\u0440\u0433\u0435\u043d\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0441\u0430\u0434\u044a\u0440\u0436\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 "),o.qZA(),o.TgZ(55,"select",24),o.YNc(56,JW,2,2,"option",25),o.qZA(),o.TgZ(57,"button",26),o.NdJ("click",function(){return i.addSelectedAllergen()}),o._uU(58," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u0430\u043b\u0435\u0440\u0433\u0435\u043d "),o.qZA()(),o.TgZ(59,"div"),o.YNc(60,XW,2,0,"p",27),o.TgZ(61,"div"),o._uU(62),o.qZA()(),o.TgZ(63,"app-image-upload",28),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.TgZ(64,"div",29),o.YNc(65,eK,8,3,"div",30),o.qZA(),o.TgZ(66,"div",31),o.YNc(67,tK,6,3,"div",30),o.TgZ(68,"button",26),o.NdJ("click",function(){return i.addVideo()}),o._uU(69," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),o.qZA()(),o.YNc(70,rK,6,1,"div",32),o.TgZ(71,"div",33),o._UZ(72,"hr"),o.TgZ(73,"p"),o._uU(74,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(75,"hr"),o.qZA(),o.TgZ(76,"div",34),o.YNc(77,dK,48,19,"div",30),o.qZA(),o.TgZ(78,"button",26),o.NdJ("click",function(){return i.addIngredient()}),o._uU(79," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),o.qZA(),o.TgZ(80,"button",26),o.NdJ("click",function(){return i.onSubmit()}),o._uU(81,"\u0417\u0430\u043f\u0430\u0437\u0435\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435"),o.qZA(),o.TgZ(82,"a",35),o._UZ(83,"i",36),o._uU(84,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA()()()()),2&r){let u,l,f,m,v,C,A;o.xp6(4),o.Q6J("formGroup",i.baseFormEdit),o.xp6(4),o.Q6J("ngIf",null==(u=i.baseFormEdit.get("title"))?null:u.touched),o.xp6(6),o.Q6J("ngIf",null==(l=i.baseFormEdit.get("base_type"))?null:l.touched),o.xp6(9),o.Q6J("ngIf",null==(f=i.baseFormEdit.get("description"))?null:f.touched),o.xp6(6),o.Q6J("ngIf",null==(m=i.baseFormEdit.get("base_yield"))?null:m.touched),o.xp6(14),o.Q6J("ngIf",null==(v=i.baseFormEdit.get("unit"))?null:v.touched),o.xp6(6),o.Q6J("ngIf",(null==i.base?null:i.base.allergens)&&(null==i.base||null==i.base.allergens?null:i.base.allergens.length)>0),o.xp6(7),o.Q6J("ngForOf",i.allergens),o.xp6(4),o.Q6J("ngIf",null==(C=i.baseFormEdit.get("selectedAllergen"))?null:C.touched),o.xp6(2),o.Oqu(null==(A=i.baseFormEdit.get("selectedAllergenNames"))?null:A.value),o.xp6(3),o.Q6J("ngForOf",i.image_recipe.controls),o.xp6(2),o.Q6J("ngForOf",i.video_recipe.controls),o.xp6(3),o.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),o.xp6(7),o.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[Ai,dr,lo,Us,fo,fi,Go,zo,ka,co,Ls,ho,tf,uc,Mb]})}return n})();function fK(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u0418\u043c\u0435\u0439\u043b\u044a\u0442 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u0435\u043d! "),o.qZA())}function pK(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b! "),o.qZA())}function gK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,fK,2,0,"div",15),o.YNc(2,pK,2,0,"div",15),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signInForm.get("email"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signInForm.get("email"))||null==i.errors?null:i.errors.email)}}function mK(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430! "),o.qZA())}function _K(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430! "),o.qZA())}function yK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,mK,2,0,"div",15),o.YNc(2,_K,2,0,"div",15),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signInForm.get("password"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function vK(n,e){if(1&n&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.loginError)}}let EK=(()=>{class n{constructor(t,r){this.authService=t,this.fb=r,this.loginError=null,this.signInForm=this.fb.group({email:["",[ct.required,ct.email]],password:["",[ct.required,ct.minLength(6)]]})}submitSignInForm(){var t=this;return(0,R.Z)(function*(){if(t.signInForm.valid){const{email:r,password:i}=t.signInForm.value;try{yield t.authService.loginUser(r,i)}catch(u){console.log(u)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Zd),o.Y36(Ba))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-in"]],decls:26,vars:4,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[3,"formGroup","ngSubmit"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit"],["href","#","routerLink","/sign-up"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0412\u0445\u043e\u0434"),o.qZA(),o.TgZ(4,"form",3),o.NdJ("ngSubmit",function(){return i.submitSignInForm()}),o.TgZ(5,"div",4)(6,"label",5),o._uU(7,"\u0418\u043c\u0435\u0439\u043b"),o.qZA(),o._UZ(8,"input",6),o.YNc(9,gK,3,2,"div",7),o.qZA(),o.TgZ(10,"div",4)(11,"label",8),o._uU(12,"\u041f\u0430\u0440\u043e\u043b\u0430"),o.qZA(),o._UZ(13,"input",9),o.YNc(14,yK,3,2,"div",7),o.qZA(),o.TgZ(15,"div",4)(16,"button",10),o._uU(17,"\u0412\u043b\u0435\u0437\u0442\u0435"),o.qZA()(),o.YNc(18,vK,2,1,"div",7),o.TgZ(19,"div")(20,"a",11)(21,"div",12),o._uU(22,"\u0412\u0441\u0435 \u043e\u0449\u0435 \u043d\u044f\u043c\u0430\u0442\u0435 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f?"),o.qZA()(),o.TgZ(23,"a",13)(24,"div",14),o._uU(25,"\u0417\u0430\u0431\u0440\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430?"),o.qZA()()()()()()),2&r){let u,l;o.xp6(4),o.Q6J("formGroup",i.signInForm),o.xp6(5),o.Q6J("ngIf",(null==(u=i.signInForm.get("email"))?null:u.invalid)&&(null==(u=i.signInForm.get("email"))?null:u.touched)),o.xp6(5),o.Q6J("ngIf",(null==(l=i.signInForm.get("password"))?null:l.invalid)&&(null==(l=i.signInForm.get("password"))?null:l.touched)),o.xp6(4),o.Q6J("ngIf",i.loginError)}},dependencies:[dr,lo,fi,ka,co,Ls,ho,hi]})}return n})();function IK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u0418\u043c\u0435\u0439\u043b\u044a\u0442 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u0435\u043d!"),o.qZA())}function wK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041c\u043e\u043b\u044f \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441!"),o.qZA())}function TK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,IK,2,0,"div",26),o.YNc(2,wK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("email"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signUpForm.get("email"))||null==i.errors?null:i.errors.email)}}function CK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430!"),o.qZA())}function bK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430!"),o.qZA())}function AK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,CK,2,0,"div",26),o.YNc(2,bK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("password"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signUpForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function DK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430!"),o.qZA())}function SK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430!"),o.qZA())}function xK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,DK,2,0,"div",26),o.YNc(2,SK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signUpForm.get("repeatPassword"))||null==i.errors?null:i.errors.minlength)}}function MK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u0418\u043c\u0435\u0442\u043e \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e!"),o.qZA())}function NK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,MK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("firstName"))||null==r.errors?null:r.errors.required)}}function RK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430!"),o.qZA())}function PK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,RK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("lastName"))||null==r.errors?null:r.errors.required)}}function OK(n,e){1&n&&(o.TgZ(0,"div",27),o._uU(1,"\u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0432 \u043a\u043e\u0439 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442 \u0440\u0430\u0431\u043e\u0442\u0438\u0442\u0435!"),o.qZA())}function kK(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,OK,2,0,"div",26),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.signUpForm.get("fromRestaurant"))||null==r.errors?null:r.errors.required)}}let FK=(()=>{class n{constructor(t,r,i){this.authService=t,this.fb=r,this.router=i,this.signUpForm=this.fb.group({email:["",[ct.required,ct.email]],password:["",[ct.required,ct.minLength(6)]],repeatPassword:["",ct.required],firstName:["",ct.required],lastName:["",ct.required],fromRestaurant:["",ct.required],isActive:[!0,ct.required],isAdmin:[!1,ct.required],isCook:[!0,ct.required]})}submitSignUpForm(){var t=this;return(0,R.Z)(function*(){if(t.signUpForm.valid){const{email:r,password:i,repeatPassword:u,...l}=t.signUpForm.value;if(i!==u)return void alert("Password do not match!");try{yield t.authService.registerUser(r,i,l)}catch(f){alert(f)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Zd),o.Y36(Ba),o.Y36(qn))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-up"]],decls:46,vars:7,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],[1,"form-group"],["for","fromRestaurant"],["id","fromRestaurant","name","fromRestaurant","formControlName","fromRestaurant"],["value","Romance-1"],["value","Romance-2"],["value","Romance-3"],["value","Romance-5"],["type","checkbox","formControlName","isCook"],["type","submit"],["href","#","routerLink","/sign-in"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.qZA(),o.TgZ(4,"form",3),o.NdJ("ngSubmit",function(){return i.submitSignUpForm()}),o.TgZ(5,"label",4),o._uU(6,"\u0418\u043c\u0435\u0439\u043b:"),o.qZA(),o._UZ(7,"input",5),o.YNc(8,TK,3,2,"div",6),o.TgZ(9,"label",7),o._uU(10,"\u041f\u0430\u0440\u043e\u043b\u0430:"),o.qZA(),o._UZ(11,"input",8),o.YNc(12,AK,3,2,"div",6),o.TgZ(13,"label",9),o._uU(14,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438 \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430:"),o.qZA(),o._UZ(15,"input",10),o.YNc(16,xK,3,2,"div",6),o.TgZ(17,"label",11),o._uU(18,"\u0418\u043c\u0435:"),o.qZA(),o._UZ(19,"input",12),o.YNc(20,NK,2,1,"div",6),o.TgZ(21,"label",13),o._uU(22,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),o.qZA(),o._UZ(23,"input",14),o.YNc(24,PK,2,1,"div",6),o.TgZ(25,"div",15)(26,"label",16),o._uU(27,"\u041e\u0442 \u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442:"),o.qZA(),o.TgZ(28,"select",17)(29,"option",18),o._uU(30,"Romance 1"),o.qZA(),o.TgZ(31,"option",19),o._uU(32,"Romance 2"),o.qZA(),o.TgZ(33,"option",20),o._uU(34,"Romance 3"),o.qZA(),o.TgZ(35,"option",21),o._uU(36,"Romance 5"),o.qZA()()(),o.YNc(37,kK,2,1,"div",6),o.TgZ(38,"label"),o._uU(39," \u0413\u043e\u0442\u0432\u0430\u0447 \u043b\u0438 \u0441\u0438? "),o._UZ(40,"input",22),o.qZA(),o.TgZ(41,"button",23),o._uU(42,"\u0418\u0437\u043f\u0440\u0430\u0442\u0438"),o.qZA(),o.TgZ(43,"a",24)(44,"div",25),o._uU(45,"\u0412\u0435\u0447\u0435 \u0438\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f?"),o.qZA()()()()()),2&r){let u,l,f,m,v,C;o.xp6(4),o.Q6J("formGroup",i.signUpForm),o.xp6(4),o.Q6J("ngIf",(null==(u=i.signUpForm.get("email"))?null:u.invalid)&&(null==(u=i.signUpForm.get("email"))?null:u.touched)),o.xp6(4),o.Q6J("ngIf",(null==(l=i.signUpForm.get("password"))?null:l.invalid)&&(null==(l=i.signUpForm.get("password"))?null:l.touched)),o.xp6(4),o.Q6J("ngIf",(null==(f=i.signUpForm.get("repeatPassword"))?null:f.invalid)&&(null==(f=i.signUpForm.get("repeatPassword"))?null:f.touched)),o.xp6(4),o.Q6J("ngIf",(null==(m=i.signUpForm.get("firstName"))?null:m.invalid)&&(null==(m=i.signUpForm.get("firstName"))?null:m.touched)),o.xp6(4),o.Q6J("ngIf",(null==(v=i.signUpForm.get("lastName"))?null:v.invalid)&&(null==(v=i.signUpForm.get("lastName"))?null:v.touched)),o.xp6(13),o.Q6J("ngIf",(null==(C=i.signUpForm.get("fromRestaurant"))?null:C.invalid)&&(null==(C=i.signUpForm.get("fromRestaurant"))?null:C.touched))}},dependencies:[dr,lo,Us,fo,fi,Zg,zo,ka,co,Ls,ho,hi]})}return n})(),LK=(()=>{class n{transform(t){return new Date(parseInt(t,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=o.Yjl({name:"timestampFormat",type:n,pure:!0})}return n})();function UK(n,e){1&n&&(o.TgZ(0,"div",4)(1,"span"),o._uU(2,"\u0420\u043e\u043b\u044f:"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"\u0413\u043e\u0442\u0432\u0430\u0447"),o.qZA()())}function VK(n,e){1&n&&(o.TgZ(0,"div",4)(1,"span"),o._uU(2,"\u0420\u043e\u043b\u044f:"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"\u0421\u0435\u0440\u0432\u0438\u0442\u044c\u043e\u0440"),o.qZA()())}let BK=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.authService.userData$.subscribe(t=>{this.user=t})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:41,vars:12,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"user-details"],[1,"detail"],["class","detail",4,"ngIf"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0437\u0430 \u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f"),o.qZA(),o.TgZ(4,"div",3)(5,"div",4)(6,"span"),o._uU(7,"\u0418\u043c\u0435\u0439\u043b:"),o.qZA(),o.TgZ(8,"span"),o._uU(9),o.qZA()(),o.TgZ(10,"div",4)(11,"span"),o._uU(12,"\u0418\u043c\u0435:"),o.qZA(),o.TgZ(13,"span"),o._uU(14),o.qZA()(),o.TgZ(15,"div",4)(16,"span"),o._uU(17,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),o.qZA(),o.TgZ(18,"span"),o._uU(19),o.qZA()(),o.TgZ(20,"div",4)(21,"span"),o._uU(22,"\u0412\u0440\u0435\u043c\u0435 \u043d\u0430 \u0421\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435:"),o.qZA(),o.TgZ(23,"span"),o._uU(24),o.ALo(25,"timestampFormat"),o.qZA()(),o.TgZ(26,"div",4)(27,"span"),o._uU(28,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u043e \u0412\u043b\u0438\u0437\u0430\u043d\u0435:"),o.qZA(),o.TgZ(29,"span"),o._uU(30),o.ALo(31,"timestampFormat"),o.qZA()(),o.YNc(32,UK,5,0,"div",5),o.YNc(33,VK,5,0,"div",5),o.TgZ(34,"div",4)(35,"span"),o._uU(36,"\u041e\u0442 \u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442:"),o.qZA(),o.TgZ(37,"span"),o._uU(38),o.qZA()()(),o.TgZ(39,"button"),o._uU(40,"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f"),o.qZA()()()),2&r&&(o.xp6(9),o.Oqu(i.user.email),o.xp6(5),o.Oqu(i.user.firstName),o.xp6(5),o.Oqu(i.user.lastName),o.xp6(5),o.Oqu(o.lcZ(25,8,i.user.metadata.createdAt)),o.xp6(6),o.Oqu(o.lcZ(31,10,i.user.metadata.lastLoginAt)),o.xp6(2),o.Q6J("ngIf",i.user.isCook),o.xp6(1),o.Q6J("ngIf",!i.user.isCook),o.xp6(5),o.Oqu(i.user.fromRestaurant))},dependencies:[dr,LK],styles:[".user-details[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--borderColor);border-radius:8px;box-shadow:0 2px 4px #0000001a}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}"]})}return n})();const ZK=function(n){return["/category/",n]};function jK(n,e){if(1&n&&(o.TgZ(0,"ul",5)(1,"li",6)(2,"a",7)(3,"div",8)(4,"div",9),o._UZ(5,"img",10),o.qZA(),o.TgZ(6,"h3",11),o._uU(7),o.qZA()()()()()),2&n){const t=e.$implicit;o.xp6(2),o.Q6J("routerLink",o.VKq(3,ZK,t.id)),o.xp6(3),o.Q6J("src",t.image,o.LSH),o.xp6(2),o.Oqu(t.name)}}let qK=(()=>{class n{constructor(t){this.categoryService=t,this.categories=[]}ngOnInit(){this.getCategory()}getCategory(){this.categoryService.getCategories().subscribe({next:t=>{this.categories=t.sort((r,i)=>r.order_index-i.order_index).filter(r=>r.is_active)},error:t=>{console.error("Error fetching categories:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(wB))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-categories-list"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"categories-list"],[1,"title-white"],[1,"wrapper"],["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[1,"card-item"],[3,"routerLink"],["tabindex","0",1,"card"],[1,"card-image"],["alt","category.name",3,"src"],[1,"card-title"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"section",1)(2,"h1",2),o._uU(3,"\u041c\u0435\u043d\u044e"),o.qZA(),o.TgZ(4,"section",3),o.YNc(5,jK,8,5,"ul",4),o.qZA()()()),2&r&&(o.xp6(5),o.Q6J("ngForOf",i.categories))},dependencies:[Ai,hi],styles:[".categories-list[_ngcontent-%COMP%]{margin:0 auto 50px;max-width:1200px}.category-title[_ngcontent-%COMP%]{color:var(--mainWhiteColor);margin:30px 0;text-align:center;font-size:32px;font-family:var(--titleFont)}.wrapper[_ngcontent-%COMP%]{place-self:center;margin:0 auto 50px 0;display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.cards[_ngcontent-%COMP%]{display:grid;flex-wrap:wrap;list-style:none;margin:0;padding:0;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.card-item[_ngcontent-%COMP%]{display:flex;background-color:var(--backgroundColor)}.card[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:5px 25px 5px 50px;transition:transform .1s linear,box-shadow .2s}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}.card-title[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:90%;height:auto;color:var(--mainWhiteColor);padding:.5rem;border-radius:5px 0 0 5px;transform:rotate(-3.3deg);transform-origin:left top;overflow:hidden;z-index:1;background-color:var(--animatedTitleBackground);animation:0s 0s _ngcontent-%COMP%_fly-in 0 reverse both;font-family:var(--titleFont)}@media (min-width: 535px){.card-title[_ngcontent-%COMP%]{animation:.5s .25s fly-out 1 both}}.card[_ngcontent-%COMP%]:focus   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{animation:.5s ease-in 0s _ngcontent-%COMP%_fly-in 1 both}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 5px -5px #0003}@keyframes _ngcontent-%COMP%_fly-in{0%{top:0;right:0;font-size:1.325rem}25%{top:0;right:-200%;font-size:1.325rem}26%{font-size:2rem}to{top:2rem;right:0;font-size:2rem}}@media (max-width: 460px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:80%}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;display:flex;flex-direction:column}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px}}"]})}return n})();function $K(n,e){if(1&n&&(o.TgZ(0,"div",18),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij(" ",null==t.recipe?null:t.recipe.summary," ")}}function HK(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"img",21),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",t.image_recipe,o.LSH)}}function GK(n,e){if(1&n&&(o.TgZ(0,"ul",19),o.YNc(1,HK,2,1,"li",20),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==t.recipe?null:t.recipe.image_recipe)}}function zK(n,e){if(1&n&&(o.TgZ(0,"span",11),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij("\xa0",null==t.recipe?null:t.recipe.unit,"")}}function WK(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.YNc(7,zK,2,1,"span",22),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.serving_value," "),o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.unit)}}function KK(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function QK(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.recipe?null:t.recipe.selectedAllergenNames)}}function YK(n,e){1&n&&(o.TgZ(0,"div",23),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function JK(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const XK=function(n){return["/base-waiters",n]};function eQ(n,e){if(1&n&&(o.TgZ(0,"span",11)(1,"a",5),o._uU(2," \xa0\xa0"),o._UZ(3,"i",26),o._uU(4," \xa0\xa0"),o._UZ(5,"i",27),o._uU(6," \xa0\xa0"),o._UZ(7,"i",28),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,XK,t.base))}}function tQ(n,e){if(1&n&&(o.TgZ(0,"span",10)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function nQ(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,JK,2,1,"span",12),o.YNc(3,eQ,8,3,"span",22),o._UZ(4,"br")(5,"br"),o.YNc(6,tQ,3,1,"span",25),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.hij(" ",t.name," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(3),o.Q6J("ngIf",t.preparation_method)}}function rQ(n,e){if(1&n&&(o.TgZ(0,"ul",24),o.YNc(1,nQ,7,4,"li",12),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.ingredients)}}function iQ(n,e){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-comment-form",29),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("recipeId",t.recipeId)}}function sQ(n,e){1&n&&(o.TgZ(0,"div",23),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function oQ(n,e){if(1&n&&(o.TgZ(0,"ul")(1,"li"),o._uU(2),o.qZA(),o.TgZ(3,"li"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"date"),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.name),o.xp6(2),o.Oqu(t.text),o.xp6(2),o.hij(" ",o.xi3(7,3,t.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function aQ(n,e){if(1&n&&(o.TgZ(0,"section",30),o.YNc(1,oQ,8,6,"ul",20),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.comments)}}const uQ=function(n){return["/category",n]};let cQ=(()=>{class n{constructor(t,r,i,u){var l=this;this.route=t,this.recipeService=r,this.firestore=i,this.commentService=u,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var f=(0,R.Z)(function*(m){const v=m.get("id");if(l.recipeId=v,v)try{l.recipe=yield l.recipeService.getRecipeById(v),l.comments=yield u.getCommentsForRecipe(v),l.recipe?yield l.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(C){console.error("An error occurred while retrieving the recipe:",C)}else console.error("Recipe ID not provided.")});return function(m){return f.apply(this,arguments)}}()),u.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var t=this;return(0,R.Z)(function*(){t.recipeId&&(t.comments=yield t.commentService.getCommentsForRecipe(t.recipeId))})()}loadCategoryAndPlateData(){var t=this;return(0,R.Z)(function*(){const r=t.recipe?.food_plate,i=t.recipe?.category;if(r){const u=au(t.firestore,"Plates/"+r),l=yield Ld(u);l.exists()&&(t.plate=l.data())}if(i){const u=au(t.firestore,"Category/"+i),l=yield Ld(u);l.exists()&&(t.category=l.data())}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36(TB),o.Y36(wi),o.Y36(RO))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-recipe-waiters"]],decls:40,vars:17,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],[4,"ngIf"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[3,"click"],["href","javascript:history.back()",1,"btn"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"divider"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],[3,"recipeId"],[1,"comments"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,$K,2,1,"div",3),o.TgZ(5,"div",4)(6,"a",5),o._UZ(7,"i",6),o._uU(8),o.qZA()(),o.TgZ(9,"div",7),o.YNc(10,GK,2,1,"ul",8),o.TgZ(11,"table",9)(12,"tr")(13,"td")(14,"span",10),o._uU(15,"\u0421\u0435\u0437\u043e\u043d"),o.qZA()(),o.TgZ(16,"td")(17,"span",11),o._uU(18),o.qZA()()(),o.YNc(19,WK,8,2,"tr",12),o.YNc(20,KK,7,1,"tr",12),o.TgZ(21,"tr")(22,"td")(23,"span",10),o._uU(24,"\u0427\u0438\u043d\u0438\u044f"),o.qZA()(),o.TgZ(25,"td")(26,"span",11),o._uU(27),o.qZA()()(),o.YNc(28,QK,7,1,"tr",12),o.qZA(),o.YNc(29,YK,5,0,"div",13),o._UZ(30,"br"),o.YNc(31,rQ,2,1,"ul",14),o.TgZ(32,"button",15),o.NdJ("click",function(){return i.toggleCommentForm()}),o._uU(33,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),o.qZA(),o.TgZ(34,"a",16),o._UZ(35,"i",6),o._uU(36,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA(),o.YNc(37,iQ,2,1,"div",12),o.YNc(38,sQ,5,0,"div",13),o.YNc(39,aQ,2,1,"section",17),o.qZA()()()),2&r&&(o.xp6(3),o.Oqu(null==i.recipe?null:i.recipe.title),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.summary),o.xp6(2),o.Q6J("routerLink",o.VKq(15,uQ,null==i.recipe?null:i.recipe.category)),o.xp6(2),o.hij(" ",null==i.category?null:i.category.name," "),o.xp6(2),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),o.xp6(8),o.Oqu(null==i.recipe?null:i.recipe.season),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.serving_value),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.release_time),o.xp6(7),o.Oqu(null==i.plate?null:i.plate.name),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.selectedAllergenNames),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.ingredients),o.xp6(2),o.Q6J("ngForOf",null==i.recipe?null:i.recipe.ingredients),o.xp6(6),o.Q6J("ngIf",i.showCommentForm),o.xp6(1),o.Q6J("ngIf",i.comments.length>0),o.xp6(1),o.Q6J("ngIf",i.comments.length>0))},dependencies:[Ai,dr,hi,CB,Kc],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}"]})}return n})();function lQ(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",9),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"div",10),o._uU(8),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Oqu(null==t.base?null:t.base.summary)}}function dQ(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const hQ=function(n){return["/base-waiters",n]};function fQ(n,e){if(1&n&&(o.TgZ(0,"span",6)(1,"a",15),o._uU(2," \xa0\xa0"),o._UZ(3,"i",16),o._uU(4," \xa0\xa0"),o._UZ(5,"i",17),o._uU(6," \xa0\xa0"),o._UZ(7,"i",18),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,hQ,t.base))}}function pQ(n,e){if(1&n&&(o.TgZ(0,"span",5)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function gQ(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,dQ,2,1,"span",3),o.YNc(3,fQ,8,3,"span",13),o._UZ(4,"br"),o.YNc(5,pQ,3,1,"span",14),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.hij(" ",t.name," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(2),o.Q6J("ngIf",t.preparation_method)}}function mQ(n,e){if(1&n&&(o.TgZ(0,"ul",12),o.YNc(1,gQ,6,4,"li",3),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==t.base?null:t.base.ingredients)}}function _Q(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",9),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.YNc(7,mQ,2,1,"ul",11),o.qZA()),2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngForOf",null==t.base?null:t.base.ingredients)}}function yQ(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",5),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td")(5,"span",6),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.base?null:t.base.selectedAllergenNames)}}const vQ=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:wI},{path:"categories",component:qK},{path:"recipe-waiters/:id",component:cQ},{path:"add-category",component:zq},{path:"add-recipe",component:Ez},{path:"add-base",component:mW},{path:"base/:id",component:LW},{path:"base-waiters/:id",component:(()=>{class n{constructor(t,r,i){var u=this;this.route=t,this.router=r,this.baseRecipeService=i,this.base=null,this.baseId="",this.route.paramMap.subscribe(function(){var l=(0,R.Z)(function*(f){const m=f.get("id");if(u.baseId=m,m)try{u.base=yield u.baseRecipeService.getBaseById(m)}catch(v){console.error("An error occurred while retrieving the recipe:",v)}else console.error("Recipe ID not provided.")});return function(f){return l.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36(qn),o.Y36(s_))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-recipe-waiters"]],decls:20,vars:5,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title-black"],[4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"divider"],[1,"recipe-summary"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],["class","value",4,"ngIf"],["class","key",4,"ngIf"],[3,"routerLink"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,lQ,9,1,"div",3),o.YNc(5,_Q,8,1,"div",3),o.TgZ(6,"table",4)(7,"tr")(8,"td")(9,"span",5),o._uU(10,"\u0422\u0438\u043f"),o.qZA()(),o.TgZ(11,"td")(12,"span",6),o._uU(13),o.qZA()()(),o.YNc(14,yQ,7,1,"tr",3),o.qZA(),o._UZ(15,"br"),o.TgZ(16,"a",7),o._UZ(17,"i",8),o._uU(18,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA()(),o._UZ(19,"br"),o.qZA()),2&r&&(o.xp6(3),o.Oqu(null==i.base?null:i.base.title),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.summary),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.ingredients),o.xp6(8),o.Oqu(null==i.base?null:i.base.base_type),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.selectedAllergenNames))},dependencies:[Ai,dr,hi],styles:[".recipe-container[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return n})()},{path:"base",component:VW},{path:"category/:id",component:GG},{path:"recipe/:id",component:Gz},{path:"base-edit/:id",component:hK},{path:"sign-in",component:EK},{path:"sign-up",component:FK},{path:"dashboard",component:BK},{path:"forgot-password",component:(()=>{class n{constructor(t){this.authService=t}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","\u0418\u043c\u0435\u0439\u043b \u0410\u0434\u0440\u0435\u0441","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u0438\u043c\u0435\u0439\u043b",1,"btn",3,"click"],["href","#","routerLink","/sign-in"],[1,"btn"]],template:function(r,i){if(1&r){const u=o.EpF();o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),o._uU(3,"\u0417\u0430\u0431\u0440\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"),o.qZA(),o.TgZ(4,"p",3),o._uU(5," \u041c\u043e\u043b\u044f, \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441, \u0437\u0430 \u0434\u0430 \u0438\u0437\u043f\u0440\u0430\u0442\u0438\u043c \u0438\u043c\u0435\u0439\u043b \u0437\u0430 \u0441\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430. "),o.qZA(),o.TgZ(6,"div",4),o._UZ(7,"input",5,6),o.qZA(),o.TgZ(9,"p",7),o._uU(10,"\u0410\u043a\u043e \u043d\u0435 \u043d\u0430\u043c\u0438\u0440\u0430\u0442\u0435 \u0438\u043c\u0435\u0439\u043b\u044a\u0442 \u043c\u043e\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u0442\u0435 \u0432 \u0441\u043f\u0430\u043c \u043f\u0430\u043f\u043a\u0430\u0442\u0430!"),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"div",8)(13,"input",9),o.NdJ("click",function(){o.CHM(u);const f=o.MAs(8);return o.KtG(i.authService.forgotPassword(f.value))}),o.qZA(),o.TgZ(14,"a",10)(15,"div",11),o._uU(16,"\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043a\u044a\u043c \u0412\u0445\u043e\u0434"),o.qZA()()()()()}},dependencies:[hi],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]})}return n})()}];let EQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[jo.forRoot(vQ,{useHash:!0}),jo]})}return n})();function IQ(n,e){1&n&&(o.TgZ(0,"li")(1,"a",10),o._uU(2,"\u0411\u0430\u0437\u0438"),o.qZA()())}function wQ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",15),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.closeMenu())}),o.TgZ(1,"a",16),o._uU(2,"\u041c\u0435\u043d\u044e"),o.qZA(),o.TgZ(3,"a",17),o._uU(4,"\u0420\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(5,"a",18),o._uU(6,"\u0411\u0430\u0437\u0430"),o.qZA()()}}function TQ(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",11)(2,"button",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMenu())}),o._uU(3," \u0414\u043e\u0431\u0430\u0432\u0438"),o._UZ(4,"i",13),o.qZA(),o.YNc(5,wQ,7,0,"div",14),o.qZA(),o.BQk()}if(2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.isMenuOpen)}}function CQ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",15),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.closeMenu())}),o.TgZ(1,"a",19),o._uU(2,"\u041f\u0440\u043e\u0444\u0438\u043b"),o.qZA(),o.TgZ(3,"a",20),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.logout())}),o._uU(4,"\u0418\u0437\u0445\u043e\u0434"),o.qZA()()}}function bQ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",11)(1,"button",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMenu())}),o.TgZ(2,"span"),o._uU(3),o.qZA(),o._UZ(4,"i",13),o.qZA(),o.YNc(5,CQ,5,0,"div",14),o.qZA()}if(2&n){const t=o.oxw();o.xp6(3),o.Oqu(t.getUserDisplayName()),o.xp6(2),o.Q6J("ngIf",t.isMenuOpen)}}function AQ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",15),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.closeMenu())}),o.TgZ(1,"a",22),o._uU(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.qZA(),o.TgZ(3,"a",23),o._uU(4,"\u0412\u0445\u043e\u0434"),o.qZA()()}}function DQ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",11)(1,"button",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMenu())}),o.TgZ(2,"span"),o._UZ(3,"i",21),o.qZA(),o._UZ(4,"i",13),o.qZA(),o.YNc(5,AQ,5,0,"div",14),o.qZA()}if(2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.isMenuOpen)}}let SQ=(()=>{class n{constructor(t){this.authService=t,this.isMenuOpen=!1,this.userData=null,this.userDataSubject=new er.X(null),this.userDataSubscription=this.userDataSubject.subscribe(r=>{this.userData=r})}ngOnInit(){this.authService.userData$.subscribe({next:t=>{t?(this.userDataSubject.next(t),console.log("\u0418\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b:",t)):(this.userDataSubject.next(null),console.log("\u041d\u044f\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b."))},error:t=>{}})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.authService.logoutUser()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-header"]],decls:17,vars:4,consts:[[1,"header"],[1,"wrapper"],[1,"logo"],["routerLink","/home"],[1,"navigation"],["routerLink","/categories"],[4,"ngIf"],[1,"dropdown-menu"],["class","dropdown",4,"ngIf","ngIfElse"],["anonymousUser",""],["routerLink","/base"],[1,"dropdown"],[1,"dropBtn",3,"click"],[1,"fa","fa-caret-down"],["class","dropdown-content",3,"click",4,"ngIf"],[1,"dropdown-content",3,"click"],["href","#","routerLink","/add-category"],["href","#","routerLink","/add-recipe"],["href","#","routerLink","/add-base"],["routerLink","/dashboard"],[3,"click"],[1,"fa-regular","fa-user","fa-flip"],["routerLink","/sign-up"],["routerLink","/sign-in"]],template:function(r,i){if(1&r&&(o.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),o._uU(4,"Chefs Talks"),o.qZA()(),o.TgZ(5,"nav",4)(6,"ul")(7,"li")(8,"a",5),o._uU(9,"\u041c\u0435\u043d\u044e"),o.qZA()(),o.YNc(10,IQ,3,0,"li",6),o.qZA(),o.TgZ(11,"div",7),o.YNc(12,TQ,6,1,"ng-container",6),o.TgZ(13,"div"),o.YNc(14,bQ,6,2,"div",8),o.YNc(15,DQ,6,1,"ng-template",null,9,o.W1O),o.qZA()()()()()),2&r){const u=o.MAs(16);o.xp6(10),o.Q6J("ngIf",i.userData),o.xp6(2),o.Q6J("ngIf",i.userData&&i.userData.isAdmin),o.xp6(2),o.Q6J("ngIf",i.userData)("ngIfElse",u)}},dependencies:[dr,hi],styles:[".header[_ngcontent-%COMP%]{height:8dvh;background-color:var(--mainColor);color:var(--mainWhiteColor);padding:20px}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1440px;display:flex;justify-content:space-between;align-items:center;margin:0 auto}.logo[_ngcontent-%COMP%]{font-size:32px;font-weight:900;text-decoration:underline}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}.navigation[_ngcontent-%COMP%]{display:flex}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainWhiteColor)}.dropdown-menu[_ngcontent-%COMP%]{display:flex;gap:15px}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;z-index:2}.dropBtn[_ngcontent-%COMP%]{all:unset}.fa.fa-caret-down[_ngcontent-%COMP%]{padding-left:5px}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:-3px;background-color:var(--mainColor);min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainBlackColor);padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--backgroundColor)}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropBtn[_ngcontent-%COMP%]{color:var(--mainBlackColor)}@media (max-width: 460px){.header[_ngcontent-%COMP%]{height:unset}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1440px;display:flex;flex-direction:column}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{width:80%}.logo[_ngcontent-%COMP%]{font-size:26px;font-weight:600}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{width:80%}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{width:80%}}"]})}return n})(),xQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(r,i){1&r&&(o.TgZ(0,"footer",0)(1,"p"),o._uU(2,"\xa9 2023 Chefs Talks"),o.qZA()())},styles:[".footer[_ngcontent-%COMP%]{height:5dvh;background-color:var(--secondColor);color:var(--mainWhiteColor);text-align:center;padding:10px}"]})}return n})(),MQ=(()=>{class n{constructor(){this.title="chefs-talks"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&o._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Ll,SQ,xQ]})}return n})(),NQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[en,jo]})}return n})();class Kb{}class Qb{}class lu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof lu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new lu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof lu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===u.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class RQ{encodeKey(e){return DB(e)}encodeValue(e){return DB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const OQ=/%(\d[a-f0-9])/gi,kQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DB(n){return encodeURIComponent(n).replace(OQ,(e,t)=>kQ[t]??e)}function Yb(n){return`${n}`}class jd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new RQ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function PQ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[l,f]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],m=t.get(l)||[];m.push(f),t.set(l,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Yb):[Yb(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new jd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Yb(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Yb(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class FQ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function SB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function xB(n){return typeof Blob<"u"&&n instanceof Blob}function MB(n){return typeof FormData<"u"&&n instanceof FormData}class c1{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function LQ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new lu),this.context||(this.context=new FQ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new jd,this.urlWithParams=t}serializeBody(){return null===this.body?null:SB(this.body)||xB(this.body)||MB(this.body)||function UQ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof jd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MB(this.body)?null:xB(this.body)?this.body.type||null:SB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((A,M)=>A.set(M,e.setHeaders[M]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((A,M)=>A.set(M,e.setParams[M]),v)),new c1(t,r,u,{params:v,headers:m,context:C,reportProgress:f,responseType:i,withCredentials:l})}}var o_=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(o_||{});class PO{constructor(e,t=200,r="OK"){this.headers=e.headers||new lu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class OO extends PO{constructor(e={}){super(e),this.type=o_.ResponseHeader}clone(e={}){return new OO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class a_ extends PO{constructor(e={}){super(e),this.type=o_.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new a_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class NB extends PO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function kO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let VQ=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof c1)u=t;else{let m,v;m=i.headers instanceof lu?i.headers:new lu(i.headers),i.params&&(v=i.params instanceof jd?i.params:new jd({fromObject:i.params})),u=new c1(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,at.of)(u).pipe(ko(m=>this.handler.handle(m)));if(t instanceof c1||"events"===i.observe)return l;const f=l.pipe(jr(m=>m instanceof a_));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return f.pipe((0,gt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,gt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,gt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,gt.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new jd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,kO(i,r))}post(t,r,i={}){return this.request("POST",t,kO(i,r))}put(t,r,i={}){return this.request("PUT",t,kO(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Kb))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function OB(n,e){return e(n)}function ZQ(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const qQ=new o.OlP(""),l1=new o.OlP(""),kB=new o.OlP("");function $Q(){let n=null;return(e,t)=>{null===n&&(n=((0,o.f3M)(qQ,{optional:!0})??[]).reduceRight(ZQ,OB));const r=(0,o.f3M)(o.HDt),i=r.add();return n(e,t).pipe(Ia(()=>r.remove(i)))}}let FB=(()=>{class n extends Kb{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,o.f3M)(o.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(l1),...this.injector.get(kB,[])]));this.chain=i.reduceRight((u,l)=>function jQ(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(u,l,this.injector),OB)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ia(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Qb),o.LFG(o.lqb))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const WQ=/^\)\]\}',?\n/;let UB=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new o.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Tn.D)(r.\u0275loadImpl()):(0,at.of)(null)).pipe((0,xn.w)(()=>new Kn.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((G,X)=>l.setRequestHeader(G,X.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&l.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();l.responseType="json"!==G?G:"text"}const f=t.serializeBody();let m=null;const v=()=>{if(null!==m)return m;const G=l.statusText||"OK",X=new lu(l.getAllResponseHeaders()),Te=function KQ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return m=new OO({headers:X,status:l.status,statusText:G,url:Te}),m},C=()=>{let{headers:G,status:X,statusText:Te,url:Fe}=v(),ke=null;204!==X&&(ke=typeof l.response>"u"?l.responseText:l.response),0===X&&(X=ke?200:0);let Ke=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof ke){const _t=ke;ke=ke.replace(WQ,"");try{ke=""!==ke?JSON.parse(ke):null}catch(pt){ke=_t,Ke&&(Ke=!1,ke={error:pt,text:ke})}}Ke?(u.next(new a_({body:ke,headers:G,status:X,statusText:Te,url:Fe||void 0})),u.complete()):u.error(new NB({error:ke,headers:G,status:X,statusText:Te,url:Fe||void 0}))},A=G=>{const{url:X}=v(),Te=new NB({error:G,status:l.status||0,statusText:l.statusText||"Unknown Error",url:X||void 0});u.error(Te)};let M=!1;const O=G=>{M||(u.next(v()),M=!0);let X={type:o_.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(X.total=G.total),"text"===t.responseType&&l.responseText&&(X.partialText=l.responseText),u.next(X)},j=G=>{let X={type:o_.UploadProgress,loaded:G.loaded};G.lengthComputable&&(X.total=G.total),u.next(X)};return l.addEventListener("load",C),l.addEventListener("error",A),l.addEventListener("timeout",A),l.addEventListener("abort",A),t.reportProgress&&(l.addEventListener("progress",O),null!==f&&l.upload&&l.upload.addEventListener("progress",j)),l.send(f),u.next({type:o_.Sent}),()=>{l.removeEventListener("error",A),l.removeEventListener("abort",A),l.removeEventListener("load",C),l.removeEventListener("timeout",A),t.reportProgress&&(l.removeEventListener("progress",O),null!==f&&l.upload&&l.upload.removeEventListener("progress",j)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(xo))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const FO=new o.OlP("XSRF_ENABLED"),VB=new o.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),BB=new o.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ZB{}let JQ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye),o.LFG(o.Lbi),o.LFG(VB))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function XQ(n,e){const t=n.url.toLowerCase();if(!(0,o.f3M)(FO)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,o.f3M)(ZB).getToken(),i=(0,o.f3M)(BB);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var qd=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(qd||{});function eY(...n){const e=[VQ,UB,FB,{provide:Kb,useExisting:FB},{provide:Qb,useExisting:UB},{provide:l1,useValue:XQ,multi:!0},{provide:FO,useValue:!0},{provide:ZB,useClass:JQ}];for(const t of n)e.push(...t.\u0275providers);return(0,o.MR2)(e)}const jB=new o.OlP("LEGACY_INTERCEPTOR_FN");function tY(){return function bp(n,e){return{\u0275kind:n,\u0275providers:e}}(qd.LegacyInterceptors,[{provide:jB,useFactory:$Q},{provide:l1,useExisting:jB,multi:!0}])}let nY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[eY(tY())]})}return n})(),uY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[en,By]})}return n})(),cY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[]]}),n})();class qB{}class lY{}const Bc="*";function $B(n,e=null){return{type:2,steps:n,options:e}}function HB(n){return{type:6,styles:n,offset:null}}class d1{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class GB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==u&&this._onFinish()}),l.onDestroy(()=>{++r==u&&this._onDestroy()}),l.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function zB(n){return new o.vHH(3e3,!1)}function $d(n){switch(n.length){case 0:return new d1;case 1:return n[0];default:return new GB(n)}}function WB(n,e,t=new Map,r=new Map){const i=[],u=[];let l=-1,f=null;if(e.forEach(m=>{const v=m.get("offset"),C=v==l,A=C&&f||new Map;m.forEach((M,O)=>{let j=O,G=M;if("offset"!==O)switch(j=n.normalizePropertyName(j,i),G){case"!":G=t.get(O);break;case Bc:G=r.get(O);break;default:G=n.normalizeStyleValue(O,j,G,i)}A.set(j,G)}),C||u.push(A),f=A,l=v}),i.length)throw function PY(n){return new o.vHH(3502,!1)}();return u}function UO(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&VO(t,"start",n)));break;case"done":n.onDone(()=>r(t&&VO(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&VO(t,"destroy",n)))}}function VO(n,e,t){const u=BO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function BO(n,e,t,r,i="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!l}}function Gs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function KB(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const HY=(()=>typeof document>"u"?null:document.documentElement)();function ZO(n){const e=n.parentNode||n.host||null;return e===HY?null:e}let Ap=null,QB=!1;function YB(n,e){for(;e;){if(e===n)return!0;e=ZO(e)}return!1}function JB(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let XB=(()=>{class n{validateStyleProperty(t){return function zY(n){Ap||(Ap=function WY(){return typeof document<"u"?document.body:null}()||{},QB=!!Ap.style&&"WebkitAppearance"in Ap.style);let e=!0;return Ap.style&&!function GY(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ap.style,!e&&QB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ap.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return YB(t,r)}getParentElement(t){return ZO(t)}query(t,r,i){return JB(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,l,f=[],m){return new d1(i,u)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})(),jO=(()=>{class n{static#e=this.NOOP=new XB}return n})();const KY=1e3,qO="ng-enter",Xb="ng-leave",eA="ng-trigger",tA=".ng-trigger",t8="ng-animating",$O=".ng-animating";function Zc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:HO(parseFloat(e[1]),e[2])}function HO(n,e){return"s"===e?n*KY:n}function nA(n,e,t){return n.hasOwnProperty("duration")?n:function YY(n,e,t){let i,u=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(zB()),{duration:0,delay:0,easing:""};i=HO(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(u=HO(parseFloat(m),f[4]));const v=f[5];v&&(l=v)}else i=n;if(!t){let f=!1,m=e.length;i<0&&(e.push(function dY(){return new o.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function hY(){return new o.vHH(3101,!1)}()),f=!0),f&&e.splice(m,0,zB())}return{duration:i,delay:u,easing:l}}(n,e,t)}function h1(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function n8(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Hd(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function du(n,e,t){e.forEach((r,i)=>{const u=zO(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r})}function Dp(n,e){e.forEach((t,r)=>{const i=zO(r);n.style[i]=""})}function f1(n){return Array.isArray(n)?1==n.length?n[0]:$B(n):n}const GO=new RegExp("{{\\s*(.+?)\\s*}}","g");function i8(n){let e=[];if("string"==typeof n){let t;for(;t=GO.exec(n);)e.push(t[1]);GO.lastIndex=0}return e}function p1(n,e,t){const r=n.toString(),i=r.replace(GO,(u,l)=>{let f=e[l];return null==f&&(t.push(function pY(n){return new o.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function rA(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const eJ=/-+([a-z0-9])/g;function zO(n){return n.replace(eJ,(...e)=>e[1].toUpperCase())}function zs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gY(n){return new o.vHH(3004,!1)}()}}function s8(n,e){return window.getComputedStyle(n)[e]}const iA="*";function rJ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function iJ(n,e,t){if(":"==n[0]){const m=function sJ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function xY(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function SY(n){return new o.vHH(3015,!1)}()),e;const i=r[1],u=r[2],l=r[3];e.push(o8(i,l));"<"==u[0]&&!(i==iA&&l==iA)&&e.push(o8(l,i))}(r,t,e)):t.push(n),t}const sA=new Set(["true","1"]),oA=new Set(["false","0"]);function o8(n,e){const t=sA.has(n)||oA.has(n),r=sA.has(e)||oA.has(e);return(i,u)=>{let l=n==iA||n==i,f=e==iA||e==u;return!l&&t&&"boolean"==typeof i&&(l=i?sA.has(n):oA.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?sA.has(e):oA.has(e)),l&&f}}const oJ=new RegExp("s*:selfs*,?","g");function WO(n,e,t,r){return new aJ(n).build(e,t,r)}class aJ{constructor(e){this._driver=e}build(e,t,r){const i=new lJ(t);return this._resetContextStyleTimingState(i),zs(this,f1(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function _Y(){return new o.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const m=f,v=m.name;v.toString().split(/\s*,\s*/).forEach(C=>{m.name=C,u.push(this.visitState(m,t))}),m.name=v}else if(1==f.type){const m=this.visitTransition(f,t);r+=m.queryCount,i+=m.depCount,l.push(m)}else t.errors.push(function yY(){return new o.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(m=>{i8(m).forEach(v=>{l.hasOwnProperty(v)||u.add(v)})})}),u.size&&(rA(u.values()),t.errors.push(function vY(n,e){return new o.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=zs(this,f1(e.animation),t);return{type:1,matchers:rJ(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Sp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>zs(this,r,t)),options:Sp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(l=>{t.currentTime=r;const f=zs(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Sp(e.options)}}visitAnimate(e,t){const r=function hJ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return KO(nA(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=KO(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=nA(t,e);return KO(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:HB({});if(5==u.type)i=this.visitKeyframes(u,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=HB(v)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(l,t);m.isEmptyStep=f,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Bc?r.push(f):t.errors.push(new o.vHH(3002,!1)):r.push(n8(f));let u=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!u))for(let m of f.values())if(m.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),C=v.get(m);let A=!0;C&&(u!=i&&u>=C.startTime&&i<=C.endTime&&(t.errors.push(function IY(n,e,t,r,i){return new o.vHH(3010,!1)}()),A=!1),u=C.startTime),A&&v.set(m,{startTime:u,endTime:i}),t.options&&function XY(n,e,t){const r=e.params||{},i=i8(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function fY(n){return new o.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function wY(){return new o.vHH(3011,!1)}()),r;let u=0;const l=[];let f=!1,m=!1,v=0;const C=e.steps.map(Te=>{const Fe=this._makeStyleAst(Te,t);let ke=null!=Fe.offset?Fe.offset:function dJ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Fe.styles),Ke=0;return null!=ke&&(u++,Ke=Fe.offset=ke),m=m||Ke<0||Ke>1,f=f||Ke<v,v=Ke,l.push(Ke),Fe});m&&t.errors.push(function TY(){return new o.vHH(3012,!1)}()),f&&t.errors.push(function CY(){return new o.vHH(3200,!1)}());const A=e.steps.length;let M=0;u>0&&u<A?t.errors.push(function bY(){return new o.vHH(3202,!1)}()):0==u&&(M=1/(A-1));const O=A-1,j=t.currentTime,G=t.currentAnimateTimings,X=G.duration;return C.forEach((Te,Fe)=>{const ke=M>0?Fe==O?1:M*Fe:l[Fe],Ke=ke*X;t.currentTime=j+G.delay+Ke,G.duration=Ke,this._validateStyleAst(Te,t),Te.offset=ke,r.styles.push(Te)}),r}visitReference(e,t){return{type:8,animation:zs(this,f1(e.animation),t),options:Sp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Sp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Sp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function uJ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(oJ,"")),n=n.replace(/@\*/g,tA).replace(/@\w+/g,t=>tA+"-"+t.slice(1)).replace(/:animating/g,$O),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Gs(t.collectedStyles,t.currentQuerySelector,new Map);const f=zs(this,f1(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Sp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function AY(){return new o.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:nA(e.timings,t.errors,!0);return{type:12,animation:zs(this,f1(e.animation),t),timings:r,options:null}}}class lJ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sp(n){return n?(n=h1(n)).params&&(n.params=function cJ(n){return n?h1(n):null}(n.params)):n={},n}function KO(n,e,t){return{duration:n,delay:e,easing:t}}function QO(n,e,t,r,i,u,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:l,subTimeline:f}}class aA{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const gJ=new RegExp(":enter","g"),_J=new RegExp(":leave","g");function YO(n,e,t,r,i,u=new Map,l=new Map,f,m,v=[]){return(new yJ).buildKeyframes(n,e,t,r,i,u,l,f,m,v)}class yJ{buildKeyframes(e,t,r,i,u,l,f,m,v,C=[]){v=v||new aA;const A=new JO(e,t,v,i,u,C,[]);A.options=m;const M=m.delay?Zc(m.delay):0;A.currentTimeline.delayNextStep(M),A.currentTimeline.setStyles([l],null,A.errors,m),zs(this,r,A);const O=A.timelines.filter(j=>j.containsAnimation());if(O.length&&f.size){let j;for(let G=O.length-1;G>=0;G--){const X=O[G];if(X.element===t){j=X;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([f],null,A.errors,m)}return O.length?O.map(j=>j.buildKeyframes()):[QO(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const l="number"==typeof u?u:Zc(p1(u,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?Zc(r.duration):null,f=null!=r.delay?Zc(r.delay):null;return 0!==l&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,l,f);u=Math.max(u,v.duration+v.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),zs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=uA);const l=Zc(u.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>zs(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Zc(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),zs(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return nA(t.params?p1(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(m=>{f.forwardTime((m.offset||0)*u),f.setStyles(m.styles,m.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Zc(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uA);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let m=null;f.forEach((v,C)=>{t.currentQueryIndex=C;const A=t.createSubContext(e.options,v);u&&A.delayNextStep(u),v===t.element&&(m=A.currentTimeline),zs(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),f=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const C=t.currentTimeline;m&&C.delayNextStep(m);const A=C.currentTime;zs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const uA={};class JO{constructor(e,t,r,i,u,l,f,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new cA(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Zc(r.duration)),null!=r.delay&&(i.delay=Zc(r.delay));const u=r.params;if(u){let l=i.params;l||(l=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=p1(u[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new JO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=uA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new vJ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(gJ,"."+this._enterClassName)).replace(_J,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!u&&0==f.length&&l.push(function DY(n){return new o.vHH(3014,!1)}()),f}}class cA{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cA(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Bc),this._currentKeyframe.set(t,Bc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},l=function EJ(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,Bc)}else Hd(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,m]of l){const v=p1(m,u,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Bc),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,m)=>{const v=Hd(f,new Map,this._backFill);v.forEach((C,A)=>{"!"===C?e.add(A):C===Bc&&t.add(A)}),r||v.set("offset",m/this.duration),i.push(v)});const u=e.size?rA(e.values()):[],l=t.size?rA(t.values()):[];if(r){const f=i[0],m=new Map(f);f.set("offset",0),m.set("offset",1),i=[f,m]}return QO(this.element,i,u,l,this.duration,this.startTime,this.easing,!1)}}class vJ extends cA{constructor(e,t,r,i,u,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,f=t/l,m=Hd(e[0]);m.set("offset",0),u.push(m);const v=Hd(e[0]);v.set("offset",c8(f)),u.push(v);const C=e.length-1;for(let A=1;A<=C;A++){let M=Hd(e[A]);const O=M.get("offset");M.set("offset",c8((t+O*r)/l)),u.push(M)}r=l,t=0,i="",e=u}return QO(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function c8(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class XO{}const IJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wJ extends XO{normalizePropertyName(e,t){return zO(e)}normalizeStyleValue(e,t,r,i){let u="";const l=r.toString().trim();if(IJ.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function mY(n,e){return new o.vHH(3005,!1)}())}return l+u}}function l8(n,e,t,r,i,u,l,f,m,v,C,A,M){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:f,queriedElements:m,preStyleProps:v,postStyleProps:C,totalTime:A,errors:M}}const ek={};class d8{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function TJ(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,l,f,m,v,C){const A=[],M=this.ast.options&&this.ast.options.params||ek,j=this.buildStyles(r,f&&f.params||ek,A),G=m&&m.params||ek,X=this.buildStyles(i,G,A),Te=new Set,Fe=new Map,ke=new Map,Ke="void"===i,_t={params:CJ(G,M),delay:this.ast.options?.delay},pt=C?[]:YO(e,t,this.ast.animation,u,l,j,X,_t,v,A);let Kt=0;if(pt.forEach(Zi=>{Kt=Math.max(Zi.duration+Zi.delay,Kt)}),A.length)return l8(t,this._triggerName,r,i,Ke,j,X,[],[],Fe,ke,Kt,A);pt.forEach(Zi=>{const aa=Zi.element,x8=Gs(Fe,aa,new Set);Zi.preStyleProps.forEach(xp=>x8.add(xp));const m1=Gs(ke,aa,new Set);Zi.postStyleProps.forEach(xp=>m1.add(xp)),aa!==t&&Te.add(aa)});const wr=rA(Te.values());return l8(t,this._triggerName,r,i,Ke,j,X,pt,wr,Fe,ke,Kt)}}function CJ(n,e){const t=h1(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class bJ{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=h1(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!==l&&(i[u]=l)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((l,f)=>{l&&(l=p1(l,i,t));const m=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,m,l,t),r.set(f,l)})}),r}}class DJ{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new bJ(i.style,i.options&&i.options.params||{},r))}),h8(this.states,"true","1"),h8(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new d8(e,i,this.states))}),this.fallbackTransition=function SJ(n,e,t){return new d8(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function h8(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const xJ=new aA;class MJ{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=WO(this._driver,t,r,[]);if(r.length)throw function OY(n){return new o.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=WB(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let l;const f=new Map;if(u?(l=YO(this._driver,t,u,qO,Xb,new Map,new Map,r,xJ,i),l.forEach(C=>{const A=Gs(f,C.element,new Map);C.postStyleProps.forEach(M=>A.set(M,null))})):(i.push(function kY(){return new o.vHH(3300,!1)}()),l=[]),i.length)throw function FY(n){return new o.vHH(3504,!1)}();f.forEach((C,A)=>{C.forEach((M,O)=>{C.set(O,this._driver.computeStyle(A,O,Bc))})});const v=$d(l.map(C=>{const A=f.get(C.element);return this._buildPlayer(C,new Map,A)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function LY(n){return new o.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=BO(t,"","","");return UO(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const f8="ng-animate-queued",tk="ng-animate-disabled",kJ=[],p8={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},FJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oa="__ng_removed";class nk{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function BJ(n){return n??null}(r?e.value:e),r){const u=h1(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const g1="void",rk=new nk(g1);class LJ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Co(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function UY(n,e){return new o.vHH(3302,!1)}();if(null==r||0==r.length)throw function VY(n){return new o.vHH(3303,!1)}();if(!function ZJ(n){return"start"==n||"done"==n}(r))throw function BY(n,e){return new o.vHH(3400,!1)}();const u=Gs(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};u.push(l);const f=Gs(this._engine.statesByElement,e,new Map);return f.has(t)||(Co(e,eA),Co(e,eA+"-"+t),f.set(t,rk)),()=>{this._engine.afterFlush(()=>{const m=u.indexOf(l);m>=0&&u.splice(m,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function ZY(n){return new o.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),l=new ik(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Co(e,eA),Co(e,eA+"-"+t),this._engine.statesByElement.set(e,f=new Map));let m=f.get(t);const v=new nk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),f.set(t,v),m||(m=rk),v.value!==g1&&m.value===v.value){if(!function $J(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(m.params,v.params)){const G=[],X=u.matchStyles(m.value,m.params,G),Te=u.matchStyles(v.value,v.params,G);G.length?this._engine.reportError(G):this._engine.afterFlush(()=>{Dp(e,X),du(e,Te)})}return}const M=Gs(this._engine.playersByElement,e,[]);M.forEach(G=>{G.namespaceId==this.id&&G.triggerName==t&&G.queued&&G.destroy()});let O=u.matchTransition(m.value,v.value,e,v.params),j=!1;if(!O){if(!i)return;O=u.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:O,fromState:m,toState:v,player:l,isFallbackTransition:j}),j||(Co(e,f8),l.onStart(()=>{u_(e,f8)})),l.onDone(()=>{let G=this.players.indexOf(l);G>=0&&this.players.splice(G,1);const X=this._engine.playersByElement.get(e);if(X){let Te=X.indexOf(l);Te>=0&&X.splice(Te,1)}}),this.players.push(l),M.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,tA,!0);r.forEach(i=>{if(i[oa])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),l=new Map;if(u){const f=[];if(u.forEach((m,v)=>{if(l.set(v,m.value),this._triggers.has(v)){const C=this.trigger(e,v,g1,i);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&$d(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const l=u.name;if(i.has(l))return;i.add(l);const m=this._triggers.get(l).fallbackTransition,v=r.get(l)||rk,C=new nk(g1),A=new ik(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:v,toState:C,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[oa];(!u||u===p8)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Co(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(f=>{if(f.name==r.triggerName){const m=BO(u,r.triggerName,r.fromState.value,r.toState.value);m._data=e,UO(r.player,f.phase,m,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class UJ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new LJ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const m=i.get(f);if(m){const v=r.indexOf(m);r.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(lA(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!lA(t))return;const u=t[oa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Co(e,tk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),u_(e,tk))}removeNode(e,t,r){if(lA(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[oa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return lA(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,tA,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,$O,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $d(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[oa];if(t&&t.setForRemoval){if(e[oa]=p8,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(tk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Co(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?$d(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function jY(n){return new o.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new aA,i=[],u=new Map,l=[],f=new Map,m=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(tt=>{C.add(tt);const lt=this.driver.query(tt,".ng-animate-queued",!0);for(let It=0;It<lt.length;It++)C.add(lt[It])});const A=this.bodyNode,M=Array.from(this.statesByElement.keys()),O=_8(M,this.collectedEnterElements),j=new Map;let G=0;O.forEach((tt,lt)=>{const It=qO+G++;j.set(lt,It),tt.forEach(Xt=>Co(Xt,It))});const X=[],Te=new Set,Fe=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const lt=this.collectedLeaveElements[tt],It=lt[oa];It&&It.setForRemoval&&(X.push(lt),Te.add(lt),It.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(Xt=>Te.add(Xt)):Fe.add(lt))}const ke=new Map,Ke=_8(M,Array.from(Te));Ke.forEach((tt,lt)=>{const It=Xb+G++;ke.set(lt,It),tt.forEach(Xt=>Co(Xt,It))}),e.push(()=>{O.forEach((tt,lt)=>{const It=j.get(lt);tt.forEach(Xt=>u_(Xt,It))}),Ke.forEach((tt,lt)=>{const It=ke.get(lt);tt.forEach(Xt=>u_(Xt,It))}),X.forEach(tt=>{this.processLeaveNode(tt)})});const _t=[],pt=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(t).forEach(It=>{const Xt=It.player,Jr=It.element;if(_t.push(Xt),this.collectedEnterElements.length){const ji=Jr[oa];if(ji&&ji.setForMove){if(ji.previousTriggersValues&&ji.previousTriggersValues.has(It.triggerName)){const Mp=ji.previousTriggersValues.get(It.triggerName),bo=this.statesByElement.get(It.element);if(bo&&bo.has(It.triggerName)){const fA=bo.get(It.triggerName);fA.value=Mp,bo.set(It.triggerName,fA)}}return void Xt.destroy()}}const hu=!A||!this.driver.containsElement(A,Jr),Ws=ke.get(Jr),Gd=j.get(Jr),Gn=this._buildInstruction(It,r,Gd,Ws,hu);if(Gn.errors&&Gn.errors.length)return void pt.push(Gn);if(hu)return Xt.onStart(()=>Dp(Jr,Gn.fromStyles)),Xt.onDestroy(()=>du(Jr,Gn.toStyles)),void i.push(Xt);if(It.isFallbackTransition)return Xt.onStart(()=>Dp(Jr,Gn.fromStyles)),Xt.onDestroy(()=>du(Jr,Gn.toStyles)),void i.push(Xt);const R8=[];Gn.timelines.forEach(ji=>{ji.stretchStartingKeyframe=!0,this.disabledNodes.has(ji.element)||R8.push(ji)}),Gn.timelines=R8,r.append(Jr,Gn.timelines),l.push({instruction:Gn,player:Xt,element:Jr}),Gn.queriedElements.forEach(ji=>Gs(f,ji,[]).push(Xt)),Gn.preStyleProps.forEach((ji,Mp)=>{if(ji.size){let bo=m.get(Mp);bo||m.set(Mp,bo=new Set),ji.forEach((fA,ak)=>bo.add(ak))}}),Gn.postStyleProps.forEach((ji,Mp)=>{let bo=v.get(Mp);bo||v.set(Mp,bo=new Set),ji.forEach((fA,ak)=>bo.add(ak))})});if(pt.length){const tt=[];pt.forEach(lt=>{tt.push(function qY(n,e){return new o.vHH(3505,!1)}())}),_t.forEach(lt=>lt.destroy()),this.reportError(tt)}const Kt=new Map,wr=new Map;l.forEach(tt=>{const lt=tt.element;r.has(lt)&&(wr.set(lt,lt),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,Kt))}),i.forEach(tt=>{const lt=tt.element;this._getPreviousPlayers(lt,!1,tt.namespaceId,tt.triggerName,null).forEach(Xt=>{Gs(Kt,lt,[]).push(Xt),Xt.destroy()})});const Zi=X.filter(tt=>v8(tt,m,v)),aa=new Map;m8(aa,this.driver,Fe,v,Bc).forEach(tt=>{v8(tt,m,v)&&Zi.push(tt)});const m1=new Map;O.forEach((tt,lt)=>{m8(m1,this.driver,new Set(tt),m,"!")}),Zi.forEach(tt=>{const lt=aa.get(tt),It=m1.get(tt);aa.set(tt,new Map([...lt?.entries()??[],...It?.entries()??[]]))});const xp=[],M8=[],N8={};l.forEach(tt=>{const{element:lt,player:It,instruction:Xt}=tt;if(r.has(lt)){if(C.has(lt))return It.onDestroy(()=>du(lt,Xt.toStyles)),It.disabled=!0,It.overrideTotalTime(Xt.totalTime),void i.push(It);let Jr=N8;if(wr.size>1){let Ws=lt;const Gd=[];for(;Ws=Ws.parentNode;){const Gn=wr.get(Ws);if(Gn){Jr=Gn;break}Gd.push(Ws)}Gd.forEach(Gn=>wr.set(Gn,Jr))}const hu=this._buildAnimation(It.namespaceId,Xt,Kt,u,m1,aa);if(It.setRealPlayer(hu),Jr===N8)xp.push(It);else{const Ws=this.playersByElement.get(Jr);Ws&&Ws.length&&(It.parentPlayer=$d(Ws)),i.push(It)}}else Dp(lt,Xt.fromStyles),It.onDestroy(()=>du(lt,Xt.toStyles)),M8.push(It),C.has(lt)&&i.push(It)}),M8.forEach(tt=>{const lt=u.get(tt.element);if(lt&&lt.length){const It=$d(lt);tt.setRealPlayer(It)}}),i.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<X.length;tt++){const lt=X[tt],It=lt[oa];if(u_(lt,Xb),It&&It.hasAnimation)continue;let Xt=[];if(f.size){let hu=f.get(lt);hu&&hu.length&&Xt.push(...hu);let Ws=this.driver.query(lt,$O,!0);for(let Gd=0;Gd<Ws.length;Gd++){let Gn=f.get(Ws[Gd]);Gn&&Gn.length&&Xt.push(...Gn)}}const Jr=Xt.filter(hu=>!hu.destroyed);Jr.length?jJ(this,lt,Jr):this.processLeaveNode(lt)}return X.length=0,xp.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const lt=this.players.indexOf(tt);this.players.splice(lt,1)}),tt.play()}),xp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const m=!u||u==g1;f.forEach(v=>{v.queued||!m&&v.triggerName!=i||l.push(v)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,C=v!==u,A=Gs(r,v,[]);this._getPreviousPlayers(v,C,l,f,t.toState).forEach(O=>{const j=O.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),O.destroy(),A.push(O)})}Dp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,l){const f=t.triggerName,m=t.element,v=[],C=new Set,A=new Set,M=t.timelines.map(j=>{const G=j.element;C.add(G);const X=G[oa];if(X&&X.removedBeforeQueried)return new d1(j.duration,j.delay);const Te=G!==m,Fe=function qJ(n){const e=[];return y8(n,e),e}((r.get(G)||kJ).map(Kt=>Kt.getRealPlayer())).filter(Kt=>!!Kt.element&&Kt.element===G),ke=u.get(G),Ke=l.get(G),_t=WB(this._normalizer,j.keyframes,ke,Ke),pt=this._buildPlayer(j,_t,Fe);if(j.subTimeline&&i&&A.add(G),Te){const Kt=new ik(e,f,G);Kt.setRealPlayer(pt),v.push(Kt)}return pt});v.forEach(j=>{Gs(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function VJ(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,j.element,j))}),C.forEach(j=>Co(j,t8));const O=$d(M);return O.onDestroy(()=>{C.forEach(j=>u_(j,t8)),du(m,t.toStyles)}),A.forEach(j=>{Gs(i,j,[]).push(O)}),O}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new d1(e.duration,e.delay)}}class ik{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new d1,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>UO(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Gs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function lA(n){return n&&1===n.nodeType}function g8(n,e){const t=n.style.display;return n.style.display=e??"none",t}function m8(n,e,t,r,i){const u=[];t.forEach(m=>u.push(g8(m)));const l=[];r.forEach((m,v)=>{const C=new Map;m.forEach(A=>{const M=e.computeStyle(v,A,i);C.set(A,M),(!M||0==M.length)&&(v[oa]=FJ,l.push(v))}),n.set(v,C)});let f=0;return t.forEach(m=>g8(m,u[f++])),l}function _8(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function l(f){if(!f)return 1;let m=u.get(f);if(m)return m;const v=f.parentNode;return m=t.has(v)?v:i.has(v)?1:l(v),u.set(f,m),m}return e.forEach(f=>{const m=l(f);1!==m&&t.get(m).push(f)}),t}function Co(n,e){n.classList?.add(e)}function u_(n,e){n.classList?.remove(e)}function jJ(n,e,t){$d(t).onDone(()=>n.processLeaveNode(e))}function y8(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof GB?y8(r.players,e):e.push(r)}}function v8(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class dA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new UJ(e,t,r),this._timelineEngine=new MJ(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const m=[],C=WO(this._driver,u,m,[]);if(m.length)throw function RY(n,e){return new o.vHH(3404,!1)}();f=function AJ(n,e,t){return new DJ(n,e,t)}(i,C,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,l]=KB(r);this._timelineEngine.command(u,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[l,f]=KB(r);return this._timelineEngine.listen(l,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let GJ=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&du(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(du(this._element,this._initialStyles),this._endStyles&&(du(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dp(this._element,this._endStyles),this._endStyles=null),du(this._element,this._initialStyles),this._state=3)}}return n})();function sk(n){let e=null;return n.forEach((t,r)=>{(function zJ(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class E8{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:s8(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class WJ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return YB(e,t)}getParentElement(e){return ZO(e)}query(e,t,r){return JB(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,l=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(m.easing=u);const v=new Map,C=l.filter(O=>O instanceof E8);(function tJ(n,e){return 0===n||0===e})(r,i)&&C.forEach(O=>{O.currentSnapshot.forEach((j,G)=>v.set(G,j))});let A=function JY(n){return n.length?n[0]instanceof Map?n:n.map(e=>n8(e)):[]}(t).map(O=>Hd(O));A=function nJ(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,l)=>{r.has(l)||i.push(l),r.set(l,u)}),i.length)for(let u=1;u<e.length;u++){let l=e[u];i.forEach(f=>l.set(f,s8(n,f)))}}return e}(e,A,v);const M=function HJ(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=sk(e[0]),e.length>1&&(r=sk(e[e.length-1]))):e instanceof Map&&(t=sk(e)),t||r?new GJ(n,t,r):null}(e,A);return new E8(e,A,m,M)}}let KJ=(()=>{class n extends qB{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?$B(t):t;return I8(this._renderer,null,r,"register",[i]),new QJ(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(o.FYo),o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class QJ extends lY{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new YJ(this._id,e,t||{},this._renderer)}}class YJ{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return I8(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function I8(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const w8="@.disabled";let JJ=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(u,l)=>{const f=l?.parentNode(u);f&&l.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(u);return C||(C=new T8("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,C)),C}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const m=C=>{Array.isArray(C)?C.forEach(m):this.engine.registerTrigger(l,f,t,C.name,C)};return r.data.animation.forEach(m),new XJ(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,f]=u;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(o.FYo),o.LFG(dA),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class T8{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==w8?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class XJ extends T8{constructor(e,t,r,i,u){super(t,r,i,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==w8?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function eX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),l="";return"@"!=u.charAt(0)&&([u,l]=function tX(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let nX=(()=>{class n extends dA{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye),o.LFG(jO),o.LFG(XO),o.LFG(o.z2F))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const C8=[{provide:qB,useClass:KJ},{provide:XO,useFactory:function rX(){return new wJ}},{provide:dA,useClass:nX},{provide:o.FYo,useFactory:function iX(n,e,t){return new JJ(n,e,t)},deps:[ph,dA,o.R0b]}],ok=[{provide:jO,useFactory:()=>new WJ},{provide:o.QbO,useValue:"BrowserAnimations"},...C8],b8=[{provide:jO,useClass:XB},{provide:o.QbO,useValue:"NoopAnimations"},...C8];let sX=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?b8:ok}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:ok,imports:[_a]})}return n})(),oX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[en]})}return n})();var aX=P(3019);class uX extends ls.x{constructor(e=1/0,t=1/0,r=s4){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!i&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const l=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)f=m;f&&r.splice(0,f+1)}}}var cX=P(3020);function A8(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,cX.B)({connector:()=>new uX(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function D8(n,e){return(0,Ds.m)(e)?(0,xn.w)(()=>n,e):(0,xn.w)(()=>n)}var c_=P(6304),lX=P(120);const hX=new o.OlP("angularfire2.auth.use-emulator"),fX=new o.OlP("angularfire2.auth.settings"),pX=new o.OlP("angularfire2.auth.tenant-id"),gX=new o.OlP("angularfire2.auth.langugage-code"),mX=new o.OlP("angularfire2.auth.use-device-language"),_X=new o.OlP("angularfire.auth.persistence");let S8=(()=>{class n{constructor(t,r,i,u,l,f,m,v,C,A,M,O){const j=new ls.x,G=(0,at.of)(void 0).pipe((0,gd.Q)(l.outsideAngular),(0,xn.w)(()=>u.runOutsideAngular(()=>P.e(661).then(P.bind(P,8661)))),(0,gt.U)(()=>(0,c_.on)(t,u,r)),(0,gt.U)(X=>((n,e,t,r,i,u,l,f)=>(0,c_.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,u&&m.useDeviceLanguage(),l)for(const[v,C]of Object.entries(l))m.settings[v]=C;return f&&m.setPersistence(f),m},[t,r,i,u,l,f]))(X,u,f,v,C,A,m,M)),A8({bufferSize:1,refCount:!1}));if(Zr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,at.of)(null);else{G.pipe(oi()).subscribe();const Te=G.pipe((0,xn.w)(Ke=>Ke.getRedirectResult().then(_t=>_t,()=>null)),fT,A8({bufferSize:1,refCount:!1})),Fe=G.pipe((0,xn.w)(Ke=>new Kn.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ke.onAuthStateChanged(pt=>_t.next(pt),pt=>_t.error(pt),()=>_t.complete()))})))),ke=G.pipe((0,xn.w)(Ke=>new Kn.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ke.onIdTokenChanged(pt=>_t.next(pt),pt=>_t.error(pt),()=>_t.complete()))}))));this.authState=Te.pipe(D8(Fe),(0,Vf.R)(l.outsideAngular),(0,gd.Q)(l.insideAngular)),this.user=Te.pipe(D8(ke),(0,Vf.R)(l.outsideAngular),(0,gd.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,xn.w)(Ke=>Ke?(0,Tn.D)(Ke.getIdToken()):(0,at.of)(null))),this.idTokenResult=this.user.pipe((0,xn.w)(Ke=>Ke?(0,Tn.D)(Ke.getIdTokenResult()):(0,at.of)(null))),this.credential=(0,aX.T)(Te,j,this.authState.pipe(jr(Ke=>!Ke))).pipe((0,gt.U)(Ke=>Ke?.user?Ke:null),(0,Vf.R)(l.outsideAngular),(0,gd.Q)(l.insideAngular))}return(0,c_.pX)(this,G,u,{spy:{apply:(X,Te,Fe)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&Fe.then(ke=>j.next(ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(c_.Dh),o.LFG(c_.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Bf),o.LFG(hX,8),o.LFG(fX,8),o.LFG(pX,8),o.LFG(gX,8),o.LFG(mX,8),o.LFG(_X,8),o.LFG(F4,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vX=(()=>{class n{constructor(){lX.Z.registerVersion("angularfire",Tc.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[S8]}),n})(),EX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[en,ZD,By,jo]})}return n})(),IX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n,bootstrap:[MQ]});static#n=this.\u0275inj=o.cJS({providers:[{provide:Oe,useClass:Ve}],imports:[_a,vX,EQ,NQ,oX,uY,jo,nY,By,EX,B2(()=>mT(xb_firebaseConfig)),Fq(()=>Lq()),cY,sX]})}return n})();Yp().bootstrapModule(IX).catch(n=>console.error(n))},5619:(it,Ee,P)=>{P.d(Ee,{X:()=>L});var o=P(8645);class L extends o.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const he=super._subscribe(se);return!he.closed&&se.next(this._value),he}getValue(){const{hasError:se,thrownError:he,_value:ye}=this;if(se)throw he;return this._throwIfClosed(),ye}next(se){super.next(this._value=se)}}},5592:(it,Ee,P)=>{P.d(Ee,{y:()=>Ue});var o=P(305),L=P(7394),ie=P(4850),se=P(8407),he=P(2653),ye=P(4674),Re=P(1441);let Ue=(()=>{class re{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const Qe=new re;return Qe.source=this,Qe.operator=ue,Qe}subscribe(ue,Qe,Ve){const xe=function Z(re){return re&&re instanceof o.Lv||function B(re){return re&&(0,ye.m)(re.next)&&(0,ye.m)(re.error)&&(0,ye.m)(re.complete)}(re)&&(0,L.Nn)(re)}(ue)?ue:new o.Hp(ue,Qe,Ve);return(0,Re.x)(()=>{const{operator:Ae,source:Ye}=this;xe.add(Ae?Ae.call(xe,Ye):Ye?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Qe){ue.error(Qe)}}forEach(ue,Qe){return new(Qe=Se(Qe))((Ve,xe)=>{const Ae=new o.Hp({next:Ye=>{try{ue(Ye)}catch(we){xe(we),Ae.unsubscribe()}},error:xe,complete:Ve});this.subscribe(Ae)})}_subscribe(ue){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(ue)}[ie.L](){return this}pipe(...ue){return(0,se.U)(ue)(this)}toPromise(ue){return new(ue=Se(ue))((Qe,Ve)=>{let xe;this.subscribe(Ae=>xe=Ae,Ae=>Ve(Ae),()=>Qe(xe))})}}return re.create=Oe=>new re(Oe),re})();function Se(re){var Oe;return null!==(Oe=re??he.config.Promise)&&void 0!==Oe?Oe:Promise}},8645:(it,Ee,P)=>{P.d(Ee,{x:()=>Re});var o=P(5592),L=P(7394);const se=(0,P(2306).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=P(9039),ye=P(1441);let Re=(()=>{class Se extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const re=new Ue(this,this);return re.operator=Z,re}_throwIfClosed(){if(this.closed)throw new se}next(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(Z)}})}error(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:re}=this;for(;re.length;)re.shift().error(Z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:re,isStopped:Oe,observers:ue}=this;return re||Oe?L.Lc:(this.currentObservers=null,ue.push(Z),new L.w0(()=>{this.currentObservers=null,(0,he.P)(ue,Z)}))}_checkFinalizedStatuses(Z){const{hasError:re,thrownError:Oe,isStopped:ue}=this;re?Z.error(Oe):ue&&Z.complete()}asObservable(){const Z=new o.y;return Z.source=this,Z}}return Se.create=(B,Z)=>new Ue(B,Z),Se})();class Ue extends Re{constructor(B,Z){super(),this.destination=B,this.source=Z}next(B){var Z,re;null===(re=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===re||re.call(Z,B)}error(B){var Z,re;null===(re=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===re||re.call(Z,B)}complete(){var B,Z;null===(Z=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===Z||Z.call(B)}_subscribe(B){var Z,re;return null!==(re=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(B))&&void 0!==re?re:L.Lc}}},305:(it,Ee,P)=>{P.d(Ee,{Hp:()=>Ve,Lv:()=>re});var o=P(4674),L=P(7394),ie=P(2653),se=P(3894),he=P(2420);const ye=Se("C",void 0,void 0);function Se(Ce,ce,ve){return{kind:Ce,value:ce,error:ve}}var B=P(7599),Z=P(1441);class re extends L.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,L.Nn)(ce)&&ce.add(this)):this.destination=we}static create(ce,ve,Me){return new Ve(ce,ve,Me)}next(ce){this.isStopped?Ye(function Ue(Ce){return Se("N",Ce,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?Ye(function Re(Ce){return Se("E",void 0,Ce)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?Ye(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function ue(Ce,ce){return Oe.call(Ce,ce)}class Qe{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:ve}=this;if(ve.next)try{ve.next(ce)}catch(Me){xe(Me)}}error(ce){const{partialObserver:ve}=this;if(ve.error)try{ve.error(ce)}catch(Me){xe(Me)}else xe(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(ve){xe(ve)}}}class Ve extends re{constructor(ce,ve,Me){let K;if(super(),(0,o.m)(ce)||!ce)K={next:ce??void 0,error:ve??void 0,complete:Me??void 0};else{let k;this&&ie.config.useDeprecatedNextContext?(k=Object.create(ce),k.unsubscribe=()=>this.unsubscribe(),K={next:ce.next&&ue(ce.next,k),error:ce.error&&ue(ce.error,k),complete:ce.complete&&ue(ce.complete,k)}):K=ce}this.destination=new Qe(K)}}function xe(Ce){ie.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Ce):(0,se.h)(Ce)}function Ye(Ce,ce){const{onStoppedNotification:ve}=ie.config;ve&&B.z.setTimeout(()=>ve(Ce,ce))}const we={closed:!0,next:he.Z,error:function Ae(Ce){throw Ce},complete:he.Z}},7394:(it,Ee,P)=>{P.d(Ee,{Lc:()=>ye,w0:()=>he,Nn:()=>Re});var o=P(4674);const ie=(0,P(2306).d)(Se=>function(Z){Se(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((re,Oe)=>`${Oe+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var se=P(9039);class he{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const ue of Z)ue.remove(this);else Z.remove(this);const{initialTeardown:re}=this;if((0,o.m)(re))try{re()}catch(ue){B=ue instanceof ie?ue.errors:[ue]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const ue of Oe)try{Ue(ue)}catch(Qe){B=B??[],Qe instanceof ie?B=[...B,...Qe.errors]:B.push(Qe)}}if(B)throw new ie(B)}}add(B){var Z;if(B&&B!==this)if(this.closed)Ue(B);else{if(B instanceof he){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(B)}}_hasParent(B){const{_parentage:Z}=this;return Z===B||Array.isArray(Z)&&Z.includes(B)}_addParent(B){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(B),Z):Z?[Z,B]:B}_removeParent(B){const{_parentage:Z}=this;Z===B?this._parentage=null:Array.isArray(Z)&&(0,se.P)(Z,B)}remove(B){const{_finalizers:Z}=this;Z&&(0,se.P)(Z,B),B instanceof he&&B._removeParent(this)}}he.EMPTY=(()=>{const Se=new he;return Se.closed=!0,Se})();const ye=he.EMPTY;function Re(Se){return Se instanceof he||Se&&"closed"in Se&&(0,o.m)(Se.remove)&&(0,o.m)(Se.add)&&(0,o.m)(Se.unsubscribe)}function Ue(Se){(0,o.m)(Se)?Se():Se.unsubscribe()}},2653:(it,Ee,P)=>{P.d(Ee,{config:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(it,Ee,P)=>{P.d(Ee,{E:()=>L});const L=new(P(5592).y)(he=>he.complete())},2459:(it,Ee,P)=>{P.d(Ee,{D:()=>ce});var o=P(4829),L=P(3093),ie=P(5137),ye=P(5592),Ue=P(4971),Se=P(4674),B=P(7103);function re(ve,Me){if(!ve)throw new Error("Iterable cannot be null");return new ye.y(K=>{(0,B.f)(K,Me,()=>{const k=ve[Symbol.asyncIterator]();(0,B.f)(K,Me,()=>{k.next().then(W=>{W.done?K.complete():K.next(W.value)})},0,!0)})})}var Oe=P(8382),ue=P(4026),Qe=P(4266),Ve=P(3664),xe=P(5726),Ae=P(9853),Ye=P(541);function ce(ve,Me){return Me?function Ce(ve,Me){if(null!=ve){if((0,Oe.c)(ve))return function se(ve,Me){return(0,o.Xf)(ve).pipe((0,ie.R)(Me),(0,L.Q)(Me))}(ve,Me);if((0,Qe.z)(ve))return function Re(ve,Me){return new ye.y(K=>{let k=0;return Me.schedule(function(){k===ve.length?K.complete():(K.next(ve[k++]),K.closed||this.schedule())})})}(ve,Me);if((0,ue.t)(ve))return function he(ve,Me){return(0,o.Xf)(ve).pipe((0,ie.R)(Me),(0,L.Q)(Me))}(ve,Me);if((0,xe.D)(ve))return re(ve,Me);if((0,Ve.T)(ve))return function Z(ve,Me){return new ye.y(K=>{let k;return(0,B.f)(K,Me,()=>{k=ve[Ue.h](),(0,B.f)(K,Me,()=>{let W,pe;try{({value:W,done:pe}=k.next())}catch(Mt){return void K.error(Mt)}pe?K.complete():K.next(W)},0,!0)}),()=>(0,Se.m)(k?.return)&&k.return()})}(ve,Me);if((0,Ye.L)(ve))return function we(ve,Me){return re((0,Ye.Q)(ve),Me)}(ve,Me)}throw(0,Ae.z)(ve)}(ve,Me):(0,o.Xf)(ve)}},4829:(it,Ee,P)=>{P.d(Ee,{Xf:()=>Oe});var o=P(7582),L=P(4266),ie=P(4026),se=P(5592),he=P(8382),ye=P(5726),Re=P(9853),Ue=P(3664),Se=P(541),B=P(4674),Z=P(3894),re=P(4850);function Oe(Ce){if(Ce instanceof se.y)return Ce;if(null!=Ce){if((0,he.c)(Ce))return function ue(Ce){return new se.y(ce=>{const ve=Ce[re.L]();if((0,B.m)(ve.subscribe))return ve.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,L.z)(Ce))return function Qe(Ce){return new se.y(ce=>{for(let ve=0;ve<Ce.length&&!ce.closed;ve++)ce.next(Ce[ve]);ce.complete()})}(Ce);if((0,ie.t)(Ce))return function Ve(Ce){return new se.y(ce=>{Ce.then(ve=>{ce.closed||(ce.next(ve),ce.complete())},ve=>ce.error(ve)).then(null,Z.h)})}(Ce);if((0,ye.D)(Ce))return Ae(Ce);if((0,Ue.T)(Ce))return function xe(Ce){return new se.y(ce=>{for(const ve of Ce)if(ce.next(ve),ce.closed)return;ce.complete()})}(Ce);if((0,Se.L)(Ce))return function Ye(Ce){return Ae((0,Se.Q)(Ce))}(Ce)}throw(0,Re.z)(Ce)}function Ae(Ce){return new se.y(ce=>{(function we(Ce,ce){var ve,Me,K,k;return(0,o.mG)(this,void 0,void 0,function*(){try{for(ve=(0,o.KL)(Ce);!(Me=yield ve.next()).done;)if(ce.next(Me.value),ce.closed)return}catch(W){K={error:W}}finally{try{Me&&!Me.done&&(k=ve.return)&&(yield k.call(ve))}finally{if(K)throw K.error}}ce.complete()})})(Ce,ce).catch(ve=>ce.error(ve))})}},3019:(it,Ee,P)=>{P.d(Ee,{T:()=>ye});var o=P(7537),L=P(4829),ie=P(6232),se=P(4564),he=P(2459);function ye(...Re){const Ue=(0,se.yG)(Re),Se=(0,se._6)(Re,1/0),B=Re;return B.length?1===B.length?(0,L.Xf)(B[0]):(0,o.J)(Se)((0,he.D)(B,Ue)):ie.E}},2096:(it,Ee,P)=>{P.d(Ee,{of:()=>ie});var o=P(4564),L=P(2459);function ie(...se){const he=(0,o.yG)(se);return(0,L.D)(se,he)}},8251:(it,Ee,P)=>{P.d(Ee,{x:()=>L});var o=P(305);function L(se,he,ye,Re,Ue){return new ie(se,he,ye,Re,Ue)}class ie extends o.Lv{constructor(he,ye,Re,Ue,Se,B){super(he),this.onFinalize=Se,this.shouldUnsubscribe=B,this._next=ye?function(Z){try{ye(Z)}catch(re){he.error(re)}}:super._next,this._error=Ue?function(Z){try{Ue(Z)}catch(re){he.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(Z){he.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},7398:(it,Ee,P)=>{P.d(Ee,{U:()=>ie});var o=P(9360),L=P(8251);function ie(se,he){return(0,o.e)((ye,Re)=>{let Ue=0;ye.subscribe((0,L.x)(Re,Se=>{Re.next(se.call(he,Se,Ue++))}))})}},7537:(it,Ee,P)=>{P.d(Ee,{J:()=>ie});var o=P(1631),L=P(2737);function ie(se=1/0){return(0,o.z)(L.y,se)}},1631:(it,Ee,P)=>{P.d(Ee,{z:()=>Ue});var o=P(7398),L=P(4829),ie=P(9360),se=P(7103),he=P(8251),Re=P(4674);function Ue(Se,B,Z=1/0){return(0,Re.m)(B)?Ue((re,Oe)=>(0,o.U)((ue,Qe)=>B(re,ue,Oe,Qe))((0,L.Xf)(Se(re,Oe))),Z):("number"==typeof B&&(Z=B),(0,ie.e)((re,Oe)=>function ye(Se,B,Z,re,Oe,ue,Qe,Ve){const xe=[];let Ae=0,Ye=0,we=!1;const Ce=()=>{we&&!xe.length&&!Ae&&B.complete()},ce=Me=>Ae<re?ve(Me):xe.push(Me),ve=Me=>{ue&&B.next(Me),Ae++;let K=!1;(0,L.Xf)(Z(Me,Ye++)).subscribe((0,he.x)(B,k=>{Oe?.(k),ue?ce(k):B.next(k)},()=>{K=!0},void 0,()=>{if(K)try{for(Ae--;xe.length&&Ae<re;){const k=xe.shift();Qe?(0,se.f)(B,Qe,()=>ve(k)):ve(k)}Ce()}catch(k){B.error(k)}}))};return Se.subscribe((0,he.x)(B,ce,()=>{we=!0,Ce()})),()=>{Ve?.()}}(re,Oe,Se,Z)))}},3093:(it,Ee,P)=>{P.d(Ee,{Q:()=>se});var o=P(7103),L=P(9360),ie=P(8251);function se(he,ye=0){return(0,L.e)((Re,Ue)=>{Re.subscribe((0,ie.x)(Ue,Se=>(0,o.f)(Ue,he,()=>Ue.next(Se),ye),()=>(0,o.f)(Ue,he,()=>Ue.complete(),ye),Se=>(0,o.f)(Ue,he,()=>Ue.error(Se),ye)))})}},3020:(it,Ee,P)=>{P.d(Ee,{B:()=>he});var o=P(4829),L=P(8645),ie=P(305),se=P(9360);function he(Re={}){const{connector:Ue=(()=>new L.x),resetOnError:Se=!0,resetOnComplete:B=!0,resetOnRefCountZero:Z=!0}=Re;return re=>{let Oe,ue,Qe,Ve=0,xe=!1,Ae=!1;const Ye=()=>{ue?.unsubscribe(),ue=void 0},we=()=>{Ye(),Oe=Qe=void 0,xe=Ae=!1},Ce=()=>{const ce=Oe;we(),ce?.unsubscribe()};return(0,se.e)((ce,ve)=>{Ve++,!Ae&&!xe&&Ye();const Me=Qe=Qe??Ue();ve.add(()=>{Ve--,0===Ve&&!Ae&&!xe&&(ue=ye(Ce,Z))}),Me.subscribe(ve),!Oe&&Ve>0&&(Oe=new ie.Hp({next:K=>Me.next(K),error:K=>{Ae=!0,Ye(),ue=ye(we,Se,K),Me.error(K)},complete:()=>{xe=!0,Ye(),ue=ye(we,B),Me.complete()}}),(0,o.Xf)(ce).subscribe(Oe))})(re)}}function ye(Re,Ue,...Se){if(!0===Ue)return void Re();if(!1===Ue)return;const B=new ie.Hp({next:()=>{B.unsubscribe(),Re()}});return(0,o.Xf)(Ue(...Se)).subscribe(B)}},5137:(it,Ee,P)=>{P.d(Ee,{R:()=>L});var o=P(9360);function L(ie,se=0){return(0,o.e)((he,ye)=>{ye.add(ie.schedule(()=>he.subscribe(ye),se))})}},4664:(it,Ee,P)=>{P.d(Ee,{w:()=>se});var o=P(4829),L=P(9360),ie=P(8251);function se(he,ye){return(0,L.e)((Re,Ue)=>{let Se=null,B=0,Z=!1;const re=()=>Z&&!Se&&Ue.complete();Re.subscribe((0,ie.x)(Ue,Oe=>{Se?.unsubscribe();let ue=0;const Qe=B++;(0,o.Xf)(he(Oe,Qe)).subscribe(Se=(0,ie.x)(Ue,Ve=>Ue.next(ye?ye(Oe,Ve,Qe,ue++):Ve),()=>{Se=null,re()}))},()=>{Z=!0,re()}))})}},7599:(it,Ee,P)=>{P.d(Ee,{z:()=>o});const o={setTimeout(L,ie,...se){const{delegate:he}=o;return he?.setTimeout?he.setTimeout(L,ie,...se):setTimeout(L,ie,...se)},clearTimeout(L){const{delegate:ie}=o;return(ie?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(it,Ee,P)=>{P.d(Ee,{h:()=>L});const L=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(it,Ee,P)=>{P.d(Ee,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(it,Ee,P)=>{P.d(Ee,{_6:()=>ye,jO:()=>se,yG:()=>he});var o=P(4674);function ie(Re){return Re[Re.length-1]}function se(Re){return(0,o.m)(ie(Re))?Re.pop():void 0}function he(Re){return function L(Re){return Re&&(0,o.m)(Re.schedule)}(ie(Re))?Re.pop():void 0}function ye(Re,Ue){return"number"==typeof ie(Re)?Re.pop():Ue}},9039:(it,Ee,P)=>{function o(L,ie){if(L){const se=L.indexOf(ie);0<=se&&L.splice(se,1)}}P.d(Ee,{P:()=>o})},2306:(it,Ee,P)=>{function o(L){const se=L(he=>{Error.call(he),he.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Ee,{d:()=>o})},1441:(it,Ee,P)=>{P.d(Ee,{O:()=>se,x:()=>ie});var o=P(2653);let L=null;function ie(he){if(o.config.useDeprecatedSynchronousErrorHandling){const ye=!L;if(ye&&(L={errorThrown:!1,error:null}),he(),ye){const{errorThrown:Re,error:Ue}=L;if(L=null,Re)throw Ue}}else he()}function se(he){o.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=he)}},7103:(it,Ee,P)=>{function o(L,ie,se,he=0,ye=!1){const Re=ie.schedule(function(){se(),ye?L.add(this.schedule(null,he)):this.unsubscribe()},he);if(L.add(Re),!ye)return Re}P.d(Ee,{f:()=>o})},2737:(it,Ee,P)=>{function o(L){return L}P.d(Ee,{y:()=>o})},4266:(it,Ee,P)=>{P.d(Ee,{z:()=>o});const o=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(it,Ee,P)=>{P.d(Ee,{D:()=>L});var o=P(4674);function L(ie){return Symbol.asyncIterator&&(0,o.m)(ie?.[Symbol.asyncIterator])}},4674:(it,Ee,P)=>{function o(L){return"function"==typeof L}P.d(Ee,{m:()=>o})},8382:(it,Ee,P)=>{P.d(Ee,{c:()=>ie});var o=P(4850),L=P(4674);function ie(se){return(0,L.m)(se[o.L])}},3664:(it,Ee,P)=>{P.d(Ee,{T:()=>ie});var o=P(4971),L=P(4674);function ie(se){return(0,L.m)(se?.[o.h])}},4026:(it,Ee,P)=>{P.d(Ee,{t:()=>L});var o=P(4674);function L(ie){return(0,o.m)(ie?.then)}},541:(it,Ee,P)=>{P.d(Ee,{L:()=>se,Q:()=>ie});var o=P(7582),L=P(4674);function ie(he){return(0,o.FC)(this,arguments,function*(){const Re=he.getReader();try{for(;;){const{value:Ue,done:Se}=yield(0,o.qq)(Re.read());if(Se)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Ue)}}finally{Re.releaseLock()}})}function se(he){return(0,L.m)(he?.getReader)}},9360:(it,Ee,P)=>{P.d(Ee,{A:()=>L,e:()=>ie});var o=P(4674);function L(se){return(0,o.m)(se?.lift)}function ie(se){return he=>{if(L(he))return he.lift(function(ye){try{return se(ye,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(it,Ee,P)=>{function o(){}P.d(Ee,{Z:()=>o})},8407:(it,Ee,P)=>{P.d(Ee,{U:()=>ie,z:()=>L});var o=P(2737);function L(...se){return ie(se)}function ie(se){return 0===se.length?o.y:1===se.length?se[0]:function(ye){return se.reduce((Re,Ue)=>Ue(Re),ye)}}},3894:(it,Ee,P)=>{P.d(Ee,{h:()=>ie});var o=P(2653),L=P(7599);function ie(se){L.z.setTimeout(()=>{const{onUnhandledError:he}=o.config;if(!he)throw se;he(se)})}},9853:(it,Ee,P)=>{function o(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ee,{z:()=>o})},8926:(it,Ee,P)=>{P.d(Ee,{QbO:()=>Hg,tb:()=>A4,AFp:()=>_y,ip1:()=>ax,hGG:()=>YT,z2F:()=>vd,Ojb:()=>SI,sBO:()=>Sx,Sil:()=>DT,EJc:()=>cx,Xts:()=>$h,SBq:()=>$o,lqb:()=>ao,qLn:()=>Ua,vpe:()=>Ho,XFs:()=>yt,OlP:()=>Nt,zs3:()=>Pi,ZZ4:()=>Wf,aQg:()=>B4,soG:()=>vn,YKP:()=>Bm,h0i:()=>Ic,PXZ:()=>x4,R0b:()=>nr,FiY:()=>tr,Lbi:()=>$g,g9A:()=>yy,Qsj:()=>wy,FYo:()=>LI,JOm:()=>Ll,q3G:()=>ic,tp0:()=>Wi,Rgc:()=>Uf,dDg:()=>Ex,eoX:()=>l0,q4F:()=>Cy,GfV:()=>Ty,s_b:()=>_d,ifc:()=>ws,VuI:()=>Jf,MMx:()=>Xw,Lck:()=>v2,eFA:()=>Cc,Gpc:()=>Ye,f3M:()=>Jt,X6Q:()=>HT,$WT:()=>Br,MR2:()=>py,_c5:()=>Fx,qFp:()=>W4,rg0:()=>M_,c2e:()=>m4,zSh:()=>gs,HDt:()=>AT,wAp:()=>za,vHH:()=>K,lri:()=>u0,rWj:()=>c0,JZr:()=>Me,EiD:()=>ly,mCW:()=>qn,qzn:()=>jl,JVY:()=>YA,pB0:()=>Bh,eBb:()=>JA,L6k:()=>Vg,LAX:()=>XA,cg1:()=>Sf,kL8:()=>Aw,dqk:()=>gn,Z0I:()=>ei,eJc:()=>ET,QGY:()=>vf,F4k:()=>ov,RDi:()=>WA,AaK:()=>Ve,z3N:()=>Vo,qOj:()=>$y,Xq5:()=>_m,TTD:()=>ml,_Bn:()=>Yw,jDz:()=>eT,xp6:()=>YI,uIk:()=>Ky,ekj:()=>wf,Suo:()=>Z2,Xpm:()=>zc,lG2:()=>Kc,Yz7:()=>wt,cJS:()=>Ur,oAB:()=>vu,Yjl:()=>Qc,Y36:()=>Us,_UZ:()=>_f,BQk:()=>ad,ynx:()=>od,qZA:()=>mc,TgZ:()=>sd,EpF:()=>B3,n5z:()=>dg,LFG:()=>an,$8M:()=>so,$Z:()=>JI,NdJ:()=>Cm,CRH:()=>j2,O4$:()=>Ou,oxw:()=>Dm,ALo:()=>aT,lcZ:()=>uT,xi3:()=>cT,Q6J:()=>tv,s9C:()=>uv,VKq:()=>Hm,iGM:()=>gT,MAs:()=>L3,KtG:()=>L_,CHM:()=>tg,uOi:()=>gI,LSH:()=>dy,P3R:()=>hy,YNc:()=>P3,W1O:()=>H2,_uU:()=>cw,Oqu:()=>dw,hij:()=>ld,lnq:()=>Af});var o=P(8645),L=P(7394),ie=P(5592),se=P(3019),he=P(5619),ye=P(2096),Re=P(3020),Ue=P(4664),Se=P(2737),B=P(9360),Z=P(8251);function Oe(s,a){return s===a}function ue(s){for(let a in s)if(s[a]===ue)return a;throw Error("Could not find renamed property on target object.")}function Qe(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function Ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function xe(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Ae=ue({__forward_ref__:ue});function Ye(s){return s.__forward_ref__=Ye,s.toString=function(){return Ve(this())},s}function we(s){return Ce(s)?s():s}function Ce(s){return"function"==typeof s&&s.hasOwnProperty(Ae)&&s.__forward_ref__===Ye}function ce(s){return s&&!!s.\u0275providers}const Me="https://g.co/ng/security#xss";class K extends Error{constructor(a,c){super(function k(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,c)),this.code=a}}function W(s){return"string"==typeof s?s:null==s?"":String(s)}function ln(s,a){throw new K(-201,!1)}function Dt(s,a){null==s&&function Ze(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ur(s){return{providers:s.providers||[],imports:s.imports||[]}}function qi(s){return ua(s,zn)||ua(s,Ot)}function ei(s){return null!==qi(s)}function ua(s,a){return s.hasOwnProperty(a)?s[a]:null}function ts(s){return s&&(s.hasOwnProperty(Tt)||s.hasOwnProperty(Vr))?s[Tt]:null}const zn=ue({\u0275prov:ue}),Tt=ue({\u0275inj:ue}),Ot=ue({ngInjectableDef:ue}),Vr=ue({ngInjectorDef:ue});var yt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(yt||{});let cr;function Bt(s){const a=cr;return cr=s,a}function rs(s,a,c){const d=qi(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&yt.Optional?null:void 0!==a?a:void ln(Ve(s))}const gn=globalThis;class Nt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=wt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const F={},$="__NG_DI_FLAG__",le="ngTempTokenPath",Xe=/\n/gm,Yt="__source";let On;function Fn(s){const a=On;return On=s,a}function qt(s,a=yt.Default){if(void 0===On)throw new K(-203,!1);return null===On?rs(s,void 0,a):On.get(s,a&yt.Optional?null:void 0,a)}function an(s,a=yt.Default){return(function ns(){return cr}()||qt)(we(s),a)}function Jt(s,a=yt.Default){return an(s,fu(a))}function fu(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function zd(s){const a=[];for(let c=0;c<s.length;c++){const d=we(s[c]);if(Array.isArray(d)){if(0===d.length)throw new K(900,!1);let h,p=yt.Default;for(let y=0;y<d.length;y++){const E=d[y],T=Np(E);"number"==typeof T?-1===T?h=E.token:p|=T:h=E}a.push(an(h,p))}else a.push(an(d))}return a}function Is(s,a){return s[$]=a,s.prototype[$]=a,s}function Np(s){return s[$]}function Ci(s){return{toString:s}.toString()}var Ao=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(Ao||{}),ws=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(ws||{});const bi={},Zt=[],pu=ue({\u0275cmp:ue}),gu=ue({\u0275dir:ue}),qc=ue({\u0275pipe:ue}),Kd=ue({\u0275mod:ue}),lr=ue({\u0275fac:ue}),Qs=ue({__NG_ELEMENT_ID__:ue}),Pp=ue({__NG_ENV_ID__:ue});function Ai(s,a,c){let d=s.length;for(;;){const h=s.indexOf(a,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}c=h+1}}function mn(s,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const p=c[d++],y=c[d++],E=c[d++];s.setAttribute(a,y,E,p)}else{const p=h,y=c[++d];dr(p)?s.setProperty(a,p,y):s.setAttribute(a,p,y),d++}}return d}function Op(s){return 3===s||4===s||6===s}function dr(s){return 64===s.charCodeAt(0)}function mu(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||$c(s,c,h,null,-1===c||2===c?a[++d]:null)}}return s}function $c(s,a,c,d,h){let p=0,y=s.length;if(-1===a)y=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===a){y=-1;break}if(E>a){y=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,a),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}const _u="ng-template";function Qd(s,a,c){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const y=s[d++];if(c&&"class"===p&&-1!==Ai(y.toLowerCase(),a,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Yd(s){return 4===s.type&&s.value!==_u}function l_(s,a,c){return a===(4!==s.type||c?s.value:_u)}function yu(s,a,c){let d=4;const h=s.attrs||[],p=function _1(s){for(let a=0;a<s.length;a++)if(Op(s[a]))return a;return s.length}(h);let y=!1;for(let E=0;E<a.length;E++){const T=a[E];if("number"!=typeof T){if(!y)if(4&d){if(d=2|1&d,""!==T&&!l_(s,T,c)||""===T&&1===a.length){if(ti(d))return!1;y=!0}}else{const b=8&d?T:a[++E];if(8&d&&null!==s.attrs){if(!Qd(s.attrs,b,c)){if(ti(d))return!1;y=!0}continue}const N=kp(8&d?"class":T,h,Yd(s),c);if(-1===N){if(ti(d))return!1;y=!0;continue}if(""!==b){let V;V=N>p?"":h[N+1].toLowerCase();const H=8&d?V:null;if(H&&-1!==Ai(H,b,0)||2&d&&b!==V){if(ti(d))return!1;y=!0}}}}else{if(!y&&!ti(d)&&!ti(T))return!1;if(y&&ti(T))continue;y=!1,d=T|1&d}}return ti(d)||y}function ti(s){return 0==(1&s)}function kp(s,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let p=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=a[++h];for(;"string"==typeof E;)E=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function ni(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function Fp(s,a,c=!1){for(let d=0;d<a.length;d++)if(yu(s,a[d],c))return!0;return!1}function Hc(s,a){return s?":not("+a.trim()+")":a}function Gc(s){let a=s[0],c=1,d=2,h="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const E=s[++c];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!ti(y)&&(a+=Hc(p,h),h=""),d=y,p=p||!ti(d);c++}return""!==h&&(a+=Hc(p,h)),a}function zc(s){return Ci(()=>{const a=rh(s),c={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Ao.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||ws.Emulated,styles:s.styles||Zt,_:null,schemas:s.schemas||null,tView:null,id:""};$i(c);const d=s.dependencies;return c.directiveDefs=Yc(d,!1),c.pipeDefs=Yc(d,!0),c.id=function sh(s){let a=0;const c=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function th(s){return Lt(s)||Ln(s)}function nh(s){return null!==s}function vu(s){return Ci(()=>({type:s.type,bootstrap:s.bootstrap||Zt,declarations:s.declarations||Zt,imports:s.imports||Zt,exports:s.exports||Zt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Wc(s,a){if(null==s)return bi;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,a&&(a[h]=p)}return c}function Kc(s){return Ci(()=>{const a=rh(s);return $i(a),a})}function Qc(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Lt(s){return s[pu]||null}function Ln(s){return s[gu]||null}function Un(s){return s[qc]||null}function Br(s){const a=Lt(s)||Ln(s)||Un(s);return null!==a&&a.standalone}function Cr(s,a){const c=s[Kd]||null;if(!c&&!0===a)throw new Error(`Type ${Ve(s)} does not have '\u0275mod' property.`);return c}function rh(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||bi,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Zt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wc(s.inputs,a),outputs:Wc(s.outputs)}}function $i(s){s.features?.forEach(a=>a(s))}function Yc(s,a){if(!s)return null;const c=a?Un:th;return()=>("function"==typeof s?s():s).map(d=>c(d)).filter(nh)}const un=0,ze=1,Ct=2,en=3,Di=4,Do=5,En=6,la=7,Sn=8,Zr=9,Jc=10,mt=11,Si=12,So=13,os=14,wn=15,Xc=16,xo=17,Ts=18,xi=19,f_=20,Hi=21,Cs=22,Ys=23,as=24,ht=25,oh=1,el=2,Mi=7,Mo=9,Vn=11;function br(s){return Array.isArray(s)&&"object"==typeof s[oh]}function Wn(s){return Array.isArray(s)&&!0===s[oh]}function Iu(s){return 0!=(4&s.flags)}function Js(s){return s.componentOffset>-1}function wu(s){return 1==(1&s.flags)}function Gi(s){return!!s.template}function Tu(s){return 0!=(512&s[Ct])}function da(s,a){return s.hasOwnProperty(lr)?s[lr]:null}let hr=null,ol=!1;function Ar(s){const a=hr;return hr=s,a}const C_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ch(s){if(!ha(s)||s.dirty){if(!s.producerMustRecompute(s)&&!cl(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function D_(s){s.dirty=!0,function A_(s){if(void 0===s.liveConsumerNode)return;const a=ol;ol=!0;try{for(const c of s.liveConsumerNode)c.dirty||D_(c)}finally{ol=a}}(s),s.consumerMarkedDirty?.(s)}function ul(s){return s&&(s.nextProducerIndex=0),Ar(s)}function Zp(s,a){if(Ar(a),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(ha(s))for(let c=s.nextProducerIndex;c<s.producerNode.length;c++)dl(s.producerNode[c],s.producerIndexOfThis[c]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function cl(s){bu(s);for(let a=0;a<s.producerNode.length;a++){const c=s.producerNode[a],d=s.producerLastReadVersion[a];if(d!==c.version||(ch(c),d!==c.version))return!0}return!1}function S_(s){if(bu(s),ha(s))for(let a=0;a<s.producerNode.length;a++)dl(s.producerNode[a],s.producerIndexOfThis[a]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function dl(s,a){if(function lh(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),bu(s),1===s.liveConsumerNode.length)for(let d=0;d<s.producerNode.length;d++)dl(s.producerNode[d],s.producerIndexOfThis[d]);const c=s.liveConsumerNode.length-1;if(s.liveConsumerNode[a]=s.liveConsumerNode[c],s.liveConsumerIndexOfThis[a]=s.liveConsumerIndexOfThis[c],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,a<s.liveConsumerNode.length){const d=s.liveConsumerIndexOfThis[a],h=s.liveConsumerNode[a];bu(h),h.producerIndexOfThis[d]=a}}function ha(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function bu(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let qp=null;function M_(s){const a=Ar(null);try{return s()}finally{Ar(a)}}const hh=()=>{},gl=(()=>({...C_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:hh}))();class Au{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ml(){return zp}function zp(s){return s.type.prototype.ngOnChanges&&(s.setInput=b1),R_}function R_(){const s=Kp(this),a=s?.current;if(a){const c=s.previous;if(c===bi)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function b1(s,a,c,d){const h=this.declaredInputs[c],p=Kp(s)||function fh(s,a){return s[Wp]=a}(s,{previous:bi,current:null}),y=p.current||(p.current={}),E=p.previous,T=E[h];y[h]=new Au(T&&T.currentValue,a,E===bi),s[d]=a}ml.ngInherit=!0;const Wp="__ngSimpleChanges__";function Kp(s){return s[Wp]||null}const Dr=function(s,a,c){},gh="svg";function rn(s){for(;Array.isArray(s);)s=s[un];return s}function Du(s,a){return rn(a[s])}function fr(s,a){return rn(a[s.index])}function Su(s,a){return s.data[a]}function ga(s,a){return s[a]}function ri(s,a){const c=a[s];return br(c)?c:c[un]}function bs(s,a){return null==a?null:s[a]}function _h(s){s[xo]=0}function O_(s){1024&s[Ct]||(s[Ct]|=1024,Qp(s,1))}function _l(s){1024&s[Ct]&&(s[Ct]&=-1025,Qp(s,-1))}function Qp(s,a){let c=s[en];if(null===c)return;c[Do]+=a;let d=c;for(c=c[en];null!==c&&(1===a&&1===d[Do]||-1===a&&0===d[Do]);)c[Do]+=a,d=c,c=c[en]}const ft={lFrame:Il(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Eh(){return ft.bindingsEnabled}function ge(){return ft.lFrame.lView}function Ut(){return ft.lFrame.tView}function tg(s){return ft.lFrame.contextLView=s,s[Sn]}function L_(s){return ft.lFrame.contextLView=null,s}function pr(){let s=ng();for(;null!==s&&64===s.type;)s=s.parent;return s}function ng(){return ft.lFrame.currentTNode}function As(s,a){const c=ft.lFrame;c.currentTNode=s,c.isParent=a}function Mu(){return ft.lFrame.isParent}function rg(){ft.lFrame.isParent=!1}function Sr(){const s=ft.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Ru(){return ft.lFrame.bindingIndex++}function eo(s){const a=ft.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function x1(s,a){const c=ft.lFrame;c.bindingIndex=c.bindingRootIndex=s,El(a)}function El(s){ft.lFrame.currentDirectiveIndex=s}function Ds(){return ft.lFrame.currentQueryIndex}function wh(s){ft.lFrame.currentQueryIndex=s}function Tn(s){const a=s[ze];return 2===a.type?a.declTNode:1===a.type?s[En]:null}function at(s,a,c){if(c&yt.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||c&yt.Host||(h=Tn(p),null===h||(p=p[os],10&h.type))););if(null===h)return!1;a=h,s=p}const d=ft.lFrame=Pu();return d.currentTNode=a,d.lView=s,!0}function er(s){const a=Pu(),c=s[ze];ft.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Pu(){const s=ft.lFrame,a=null===s?null:s.child;return null===a?Il(s):a}function Il(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function ig(){const s=ft.lFrame;return ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const wl=ig;function Tl(){const s=ig();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function gt(){return ft.lFrame.selectedIndex}function Oo(s){ft.lFrame.selectedIndex=s}function yn(){const s=ft.lFrame;return Su(s.tView,s.selectedIndex)}function Ou(){ft.lFrame.currentNamespace=gh}let bl=!0;function va(){return bl}function Ss(s){bl=s}function xs(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:b,ngOnDestroy:S}=p;y&&(s.contentHooks??=[]).push(-c,y),E&&((s.contentHooks??=[]).push(c,E),(s.contentCheckHooks??=[]).push(c,E)),T&&(s.viewHooks??=[]).push(-c,T),b&&((s.viewHooks??=[]).push(c,b),(s.viewCheckHooks??=[]).push(c,b)),null!=S&&(s.destroyHooks??=[]).push(c,S)}}function to(s,a,c){Fu(s,a,3,c)}function no(s,a,c,d){(3&s[Ct])===c&&Fu(s,a,c,d)}function ku(s,a){let c=s[Ct];(3&c)===a&&(c&=8191,c+=1,s[Ct]=c)}function Fu(s,a,c,d){const p=d??-1,y=a.length-1;let E=0;for(let T=void 0!==d?65535&s[xo]:0;T<y;T++)if("number"==typeof a[T+1]){if(E=a[T],null!=d&&E>=d)break}else a[T]<0&&(s[xo]+=65536),(E<p||-1==p)&&(Ch(s,c,a,T),s[xo]=(4294901760&s[xo])+T+2),T++}function Lu(s,a){Dr(4,s,a);const c=Ar(null);try{a.call(s)}finally{Ar(c),Dr(5,s,a)}}function Ch(s,a,c,d){const h=c[d]<0,p=c[d+1],E=s[h?-c[d]:c[d]];h?s[Ct]>>13<s[xo]>>16&&(3&s[Ct])===a&&(s[Ct]+=8192,Lu(E,p)):Lu(E,p)}const Ni=-1;class Ri{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function jr(s){return s!==Ni}function Zn(s){return 32767&s}function ro(s,a){let c=function Al(s){return s>>16}(s),d=a;for(;c>0;)d=d[os],c--;return d}let bh=!0;function oi(s){const a=bh;return bh=s,a}const Mn=255,Ms=5;let Ah=0;const ds={};function Bu(s,a){const c=Ia(s,a);if(-1!==c)return c;const d=a[ze];d.firstCreatePass&&(s.injectorIndex=a.length,Sl(d.data,s),Sl(a,null),Sl(d.blueprint,null));const h=Zu(s,a),p=s.injectorIndex;if(jr(h)){const y=Zn(h),E=ro(h,a),T=E[ze].data;for(let b=0;b<8;b++)a[p+b]=E[y+b]|T[y+b]}return a[p+8]=h,p}function Sl(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Ia(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Zu(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=$u(h),null===d)return Ni;if(c++,h=h[os],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Ni}function ju(s,a,c){!function Dl(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Qs)&&(d=c[Qs]),null==d&&(d=c[Qs]=Ah++);const h=d&Mn;a.data[s+(h>>Ms)]|=1<<h}(s,a,c)}function wa(s,a,c){if(c&yt.Optional||void 0!==s)return s;ln()}function og(s,a,c,d){if(c&yt.Optional&&void 0===d&&(d=null),!(c&(yt.Self|yt.Host))){const h=s[Zr],p=Bt(void 0);try{return h?h.get(a,d,c&yt.Optional):rs(a,d,c&yt.Optional)}finally{Bt(p)}}return wa(d,0,c)}function Ns(s,a,c,d=yt.Default,h){if(null!==s){if(2048&a[Ct]&&!(d&yt.Self)){const y=function Ml(s,a,c,d,h){let p=s,y=a;for(;null!==p&&null!==y&&2048&y[Ct]&&!(512&y[Ct]);){const E=ag(p,y,c,d|yt.Self,ds);if(E!==ds)return E;let T=p.parent;if(!T){const b=y[f_];if(b){const S=b.get(c,ds,d);if(S!==ds)return S}T=$u(y),y=y[os]}p=T}return h}(s,a,c,d,ds);if(y!==ds)return y}const p=ag(s,a,c,d,ds);if(p!==ds)return p}return og(a,c,d,h)}function ag(s,a,c,d,h){const p=function qu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Qs)?s[Qs]:void 0;return"number"==typeof a?a>=0?a&Mn:lg:a}(c);if("function"==typeof p){if(!at(a,s,d))return d&yt.Host?wa(h,0,d):og(a,c,d,h);try{let y;if(y=p(d),null!=y||d&yt.Optional)return y;ln()}finally{wl()}}else if("number"==typeof p){let y=null,E=Ia(s,a),T=Ni,b=d&yt.Host?a[wn][En]:null;for((-1===E||d&yt.SkipSelf)&&(T=-1===E?Zu(s,a):a[E+8],T!==Ni&&ug(d,!1)?(y=a[ze],E=Zn(T),a=ro(T,a)):E=-1);-1!==E;){const S=a[ze];if(Rs(p,E,S.data)){const N=Z_(E,a,c,y,d,b);if(N!==ds)return N}T=a[E+8],T!==Ni&&ug(d,a[ze].data[E+8]===b)&&Rs(p,E,a)?(y=S,E=Zn(T),a=ro(T,a)):E=-1}}return h}function Z_(s,a,c,d,h,p){const y=a[ze],E=y.data[s+8],S=qr(E,y,c,null==d?Js(E)&&bh:d!=y&&0!=(3&E.type),h&yt.Host&&p===E);return null!==S?io(a,y,S,E):ds}function qr(s,a,c,d,h){const p=s.providerIndexes,y=a.data,E=1048575&p,T=s.directiveStart,S=p>>20,V=h?E+S:s.directiveEnd;for(let H=d?E:E+S;H<V;H++){const ae=y[H];if(H<T&&c===ae||H>=T&&ae.type===c)return H}if(h){const H=y[T];if(H&&Gi(H)&&H.type===c)return T}return null}function io(s,a,c,d){let h=s[c];const p=a.data;if(function Uu(s){return s instanceof Ri}(h)){const y=h;y.resolving&&function Mt(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new K(-200,`Circular dependency in DI detected for ${s}${c}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():W(s)}(p[c]));const E=oi(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?Bt(y.injectImpl):null;at(s,d,yt.Default);try{h=s[c]=y.factory(void 0,p,s,d),a.firstCreatePass&&c>=d.directiveStart&&function Th(s,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const y=zp(a);(c.preOrderHooks??=[]).push(s,y),(c.preOrderCheckHooks??=[]).push(s,y)}h&&(c.preOrderHooks??=[]).push(0-s,h),p&&((c.preOrderHooks??=[]).push(s,p),(c.preOrderCheckHooks??=[]).push(s,p))}(c,p[c],a)}finally{null!==b&&Bt(b),oi(E),y.resolving=!1,wl()}}return h}function Rs(s,a,c){return!!(c[a+(s>>Ms)]&1<<s)}function ug(s,a){return!(s&yt.Self||s&yt.Host&&a)}class xr{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Ns(this._tNode,this._lView,a,fu(d),c)}}function lg(){return new xr(pr(),ge())}function dg(s){return Ci(()=>{const a=s.prototype.constructor,c=a[lr]||xl(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[lr]||xl(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function xl(s){return Ce(s)?()=>{const a=xl(we(s));return a&&a()}:da(s)}function $u(s){const a=s[ze],c=a.type;return 2===c?a.declTNode:1===c?s[En]:null}function so(s){return function St(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Op(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(pr(),s)}const hs="__parameters__";function fs(s,a,c){return Ci(()=>{const d=function Dh(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(T,b,S){const N=T.hasOwnProperty(hs)?T[hs]:Object.defineProperty(T,hs,{value:[]})[hs];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(y),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function Lo(s,a){s.forEach(c=>Array.isArray(c)?Lo(c,a):a(c))}function Nh(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Pl(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function ai(s,a,c){let d=I(s,a);return d>=0?s[1|d]=c:(d=~d,function mg(s,a,c,d){let h=s.length;if(h==a)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function oo(s,a){const c=I(s,a);if(c>=0)return s[1|c]}function I(s,a){return function _(s,a,c){let d=0,h=s.length>>c;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<c];if(a===y)return p<<c;y>a?h=p:d=p+1}return~(h<<c)}(s,a,1)}const tr=Is(fs("Optional"),8),Wi=Is(fs("SkipSelf"),4);function kl(s){return 128==(128&s.flags)}var Ll=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Ll||{});const AA=/^>|^->|<!--|-->|--!>|<!-$/g,Cg=/(<|>)/g,q1="\u200b$1\u200b";const Qu=new Map;let DA=0;const z1="__ngContext__";function di(s,a){br(a)?(s[z1]=a[xi],function W_(s){Qu.set(s[xi],s)}(a)):s[z1]=a}let Q_;function Y_(s,a){return Q_(s,a)}function Ma(s){const a=s[en];return Wn(a)?a[en]:a}function Yu(s){return J1(s[Si])}function Ul(s){return J1(s[Di])}function J1(s){for(;null!==s&&!Wn(s);)s=s[Di];return s}function Vl(s,a,c,d,h){if(null!=d){let p,y=!1;Wn(d)?p=d:br(d)&&(y=!0,d=d[un]);const E=rn(d);0===s&&null!==c?null==h?eI(a,c,E):Xu(a,c,E,h||null,!0):1===s&&null!==c?Xu(a,c,E,h||null,!0):2===s?function Fh(s,a,c){const d=xg(s,a);d&&function ZA(s,a,c,d){s.removeChild(a,c,d)}(s,d,a,c)}(a,E,y):3===s&&a.destroyNode(E),null!=p&&function $A(s,a,c,d,h){const p=c[Mi];p!==rn(c)&&Vl(a,s,d,p,h);for(let E=Vn;E<c.length;E++){const T=c[E];Lh(T[ze],T,s,a,d,p)}}(a,s,p,c,h)}}function J_(s,a){return s.createComment(function $1(s){return s.replace(AA,a=>a.replace(Cg,q1))}(a))}function Sg(s,a,c){return s.createElement(a,c)}function X_(s,a){const c=s[Mo],d=c.indexOf(a);_l(a),c.splice(d,1)}function Ju(s,a){if(s.length<=Vn)return;const c=Vn+a,d=s[c];if(d){const h=d[Xc];null!==h&&h!==s&&X_(h,d),a>0&&(s[c-1][Di]=d[Di]);const p=Pl(s,Vn+a);!function OA(s,a){Lh(s,a,a[mt],2,null,null),a[un]=null,a[En]=null}(d[ze],d);const y=p[Ts];null!==y&&y.detachView(p[ze]),d[en]=null,d[Di]=null,d[Ct]&=-129}return d}function Ra(s,a){if(!(256&a[Ct])){const c=a[mt];a[Ys]&&S_(a[Ys]),a[as]&&S_(a[as]),c.destroyNode&&Lh(s,a,c,3,null,null),function LA(s){let a=s[Si];if(!a)return ey(s[ze],s);for(;a;){let c=null;if(br(a))c=a[Si];else{const d=a[Vn];d&&(c=d)}if(!c){for(;a&&!a[Di]&&a!==s;)br(a)&&ey(a[ze],a),a=a[en];null===a&&(a=s),br(a)&&ey(a[ze],a),c=a&&a[Di]}a=c}}(a)}}function ey(s,a){if(!(256&a[Ct])){a[Ct]&=-129,a[Ct]|=256,function BA(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Ri)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],T=p[y+1];Dr(4,E,T);try{T.call(E)}finally{Dr(5,E,T)}}else{Dr(4,h,p);try{p.call(h)}finally{Dr(5,h,p)}}}}}(s,a),function VA(s,a){const c=s.cleanup,d=a[la];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+3];y>=0?d[y]():d[-y].unsubscribe(),p+=2}else c[p].call(d[c[p+1]]);null!==d&&(a[la]=null);const h=a[Hi];if(null!==h){a[Hi]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(s,a),1===a[ze].type&&a[mt].destroy();const c=a[Xc];if(null!==c&&Wn(a[en])){c!==a[en]&&X_(c,a);const d=a[Ts];null!==d&&d.detachView(s)}!function H1(s){Qu.delete(s[xi])}(a)}}function ty(s,a,c){return function X1(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[un];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===ws.None||p===ws.Emulated)return null}return fr(d,c)}}(s,a.parent,c)}function Xu(s,a,c,d,h){s.insertBefore(a,c,d,h)}function eI(s,a,c){s.appendChild(a,c)}function tI(s,a,c,d,h){null!==d?Xu(s,a,c,d,h):eI(s,a,c)}function xg(s,a){return s.parentNode(a)}let iy,Rg,oy,Og,ry=function ec(s,a,c){return 40&s.type?fr(s,c):null};function Ng(s,a,c,d){const h=ty(s,d,a),p=a[mt],E=function ny(s,a,c){return ry(s,a,c)}(d.parent||a[En],d,a);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)tI(p,h,c[T],E,!1);else tI(p,h,c,E,!1);void 0!==iy&&iy(p,d,a,c,h)}function tc(s,a){if(null!==a){const c=a.type;if(3&c)return fr(a,s);if(4&c)return kh(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return tc(s,d);{const h=s[a.index];return Wn(h)?kh(-1,h):rn(h)}}if(32&c)return Y_(a,s)()||rn(s[a.index]);{const d=rI(s,a);return null!==d?Array.isArray(d)?d[0]:tc(Ma(s[wn]),d):tc(s,a.next)}}return null}function rI(s,a){return null!==a?s[wn][En].projection[a.projection]:null}function kh(s,a){const c=Vn+s+1;if(c<a.length){const d=a[c],h=d[ze].firstChild;if(null!==h)return tc(d,h)}return a[Mi]}function sy(s,a,c,d,h,p,y){for(;null!=c;){const E=d[c.index],T=c.type;if(y&&0===a&&(E&&di(rn(E),d),c.flags|=2),32!=(32&c.flags))if(8&T)sy(s,a,c.child,d,h,p,!1),Vl(a,s,h,E,p);else if(32&T){const b=Y_(c,d);let S;for(;S=b();)Vl(a,s,h,S,p);Vl(a,s,h,E,p)}else 16&T?Uh(s,a,d,c,h,p):Vl(a,s,h,E,p);c=y?c.projectionNext:c.next}}function Lh(s,a,c,d,h,p){sy(c,d,s.firstChild,a,h,p,!1)}function Uh(s,a,c,d,h,p){const y=c[wn],T=y[En].projection[d.projection];if(Array.isArray(T))for(let b=0;b<T.length;b++)Vl(a,s,h,T[b],p);else{let b=T;const S=y[en];kl(d)&&(b.flags|=128),sy(s,a,b,S,h,p,!0)}}function sI(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function oI(s,a,c){const{mergedAttrs:d,classes:h,styles:p}=c;null!==d&&mn(s,a,d),null!==h&&sI(s,a,h),null!==p&&function GA(s,a,c){s.setAttribute(a,"style",c)}(s,a,p)}function Vh(s){return function Pg(){if(void 0===Rg&&(Rg=null,gn.trustedTypes))try{Rg=gn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Rg}()?.createHTML(s)||s}function WA(s){oy=s}function Lg(s){return function kg(){if(void 0===Og&&(Og=null,gn.trustedTypes))try{Og=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Og}()?.createScriptURL(s)||s}class rc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}class KA extends rc{getTypeName(){return"HTML"}}class cI extends rc{getTypeName(){return"Style"}}class Ug extends rc{getTypeName(){return"Script"}}class lI extends rc{getTypeName(){return"URL"}}class dI extends rc{getTypeName(){return"ResourceURL"}}function Vo(s){return s instanceof rc?s.changingThisBreaksApplicationSecurity:s}function jl(s,a){const c=function QA(s){return s instanceof rc&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Me})`)}return c===a}function YA(s){return new KA(s)}function Vg(s){return new cI(s)}function JA(s){return new Ug(s)}function XA(s){return new lI(s)}function Bh(s){return new dI(s)}class eD{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Vh(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class tD{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Vh(a),c}}const rD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qn(s){return(s=String(s)).match(rD)?s:"unsafe:"+s}function Bo(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function ql(...s){const a={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const hi=Bo("area,br,col,hr,img,wbr"),hI=Bo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fI=Bo("rp,rt"),uy=ql(hi,ql(hI,Bo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ql(fI,Bo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ql(fI,hI)),Zh=Bo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cy=ql(Zh,Bo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zo=Bo("script,style,template");class oD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!uy.hasOwnProperty(c))return this.sanitizedSomething=!0,!Zo.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,E=y.toLowerCase();if(!cy.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=p.value;Zh[E]&&(T=qn(T)),this.buf.push(" ",y,'="',aD(T),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();uy.hasOwnProperty(c)&&!hi.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(aD(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const gk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mk=/([^\#-~ |!])/g;function aD(s){return s.replace(/&/g,"&amp;").replace(gk,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(mk,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jh;function ly(s,a){let c=null;try{jh=jh||function ay(s){const a=new tD(s);return function nD(){try{return!!(new window.DOMParser).parseFromString(Vh(""),"text/html")}catch{return!1}}()?new eD(a):a}(s);let d=a?String(a):"";c=jh.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=jh.getInertBodyElement(d)}while(d!==p);return Vh((new oD).sanitizeChildren(qh(c)||c))}finally{if(c){const d=qh(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function qh(s){return"content"in s&&function uD(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ic=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(ic||{});function dy(s){const a=jo();return a?a.sanitize(ic.URL,s)||"":jl(s,"URL")?Vo(s):qn(W(s))}function gI(s){const a=jo();if(a)return Lg(a.sanitize(ic.RESOURCE_URL,s)||"");if(jl(s,"ResourceURL"))return Lg(Vo(s));throw new K(904,!1)}function hy(s,a,c){return function Ek(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?gI:dy}(a,c)(s)}function jo(){const s=ge();return s&&s[Jc].sanitizer}const $h=new Nt("ENVIRONMENT_INITIALIZER"),mI=new Nt("INJECTOR",-1),_I=new Nt("INJECTOR_DEF_TYPES");class fy{get(a,c=F){if(c===F){const d=new Error(`NullInjectorError: No provider for ${Ve(a)}!`);throw d.name="NullInjectorError",d}return c}}function py(s){return{\u0275providers:s}}function yI(...s){return{\u0275providers:vI(0,s),\u0275fromNgModule:!0}}function vI(s,...a){const c=[],d=new Set;let h;const p=y=>{c.push(y)};return Lo(a,y=>{const E=y;gy(E,p,[],d)&&(h||=[],h.push(E))}),void 0!==h&&lD(h,p),c}function lD(s,a){for(let c=0;c<s.length;c++){const{ngModule:d,providers:h}=s[c];EI(h,p=>{a(p,d)})}}function gy(s,a,c,d){if(!(s=we(s)))return!1;let h=null,p=ts(s);const y=!p&&Lt(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const T=s.ngModule;if(p=ts(T),!p)return!1;h=T}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const b of T)gy(b,a,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let b;d.add(h);try{Lo(p.imports,S=>{gy(S,a,c,d)&&(b||=[],b.push(S))})}finally{}void 0!==b&&lD(b,a)}if(!E){const b=da(h)||(()=>new h);a({provide:h,useFactory:b,deps:Zt},h),a({provide:_I,useValue:h,multi:!0},h),a({provide:$h,useValue:()=>an(h),multi:!0},h)}const T=p.providers;if(null!=T&&!E){const b=s;EI(T,S=>{a(S,b)})}}}return h!==s&&void 0!==s.providers}function EI(s,a){for(let c of s)ce(c)&&(c=c.\u0275providers),Array.isArray(c)?EI(c,a):a(c)}const Tk=ue({provide:String,useValue:ue});function II(s){return null!==s&&"object"==typeof s&&Tk in s}function Pa(s){return"function"==typeof s}const gs=new Nt("Set Injector scope."),Bg={},Zg={};let my;function jg(){return void 0===my&&(my=new fy),my}class ao{}class fi extends ao{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qg(a,y=>this.processProvider(y)),this.records.set(mI,$l(void 0,this)),h.has("environment")&&this.records.set(ao,$l(void 0,this));const p=this.records.get(gs);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(_I.multi,Zt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=Fn(this),d=Bt(void 0);try{return a()}finally{Fn(c),Bt(d)}}get(a,c=F,d=yt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Pp))return a[Pp](this);d=fu(d);const p=Fn(this),y=Bt(void 0);try{if(!(d&yt.SkipSelf)){let T=this.records.get(a);if(void 0===T){const b=function AI(s){return"function"==typeof s||"object"==typeof s&&s instanceof Nt}(a)&&qi(a);T=b&&this.injectableDefInScope(b)?$l(uo(a),Bg):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(d&yt.Self?jg():this.parent).get(a,c=d&yt.Optional&&c===F?null:c)}catch(E){if("NullInjectorError"===E.name){if((E[le]=E[le]||[]).unshift(Ve(a)),p)throw E;return function Wd(s,a,c,d){const h=s[le];throw a[Yt]&&h.unshift(a[Yt]),s.message=function Rp(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Ve(a);if(Array.isArray(a))h=a.map(Ve).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let E=a[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):Ve(E)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(Xe,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[le]=null,s}(E,a,"R3InjectorError",this.source)}throw E}finally{Bt(y),Fn(p)}}resolveInjectorInitializers(){const a=Fn(this),c=Bt(void 0);try{const h=this.get($h.multi,Zt,yt.Self);for(const p of h)p()}finally{Fn(a),Bt(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(Ve(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(a){let c=Pa(a=we(a))?a:we(a&&a.provide);const d=function $r(s){return II(s)?$l(void 0,s.useValue):$l(qo(s),Bg)}(a);if(Pa(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=$l(void 0,Bg,!0),h.factory=()=>zd(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Bg&&(c.value=Zg,c.value=c.factory()),"object"==typeof c.value&&c.value&&function bI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=we(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function uo(s){const a=qi(s),c=null!==a?a.factory:da(s);if(null!==c)return c;if(s instanceof Nt)throw new K(204,!1);if(s instanceof Function)return function CI(s){const a=s.length;if(a>0)throw function Hu(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}(a,"?"),new K(204,!1);const c=function Ks(s){return s&&(s[zn]||s[Ot])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new K(204,!1)}function qo(s,a,c){let d;if(Pa(s)){const h=we(s);return da(h)||uo(h)}if(II(s))d=()=>we(s.useValue);else if(function TI(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...zd(s.deps||[]));else if(function wI(s){return!(!s||!s.useExisting)}(s))d=()=>an(we(s.useExisting));else{const h=we(s&&(s.useClass||s.provide));if(!function ct(s){return!!s.deps}(s))return da(h)||uo(h);d=()=>new h(...zd(s.deps))}return d}function $l(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function qg(s,a){for(const c of s)Array.isArray(c)?qg(c,a):c&&ce(c)?qg(c.\u0275providers,a):a(c)}const _y=new Nt("AppId",{providedIn:"root",factory:()=>DI}),DI="ng",yy=new Nt("Platform Initializer"),$g=new Nt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hg=new Nt("AnimationModuleType"),SI=new Nt("CSP nonce",{providedIn:"root",factory:()=>function Zl(){if(void 0!==oy)return oy;if(typeof document<"u")return document;throw new K(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let gD=(s,a,c)=>null;function co(s,a,c=!1){return gD(s,a,c)}class Ak{}class kI{}class Dk{resolveComponentFactory(a){throw function FI(s){const a=Error(`No component factory found for ${Ve(s)}.`);return a.ngComponent=s,a}(a)}}let Fa=(()=>{class s{static#e=this.NULL=new Dk}return s})();function Jg(){return Fs(pr(),ge())}function Fs(s,a){return new $o(fr(s,a))}let $o=(()=>{class s{constructor(c){this.nativeElement=c}static#e=this.__NG_ELEMENT_ID__=Jg}return s})();function Iy(s){return s instanceof $o?s.nativeElement:s}class LI{}let wy=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function ED(){const s=ge(),c=ri(pr().index,s);return(br(c)?c:s)[mt]}()}return s})(),Xg=(()=>{class s{static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:()=>null})}return s})();class Ty{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Cy=new Ty("16.2.11"),zl={};function BI(s,a=null,c=null,d){const h=nm(s,a,c,d);return h.resolveInjectorInitializers(),h}function nm(s,a=null,c=null,d,h=new Set){const p=[c||Zt,yI(s)];return d=d||("object"==typeof s?void 0:Ve(s)),new fi(p,a||jg(),d||null,h)}let Pi=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=F;static#t=this.NULL=new fy;static create(c,d){if(Array.isArray(c))return BI({name:""},d,c,"");{const h=c.name??"";return BI({name:h},c.parent,c.providers,h)}}static#n=this.\u0275prov=wt({token:s,providedIn:"any",factory:()=>an(mI)});static#r=this.__NG_ELEMENT_ID__=-1}return s})();function rm(s){return s.ngOriginalError}class Ua{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&rm(a);for(;c&&rm(c);)c=rm(c);return c||null}}function Jh(s){return a=>{setTimeout(s,void 0,a)}}const Ho=class TD extends o.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,p=c||(()=>null),y=d;if(a&&"object"==typeof a){const T=a;h=T.next?.bind(T),p=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(p=Jh(p),h&&(h=Jh(h)),y&&(y=Jh(y)));const E=super.subscribe({next:h,error:p,complete:y});return a instanceof L.w0&&a.add(E),E}};function CD(...s){}class nr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ho(!1),this.onMicrotaskEmpty=new Ho(!1),this.onStable=new Ho(!1),this.onError=new Ho(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Ay(){const s="function"==typeof gn.requestAnimationFrame;let a=gn[s?"requestAnimationFrame":"setTimeout"],c=gn[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function bD(s){const a=()=>{!function Nk(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(gn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ac(s),s.isCheckStableRunning=!0,Sy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ac(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,y,E)=>{if(function DD(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(E))return c.invokeTask(h,p,y,E);try{return sm(s),c.invokeTask(h,p,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),xy(s)}},onInvoke:(c,d,h,p,y,E,T)=>{try{return sm(s),c.invoke(h,p,y,E,T)}finally{s.shouldCoalesceRunChangeDetection&&a(),xy(s)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,ac(s),Sy(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nr.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(nr.isInAngularZone())throw new K(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,a,Dy,CD,CD);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const Dy={};function Sy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ac(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function sm(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function xy(s){s._nesting--,Sy(s)}class jI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ho,this.onMicrotaskEmpty=new Ho,this.onStable=new Ho,this.onError=new Ho}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const Wl=new Nt("",{providedIn:"root",factory:AD});function AD(){const s=Jt(nr);let a=!0;const c=new ie.y(h=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(a),h.complete()})}),d=new ie.y(h=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{nr.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const y=s.onUnstable.subscribe(()=>{nr.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,se.T)(c,d.pipe((0,Re.B)()))}function Va(s){return s instanceof Function?s():s}let lo=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:()=>new s})}return s})();function ef(s){for(;s;){s[Ct]|=64;const a=Ma(s);if(Tu(s)&&!a)return s;s=a}return null}const MD=new Nt("",{providedIn:"root",factory:()=>!1});let om=null;function uc(s,a){return s[a]??QI()}function Py(s,a){const c=QI();c.producerNode?.length&&(s[a]=om,c.lView=s,om=ho())}const kD={...C_,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{ef(s.lView)},lView:null};function ho(){return Object.create(kD)}function QI(){return om??=ho(),om}const At={};function YI(s){zo(Ut(),ge(),gt()+s,!1)}function zo(s,a,c,d){if(!d)if(3==(3&a[Ct])){const p=s.preOrderCheckHooks;null!==p&&to(a,p,c)}else{const p=s.preOrderHooks;null!==p&&no(a,p,0,c)}Oo(c)}function Us(s,a=yt.Default){const c=ge();return null===c?an(s,a):Ns(pr(),c,we(s),a)}function JI(){throw new Error("invalid")}function am(s,a,c,d,h,p,y,E,T,b,S){const N=a.blueprint.slice();return N[un]=h,N[Ct]=140|d,(null!==b||s&&2048&s[Ct])&&(N[Ct]|=2048),_h(N),N[en]=N[os]=s,N[Sn]=c,N[Jc]=y||s&&s[Jc],N[mt]=E||s&&s[mt],N[Zr]=T||s&&s[Zr]||null,N[En]=p,N[xi]=function SA(){return DA++}(),N[Cs]=S,N[f_]=b,N[wn]=2==a.type?s[wn]:N,N}function nf(s,a,c,d,h){let p=s.data[a];if(null===p)p=function rf(s,a,c,d,h){const p=ng(),y=Mu(),T=s.data[a]=function VD(s,a,c,d,h,p){let y=a?a.injectorIndex:-1,E=0;return function No(){return null!==ft.skipHydrationRootTNode}()&&(E|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,d,h);return null===s.firstChild&&(s.firstChild=T),null!==p&&(y?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T,T.prev=p)),T}(s,a,c,d,h),function U_(){return ft.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const y=function vl(){const s=ft.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return As(p,!0),p}function fo(s,a,c,d){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function Oy(s,a,c,d,h){const p=uc(a,Ys),y=gt(),E=2&d;try{Oo(-1),E&&a.length>ht&&zo(s,a,ht,!1),Dr(E?2:0,h);const b=E?p:null,S=ul(b);try{null!==b&&(b.dirty=!1),c(d,h)}finally{Zp(b,S)}}finally{E&&null===a[Ys]&&Py(a,Ys),Oo(y),Dr(E?3:1,h)}}function um(s,a,c){if(Iu(a)){const d=Ar(null);try{const p=a.directiveEnd;for(let y=a.directiveStart;y<p;y++){const E=s.data[y];E.contentQueries&&E.contentQueries(1,c[y],y)}}finally{Ar(d)}}}function Wo(s,a,c){Eh()&&(function s3(s,a,c,d){const h=c.directiveStart,p=c.directiveEnd;Js(c)&&function qD(s,a,c){const d=fr(a,s),h=Fy(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const E=Ql(s,am(s,h,null,y,d,a,null,s[Jc].rendererFactory.createRenderer(d,c),null,null,null));s[a.index]=E}(a,c,s.data[h+c.componentOffset]),s.firstCreatePass||Bu(c,a),di(d,a);const y=c.initialInputs;for(let E=h;E<p;E++){const T=s.data[E],b=io(a,s,E,c);di(b,a),null!==y&&ki(0,E-h,b,T,0,y),Gi(T)&&(ri(c.index,a)[Sn]=io(a,s,E,c))}}(s,a,c,fr(c,a)),64==(64&c.flags)&&Ba(s,a,c))}function ky(s,a,c=fr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],E=-1===y?c(a,s):s[y];s[h++]=E}}}function Fy(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Ly(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function Ly(s,a,c,d,h,p,y,E,T,b,S){const N=ht+d,V=N+h,H=function e3(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:At);return c}(N,V),ae="function"==typeof b?b():b;return H[ze]={type:s,blueprint:H,template:c,queries:null,viewQuery:E,declTNode:a,data:H.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:ae,incompleteFirstPass:!1,ssrId:S}}let sf=s=>null;function Uy(s,a,c,d){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const p=s[h];null===d?r3(c,a,h,p):d.hasOwnProperty(h)&&r3(c,a,d[h],p)}return c}function r3(s,a,c,d){s.hasOwnProperty(c)?s[c].push(a,d):s[c]=[a,d]}function Oi(s,a,c,d,h,p,y,E){const T=fr(a,c);let S,b=a.inputs;!E&&null!=b&&(S=b[d])?(Zy(s,c,S,d,h),Js(a)&&function Ok(s,a){const c=ri(a,s);16&c[Ct]||(c[Ct]|=64)}(c,a.index)):3&a.type&&(d=function BD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,a.value||"",d):h,p.setProperty(T,d,h))}function cm(s,a,c,d){if(Eh()){const h=null===d?null:{"":-1},p=function Vk(s,a){const c=s.directiveRegistry;let d=null,h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];if(Fp(a,y.selectors,!1))if(d||(d=[]),Gi(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),o3(s,a,E.length)}else d.unshift(y),o3(s,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,c);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&Vy(s,a,c,y,h,E),h&&function ZD(s,a,c){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new K(-301,!1);d.push(a[h],p)}}}(c,d,h)}c.mergedAttrs=mu(c.mergedAttrs,c.attrs)}function Vy(s,a,c,d,h,p){for(let b=0;b<d.length;b++)ju(Bu(c,a),s,d[b].type);!function pi(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,d.length);for(let b=0;b<d.length;b++){const S=d[b];S.providersResolver&&S.providersResolver(S)}let y=!1,E=!1,T=fo(s,a,d.length,null);for(let b=0;b<d.length;b++){const S=d[b];c.mergedAttrs=mu(c.mergedAttrs,S.hostAttrs),jD(s,c,a,T,S),By(T,S,h),null!==S.contentQueries&&(c.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(c.flags|=64);const N=S.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((s.preOrderHooks??=[]).push(c.index),y=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(c.index),E=!0),T++}!function i3(s,a,c){const h=a.directiveEnd,p=s.data,y=a.attrs,E=[];let T=null,b=null;for(let S=a.directiveStart;S<h;S++){const N=p[S],V=c?c.get(N):null,ae=V?V.outputs:null;T=Uy(N.inputs,S,T,V?V.inputs:null),b=Uy(N.outputs,S,b,ae);const be=null===T||null===y||Yd(a)?null:$D(T,S,y);E.push(be)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=T,a.outputs=b}(s,c,p)}function Ba(s,a,c){const d=c.directiveStart,h=c.directiveEnd,p=c.index,y=function M1(){return ft.lFrame.currentDirectiveIndex}();try{Oo(p);for(let E=d;E<h;E++){const T=s.data[E],b=a[E];El(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Uk(T,b)}}finally{Oo(-1),El(y)}}function Uk(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function o3(s,a,c){a.componentOffset=c,(s.components??=[]).push(a.index)}function By(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;Gi(a)&&(c[""]=s)}}function jD(s,a,c,d,h){s.data[d]=h;const p=h.factory||(h.factory=da(h.type)),y=new Ri(p,Gi(h),Us);s.blueprint[d]=y,c[d]=y,function Fk(s,a,c,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~a.index;(function Lk(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=E&&y.push(E),y.push(c,d,p)}}(s,a,d,fo(s,c,h.hostVars,At),h)}function R(s,a,c,d,h,p){const y=fr(s,a);!function rr(s,a,c,d,h,p,y){if(null==p)s.removeAttribute(a,h,c);else{const E=null==y?W(p):y(p,d||"",h);s.setAttribute(a,h,E,c)}}(a[mt],y,p,s.value,c,d,h)}function ki(s,a,c,d,h,p){const y=p[a];if(null!==y)for(let E=0;E<y.length;)_e(d,c,y[E++],y[E++],y[E++])}function _e(s,a,c,d,h){const p=Ar(null);try{const y=s.inputTransforms;null!==y&&y.hasOwnProperty(d)&&(h=y[d].call(a,h)),null!==s.setInput?s.setInput(a,h,c,d):a[d]=h}finally{Ar(p)}}function $D(s,a,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let E=0;E<y.length;E+=2)if(y[E]===a){d.push(p,y[E+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function a3(s,a,c,d){return[s,!0,!1,a,null,0,d,c,null,null,null]}function u3(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d+1];if(-1!==p){const y=s.data[p];wh(c[d]),y.contentQueries(2,a[p],p)}}}function Ql(s,a){return s[Si]?s[So][Di]=a:s[Si]=a,s[So]=a,a}function lm(s,a,c){wh(0);const d=Ar(null);try{a(s,c)}finally{Ar(d)}}function c3(s){return s[la]||(s[la]=[])}function l3(s){return s.cleanup||(s.cleanup=[])}function h3(s,a){const c=s[Zr],d=c?c.get(Ua,null):null;d&&d.handleError(a)}function Zy(s,a,c,d,h){for(let p=0;p<c.length;){const y=c[p++],E=c[p++];_e(s.data[y],a[y],d,E,h)}}function Ko(s,a,c){const d=Du(a,s);!function Bl(s,a,c){s.setValue(a,c)}(s[mt],d,c)}function HD(s,a){const c=ri(a,s),d=c[ze];!function GD(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])}(d,c);const h=c[un];null!==h&&null===c[Cs]&&(c[Cs]=co(h,c[Zr])),jy(d,c,c[Sn])}function jy(s,a,c){er(a);try{const d=s.viewQuery;null!==d&&lm(1,d,c);const h=s.template;null!==h&&Oy(s,a,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&u3(s,a),s.staticViewQueries&&lm(2,s.viewQuery,c);const p=s.components;null!==p&&function zD(s,a){for(let c=0;c<a.length;c++)HD(s,a[c])}(a,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[Ct]&=-5,Tl()}}let f3=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(c,d,h){const p=typeof Zone>"u"?null:Zone.current,y=function N_(s,a,c){const d=Object.create(gl);c&&(d.consumerAllowSignalWrites=!0),d.fn=s,d.schedule=a;const h=y=>{d.cleanupFn=y};return d.ref={notify:()=>D_(d),run:()=>{if(d.dirty=!1,d.hasRun&&!cl(d))return;d.hasRun=!0;const y=ul(d);try{d.cleanupFn(),d.cleanupFn=hh,d.fn(h)}finally{Zp(d,y)}},cleanup:()=>d.cleanupFn()},d.ref}(c,b=>{this.all.has(b)&&this.queue.set(b,p)},h);let E;this.all.add(y),y.notify();const T=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=d?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:()=>new s})}return s})();function dm(s,a,c){let d=c?s.styles:null,h=c?s.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?p=E:1==p?h=xe(h,E):2==p&&(d=xe(d,E+": "+a[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function af(s,a,c,d,h=!1){for(;null!==c;){const p=a[c.index];null!==p&&d.push(rn(p)),Wn(p)&&p3(p,d);const y=c.type;if(8&y)af(s,a,c.child,d);else if(32&y){const E=Y_(c,a);let T;for(;T=E();)d.push(T)}else if(16&y){const E=rI(a,c);if(Array.isArray(E))d.push(...E);else{const T=Ma(a[wn]);af(T[ze],T,E,d,!0)}}c=h?c.projectionNext:c.next}return d}function p3(s,a){for(let c=Vn;c<s.length;c++){const d=s[c],h=d[ze].firstChild;null!==h&&af(d[ze],d,h,a)}s[Mi]!==s[un]&&a.push(s[Mi])}function hm(s,a,c,d=!0){const h=a[Jc],p=h.rendererFactory,y=h.afterRenderEventManager;p.begin?.(),y?.begin();try{g3(s,a,s.template,c)}catch(T){throw d&&h3(a,T),T}finally{p.end?.(),h.effectManager?.flush(),y?.end()}}function g3(s,a,c,d){const h=a[Ct];if(256!=(256&h)){a[Jc].effectManager?.flush(),er(a);try{_h(a),function Ih(s){return ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Oy(s,a,c,2,d);const y=3==(3&h);if(y){const b=s.preOrderCheckHooks;null!==b&&to(a,b,null)}else{const b=s.preOrderHooks;null!==b&&no(a,b,0,null),ku(a,0)}if(function QD(s){for(let a=Yu(s);null!==a;a=Ul(a)){if(!a[el])continue;const c=a[Mo];for(let d=0;d<c.length;d++){O_(c[d])}}}(a),m3(a,2),null!==s.contentQueries&&u3(s,a),y){const b=s.contentCheckHooks;null!==b&&to(a,b)}else{const b=s.contentHooks;null!==b&&no(a,b,1),ku(a,1)}!function XI(s,a){const c=s.hostBindingOpCodes;if(null===c)return;const d=uc(a,as);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Oo(~p);else{const y=p,E=c[++h],T=c[++h];x1(E,y),d.dirty=!1;const b=ul(d);try{T(2,a[y])}finally{Zp(d,b)}}}}finally{null===a[as]&&Py(a,as),Oo(-1)}}(s,a);const E=s.components;null!==E&&y3(a,E,0);const T=s.viewQuery;if(null!==T&&lm(2,T,d),y){const b=s.viewCheckHooks;null!==b&&to(a,b)}else{const b=s.viewHooks;null!==b&&no(a,b,2),ku(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Ct]&=-73,_l(a)}finally{Tl()}}}function m3(s,a){for(let c=Yu(s);null!==c;c=Ul(c))for(let d=Vn;d<c.length;d++)_3(c[d],a)}function YD(s,a,c){_3(ri(a,s),c)}function _3(s,a){if(!function D1(s){return 128==(128&s[Ct])}(s))return;const c=s[ze],d=s[Ct];if(80&d&&0===a||1024&d||2===a)g3(c,s,c.template,s[Sn]);else if(s[Do]>0){m3(s,1);const h=c.components;null!==h&&y3(s,h,1)}}function y3(s,a,c){for(let d=0;d<a.length;d++)YD(s,a[d],c)}class uf{get rootNodes(){const a=this._lView,c=a[ze];return af(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(a){this._lView[Sn]=a}get destroyed(){return 256==(256&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[en];if(Wn(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Ju(a,d),Pl(c,d))}this._attachedToViewContainer=!1}Ra(this._lView[ze],this._lView)}onDestroy(a){!function yh(s,a){if(256==(256&s[Ct]))throw new K(911,!1);null===s[Hi]&&(s[Hi]=[]),s[Hi].push(a)}(this._lView,a)}markForCheck(){ef(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){this._lView[Ct]|=128}detectChanges(){hm(this._lView[ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function FA(s,a){Lh(s,a,a[mt],2,null,null)}(this._lView[ze],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=a}}class fm extends uf{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;hm(a[ze],a,a[Sn],!1)}checkNoChanges(){}get context(){return null}}class v3 extends Fa{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Lt(a);return new gm(c,this.ngModule)}}function Za(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class JD{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=fu(d);const h=this.injector.get(a,zl,d);return h!==zl||c===zl?h:this.parentInjector.get(a,c,d)}}class gm extends kI{get inputs(){const a=this.componentDef,c=a.inputTransforms,d=Za(a.inputs);if(null!==c)for(const h of d)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return d}get outputs(){return Za(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Xd(s){return s.map(Gc).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let p=(h=h||this.ngModule)instanceof ao?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new JD(a,p):a,E=y.get(LI,null);if(null===E)throw new K(407,!1);const N={rendererFactory:E,sanitizer:y.get(Xg,null),effectManager:y.get(f3,null),afterRenderEventManager:y.get(lo,null)},V=E.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",ae=d?function FD(s,a,c,d){const p=d.get(MD,!1)||c===ws.ShadowDom,y=s.selectRootElement(a,p);return function LD(s){sf(s)}(y),y}(V,d,this.componentDef.encapsulation,y):Sg(V,H,function pm(s){const a=s.toLowerCase();return"svg"===a?gh:"math"===a?"math":null}(H)),nt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let me=null;null!==ae&&(me=co(ae,y,!0));const Et=Ly(0,null,null,1,0,null,null,null,null,null,null),Rt=am(null,Et,null,nt,null,null,N,V,y,null,me);let sn,_r;er(Rt);try{const Ji=this.componentDef;let Xa,y0=null;Ji.findHostDirectiveDefs?(Xa=[],y0=new Map,Ji.findHostDirectiveDefs(Ji,Xa,y0),Xa.push(Ji)):Xa=[Ji];const jx=function cf(s,a){const c=s[ze],d=ht;return s[d]=a,nf(c,d,2,"#host",null)}(Rt,ae),v0=function Zk(s,a,c,d,h,p,y){const E=h[ze];!function jk(s,a,c,d){for(const h of s)a.mergedAttrs=mu(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(dm(a,a.mergedAttrs,!0),null!==c&&oI(d,c,a))}(d,s,a,y);let T=null;null!==a&&(T=co(a,h[Zr]));const b=p.rendererFactory.createRenderer(a,c);let S=16;c.signals?S=4096:c.onPush&&(S=64);const N=am(h,Fy(c),null,S,h[s.index],s,p,b,null,null,T);return E.firstCreatePass&&o3(E,s,d.length-1),Ql(h,N),h[s.index]=N}(jx,ae,Ji,Xa,Rt,N,V);_r=Su(Et,ht),ae&&function Qo(s,a,c,d){if(d)mn(s,c,["ng-version",Cy.full]);else{const{attrs:h,classes:p}=function d_(s){const a=[],c=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++d]):8===h&&c.push(p);else{if(!ti(h))break;h=p}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&mn(s,c,h),p&&p.length>0&&sI(s,c,p.join(" "))}}(V,Ji,ae,d),void 0!==c&&function eS(s,a,c){const d=s.projection=[];for(let h=0;h<a.length;h++){const p=c[h];d.push(null!=p?Array.from(p):null)}}(_r,this.ngContentSelectors,c),sn=function XD(s,a,c,d,h,p){const y=pr(),E=h[ze],T=fr(y,h);Vy(E,h,y,c,null,d);for(let S=0;S<c.length;S++)di(io(h,E,y.directiveStart+S,y),h);Ba(E,h,y),T&&di(T,h);const b=io(h,E,y.directiveStart+y.componentOffset,y);if(s[Sn]=h[Sn]=b,null!==p)for(const S of p)S(b,a);return um(E,y,s),b}(v0,Ji,Xa,y0,Rt,[Jl]),jy(Et,Rt,null)}finally{Tl()}return new Fi(this.componentType,sn,Fs(_r,Rt),Rt,_r)}}class Fi extends Ak{constructor(a,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new fm(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const p=this._rootLView;Zy(p[ze],p,h,a,c),this.previousInputValues.set(a,c),ef(ri(this._tNode.index,p))}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Jl(){const s=pr();xs(ge()[ze],s)}function $y(s){let a=function qy(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let h;if(Gi(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new K(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const y=s;y.inputs=Hy(s.inputs),y.inputTransforms=Hy(s.inputTransforms),y.declaredInputs=Hy(s.declaredInputs),y.outputs=Hy(s.outputs);const E=h.hostBindings;E&&$k(s,E);const T=h.viewQuery,b=h.contentQueries;if(T&&Gy(s,T),b&&gi(s,b),Qe(s.inputs,h.inputs),Qe(s.declaredInputs,h.declaredInputs),Qe(s.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),Qe(y.inputTransforms,h.inputTransforms)),Gi(h)&&h.data.animation){const S=s.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(s),E===$y&&(c=!1)}}a=Object.getPrototypeOf(a)}!function qk(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=mu(h.hostAttrs,c=mu(c,h.hostAttrs))}}(d)}function Hy(s){return s===bi?{}:s===Zt?[]:s}function Gy(s,a){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function gi(s,a){const c=s.contentQueries;s.contentQueries=c?(d,h,p)=>{a(d,h,p),c(d,h,p)}:a}function $k(s,a){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function _m(s){const a=s.inputConfig,c={};for(const d in a)if(a.hasOwnProperty(d)){const h=a[d];Array.isArray(h)&&h[2]&&(c[d]=h[2])}s.inputTransforms=c}function ym(s){return!!vm(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function vm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function po(s,a,c){return s[a]=c}function Hr(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function cc(s,a,c,d){const h=Hr(s,a,c);return Hr(s,a+1,d)||h}function Ky(s,a,c,d){const h=ge();return Hr(h,Ru(),a)&&(Ut(),R(yn(),h,s,a,c,d)),Ky}function lc(s,a,c,d){return Hr(s,Ru(),c)?a+W(c)+d:At}function dc(s,a,c,d,h,p,y,E){const b=function df(s,a,c,d,h){const p=cc(s,a,c,d);return Hr(s,a+2,h)||p}(s,function cs(){return ft.lFrame.bindingIndex}(),c,h,y);return eo(3),b?a+W(c)+d+W(h)+p+W(y)+E:At}function P3(s,a,c,d,h,p,y,E){const T=ge(),b=Ut(),S=s+ht,N=b.firstCreatePass?function vS(s,a,c,d,h,p,y,E,T){const b=a.consts,S=nf(a,s,4,y||null,bs(b,E));cm(a,c,S,bs(b,T)),xs(a,S);const N=S.tView=Ly(2,S,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,b,null);return null!==a.queries&&(a.queries.template(a,S),N.queries=a.queries.embeddedTView(S)),S}(S,b,T,a,c,d,h,p,y):b.data[S];As(N,!1);const V=ev(b,T,N,s);va()&&Ng(b,T,V,N),di(V,T),Ql(T,T[S]=a3(V,T,V,N)),wu(N)&&Wo(b,T,N),null!=y&&ky(T,N,E)}let ev=function O3(s,a,c,d){return Ss(!0),a[mt].createComment("")};function L3(s){return ga(function S1(){return ft.lFrame.contextLView}(),ht+s)}function tv(s,a,c){const d=ge();return Hr(d,Ru(),a)&&Oi(Ut(),yn(),d,s,a,d[mt],c,!1),tv}function Jo(s,a,c,d,h){const y=h?"class":"style";Zy(s,c,a.inputs[y],y,d)}function sd(s,a,c,d){const h=ge(),p=Ut(),y=ht+s,E=h[mt],T=p.firstCreatePass?function nv(s,a,c,d,h,p){const y=a.consts,T=nf(a,s,2,d,bs(y,h));return cm(a,c,T,bs(y,p)),null!==T.attrs&&dm(T,T.attrs,!1),null!==T.mergedAttrs&&dm(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(y,p,h,a,c,d):p.data[y],b=Tm(p,h,T,E,a,s);h[y]=b;const S=wu(T);return As(T,!0),oI(E,b,T),32!=(32&T.flags)&&va()&&Ng(p,h,b,T),0===function _a(){return ft.lFrame.elementDepthCount}()&&di(b,h),function vh(){ft.lFrame.elementDepthCount++}(),S&&(Wo(p,h,T),um(p,T,h)),null!==d&&ky(h,T),sd}function mc(){let s=pr();Mu()?rg():(s=s.parent,As(s,!1));const a=s;(function yl(s){return ft.skipHydrationRootTNode===s})(a)&&function F_(){ft.skipHydrationRootTNode=null}(),function k_(){ft.lFrame.elementDepthCount--}();const c=Ut();return c.firstCreatePass&&(xs(c,s),Iu(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ls(s){return 0!=(8&s.flags)}(a)&&Jo(c,a,ge(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function xn(s){return 0!=(16&s.flags)}(a)&&Jo(c,a,ge(),a.stylesWithoutHost,!1),mc}function _f(s,a,c,d){return sd(s,a,c,d),mc(),_f}let Tm=(s,a,c,d,h,p)=>(Ss(!0),Sg(d,h,function Cl(){return ft.lFrame.currentNamespace}()));function od(s,a,c){const d=ge(),h=Ut(),p=s+ht,y=h.firstCreatePass?function iv(s,a,c,d,h){const p=a.consts,y=bs(p,d),E=nf(a,s,8,"ng-container",y);return null!==y&&dm(E,y,!0),cm(a,c,E,bs(p,h)),null!==a.queries&&a.queries.elementStart(a,E),E}(p,h,d,a,c):h.data[p];As(y,!0);const E=V3(h,d,y,s);return d[p]=E,va()&&Ng(h,d,E,y),di(E,d),wu(y)&&(Wo(h,d,y),um(h,y,d)),null!=c&&ky(d,y),od}function ad(){let s=pr();const a=Ut();return Mu()?rg():(s=s.parent,As(s,!1)),a.firstCreatePass&&(xs(a,s),Iu(s)&&a.queries.elementEnd(s)),ad}let V3=(s,a,c,d)=>(Ss(!0),J_(a[mt],""));function B3(){return ge()}function vf(s){return!!s&&"function"==typeof s.then}function ov(s){return!!s&&"function"==typeof s.subscribe}function Cm(s,a,c,d){const h=ge(),p=Ut(),y=pr();return function bm(s,a,c,d,h,p,y){const E=wu(d),b=s.firstCreatePass&&l3(s),S=a[Sn],N=c3(a);let V=!0;if(3&d.type||y){const be=fr(d,a),je=y?y(be):be,nt=N.length,me=y?Rt=>y(rn(Rt[d.index])):d.index;let Et=null;if(!y&&E&&(Et=function IS(s,a,c,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===d){const E=a[la],T=h[p+2];return E.length>T?E[T]:null}"string"==typeof y&&(p+=2)}return null}(s,a,h,d.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,V=!1;else{p=Am(d,a,S,p,!1);const Rt=c.listen(je,h,p);N.push(p,Rt),b&&b.push(h,me,nt,nt+1)}}else p=Am(d,a,S,p,!1);const H=d.outputs;let ae;if(V&&null!==H&&(ae=H[h])){const be=ae.length;if(be)for(let je=0;je<be;je+=2){const sn=a[ae[je]][ae[je+1]].subscribe(p),_r=N.length;N.push(p,sn),b&&b.push(h,d.index,_r,-(_r+1))}}}(p,h,h[mt],y,s,a,d),Cm}function j3(s,a,c,d){try{return Dr(6,a,c),!1!==c(d)}catch(h){return h3(s,h),!1}finally{Dr(7,a,c)}}function Am(s,a,c,d,h){return function p(y){if(y===Function)return d;ef(s.componentOffset>-1?ri(s.index,a):a);let T=j3(a,c,d,y),b=p.__ngNextListenerFn__;for(;b;)T=j3(a,c,b,y)&&T,b=b.__ngNextListenerFn__;return h&&!1===T&&y.preventDefault(),T}}function Dm(s=1){return function Ro(s){return(ft.lFrame.contextLView=function Po(s,a){for(;s>0;)a=a[os],s--;return a}(s,ft.lFrame.contextLView))[Sn]}(s)}function uv(s,a,c){return Ef(s,"",a,"",c),uv}function Ef(s,a,c,d,h){const p=ge(),y=lc(p,a,c,d);return y!==At&&Oi(Ut(),yn(),p,s,y,p[mt],h,!1),Ef}function ud(s,a){return s<<17|a<<2}function Ga(s){return s>>17&32767}function If(s){return 2|s}function _c(s){return(131068&s)>>2}function Q3(s,a){return-131069&s|a<<2}function Y3(s){return 1|s}function X3(s,a,c,d,h){const p=s[c+1],y=null===a;let E=d?Ga(p):_c(p),T=!1;for(;0!==E&&(!1===T||y);){const S=s[E+1];CS(s[E],a)&&(T=!0,s[E+1]=d?Y3(S):If(S)),E=d?Ga(S):_c(S)}T&&(s[c+1]=d?If(p):Y3(p))}function CS(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&I(s,a)>=0}function wf(s,a){return function mo(s,a,c,d){const h=ge(),p=Ut(),y=eo(2);p.firstUpdatePass&&function Tf(s,a,c,d){const h=s.data;if(null===h[c+1]){const p=h[gt()],y=function xS(s,a){return a>=s.expandoStartIndex}(s,c);(function uw(s,a){return 0!=(s.flags&(a?8:16))})(p,d)&&null===a&&!y&&(a=!1),a=function Kk(s,a,c,d){const h=function Kn(s){const a=ft.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=Cf(c=mv(null,s,a,c,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(c=mv(h,s,a,c,d),null===p){let T=function MS(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==_c(d))return s[Ga(d)]}(s,a,d);void 0!==T&&Array.isArray(T)&&(T=mv(null,s,a,T[1],d),T=Cf(T,a.attrs,d),function NS(s,a,c,d){s[Ga(c?a.classBindings:a.styleBindings)]=d}(s,a,d,T))}else p=function RS(s,a,c){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=Cf(d,s[p].hostAttrs,c);return Cf(d,a.attrs,c)}(s,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,d),function hv(s,a,c,d,h,p){let y=p?a.classBindings:a.styleBindings,E=Ga(y),T=_c(y);s[d]=c;let S,b=!1;if(Array.isArray(c)?(S=c[1],(null===S||I(c,S)>0)&&(b=!0)):S=c,h)if(0!==T){const V=Ga(s[E+1]);s[d+1]=ud(V,E),0!==V&&(s[V+1]=Q3(s[V+1],d)),s[E+1]=function TS(s,a){return 131071&s|a<<17}(s[E+1],d)}else s[d+1]=ud(E,0),0!==E&&(s[E+1]=Q3(s[E+1],d)),E=d;else s[d+1]=ud(T,0),0===E?E=d:s[T+1]=Q3(s[T+1],d),T=d;b&&(s[d+1]=If(s[d+1])),X3(s,S,d,!0),X3(s,S,d,!1),function J3(s,a,c,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&I(p,a)>=0&&(c[d+1]=Y3(c[d+1]))}(a,S,s,d,p),y=ud(E,T),p?a.classBindings=y:a.styleBindings=y}(h,p,a,c,y,d)}}(p,s,y,d),a!==At&&Hr(h,y,a)&&function aw(s,a,c,d,h,p,y,E){if(!(3&a.type))return;const T=s.data,b=T[E+1],S=function dv(s){return 1==(1&s)}(b)?bf(T,a,c,h,_c(b),y):void 0;yo(S)||(yo(p)||function lv(s){return 2==(2&s)}(b)&&(p=bf(T,null,c,h,E,y)),function HA(s,a,c,d,h){if(a)h?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:Ll.DashCase;null==h?s.removeStyle(c,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Ll.Important),s.setStyle(c,d,h,p))}}(d,y,Du(gt(),c),h,p))}(p,p.data[gt()],h,h[mt],s,h[y+1]=function FS(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Ve(Vo(s)))),s}(a,c),d,y)}(s,a,null,!0),wf}function mv(s,a,c,d,h){let p=null;const y=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<y&&(p=a[E],d=Cf(d,p.hostAttrs,h),p!==s);)E++;return null!==s&&(c.directiveStylingLast=E),d}function Cf(s,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ai(s,y,!!c||a[++p]))}return void 0===s?null:s}function bf(s,a,c,d,h,p){const y=null===a;let E;for(;h>0;){const T=s[h],b=Array.isArray(T),S=b?T[1]:T,N=null===S;let V=c[h+1];V===At&&(V=N?Zt:void 0);let H=N?oo(V,d):S===d?V:void 0;if(b&&!yo(H)&&(H=oo(T,d)),yo(H)&&(E=H,y))return E;const ae=s[h+1];h=y?Ga(ae):_c(ae)}if(null!==a){let T=p?a.residualClasses:a.residualStyles;null!=T&&(E=oo(T,d))}return E}function yo(s){return void 0!==s}function cw(s,a=""){const c=ge(),d=Ut(),h=s+ht,p=d.firstCreatePass?nf(d,h,1,a,null):d.data[h],y=lw(d,c,p,a,s);c[h]=y,va()&&Ng(d,c,y,p),As(p,!1)}let lw=(s,a,c,d,h)=>(Ss(!0),function Na(s,a){return s.createText(a)}(a[mt],d));function dw(s){return ld("",s,""),dw}function ld(s,a,c){const d=ge(),h=lc(d,s,a,c);return h!==At&&Ko(d,gt(),h),ld}function Af(s,a,c,d,h,p,y){const E=ge(),T=dc(E,s,a,c,d,h,p,y);return T!==At&&Ko(E,gt(),T),Af}const yc=void 0;var GS=["en",[["a","p"],["AM","PM"],yc],[["AM","PM"],yc,yc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yc,"{1} 'at' {0}",yc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xv(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let vc={};function Sf(s){const a=function Mv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Dw(a);if(c)return c;const d=a.split("-")[0];if(c=Dw(d),c)return c;if("en"===d)return GS;throw new K(701,!1)}function Aw(s){return Sf(s)[za.PluralCase]}function Dw(s){return s in vc||(vc[s]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[s]),vc[s]}var za=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(za||{});const Wa="en-US";let gr=Wa;function Kv(s,a,c,d,h){if(s=we(s),Array.isArray(s))for(let p=0;p<s.length;p++)Kv(s[p],a,c,d,h);else{const p=Ut(),y=ge(),E=pr();let T=Pa(s)?s:we(s.provide);const b=qo(s),S=1048575&E.providerIndexes,N=E.directiveStart,V=E.providerIndexes>>20;if(Pa(s)||!s.multi){const H=new Ri(b,h,Us),ae=Yv(T,a,h?S:S+V,N);-1===ae?(ju(Bu(E,y),p,T),Qv(p,s,a.length),a.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(H),y.push(H)):(c[ae]=H,y[ae]=H)}else{const H=Yv(T,a,S+V,N),ae=Yv(T,a,S,S+V),je=ae>=0&&c[ae];if(h&&!je||!h&&!(H>=0&&c[H])){ju(Bu(E,y),p,T);const nt=function y2(s,a,c,d,h){const p=new Ri(s,c,Us);return p.multi=[],p.index=a,p.componentProviders=0,Vm(p,h,d&&!c),p}(h?Qw:Jv,c.length,h,d,b);!h&&je&&(c[ae].providerFactory=nt),Qv(p,s,a.length,0),a.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(nt),y.push(nt)}else Qv(p,s,H>-1?H:ae,Vm(c[h?ae:H],b,!h&&d));!h&&d&&je&&c[ae].componentProviders++}}}function Qv(s,a,c,d){const h=Pa(a),p=function sc(s){return!!s.useClass}(a);if(h||p){const T=(p?we(a.useClass):a).prototype.ngOnDestroy;if(T){const b=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const S=b.indexOf(c);-1===S?b.push(c,[d,T]):b[S+1].push(d,T)}else b.push(c,T)}}}function Vm(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function Yv(s,a,c,d){for(let h=c;h<d;h++)if(a[h]===s)return h;return-1}function Jv(s,a,c,d){return Of(this.multi,[])}function Qw(s,a,c,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=io(c,c[ze],this.providerFactory.index,d);p=E.slice(0,y),Of(h,p);for(let T=y;T<E.length;T++)p.push(E[T])}else p=[],Of(h,p);return p}function Of(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function Yw(s,a=[]){return c=>{c.providersResolver=(d,h)=>function Kw(s,a,c){const d=Ut();if(d.firstCreatePass){const h=Gi(s);Kv(c,d.data,d.blueprint,h,!0),Kv(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class Ic{}class Bm{}function v2(s,a){return new Xv(s,a??null,[])}class Xv extends Ic{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new v3(this);const h=Cr(a);this._bootstrapComponents=Va(h.bootstrap),this._r3Injector=nm(a,c,[{provide:Ic,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver},...d],Ve(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class kf extends Bm{constructor(a){super(),this.moduleType=a}create(a){return new Xv(this.moduleType,a,[])}}class Zm extends Ic{constructor(a){super(),this.componentFactoryResolver=new v3(this),this.instance=null;const c=new fi([...a.providers,{provide:Ic,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver}],a.parent||jg(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Xw(s,a,c=null){return new Zm({providers:s,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let e4=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=vI(0,c.type),h=d.length>0?Xw([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=wt({token:s,providedIn:"environment",factory:()=>new s(an(ao))})}return s})();function eT(s){s.getStandaloneInjector=a=>a.get(e4).getOrCreateStandaloneInjector(s)}function Hm(s,a,c,d){return zm(ge(),Sr(),s,a,c,d)}function Gm(s,a){const c=s[a];return c===At?void 0:c}function zm(s,a,c,d,h,p){const y=a+c;return Hr(s,y,h)?po(s,y+1,p?d.call(p,h):d(h)):Gm(s,y+1)}function aT(s,a){const c=Ut();let d;const h=s+ht;c.firstCreatePass?(d=function aF(s,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(s===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks??=[]).push(h,d.onDestroy)):d=c.data[h];const p=d.factory||(d.factory=da(d.type)),E=Bt(Us);try{const T=oi(!1),b=p();return oi(T),function F3(s,a,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=d}(c,ge(),h,b),b}finally{Bt(E)}}function uT(s,a,c){const d=s+ht,h=ge(),p=ga(h,d);return Lf(h,d)?zm(h,Sr(),a,p.transform,c,p):p.transform(c)}function cT(s,a,c,d){const h=s+ht,p=ge(),y=ga(p,h);return Lf(p,h)?function D2(s,a,c,d,h,p,y){const E=a+c;return cc(s,E,h,p)?po(s,E+2,y?d.call(y,h,p):d(h,p)):Gm(s,E+2)}(p,Sr(),a,y.transform,c,d,y):y.transform(c,d)}function Lf(s,a){return s[ze].data[a].pure}function s4(){return this._results[Symbol.iterator]()}class wc{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ho)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=wc.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=s4)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function Mr(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Rl(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=a[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function O2(s,a,c,d=!0){const h=a[ze];if(function fk(s,a,c,d){const h=Vn+d,p=c.length;d>0&&(c[h-1][Di]=a),d<p-Vn?(a[Di]=c[h],Nh(c,Vn+d,a)):(c.push(a),a[Di]=null),a[en]=c;const y=a[Xc];null!==y&&c!==y&&function UA(s,a){const c=s[Mo];a[wn]!==a[en][en][wn]&&(s[el]=!0),null===c?s[Mo]=[a]:c.push(a)}(y,a);const E=a[Ts];null!==E&&E.insertView(s),a[Ct]|=128}(h,a,s,c),d){const p=kh(c,s),y=a[mt],E=xg(y,s[Mi]);null!==E&&function kA(s,a,c,d,h,p){d[un]=h,d[En]=a,Lh(s,d,c,1,h,p)}(h,s[En],y,a,E,p)}}let Uf=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=gd}return s})();const cF=Uf,Vf=class extends cF{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,d){const h=function dT(s,a,c,d){const h=a.tView,E=am(s,h,c,4096&s[Ct]?4096:16,null,a,null,null,null,d?.injector??null,d?.hydrationInfo??null);E[Xc]=s[a.index];const b=s[Ts];return null!==b&&(E[Ts]=b.createEmbeddedView(h)),jy(h,E,c),E}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:d});return new uf(h)}};function gd(){return Tc(pr(),ge())}function Tc(s,a){return 4&s.type?new Vf(a,s,Fs(s,a)):null}let _d=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=c4}return s})();function c4(){return Ka(pr(),ge())}const yd=_d,l4=class extends yd{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Fs(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const a=Zu(this._hostTNode,this._hostLView);if(jr(a)){const c=ro(a,this._hostLView),d=Zn(a);return new xr(c[ze].data[d+8],c)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=hT(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(a,c,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const E=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(E,h,false),E}createComponent(a,c,d,h,p){const y=a&&!function Fo(s){return"function"==typeof s}(a);let E;if(y)E=c;else{const be=c||{};E=be.index,d=be.injector,h=be.projectableNodes,p=be.environmentInjector||be.ngModuleRef}const T=y?a:new gm(Lt(a)),b=d||this.parentInjector;if(!p&&null==T.ngModule){const je=(y?b:this.parentInjector).get(ao,null);je&&(p=je)}Lt(T.componentType??{});const H=T.create(b,h,null,p);return this.insertImpl(H.hostView,E,false),H}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const h=a._lView;if(function Bn(s){return Wn(s[en])}(h)){const T=this.indexOf(a);if(-1!==T)this.detach(T);else{const b=h[en],S=new l4(b,b[En],b[en]);S.detach(S.indexOf(a))}}const y=this._adjustIndex(c),E=this._lContainer;return O2(E,h,y,!d),a.attachToViewContainerRef(),Nh(Bf(E),y,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=hT(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Ju(this._lContainer,c);d&&(Pl(Bf(this._lContainer),c),Ra(d[ze],d))}detach(a){const c=this._adjustIndex(a,-1),d=Ju(this._lContainer,c);return d&&null!=Pl(Bf(this._lContainer),c)?new uf(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function hT(s){return s[8]}function Bf(s){return s[8]||(s[8]=[])}function Ka(s,a){let c;const d=a[s.index];return Wn(d)?c=d:(c=a3(d,a,null,s),a[s.index]=c,Ql(a,c)),Qa(c,a,s,d),new l4(c,s,a)}let Qa=function L2(s,a,c,d){if(s[Mi])return;let h;h=8&c.type?rn(d):function F2(s,a){const c=s[mt],d=c.createComment(""),h=fr(a,s);return Xu(c,xg(c,h),d,function Mg(s,a){return s.nextSibling(a)}(c,h),!1),d}(a,c),s[Mi]=h};class d4{constructor(a){this.queryList=a,this.matches=null}clone(){return new d4(this.queryList)}setDirty(){this.queryList.setDirty()}}class h4{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new h4(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==$2(a,c).matches&&this.queries[c].setDirty()}}class _s{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Ya{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new Ya(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Jm{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Jm(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,c,fF(c,p)),this.matchTNodeWithReadOption(a,c,qr(c,a,p,!1,!1))}else d===Uf?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,qr(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===$o||h===_d||h===Uf&&4&c.type)this.addMatch(c.index,-2);else{const p=qr(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function fF(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function f4(s,a,c,d){return-1===c?function U2(s,a){return 11&s.type?Fs(s,a):4&s.type?Tc(s,a):null}(a,s):-2===c?function V2(s,a,c){return c===$o?Fs(a,s):c===Uf?Tc(a,s):c===_d?Ka(a,s):void 0}(s,a,d):io(s,s[ze],c,a)}function pT(s,a,c,d){const h=a[Ts].queries[d];if(null===h.matches){const p=s.data,y=c.matches,E=[];for(let T=0;T<y.length;T+=2){const b=y[T];E.push(b<0?null:f4(a,p[b],y[T+1],c.metadata.read))}h.matches=E}return h.matches}function p4(s,a,c,d){const h=s.queries.getByIndex(c),p=h.matches;if(null!==p){const y=pT(s,a,h,c);for(let E=0;E<p.length;E+=2){const T=p[E];if(T>0)d.push(y[E/2]);else{const b=p[E+1],S=a[-T];for(let N=Vn;N<S.length;N++){const V=S[N];V[Xc]===V[en]&&p4(V[ze],V,b,d)}if(null!==S[Mo]){const N=S[Mo];for(let V=0;V<N.length;V++){const H=N[V];p4(H[ze],H,b,d)}}}}}return d}function gT(s){const a=ge(),c=Ut(),d=Ds();wh(d+1);const h=$2(c,d);if(s.dirty&&function xu(s){return 4==(4&s[Ct])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?p4(c,a,d,[]):pT(c,a,h,d);s.reset(p,Iy),s.notifyOnChanges()}return!0}return!1}function Z2(s,a,c,d){const h=Ut();if(h.firstCreatePass){const p=pr();(function q2(s,a,c){null===s.queries&&(s.queries=new Ya),s.queries.track(new Jm(a,c))})(h,new _s(a,c,d),p.index),function gF(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}!function mT(s,a,c){const d=new wc(4==(4&c));(function n3(s,a,c,d){const h=c3(a);h.push(c),s.firstCreatePass&&l3(s).push(d,h.length-1)})(s,a,d,d.destroy),null===a[Ts]&&(a[Ts]=new h4),a[Ts].queries.push(new d4(d))}(h,ge(),c)}function j2(){return function pF(s,a){return s[Ts].queries[a].queryList}(ge(),Ds())}function $2(s,a){return s.queries.getByIndex(a)}function H2(s,a){return Tc(s,a)}function ET(s){return!!Cr(s)}const ax=new Nt("Application Initializer");let jf=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=Jt(ax,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const p=h();if(vf(p))c.push(p);else if(ov(p)){const y=new Promise((E,T)=>{p.subscribe({complete:E,error:T})});c.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),m4=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const vn=new Nt("LocaleId",{providedIn:"root",factory:()=>Jt(vn,yt.Optional|yt.SkipSelf)||function ux(){return typeof $localize<"u"&&$localize.locale||Wa}()}),cx=new Nt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let AT=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class dx{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let DT=(()=>{class s{compileModuleSync(c){return new kf(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=Va(Cr(c).declarations).reduce((y,E)=>{const T=Lt(E);return T&&y.push(new gm(T)),y},[]);return new dx(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const u0=new Nt(""),c0=new Nt("");let Hf,Ex=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hf||(function C4(s){Hf=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}static#e=this.\u0275fac=function(d){return new(d||s)(an(nr),an(l0),an(c0))};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac})}return s})(),l0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Hf?.findTestabilityInTree(this,c,d)??null}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),Io=null;const PT=new Nt("AllowMultipleToken"),b4=new Nt("PlatformDestroyListeners"),A4=new Nt("appBootstrapListener");class x4{constructor(a,c){this.name=a,this.token=c}}function Cc(s,a,c=[]){const d=`Platform: ${a}`,h=new Nt(d);return(p=[])=>{let y=N4();if(!y||y.injector.get(PT,!1)){const E=[...c,...p,{provide:h,useValue:!0}];s?s(E):function M4(s){if(Io&&!Io.get(PT,!1))throw new K(400,!1);(function D4(){!function w1(s){qp=s}(()=>{throw new K(600,!1)})})(),Io=s;const a=s.get(VT);(function FT(s){s.get(yy,null)?.forEach(c=>c())})(s)}(function UT(s=[],a){return Pi.create({name:a,providers:[{provide:gs,useValue:"platform"},{provide:b4,useValue:new Set([()=>Io=null])},...s]})}(E,d))}return function LT(s){const a=N4();if(!a)throw new K(401,!1);return a}()}}function N4(){return Io?.get(VT)??null}let VT=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function wx(s="zone.js",a){return"noop"===s?new jI:"zone.js"===s?new nr(a):s}(d?.ngZone,function BT(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function E2(s,a,c){return new Xv(s,a,c)}(c.moduleType,this.injector,function qT(s){return[{provide:nr,useFactory:s},{provide:$h,multi:!0,useFactory:()=>{const a=Jt(Tx,{optional:!0});return()=>a.initialize()}},{provide:P4,useFactory:O4},{provide:Wl,useFactory:AD}]}(()=>h)),y=p.injector.get(Ua,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:T=>{y.handleError(T)}});p.onDestroy(()=>{bc(this._modules,p),E.unsubscribe()})}),function ZT(s,a,c){try{const d=c();return vf(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(y,h,()=>{const E=p.injector.get(jf);return E.runInitializers(),E.donePromise.then(()=>(function xw(s){Dt(s,"Expected localeId to be defined"),"string"==typeof s&&(gr=s.toLowerCase().replace(/_/g,"-"))}(p.injector.get(vn,Wa)||Wa),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,d=[]){const h=jT({},d);return function d0(s,a,c){const d=new kf(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(vd);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new K(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(b4,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||s)(an(Pi))};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function jT(s,a){return Array.isArray(a)?a.reduce(jT,s):{...s,...a}}let vd=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jt(P4),this.zoneIsStable=Jt(Wl),this.componentTypes=[],this.components=[],this.isStable=Jt(AT).hasPendingTasks.pipe((0,Ue.w)(c=>c?(0,ye.of)(!1):this.zoneIsStable),function re(s,a=Se.y){return s=s??Oe,(0,B.e)((c,d)=>{let h,p=!0;c.subscribe((0,Z.x)(d,y=>{const E=a(y);(p||!s(h,E))&&(p=!1,h=E,d.next(y))}))})}(),(0,Re.B)()),this._injector=Jt(ao)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof kI;if(!this._injector.get(jf).done)throw!h&&Br(c),new K(405,!1);let y;y=h?c:this._injector.get(Fa).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const E=function S4(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Ic),b=y.create(Pi.NULL,[],d||y.selector,E),S=b.location.nativeElement,N=b.injector.get(u0,null);return N?.registerApplication(S),b.onDestroy(()=>{this.detachView(b.hostView),bc(this.components,b),N?.unregisterApplication(S)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;bc(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(A4,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>bc(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new K(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function bc(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}const P4=new Nt("",{providedIn:"root",factory:()=>Jt(Ua).handleError.bind(void 0)});function O4(){const s=Jt(nr),a=Jt(Ua);return c=>s.runOutsideAngular(()=>a.handleError(c))}let Tx=(()=>{class s{constructor(){this.zone=Jt(nr),this.applicationRef=Jt(vd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function HT(){return!1}let Sx=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=BF}return s})();function BF(s){return function ZF(s,a,c){if(Js(s)&&!c){const d=ri(s.index,a);return new uf(d,d)}return 47&s.type?new uf(a[wn],a):null}(pr(),ge(),16==(16&s))}class Ox{constructor(){}supports(a){return ym(a)}create(a){return new HF(a)}}const $F=(s,a)=>a;class HF{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||$F}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<h0(d,h,p)?c:d,E=h0(y,h,p),T=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const b=E-h,S=T-h;if(b!=S){for(let V=0;V<b;V++){const H=V<p.length?p[V]:p[V]=0,ae=H+V;S<=ae&&ae<b&&(p[V]=H+1)}p[y.previousIndex]=S-b}}E!==T&&a(y,E,T)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!ym(a))throw new K(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],y=this._trackByFn(E,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,E)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,E),d=!0),c=c._next}else h=0,function oS(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,E=>{y=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,E,y,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new kx(c,d),p,h),a}_verifyReinsertion(a,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new $e),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $e),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class kx{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zs{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class $e{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new Zs,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function h0(s,a,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class bt{constructor(){}supports(a){return a instanceof Map||vm(a)}create(){return new f0}}class f0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||vm(a)))throw new K(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new zf(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class zf{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KT(){return new Wf([new Ox])}let Wf=(()=>{class s{static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:KT});constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||KT()),deps:[[s,new Wi,new tr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new K(901,!1)}}return s})();function QT(){return new B4([new bt])}let B4=(()=>{class s{static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:QT});constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||QT()),deps:[[s,new Wi,new tr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new K(901,!1)}}return s})();const Fx=Cc(null,"core",[]);let YT=(()=>{class s{constructor(c){}static#e=this.\u0275fac=function(d){return new(d||s)(an(vd))};static#t=this.\u0275mod=vu({type:s});static#n=this.\u0275inj=Ur({})}return s})();function Jf(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function W4(s){const a=Lt(s);if(!a)return null;const c=new gm(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(it,Ee,P)=>{P.d(Ee,{Z:()=>Qe});var o=P(9058),L=P(4537),ie=P(7592),se=P(7879);class he{constructor(xe,Ae){this._delegate=xe,this.firebase=Ae,(0,ie._addComponent)(xe,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(xe,Ae=ie._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(xe);return!we.isInitialized()&&"EXPLICIT"===(null===(Ye=we.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&we.initialize(),we.getImmediate({identifier:Ae})}_removeServiceInstance(xe,Ae=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Ae)}_addComponent(xe){(0,ie._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,ie._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function Se(){const Ve=function Ue(Ve){const xe={},Ae={__esModule:!0,initializeApp:function Ce(K,k={}){const W=ie.initializeApp(K,k);if((0,o.r3)(xe,W.name))return xe[W.name];const pe=new Ve(W,Ae);return xe[W.name]=pe,pe},app:we,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function ve(K){const k=K.name,W=k.replace("-compat","");if(ie._registerComponent(K)&&"PUBLIC"===K.type){const pe=(Mt=we())=>{if("function"!=typeof Mt[W])throw Re.create("invalid-app-argument",{appName:k});return Mt[W]()};void 0!==K.serviceProps&&(0,o.ZB)(pe,K.serviceProps),Ae[W]=pe,Ve.prototype[W]=function(...Mt){return this._getService.bind(this,k).apply(this,K.multipleInstances?Mt:[])}}return"PUBLIC"===K.type?Ae[W]:null},removeApp:function Ye(K){delete xe[K]},useAsService:function Me(K,k){return"serverAuth"===k?null:k},modularAPIs:ie}};function we(K){if(!(0,o.r3)(xe,K=K||ie._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:K});return xe[K]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ce(){return Object.keys(xe).map(K=>xe[K])}}),we.App=Ve,Ae}(he);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function xe(Ae){(0,o.ZB)(Ve,Ae)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ve}(),Z=new se.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=B;!function ue(Ve){(0,ie.registerVersion)("@firebase/app-compat","0.2.13",Ve)}()},7592:(it,Ee,P)=>{P.r(Ee),P.d(Ee,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Fr,_DEFAULT_ENTRY_NAME:()=>Q,_addComponent:()=>de,_addOrOverwriteComponent:()=>Ne,_apps:()=>oe,_clearComponents:()=>dt,_components:()=>J,_getProvider:()=>Ft,_registerComponent:()=>ot,_removeServiceInstance:()=>on,deleteApp:()=>Ur,getApp:()=>wt,getApps:()=>Tr,initializeApp:()=>Lr,onLog:()=>ua,registerVersion:()=>ei,setLogLevel:()=>Ks});var o=P(5861),L=P(4537),ie=P(7879),se=P(9058),he=P(1878);class ye{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function Re(qe){const fe=qe.getComponent();return"VERSION"===fe?.type}(We)){const ut=We.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(We=>We).join(" ")}}const Ue="@firebase/app",B=new ie.Yd("@firebase/app"),Q="[DEFAULT]",te={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oe=new Map,J=new Map;function de(qe,fe){try{qe.container.addComponent(fe)}catch(We){B.debug(`Component ${fe.name} failed to register with FirebaseApp ${qe.name}`,We)}}function Ne(qe,fe){qe.container.addOrOverwriteComponent(fe)}function ot(qe){const fe=qe.name;if(J.has(fe))return B.debug(`There were multiple attempts to register component ${fe}.`),!1;J.set(fe,qe);for(const We of oe.values())de(We,qe);return!0}function Ft(qe,fe){const We=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),qe.container.getProvider(fe)}function on(qe,fe,We=Q){Ft(qe,fe).clearInstance(We)}function dt(){J.clear()}const Ze=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tn{constructor(fe,We,ut){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}}const Fr="9.23.0";function Lr(qe,fe={}){let We=qe;"object"!=typeof fe&&(fe={name:fe});const ut=Object.assign({name:Q,automaticDataCollectionEnabled:!1},fe),Gt=ut.name;if("string"!=typeof Gt||!Gt)throw Ze.create("bad-app-name",{appName:String(Gt)});if(We||(We=(0,se.aH)()),!We)throw Ze.create("no-options");const Qt=oe.get(Gt);if(Qt){if((0,se.vZ)(We,Qt.options)&&(0,se.vZ)(ut,Qt.config))return Qt;throw Ze.create("duplicate-app",{appName:Gt})}const Xn=new L.H0(Gt);for(const F of J.values())Xn.addComponent(F);const U=new tn(We,ut,Xn);return oe.set(Gt,U),U}function wt(qe=Q){const fe=oe.get(qe);if(!fe&&qe===Q&&(0,se.aH)())return Lr();if(!fe)throw Ze.create("no-app",{appName:qe});return fe}function Tr(){return Array.from(oe.values())}function Ur(qe){return qi.apply(this,arguments)}function qi(){return(qi=(0,o.Z)(function*(qe){const fe=qe.name;oe.has(fe)&&(oe.delete(fe),yield Promise.all(qe.container.getProviders().map(We=>We.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function ei(qe,fe,We){var ut;let Gt=null!==(ut=te[qe])&&void 0!==ut?ut:qe;We&&(Gt+=`-${We}`);const Qt=Gt.match(/\s|\//),Xn=fe.match(/\s|\//);if(Qt||Xn){const U=[`Unable to register library "${Gt}" with version "${fe}":`];return Qt&&U.push(`library name "${Gt}" contains illegal characters (whitespace or "/")`),Qt&&Xn&&U.push("and"),Xn&&U.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void B.warn(U.join(" "))}ot(new L.wA(`${Gt}-version`,()=>({library:Gt,version:fe}),"VERSION"))}function ua(qe,fe){if(null!==qe&&"function"!=typeof qe)throw Ze.create("invalid-log-argument");(0,ie.Am)(qe,fe)}function Ks(qe){(0,ie.Ub)(qe)}const ts="firebase-heartbeat-database",zn=1,Tt="firebase-heartbeat-store";let Ot=null;function Vr(){return Ot||(Ot=(0,he.X3)(ts,zn,{upgrade:(qe,fe)=>{0===fe&&qe.createObjectStore(Tt)}}).catch(qe=>{throw Ze.create("idb-open",{originalErrorMessage:qe.message})})),Ot}function cr(){return(cr=(0,o.Z)(function*(qe){try{return yield(yield Vr()).transaction(Tt).objectStore(Tt).get(rs(qe))}catch(fe){if(fe instanceof se.ZR)B.warn(fe.message);else{const We=Ze.create("idb-get",{originalErrorMessage:fe?.message});B.warn(We.message)}}})).apply(this,arguments)}function ns(qe,fe){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,o.Z)(function*(qe,fe){try{const ut=(yield Vr()).transaction(Tt,"readwrite");yield ut.objectStore(Tt).put(fe,rs(qe)),yield ut.done}catch(We){if(We instanceof se.ZR)B.warn(We.message);else{const ut=Ze.create("idb-set",{originalErrorMessage:We?.message});B.warn(ut.message)}}})).apply(this,arguments)}function rs(qe){return`${qe.name}!${qe.options.appId}`}class Ht{constructor(fe){this.container=fe,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new ca(We),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var fe=this;return(0,o.Z)(function*(){const ut=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gt=jc();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==Gt&&!fe._heartbeatsCache.heartbeats.some(Qt=>Qt.date===Gt))return fe._heartbeatsCache.heartbeats.push({date:Gt,agent:ut}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(Qt=>{const Xn=new Date(Qt.date).valueOf();return Date.now()-Xn<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,o.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const We=jc(),{heartbeatsToSend:ut,unsentEntries:Gt}=function Nt(qe,fe=1024){const We=[];let ut=qe.slice();for(const Gt of qe){const Qt=We.find(Xn=>Xn.agent===Gt.agent);if(Qt){if(Qt.dates.push(Gt.date),Ti(We)>fe){Qt.dates.pop();break}}else if(We.push({agent:Gt.agent,dates:[Gt.date]}),Ti(We)>fe){We.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:We,unsentEntries:ut}}(fe._heartbeatsCache.heartbeats),Qt=(0,se.L)(JSON.stringify({version:2,heartbeats:ut}));return fe._heartbeatsCache.lastSentHeartbeatDate=We,Gt.length>0?(fe._heartbeatsCache.heartbeats=Gt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),Qt})()}}function jc(){return(new Date).toISOString().substring(0,10)}class ca{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,o.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function yt(qe){return cr.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var We=this;return(0,o.Z)(function*(){var ut;if(yield We._canUseIndexedDBPromise){const Qt=yield We.read();return ns(We.app,{lastSentHeartbeatDate:null!==(ut=fe.lastSentHeartbeatDate)&&void 0!==ut?ut:Qt.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var We=this;return(0,o.Z)(function*(){var ut;if(yield We._canUseIndexedDBPromise){const Qt=yield We.read();return ns(We.app,{lastSentHeartbeatDate:null!==(ut=fe.lastSentHeartbeatDate)&&void 0!==ut?ut:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...fe.heartbeats]})}})()}}function Ti(qe){return(0,se.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function is(qe){ot(new L.wA("platform-logger",fe=>new ye(fe),"PRIVATE")),ot(new L.wA("heartbeat",fe=>new Ht(fe),"PRIVATE")),ei(Ue,"0.9.13",qe),ei(Ue,"0.9.13","esm2017"),ei("fire-js","")}("")},120:(it,Ee,P)=>{P.d(Ee,{Z:()=>o.Z});var o=P(3399);o.Z.registerVersion("firebase","9.23.0","app-compat")},4537:(it,Ee,P)=>{P.d(Ee,{H0:()=>Ue,wA:()=>ie});var o=P(5861),L=P(9058);class ie{constructor(B,Z,re){this.name=B,this.instanceFactory=Z,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const se="[DEFAULT]";class he{constructor(B,Z){this.name=B,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const Z=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(Z)){const re=new L.BH;if(this.instancesDeferred.set(Z,re),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:Z});Oe&&re.resolve(Oe)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(B){var Z;const re=this.normalizeInstanceIdentifier(B?.identifier),Oe=null!==(Z=B?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(ue){if(Oe)return null;throw ue}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function Re(Se){return"EAGER"===Se.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Z,re]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(Z);try{const ue=this.getOrInitializeService({instanceIdentifier:Oe});re.resolve(ue)}catch{}}}}clearInstance(B=se){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,o.Z)(function*(){const Z=Array.from(B.instances.values());yield Promise.all([...Z.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...Z.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=se){return this.instances.has(B)}getOptions(B=se){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:Z={}}=B,re=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:re,options:Z});for(const[ue,Qe]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(ue)&&Qe.resolve(Oe);return Oe}onInit(B,Z){var re;const Oe=this.normalizeInstanceIdentifier(Z),ue=null!==(re=this.onInitCallbacks.get(Oe))&&void 0!==re?re:new Set;ue.add(B),this.onInitCallbacks.set(Oe,ue);const Qe=this.instances.get(Oe);return Qe&&B(Qe,Oe),()=>{ue.delete(B)}}invokeOnInitCallbacks(B,Z){const re=this.onInitCallbacks.get(Z);if(re)for(const Oe of re)try{Oe(B,Z)}catch{}}getOrInitializeService({instanceIdentifier:B,options:Z={}}){let re=this.instances.get(B);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=B,Se===se?void 0:Se),options:Z}),this.instances.set(B,re),this.instancesOptions.set(B,Z),this.invokeOnInitCallbacks(re,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,re)}catch{}var Se;return re||null}normalizeInstanceIdentifier(B=se){return this.component?this.component.multipleInstances?B:se:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const Z=this.getProvider(B.name);if(Z.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);Z.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const Z=new he(B,this);return this.providers.set(B,Z),Z}getProviders(){return Array.from(this.providers.values())}}},7879:(it,Ee,P)=>{P.d(Ee,{Am:()=>Se,Ub:()=>Ue,Yd:()=>Re,in:()=>L});const o=[];var L=function(B){return B[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B}(L||{});const ie={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},se=L.INFO,he={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ye=(B,Z,...re)=>{if(Z<B.logLevel)return;const Oe=(new Date).toISOString(),ue=he[Z];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[ue](`[${Oe}]  ${B.name}:`,...re)};class Re{constructor(Z){this.name=Z,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in L))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?ie[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...Z),this._logHandler(this,L.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...Z),this._logHandler(this,L.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,L.INFO,...Z),this._logHandler(this,L.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,L.WARN,...Z),this._logHandler(this,L.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...Z),this._logHandler(this,L.ERROR,...Z)}}function Ue(B){o.forEach(Z=>{Z.setLogLevel(B)})}function Se(B,Z){for(const re of o){let Oe=null;Z&&Z.level&&(Oe=ie[Z.level]),re.userLogHandler=null===B?null:(ue,Qe,...Ve)=>{const xe=Ve.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Qe>=(Oe??ue.logLevel)&&B({level:L[Qe].toLowerCase(),message:xe,args:Ve,type:ue.name})}}}},1878:(it,Ee,P)=>{P.d(Ee,{X3:()=>we});var o=P(5861);const L=(k,W)=>W.some(pe=>k instanceof pe);let ie,se;const Re=new WeakMap,Ue=new WeakMap,Se=new WeakMap,B=new WeakMap,Z=new WeakMap;let ue={get(k,W,pe){if(k instanceof IDBTransaction){if("done"===W)return Ue.get(k);if("objectStoreNames"===W)return k.objectStoreNames||Se.get(k);if("store"===W)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return Ae(k[W])},set:(k,W,pe)=>(k[W]=pe,!0),has:(k,W)=>k instanceof IDBTransaction&&("done"===W||"store"===W)||W in k};function xe(k){return"function"==typeof k?function Ve(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...W){return k.apply(Ye(this),W),Ae(Re.get(this))}:function(...W){return Ae(k.apply(Ye(this),W))}:function(W,...pe){const Mt=k.call(Ye(this),W,...pe);return Se.set(Mt,W.sort?W.sort():[W]),Ae(Mt)}}(k):(k instanceof IDBTransaction&&function Oe(k){if(Ue.has(k))return;const W=new Promise((pe,Mt)=>{const cn=()=>{k.removeEventListener("complete",Pn),k.removeEventListener("error",ln),k.removeEventListener("abort",ln)},Pn=()=>{pe(),cn()},ln=()=>{Mt(k.error||new DOMException("AbortError","AbortError")),cn()};k.addEventListener("complete",Pn),k.addEventListener("error",ln),k.addEventListener("abort",ln)});Ue.set(k,W)}(k),L(k,function he(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,ue):k)}function Ae(k){if(k instanceof IDBRequest)return function re(k){const W=new Promise((pe,Mt)=>{const cn=()=>{k.removeEventListener("success",Pn),k.removeEventListener("error",ln)},Pn=()=>{pe(Ae(k.result)),cn()},ln=()=>{Mt(k.error),cn()};k.addEventListener("success",Pn),k.addEventListener("error",ln)});return W.then(pe=>{pe instanceof IDBCursor&&Re.set(pe,k)}).catch(()=>{}),Z.set(W,k),W}(k);if(B.has(k))return B.get(k);const W=xe(k);return W!==k&&(B.set(k,W),Z.set(W,k)),W}const Ye=k=>Z.get(k);function we(k,W,{blocked:pe,upgrade:Mt,blocking:cn,terminated:Pn}={}){const ln=indexedDB.open(k,W),fn=Ae(ln);return Mt&&ln.addEventListener("upgradeneeded",pn=>{Mt(Ae(ln.result),pn.oldVersion,pn.newVersion,Ae(ln.transaction),pn)}),pe&&ln.addEventListener("blocked",pn=>pe(pn.oldVersion,pn.newVersion,pn)),fn.then(pn=>{Pn&&pn.addEventListener("close",()=>Pn()),cn&&pn.addEventListener("versionchange",Xr=>cn(Xr.oldVersion,Xr.newVersion,Xr))}).catch(()=>{}),fn}const ce=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Me=new Map;function K(k,W){if(!(k instanceof IDBDatabase)||W in k||"string"!=typeof W)return;if(Me.get(W))return Me.get(W);const pe=W.replace(/FromIndex$/,""),Mt=W!==pe,cn=ve.includes(pe);if(!(pe in(Mt?IDBIndex:IDBObjectStore).prototype)||!cn&&!ce.includes(pe))return;const Pn=function(){var ln=(0,o.Z)(function*(fn,...pn){const Xr=this.transaction(fn,cn?"readwrite":"readonly");let Q=Xr.store;return Mt&&(Q=Q.index(pn.shift())),(yield Promise.all([Q[pe](...pn),cn&&Xr.done]))[0]});return function(pn){return ln.apply(this,arguments)}}();return Me.set(W,Pn),Pn}!function Qe(k){ue=k(ue)}(k=>({...k,get:(W,pe,Mt)=>K(W,pe)||k.get(W,pe,Mt),has:(W,pe)=>!!K(W,pe)||k.has(W,pe)}))},5861:(it,Ee,P)=>{function o(ie,se,he,ye,Re,Ue,Se){try{var B=ie[Ue](Se),Z=B.value}catch(re){return void he(re)}B.done?se(Z):Promise.resolve(Z).then(ye,Re)}function L(ie){return function(){var se=this,he=arguments;return new Promise(function(ye,Re){var Ue=ie.apply(se,he);function Se(Z){o(Ue,ye,Re,Se,B,"next",Z)}function B(Z){o(Ue,ye,Re,Se,B,"throw",Z)}Se(void 0)})}}P.d(Ee,{Z:()=>L})},7582:(it,Ee,P)=>{function se(Q,te){var oe={};for(var J in Q)Object.prototype.hasOwnProperty.call(Q,J)&&te.indexOf(J)<0&&(oe[J]=Q[J]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(J=Object.getOwnPropertySymbols(Q);de<J.length;de++)te.indexOf(J[de])<0&&Object.prototype.propertyIsEnumerable.call(Q,J[de])&&(oe[J[de]]=Q[J[de]])}return oe}function re(Q,te,oe,J){return new(oe||(oe=Promise))(function(Ne,ot){function Ft(Dt){try{dt(J.next(Dt))}catch(Ze){ot(Ze)}}function on(Dt){try{dt(J.throw(Dt))}catch(Ze){ot(Ze)}}function dt(Dt){Dt.done?Ne(Dt.value):function de(Ne){return Ne instanceof oe?Ne:new oe(function(ot){ot(Ne)})}(Dt.value).then(Ft,on)}dt((J=J.apply(Q,te||[])).next())})}function Ce(Q){return this instanceof Ce?(this.v=Q,this):new Ce(Q)}function ce(Q,te,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,J=oe.apply(Q,te||[]),Ne=[];return de={},ot("next"),ot("throw"),ot("return"),de[Symbol.asyncIterator]=function(){return this},de;function ot(tn){J[tn]&&(de[tn]=function(Fr){return new Promise(function(Lr,wt){Ne.push([tn,Fr,Lr,wt])>1||Ft(tn,Fr)})})}function Ft(tn,Fr){try{!function on(tn){tn.value instanceof Ce?Promise.resolve(tn.value.v).then(dt,Dt):Ze(Ne[0][2],tn)}(J[tn](Fr))}catch(Lr){Ze(Ne[0][3],Lr)}}function dt(tn){Ft("next",tn)}function Dt(tn){Ft("throw",tn)}function Ze(tn,Fr){tn(Fr),Ne.shift(),Ne.length&&Ft(Ne[0][0],Ne[0][1])}}function Me(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,te=Q[Symbol.asyncIterator];return te?te.call(Q):(Q=function Ve(Q){var te="function"==typeof Symbol&&Symbol.iterator,oe=te&&Q[te],J=0;if(oe)return oe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&J>=Q.length&&(Q=void 0),{value:Q&&Q[J++],done:!Q}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),oe={},J("next"),J("throw"),J("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function J(Ne){oe[Ne]=Q[Ne]&&function(ot){return new Promise(function(Ft,on){!function de(Ne,ot,Ft,on){Promise.resolve(on).then(function(dt){Ne({value:dt,done:Ft})},ot)}(Ft,on,(ot=Q[Ne](ot)).done,ot.value)})}}}P.d(Ee,{FC:()=>ce,KL:()=>Me,_T:()=>se,mG:()=>re,qq:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},it=>{it(it.s=656)}]);