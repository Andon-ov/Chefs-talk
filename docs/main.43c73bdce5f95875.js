"use strict";(self.webpackChunkchefs_talks=self.webpackChunkchefs_talks||[]).push([[179],{922:()=>{function Le(t){return"function"==typeof t}function Gc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Jh=Gc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Sa(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class kn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Le(r))try{r()}catch(s){e=s instanceof Jh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{lA(s)}catch(o){e=e??[],o instanceof Jh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Jh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)lA(e);else{if(e instanceof kn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Sa(n,e)}remove(e){const{_finalizers:n}=this;n&&Sa(n,e),e instanceof kn&&e._removeParent(this)}}kn.EMPTY=(()=>{const t=new kn;return t.closed=!0,t})();const uA=kn.EMPTY;function cA(t){return t instanceof kn||t&&"closed"in t&&Le(t.remove)&&Le(t.add)&&Le(t.unsubscribe)}function lA(t){Le(t)?t():t.unsubscribe()}const fo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Zh={setTimeout(t,e,...n){const{delegate:r}=Zh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Zh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function dA(t){Zh.setTimeout(()=>{const{onUnhandledError:e}=fo;if(!e)throw t;e(t)})}function cy(){}const TU=ly("C",void 0,void 0);function ly(t,e,n){return{kind:t,value:e,error:n}}let po=null;function ef(t){if(fo.useDeprecatedSynchronousErrorHandling){const e=!po;if(e&&(po={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=po;if(po=null,n)throw r}}else t()}class dy extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cA(e)&&e.add(this)):this.destination=kU}static create(e,n,r){return new zc(e,n,r)}next(e){this.isStopped?fy(function SU(t){return ly("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?fy(function AU(t){return ly("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fy(TU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xU=Function.prototype.bind;function hy(t,e){return xU.call(t,e)}class NU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tf(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tf(r)}else tf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tf(n)}}}class zc extends dy{constructor(e,n,r){let i;if(super(),Le(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&fo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hy(e.next,s),error:e.error&&hy(e.error,s),complete:e.complete&&hy(e.complete,s)}):i=e}this.destination=new NU(i)}}function tf(t){fo.useDeprecatedSynchronousErrorHandling?function MU(t){fo.useDeprecatedSynchronousErrorHandling&&po&&(po.errorThrown=!0,po.error=t)}(t):dA(t)}function fy(t,e){const{onStoppedNotification:n}=fo;n&&Zh.setTimeout(()=>n(t,e))}const kU={closed:!0,next:cy,error:function RU(t){throw t},complete:cy},py="function"==typeof Symbol&&Symbol.observable||"@@observable";function ms(t){return t}function hA(t){return 0===t.length?ms:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function FU(t){return t&&t instanceof dy||function OU(t){return t&&Le(t.next)&&Le(t.error)&&Le(t.complete)}(t)&&cA(t)}(n)?n:new zc(n,r,i);return ef(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=fA(r))((i,s)=>{const o=new zc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[py](){return this}pipe(...n){return hA(n)(this)}toPromise(n){return new(n=fA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function fA(t){var e;return null!==(e=t??fo.Promise)&&void 0!==e?e:Promise}const LU=Gc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pr=(()=>{class t extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new pA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new LU}next(n){ef(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ef(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ef(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?uA:(this.currentObservers=null,s.push(n),new kn(()=>{this.currentObservers=null,Sa(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ve;return n.source=this,n}}return t.create=(e,n)=>new pA(e,n),t})();class pA extends pr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:uA}}function gA(t){return Le(t?.lift)}function At(t){return e=>{if(gA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function vt(t,e,n,r,i){return new VU(t,e,n,r,i)}class VU extends dy{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ae(t,e){return At((n,r)=>{let i=0;n.subscribe(vt(r,s=>{r.next(t.call(e,s,i++))}))})}function yy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ys(t){return this instanceof ys?(this.v=t,this):new ys(t)}function vA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function vy(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const EA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function wA(t){return Le(t?.then)}function bA(t){return Le(t[py])}function CA(t){return Symbol.asyncIterator&&Le(t?.[Symbol.asyncIterator])}function IA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const DA=function sj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function TA(t){return Le(t?.[DA])}function AA(t){return function _A(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(m,y){s.push([h,f,m,y])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ys?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(m){d(s[0][3],m)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ys(n.read());if(i)return yield ys(void 0);yield yield ys(r)}}finally{n.releaseLock()}})}function SA(t){return Le(t?.getReader)}function qn(t){if(t instanceof Ve)return t;if(null!=t){if(bA(t))return function oj(t){return new Ve(e=>{const n=t[py]();if(Le(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(EA(t))return function aj(t){return new Ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(wA(t))return function uj(t){return new Ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,dA)})}(t);if(CA(t))return MA(t);if(TA(t))return function cj(t){return new Ve(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(SA(t))return function lj(t){return MA(AA(t))}(t)}throw IA(t)}function MA(t){return new Ve(e=>{(function dj(t,e){var n,r,i,s;return function mA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=vA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Si(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Gt(t,e,n=1/0){return Le(e)?Gt((r,i)=>Ae((s,o)=>e(r,s,i,o))(qn(t(r,i))),n):("number"==typeof e&&(n=e),At((r,i)=>function hj(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=y=>c<r?m(y):u.push(y),m=y=>{s&&e.next(y),c++;let v=!1;qn(n(y,l++)).subscribe(vt(e,C=>{i?.(C),s?f(C):e.next(C)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;u.length&&c<r;){const C=u.shift();o?Si(e,o,()=>m(C)):m(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(vt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ma(t=1/0){return Gt(ms,t)}const Kr=new Ve(t=>t.complete());function Ey(t){return t[t.length-1]}function xA(t){return Le(Ey(t))?t.pop():void 0}function qc(t){return function pj(t){return t&&Le(t.schedule)}(Ey(t))?t.pop():void 0}function nf(t,e=0){return At((n,r)=>{n.subscribe(vt(r,i=>Si(r,t,()=>r.next(i),e),()=>Si(r,t,()=>r.complete(),e),i=>Si(r,t,()=>r.error(i),e)))})}function rf(t,e=0){return At((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function NA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ve(n=>{Si(n,e,()=>{const r=t[Symbol.asyncIterator]();Si(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function St(t,e){return e?function wj(t,e){if(null!=t){if(bA(t))return function mj(t,e){return qn(t).pipe(rf(e),nf(e))}(t,e);if(EA(t))return function _j(t,e){return new Ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(wA(t))return function yj(t,e){return qn(t).pipe(rf(e),nf(e))}(t,e);if(CA(t))return NA(t,e);if(TA(t))return function vj(t,e){return new Ve(n=>{let r;return Si(n,e,()=>{r=t[DA](),Si(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Le(r?.return)&&r.return()})}(t,e);if(SA(t))return function Ej(t,e){return NA(AA(t),e)}(t,e)}throw IA(t)}(t,e):qn(t)}class gr extends pr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ee(...t){return St(t,qc(t))}function RA(t={}){const{connector:e=(()=>new pr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},m=()=>{const y=o;f(),y?.unsubscribe()};return At((y,v)=>{c++,!d&&!l&&h();const C=u=u??e();v.add(()=>{c--,0===c&&!d&&!l&&(a=wy(m,i))}),C.subscribe(v),!o&&c>0&&(o=new zc({next:w=>C.next(w),error:w=>{d=!0,h(),a=wy(f,n,w),C.error(w)},complete:()=>{l=!0,h(),a=wy(f,r),C.complete()}}),qn(y).subscribe(o))})(s)}}function wy(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new zc({next:()=>{r.unsubscribe(),t()}});return qn(e(...n)).subscribe(r)}function Nr(t,e){return At((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(vt(r,u=>{i?.unsubscribe();let c=0;const l=s++;qn(t(u,l)).subscribe(i=vt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ij(t,e){return t===e}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function sf(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function by(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Dj=Re({__forward_ref__:Re});function je(t){return t.__forward_ref__=je,t.toString=function(){return Mt(this())},t}function re(t){return Cy(t)?t():t}function Cy(t){return"function"==typeof t&&t.hasOwnProperty(Dj)&&t.__forward_ref__===je}function Iy(t){return t&&!!t.\u0275providers}const kA="https://g.co/ng/security#xss";class A extends Error{constructor(e,n){super(function af(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function oe(t){return"string"==typeof t?t:null==t?"":String(t)}function Dy(t,e){throw new A(-201,!1)}function mr(t,e){null==t&&function te(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ot(t){return{providers:t.providers||[],imports:t.imports||[]}}function uf(t){return PA(t,lf)||PA(t,OA)}function PA(t,e){return t.hasOwnProperty(e)?t[e]:null}function cf(t){return t&&(t.hasOwnProperty(Ty)||t.hasOwnProperty(kj))?t[Ty]:null}const lf=Re({\u0275prov:Re}),Ty=Re({\u0275inj:Re}),OA=Re({ngInjectableDef:Re}),kj=Re({ngInjectorDef:Re});var ge=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ge||{});let Ay;function Pn(t){const e=Ay;return Ay=t,e}function LA(t,e,n){const r=uf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ge.Optional?null:void 0!==e?e:void Dy(Mt(t))}const $e=globalThis;class j{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Wc={},Ry="__NG_DI_FLAG__",df="ngTempTokenPath",Fj=/\n/gm,BA="__source";let xa;function _s(t){const e=xa;return xa=t,e}function Bj(t,e=ge.Default){if(void 0===xa)throw new A(-203,!1);return null===xa?LA(t,void 0,e):xa.get(t,e&ge.Optional?null:void 0,e)}function B(t,e=ge.Default){return(function FA(){return Ay}()||Bj)(re(t),e)}function H(t,e=ge.Default){return B(t,hf(e))}function hf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ky(t){const e=[];for(let n=0;n<t.length;n++){const r=re(t[n]);if(Array.isArray(r)){if(0===r.length)throw new A(900,!1);let i,s=ge.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Uj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function Kc(t,e){return t[Ry]=e,t.prototype[Ry]=e,t}function Uj(t){return t[Ry]}function Mi(t){return{toString:t}.toString()}var ff=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ff||{}),yr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yr||{});const Qr={},Te=[],pf=Re({\u0275cmp:Re}),Py=Re({\u0275dir:Re}),Oy=Re({\u0275pipe:Re}),jA=Re({\u0275mod:Re}),xi=Re({\u0275fac:Re}),Qc=Re({__NG_ELEMENT_ID__:Re}),$A=Re({__NG_ENV_ID__:Re});function HA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Fy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];zA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function GA(t){return 3===t||4===t||6===t}function zA(t){return 64===t.charCodeAt(0)}function Yc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||qA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function qA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const WA="ng-template";function Hj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==HA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function KA(t){return 4===t.type&&t.value!==WA}function Gj(t,e,n){return e===(4!==t.type||n?t.value:WA)}function zj(t,e,n){let r=4;const i=t.attrs||[],s=function Kj(t){for(let e=0;e<t.length;e++)if(GA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Gj(t,u,n)||""===u&&1===e.length){if(Rr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Hj(t.attrs,c,n)){if(Rr(r))return!1;o=!0}continue}const d=qj(8&r?"class":u,i,KA(t),n);if(-1===d){if(Rr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==HA(f,c,0)||2&r&&c!==h){if(Rr(r))return!1;o=!0}}}}else{if(!o&&!Rr(r)&&!Rr(u))return!1;if(o&&Rr(u))continue;o=!1,r=u|1&r}}return Rr(r)||o}function Rr(t){return 0==(1&t)}function qj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Qj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function QA(t,e,n=!1){for(let r=0;r<e.length;r++)if(zj(t,e[r],n))return!0;return!1}function YA(t,e){return t?":not("+e.trim()+")":e}function Xj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Rr(o)&&(e+=YA(s,i),i=""),r=o,s=s||!Rr(r);n++}return""!==i&&(e+=YA(s,i)),e}function xt(t){return Mi(()=>{const e=JA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ff.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yr.Emulated,styles:t.styles||Te,_:null,schemas:t.schemas||null,tView:null,id:""};ZA(n);const r=t.dependencies;return n.directiveDefs=gf(r,!1),n.pipeDefs=gf(r,!0),n.id=function s$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function t$(t){return Ee(t)||qt(t)}function n$(t){return null!==t}function zt(t){return Mi(()=>({type:t.type,bootstrap:t.bootstrap||Te,declarations:t.declarations||Te,imports:t.imports||Te,exports:t.exports||Te,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function XA(t,e){if(null==t)return Qr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function ie(t){return Mi(()=>{const e=JA(t);return ZA(e),e})}function _n(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ee(t){return t[pf]||null}function qt(t){return t[Py]||null}function vn(t){return t[Oy]||null}function Kn(t,e){const n=t[jA]||null;if(!n&&!0===e)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return n}function JA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Te,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XA(t.inputs,e),outputs:XA(t.outputs)}}function ZA(t){t.features?.forEach(e=>e(t))}function gf(t,e){if(!t)return null;const n=e?vn:t$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(n$)}const ot=0,$=1,he=2,Je=3,kr=4,Xc=5,an=6,Ra=7,ht=8,vs=9,ka=10,ae=11,Jc=12,eS=13,Pa=14,ft=15,Zc=16,Oa=17,Yr=18,el=19,tS=20,Es=21,Ni=22,tl=23,nl=24,me=25,Ly=1,nS=2,Xr=7,Fa=9,Wt=11;function On(t){return Array.isArray(t)&&"object"==typeof t[Ly]}function En(t){return Array.isArray(t)&&!0===t[Ly]}function Vy(t){return 0!=(4&t.flags)}function mo(t){return t.componentOffset>-1}function yf(t){return 1==(1&t.flags)}function Pr(t){return!!t.template}function By(t){return 0!=(512&t[he])}function yo(t,e){return t.hasOwnProperty(xi)?t[xi]:null}let Kt=null,_f=!1;function _r(t){const e=Kt;return Kt=t,e}const sS={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function aS(t){if(!il(t)||t.dirty){if(!t.producerMustRecompute(t)&&!lS(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function cS(t){t.dirty=!0,function uS(t){if(void 0===t.liveConsumerNode)return;const e=_f;_f=!0;try{for(const n of t.liveConsumerNode)n.dirty||cS(n)}finally{_f=e}}(t),t.consumerMarkedDirty?.(t)}function jy(t){return t&&(t.nextProducerIndex=0),_r(t)}function $y(t,e){if(_r(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(il(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)vf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function lS(t){La(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(aS(n),r!==n.version))return!0}return!1}function dS(t){if(La(t),il(t))for(let e=0;e<t.producerNode.length;e++)vf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vf(t,e){if(function fS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),La(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)vf(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];La(i),i.producerIndexOfThis[r]=e}}function il(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function La(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let pS=null;const _S=()=>{},_$=(()=>({...sS,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:_S}))();class v${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function vr(){return vS}function vS(t){return t.type.prototype.ngOnChanges&&(t.setInput=w$),E$}function E$(){const t=wS(this),e=t?.current;if(e){const n=t.previous;if(n===Qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function w$(t,e,n,r){const i=this.declaredInputs[n],s=wS(t)||function b$(t,e){return t[ES]=e}(t,{previous:Qr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new v$(u&&u.currentValue,e,a===Qr),t[r]=e}vr.ngInherit=!0;const ES="__ngSimpleChanges__";function wS(t){return t[ES]||null}const Jr=function(t,e,n){};function He(t){for(;Array.isArray(t);)t=t[ot];return t}function Ef(t,e){return He(e[t])}function Fn(t,e){return He(e[t.index])}function IS(t,e){return t.data[e]}function Va(t,e){return t[e]}function Qn(t,e){const n=e[t];return On(n)?n:n[ot]}function bs(t,e){return null==e?null:t[e]}function DS(t){t[Oa]=0}function S$(t){1024&t[he]||(t[he]|=1024,AS(t,1))}function TS(t){1024&t[he]&&(t[he]&=-1025,AS(t,-1))}function AS(t,e){let n=t[Je];if(null===n)return;n[Xc]+=e;let r=n;for(n=n[Je];null!==n&&(1===e&&1===r[Xc]||-1===e&&0===r[Xc]);)n[Xc]+=e,r=n,n=n[Je]}const ne={lFrame:VS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xS(){return ne.bindingsEnabled}function N(){return ne.lFrame.lView}function we(){return ne.lFrame.tView}function Yn(t){return ne.lFrame.contextLView=t,t[ht]}function Xn(t){return ne.lFrame.contextLView=null,t}function Qt(){let t=NS();for(;null!==t&&64===t.type;)t=t.parent;return t}function NS(){return ne.lFrame.currentTNode}function Zr(t,e){const n=ne.lFrame;n.currentTNode=t,n.isParent=e}function Wy(){return ne.lFrame.isParent}function wn(){const t=ne.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ua(){return ne.lFrame.bindingIndex++}function ki(t){const e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function U$(t,e){const n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,Qy(e)}function Qy(t){ne.lFrame.currentDirectiveIndex=t}function Xy(t){ne.lFrame.currentQueryIndex=t}function $$(t){const e=t[$];return 2===e.type?e.declTNode:1===e.type?t[an]:null}function FS(t,e,n){if(n&ge.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ge.Host||(i=$$(s),null===i||(s=s[Pa],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ne.lFrame=LS();return r.currentTNode=e,r.lView=t,!0}function Jy(t){const e=LS(),n=t[$];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function LS(){const t=ne.lFrame,e=null===t?null:t.child;return null===e?VS(t):e}function VS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function BS(){const t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const US=BS;function Zy(){const t=BS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bn(){return ne.lFrame.selectedIndex}function _o(t){ne.lFrame.selectedIndex=t}function tt(){const t=ne.lFrame;return IS(t.tView,t.selectedIndex)}let HS=!0;function wf(){return HS}function Cs(t){HS=t}function bf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Cf(t,e,n){GS(t,e,3,n)}function If(t,e,n,r){(3&t[he])===n&&GS(t,e,n,r)}function e_(t,e){let n=t[he];(3&n)===e&&(n&=8191,n+=1,t[he]=n)}function GS(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Oa]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Oa]+=65536),(a<s||-1==s)&&(Q$(t,n,e,u),t[Oa]=(4294901760&t[Oa])+u+2),u++}function zS(t,e){Jr(4,t,e);const n=_r(null);try{e.call(t)}finally{_r(n),Jr(5,t,e)}}function Q$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[he]>>13<t[Oa]>>16&&(3&t[he])===e&&(t[he]+=8192,zS(a,s)):zS(a,s)}const ja=-1;class ol{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function n_(t){return t!==ja}function al(t){return 32767&t}function ul(t,e){let n=function Z$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Pa],n--;return r}let r_=!0;function Df(t){const e=r_;return r_=t,e}const qS=255,WS=5;let eH=0;const ei={};function Tf(t,e){const n=KS(t,e);if(-1!==n)return n;const r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,i_(r.data,t),i_(e,null),i_(r.blueprint,null));const i=Af(t,e),s=t.injectorIndex;if(n_(i)){const o=al(i),a=ul(i,e),u=a[$].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function i_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function KS(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Af(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=t2(i),null===r)return ja;if(n++,i=i[Pa],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ja}function s_(t,e,n){!function tH(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qc)&&(r=n[Qc]),null==r&&(r=n[Qc]=eH++);const i=r&qS;e.data[t+(i>>WS)]|=1<<i}(t,e,n)}function QS(t,e,n){if(n&ge.Optional||void 0!==t)return t;Dy()}function YS(t,e,n,r){if(n&ge.Optional&&void 0===r&&(r=null),!(n&(ge.Self|ge.Host))){const i=t[vs],s=Pn(void 0);try{return i?i.get(e,r,n&ge.Optional):LA(e,r,n&ge.Optional)}finally{Pn(s)}}return QS(r,0,n)}function XS(t,e,n,r=ge.Default,i){if(null!==t){if(2048&e[he]&&!(r&ge.Self)){const o=function aH(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[he]&&!(512&o[he]);){const a=JS(s,o,n,r|ge.Self,ei);if(a!==ei)return a;let u=s.parent;if(!u){const c=o[tS];if(c){const l=c.get(n,ei,r);if(l!==ei)return l}u=t2(o),o=o[Pa]}s=u}return i}(t,e,n,r,ei);if(o!==ei)return o}const s=JS(t,e,n,r,ei);if(s!==ei)return s}return YS(e,n,r,i)}function JS(t,e,n,r,i){const s=function iH(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Qc)?t[Qc]:void 0;return"number"==typeof e?e>=0?e&qS:oH:e}(n);if("function"==typeof s){if(!FS(e,t,r))return r&ge.Host?QS(i,0,r):YS(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ge.Optional)return o;Dy()}finally{US()}}else if("number"==typeof s){let o=null,a=KS(t,e),u=ja,c=r&ge.Host?e[ft][an]:null;for((-1===a||r&ge.SkipSelf)&&(u=-1===a?Af(t,e):e[a+8],u!==ja&&e2(r,!1)?(o=e[$],a=al(u),e=ul(u,e)):a=-1);-1!==a;){const l=e[$];if(ZS(s,a,l.data)){const d=rH(a,e,n,o,r,c);if(d!==ei)return d}u=e[a+8],u!==ja&&e2(r,e[$].data[a+8]===c)&&ZS(s,a,e)?(o=l,a=al(u),e=ul(u,e)):a=-1}}return i}function rH(t,e,n,r,i,s){const o=e[$],a=o.data[t+8],l=function Sf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const m=o[f];if(f<u&&n===m||f>=u&&m.type===n)return f}if(i){const f=o[u];if(f&&Pr(f)&&f.type===n)return u}return null}(a,o,n,null==r?mo(a)&&r_:r!=o&&0!=(3&a.type),i&ge.Host&&s===a);return null!==l?vo(e,o,l,a):ei}function vo(t,e,n,r){let i=t[n];const s=e.data;if(function Y$(t){return t instanceof ol}(i)){const o=i;o.resolving&&function Tj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ne(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():oe(t)}(s[n]));const a=Df(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Pn(o.injectImpl):null;FS(t,r,ge.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function K$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=vS(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Pn(c),Df(a),o.resolving=!1,US()}}return i}function ZS(t,e,n){return!!(n[e+(t>>WS)]&1<<t)}function e2(t,e){return!(t&ge.Self||t&ge.Host&&e)}class Cn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XS(this._tNode,this._lView,e,hf(r),n)}}function oH(){return new Cn(Qt(),N())}function Yt(t){return Mi(()=>{const e=t.prototype.constructor,n=e[xi]||o_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[xi]||o_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function o_(t){return Cy(t)?()=>{const e=o_(re(t));return e&&e()}:yo(t)}function t2(t){const e=t[$],n=e.type;return 2===n?e.declTNode:1===n?t[an]:null}const Ha="__parameters__";function za(t,e,n){return Mi(()=>{const r=function a_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ha)?u[Ha]:Object.defineProperty(u,Ha,{value:[]})[Ha];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Wa(t,e){t.forEach(n=>Array.isArray(n)?Wa(n,e):e(n))}function r2(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Jn(t,e,n){let r=Ka(t,e);return r>=0?t[1|r]=n:(r=~r,function pH(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function u_(t,e){const n=Ka(t,e);if(n>=0)return t[1|n]}function Ka(t,e){return function i2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ln=Kc(za("Optional"),8),Rf=Kc(za("SkipSelf"),4);function Lf(t){return 128==(128&t.flags)}var Is=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Is||{});const f_=new Map;let VH=0;const g_="__ngContext__";function un(t,e){On(e)?(t[g_]=e[el],function UH(t){f_.set(t[el],t)}(e)):t[g_]=e}let m_;function y_(t,e){return m_(t,e)}function pl(t){const e=t[Je];return En(e)?e[Je]:e}function I2(t){return T2(t[Jc])}function D2(t){return T2(t[kr])}function T2(t){for(;null!==t&&!En(t);)t=t[kr];return t}function Xa(t,e,n,r,i){if(null!=r){let s,o=!1;En(r)?s=r:On(r)&&(o=!0,r=r[ot]);const a=He(r);0===t&&null!==n?null==i?x2(e,n,a):Eo(e,n,a,i||null,!0):1===t&&null!==n?Eo(e,n,a,i||null,!0):2===t?function Gf(t,e,n){const r=$f(t,e);r&&function sG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function uG(t,e,n,r,i){const s=n[Xr];s!==He(n)&&Xa(e,t,r,s,i);for(let a=Wt;a<n.length;a++){const u=n[a];ml(u[$],u,t,e,r,s)}}(e,t,s,n,i)}}function Uf(t,e,n){return t.createElement(e,n)}function S2(t,e){const n=t[Fa],r=n.indexOf(e);TS(e),n.splice(r,1)}function jf(t,e){if(t.length<=Wt)return;const n=Wt+e,r=t[n];if(r){const i=r[Zc];null!==i&&i!==t&&S2(i,r),e>0&&(t[n-1][kr]=r[kr]);const s=xf(t,Wt+e);!function XH(t,e){ml(t,e,e[ae],2,null,null),e[ot]=null,e[an]=null}(r[$],r);const o=s[Yr];null!==o&&o.detachView(s[$]),r[Je]=null,r[kr]=null,r[he]&=-129}return r}function v_(t,e){if(!(256&e[he])){const n=e[ae];e[tl]&&dS(e[tl]),e[nl]&&dS(e[nl]),n.destroyNode&&ml(t,e,n,3,null,null),function eG(t){let e=t[Jc];if(!e)return E_(t[$],t);for(;e;){let n=null;if(On(e))n=e[Jc];else{const r=e[Wt];r&&(n=r)}if(!n){for(;e&&!e[kr]&&e!==t;)On(e)&&E_(e[$],e),e=e[Je];null===e&&(e=t),On(e)&&E_(e[$],e),n=e&&e[kr]}e=n}}(e)}}function E_(t,e){if(!(256&e[he])){e[he]&=-129,e[he]|=256,function iG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ol)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Jr(4,a,u);try{u.call(a)}finally{Jr(5,a,u)}}else{Jr(4,i,s);try{s.call(i)}finally{Jr(5,i,s)}}}}}(t,e),function rG(t,e){const n=t.cleanup,r=e[Ra];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ra]=null);const i=e[Es];if(null!==i){e[Es]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[$].type&&e[ae].destroy();const n=e[Zc];if(null!==n&&En(e[Je])){n!==e[Je]&&S2(n,e);const r=e[Yr];null!==r&&r.detachView(t)}!function jH(t){f_.delete(t[el])}(e)}}function w_(t,e,n){return function M2(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ot];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===yr.None||s===yr.Emulated)return null}return Fn(r,n)}}(t,e.parent,n)}function Eo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function x2(t,e,n){t.appendChild(e,n)}function N2(t,e,n,r,i){null!==r?Eo(t,e,n,r,i):x2(t,e,n)}function $f(t,e){return t.parentNode(e)}let b_,zf,T_,qf,P2=function k2(t,e,n){return 40&t.type?Fn(t,n):null};function Hf(t,e,n,r){const i=w_(t,r,e),s=e[ae],a=function R2(t,e,n){return P2(t,e,n)}(r.parent||e[an],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)N2(s,i,n[u],a,!1);else N2(s,i,n,a,!1);void 0!==b_&&b_(s,r,e,n,i)}function gl(t,e){if(null!==e){const n=e.type;if(3&n)return Fn(e,t);if(4&n)return C_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return gl(t,r);{const i=t[e.index];return En(i)?C_(-1,i):He(i)}}if(32&n)return y_(e,t)()||He(t[e.index]);{const r=F2(t,e);return null!==r?Array.isArray(r)?r[0]:gl(pl(t[ft]),r):gl(t,e.next)}}return null}function F2(t,e){return null!==e?t[ft][an].projection[e.projection]:null}function C_(t,e){const n=Wt+t+1;if(n<e.length){const r=e[n],i=r[$].firstChild;if(null!==i)return gl(r,i)}return e[Xr]}function I_(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&un(He(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)I_(t,e,n.child,r,i,s,!1),Xa(e,t,i,a,s);else if(32&u){const c=y_(n,r);let l;for(;l=c();)Xa(e,t,i,l,s);Xa(e,t,i,a,s)}else 16&u?V2(t,e,r,n,i,s):Xa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ml(t,e,n,r,i,s){I_(n,r,t.firstChild,e,i,s,!1)}function V2(t,e,n,r,i,s){const o=n[ft],u=o[an].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Xa(e,t,i,u[c],s);else{let c=u;const l=o[Je];Lf(r)&&(c.flags|=128),I_(t,e,c,l,i,s,!0)}}function B2(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function U2(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Fy(t,e,r),null!==i&&B2(t,e,i),null!==s&&function lG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Ja(t){return function D_(){if(void 0===zf&&(zf=null,$e.trustedTypes))try{zf=$e.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zf}()?.createHTML(t)||t}function H2(t){return function A_(){if(void 0===qf&&(qf=null,$e.trustedTypes))try{qf=$e.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qf}()?.createScriptURL(t)||t}class wo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kA})`}}class gG extends wo{getTypeName(){return"HTML"}}class mG extends wo{getTypeName(){return"Style"}}class yG extends wo{getTypeName(){return"Script"}}class _G extends wo{getTypeName(){return"URL"}}class vG extends wo{getTypeName(){return"ResourceURL"}}function Zn(t){return t instanceof wo?t.changingThisBreaksApplicationSecurity:t}function ti(t,e){const n=function EG(t){return t instanceof wo&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${kA})`)}return n===e}class TG{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Ja(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class AG{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Ja(e),n}}const MG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wf(t){return(t=String(t)).match(MG)?t:"unsafe:"+t}function Pi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function yl(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const z2=Pi("area,br,col,hr,img,wbr"),q2=Pi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),W2=Pi("rp,rt"),S_=yl(z2,yl(q2,Pi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yl(W2,Pi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yl(W2,q2)),M_=Pi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),K2=yl(M_,Pi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xG=Pi("script,style,template");class NG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!S_.hasOwnProperty(n))return this.sanitizedSomething=!0,!xG.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!K2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;M_[a]&&(u=Wf(u)),this.buf.push(" ",o,'="',Q2(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();S_.hasOwnProperty(n)&&!z2.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Q2(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const RG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kG=/([^\#-~ |!])/g;function Q2(t){return t.replace(/&/g,"&amp;").replace(RG,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(kG,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kf;function Y2(t,e){let n=null;try{Kf=Kf||function G2(t){const e=new AG(t);return function SG(){try{return!!(new window.DOMParser).parseFromString(Ja(""),"text/html")}catch{return!1}}()?new TG(e):e}(t);let r=e?String(e):"";n=Kf.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Kf.getInertBodyElement(r)}while(r!==s);return Ja((new NG).sanitizeChildren(x_(n)||n))}finally{if(n){const r=x_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function x_(t){return"content"in t&&function PG(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wr||{});function eu(t){const e=_l();return e?e.sanitize(wr.URL,t)||"":ti(t,"URL")?Zn(t):Wf(oe(t))}function Qf(t){const e=_l();if(e)return H2(e.sanitize(wr.RESOURCE_URL,t)||"");if(ti(t,"ResourceURL"))return H2(Zn(t));throw new A(904,!1)}function _l(){const t=N();return t&&t[ka].sanitizer}const vl=new j("ENVIRONMENT_INITIALIZER"),J2=new j("INJECTOR",-1),Z2=new j("INJECTOR_DEF_TYPES");class N_{get(e,n=Wc){if(n===Wc){const r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return n}}function jG(...t){return{\u0275providers:eM(0,t),\u0275fromNgModule:!0}}function eM(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Wa(e,o=>{const a=o;Yf(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&tM(i,s),n}function tM(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];k_(i,s=>{e(s,r)})}}function Yf(t,e,n,r){if(!(t=re(t)))return!1;let i=null,s=cf(t);const o=!s&&Ee(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=cf(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Yf(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Wa(s.imports,l=>{Yf(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&tM(c,e)}if(!a){const c=yo(i)||(()=>new i);e({provide:i,useFactory:c,deps:Te},i),e({provide:Z2,useValue:i,multi:!0},i),e({provide:vl,useValue:()=>B(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;k_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function k_(t,e){for(let n of t)Iy(n)&&(n=n.\u0275providers),Array.isArray(n)?k_(n,e):e(n)}const $G=Re({provide:String,useValue:Re});function P_(t){return null!==t&&"object"==typeof t&&$G in t}function bo(t){return"function"==typeof t}const O_=new j("Set Injector scope."),Xf={},GG={};let F_;function Jf(){return void 0===F_&&(F_=new N_),F_}class er{}class tu extends er{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,V_(e,o=>this.processProvider(o)),this.records.set(J2,nu(void 0,this)),i.has("environment")&&this.records.set(er,nu(void 0,this));const s=this.records.get(O_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Z2.multi,Te,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=_s(this),r=Pn(void 0);try{return e()}finally{_s(n),Pn(r)}}get(e,n=Wc,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty($A))return e[$A](this);r=hf(r);const s=_s(this),o=Pn(void 0);try{if(!(r&ge.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function QG(t){return"function"==typeof t||"object"==typeof t&&t instanceof j}(e)&&uf(e);u=c&&this.injectableDefInScope(c)?nu(L_(e),Xf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ge.Self?Jf():this.parent).get(e,n=r&ge.Optional&&n===Wc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[df]=a[df]||[]).unshift(Mt(e)),s)throw a;return function jj(t,e,n,r){const i=t[df];throw e[BA]&&i.unshift(e[BA]),t.message=function $j(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Mt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Fj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[df]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Pn(o),_s(s)}}resolveInjectorInitializers(){const e=_s(this),n=Pn(void 0);try{const i=this.get(vl.multi,Te,ge.Self);for(const s of i)s()}finally{_s(e),Pn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){let n=bo(e=re(e))?e:re(e&&e.provide);const r=function qG(t){return P_(t)?nu(void 0,t.useValue):nu(iM(t),Xf)}(e);if(bo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=nu(void 0,Xf,!0),i.factory=()=>ky(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Xf&&(n.value=GG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function KG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=re(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function L_(t){const e=uf(t),n=null!==e?e.factory:yo(t);if(null!==n)return n;if(t instanceof j)throw new A(204,!1);if(t instanceof Function)return function zG(t){const e=t.length;if(e>0)throw function dl(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new A(204,!1);const n=function Rj(t){return t&&(t[lf]||t[OA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new A(204,!1)}function iM(t,e,n){let r;if(bo(t)){const i=re(t);return yo(i)||L_(i)}if(P_(t))r=()=>re(t.useValue);else if(function rM(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ky(t.deps||[]));else if(function nM(t){return!(!t||!t.useExisting)}(t))r=()=>B(re(t.useExisting));else{const i=re(t&&(t.useClass||t.provide));if(!function WG(t){return!!t.deps}(t))return yo(i)||L_(i);r=()=>new i(...ky(t.deps))}return r}function nu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function V_(t,e){for(const n of t)Array.isArray(n)?V_(n,e):n&&Iy(n)?V_(n.\u0275providers,e):e(n)}const Zf=new j("AppId",{providedIn:"root",factory:()=>YG}),YG="ng",sM=new j("Platform Initializer"),Oi=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oM=new j("AnimationModuleType"),aM=new j("CSP nonce",{providedIn:"root",factory:()=>function Za(){if(void 0!==T_)return T_;if(typeof document<"u")return document;throw new A(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uM=(t,e,n)=>null;function q_(t,e,n=!1){return uM(t,e,n)}class oz{}class dM{}class uz{resolveComponentFactory(e){throw function az(t){const e=Error(`No component factory found for ${Mt(t)}.`);return e.ngComponent=t,e}(e)}}let sp=(()=>{class t{static#e=this.NULL=new uz}return t})();function cz(){return su(Qt(),N())}function su(t,e){return new tr(Fn(t,e))}let tr=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=cz}return t})();class bl{}let Fi=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function dz(){const t=N(),n=Qn(Qt().index,t);return(On(n)?n:t)[ae]}()}return t})(),hz=(()=>{class t{static#e=this.\u0275prov=W({token:t,providedIn:"root",factory:()=>null})}return t})();class ou{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Q_=new ou("16.2.11"),Y_={};function mM(t,e=null,n=null,r){const i=yM(t,e,n,r);return i.resolveInjectorInitializers(),i}function yM(t,e=null,n=null,r,i=new Set){const s=[n||Te,jG(t)];return r=r||("object"==typeof t?void 0:Mt(t)),new tu(s,e||Jf(),r||null,i)}let cn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Wc;static#t=this.NULL=new N_;static create(n,r){if(Array.isArray(n))return mM({name:""},r,n,"");{const i=n.name??"";return mM({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=W({token:t,providedIn:"any",factory:()=>B(J2)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function J_(t){return t.ngOriginalError}class Li{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&J_(e);for(;n&&J_(n);)n=J_(n);return n||null}}function ev(t){return e=>{setTimeout(t,void 0,e)}}const nt=class vz extends pr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=ev(s),i&&(i=ev(i)),o&&(o=ev(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof kn&&e.add(a),a}};function vM(...t){}class Se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Ez(){const t="function"==typeof $e.requestAnimationFrame;let e=$e[t?"requestAnimationFrame":"setTimeout"],n=$e[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Cz(t){const e=()=>{!function bz(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($e,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nv(t),t.isCheckStableRunning=!0,tv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function Dz(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return EM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),wM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return EM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),wM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,nv(t),tv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Se.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Se.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wz,vM,vM);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const wz={};function tv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function EM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wM(t){t._nesting--,tv(t)}class Iz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const bM=new j("",{providedIn:"root",factory:CM});function CM(){const t=H(Se);let e=!0;return function bj(...t){const e=qc(t),n=function gj(t,e){return"number"==typeof Ey(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?qn(r[0]):Ma(n)(St(r,e)):Kr}(new Ve(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ve(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Se.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(RA()))}function Vi(t){return t instanceof Function?t():t}let rv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})();function Cl(t){for(;t;){t[he]|=64;const e=pl(t);if(By(t)&&!e)return t;t=e}return null}const SM=new j("",{providedIn:"root",factory:()=>!1});let ap=null;function RM(t,e){return t[e]??OM()}function kM(t,e){const n=OM();n.producerNode?.length&&(t[e]=ap,n.lView=t,ap=PM())}const Oz={...sS,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Cl(t.lView)},lView:null};function PM(){return Object.create(Oz)}function OM(){return ap??=PM(),ap}const ce={};function b(t){FM(we(),N(),bn()+t,!1)}function FM(t,e,n,r){if(!r)if(3==(3&e[he])){const s=t.preOrderCheckHooks;null!==s&&Cf(e,s,n)}else{const s=t.preOrderHooks;null!==s&&If(e,s,0,n)}_o(n)}function x(t,e=ge.Default){const n=N();return null===n?B(t,e):XS(Qt(),n,re(t),e)}function up(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ot]=i,d[he]=140|r,(null!==c||t&&2048&t[he])&&(d[he]|=2048),DS(d),d[Je]=d[Pa]=t,d[ht]=n,d[ka]=o||t&&t[ka],d[ae]=a||t&&t[ae],d[vs]=u||t&&t[vs]||null,d[an]=s,d[el]=function BH(){return VH++}(),d[Ni]=l,d[tS]=c,d[ft]=2==e.type?t[ft]:d,d}function cu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function iv(t,e,n,r,i){const s=NS(),o=Wy(),u=t.data[e]=function Hz(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Ba(){return null!==ne.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function B$(){return ne.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function sl(){const t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Zr(s,!0),s}function Il(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function VM(t,e,n,r,i){const s=RM(e,tl),o=bn(),a=2&r;try{_o(-1),a&&e.length>me&&FM(t,e,me,!1),Jr(a?2:0,i);const c=a?s:null,l=jy(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{$y(c,l)}}finally{a&&null===e[tl]&&kM(e,tl),_o(o),Jr(a?3:1,i)}}function sv(t,e,n){if(Vy(e)){const r=_r(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{_r(r)}}}function ov(t,e,n){xS()&&(function Yz(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;mo(n)&&function rq(t,e,n){const r=Fn(e,t),i=BM(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=cp(t,up(t,i,null,o,r,e,null,t[ka].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Tf(n,e),un(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=vo(e,t,a,n);un(c,e),null!==o&&iq(0,a-i,c,u,0,o),Pr(u)&&(Qn(n.index,e)[ht]=vo(e,t,a,n))}}(t,e,n,Fn(n,e)),64==(64&n.flags)&&GM(t,e,n))}function av(t,e,n=Fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function BM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=uv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function uv(t,e,n,r,i,s,o,a,u,c,l){const d=me+r,h=d+i,f=function Lz(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ce);return n}(d,h),m="function"==typeof c?c():c;return f[$]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1,ssrId:l}}let UM=t=>null;function jM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?$M(n,e,i,s):r.hasOwnProperty(i)&&$M(n,e,r[i],s)}return n}function $M(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function nr(t,e,n,r,i,s,o,a){const u=Fn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(fv(t,n,l,r,i),mo(e)&&function qz(t,e){const n=Qn(e,t);16&n[he]||(n[he]|=64)}(n,e.index)):3&e.type&&(r=function zz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function cv(t,e,n,r){if(xS()){const i=null===r?null:{"":-1},s=function Jz(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(QA(e,o.selectors,!1))if(r||(r=[]),Pr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),lv(t,e,a.length)}else r.unshift(o),lv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&HM(t,e,n,o,i,a),i&&function Zz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new A(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Yc(n.mergedAttrs,n.attrs)}function HM(t,e,n,r,i,s){for(let c=0;c<r.length;c++)s_(Tf(n,e),t,r[c].type);!function tq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Il(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Yc(n.mergedAttrs,l.hostAttrs),nq(t,n,e,u,l),eq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function Gz(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,m=h?h.outputs:null;u=jM(d.inputs,l,u,h?h.inputs:null),c=jM(d.outputs,l,c,m);const y=null===u||null===o||KA(e)?null:sq(u,l,o);a.push(y)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function GM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function j$(){return ne.lFrame.currentDirectiveIndex}();try{_o(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Qy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Xz(u,c)}}finally{_o(-1),Qy(o)}}function Xz(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function lv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function eq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pr(e)&&(n[""]=t)}}function nq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=yo(i.type)),o=new ol(s,Pr(i),x);t.blueprint[r]=o,n[r]=o,function Kz(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Qz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Il(t,n,i.hostVars,ce),i)}function ni(t,e,n,r,i,s){const o=Fn(t,e);!function dv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?oe(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[ae],o,s,t.value,n,r,i)}function iq(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)zM(r,n,o[a++],o[a++],o[a++])}function zM(t,e,n,r,i){const s=_r(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{_r(s)}}function sq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function qM(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function WM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Xy(n[r]),o.contentQueries(2,e[s],s)}}}function cp(t,e){return t[Jc]?t[eS][kr]=e:t[Jc]=e,t[eS]=e,e}function hv(t,e,n){Xy(0);const r=_r(null);try{e(t,n)}finally{_r(r)}}function XM(t,e){const n=t[vs],r=n?n.get(Li,null):null;r&&r.handleError(e)}function fv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];zM(t.data[o],e[o],r,a,i)}}function Bi(t,e,n){const r=Ef(e,t);!function A2(t,e,n){t.setValue(e,n)}(t[ae],r,n)}function oq(t,e){const n=Qn(e,t),r=n[$];!function aq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ot];null!==i&&null===n[Ni]&&(n[Ni]=q_(i,n[vs])),pv(r,n,n[ht])}function pv(t,e,n){Jy(e);try{const r=t.viewQuery;null!==r&&hv(1,r,n);const i=t.template;null!==i&&VM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&WM(t,e),t.staticViewQueries&&hv(2,t.viewQuery,n);const s=t.components;null!==s&&function uq(t,e){for(let n=0;n<e.length;n++)oq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[he]&=-5,Zy()}}let JM=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function y$(t,e,n){const r=Object.create(_$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>cS(r),run:()=>{if(r.dirty=!1,r.hasRun&&!lS(r))return;r.hasRun=!0;const o=jy(r);try{r.cleanupFn(),r.cleanupFn=_S,r.fn(i)}finally{$y(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})();function lp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=by(i,a):2==s&&(r=by(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Dl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(He(s)),En(s)&&ZM(s,r);const o=n.type;if(8&o)Dl(t,e,n.child,r);else if(32&o){const a=y_(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=F2(e,n);if(Array.isArray(a))r.push(...a);else{const u=pl(e[ft]);Dl(u[$],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ZM(t,e){for(let n=Wt;n<t.length;n++){const r=t[n],i=r[$].firstChild;null!==i&&Dl(r[$],r,i,e)}t[Xr]!==t[ot]&&e.push(t[Xr])}function dp(t,e,n,r=!0){const i=e[ka],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{ex(t,e,t.template,n)}catch(u){throw r&&XM(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function ex(t,e,n,r){const i=e[he];if(256!=(256&i)){e[ka].effectManager?.flush(),Jy(e);try{DS(e),function kS(t){return ne.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&VM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Cf(e,c,null)}else{const c=t.preOrderHooks;null!==c&&If(e,c,0,null),e_(e,0)}if(function dq(t){for(let e=I2(t);null!==e;e=D2(e)){if(!e[nS])continue;const n=e[Fa];for(let r=0;r<n.length;r++){S$(n[r])}}}(e),tx(e,2),null!==t.contentQueries&&WM(t,e),o){const c=t.contentCheckHooks;null!==c&&Cf(e,c)}else{const c=t.contentHooks;null!==c&&If(e,c,1),e_(e,1)}!function Fz(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=RM(e,nl);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)_o(~s);else{const o=s,a=n[++i],u=n[++i];U$(a,o),r.dirty=!1;const c=jy(r);try{u(2,e[o])}finally{$y(r,c)}}}}finally{null===e[nl]&&kM(e,nl),_o(-1)}}(t,e);const a=t.components;null!==a&&rx(e,a,0);const u=t.viewQuery;if(null!==u&&hv(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Cf(e,c)}else{const c=t.viewHooks;null!==c&&If(e,c,2),e_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[he]&=-73,TS(e)}finally{Zy()}}}function tx(t,e){for(let n=I2(t);null!==n;n=D2(n))for(let r=Wt;r<n.length;r++)nx(n[r],e)}function hq(t,e,n){nx(Qn(e,t),n)}function nx(t,e){if(!function T$(t){return 128==(128&t[he])}(t))return;const n=t[$],r=t[he];if(80&r&&0===e||1024&r||2===e)ex(n,t,n.template,t[ht]);else if(t[Xc]>0){tx(t,1);const i=n.components;null!==i&&rx(t,i,1)}}function rx(t,e,n){for(let r=0;r<e.length;r++)hq(t,e[r],n)}class Tl{get rootNodes(){const e=this._lView,n=e[$];return Dl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ht]}set context(e){this._lView[ht]=e}get destroyed(){return 256==(256&this._lView[he])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Je];if(En(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(jf(e,r),xf(n,r))}this._attachedToViewContainer=!1}v_(this._lView[$],this._lView)}onDestroy(e){!function SS(t,e){if(256==(256&t[he]))throw new A(911,!1);null===t[Es]&&(t[Es]=[]),t[Es].push(e)}(this._lView,e)}markForCheck(){Cl(this._cdRefInjectingView||this._lView)}detach(){this._lView[he]&=-129}reattach(){this._lView[he]|=128}detectChanges(){dp(this._lView[$],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZH(t,e){ml(t,e,e[ae],2,null,null)}(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e}}class fq extends Tl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;dp(e[$],e,e[ht],!1)}checkNoChanges(){}get context(){return null}}class ix extends sp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ee(e);return new Al(n,this.ngModule)}}function sx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class gq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=hf(r);const i=this.injector.get(e,Y_,r);return i!==Y_||n===Y_?i:this.parentInjector.get(e,n,r)}}class Al extends dM{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=sx(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return sx(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Jj(t){return t.map(Xj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof er?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new gq(e,s):e,a=o.get(bl,null);if(null===a)throw new A(407,!1);const d={rendererFactory:a,sanitizer:o.get(hz,null),effectManager:o.get(JM,null),afterRenderEventManager:o.get(rv,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=r?function Vz(t,e,n,r){const s=r.get(SM,!1)||n===yr.ShadowDom,o=t.selectRootElement(e,s);return function Bz(t){UM(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Uf(h,f,function pq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==m&&(w=q_(m,o,!0));const S=uv(0,null,null,1,0,null,null,null,null,null,null),O=up(null,S,null,C,null,null,d,h,o,null,w);let z,X;Jy(O);try{const de=this.componentDef;let Ue,Tt=null;de.findHostDirectiveDefs?(Ue=[],Tt=new Map,de.findHostDirectiveDefs(de,Ue,Tt),Ue.push(de)):Ue=[de];const hr=function yq(t,e){const n=t[$],r=me;return t[r]=e,cu(n,r,2,"#host",null)}(O,m),ay=function _q(t,e,n,r,i,s,o){const a=i[$];!function vq(t,e,n,r){for(const i of t)e.mergedAttrs=Yc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(lp(e,e.mergedAttrs,!0),null!==n&&U2(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=q_(e,i[vs]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=up(i,BM(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&lv(a,t,r.length-1),cp(i,d),i[t.index]=d}(hr,m,de,Ue,O,d,h);X=IS(S,me),m&&function wq(t,e,n,r){if(r)Fy(t,n,["ng-version",Q_.full]);else{const{attrs:i,classes:s}=function Zj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Rr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Fy(t,n,i),s&&s.length>0&&B2(t,n,s.join(" "))}}(h,de,m,r),void 0!==n&&function bq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(X,this.ngContentSelectors,n),z=function Eq(t,e,n,r,i,s){const o=Qt(),a=i[$],u=Fn(o,i);HM(a,i,o,n,null,r);for(let l=0;l<n.length;l++)un(vo(i,a,o.directiveStart+l,o),i);GM(a,i,o),u&&un(u,i);const c=vo(i,a,o.directiveStart+o.componentOffset,o);if(t[ht]=i[ht]=c,null!==s)for(const l of s)l(c,e);return sv(a,o,t),c}(ay,de,Ue,Tt,O,[Cq]),pv(S,O,null)}finally{Zy()}return new mq(this.componentType,z,su(X,O),O,X)}}class mq extends oz{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;fv(s[$],s,i,e,n),this.previousInputValues.set(e,n),Cl(Qn(this._tNode.index,s))}}get injector(){return new Cn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Cq(){const t=Qt();bf(N()[$],t)}function ke(t){let e=function ox(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=hp(t.inputs),o.inputTransforms=hp(t.inputTransforms),o.declaredInputs=hp(t.declaredInputs),o.outputs=hp(t.outputs);const a=i.hostBindings;a&&Aq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Dq(t,u),c&&Tq(t,c),sf(t.inputs,i.inputs),sf(t.declaredInputs,i.declaredInputs),sf(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),sf(o.inputTransforms,i.inputTransforms)),Pr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ke&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Iq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Yc(i.hostAttrs,n=Yc(n,i.hostAttrs))}}(r)}function hp(t){return t===Qr?{}:t===Te?[]:t}function Dq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Tq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Aq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function lx(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function fp(t){return!!function gv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ri(t,e,n){return t[e]=n}function ln(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Co(t,e,n,r){const i=ln(t,e,n);return ln(t,e+1,r)||i}function ii(t,e,n,r){const i=N();return ln(i,Ua(),e)&&(we(),ni(tt(),i,t,e,n,r)),ii}function du(t,e,n,r){return ln(t,Ua(),n)?e+oe(n)+r:ce}function fu(t,e,n,r,i,s,o,a){const c=function pp(t,e,n,r,i){const s=Co(t,e,n,r);return ln(t,e+2,i)||s}(t,function Ri(){return ne.lFrame.bindingIndex}(),n,i,o);return ki(3),c?e+oe(n)+r+oe(i)+s+oe(o)+a:ce}function k(t,e,n,r,i,s,o,a){const u=N(),c=we(),l=t+me,d=c.firstCreatePass?function Jq(t,e,n,r,i,s,o,a,u){const c=e.consts,l=cu(e,t,4,o||null,bs(c,a));cv(e,n,l,bs(c,u)),bf(e,l);const d=l.tView=uv(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Zr(d,!1);const h=Cx(c,u,d,t);wf()&&Hf(c,u,h,d),un(h,u),cp(u,u[l]=qM(h,u,h,d)),yf(d)&&ov(c,u,d),null!=o&&av(u,d,a)}let Cx=function Ix(t,e,n,r){return Cs(!0),e[ae].createComment("")};function I(t,e,n){const r=N();return ln(r,Ua(),e)&&nr(we(),tt(),r,t,e,r[ae],n,!1),I}function wv(t,e,n,r,i){const o=i?"class":"style";fv(t,n,e.inputs[o],o,r)}function g(t,e,n,r){const i=N(),s=we(),o=me+t,a=i[ae],u=s.firstCreatePass?function rW(t,e,n,r,i,s){const o=e.consts,u=cu(e,t,2,r,bs(o,i));return cv(e,n,u,bs(o,s)),null!==u.attrs&&lp(u,u.attrs,!1),null!==u.mergedAttrs&&lp(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=Dx(s,i,u,a,e,t);i[o]=c;const l=yf(u);return Zr(u,!0),U2(a,c,u),32!=(32&u.flags)&&wf()&&Hf(s,i,c,u),0===function x$(){return ne.lFrame.elementDepthCount}()&&un(c,i),function N$(){ne.lFrame.elementDepthCount++}(),l&&(ov(s,i,u),sv(s,u,i)),null!==r&&av(i,u),g}function p(){let t=Qt();Wy()?function Ky(){ne.lFrame.isParent=!1}():(t=t.parent,Zr(t,!1));const e=t;(function k$(t){return ne.skipHydrationRootTNode===t})(e)&&function L$(){ne.skipHydrationRootTNode=null}(),function R$(){ne.lFrame.elementDepthCount--}();const n=we();return n.firstCreatePass&&(bf(n,t),Vy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function X$(t){return 0!=(8&t.flags)}(e)&&wv(n,e,N(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function J$(t){return 0!=(16&t.flags)}(e)&&wv(n,e,N(),e.stylesWithoutHost,!1),p}function M(t,e,n,r){return g(t,e,n,r),p(),M}let Dx=(t,e,n,r,i,s)=>(Cs(!0),Uf(r,i,function $S(){return ne.lFrame.currentNamespace}()));function si(){return N()}function Rl(t){return!!t&&"function"==typeof t.then}function Sx(t){return!!t&&"function"==typeof t.subscribe}function le(t,e,n,r){const i=N(),s=we(),o=Qt();return function xx(t,e,n,r,i,s,o){const a=yf(r),c=t.firstCreatePass&&function QM(t){return t.cleanup||(t.cleanup=[])}(t),l=e[ht],d=function KM(t){return t[Ra]||(t[Ra]=[])}(e);let h=!0;if(3&r.type||o){const y=Fn(r,e),v=o?o(y):y,C=d.length,w=o?O=>o(He(O[r.index])):r.index;let S=null;if(!o&&a&&(S=function cW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ra],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,h=!1;else{s=Rx(r,e,l,s,!1);const O=n.listen(v,i,s);d.push(s,O),c&&c.push(i,w,C,C+1)}}else s=Rx(r,e,l,s,!1);const f=r.outputs;let m;if(h&&null!==f&&(m=f[i])){const y=m.length;if(y)for(let v=0;v<y;v+=2){const z=e[m[v]][m[v+1]].subscribe(s),X=d.length;d.push(s,z),c&&c.push(i,r.index,X,-(X+1))}}}(s,i,i[ae],o,t,e,r),le}function Nx(t,e,n,r){try{return Jr(6,e,n),!1!==n(r)}catch(i){return XM(t,i),!1}finally{Jr(7,e,n)}}function Rx(t,e,n,r,i){return function s(o){if(o===Function)return r;Cl(t.componentOffset>-1?Qn(t.index,e):e);let u=Nx(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=Nx(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function G(t=1){return function H$(t){return(ne.lFrame.contextLView=function G$(t,e){for(;t>0;)e=e[Pa],t--;return e}(t,ne.lFrame.contextLView))[ht]}(t)}function Iv(t,e,n){return Dv(t,"",e,"",n),Iv}function Dv(t,e,n,r,i){const s=N(),o=du(s,e,n,r);return o!==ce&&nr(we(),tt(),s,t,o,s[ae],i,!1),Dv}function _p(t,e){return t<<17|e<<2}function Ds(t){return t>>17&32767}function Tv(t){return 2|t}function Io(t){return(131068&t)>>2}function Av(t,e){return-131069&t|e<<2}function Sv(t){return 1|t}function jx(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ds(s):Io(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];_W(t[a],e)&&(u=!0,t[a+1]=r?Sv(l):Tv(l)),a=r?Ds(l):Io(l)}u&&(t[n+1]=r?Tv(s):Sv(s))}function _W(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ka(t,e)>=0}function vp(t,e){return function Or(t,e,n,r){const i=N(),s=we(),o=ki(2);s.firstUpdatePass&&function Yx(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[bn()],o=function Qx(t,e){return e>=t.expandoStartIndex}(t,n);(function eN(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function AW(t,e,n,r){const i=function Yy(t){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=kl(n=Mv(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Mv(i,t,e,n,r),null===s){let u=function SW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Io(r))return t[Ds(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Mv(null,t,e,u[1],r),u=kl(u,e.attrs,r),function MW(t,e,n,r){t[Ds(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function xW(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=kl(r,t[s].hostAttrs,n);return kl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function mW(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ds(o),u=Io(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Ka(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Ds(t[a+1]);t[r+1]=_p(h,a),0!==h&&(t[h+1]=Av(t[h+1],r)),t[a+1]=function pW(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=_p(a,0),0!==a&&(t[a+1]=Av(t[a+1],r)),a=r;else t[r+1]=_p(u,0),0===a?a=r:t[u+1]=Av(t[u+1],r),u=r;c&&(t[r+1]=Tv(t[r+1])),jx(t,l,r,!0),jx(t,l,r,!1),function yW(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Ka(s,e)>=0&&(n[r+1]=Sv(n[r+1]))}(e,l,t,r,s),o=_p(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ce&&ln(i,o,e)&&function Jx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function gW(t){return 1==(1&t)}(c)?Zx(u,e,n,i,Io(c),o):void 0;Ep(l)||(Ep(s)||function fW(t){return 2==(2&t)}(c)&&(s=Zx(u,null,n,i,a,o)),function cG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Is.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Is.Important),t.setStyle(n,r,i,s))}}(r,o,Ef(bn(),n),i,s))}(s,s.data[bn()],i,i[ae],t,i[o+1]=function PW(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Mt(Zn(t)))),t}(e,n),r,o)}(t,e,null,!0),vp}function Mv(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=kl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function kl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Zx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ce&&(h=d?Te:void 0);let f=d?u_(h,r):l===r?h:void 0;if(c&&!Ep(f)&&(f=u_(u,r)),Ep(f)&&(a=f,o))return a;const m=t[i+1];i=o?Ds(m):Io(m)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=u_(u,r))}return a}function Ep(t){return void 0!==t}function _(t,e=""){const n=N(),r=we(),i=t+me,s=r.firstCreatePass?cu(r,i,1,e,null):r.data[i],o=tN(r,n,s,e,t);n[i]=o,wf()&&Hf(r,n,o,s),Zr(s,!1)}let tN=(t,e,n,r,i)=>(Cs(!0),function Bf(t,e){return t.createText(e)}(e[ae],r));function Et(t){return We("",t,""),Et}function We(t,e,n){const r=N(),i=du(r,t,e,n);return i!==ce&&Bi(r,bn(),i),We}function wp(t,e,n,r,i,s,o){const a=N(),u=fu(a,t,e,n,r,i,s,o);return u!==ce&&Bi(a,bn(),u),wp}const Do=void 0;var nK=["en",[["a","p"],["AM","PM"],Do],[["AM","PM"],Do,Do],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Do,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Do,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Do,"{1} 'at' {0}",Do],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tK(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Eu={};function In(t){const e=function rK(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=wN(e);if(n)return n;const r=e.split("-")[0];if(n=wN(r),n)return n;if("en"===r)return nK;throw new A(701,!1)}function wN(t){return t in Eu||(Eu[t]=$e.ng&&$e.ng.common&&$e.ng.common.locales&&$e.ng.common.locales[t]),Eu[t]}var Ge=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ge||{});const wu="en-US";let bN=wu;function Rv(t,e,n,r,i){if(t=re(t),Array.isArray(t))for(let s=0;s<t.length;s++)Rv(t[s],e,n,r,i);else{const s=we(),o=N(),a=Qt();let u=bo(t)?t:re(t.provide);const c=iM(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(bo(t)||!t.multi){const f=new ol(c,i,x),m=Pv(u,e,i?l:l+h,d);-1===m?(s_(Tf(a,o),s,u),kv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[m]=f,o[m]=f)}else{const f=Pv(u,e,l+h,d),m=Pv(u,e,l,l+h),v=m>=0&&n[m];if(i&&!v||!i&&!(f>=0&&n[f])){s_(Tf(a,o),s,u);const C=function tQ(t,e,n,r,i){const s=new ol(t,n,x);return s.multi=[],s.index=e,s.componentProviders=0,WN(s,i,r&&!n),s}(i?eQ:ZK,n.length,i,r,c);!i&&v&&(n[m].providerFactory=C),kv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else kv(s,t,f>-1?f:m,WN(n[i?m:f],c,!i&&r));!i&&r&&v&&n[m].componentProviders++}}}function kv(t,e,n,r){const i=bo(e),s=function HG(t){return!!t.useClass}(e);if(i||s){const u=(s?re(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function WN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Pv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ZK(t,e,n,r){return Ov(this.multi,[])}function eQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=vo(n,n[$],this.providerFactory.index,r);s=a.slice(0,o),Ov(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ov(i,s);return s}function Ov(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ze(t,e=[]){return n=>{n.providersResolver=(r,i)=>function JK(t,e,n){const r=we();if(r.firstCreatePass){const i=Pr(t);Rv(n,r.data,r.blueprint,i,!0),Rv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class To{}class KN{}class Fv extends To{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ix(this);const i=Kn(e);this._bootstrapComponents=Vi(i.bootstrap),this._r3Injector=yM(e,n,[{provide:To,useValue:this},{provide:sp,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Lv extends KN{constructor(e){super(),this.moduleType=e}create(e){return new Fv(this.moduleType,e,[])}}class QN extends To{constructor(e){super(),this.componentFactoryResolver=new ix(this),this.instance=null;const n=new tu([...e.providers,{provide:To,useValue:this},{provide:sp,useValue:this.componentFactoryResolver}],e.parent||Jf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Vv(t,e,n=null){return new QN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let iQ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=eM(0,n.type),i=r.length>0?Vv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(B(er))})}return t})();function YN(t){t.getStandaloneInjector=e=>e.get(iQ).getOrCreateStandaloneInjector(t)}function Ao(t,e,n,r){return rR(N(),wn(),t,e,n,r)}function Bl(t,e){const n=t[e];return n===ce?void 0:n}function rR(t,e,n,r,i,s){const o=e+n;return ln(t,o,i)?ri(t,o+1,s?r.call(s,i):r(i)):Bl(t,o+1)}function Tp(t,e){const n=we();let r;const i=t+me;n.firstCreatePass?(r=function bQ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=yo(r.type)),a=Pn(x);try{const u=Df(!1),c=s();return Df(u),function tW(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,N(),i,c),c}finally{Pn(a)}}function Uv(t,e,n){const r=t+me,i=N(),s=Va(i,r);return Ul(i,r)?rR(i,wn(),e,s.transform,n,s):s.transform(n)}function uR(t,e,n,r){const i=t+me,s=N(),o=Va(s,i);return Ul(s,i)?function iR(t,e,n,r,i,s,o){const a=e+n;return Co(t,a,i,s)?ri(t,a+2,o?r.call(o,i,s):r(i,s)):Bl(t,a+2)}(s,wn(),e,o.transform,n,r,o):o.transform(n,r)}function Ul(t,e){return t[$].data[e].pure}function SQ(t,e,n,r=!0){const i=e[$];if(function tG(t,e,n,r){const i=Wt+r,s=n.length;r>0&&(n[i-1][kr]=e),r<s-Wt?(e[kr]=n[i],r2(n,Wt+r,e)):(n.push(e),e[kr]=null),e[Je]=n;const o=e[Zc];null!==o&&n!==o&&function nG(t,e){const n=t[Fa];e[ft]!==e[Je][Je][ft]&&(t[nS]=!0),null===n?t[Fa]=[e]:n.push(e)}(o,e);const a=e[Yr];null!==a&&a.insertView(t),e[he]|=128}(i,e,t,n),r){const s=C_(n,t),o=e[ae],a=$f(o,t[Xr]);null!==a&&function JH(t,e,n,r,i,s){r[ot]=i,r[an]=e,ml(t,r,n,1,i,s)}(i,t[an],o,e,a,s)}}Symbol;let Ui=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=NQ}return t})();const MQ=Ui,xQ=class extends MQ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function AQ(t,e,n,r){const i=e.tView,a=up(t,i,n,4096&t[he]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Zc]=t[e.index];const c=t[Yr];return null!==c&&(a[Yr]=c.createEmbeddedView(i)),pv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Tl(i)}};function NQ(){return function Ap(t,e){return 4&t.type?new xQ(e,t,su(t,e)):null}(Qt(),N())}let Lr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=LQ}return t})();function LQ(){return function gR(t,e){let n;const r=e[t.index];return En(r)?n=r:(n=qM(r,e,null,t),e[t.index]=n,cp(e,n)),mR(n,e,t,r),new fR(n,t,e)}(Qt(),N())}const VQ=Lr,fR=class extends VQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return su(this._hostTNode,this._hostLView)}get injector(){return new Cn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Af(this._hostTNode,this._hostLView);if(n_(e)){const n=ul(e,this._hostLView),r=al(e);return new Cn(n[$].data[r+8],n)}return new Cn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=pR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function ll(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}const u=o?e:new Al(Ee(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const v=(o?c:this.parentInjector).get(er,null);v&&(s=v)}Ee(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function A$(t){return En(t[Je])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Je],l=new fR(c,c[an],c[Je]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return SQ(a,i,o,!r),e.attachToViewContainerRef(),r2($v(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=pR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=jf(this._lContainer,n);r&&(xf($v(this._lContainer),n),v_(r[$],r))}detach(e){const n=this._adjustIndex(e,-1),r=jf(this._lContainer,n);return r&&null!=xf($v(this._lContainer),n)?new Tl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function pR(t){return t[8]}function $v(t){return t[8]||(t[8]=[])}let mR=function yR(t,e,n,r){if(t[Xr])return;let i;i=8&n.type?He(r):function BQ(t,e){const n=t[ae],r=n.createComment(""),i=Fn(e,t);return Eo(n,$f(n,i),r,function oG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Xr]=i};const Zv=new j("Application Initializer");let e4=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=H(Zv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Rl(s))n.push(s);else if(Sx(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$R=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const ji=new j("LocaleId",{providedIn:"root",factory:()=>H(ji,ge.Optional|ge.SkipSelf)||function mY(){return typeof $localize<"u"&&$localize.locale||wu}()});let xp=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class vY{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let HR=(()=>{class t{compileModuleSync(n){return new Lv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Vi(Kn(n).declarations).reduce((o,a)=>{const u=Ee(a);return u&&o.push(new Al(u)),o},[]);return new vY(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const WR=new j(""),Rp=new j("");let s4,r4=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,s4||(function jY(t){s4=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(B(Se),B(i4),B(Rp))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),i4=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return s4?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ts=null;const KR=new j("AllowMultipleToken"),o4=new j("PlatformDestroyListeners"),a4=new j("appBootstrapListener");class YR{constructor(e,n){this.name=e,this.token=n}}function JR(t,e,n=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=u4();if(!o||o.injector.get(KR,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function GY(t){if(Ts&&!Ts.get(KR,!1))throw new A(400,!1);(function QR(){!function h$(t){pS=t}(()=>{throw new A(600,!1)})})(),Ts=t;const e=t.get(ek);(function XR(t){t.get(sM,null)?.forEach(n=>n())})(t)}(function ZR(t=[],e){return cn.create({name:e,providers:[{provide:O_,useValue:"platform"},{provide:o4,useValue:new Set([()=>Ts=null])},...t]})}(a,r))}return function qY(t){const e=u4();if(!e)throw new A(401,!1);return e}()}}function u4(){return Ts?.get(ek)??null}let ek=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function WY(t="zone.js",e){return"noop"===t?new Iz:"zone.js"===t?new Se(e):t}(r?.ngZone,function tk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function rQ(t,e,n){return new Fv(t,e,n)}(n.moduleType,this.injector,function ok(t){return[{provide:Se,useFactory:t},{provide:vl,multi:!0,useFactory:()=>{const e=H(QY,{optional:!0});return()=>e.initialize()}},{provide:sk,useFactory:KY},{provide:bM,useFactory:CM}]}(()=>i)),o=s.injector.get(Li,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{kp(this._modules,s),a.unsubscribe()})}),function nk(t,e,n){try{const r=n();return Rl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(e4);return a.runInitializers(),a.donePromise.then(()=>(function CN(t){mr(t,"Expected localeId to be defined"),"string"==typeof t&&(bN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ji,wu)||wu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=rk({},r);return function $Y(t,e,n){const r=new Lv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(So);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new A(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(o4,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(B(cn))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function rk(t,e){return Array.isArray(e)?e.reduce(rk,t):{...t,...e}}let So=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(sk),this.zoneIsStable=H(bM),this.componentTypes=[],this.components=[],this.isStable=H(xp).hasPendingTasks.pipe(Nr(n=>n?ee(!1):this.zoneIsStable),function Cj(t,e=ms){return t=t??Ij,At((n,r)=>{let i,s=!0;n.subscribe(vt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),RA()),this._injector=H(er)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof dM;if(!this._injector.get(e4).done)throw!i&&function Na(t){const e=Ee(t)||qt(t)||vn(t);return null!==e&&e.standalone}(n),new A(405,!1);let o;o=i?n:this._injector.get(sp).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function HY(t){return t.isBoundToModule}(o)?void 0:this._injector.get(To),c=o.create(cn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(WR,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),kp(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;kp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(a4,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>kp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const sk=new j("",{providedIn:"root",factory:()=>H(Li).handleError.bind(void 0)});function KY(){const t=H(Se),e=H(Li);return n=>t.runOutsideAngular(()=>e.handleError(n))}let QY=(()=>{class t{constructor(){this.zone=H(Se),this.applicationRef=H(So)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Pp=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XY}return t})();function XY(t){return function JY(t,e,n){if(mo(t)&&!n){const r=Qn(t.index,e);return new Tl(r,r)}return 47&t.type?new Tl(e[ft],e):null}(Qt(),N(),16==(16&t))}class lk{constructor(){}supports(e){return fp(e)}create(e){return new iX(e)}}const rX=(t,e)=>e;class iX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<hk(r,i,s)?n:r,a=hk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,m=f+h;l<=m&&m<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!fp(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Pq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new sX(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new dk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class dk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new oX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function pk(){return new Lp([new lk])}let Lp=(()=>{class t{static#e=this.\u0275prov=W({token:t,providedIn:"root",factory:pk});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||pk()),deps:[[t,new Rf,new Ln]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new A(901,!1)}}return t})();const dX=JR(null,"core",[]);let hX=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(B(So))};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({})}return t})();function Iu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let p4=null;function As(){return p4}class TX{}const Xt=new j("DocumentToken");let g4=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return H(SX)},providedIn:"platform"})}return t})();const AX=new j("Location Initialized");let SX=(()=>{class t extends g4{constructor(){super(),this._doc=H(Xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return As().getBaseHref(this._doc)}onPopState(n){const r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=As().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function m4(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ik(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function $i(t){return t&&"?"!==t[0]?"?"+t:t}let Ss=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return H(Tk)},providedIn:"root"})}return t})();const Dk=new j("appBaseHref");let Tk=(()=>{class t extends Ss{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??H(Xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return m4(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+$i(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+$i(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+$i(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(g4),B(Dk,8))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ak=(()=>{class t extends Ss{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=m4(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+$i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+$i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(g4),B(Dk,8))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),y4=(()=>{class t{constructor(n){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function NX(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Ik(Sk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+$i(r))}normalize(n){return t.stripTrailingSlash(function xX(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Sk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$i(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=$i;static#t=this.joinWithSlash=m4;static#n=this.stripTrailingSlash=Ik;static#r=this.\u0275fac=function(r){return new(r||t)(B(Ss))};static#i=this.\u0275prov=W({token:t,factory:function(){return function MX(){return new y4(B(Ss))}()},providedIn:"root"})}return t})();function Sk(t){return t.replace(/\/index.html$/,"")}var Tn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Tn||{}),Be=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Be||{}),rr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(rr||{}),pt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(pt||{});function Up(t,e){return Ir(In(t)[Ge.DateFormat],e)}function jp(t,e){return Ir(In(t)[Ge.TimeFormat],e)}function $p(t,e){return Ir(In(t)[Ge.DateTimeFormat],e)}function Cr(t,e){const n=In(t),r=n[Ge.NumberSymbols][e];if(typeof r>"u"){if(e===pt.CurrencyDecimal)return n[Ge.NumberSymbols][pt.Decimal];if(e===pt.CurrencyGroup)return n[Ge.NumberSymbols][pt.Group]}return r}function xk(t){if(!t[Ge.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ge.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ir(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function v4(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const zX=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gl={},qX=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Hi=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Hi||{}),Me=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Me||{}),xe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(xe||{});function WX(t,e,n,r){let i=function nJ(t){if(kk(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return Hp(i,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(zX))return function rJ(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(t);if(!kk(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Gi(n,e)||e;let a,o=[];for(;e;){if(a=qX.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=Rk(r,u),i=function tJ(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function eJ(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(Rk(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function ZX(t){if(w4[t])return w4[t];let e;switch(t){case"G":case"GG":case"GGG":e=ze(xe.Eras,Be.Abbreviated);break;case"GGGG":e=ze(xe.Eras,Be.Wide);break;case"GGGGG":e=ze(xe.Eras,Be.Narrow);break;case"y":e=wt(Me.FullYear,1,0,!1,!0);break;case"yy":e=wt(Me.FullYear,2,0,!0,!0);break;case"yyy":e=wt(Me.FullYear,3,0,!1,!0);break;case"yyyy":e=wt(Me.FullYear,4,0,!1,!0);break;case"Y":e=Wp(1);break;case"YY":e=Wp(2,!0);break;case"YYY":e=Wp(3);break;case"YYYY":e=Wp(4);break;case"M":case"L":e=wt(Me.Month,1,1);break;case"MM":case"LL":e=wt(Me.Month,2,1);break;case"MMM":e=ze(xe.Months,Be.Abbreviated);break;case"MMMM":e=ze(xe.Months,Be.Wide);break;case"MMMMM":e=ze(xe.Months,Be.Narrow);break;case"LLL":e=ze(xe.Months,Be.Abbreviated,Tn.Standalone);break;case"LLLL":e=ze(xe.Months,Be.Wide,Tn.Standalone);break;case"LLLLL":e=ze(xe.Months,Be.Narrow,Tn.Standalone);break;case"w":e=E4(1);break;case"ww":e=E4(2);break;case"W":e=E4(1,!0);break;case"d":e=wt(Me.Date,1);break;case"dd":e=wt(Me.Date,2);break;case"c":case"cc":e=wt(Me.Day,1);break;case"ccc":e=ze(xe.Days,Be.Abbreviated,Tn.Standalone);break;case"cccc":e=ze(xe.Days,Be.Wide,Tn.Standalone);break;case"ccccc":e=ze(xe.Days,Be.Narrow,Tn.Standalone);break;case"cccccc":e=ze(xe.Days,Be.Short,Tn.Standalone);break;case"E":case"EE":case"EEE":e=ze(xe.Days,Be.Abbreviated);break;case"EEEE":e=ze(xe.Days,Be.Wide);break;case"EEEEE":e=ze(xe.Days,Be.Narrow);break;case"EEEEEE":e=ze(xe.Days,Be.Short);break;case"a":case"aa":case"aaa":e=ze(xe.DayPeriods,Be.Abbreviated);break;case"aaaa":e=ze(xe.DayPeriods,Be.Wide);break;case"aaaaa":e=ze(xe.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":e=ze(xe.DayPeriods,Be.Abbreviated,Tn.Standalone,!0);break;case"bbbb":e=ze(xe.DayPeriods,Be.Wide,Tn.Standalone,!0);break;case"bbbbb":e=ze(xe.DayPeriods,Be.Narrow,Tn.Standalone,!0);break;case"B":case"BB":case"BBB":e=ze(xe.DayPeriods,Be.Abbreviated,Tn.Format,!0);break;case"BBBB":e=ze(xe.DayPeriods,Be.Wide,Tn.Format,!0);break;case"BBBBB":e=ze(xe.DayPeriods,Be.Narrow,Tn.Format,!0);break;case"h":e=wt(Me.Hours,1,-12);break;case"hh":e=wt(Me.Hours,2,-12);break;case"H":e=wt(Me.Hours,1);break;case"HH":e=wt(Me.Hours,2);break;case"m":e=wt(Me.Minutes,1);break;case"mm":e=wt(Me.Minutes,2);break;case"s":e=wt(Me.Seconds,1);break;case"ss":e=wt(Me.Seconds,2);break;case"S":e=wt(Me.FractionalSeconds,1);break;case"SS":e=wt(Me.FractionalSeconds,2);break;case"SSS":e=wt(Me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zp(Hi.Short);break;case"ZZZZZ":e=zp(Hi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zp(Hi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zp(Hi.Long);break;default:return null}return w4[t]=e,e}(l);c+=d?d(i,n,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Hp(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Gi(t,e){const n=function kX(t){return In(t)[Ge.LocaleId]}(t);if(Gl[n]=Gl[n]||{},Gl[n][e])return Gl[n][e];let r="";switch(e){case"shortDate":r=Up(t,rr.Short);break;case"mediumDate":r=Up(t,rr.Medium);break;case"longDate":r=Up(t,rr.Long);break;case"fullDate":r=Up(t,rr.Full);break;case"shortTime":r=jp(t,rr.Short);break;case"mediumTime":r=jp(t,rr.Medium);break;case"longTime":r=jp(t,rr.Long);break;case"fullTime":r=jp(t,rr.Full);break;case"short":const i=Gi(t,"shortTime"),s=Gi(t,"shortDate");r=Gp($p(t,rr.Short),[i,s]);break;case"medium":const o=Gi(t,"mediumTime"),a=Gi(t,"mediumDate");r=Gp($p(t,rr.Medium),[o,a]);break;case"long":const u=Gi(t,"longTime"),c=Gi(t,"longDate");r=Gp($p(t,rr.Long),[u,c]);break;case"full":const l=Gi(t,"fullTime"),d=Gi(t,"fullDate");r=Gp($p(t,rr.Full),[l,d])}return r&&(Gl[n][e]=r),r}function Gp(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Vr(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function wt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function QX(t,e){switch(t){case Me.FullYear:return e.getFullYear();case Me.Month:return e.getMonth();case Me.Date:return e.getDate();case Me.Hours:return e.getHours();case Me.Minutes:return e.getMinutes();case Me.Seconds:return e.getSeconds();case Me.FractionalSeconds:return e.getMilliseconds();case Me.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Me.Hours)0===a&&-12===n&&(a=12);else if(t===Me.FractionalSeconds)return function KX(t,e){return Vr(t,3).substring(0,e)}(a,e);const u=Cr(o,pt.MinusSign);return Vr(a,e,u,r,i)}}function ze(t,e,n=Tn.Format,r=!1){return function(i,s){return function YX(t,e,n,r,i,s){switch(n){case xe.Months:return function FX(t,e,n){const r=In(t),s=Ir([r[Ge.MonthsFormat],r[Ge.MonthsStandalone]],e);return Ir(s,n)}(e,i,r)[t.getMonth()];case xe.Days:return function OX(t,e,n){const r=In(t),s=Ir([r[Ge.DaysFormat],r[Ge.DaysStandalone]],e);return Ir(s,n)}(e,i,r)[t.getDay()];case xe.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const c=function UX(t){const e=In(t);return xk(e),(e[Ge.ExtraData][2]||[]).map(r=>"string"==typeof r?v4(r):[v4(r[0]),v4(r[1])])}(e),l=function jX(t,e,n){const r=In(t);xk(r);const s=Ir([r[Ge.ExtraData][0],r[Ge.ExtraData][1]],e)||[];return Ir(s,n)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,m]=h,y=o>=f.hours&&a>=f.minutes,v=o<m.hours||o===m.hours&&a<m.minutes;if(f.hours<m.hours){if(y&&v)return!0}else if(y||v)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function PX(t,e,n){const r=In(t),s=Ir([r[Ge.DayPeriodsFormat],r[Ge.DayPeriodsStandalone]],e);return Ir(s,n)}(e,i,r)[o<12?0:1];case xe.Eras:return function LX(t,e){return Ir(In(t)[Ge.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function zp(t){return function(e,n,r){const i=-1*r,s=Cr(n,pt.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Hi.Short:return(i>=0?"+":"")+Vr(o,2,s)+Vr(Math.abs(i%60),2,s);case Hi.ShortGMT:return"GMT"+(i>=0?"+":"")+Vr(o,1,s);case Hi.Long:return"GMT"+(i>=0?"+":"")+Vr(o,2,s)+":"+Vr(Math.abs(i%60),2,s);case Hi.Extended:return 0===r?"Z":(i>=0?"+":"")+Vr(o,2,s)+":"+Vr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const XX=0,qp=4;function Nk(t){return Hp(t.getFullYear(),t.getMonth(),t.getDate()+(qp-t.getDay()))}function E4(t,e=!1){return function(n,r){let i;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=Nk(n),o=function JX(t){const e=Hp(t,XX,1).getDay();return Hp(t,0,1+(e<=qp?qp:qp+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Vr(i,t,Cr(r,pt.MinusSign))}}function Wp(t,e=!1){return function(n,r){return Vr(Nk(n).getFullYear(),t,Cr(r,pt.MinusSign),e)}}const w4={};function Rk(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function kk(t){return t instanceof Date&&!isNaN(t.valueOf())}function Lk(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class yJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zi=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new yJ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Uk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Uk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(x(Lr),x(Ui),x(Lp))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function Uk(t,e){t.context.$implicit=e.item}let qi=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new _J,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){jk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){jk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(x(Lr),x(Ui))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class _J{constructor(){this.$implicit=null,this.ngIf=null}}function jk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Mt(e)}'.`)}const NJ=new j("DATE_PIPE_DEFAULT_TIMEZONE"),RJ=new j("DATE_PIPE_DEFAULT_OPTIONS");let Hk=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(null==n||""===n||n!=n)return null;try{return WX(n,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Br(t,e){return new A(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||t)(x(ji,16),x(NJ,24),x(RJ,24))};static#t=this.\u0275pipe=_n({name:"date",type:t,pure:!0,standalone:!0})}return t})(),R4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({})}return t})();function qk(t){return"server"===t}let zJ=(()=>{class t{static#e=this.\u0275prov=W({token:t,providedIn:"root",factory:()=>new qJ(B(Xt),window)})}return t})();class qJ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function WJ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Wk{}class mZ extends TX{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O4 extends mZ{static makeCurrent(){!function DX(t){p4||(p4=t)}(new O4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function yZ(){return Wl=Wl||document.querySelector("base"),Wl?Wl.getAttribute("href"):null}();return null==n?null:function _Z(t){Xp=Xp||document.createElement("a"),Xp.setAttribute("href",t);const e=Xp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Wl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lk(document.cookie,e)}}let Xp,Wl=null,EZ=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const F4=new j("EventManagerPlugins");let Jk=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(B(F4),B(Se))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();class Zk{constructor(e){this._doc=e}}const L4="ng-app-id";let eP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qk(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${L4}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(L4),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(L4,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt),B(Zf),B(aM,8),B(Oi))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const V4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},B4=/%COMP%/g,IZ=new j("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function nP(t,e){return e.map(n=>n.replace(B4,t))}let U4=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=qk(a),this.defaultRenderer=new j4(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yr.ShadowDom&&(r={...r,encapsulation:yr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof iP?i.applyToHost(n):i instanceof $4&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case yr.Emulated:s=new iP(u,c,r,this.appId,l,o,a,d);break;case yr.ShadowDom:return new SZ(u,c,n,r,o,a,this.nonce,d);default:s=new $4(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(B(Jk),B(eP),B(Zf),B(IZ),B(Xt),B(Oi),B(Se),B(aM))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();class j4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(V4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=V4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=V4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Is.DashCase|Is.Important)?e.style.setProperty(n,r,i&Is.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Is.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=As().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function rP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class SZ extends j4{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=nP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $4 extends j4{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?nP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iP extends $4{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function DZ(t){return"_ngcontent-%COMP%".replace(B4,t)}(c),this.hostAttr=function TZ(t){return"_nghost-%COMP%".replace(B4,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let MZ=(()=>{class t extends Zk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const sP=["alt","control","meta","shift"],xZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NZ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let RZ=(()=>{class t extends Zk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),sP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=xZ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),sP.forEach(o=>{o!==i&&(0,NZ[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const aP=[{provide:Oi,useValue:"browser"},{provide:sM,useValue:function kZ(){O4.makeCurrent()},multi:!0},{provide:Xt,useFactory:function OZ(){return function pG(t){T_=t}(document),document},deps:[]}],FZ=JR(dX,"browser",aP),LZ=new j(""),uP=[{provide:Rp,useClass:class vZ{addToWindow(e){$e.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new A(5103,!1);return s},$e.getAllAngularTestabilities=()=>e.getAllTestabilities(),$e.getAllAngularRootElements=()=>e.getAllRootElements(),$e.frameworkStabilizers||($e.frameworkStabilizers=[]),$e.frameworkStabilizers.push(r=>{const i=$e.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?As().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:WR,useClass:r4,deps:[Se,i4,Rp]},{provide:r4,useClass:r4,deps:[Se,i4,Rp]}],cP=[{provide:O_,useValue:"root"},{provide:Li,useFactory:function PZ(){return new Li},deps:[]},{provide:F4,useClass:MZ,multi:!0,deps:[Xt,Se,Oi]},{provide:F4,useClass:RZ,multi:!0,deps:[Xt]},U4,eP,Jk,{provide:bl,useExisting:U4},{provide:Wk,useClass:EZ,deps:[]},[]];let lP=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Zf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(LZ,12))};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({providers:[...cP,...uP],imports:[R4,hX]})}return t})(),dP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt))};static#t=this.\u0275prov=W({token:t,factory:function(r){let i=null;return i=r?new r:function BZ(){return new dP(B(Xt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let pP=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(r){let i=null;return i=r?new(r||t):B(gP),i},providedIn:"root"})}return t})(),gP=(()=>{class t extends pP{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case wr.NONE:return r;case wr.HTML:return ti(r,"HTML")?Zn(r):Y2(this._doc,String(r)).toString();case wr.STYLE:return ti(r,"Style")?Zn(r):r;case wr.SCRIPT:if(ti(r,"Script"))return Zn(r);throw new A(5200,!1);case wr.URL:return ti(r,"URL")?Zn(r):Wf(String(r));case wr.RESOURCE_URL:if(ti(r,"ResourceURL"))return Zn(r);throw new A(5201,!1);default:throw new A(5202,!1)}}bypassSecurityTrustHtml(n){return function wG(t){return new gG(t)}(n)}bypassSecurityTrustStyle(n){return function bG(t){return new mG(t)}(n)}bypassSecurityTrustScript(n){return function CG(t){return new yG(t)}(n)}bypassSecurityTrustUrl(n){return function IG(t){return new _G(t)}(n)}bypassSecurityTrustResourceUrl(n){return function DG(t){return new vG(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt))};static#t=this.\u0275prov=W({token:t,factory:function(r){let i=null;return i=r?new r:function HZ(t){return new gP(t.get(Xt))}(B(cn)),i},providedIn:"root"})}return t})();const{isArray:zZ}=Array,{getPrototypeOf:qZ,prototype:WZ,keys:KZ}=Object;function yP(t){if(1===t.length){const e=t[0];if(zZ(e))return{args:e,keys:null};if(function QZ(t){return t&&"object"==typeof t&&qZ(t)===WZ}(e)){const n=KZ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:YZ}=Array;function _P(t){return Ae(e=>function XZ(t,e){return YZ(e)?t(...e):t(e)}(t,e))}function vP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function G4(...t){const e=qc(t),n=xA(t),{args:r,keys:i}=yP(t);if(0===r.length)return St([],e);const s=new Ve(function JZ(t,e,n=ms){return r=>{EP(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)EP(e,()=>{const c=St(t[u],e);let l=!1;c.subscribe(vt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>vP(i,o):ms));return n?s.pipe(_P(n)):s}function EP(t,e,n){t?Si(n,t,e):e()}const Jp=Gc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function z4(...t){return function ZZ(){return Ma(1)}()(St(t,qc(t)))}function wP(t){return new Ve(e=>{qn(t()).subscribe(e)})}function Kl(t,e){const n=Le(t)?t:()=>t,r=i=>i.error(n());return new Ve(e?i=>e.schedule(r,0,i):r)}function q4(){return At((t,e)=>{let n=null;t._refCount++;const r=vt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class bP extends Ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kn;const n=this.getSubject();e.add(this.source.subscribe(vt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kn.EMPTY)}return e}refCount(){return q4()(this)}}function Tu(t){return t<=0?()=>Kr:At((e,n)=>{let r=0;e.subscribe(vt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Wi(t,e){return At((n,r)=>{let i=0;n.subscribe(vt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zp(t){return At((e,n)=>{let r=!1;e.subscribe(vt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function CP(t=tee){return At((e,n)=>{let r=!1;e.subscribe(vt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tee(){return new Jp}function xo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wi((i,s)=>t(i,s,r)):ms,Tu(1),n?Zp(e):CP(()=>new Jp))}function Au(t,e){return Le(e)?Gt(t,e,1):Gt(t,1)}function Jt(t,e,n){const r=Le(t)||e||n?{next:t,error:e,complete:n}:t;return r?At((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(vt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ms}function No(t){return At((e,n)=>{let s,r=null,i=!1;r=e.subscribe(vt(n,void 0,void 0,o=>{s=qn(t(o,No(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function W4(t){return t<=0?()=>Kr:At((e,n)=>{let r=[];e.subscribe(vt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ql(t){return At((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const fe="primary",Yl=Symbol("RouteTitle");class aee{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Su(t){return new aee(t)}function uee(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ui(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!IP(t[i],e[i]))return!1;return!0}function IP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function DP(t){return t.length>0?t[t.length-1]:null}function xs(t){return function GZ(t){return!!t&&(t instanceof Ve||Le(t.lift)&&Le(t.subscribe))}(t)?t:Rl(t)?St(Promise.resolve(t)):ee(t)}const lee={exact:function SP(t,e,n){if(!Ro(t.segments,e.segments)||!eg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!SP(t.children[r],e.children[r],n))return!1;return!0},subset:MP},TP={exact:function dee(t,e){return ui(t,e)},subset:function hee(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>IP(t[n],e[n]))},ignored:()=>!0};function AP(t,e,n){return lee[n.paths](t.root,e.root,n.matrixParams)&&TP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function MP(t,e,n){return xP(t,e,e.segments,n)}function xP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ro(i,n)||e.hasChildren()||!eg(i,n,r))}if(t.segments.length===n.length){if(!Ro(t.segments,n)||!eg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!MP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ro(t.segments,i)&&eg(t.segments,i,r)&&t.children[fe])&&xP(t.children[fe],e,s,r)}}function eg(t,e,n){return e.every((r,i)=>TP[n](t[i].parameters,r.parameters))}class Mu{constructor(e=new Pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Su(this.queryParams)),this._queryParamMap}toString(){return gee.serialize(this)}}class Pe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tg(this)}}class Xl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Su(this.parameters)),this._parameterMap}toString(){return kP(this)}}function Ro(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Jl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return new K4},providedIn:"root"})}return t})();class K4{parse(e){const n=new Tee(e);return new Mu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Zl(e.root,!0)}`,r=function _ee(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${ng(n)}=${ng(i)}`).join("&"):`${ng(n)}=${ng(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function mee(t){return encodeURI(t)}(e.fragment)}`:""}`}}const gee=new K4;function tg(t){return t.segments.map(e=>kP(e)).join("/")}function Zl(t,e){if(!t.hasChildren())return tg(t);if(e){const n=t.children[fe]?Zl(t.children[fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==fe&&r.push(`${i}:${Zl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function pee(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==fe&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===fe?[Zl(t.children[fe],!1)]:[`${i}:${Zl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[fe]?`${tg(t)}/${n[0]}`:`${tg(t)}/(${n.join("//")})`}}function NP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ng(t){return NP(t).replace(/%3B/gi,";")}function Q4(t){return NP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rg(t){return decodeURIComponent(t)}function RP(t){return rg(t.replace(/\+/g,"%20"))}function kP(t){return`${Q4(t.path)}${function yee(t){return Object.keys(t).map(e=>`;${Q4(e)}=${Q4(t[e])}`).join("")}(t.parameters)}`}const vee=/^[^\/()?;#]+/;function Y4(t){const e=t.match(vee);return e?e[0]:""}const Eee=/^[^\/()?;=#]+/,bee=/^[^=?&#]+/,Iee=/^[^&#]+/;class Tee{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Pe(e,n)),r}parseSegment(){const e=Y4(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new Xl(rg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function wee(t){const e=t.match(Eee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Y4(this.remaining);i&&(r=i,this.capture(r))}e[rg(n)]=rg(r)}parseQueryParam(e){const n=function Cee(t){const e=t.match(bee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Dee(t){const e=t.match(Iee);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=RP(n),s=RP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Y4(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=fe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[fe]:new Pe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}}function PP(t){return t.segments.length>0?new Pe([],{[fe]:t}):t}function OP(t){const e={};for(const r of Object.keys(t.children)){const s=OP(t.children[r]);if(r===fe&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Aee(t){if(1===t.numberOfChildren&&t.children[fe]){const e=t.children[fe];return new Pe(t.segments.concat(e.segments),e.children)}return t}(new Pe(t.segments,e))}function ko(t){return t instanceof Mu}function FP(t){let e;const i=PP(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Pe(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function LP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return X4(i,i,i,n,r);const s=function Mee(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new BP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new BP(n,e,r)}(e);if(s.toRoot())return X4(i,i,new Pe([],{}),n,r);const o=function xee(t,e,n){if(t.isAbsolute)return new sg(e,!0,0);if(!n)return new sg(e,!1,NaN);if(null===n.parent)return new sg(n,!0,0);const r=ig(t.commands[0])?0:1;return function Nee(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new sg(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?td(o.segmentGroup,o.index,s.commands):UP(o.segmentGroup,o.index,s.commands);return X4(i,o.segmentGroup,a,n,r)}function ig(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ed(t){return"object"==typeof t&&null!=t&&t.outlets}function X4(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:VP(t,e,n);const a=PP(OP(o));return new Mu(a,s,i)}function VP(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:VP(s,e,n)}),new Pe(t.segments,r)}class BP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ig(r[0]))throw new A(4003,!1);const i=r.find(ed);if(i&&i!==DP(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sg{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function UP(t,e,n){if(t||(t=new Pe([],{})),0===t.segments.length&&t.hasChildren())return td(t,e,n);const r=function kee(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ed(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!$P(u,c,o))return s;r+=2}else{if(!$P(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Pe(t.segments.slice(0,r.pathIndex),{});return s.children[fe]=new Pe(t.segments.slice(r.pathIndex),t.children),td(s,0,i)}return r.match&&0===i.length?new Pe(t.segments,{}):r.match&&!t.hasChildren()?J4(t,e,n):r.match?td(t,0,i):J4(t,e,n)}function td(t,e,n){if(0===n.length)return new Pe(t.segments,{});{const r=function Ree(t){return ed(t[0])?t[0].outlets:{[fe]:t}}(n),i={};if(Object.keys(r).some(s=>s!==fe)&&t.children[fe]&&1===t.numberOfChildren&&0===t.children[fe].segments.length){const s=td(t.children[fe],e,n);return new Pe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=UP(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Pe(t.segments,i)}}function J4(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ed(s)){const u=Pee(s.outlets);return new Pe(r,u)}if(0===i&&ig(n[0])){r.push(new Xl(t.segments[e].path,jP(n[0]))),i++;continue}const o=ed(s)?s.outlets[fe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ig(a)?(r.push(new Xl(o,jP(a))),i+=2):(r.push(new Xl(o,{})),i++)}return new Pe(r,{})}function Pee(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=J4(new Pe([],{}),0,r))}),e}function jP(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function $P(t,e,n){return t==n.path&&ui(e,n.parameters)}const nd="imperative";class ci{constructor(e,n){this.id=e,this.url=n}}class og extends ci{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ns extends ci{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rd extends ci{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xu extends ci{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ag extends ci{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HP extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oee extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fee extends ci{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lee extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vee extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bee{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uee{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jee{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $ee{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hee{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gee{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GP{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Z4{}class e1{constructor(e){this.url=e}}class zee{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new id,this.attachRef=null}}let id=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new zee,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class zP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=t1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=t1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=n1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return n1(e,this._root).map(n=>n.value)}}function t1(t,e){if(t===e.value)return e;for(const n of e.children){const r=t1(t,n);if(r)return r}return null}function n1(t,e){if(t===e.value)return[e];for(const n of e.children){const r=n1(t,n);if(r.length)return r.unshift(e),r}return[]}class Ki{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Nu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class qP extends zP{constructor(e,n){super(e),this.snapshot=n,r1(this,e)}toString(){return this.snapshot.toString()}}function WP(t,e){const n=function qee(t,e){const o=new ug([],{},{},"",{},fe,e,null,{});return new QP("",new Ki(o,[]))}(0,e),r=new gr([new Xl("",{})]),i=new gr({}),s=new gr({}),o=new gr({}),a=new gr(""),u=new li(r,i,o,a,s,fe,e,n.root);return u.snapshot=n.root,new qP(new Ki(u,[]),n)}class li{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ae(c=>c[Yl]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(e=>Su(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(e=>Su(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KP(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Wee(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ug{get title(){return this.data?.[Yl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Su(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Su(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QP extends zP{constructor(e,n){super(n),this.url=e,r1(this,n)}toString(){return YP(this._root)}}function r1(t,e){e.value._routerState=t,e.children.forEach(n=>r1(t,n))}function YP(t){const e=t.children.length>0?` { ${t.children.map(YP).join(", ")} } `:"";return`${t.value}${e}`}function i1(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ui(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ui(e.params,n.params)||t.paramsSubject.next(n.params),function cee(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ui(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ui(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function s1(t,e){const n=ui(t.params,e.params)&&function fee(t,e){return Ro(t,e)&&t.every((n,r)=>ui(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||s1(t.parent,e.parent))}let o1=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=H(id),this.location=H(Lr),this.changeDetector=H(Pp),this.environmentInjector=H(er),this.inputBinder=H(cg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Kee(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ie({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vr]})}return t})();class Kee{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===li?this.route:e===id?this.childContexts:this.parent.get(e,n)}}const cg=new j("");let XP=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=G4([r.queryParams,r.params,r.data]).pipe(Nr(([s,o,a],u)=>(a={...s,...o,...a},0===u?ee(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function IX(t){const e=Ee(t);if(!e)return null;const n=new Al(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function sd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Yee(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sd(t,r,i);return sd(t,r)})}(t,e,n);return new Ki(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sd(t,a)),o}}const r=function Xee(t){return new li(new gr(t.url),new gr(t.params),new gr(t.queryParams),new gr(t.fragment),new gr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>sd(t,s));return new Ki(r,i)}}const a1="ngNavigationCancelingError";function JP(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZP(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function ZP(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[a1]=!0,r.cancellationCode=e,n&&(r.url=n),r}function eO(t){return t&&t[a1]}let tO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xt({type:t,selectors:[["ng-component"]],standalone:!0,features:[YN],decls:1,vars:0,template:function(r,i){1&r&&M(0,"router-outlet")},dependencies:[o1],encapsulation:2})}return t})();function u1(t){const e=t.children&&t.children.map(u1),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=tO),n}function Ur(t){return t.outlet||fe}function od(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ste{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),i1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Nu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Nu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Nu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Nu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Gee(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $ee(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i1(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),i1(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=od(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class nO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lg{constructor(e,n){this.component=e,this.route=n}}function ote(t,e,n){const r=t._root;return ad(r,e?e._root:null,n,[r.value])}function Ru(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Nj(t){return null!==uf(t)}(t)?e.get(t):t:r}function ad(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Nu(e);return t.children.forEach(o=>{(function ute(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function cte(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ro(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ro(t.url,e.url)||!ui(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!s1(t,e)||!ui(t.queryParams,e.queryParams);default:return!s1(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new nO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ad(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new lg(a.outlet.component,o))}else o&&ud(e,a,i),i.canActivateChecks.push(new nO(r)),ad(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ud(a,n.getContext(o),i)),i}function ud(t,e,n){const r=Nu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{ud(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new lg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function cd(t){return"function"==typeof t}function rO(t){return t instanceof Jp||"EmptyError"===t?.name}const dg=Symbol("INITIAL_VALUE");function ku(){return Nr(t=>G4(t.map(e=>e.pipe(Tu(1),function eee(...t){const e=qc(t);return At((n,r)=>{(e?z4(t,n,e):z4(t,n)).subscribe(r)})}(dg)))).pipe(Ae(e=>{for(const n of e)if(!0!==n){if(n===dg)return dg;if(!1===n||n instanceof Mu)return n}return!0}),Wi(e=>e!==dg),Tu(1)))}function iO(t){return function PU(...t){return hA(t)}(Jt(e=>{if(ko(e))throw JP(0,e)}),Ae(e=>!0===e))}class hg{constructor(e){this.segmentGroup=e||null}}class sO{constructor(e){this.urlTree=e}}function Pu(t){return Kl(new hg(t))}function oO(t){return Kl(new sO(t))}class Mte{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new A(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[fe])return Kl(new A(4e3,!1));i=i.children[fe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Mu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Pe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const c1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xte(t,e,n,r,i){const s=l1(t,e,n);return s.matched?(r=function Zee(t,e){return t.providers&&!t._injector&&(t._injector=Vv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Tte(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(o=>{const a=Ru(o,t);return xs(function gte(t){return t&&cd(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ku(),iO()):ee(!0)}(r,e,n).pipe(Ae(o=>!0===o?s:{...c1}))):ee(s)}function l1(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...c1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||uee)(n,t,e);if(!i)return{...c1};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function aO(t,e,n,r){return n.length>0&&function kte(t,e,n){return n.some(r=>fg(t,e,r)&&Ur(r)!==fe)}(t,n,r)?{segmentGroup:new Pe(e,Rte(r,new Pe(n,t.children))),slicedSegments:[]}:0===n.length&&function Pte(t,e,n){return n.some(r=>fg(t,e,r))}(t,n,r)?{segmentGroup:new Pe(t.segments,Nte(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Pe(t.segments,t.children),slicedSegments:n}}function Nte(t,e,n,r,i){const s={};for(const o of r)if(fg(t,n,o)&&!i[Ur(o)]){const a=new Pe([],{});s[Ur(o)]=a}return{...i,...s}}function Rte(t,e){const n={};n[fe]=e;for(const r of t)if(""===r.path&&Ur(r)!==fe){const i=new Pe([],{});n[Ur(r)]=i}return n}function fg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Vte{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Mte(this.urlSerializer,this.urlTree)}noMatchError(e){return new A(4002,!1)}recognize(){const e=aO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(No(n=>{if(n instanceof sO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof hg?this.noMatchError(n):n}),Ae(n=>{const r=new ug([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),i=new Ki(r,n),s=new QP("",i),o=function See(t,e,n=null,r=null){return LP(FP(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,fe).pipe(No(r=>{throw r instanceof hg?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=KP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return St(i).pipe(Au(s=>{const o=r.children[s],a=function rte(t,e){const n=t.filter(r=>Ur(r)===e);return n.push(...t.filter(r=>Ur(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function ree(t,e){return At(function nee(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(vt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Zp(null),function iee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wi((i,s)=>t(i,s,r)):ms,W4(1),n?Zp(e):CP(()=>new Jp))}(),Gt(s=>{if(null===s)return Pu(r);const o=uO(s);return function Bte(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ee(o)}))}processSegment(e,n,r,i,s,o){return St(n).pipe(Au(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(No(u=>{if(u instanceof hg)return ee(null);throw u}))),xo(a=>!!a),No(a=>{if(rO(a))return function Fte(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ee([]):Pu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Ote(t,e,n,r){return!!(Ur(t)===r||r!==fe&&fg(e,n,t))&&("**"===t.path||l1(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Pu(i):Pu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Gt(o=>{const a=new Pe(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=l1(n,i,s);if(!a)return Pu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?oO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Gt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?DP(i).parameters:{};a=ee({snapshot:new ug(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cO(r),Ur(r),r.component??r._loadedComponent??null,r,lO(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=xte(n,r,i,e).pipe(Ae(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new ug(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cO(r),Ur(r),r.component??r._loadedComponent??null,r,lO(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Nr(u=>null===u?Pu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Nr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:m,slicedSegments:y}=aO(n,h,f,c);if(0===y.length&&m.hasChildren())return this.processChildren(l,c,m).pipe(Ae(C=>null===C?null:[new Ki(d,C)]));if(0===c.length&&0===y.length)return ee([new Ki(d,[])]);const v=Ur(r)===s;return this.processSegment(l,c,m,y,v?fe:s,!0).pipe(Ae(C=>[new Ki(d,C)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function Dte(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(o=>{const a=Ru(o,t);return xs(function dte(t){return t&&cd(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ku(),iO())}(e,n,r).pipe(Gt(i=>i?this.configLoader.loadChildren(e,n).pipe(Jt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Ste(t){return Kl(ZP(!1,3))}())):ee({routes:[],injector:e})}}function Ute(t){const e=t.value.routeConfig;return e&&""===e.path}function uO(t){const e=[],n=new Set;for(const r of t){if(!Ute(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=uO(r.children);e.push(new Ki(r.value,i))}return e.filter(r=>!n.has(r))}function cO(t){return t.data||{}}function lO(t){return t.resolve||{}}function dO(t){return"string"==typeof t.title||null===t.title}function d1(t){return Nr(e=>{const n=t(e);return n?St(n).pipe(Ae(()=>e)):ee(e)})}const Ou=new j("ROUTES");let h1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(HR)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=xs(n.loadComponent()).pipe(Ae(hO),Jt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ql(()=>{this.componentLoaders.delete(n)})),i=new bP(r,()=>new pr).pipe(q4());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Wte(t,e,n,r){return xs(t.loadChildren()).pipe(Ae(hO),Gt(i=>i instanceof KN||Array.isArray(i)?ee(i):St(e.compileModuleAsync(i))),Ae(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Ou,[],{optional:!0,self:!0}).flat()),{routes:o.map(u1),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Ql(()=>{this.childrenLoaders.delete(r)})),o=new bP(s,()=>new pr).pipe(q4());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hO(t){return function Kte(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let pg=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pr,this.transitionAbortSubject=new pr,this.configLoader=H(h1),this.environmentInjector=H(er),this.urlSerializer=H(Jl),this.rootContexts=H(id),this.inputBindingEnabled=null!==H(cg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Uee(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Bee(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new gr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nd,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wi(s=>0!==s.id),Ae(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Nr(s=>{this.currentTransition=s;let o=!1,a=!1;return ee(s).pipe(Jt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new xu(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Kr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(Nr(h=>{const f=this.transitions?.getValue();return this.events.next(new og(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Kr:Promise.resolve(h)}),function jte(t,e,n,r,i,s){return Gt(o=>function Lte(t,e,n,r,i,s,o="emptyOnly"){return new Vte(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ae(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Jt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new HP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:m,restoredState:y,extras:v}=u,C=new og(h,this.urlSerializer.serialize(f),m,y);this.events.next(C);const w=WP(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:w,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},ee(s)}{const h="";return this.events.next(new xu(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Kr}}),Jt(u=>{const c=new Oee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Ae(u=>(this.currentTransition=s={...u,guards:ote(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function yte(t,e){return Gt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee({...n,guardsResult:!0}):function _te(t,e,n,r){return St(t).pipe(Gt(i=>function Ite(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=od(e)??i,c=Ru(a,u);return xs(function pte(t){return t&&cd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(xo())})).pipe(ku()):ee(!0)}(i.component,i.route,n,e,r)),xo(i=>!0!==i,!0))}(o,r,i,t).pipe(Gt(a=>a&&function lte(t){return"boolean"==typeof t}(a)?function vte(t,e,n,r){return St(e).pipe(Au(i=>z4(function wte(t,e){return null!==t&&e&&e(new jee(t)),ee(!0)}(i.route.parent,r),function Ete(t,e){return null!==t&&e&&e(new Hee(t)),ee(!0)}(i.route,r),function Cte(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function ate(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>wP(()=>ee(o.guards.map(u=>{const c=od(o.node)??n,l=Ru(u,c);return xs(function fte(t){return t&&cd(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(xo())})).pipe(ku())));return ee(s).pipe(ku())}(t,i.path,n),function bte(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>wP(()=>{const o=od(e)??n,a=Ru(s,o);return xs(function hte(t){return t&&cd(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(xo())}));return ee(i).pipe(ku())}(t,i.route,n))),xo(i=>!0!==i,!0))}(r,s,t,e):ee(a)),Ae(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Jt(u=>{if(s.guardsResult=u.guardsResult,ko(u.guardsResult))throw JP(0,u.guardsResult);const c=new Fee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Wi(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),d1(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(Jt(c=>{const l=new Lee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Nr(c=>{let l=!1;return ee(c).pipe(function $te(t,e){return Gt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return St(i).pipe(Au(o=>function Hte(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!dO(i)&&(s[Yl]=i.title),function Gte(t,e,n,r){const i=function zte(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const s={};return St(i).pipe(Gt(o=>function qte(t,e,n,r){const i=od(e)??r,s=Ru(t,i);return xs(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(xo(),Jt(a=>{s[o]=a}))),W4(1),function see(t){return Ae(()=>t)}(s),No(o=>rO(o)?Kr:Kl(o)))}(s,t,e,r).pipe(Ae(o=>(t._resolvedData=o,t.data=KP(t,n).resolve,i&&dO(i)&&(t.data[Yl]=i.title),null)))}(o.route,r,t,e)),Jt(()=>s++),W4(1),Gt(o=>s===i.length?ee(n):Kr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Jt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Jt(c=>{const l=new Vee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),d1(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Jt(h=>{l.component=h}),Ae(()=>{})));for(const h of l.children)d.push(...c(h));return d};return G4(c(u.targetSnapshot.root)).pipe(Zp(),Tu(1))}),d1(()=>this.afterPreactivation()),Ae(u=>{const c=function Qee(t,e,n){const r=sd(t,e._root,n?n._root:void 0);return new qP(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),Jt(()=>{this.events.next(new Z4)}),((t,e,n,r)=>Ae(i=>(new ste(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Tu(1),Jt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ns(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function oee(t){return At((e,n)=>{qn(t).subscribe(vt(n,()=>n.complete(),cy)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Jt(u=>{throw u}))),Ql(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),No(u=>{if(a=!0,eO(u))this.events.next(new rd(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function Jee(t){return eO(t)&&ko(t.url)}(u)?this.events.next(new e1(u.url)):s.resolve(!1);else{this.events.next(new ag(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return Kr}))}))}cancelNavigationTransition(n,r,i){const s=new rd(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fO(t){return t!==nd}let pO=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===fe);return r}getResolvedTitleForRoute(n){return n.data[Yl]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return H(Qte)},providedIn:"root"})}return t})(),Qte=(()=>{class t extends pO{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(B(dP))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return H(Jte)},providedIn:"root"})}return t})();class Xte{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Jte=(()=>{class t extends Xte{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gg=new j("",{providedIn:"root",factory:()=>({})});let Zte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return H(ene)},providedIn:"root"})}return t})(),ene=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ld=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ld||{});function gO(t,e){t.events.pipe(Wi(n=>n instanceof Ns||n instanceof rd||n instanceof ag||n instanceof xu),Ae(n=>n instanceof Ns||n instanceof xu?ld.COMPLETE:n instanceof rd&&(0===n.code||1===n.code)?ld.REDIRECTING:ld.FAILED),Wi(n=>n!==ld.REDIRECTING),Tu(1)).subscribe(()=>{e()})}function tne(t){throw t}function nne(t,e,n){return e.parse("/")}const rne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ine={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let An=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=H($R),this.isNgZoneEnabled=!1,this._events=new pr,this.options=H(gg,{optional:!0})||{},this.pendingTasks=H(xp),this.errorHandler=this.options.errorHandler||tne,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nne,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=H(Zte),this.routeReuseStrategy=H(Yte),this.titleStrategy=H(pO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=H(Ou,{optional:!0})?.flat()??[],this.navigationTransitions=H(pg),this.urlSerializer=H(Jl),this.location=H(y4),this.componentInputBindingEnabled=!!H(cg,{optional:!0}),this.eventsSubscription=new kn,this.isNgZoneEnabled=H(Se)instanceof Se&&Se.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=WP(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(mO(r)&&this._events.next(r));if(r instanceof og)fO(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof xu)this.rawUrlTree=i.rawUrl;else if(r instanceof HP){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Z4)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof rd)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof e1){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fO(i.source)};this.scheduleNavigation(s,nd,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof ag&&this.restoreHistory(i,!0),r instanceof Ns&&(this.navigated=!0),mO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nd,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(u1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=FP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return LP(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ko(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,nd,null,r)}navigate(n,r={skipLocationChange:!1}){return function sne(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new A(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...rne}:!1===r?{...ine}:r,ko(n))return AP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return AP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return gO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mO(t){return!(t instanceof Z4||t instanceof e1)}let Qi=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new pr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Ns&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function X2(t,e,n){return function UG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Qf:eu}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(x(An),x(li),function Mf(t){return function nH(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(GA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Qt(),t)}("tabindex"),x(Fi),x(tr),x(Ss))};static#t=this.\u0275dir=ie({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&le("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&ii("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Iu],skipLocationChange:["skipLocationChange","skipLocationChange",Iu],replaceUrl:["replaceUrl","replaceUrl",Iu],routerLink:"routerLink"},standalone:!0,features:[lx,vr]})}return t})();class yO{}let une=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wi(n=>n instanceof Ns),Au(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Vv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return St(i).pipe(Ma())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ee(null);const s=i.pipe(Gt(o=>null===o?ee(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?St([s,this.loader.loadComponent(r)]).pipe(Ma()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(B(An),B(HR),B(er),B(yO),B(h1))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const f1=new j("");let _O=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof og?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ns?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof xu&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof GP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function LM(){throw new Error("invalid")}()};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function Yi(t,e){return{\u0275kind:t,\u0275providers:e}}function EO(){const t=H(cn);return e=>{const n=t.get(So);if(e!==n.components[0])return;const r=t.get(An),i=t.get(wO);1===t.get(p1)&&r.initialNavigation(),t.get(bO,null,ge.Optional)?.setUpPreloading(),t.get(f1,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const wO=new j("",{factory:()=>new pr}),p1=new j("",{providedIn:"root",factory:()=>1}),bO=new j("");function hne(t){return Yi(0,[{provide:bO,useExisting:une},{provide:yO,useExisting:t}])}const CO=new j("ROUTER_FORROOT_GUARD"),pne=[y4,{provide:Jl,useClass:K4},An,id,{provide:li,useFactory:function vO(t){return t.routerState.root},deps:[An]},h1,[]];function gne(){return new YR("Router",An)}let mg=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[pne,[],{provide:Ou,multi:!0,useValue:n},{provide:CO,useFactory:vne,deps:[[An,new Ln,new Rf]]},{provide:gg,useValue:r||{}},r?.useHash?{provide:Ss,useClass:Ak}:{provide:Ss,useClass:Tk},{provide:f1,useFactory:()=>{const t=H(zJ),e=H(Se),n=H(gg),r=H(pg),i=H(Jl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new _O(i,r,t,e,n)}},r?.preloadingStrategy?hne(r.preloadingStrategy).\u0275providers:[],{provide:YR,multi:!0,useFactory:gne},r?.initialNavigation?Ene(r):[],r?.bindToComponentInputs?Yi(8,[XP,{provide:cg,useExisting:XP}]).\u0275providers:[],[{provide:IO,useFactory:EO},{provide:a4,multi:!0,useExisting:IO}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ou,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(CO,8))};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({})}return t})();function vne(t){return"guarded"}function Ene(t){return["disabled"===t.initialNavigation?Yi(3,[{provide:Zv,multi:!0,useFactory:()=>{const e=H(An);return()=>{e.setUpLocationChangeListener()}}},{provide:p1,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Yi(2,[{provide:p1,useValue:0},{provide:Zv,multi:!0,deps:[cn],useFactory:e=>{const n=e.get(AX,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(An),s=e.get(wO);gO(i,()=>{r(!0)}),e.get(pg).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const IO=new j("");let bne=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-main"]],decls:38,vars:0,consts:[[1,"main"],[1,"logo"],["viewBox","0 0 320 360","height","360","width","320",1,"logo"],["xmlns","http://www.w3.org/2000/svg","d","M20.961 227.22l3.726 4.658-1.863-6.056c-0.466-2.795-3.726 0.466-1.863 1.398M25.153 224.425c1.397 2.329 2.795 4.658 2.795 6.987 0 3.261 2.795 4.658 5.123 5.589-3.261-3.726-5.124-13.974-7.918-12.576M204.017 26.929c7.918 0 15.371-0.932 23.756 0.931 20.495 5.124 37.729 15.371 49.374 29.811l32.606 52.169c1.397 13.042 4.192 27.482 3.726 43.319 3.261 0 2.795-4.658 6.521-5.59-3.726 9.316-5.59 20.961-6.521 34.469-2.329-7.453 0-18.632 0.466-24.687-3.261 5.124-5.124 1.397-5.124-0.932 0.466-3.726-1.397-3.261-2.795-4.658-5.124-4.658-8.384-9.782-12.11-17.7 2.329-6.055 2.795-14.905-4.658-19.563-2.329-1.397-5.124-3.726-6.521-7.453-1.863-5.124-5.124-11.179-4.193-19.097 0.466-2.329-6.987 5.124-11.179 1.863-18.166-12.576-36.332-27.016-58.224-39.127-11.645 0-20.029-4.192-24.221-9.316-3.726-4.658-0.932-10.713 4.658-11.179 3.261 0 6.987-0.932 9.782 0.932 0.466-1.863 2.329-4.192 4.657-4.192M157.904 16.215l0.932 0.466c4.658 0.932 6.987 7.453 12.11 5.124 0 3.261 0.466 6.521-0.466 8.85-1.397 3.726-5.59 3.726-8.85 3.726-31.208-1.863-49.374 11.179-68.471 22.358-5.124 3.261-10.713 5.59-14.906 9.782-20.029 18.632-41.921 35.866-47.045 70.335l-4.192 38.195c-0.466 4.192-5.124 8.384-4.192 13.508l3.26 22.824c-3.261-3.261-5.124 0.932-4.192 2.795 0.466 1.397 2.329 6.055 5.124 1.863 3.726 6.987 7.453 20.495 12.576 26.55 15.837 18.632 36.332 35.4 53.101 52.169 4.192-0.932 7.453-0.932 8.384-3.727 1.397 2.795-1.397 5.59-3.726 6.056 7.453 4.658 15.837 8.85 27.016 9.781 14.44 0.932 27.948 3.261 40.524 6.522 6.521-1.863 13.042-2.795 20.029-3.261 2.329 0 3.726-3.726 6.521-4.658l0.466-4.658c2.795 4.192 2.329-1.397 0.466-4.192 3.261 2.795 4.192 5.124 5.589 6.987 0-1.397 3.726-6.521 3.727-0.466l0.931-6.055c1.397-0.932 1.863 5.124 3.261 0.931 1.397-4.192 4.192-0.932 6.987-2.329-0.932 1.863-0.466 5.59 2.794 3.261l3.727-3.261c2.329 5.59 6.055 3.261 7.918 2.329 20.495-13.042 40.99-28.413 60.553-43.784l-0.466 6.055 2.329-7.453c2.329 2.329 4.192 0.466 5.124-0.931 2.795-4.658 6.521-9.316 12.577-13.508-7.453 20.029-16.303 35.866-27.482 48.908l-4.658 5.59c0 3.261-0.932 7.453-4.658 7.918-1.863 0.466-5.59-0.932-8.384 1.863-1.397 1.863 3.261 5.59-0.466 2.795-3.261-2.329-6.521 0-10.248 0.932-2.795 0.932 1.863 3.726 2.795 5.589 0.932 1.863 1.863 3.726 1.398 6.056l-5.124-5.59c-6.055 3.261-9.782 9.316-14.906 13.974-2.329 1.863-1.397 5.124-1.397 7.918-3.261 0-6.987-0.932-8.85 0.932-1.397 1.863-0.932 4.658-0.932 7.453-4.658-0.466-5.124-7.453-9.315-6.056-4.192 0.932-8.85 1.397-12.577 3.727 2.795 5.59-4.658 2.329-3.726 3.26-6.987-4.192-13.042-7.453-20.495-4.658-15.837-5.124-35.4-2.795-49.84-0.931 0-2.329 0.466-4.658-0.466-5.124-0.932 2.329-3.726 1.397-3.26 1.397-8.85-6.055-17.7-9.782-27.016-14.905-8.384 0.932-16.303-3.261-18.632-5.59-6.521-6.055-13.974-2.795-20.029-4.192-13.042-3.261-17.7-16.769-19.098-26.084-0.932-4.658-4.658-6.521-6.055-6.056-6.055-19.563-15.371-37.263-22.824-55.429-1.863-4.658-1.397-9.316-1.397-14.44 2.329 0.932 4.658 0.466 4.192-2.794-2.329-15.371-7.918-27.016-13.974-38.195 3.261-15.837 3.726-34.469 11.179-48.443 6.521-12.576 18.632-19.098 27.016-29.811 2.795-3.726 2.795-8.85 5.59-12.11 9.316-9.316 18.632-19.098 28.879-27.482 4.658-3.726 10.247 0 17.234-1.397 2.329-8.384 11.645-15.837 20.495-13.508 3.726 0.932 11.179-8.85 13.508-9.782 3.726-1.397 1.863 3.726 1.863 6.987 8.85-6.987 20.961-10.713 32.14-14.906","fill","#ffffff","fill-rule","nonzero","stroke","none","stroke-width","1","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","stroke-dasharray","","stroke-dashoffset","0","font-family","none","font-weight","none","font-size","none","text-anchor","none","data-fill-palette-color","tertiary",2,"mix-blend-mode","normal"],["transform","matrix(1,0,0,1,64,100.74523665202226)"],["viewBox","0 0 192 158.5095266959555","height","158.5095266959555","width","192"],["transform","matrix(1,0,0,1,0,116.51177957641397)"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192"],["id","textblocktransform"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192","id","textblock"],["viewBox","0 0 192 27.968648441980502","height","27.968648441980502","width","192"],["transform","matrix(1,0,0,1,0,0)"],["width","192","viewBox","3.25 -37.599998474121094 261.5199890136719 38.099998474121094","height","27.968648441980502","data-palette-color","#ffffff"],["d","M18.9-37.6L18.9-37.6Q21.4-37.6 23.73-36.77 26.05-35.95 27.9-34.55 29.75-33.15 30.95-31.3 32.15-29.45 32.45-27.35L32.45-27.35Q32.55-26.9 32.48-26.75 32.4-26.6 32.1-26.6L32.1-26.6 28.35-26.3Q28.1-26.25 28-26.4 27.9-26.55 27.85-26.8L27.85-26.8Q27.15-30 24.83-31.98 22.5-33.95 19.05-33.95L19.05-33.95Q13.85-33.95 11.05-30.1 8.25-26.25 8.25-18.5L8.25-18.5Q8.25-11 11-7.15 13.75-3.3 19.3-3.3L19.3-3.3Q22.85-3.3 25.23-5 27.6-6.7 29.05-10.45L29.05-10.45Q29.2-10.75 29.65-10.65L29.65-10.65 32.6-9.95Q32.75-9.9 32.85-9.75 32.95-9.6 32.85-9.25L32.85-9.25Q32.45-7.8 31.63-6.4 30.8-5 29.6-3.78 28.4-2.55 26.8-1.58 25.2-0.6 23.28-0.05 21.35 0.5 19.1 0.5L19.1 0.5Q14.15 0.5 10.58-1.8 7-4.1 5.13-8.4 3.25-12.7 3.25-18.6L3.25-18.6Q3.25-24.5 5.13-28.78 7-33.05 10.53-35.33 14.05-37.6 18.9-37.6L18.9-37.6ZM39.9 0L39.9 0Q39.25 0 39.25-0.65L39.25-0.65 39.25-36.45Q39.25-37.1 39.8-37.1L39.8-37.1 42.75-37.1Q43.3-37.1 43.3-36.5L43.3-36.5 43.3-23.15Q43.3-22.9 43.4-22.85 43.5-22.8 43.75-23L43.75-23Q45.5-24.35 46.97-25.25 48.45-26.15 49.87-26.58 51.3-27 53-27L53-27Q56.9-27 58.95-24.93 61-22.85 61-19.4L61-19.4 61-0.8Q61 0 60.25 0L60.25 0 57.45 0Q57.1 0 56.95-0.18 56.8-0.35 56.8-0.65L56.8-0.65 56.8-18.5Q56.8-20.95 55.55-22.33 54.3-23.7 51.6-23.7L51.6-23.7Q50.15-23.7 48.87-23.23 47.6-22.75 46.3-21.88 45-21 43.45-19.65L43.45-19.65 43.45-0.75Q43.45 0 42.65 0L42.65 0 39.9 0ZM71.2-11.6L71.2-11.6Q71.2-9.15 72.37-7.13 73.55-5.1 75.52-3.9 77.5-2.7 79.95-2.7L79.95-2.7Q82.45-2.7 84.4-3.73 86.35-4.75 87.75-6.85L87.75-6.85Q87.95-7.05 88.07-7.08 88.2-7.1 88.45-7L88.45-7 90.55-5.95Q91-5.7 90.65-5.25L90.65-5.25Q89.3-3.25 87.67-1.98 86.05-0.7 84.05-0.1 82.05 0.5 79.55 0.5L79.55 0.5Q75.85 0.5 73-1.2 70.15-2.9 68.5-5.95 66.85-9 66.85-13L66.85-13Q66.85-17.35 68.52-20.48 70.2-23.6 73.07-25.3 75.95-27 79.5-27L79.5-27Q83.15-27 85.85-25.4 88.55-23.8 90.05-20.75 91.55-17.7 91.55-13.4L91.55-13.4Q91.55-13.05 91.47-12.7 91.4-12.35 90.8-12.35L90.8-12.35 71.65-12.35Q71.45-12.35 71.32-12.13 71.2-11.9 71.2-11.6L71.2-11.6ZM71.3-15.1L86.5-15.1Q87.05-15.1 87.2-15.23 87.35-15.35 87.35-15.8L87.35-15.8Q87.35-17.95 86.42-19.83 85.5-21.7 83.77-22.85 82.05-24 79.6-24L79.6-24Q76.9-24 75.05-22.73 73.2-21.45 72.25-19.4 71.3-17.35 71.3-15.1L71.3-15.1ZM110.19-26.5L110.19-26.5Q110.44-26.5 110.57-26.35 110.69-26.2 110.69-26L110.69-26 110.69-23.85Q110.69-23.35 110.19-23.35L110.19-23.35 104.49-23.35Q104.09-23.35 104.09-22.95L104.09-22.95 104.09-0.7Q104.09 0 103.49 0L103.49 0 100.44 0Q99.89 0 99.89-0.65L99.89-0.65 99.89-23Q99.89-23.35 99.54-23.35L99.54-23.35 94.64-23.35Q94.14-23.35 94.14-23.85L94.14-23.85 94.14-26Q94.14-26.2 94.27-26.35 94.39-26.5 94.69-26.5L94.69-26.5 99.44-26.5Q99.89-26.5 99.89-27L99.89-27 99.89-30.65Q99.89-33.8 101.44-35.45 102.99-37.1 106.14-37.1L106.14-37.1 110.29-37.1Q110.94-37.1 110.94-36.5L110.94-36.5 110.94-34.55Q110.94-34.3 110.82-34.18 110.69-34.05 110.39-34.05L110.39-34.05 106.89-34.05Q105.34-34.05 104.67-33.08 103.99-32.1 103.99-30.45L103.99-30.45 103.99-26.95Q103.99-26.5 104.44-26.5L104.44-26.5 110.19-26.5ZM130.99-20.65L130.99-20.65Q129.99-22.15 128.19-23.1 126.39-24.05 123.89-24.05L123.89-24.05Q121.19-24.05 119.42-22.9 117.64-21.75 117.64-19.8L117.64-19.8Q117.64-18.75 118.44-17.82 119.24-16.9 121.69-16.1L121.69-16.1 128.04-14.2Q131.49-13.25 133.02-11.45 134.54-9.65 134.54-7.3L134.54-7.3Q134.54-4.95 133.14-3.2 131.74-1.45 129.29-0.48 126.84 0.5 123.74 0.5L123.74 0.5Q119.79 0.5 116.84-1.07 113.89-2.65 112.64-5L112.64-5Q112.49-5.25 112.49-5.45 112.49-5.65 112.74-5.8L112.74-5.8 114.69-6.9Q114.94-7.05 115.14-7.03 115.34-7 115.44-6.85L115.44-6.85Q116.29-5.55 117.42-4.6 118.54-3.65 120.12-3.1 121.69-2.55 123.79-2.55L123.79-2.55Q125.69-2.6 127.24-3.1 128.79-3.6 129.69-4.58 130.59-5.55 130.59-6.85L130.59-6.85Q130.59-8.2 129.49-9.18 128.39-10.15 125.69-10.9L125.69-10.9 120.54-12.35Q116.79-13.35 115.27-15.05 113.74-16.75 113.69-19.05L113.69-19.05Q113.69-21.45 114.99-23.23 116.29-25 118.62-26 120.94-27 123.94-27L123.94-27Q127.29-27 129.92-25.73 132.54-24.45 133.89-22.35L133.89-22.35Q134.04-22.15 134.04-21.98 134.04-21.8 133.84-21.65L133.84-21.65 131.74-20.5Q131.54-20.4 131.37-20.43 131.19-20.45 130.99-20.65L130.99-20.65ZM149.63-33.95L149.63-36.55Q149.63-36.8 149.76-36.95 149.88-37.1 150.23-37.1L150.23-37.1 177.13-37.1Q177.44-37.1 177.59-36.95 177.74-36.8 177.74-36.55L177.74-36.55 177.74-33.95Q177.74-33.45 177.13-33.45L177.13-33.45 166.99-33.45Q166.44-33.45 166.44-32.95L166.44-32.95 166.44-0.65Q166.44 0 165.84 0L165.84 0 162.23 0Q161.63 0 161.63-0.65L161.63-0.65 161.63-32.9Q161.63-33.45 161.13-33.45L161.13-33.45 150.23-33.45Q149.63-33.45 149.63-33.95L149.63-33.95ZM194.68-3.2L194.68-3.2Q192.83-1.4 190.66-0.45 188.48 0.5 185.78 0.5L185.78 0.5Q181.88 0.5 179.66-1.5 177.43-3.5 177.43-6.75L177.43-6.75Q177.43-9.4 178.93-11.33 180.43-13.25 183.38-14.38 186.33-15.5 190.63-15.75L190.63-15.75 194.53-16.05Q194.83-16.1 195.08-16.25 195.33-16.4 195.33-16.8L195.33-16.8 195.33-18.15Q195.33-20.85 193.66-22.43 191.98-24 189.13-24L189.13-24Q186.93-24 185.16-23 183.38-22 181.98-20L181.98-20Q181.78-19.75 181.66-19.68 181.53-19.6 181.23-19.7L181.23-19.7 178.53-20.6Q178.38-20.7 178.31-20.85 178.23-21 178.43-21.4L178.43-21.4Q179.93-24 182.66-25.5 185.38-27 189.33-27L189.33-27Q192.68-27 194.91-25.98 197.13-24.95 198.26-23.03 199.38-21.1 199.38-18.45L199.38-18.45 199.38-0.75Q199.38-0.3 199.23-0.15 199.08 0 198.73 0L198.73 0 196.18 0Q195.83 0 195.68-0.23 195.53-0.45 195.48-0.8L195.48-0.8 195.43-3.1Q195.28-3.8 194.68-3.2L194.68-3.2ZM195.33-12.7L195.33-12.7Q195.33-13.55 194.63-13.5L194.63-13.5 191.33-13.2Q189.03-13.1 187.23-12.63 185.43-12.15 184.18-11.4 182.93-10.65 182.28-9.63 181.63-8.6 181.63-7.25L181.63-7.25Q181.63-5.05 183.16-3.83 184.68-2.6 187.28-2.6L187.28-2.6Q188.88-2.6 190.36-3.18 191.83-3.75 192.93-4.65L192.93-4.65Q194.08-5.6 194.71-6.6 195.33-7.6 195.33-8.55L195.33-8.55 195.33-12.7ZM211.08-36.45L211.08-0.85Q211.08-0.35 210.88-0.18 210.68 0 210.18 0L210.18 0 207.58 0Q206.83 0 206.83-0.7L206.83-0.7 206.88-36.4Q206.88-37.1 207.48-37.1L207.48-37.1 210.48-37.1Q211.08-37.1 211.08-36.45L211.08-36.45ZM241.68-0.8L241.68-0.8Q241.88-0.5 241.78-0.25 241.68 0 241.23 0L241.23 0 237.73 0Q237.43 0 237.2-0.15 236.98-0.3 236.83-0.6L236.83-0.6 229.28-13.55Q229.18-13.75 229.05-13.83 228.93-13.9 228.68-13.65L228.68-13.65 223.38-8.3Q223.18-8.1 223.1-7.88 223.03-7.65 223.03-7.3L223.03-7.3 223.03-0.85Q223.03-0.35 222.85-0.18 222.68 0 222.13 0L222.13 0 219.58 0Q219.08 0 218.95-0.15 218.83-0.3 218.83-0.7L218.83-0.7 218.83-36.4Q218.83-37.1 219.38-37.1L219.38-37.1 222.43-37.1Q223.03-37.1 223.03-36.45L223.03-36.45 223.03-13.25Q223.03-12.85 223.13-12.78 223.23-12.7 223.53-13.05L223.53-13.05 235.88-25.9Q236.43-26.5 236.93-26.5L236.93-26.5 239.98-26.5Q240.48-26.5 240.55-26.23 240.63-25.95 240.23-25.55L240.23-25.55 232.33-17.5Q232.18-17.35 232.15-17.15 232.13-16.95 232.28-16.65L232.28-16.65 241.68-0.8ZM261.23-20.65L261.23-20.65Q260.23-22.15 258.43-23.1 256.63-24.05 254.13-24.05L254.13-24.05Q251.42-24.05 249.65-22.9 247.88-21.75 247.88-19.8L247.88-19.8Q247.88-18.75 248.67-17.82 249.47-16.9 251.92-16.1L251.92-16.1 258.27-14.2Q261.73-13.25 263.25-11.45 264.77-9.65 264.77-7.3L264.77-7.3Q264.77-4.95 263.38-3.2 261.98-1.45 259.52-0.48 257.07 0.5 253.97 0.5L253.97 0.5Q250.03 0.5 247.07-1.07 244.13-2.65 242.88-5L242.88-5Q242.72-5.25 242.72-5.45 242.72-5.65 242.97-5.8L242.97-5.8 244.92-6.9Q245.17-7.05 245.38-7.03 245.57-7 245.67-6.85L245.67-6.85Q246.53-5.55 247.65-4.6 248.78-3.65 250.35-3.1 251.92-2.55 254.03-2.55L254.03-2.55Q255.92-2.6 257.48-3.1 259.02-3.6 259.93-4.58 260.82-5.55 260.82-6.85L260.82-6.85Q260.82-8.2 259.73-9.18 258.63-10.15 255.92-10.9L255.92-10.9 250.78-12.35Q247.03-13.35 245.5-15.05 243.97-16.75 243.92-19.05L243.92-19.05Q243.92-21.45 245.22-23.23 246.53-25 248.85-26 251.17-27 254.17-27L254.17-27Q257.52-27 260.15-25.73 262.77-24.45 264.13-22.35L264.13-22.35Q264.27-22.15 264.27-21.98 264.27-21.8 264.07-21.65L264.07-21.65 261.98-20.5Q261.77-20.4 261.6-20.43 261.43-20.45 261.23-20.65L261.23-20.65Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,36.672,34.57137509156949)"],["viewBox","0 0 118.656 7.426372027972029","height","7.426372027972029","width","118.656"],["width","118.656","viewBox","0 -35.79999923706055 571.9600219726562 35.79999923706055","height","7.426372027972029","data-palette-color","#ffffff"],["d","M40.35-2.15L52.4-2.15 52.4 0 33.75 0 26.4-23.95 26-23.95 18.65 0 0 0 0-2.15 12.05-2.15 0.6-34.95 6.95-34.95 15.75-9.8 23.55-34.95 28.85-34.95 36.65-9.8 45.45-34.95 51.8-34.95 40.35-2.15ZM52.4-2.15L57.25-2.15 57.25-34.95 81.8-34.95 81.8-29.4 63.15-29.4 63.15-20.15 79.9-20.15 79.9-14.9 63.15-14.9 63.15-5.55 82.4-5.55 82.4-2.15 87.25-2.15 87.25 0 52.4 0 52.4-2.15ZM85.1-2.15L98.8-2.15 98.8 0 85.1 0 85.1-2.15ZM129.04-2.15L135.59-2.15 135.59 0 98.79 0 98.79-2.15 109.89-2.15Q105.94-4.5 103.67-8.55 101.39-12.6 101.39-17.7L101.39-17.7Q101.39-25.4 106.72-30.6 112.04-35.8 120.17-35.8 128.29-35.8 133.74-29.8L133.74-29.8 129.99-25.7Q127.49-28.1 125.27-29.05 123.04-30 120.04-30L120.04-30Q114.74-30 111.14-26.58 107.54-23.15 107.54-17.82 107.54-12.5 111.12-8.93 114.69-5.35 119.59-5.35L119.59-5.35Q122.64-5.35 124.84-6.38 127.04-7.4 129.44-9.65L129.44-9.65 133.24-5.75Q131.04-3.35 129.04-2.15L129.04-2.15ZM166.14-2.15L177.59-2.15 177.59 0 135.59 0 135.59-2.15 147.04-2.15Q142.94-4.5 140.57-8.6 138.19-12.7 138.19-17.75L138.19-17.75Q138.19-25.45 143.49-30.63 148.79-35.8 156.59-35.8 164.39-35.8 169.69-30.63 174.99-25.45 174.99-17.75L174.99-17.75Q174.99-12.75 172.62-8.6 170.24-4.45 166.14-2.15L166.14-2.15ZM165.37-26.7Q161.79-30.4 156.59-30.4 151.39-30.4 147.82-26.7 144.24-23 144.24-17.73 144.24-12.45 147.82-8.75 151.39-5.05 156.59-5.05 161.79-5.05 165.37-8.75 168.94-12.45 168.94-17.73 168.94-23 165.37-26.7ZM208.14-2.15L219.59-2.15 219.59 0 177.59 0 177.59-2.15 189.04-2.15Q184.94-4.5 182.56-8.6 180.19-12.7 180.19-17.75L180.19-17.75Q180.19-25.45 185.49-30.63 190.79-35.8 198.59-35.8 206.39-35.8 211.69-30.63 216.99-25.45 216.99-17.75L216.99-17.75Q216.99-12.75 214.61-8.6 212.24-4.45 208.14-2.15L208.14-2.15ZM207.36-26.7Q203.79-30.4 198.59-30.4 193.39-30.4 189.81-26.7 186.24-23 186.24-17.73 186.24-12.45 189.81-8.75 193.39-5.05 198.59-5.05 203.79-5.05 207.36-8.75 210.94-12.45 210.94-17.73 210.94-23 207.36-26.7ZM219.59-2.15L224.44-2.15 224.44-34.95 230.34-34.95 230.34-17.9 246.34-34.95 253.84-34.95 239.79-19.65 252.49-2.1 252.49-2.15 257.34-2.15 257.34 0 247.04 0 235.44-15.3 230.34-9.8 230.34 0 219.59 0 219.59-2.15ZM254.78-2.15L268.48-2.15 268.48 0 254.78 0 254.78-2.15ZM308.83-2.15L320.88-2.15 320.88 0 302.23 0 294.88-23.95 294.48-23.95 287.13 0 268.48 0 268.48-2.15 280.53-2.15 269.08-34.95 275.43-34.95 284.23-9.8 292.03-34.95 297.33-34.95 305.13-9.8 313.93-34.95 320.28-34.95 308.83-2.15ZM320.88-2.15L325.73-2.15 325.73-34.95 331.63-34.95 331.63-2.15 336.48-2.15 336.48 0 320.88 0 320.88-2.15ZM354.53-2.15L366.68-2.15 366.68 0 336.48 0 336.48-2.15 348.63-2.15 348.63-29.55 338.03-29.55 338.03-34.95 365.13-34.95 365.13-29.55 354.53-29.55 354.53-2.15ZM405.52 0L405.52-2.15 400.67-2.15 400.67-34.95 394.77-34.95 394.77-19.8 377.42-19.8 377.42-34.95 371.52-34.95 371.52 0 377.42 0 377.42-14.3 394.77-14.3 394.77 0 405.52 0ZM366.67-2.15L371.52-2.15 371.52 0 366.67 0 366.67-2.15ZM405.52-2.15L419.22-2.15 419.22 0 405.52 0 405.52-2.15ZM445.92-2.15L450.77-2.15 450.77 0 419.22 0 419.22-2.15 424.07-2.15 424.07-34.95 429.97-34.95 429.97-5.6 445.92-5.6 445.92-2.15ZM478.07-2.15L489.52-2.15 489.52 0 447.52 0 447.52-2.15 458.97-2.15Q454.87-4.5 452.49-8.6 450.12-12.7 450.12-17.75L450.12-17.75Q450.12-25.45 455.42-30.63 460.72-35.8 468.52-35.8 476.32-35.8 481.62-30.63 486.92-25.45 486.92-17.75L486.92-17.75Q486.92-12.75 484.54-8.6 482.17-4.45 478.07-2.15L478.07-2.15ZM477.29-26.7Q473.72-30.4 468.52-30.4 463.32-30.4 459.74-26.7 456.17-23 456.17-17.73 456.17-12.45 459.74-8.75 463.32-5.05 468.52-5.05 473.72-5.05 477.29-8.75 480.87-12.45 480.87-17.73 480.87-23 477.29-26.7ZM511.16-2.15L524.51-2.15 524.51 0 489.51 0 489.51-2.15 502.81-2.15 489.66-34.95 496.26-34.95 507.01-8.85 517.76-34.95 524.36-34.95 511.16-2.15ZM524.51-2.15L529.36-2.15 529.36-34.95 553.91-34.95 553.91-29.4 535.26-29.4 535.26-20.15 552.01-20.15 552.01-14.9 535.26-14.9 535.26-5.55 554.51-5.55 554.51-2.15 559.36-2.15 559.36 0 524.51 0 524.51-2.15ZM561.11-28.5L561.11-34.95 568.11-34.95 568.11-28.5 566.61-10.95 562.61-10.95 561.11-28.5ZM567.21-2.15L571.96-2.15 571.96 0 557.21 0 557.21-2.15 562.06-2.15Q560.91-3.2 560.91-4.78 560.91-6.35 562.01-7.45 563.11-8.55 564.63-8.55 566.16-8.55 567.26-7.45 568.36-6.35 568.36-4.78 568.36-3.2 567.21-2.15L567.21-2.15Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","secondary","id","text-1",1,"slogan-text-1"],["transform","matrix(1,0,0,1,44.346836861382,0)"],["viewBox","0 0 103.306326277236 103.306326277236","height","103.306326277236","width","103.306326277236"],["id","icon-0"],["d","M0 51.653c0-28.527 23.126-51.653 51.653-51.653 28.527 0 51.653 23.126 51.653 51.653 0 28.527-23.126 51.653-51.653 51.653-28.527 0-51.653-23.126-51.653-51.653zM51.653 100.784c27.134 0 49.131-21.997 49.131-49.131 0-27.134-21.997-49.131-49.131-49.131-27.134 0-49.131 21.997-49.131 49.131 0 27.134 21.997 49.131 49.131 49.131z","data-fill-palette-color","accent","fill","#ffffff","stroke","transparent"],["rx","51.13663150723182","ry","51.13663150723182","cx","51.653163138618","cy","51.653163138618","fill","#ffffff","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,20.799678473042622,21.56674460107238)"],["viewBox","0 0 61.70696933115075 60.17283707509124","height","60.17283707509124","width","61.70696933115075"],["xmlns","http://www.w3.org/2000/svg","version","1.1","x","0","y","0","viewBox","4.642358779907227 7.340823173522949 90.00060272216797 87.76304626464844","enable-background","new 0 0 100 100","height","60.17283707509124","width","61.70696933115075","data-fill-palette-color","quaternary","id","y-0",1,"icon-y-0"],["d","M34.065 95.103c0 0-5.908 0.268-6.441-8.623l-4.313-27.253c0 0-17.724-3.09-18.628-18.685 0 0-1.49-14.747 13.574-20.441 0 0 2.29-1.809 10.115-1.704 0 0 7.187-11.871 21.397-10.965 0 0 10.968-1.81 21.08 10.699 0 0 14.211-1.011 21.345 11.604 0 0 8.251 13.468-5.537 24.752 0 0-3.46 3.087-9.847 4.578l-3.565 29.33c0 0 0.21 4.95-3.779 5.909l0.212-43.862c0 0-0.638-3.62-4.151-3.568 0 0-3.355-0.158-4.045 3.568V76.42h2.767v18.683h-8.782V66.41c0 0 2.874-0.462 3.246-3.185V47.887c0 0 0.238-1.146-0.831-1.083-1.072 0.063-0.926 0.42-0.926 1.029 0 0.608 0 11.062 0 11.062h-1.679V47.75c0 0-0.042-1.008-0.796-0.797 0 0-0.86-0.19-0.902 0.818-0.042 1.006 0 11.04 0 11.04h-1.679V47.853c0 0 0.125-1.069-0.735-1.048-0.861 0.021-0.925 0.672-0.925 1.134 0 0.461 0 10.894 0 10.894h-1.615V47.434c0 0 0.083-0.755-0.841-0.65-0.921 0.106-0.902 0.629-0.902 0.86 0 0.232 0 15.389 0 15.389s-0.273 2.853 3.359 3.146v28.924H39.071V68.363c0 0 6.467-3.529 5.795-10.58 0 0 0.504-8.649-7.223-10.831 0 0-8.06-0.505-9.235 9.571 0 0-0.841 8.73 5.542 11.672L34.065 95.103z","fill","#8abe53","data-fill-palette-color","quaternary"]],template:function(r,i){1&r&&(g(0,"main",0)(1,"div",1),function jS(){ne.lFrame.currentNamespace="svg"}(),g(2,"svg",2)(3,"g"),M(4,"path",3),p(),g(5,"g",4)(6,"svg",5)(7,"g")(8,"svg",5)(9,"g",6)(10,"svg",7)(11,"g",8)(12,"svg",9)(13,"g")(14,"svg",10)(15,"g",11)(16,"svg",12),M(17,"path",13),p()()()(),g(18,"g",14)(19,"svg",15)(20,"g",11)(21,"svg",16),M(22,"path",17),p()()()()()()()(),g(23,"g",18)(24,"svg",19)(25,"g"),M(26,"svg"),p(),g(27,"g",20)(28,"svg",19)(29,"g"),M(30,"path",21)(31,"ellipse",22),p(),g(32,"g",23)(33,"svg",24)(34,"g")(35,"svg",25),M(36,"path",26),p()()()()()()()(),M(37,"g"),p()()()()()()())},styles:[".logo[_ngcontent-%COMP%]{width:250px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return t})();function DO(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function E(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){DO(s,r,i,o,a,"next",u)}function a(u){DO(s,r,i,o,a,"throw",u)}o(void 0)})}}const TO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},m1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Tne;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fu=function(t){return function(t){const e=TO(t);return m1.encodeByteArray(e,!0)}(t).replace(/\./g,"")},yg=function(t){try{return m1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},_g=()=>{try{return function Mne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},y1=()=>{var t;return null===(t=_g())||void 0===t?void 0:t.config};class vg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function ir(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _1(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Rs(){try{return"object"==typeof indexedDB}catch{return!1}}function Lu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function v1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}}class jr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function jne(t,e){return t.replace($ne,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new sr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const $ne=/\{\$([^}]+)}/g;function dd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(MO(s)&&MO(o)){if(!dd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function MO(t){return null!==t&&"object"==typeof t}function xO(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Gne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function zne(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=E1),void 0===i.error&&(i.error=E1),void 0===i.complete&&(i.complete=E1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E1(){}const qne=1e3,Wne=2,Kne=144e5,Qne=.5;function b1(t,e=qne,n=Wne){const r=e*Math.pow(n,t),i=Math.round(Qne*r*(Math.random()-.5)*2);return Math.min(Kne,r+i)}function Sn(t){return t&&t._delegate?t._delegate:t}class bt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Po="[DEFAULT]";class Xne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Zne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return E(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Po?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class NO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const C1=[];var Ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ie||{});const RO={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},ere=Ie.INFO,tre={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},nre=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=tre[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Oo{constructor(e){this.name=e,this._logLevel=ere,this._logHandler=nre,this._userLogHandler=null,C1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?RO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const rre=(t,e)=>e.some(n=>t instanceof n);let kO,PO;const OO=new WeakMap,I1=new WeakMap,FO=new WeakMap,D1=new WeakMap,T1=new WeakMap;let A1={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return I1.get(t);if("objectStoreNames"===e)return t.objectStoreNames||FO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lre(t){return"function"==typeof t?function cre(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sre(){return PO||(PO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(S1(this),e),ks(OO.get(this))}:function(...e){return ks(t.apply(S1(this),e))}:function(e,...n){const r=t.call(S1(this),e,...n);return FO.set(r,e.sort?e.sort():[e]),ks(r)}}(t):(t instanceof IDBTransaction&&function are(t){if(I1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});I1.set(t,e)}(t),rre(t,function ire(){return kO||(kO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,A1):t)}function ks(t){if(t instanceof IDBRequest)return function ore(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ks(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OO.set(n,t)}).catch(()=>{}),T1.set(e,t),e}(t);if(D1.has(t))return D1.get(t);const e=lre(t);return e!==t&&(D1.set(t,e),T1.set(e,t)),e}const S1=t=>T1.get(t);function LO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ks(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ks(o.result),u.oldVersion,u.newVersion,ks(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const dre=["get","getKey","getAll","getAllKeys","count"],hre=["put","add","delete","clear"],M1=new Map;function VO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(M1.get(e))return M1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!dre.includes(n))return;const s=function(){var o=E(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return M1.set(e,s),s}!function ure(t){A1=t(A1)}(t=>({...t,get:(e,n,r)=>VO(e,n)||t.get(e,n,r),has:(e,n)=>!!VO(e,n)||t.has(e,n)}));class fre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function pre(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const x1="@firebase/app",Fo=new Oo("@firebase/app"),wg="[DEFAULT]",Ure={[x1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lo=new Map,bg=new Map;function jre(t,e){try{t.container.addComponent(e)}catch(n){Fo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vu(t){const e=t.name;if(bg.has(e))return Fo.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,t);for(const n of Lo.values())jre(n,t);return!0}const Xi=new jr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hre{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}const Cg="9.23.0";function jO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:wg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Xi.create("bad-app-name",{appName:String(i)});if(n||(n=y1()),!n)throw Xi.create("no-options");const s=Lo.get(i);if(s){if(dd(n,s.options)&&dd(r,s.config))return s;throw Xi.create("duplicate-app",{appName:i})}const o=new NO(i);for(const u of bg.values())o.addComponent(u);const a=new Hre(n,r,o);return Lo.set(i,a),a}function $O(t=wg){const e=Lo.get(t);if(!e&&t===wg&&y1())return jO();if(!e)throw Xi.create("no-app",{appName:t});return e}function HO(){return Array.from(Lo.values())}function Dr(t,e,n){var r;let i=null!==(r=Ure[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Fo.warn(a.join(" "))}Vu(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Gre="firebase-heartbeat-database",zre=1,hd="firebase-heartbeat-store";let R1=null;function GO(){return R1||(R1=LO(Gre,zre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(hd)}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),R1}function k1(){return(k1=E(function*(t){try{return yield(yield GO()).transaction(hd).objectStore(hd).get(qO(t))}catch(e){if(e instanceof sr)Fo.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e?.message});Fo.warn(n.message)}}})).apply(this,arguments)}function zO(t,e){return P1.apply(this,arguments)}function P1(){return(P1=E(function*(t,e){try{const r=(yield GO()).transaction(hd,"readwrite");yield r.objectStore(hd).put(e,qO(t)),yield r.done}catch(n){if(n instanceof sr)Fo.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n?.message});Fo.warn(r.message)}}})).apply(this,arguments)}function qO(t){return`${t.name}!${t.options.appId}`}class Qre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=WO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return E(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=WO(),{heartbeatsToSend:r,unsentEntries:i}=function Yre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Fu(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function WO(){return(new Date).toISOString().substring(0,10)}class Xre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!Rs()&&Lu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function qre(t){return k1.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return zO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return zO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function KO(t){return Fu(JSON.stringify({version:2,heartbeats:t})).length}!function Jre(t){Vu(new bt("platform-logger",e=>new fre(e),"PRIVATE")),Vu(new bt("heartbeat",e=>new Qre(e),"PRIVATE")),Dr(x1,"0.9.13",t),Dr(x1,"0.9.13","esm2017"),Dr("fire-js","")}(""),Dr("firebase","9.23.0","app");class tie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function nie(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const O1="@firebase/app",Vo=new Oo("@firebase/app"),Sie={[O1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bo=new Map,Dg=new Map;function Mie(t,e){try{t.container.addComponent(e)}catch(n){Vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tr(t){const e=t.name;if(Dg.has(e))return Vo.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const n of Bo.values())Mie(n,t);return!0}function F1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ji=new jr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}function or(t,e,n){var r;let i=null!==(r=Sie[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Vo.warn(a.join(" "))}Tr(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const kie="firebase-heartbeat-database",Pie=1,fd="firebase-heartbeat-store";let V1=null;function XO(){return V1||(V1=LO(kie,Pie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(fd)}}).catch(t=>{throw Ji.create("idb-open",{originalErrorMessage:t.message})})),V1}function B1(){return(B1=E(function*(t){try{return yield(yield XO()).transaction(fd).objectStore(fd).get(ZO(t))}catch(e){if(e instanceof sr)Vo.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e?.message});Vo.warn(n.message)}}})).apply(this,arguments)}function JO(t,e){return U1.apply(this,arguments)}function U1(){return(U1=E(function*(t,e){try{const r=(yield XO()).transaction(fd,"readwrite");yield r.objectStore(fd).put(e,ZO(t)),yield r.done}catch(n){if(n instanceof sr)Vo.warn(n.message);else{const r=Ji.create("idb-set",{originalErrorMessage:n?.message});Vo.warn(r.message)}}})).apply(this,arguments)}function ZO(t){return`${t.name}!${t.options.appId}`}class Vie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=eF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return E(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=eF(),{heartbeatsToSend:r,unsentEntries:i}=function Bie(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Fu(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function eF(){return(new Date).toISOString().substring(0,10)}class Uie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!Rs()&&Lu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Oie(t){return B1.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return JO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return JO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function tF(t){return Fu(JSON.stringify({version:2,heartbeats:t})).length}!function jie(t){Tr(new bt("platform-logger",e=>new tie(e),"PRIVATE")),Tr(new bt("heartbeat",e=>new Vie(e),"PRIVATE")),or(O1,"0.9.22",t),or(O1,"0.9.22","esm2017"),or("fire-js","")}("");const $ie=(t,e)=>e.some(n=>t instanceof n);let nF,rF;const iF=new WeakMap,j1=new WeakMap,sF=new WeakMap,$1=new WeakMap,H1=new WeakMap;let G1={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return j1.get(t);if("objectStoreNames"===e)return t.objectStoreNames||sF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Qie(t){return"function"==typeof t?function Kie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gie(){return rF||(rF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(z1(this),e),Ps(iF.get(this))}:function(...e){return Ps(t.apply(z1(this),e))}:function(e,...n){const r=t.call(z1(this),e,...n);return sF.set(r,e.sort?e.sort():[e]),Ps(r)}}(t):(t instanceof IDBTransaction&&function qie(t){if(j1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});j1.set(t,e)}(t),$ie(t,function Hie(){return nF||(nF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,G1):t)}function Ps(t){if(t instanceof IDBRequest)return function zie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ps(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iF.set(n,t)}).catch(()=>{}),H1.set(e,t),e}(t);if($1.has(t))return $1.get(t);const e=Qie(t);return e!==t&&($1.set(t,e),H1.set(e,t)),e}const z1=t=>H1.get(t),Xie=["get","getKey","getAll","getAllKeys","count"],Jie=["put","add","delete","clear"],q1=new Map;function oF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(q1.get(e))return q1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xie.includes(n))return;const s=function(){var o=E(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return q1.set(e,s),s}!function Wie(t){G1=t(G1)}(t=>({...t,get:(e,n,r)=>oF(e,n)||t.get(e,n,r),has:(e,n)=>!!oF(e,n)||t.has(e,n)}));const aF="@firebase/installations",W1="0.6.4",uF=1e4,cF=`w:${W1}`,lF="FIS_v2",Zie="https://firebaseinstallations.googleapis.com/v1",ese=36e5,Zi=new jr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dF(t){return t instanceof sr&&t.code.includes("request-failed")}function K1({projectId:t}){return`${Zie}/projects/${t}/installations`}function hF(t){return{token:t.token,requestStatus:2,expiresIn:ise(t.expiresIn),creationTime:Date.now()}}function Q1(t,e){return Y1.apply(this,arguments)}function Y1(){return(Y1=E(function*(t,e){const r=(yield e.json()).error;return Zi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function fF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function X1(t){return J1.apply(this,arguments)}function J1(){return(J1=E(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ise(t){return Number(t.replace("s","000"))}function Z1(){return(Z1=E(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=K1(t),i=fF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:lF,appId:t.appId,sdkVersion:cF})},u=yield X1(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:hF(c.authToken)}}throw yield Q1("Create Installation",u)})).apply(this,arguments)}function gF(t){return new Promise(e=>{setTimeout(e,t)})}const use=/^[cdef][\w-]{21}$/,eE="";function cse(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function lse(t){return function ase(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return use.test(n)?n:eE}catch{return eE}}function Bu(t){return`${t.appName}!${t.appId}`}const Uu=new Map;function mF(t,e){const n=Bu(t);yF(n,e),function fse(t,e){const n=function _F(){return!Uo&&"BroadcastChannel"in self&&(Uo=new BroadcastChannel("[Firebase] FID Change"),Uo.onmessage=t=>{yF(t.data.key,t.data.fid)}),Uo}();n&&n.postMessage({key:t,fid:e}),function vF(){0===Uu.size&&Uo&&(Uo.close(),Uo=null)}()}(n,e)}function yF(t,e){const n=Uu.get(t);if(n)for(const r of n)r(e)}let Uo=null;const pse="firebase-installations-database",gse=1,jo="firebase-installations-store";let tE=null;function nE(){return tE||(tE=function Yie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ps(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ps(o.result),u.oldVersion,u.newVersion,Ps(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(pse,gse,{upgrade:(t,e)=>{0===e&&t.createObjectStore(jo)}})),tE}function Tg(t,e){return rE.apply(this,arguments)}function rE(){return(rE=E(function*(t,e){const n=Bu(t),i=(yield nE()).transaction(jo,"readwrite"),s=i.objectStore(jo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&mF(t,e.fid),e})).apply(this,arguments)}function iE(t){return sE.apply(this,arguments)}function sE(){return(sE=E(function*(t){const e=Bu(t),r=(yield nE()).transaction(jo,"readwrite");yield r.objectStore(jo).delete(e),yield r.done})).apply(this,arguments)}function pd(t,e){return oE.apply(this,arguments)}function oE(){return(oE=E(function*(t,e){const n=Bu(t),i=(yield nE()).transaction(jo,"readwrite"),s=i.objectStore(jo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&mF(t,a.fid),a})).apply(this,arguments)}function aE(t){return uE.apply(this,arguments)}function uE(){return uE=E(function*(t){let e;const n=yield pd(t.appConfig,r=>{const i=function mse(t){return wF(t||{fid:cse(),registrationStatus:0})}(r),s=function yse(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Zi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function _se(t,e){return cE.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:vse(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===eE?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),uE.apply(this,arguments)}function cE(){return cE=E(function*(t,e){try{const n=yield function ose(t,e){return Z1.apply(this,arguments)}(t,e);return Tg(t.appConfig,n)}catch(n){throw dF(n)&&409===n.customData.serverCode?yield iE(t.appConfig):yield Tg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),cE.apply(this,arguments)}function vse(t){return lE.apply(this,arguments)}function lE(){return(lE=E(function*(t){let e=yield EF(t.appConfig);for(;1===e.registrationStatus;)yield gF(100),e=yield EF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield aE(t);return r||n}return e})).apply(this,arguments)}function EF(t){return pd(t,e=>{if(!e)throw Zi.create("installation-not-found");return wF(e)})}function wF(t){return function Ese(t){return 1===t.registrationStatus&&t.registrationTime+uF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function dE(){return(dE=E(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function bse(t,{fid:e}){return`${K1(t)}/${e}/authTokens:generate`}(t,n),i=function pF(t,{refreshToken:e}){const n=fF(t);return n.append("Authorization",function sse(t){return`${lF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:cF,appId:t.appId}})},u=yield X1(()=>fetch(r,a));if(u.ok)return hF(yield u.json());throw yield Q1("Generate Auth Token",u)})).apply(this,arguments)}function hE(t){return fE.apply(this,arguments)}function fE(){return fE=E(function*(t,e=!1){let n;const r=yield pd(t.appConfig,s=>{if(!CF(s))throw Zi.create("not-registered");const o=s.authToken;if(!e&&function Dse(t){return 2===t.requestStatus&&!function Tse(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ese}(t)}(o))return s;if(1===o.requestStatus)return n=function Cse(t,e){return pE.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Zi.create("app-offline");const a=function Ase(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Ise(t,e){return gE.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),fE.apply(this,arguments)}function pE(){return(pE=E(function*(t,e){let n=yield bF(t.appConfig);for(;1===n.authToken.requestStatus;)yield gF(100),n=yield bF(t.appConfig);const r=n.authToken;return 0===r.requestStatus?hE(t,e):r})).apply(this,arguments)}function bF(t){return pd(t,e=>{if(!CF(e))throw Zi.create("not-registered");return function Sse(t){return 1===t.requestStatus&&t.requestTime+uF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function gE(){return gE=E(function*(t,e){try{const n=yield function wse(t,e){return dE.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Tg(t.appConfig,r),n}catch(n){if(!dF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Tg(t.appConfig,r)}else yield iE(t.appConfig);throw n}}),gE.apply(this,arguments)}function CF(t){return void 0!==t&&2===t.registrationStatus}function mE(){return(mE=E(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield aE(e);return r?r.catch(console.error):hE(e).catch(console.error),n.fid})).apply(this,arguments)}function yE(){return yE=E(function*(t,e=!1){const n=t;return yield function Nse(t){return _E.apply(this,arguments)}(n),(yield hE(n,e)).token}),yE.apply(this,arguments)}function _E(){return(_E=E(function*(t){const{registrationPromise:e}=yield aE(t);e&&(yield e)})).apply(this,arguments)}function wE(t){return Zi.create("missing-app-config-values",{valueName:t})}const IF="installations",Fse=t=>{const e=t.getProvider("app").getImmediate(),n=function Pse(t){if(!t||!t.options)throw wE("App Configuration");if(!t.name)throw wE("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wE(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:F1(e,"heartbeat"),_delete:()=>Promise.resolve()}},Lse=t=>{const n=F1(t.getProvider("app").getImmediate(),IF).getImmediate();return{getId:()=>function Mse(t){return mE.apply(this,arguments)}(n),getToken:i=>function xse(t){return yE.apply(this,arguments)}(n,i)}};(function Vse(){Tr(new bt(IF,Fse,"PUBLIC")),Tr(new bt("installations-internal",Lse,"PRIVATE"))})(),or(aF,W1),or(aF,W1,"esm2017");const bE="@firebase/remote-config",jn=new jr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qse{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return E(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Yse(t=navigator){return t.languages&&t.languages[0]||t.language}class Xse{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return E(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Yse()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((C,w)=>{e.signal.addEventListener(()=>{const S=new Error("The operation was aborted.");S.name="AbortError",w(S)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(C){let w="fetch-client-network";throw"AbortError"===C?.name&&(w="fetch-timeout"),jn.create(w,{originalErrorMessage:C?.message})}let f=h.status;const m=h.headers.get("ETag")||void 0;let y,v;if(200===h.status){let C;try{C=yield h.json()}catch(w){throw jn.create("fetch-client-parse",{originalErrorMessage:w?.message})}y=C.entries,v=C.state}if("INSTANCE_STATE_UNSPECIFIED"===v?f=500:"NO_CHANGE"===v?f=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(y={}),304!==f&&200!==f)throw jn.create("fetch-status",{httpStatus:f});return{status:f,eTag:m,config:y}})()}}class eoe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return E(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return E(function*(){yield function Jse(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Zse(t){if(!(t instanceof sr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+b1(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class roe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Sg(t,e){const n=t.target.error||void 0;return jn.create(e,{originalErrorMessage:n&&n?.message})}const $o="app_namespace_store";class aoe{constructor(e,n,r,i=function ooe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Sg(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($o,{keyPath:"compositeKey"})}}catch(n){e(jn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return E(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([$o],"readonly").objectStore($o),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Sg(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(jn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return E(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([$o],"readwrite").objectStore($o),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Sg(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(jn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return E(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([$o],"readwrite").objectStore($o),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Sg(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(jn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class uoe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return E(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function loe(){return AE.apply(this,arguments)}function AE(){return(AE=E(function*(){if(!Rs())return!1;try{return yield Lu()}catch{return!1}})).apply(this,arguments)}!function coe(){Tr(new bt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jn.create("registration-window");if(!Rs())throw jn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw jn.create("registration-project-id");if(!o)throw jn.create("registration-api-key");if(!a)throw jn.create("registration-app-id");const u=new aoe(a,r.name,n=n||"firebase"),c=new uoe(u),l=new Oo(bE);l.logLevel=Ie.ERROR;const d=new Xse(i,"10.5.2",n,s,o,a),h=new eoe(d,u),f=new Qse(h,u,c,l),m=new roe(r,f,c,u,l);return function qse(t){const e=Sn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),or(bE,"0.4.4"),or(bE,"0.4.4","esm2017")}();const doe=(t,e)=>e.some(n=>t instanceof n);let SF,MF;const xF=new WeakMap,SE=new WeakMap,NF=new WeakMap,ME=new WeakMap,xE=new WeakMap;let NE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return SE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||NF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _oe(t){return"function"==typeof t?function yoe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function foe(){return MF||(MF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(RE(this),e),es(xF.get(this))}:function(...e){return es(t.apply(RE(this),e))}:function(e,...n){const r=t.call(RE(this),e,...n);return NF.set(r,e.sort?e.sort():[e]),es(r)}}(t):(t instanceof IDBTransaction&&function goe(t){if(SE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});SE.set(t,e)}(t),doe(t,function hoe(){return SF||(SF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,NE):t)}function es(t){if(t instanceof IDBRequest)return function poe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(es(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xF.set(n,t)}).catch(()=>{}),xE.set(e,t),e}(t);if(ME.has(t))return ME.get(t);const e=_oe(t);return e!==t&&(ME.set(t,e),xE.set(e,t)),e}const RE=t=>xE.get(t);function RF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=es(o);return r&&o.addEventListener("upgradeneeded",u=>{r(es(o.result),u.oldVersion,u.newVersion,es(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function kE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),es(n).then(()=>{})}const voe=["get","getKey","getAll","getAllKeys","count"],Eoe=["put","add","delete","clear"],PE=new Map;function kF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(PE.get(e))return PE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Eoe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!voe.includes(n))return;const s=function(){var o=E(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return PE.set(e,s),s}!function moe(t){NE=t(NE)}(t=>({...t,get:(e,n,r)=>kF(e,n)||t.get(e,n,r),has:(e,n)=>!!kF(e,n)||t.has(e,n)}));const woe="/firebase-messaging-sw.js",boe="/firebase-cloud-messaging-push-scope",PF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Coe="https://fcmregistrations.googleapis.com/v1",OF="google.c.a.c_id",Ioe="google.c.a.c_l",Doe="google.c.a.ts";var Mg=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Mg||{});function ts(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Soe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const OE="fcm_token_details_db",Moe=5,FF="fcm_token_object_Store";function FE(){return FE=E(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(OE))return null;let e=null;return(yield RF(OE,Moe,{upgrade:(r=E(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(FF))return;const c=a.objectStore(FF),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ts(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ts(d.auth),p256dh:ts(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ts(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ts(d.auth),p256dh:ts(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ts(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield kE(OE),yield kE("fcm_vapid_details_db"),yield kE("undefined"),function Noe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),FE.apply(this,arguments)}const Roe="firebase-messaging-database",koe=1,Ho="firebase-messaging-store";let LE=null;function VE(){return LE||(LE=RF(Roe,koe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ho)}})),LE}function LF(t){return BE.apply(this,arguments)}function BE(){return BE=E(function*(t){const e=HE(t),r=yield(yield VE()).transaction(Ho).objectStore(Ho).get(e);if(r)return r;{const i=yield function xoe(t){return FE.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield UE(t,i),i}}),BE.apply(this,arguments)}function UE(t,e){return jE.apply(this,arguments)}function jE(){return(jE=E(function*(t,e){const n=HE(t),i=(yield VE()).transaction(Ho,"readwrite");return yield i.objectStore(Ho).put(e,n),yield i.done,e})).apply(this,arguments)}function $E(){return($E=E(function*(t){const e=HE(t),r=(yield VE()).transaction(Ho,"readwrite");yield r.objectStore(Ho).delete(e),yield r.done})).apply(this,arguments)}function HE({appConfig:t}){return t.appId}const Zt=new jr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Foe(t,e){return GE.apply(this,arguments)}function GE(){return(GE=E(function*(t,e){const n=yield KE(t),r=BF(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(WE(t.appConfig),i)).json()}catch(o){throw Zt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Zt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function zE(){return(zE=E(function*(t,e){const n=yield KE(t),r=BF(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${WE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Zt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Zt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-update-no-token");return s.token})).apply(this,arguments)}function VF(t,e){return qE.apply(this,arguments)}function qE(){return(qE=E(function*(t,e){const r={method:"DELETE",headers:yield KE(t)};try{const s=yield(yield fetch(`${WE(t.appConfig)}/${e}`,r)).json();if(s.error)throw Zt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Zt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function WE({projectId:t}){return`${Coe}/projects/${t}/registrations`}function KE(t){return QE.apply(this,arguments)}function QE(){return(QE=E(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function BF({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==PF&&(i.web.applicationPubKey=r),i}const Voe=6048e5;function YE(){return YE=E(function*(t){const e=yield function joe(t,e){return ew.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ts(e.getKey("auth")),p256dh:ts(e.getKey("p256dh"))},r=yield LF(t.firebaseDependencies);if(r){if(function $oe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Voe?function Uoe(t,e){return JE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield VF(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return jF(t.firebaseDependencies,n)}return jF(t.firebaseDependencies,n)}),YE.apply(this,arguments)}function XE(){return XE=E(function*(t){const e=yield LF(t.firebaseDependencies);e&&(yield VF(t.firebaseDependencies,e.token),yield function Poe(t){return $E.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),XE.apply(this,arguments)}function JE(){return JE=E(function*(t,e){try{const n=yield function Loe(t,e){return zE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield UE(t.firebaseDependencies,r),n}catch(n){throw yield function UF(t){return XE.apply(this,arguments)}(t),n}}),JE.apply(this,arguments)}function jF(t,e){return ZE.apply(this,arguments)}function ZE(){return(ZE=E(function*(t,e){const r={token:yield Foe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield UE(t,r),r.token})).apply(this,arguments)}function ew(){return(ew=E(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Soe(e)})})).apply(this,arguments)}function $F(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Hoe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Goe(t,e){e.data&&(t.data=e.data)}(e,t),function zoe(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function HF(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function tw(t){return Zt.create("missing-app-config-values",{valueName:t})}HF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),HF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Koe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Woe(t){if(!t||!t.options)throw tw("App Configuration Object");if(!t.name)throw tw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw tw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function nw(){return(nw=E(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(woe,{scope:boe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Zt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function rw(){return(rw=E(function*(t,e){if(!e&&!t.swRegistration&&(yield function GF(t){return nw.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Zt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function iw(){return(iw=E(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=PF)})).apply(this,arguments)}function sw(){return sw=E(function*(t,e){if(!navigator)throw Zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zt.create("permission-blocked");return yield function Yoe(t,e){return iw.apply(this,arguments)}(t,e?.vapidKey),yield function Qoe(t,e){return rw.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Boe(t){return YE.apply(this,arguments)}(t)}),sw.apply(this,arguments)}function ow(){return(ow=E(function*(t,e,n){const r=function Joe(t){switch(t){case Mg.NOTIFICATION_CLICKED:return"notification_open";case Mg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[OF],message_name:n[Ioe],message_time:n[Doe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function aw(){return aw=E(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Mg.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler($F(n)):t.onMessageHandler.next($F(n)));const r=n.data;(function qoe(t){return"object"==typeof t&&!!t&&OF in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Xoe(t,e,n){return ow.apply(this,arguments)}(t,n.messageType,r))}),aw.apply(this,arguments)}const qF="@firebase/messaging",eae=t=>{const e=new Koe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Zoe(t,e){return aw.apply(this,arguments)}(e,n)),e},tae=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function zF(t,e){return sw.apply(this,arguments)}(e,r)}};function KF(){return uw.apply(this,arguments)}function uw(){return(uw=E(function*(){try{yield Lu()}catch{return!1}return typeof window<"u"&&Rs()&&v1()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nae(){Tr(new bt("messaging",eae,"PUBLIC")),Tr(new bt("messaging-internal",tae,"PRIVATE")),or(qF,"0.12.4"),or(qF,"0.12.4","esm2017")}();const xg="analytics",sae="firebase_id",oae="origin",aae=6e4,uae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dw="https://www.googletagmanager.com/gtag/js",Ft=new Oo("@firebase/analytics"),Mn=new jr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lae(t){if(!t.startsWith(dw)){const e=Mn.create("invalid-gtag-resource",{gtagURL:t});return Ft.warn(e.message),""}return t}function QF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function hw(){return(hw=E(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield QF(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ft.error(a)}t("config",i,s)})).apply(this,arguments)}function fw(){return(fw=E(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield QF(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Ft.error(s)}})).apply(this,arguments)}const vae=30,YF=new class wae{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function bae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function pw(){return(pw=E(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:bae(r)},s=uae.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function gw(){return(gw=E(function*(t,e=YF,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Aae;return setTimeout(E(function*(){a.abort()}),void 0!==n?n:aae),XF({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function XF(t,e,n){return mw.apply(this,arguments)}function mw(){return mw=E(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=YF){var s;const{appId:o,measurementId:a}=t;try{yield function Dae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Cae(t){return pw.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Tae(t){if(!(t instanceof sr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?b1(n,i.intervalMillis,vae):b1(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ft.debug(`Calling attemptFetch again in ${l} millis`),XF(t,d,r,i)}}),mw.apply(this,arguments)}class Aae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let yw,Iw;function _w(){return(_w=E(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Dw(){return(Dw=E(function*(){if(!Rs())return Ft.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Lu()}catch(t){return Ft.warn(Mn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Tw(){return Tw=E(function*(t,e,n,r,i,s,o){var a;const u=function Iae(t){return gw.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ft.error(f)),e.push(u);const c=function Pae(){return Dw.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function _ae(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(dw)&&n.src.includes(t))return n;return null})(s)||function hae(t,e){const n=function dae(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:lae}),r=document.createElement("script"),i=`${dw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),Iw&&(i("consent","default",Iw),function JF(t){Iw=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[oae]="firebase",h.update=!0,null!=d&&(h[sae]=d),i("config",l.measurementId,h),yw&&(i("set",yw),function ZF(t){yw=t}(void 0)),l.measurementId}),Tw.apply(this,arguments)}class Fae{constructor(e){this.app=e}_delete(){return delete di[this.app.options.appId],Promise.resolve()}}let di={},e5=[];const t5={};let r5,hi,Ng="dataLayer",Aw=!1;function Vae(t,e,n){!function Lae(){const t=[];if(_1()&&t.push("This is a browser extension environment."),v1()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});Ft.warn(n.message)}}();const r=t.options.appId;if(!r)throw Mn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Mn.create("no-api-key");Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=di[r])throw Mn.create("already-exists",{id:r});if(!Aw){!function fae(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ng);const{wrappedGtag:s,gtagCore:o}=function yae(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function mae(t,e,n,r){function s(){return s=E(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function gae(t,e,n,r,i){return fw.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function pae(t,e,n,r,i,s){return hw.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Ft.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(di,e5,t5,Ng,"gtag");hi=s,r5=o,Aw=!0}return di[r]=function Oae(t,e,n,r,i,s,o){return Tw.apply(this,arguments)}(t,e5,t5,e,r5,Ng,n),new Fae(t)}function Uae(){return Sw.apply(this,arguments)}function Sw(){return(Sw=E(function*(){if(_1()||!v1()||!Rs())return!1;try{return yield Lu()}catch{return!1}})).apply(this,arguments)}const i5="@firebase/analytics";!function $ae(){Tr(new bt(xg,(e,{options:n})=>Vae(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Tr(new bt("analytics-internal",function t(e){try{const n=e.getProvider(xg).getImmediate();return{logEvent:(r,i,s)=>function jae(t,e,n,r){t=Sn(t),function Sae(t,e,n,r,i){return _w.apply(this,arguments)}(hi,di[t.app.options.appId],e,n,r).catch(i=>Ft.error(i))}(n,r,i,s)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),or(i5,"0.10.0"),or(i5,"0.10.0","esm2017")}();class Hae extends kn{constructor(e,n){super()}schedule(e,n=0){return this}}const Rg={setInterval(t,e,...n){const{delegate:r}=Rg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Rg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class o5 extends Hae{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Rg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Rg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Sa(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const a5={now:()=>(a5.delegate||Date).now(),delegate:void 0};class gd{constructor(e,n=gd.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}gd.now=a5.now;class u5 extends gd{constructor(e,n=gd.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const qae=new class zae extends u5{}(class Gae extends o5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Wae=new u5(o5),xw=new ou("7.6.1"),Nw="__angularfire_symbol__analyticsIsSupportedValue",Rw="__angularfire_symbol__analyticsIsSupported",kw="__angularfire_symbol__remoteConfigIsSupportedValue",Pw="__angularfire_symbol__remoteConfigIsSupported",Ow="__angularfire_symbol__messagingIsSupportedValue",Fw="__angularfire_symbol__messagingIsSupported";globalThis[Rw]||(globalThis[Rw]=Uae().then(t=>globalThis[Nw]=t).catch(()=>globalThis[Nw]=!1)),globalThis[Fw]||(globalThis[Fw]=KF().then(t=>globalThis[Ow]=t).catch(()=>globalThis[Ow]=!1)),globalThis[Pw]||(globalThis[Pw]=loe().then(t=>globalThis[kw]=t).catch(()=>globalThis[kw]=!1));const Bw=(t,e)=>{const n=e?[e]:HO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ju(){}class c5{constructor(e,n=qae){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Kae{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ju,{},ju,ju)),n.pipe(Jt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let l5=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new c5(Zone.current)),this.insideAngular=n.run(()=>new c5(Zone.current,Wae)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(B(Se))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Go(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function zo(t){return Go().ngZone.run(()=>t())}function Yae(t){return Go(),function Xae(t){return function(n){return(n=n.lift(new Kae(t.ngZone))).pipe(rf(t.outsideAngular),nf(t.insideAngular))}}(Go())(t)}const Jae=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),zo(()=>t.apply(void 0,r))},fi=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=zo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ju,{},ju,ju)))),r[s]=Jae(r[s],n));const i=function Qae(t){return Go().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ve){const s=Go();return i.pipe(rf(s.outsideAngular),nf(s.insideAngular))}return zo(()=>i)}return i instanceof Ve?i.pipe(Yae):i instanceof Promise?zo(()=>new Promise((s,o)=>i.then(a=>zo(()=>s(a)),a=>zo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:zo(()=>i)};class $u{constructor(e){return e}}class d5{constructor(){return HO()}}const Uw=new j("angularfire2._apps"),eue={provide:$u,useFactory:function Zae(t){return t&&1===t.length?t[0]:new $u($O())},deps:[[new Ln,Uw]]},tue={provide:d5,deps:[[new Ln,Uw]]};function nue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $u(r)}}let rue=(()=>{class t{constructor(n){Dr("angularfire",xw.full,"core"),Dr("angularfire",xw.full,"app"),Dr("angular",Q_.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(B(Oi))},t.\u0275mod=zt({type:t}),t.\u0275inj=Ot({providers:[eue,tue]}),t})();function iue(t,...e){return{ngModule:rue,providers:[{provide:Uw,useFactory:nue(t),multi:!0,deps:[Se,cn,l5,...e]}]}}const sue=fi(jO,!0);const oue=function h5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},f5=new jr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kg=new Oo("@firebase/auth");function Pg(t,...e){kg.logLevel<=Ie.ERROR&&kg.error(`Auth (${Cg}): ${t}`,...e)}function $n(t,...e){throw jw(t,...e)}function pi(t,...e){return jw(t,...e)}function jw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f5.create(t,...e)}function F(t,e,...n){if(!t)throw jw(e,...n)}function gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pg(e),new Error(e)}function Os(t,e){t||gi(e)}function g5(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Os(n>e,"Short delay should be less than long delay!"),this.isMobile=function Lne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}()||function Bne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function uue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $w(){return"http:"===g5()||"https:"===g5()}()||_1()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class m5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},due=new yd(3e4,6e4);function ut(t,e,n,r){return Gw.apply(this,arguments)}function Gw(){return(Gw=E(function*(t,e,n,r,i={}){return y5(t,i,E(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=xO(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),m5.fetch()(_5(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function y5(t,e,n){return zw.apply(this,arguments)}function zw(){return(zw=E(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lue),e);try{const i=new hue(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw _d(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw _d(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw _d(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw _d(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function p5(t,e,n){const r=Object.assign(Object.assign({},oue()),{[e]:n});return new jr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);$n(t,l)}}catch(i){if(i instanceof sr)throw i;$n(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function _5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function Hw(t,e){Os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class hue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),due.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pi(t,e,r);return i.customData._tokenResponse=n,i}function Ww(){return(Ww=E(function*(t,e){return ut(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Qw(){return(Qw=E(function*(t,e){return ut(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function vd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Yw(){return(Yw=E(function*(t,e=!1){const n=Sn(t),r=yield n.getIdToken(e),i=Og(r);F(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:vd(Xw(i.auth_time)),issuedAtTime:vd(Xw(i.iat)),expirationTime:vd(Xw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Xw(t){return 1e3*Number(t)}function Og(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Pg("JWT malformed, contained fewer than 3 sections"),null;try{const i=yg(n);return i?JSON.parse(i):(Pg("Failed to decode base64 JWT payload"),null)}catch(i){return Pg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function rs(t,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=E(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof sr&&function _ue({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class vue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield n.iteration()}),r)}iteration(){var e=this;return E(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class v5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vd(this.lastLoginAt),this.creationTime=vd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ed(t){return Zw.apply(this,arguments)}function Zw(){return Zw=E(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield rs(t,function gue(t,e){return Qw.apply(this,arguments)}(n,{idToken:r}));F(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function bue(t){return t.map(e=>{var{providerId:n}=e,r=yy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function wue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new v5(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Zw.apply(this,arguments)}function eb(){return(eb=E(function*(t){const e=Sn(t);yield Ed(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function tb(){return(tb=E(function*(t,e){const n=yield y5(t,{},E(function*(){const r=xO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_5(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",m5.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class wd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,"internal-error"),F(typeof e.idToken<"u","internal-error"),F(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function yue(t){const e=Og(t);return F(e,"internal-error"),F(typeof e.exp<"u","internal-error"),F(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return E(function*(){return F(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return E(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Cue(t,e){return tb.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wd;return r&&(F("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(F("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(F("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wd,this.toJSON())}_performRefresh(){return gi("not implemented")}}function Fs(t,e){F("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class qo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new v5(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return E(function*(){const r=yield rs(n,n.stsTokenManager.getToken(n.auth,e));return F(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function mue(t){return Yw.apply(this,arguments)}(this,e)}reload(){return function Eue(t){return eb.apply(this,arguments)}(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return E(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ed(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return E(function*(){const n=yield e.getIdToken();return yield rs(e,function fue(t,e){return Ww.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,m=null!==(o=n.photoURL)&&void 0!==o?o:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,C=null!==(c=n.createdAt)&&void 0!==c?c:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:S,emailVerified:O,isAnonymous:z,providerData:X,stsTokenManager:de}=n;F(S&&de,e,"internal-error");const Ue=wd.fromJSON(this.name,de);F("string"==typeof S,e,"internal-error"),Fs(d,e.name),Fs(h,e.name),F("boolean"==typeof O,e,"internal-error"),F("boolean"==typeof z,e,"internal-error"),Fs(f,e.name),Fs(m,e.name),Fs(y,e.name),Fs(v,e.name),Fs(C,e.name),Fs(w,e.name);const Tt=new qo({uid:S,auth:e,email:h,emailVerified:O,displayName:d,isAnonymous:z,photoURL:m,phoneNumber:f,tenantId:y,stsTokenManager:Ue,createdAt:C,lastLoginAt:w});return X&&Array.isArray(X)&&(Tt.providerData=X.map(hr=>Object.assign({},hr))),v&&(Tt._redirectEventId=v),Tt}static _fromIdTokenResponse(e,n,r=!1){return E(function*(){const i=new wd;i.updateFromServerResponse(n);const s=new qo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ed(s),s})()}}const E5=new Map;function is(t){Os(t instanceof Function,"Expected a class definition");let e=E5.get(t);return e?(Os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E5.set(t,e),e)}const w5=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(n,r){var i=this;return E(function*(){i.storage[n]=r})()}_get(n){var r=this;return E(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return E(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Fg(t,e,n){return`firebase:${t}:${e}:${n}`}class Gu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?qo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return E(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(function*(){if(!n.length)return new Gu(is(w5),e,r);const i=(yield Promise.all(n.map(function(){var c=E(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||is(w5);const o=Fg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=qo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=E(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Gu(s,e,r)):new Gu(s,e,r)})()}}function b5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function D5(t=ir()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function C5(t=ir()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function A5(t=ir()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function S5(t=ir()){return/webos/i.test(t)}(e))return"Webos";if(function nb(t=ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function I5(t=ir()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function T5(t=ir()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function M5(t,e=[]){let n;switch(t){case"Browser":n=b5(ir());break;case"Worker":n=`${b5(ir())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cg}/${r}`}function x5(t,e){return ib.apply(this,arguments)}function ib(){return(ib=E(function*(t,e){return ut(t,"GET","/v2/recaptchaConfig",function rt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function R5(t){return void 0!==t&&void 0!==t.enterprise}class k5{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class O5{constructor(e){this.type="recaptcha-enterprise",this.auth=Lt(e)}verify(e="verify",n=!1){var r=this;return E(function*(){function s(){return s=E(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=E(function*(c,l){x5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new k5(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;R5(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&R5(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function sb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Aue(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Nue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return E(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Rue{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F5(this),this.idTokenSubscription=new F5(this),this.beforeStateQueue=new Nue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(E(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Gu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return E(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return F(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return E(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return E(function*(){try{yield Ed(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function cue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return E(function*(){const r=e?Sn(e):null;return r&&F(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return E(function*(){if(!r._deleted)return e&&F(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(E(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return E(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(E(function*(){yield n.assertedPersistence.setPersistence(is(e))}))}initializeRecaptchaConfig(){var e=this;return E(function*(){const n=yield x5(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new k5(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new O5(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return E(function*(){if(!n.redirectPersistenceManager){const r=e&&is(e)||n._popupRedirectResolver;F(r,n,"argument-error"),n.redirectPersistenceManager=yield Gu.create(n,[is(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return E(function*(){var r,i;return n._isInitialized&&(yield n.queue(E(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return E(function*(){if(e===n.currentUser)return n.queue(E(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return F(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return E(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return E(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return E(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function aue(t,...e){kg.logLevel<=Ie.WARN&&kg.warn(`Auth (${Cg}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Lt(t){return Sn(t)}class F5{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Hne(t,e){const n=new Gne(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function P5(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new yd(3e4,6e4),new yd(2e3,1e4),new yd(3e4,6e4),new yd(5e3,15e3),encodeURIComponent("fac");var dL="@firebase/auth";class Ile{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return E(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}_g(),function Tle(t){Vu(new bt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;F(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M5(t)},c=new Rue(r,i,s,u);return function Pue(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vu(new bt("auth-internal",e=>{const n=Lt(e.getProvider("auth").getImmediate());return new Ile(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(dL,"0.23.2",function Dle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Dr(dL,"0.23.2","esm2017")}("Browser");class gL{constructor(){return Bw("auth")}}const WC=new Map,mL={activated:!1,tokenObservers:[]},kle={initialized:!1,enabled:!1};function ct(t){return WC.get(t)||Object.assign({},mL)}function Qg(){return kle}const KC="https://content-firebaseappcheck.googleapis.com/v1",Lle="exchangeDebugToken",yL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ble{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return E(function*(){n.stop();try{n.pending=new vg,yield function Ule(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new vg,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const en=new jr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function QC(t){if(!ct(t).activated)throw en.create("use-before-activation",{appName:t.name})}function Jg(t,e){return XC.apply(this,arguments)}function XC(){return XC=E(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw en.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw en.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw en.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw en.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),XC.apply(this,arguments)}function _L(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${KC}/projects/${n}/apps/${r}:${Lle}?key=${i}`,body:{debug_token:e}}}const Gle="firebase-app-check-database",zle=1,Td="firebase-app-check-store";let Zg=null;function JC(){return JC=E(function*(t,e){const r=(yield function EL(){return Zg||(Zg=new Promise((t,e)=>{try{const n=indexedDB.open(Gle,zle);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(en.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Td,{keyPath:"compositeKey"})}}catch(n){e(en.create("storage-open",{originalErrorMessage:n?.message}))}}),Zg)}()).transaction(Td,"readwrite"),s=r.objectStore(Td).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(en.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),JC.apply(this,arguments)}const Ad=new Oo("@firebase/app-check");function tI(t,e){return Rs()?function Wle(t,e){return function wL(t,e){return JC.apply(this,arguments)}(function CL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ad.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function rI(){return Qg().enabled}function iI(){return sI.apply(this,arguments)}function sI(){return sI=E(function*(){const t=Qg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),sI.apply(this,arguments)}const Zle={error:"UNKNOWN_ERROR"};function ede(t){return m1.encodeString(JSON.stringify(t),!1)}function em(t){return oI.apply(this,arguments)}function oI(){return oI=E(function*(t,e=!1){const n=t.app;QC(n);const r=ct(n);let s,i=r.token;if(i&&!qu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(qu(u)?i=u:yield tI(n,void 0))}if(!e&&i&&qu(i))return{token:i.token};let a,o=!1;if(rI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Jg(_L(n,yield iI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield tI(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield ct(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Ad.warn(u.message):Ad.error(u),s=u}return i?s?a=qu(i)?{token:i.token,internalError:s}:AL(s):(a={token:i.token},r.token=i,yield tI(n,i)):a=AL(s),o&&function TL(t,e){const n=ct(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),oI.apply(this,arguments)}function aI(){return aI=E(function*(t){const e=t.app;QC(e);const{provider:n}=ct(e);if(rI()){const r=yield iI(),{token:i}=yield Jg(_L(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),aI.apply(this,arguments)}function cI(t,e){const n=ct(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function DL(t){const{app:e}=t,n=ct(e);let r=n.tokenRefresher;r||(r=function tde(t){const{app:e}=t;return new Ble(E(function*(){let r;if(r=ct(e).token?yield em(t,!0):yield em(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=ct(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},yL.RETRIAL_MIN_WAIT,yL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function qu(t){return t.expireTimeMillis-Date.now()>0}function AL(t){return{token:ede(Zle),error:t}}class nde{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ct(this.app);for(const n of e)cI(this.app,n.next);return Promise.resolve()}}const OL="app-check-internal";!function mde(){Tr(new bt("app-check",t=>function rde(t,e){return new nde(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(OL).initialize()})),Tr(new bt(OL,t=>function ide(t){return{getToken:e=>em(t,e),getLimitedUseToken:()=>function IL(t){return aI.apply(this,arguments)}(t),addTokenListener:e=>function uI(t,e,n,r){const{app:i}=t,s=ct(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&qu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),DL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>DL(t))}(t,"INTERNAL",e),removeTokenListener:e=>cI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),or("@firebase/app-check","0.8.0")}();class LL{constructor(){return Bw("app-check")}}typeof window<"u"&&window;var U,wde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$r={},pI=pI||{},ue=wde||self;function nm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Sd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var gI="closure_uid_"+(1e9*Math.random()>>>0),Cde=0;function Ide(t,e,n){return t.call.apply(t.bind,arguments)}function Dde(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dn(t,e,n){return(dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ide:Dde).apply(null,arguments)}function rm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Vs(){this.s=this.s,this.o=this.o}Vs.prototype.s=!1,Vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bde(t){Object.prototype.hasOwnProperty.call(t,gI)&&t[gI]||(t[gI]=++Cde)}(this)},Vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function mI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function BL(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(nm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function hn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var Ade=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ue.addEventListener("test",()=>{},e),ue.removeEventListener("test",()=>{},e)}catch{}return t}();function Md(t){return/^[\s\xa0]*$/.test(t)}function im(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function mi(t){return-1!=im().indexOf(t)}function yI(t){return yI[" "](t),t}yI[" "]=function(){};var vI,Mde=mi("Opera"),Wu=mi("Trident")||mi("MSIE"),UL=mi("Edge"),_I=UL||Wu,jL=mi("Gecko")&&!(-1!=im().toLowerCase().indexOf("webkit")&&!mi("Edge"))&&!(mi("Trident")||mi("MSIE"))&&!mi("Edge"),xde=-1!=im().toLowerCase().indexOf("webkit")&&!mi("Edge");function $L(){var t=ue.document;return t?t.documentMode:void 0}e:{var EI="",wI=function(){var t=im();return jL?/rv:([^\);]+)(\)|;)/.exec(t):UL?/Edge\/([\d\.]+)/.exec(t):Wu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):xde?/WebKit\/(\S+)/.exec(t):Mde?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(wI&&(EI=wI?wI[1]:""),Wu){var bI=$L();if(null!=bI&&bI>parseFloat(EI)){vI=String(bI);break e}}vI=EI}var Nde=ue.document&&Wu&&($L()||parseInt(vI,10))||void 0;function xd(t,e){if(hn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(jL){e:{try{yI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Rde[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xd.$.h.call(this)}}Vt(xd,hn);var Rde={2:"touch",3:"pen",4:"mouse"};xd.prototype.h=function(){xd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nd="closure_listenable_"+(1e6*Math.random()|0),kde=0;function Pde(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++kde,this.fa=this.ia=!1}function sm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function II(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GL(t){const e={};for(const n in t)e[n]=t[n];return e}const zL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<zL.length;s++)n=zL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function om(t){this.src=t,this.g={},this.h=0}function DI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=VL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sm(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function TI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}om.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=TI(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Pde(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var AI="closure_lm_"+(1e6*Math.random()|0),SI={};function WL(t,e,n,r,i){if(r&&r.once)return QL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)WL(t,e[s],n,r,i);return null}return n=RI(n),t&&t[Nd]?t.O(e,n,Sd(r)?!!r.capture:!!r,i):KL(t,e,n,!1,r,i)}function KL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Sd(i)?!!i.capture:!!i,a=xI(t);if(a||(t[AI]=a=new om(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Fde(){const e=Lde;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ade||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(XL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function QL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)QL(t,e[s],n,r,i);return null}return n=RI(n),t&&t[Nd]?t.P(e,n,Sd(r)?!!r.capture:!!r,i):KL(t,e,n,!0,r,i)}function YL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)YL(t,e[s],n,r,i);else r=Sd(r)?!!r.capture:!!r,n=RI(n),t&&t[Nd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=TI(s=t.g[e],n,r,i))&&(sm(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=xI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=TI(e,n,r,i)),(n=-1<t?e[t]:null)&&MI(n))}function MI(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Nd])DI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(XL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xI(e))?(DI(n,t),0==n.h&&(n.src=null,e[AI]=null)):sm(t)}}}function XL(t){return t in SI?SI[t]:SI[t]="on"+t}function Lde(t,e){if(t.fa)t=!0;else{e=new xd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&MI(t),t=n.call(r,e)}return t}function xI(t){return(t=t[AI])instanceof om?t:null}var NI="__closure_events_fn_"+(1e9*Math.random()>>>0);function RI(t){return"function"==typeof t?t:(t[NI]||(t[NI]=function(e){return t.handleEvent(e)}),t[NI])}function Bt(){Vs.call(this),this.i=new om(this),this.S=this,this.J=null}function tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new hn(e,t);else if(e instanceof hn)e.target=e.target||t;else{var i=e;qL(e=new hn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=am(o,r,!0,e)&&i}if(i=am(o=e.g=t,r,!0,e)&&i,i=am(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=am(o=e.g=n[s],r,!1,e)&&i}function am(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&DI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vt(Bt,Vs),Bt.prototype[Nd]=!0,Bt.prototype.removeEventListener=function(t,e,n,r){YL(this,t,e,n,r)},Bt.prototype.N=function(){if(Bt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sm(n[r]);delete t.g[e],t.h--}}this.J=null},Bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Bt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var kI=ue.JSON.stringify;function Bde(){var t=PI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var JL=new class Vde{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new jde,t=>t.reset());class jde{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $de(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Hde(t){ue.setTimeout(()=>{throw t},0)}let Rd,kd=!1,PI=new class Ude{constructor(){this.h=this.g=null}add(e,n){const r=JL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},ZL=()=>{const t=ue.Promise.resolve(void 0);Rd=()=>{t.then(Gde)}};var Gde=()=>{for(var t;t=Bde();){try{t.h.call(t.g)}catch(n){Hde(n)}var e=JL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}kd=!1};function um(t,e){Bt.call(this),this.h=t||1,this.g=e||ue,this.j=dn(this.qb,this),this.l=Date.now()}function OI(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function FI(t,e,n){if("function"==typeof t)n&&(t=dn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=dn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function e6(t){t.g=FI(()=>{t.g=null,t.i&&(t.i=!1,e6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Vt(um,Bt),(U=um.prototype).ga=!1,U.T=null,U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),tn(this,"tick"),this.ga&&(OI(this),this.start()))}},U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},U.N=function(){um.$.N.call(this),OI(this),delete this.g};class zde extends Vs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:e6(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pd(t){Vs.call(this),this.h=t,this.g={}}Vt(Pd,Vs);var t6=[];function n6(t,e,n,r){Array.isArray(n)||(n&&(t6[0]=n.toString()),n=t6);for(var i=0;i<n.length;i++){var s=WL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function r6(t){II(t.g,function(e,n){this.g.hasOwnProperty(n)&&MI(e)},t),t.g={}}function cm(){this.g=!0}function Ku(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Qde(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return kI(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Pd.prototype.N=function(){Pd.$.N.call(this),r6(this)},Pd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cm.prototype.Ea=function(){this.g=!1},cm.prototype.info=function(){};var Yo={},i6=null;function lm(){return i6=i6||new Bt}function s6(t){hn.call(this,Yo.Ta,t)}function Od(t){const e=lm();tn(e,new s6(e))}function o6(t,e){hn.call(this,Yo.STAT_EVENT,t),this.stat=e}function xn(t){const e=lm();tn(e,new o6(e,t))}function a6(t,e){hn.call(this,Yo.Ua,t),this.size=e}function Fd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}Yo.Ta="serverreachability",Vt(s6,hn),Yo.STAT_EVENT="statevent",Vt(o6,hn),Yo.Ua="timingevent",Vt(a6,hn);var dm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},u6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function LI(){}function l6(){}LI.prototype.h=null;var UI,Ld={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function VI(){hn.call(this,"d")}function BI(){hn.call(this,"c")}function hm(){}function Vd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Pd(this),this.P=Yde,this.V=new um(t=_I?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new d6}function d6(){this.i=null,this.g="",this.h=!1}Vt(VI,hn),Vt(BI,hn),Vt(hm,LI),hm.prototype.g=function(){return new XMLHttpRequest},hm.prototype.i=function(){return{}},UI=new hm;var Yde=45e3,jI={},fm={};function $I(t,e,n){t.L=1,t.v=ym(os(e)),t.s=n,t.S=!0,h6(t,null)}function h6(t,e){t.G=Date.now(),Bd(t),t.A=os(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),b6(n.i,"t",r),t.C=0,n=t.l.J,t.h=new d6,t.g=q6(t.l,n?e:null,!t.s),0<t.O&&(t.M=new zde(dn(t.Pa,t,t.g),t.O)),n6(t.U,t.g,"readystatechange",t.nb),e=t.I?GL(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Od(),function qde(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function f6(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function p6(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Xde(t,n),i==fm){4==e&&(t.o=4,xn(14),r=!1),Ku(t.j,t.m,null,"[Incomplete Response]");break}if(i==jI){t.o=4,xn(15),Ku(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ku(t.j,t.m,i,null),HI(t,i)}f6(t)&&i!=fm&&i!=jI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,xn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),YI(e),e.M=!0,xn(11))):(Ku(t.j,t.m,n,"[Invalid Chunked Response]"),Xo(t),Ud(t))}function Xde(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?fm:(n=Number(e.substring(n,r)),isNaN(n)?jI:(r+=1)+n>e.length?fm:(e=e.slice(r,r+n),t.C=r+n,e))}function Bd(t){t.Y=Date.now()+t.P,g6(t,t.P)}function g6(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Fd(dn(t.lb,t),e)}function pm(t){t.B&&(ue.clearTimeout(t.B),t.B=null)}function Ud(t){0==t.l.H||t.J||$6(t.l,t)}function Xo(t){pm(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,OI(t.V),r6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function HI(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||GI(n.i,t)))if(!t.K&&GI(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Cm(n),wm(n)}QI(n),xn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Fd(dn(n.ib,n),6e3));if(1>=D6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zo(n,11)}else if((t.K||n.g==t)&&Cm(n),!Md(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||-1==m.indexOf("spdy")&&-1==m.indexOf("quic")&&-1==m.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(zI(s,s.h),s.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Ke(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=z6(r,r.J?r.pa:null,r.Y),o.K){T6(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(pm(a),Bd(a)),r.g=o}else U6(r);0<n.j.length&&bm(n)}else"stop"!=c[0]&&"close"!=c[0]||Zo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Zo(n,7):KI(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Od()}catch{}}function m6(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(nm(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Zde(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(nm(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Jde(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(nm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(U=Vd.prototype).setTimeout=function(t){this.P=t},U.nb=function(t){t=t.target;const e=this.M;e&&3==yi(t)?e.l():this.Pa(t)},U.Pa=function(t){try{if(t==this.g)e:{const l=yi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||_I||this.g&&(this.h.h||this.g.ja()||P6(this.g)))){this.J||4!=l||7==e||Od(),pm(this);var n=this.g.da();this.ca=n;t:if(f6(this)){var r=P6(this.g);t="";var i=r.length,s=4==yi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xo(this),Ud(this);var o="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Wde(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Md(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,xn(12),Xo(this),Ud(this);break e}Ku(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,HI(this,n)}this.S?(p6(this,l,o),_I&&this.i&&3==l&&(n6(this.U,this.V,"tick",this.mb),this.V.start())):(Ku(this.j,this.m,o,null),HI(this,o)),4==l&&Xo(this),this.i&&!this.J&&(4==l?$6(this.l,this):(this.i=!1,Bd(this)))}else(function yhe(t){const e={};t=(t.g&&2<=yi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Md(t[r]))continue;var n=$de(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Ode(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,xn(12)):(this.o=0,xn(13)),Xo(this),Ud(this)}}}catch{}},U.mb=function(){if(this.g){var t=yi(this.g),e=this.g.ja();this.C<e.length&&(pm(this),p6(this,t,e),this.i&&4!=t&&Bd(this))}},U.cancel=function(){this.J=!0,Xo(this)},U.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Kde(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Od(),xn(17)),Xo(this),this.o=2,Ud(this)):g6(this,this.Y-t)};var y6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Jo){this.h=t.h,gm(this,t.j),this.s=t.s,this.g=t.g,mm(this,t.m),this.l=t.l;var e=t.i,n=new Hd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_6(this,n),this.o=t.o}else t&&(e=String(t).match(y6))?(this.h=!1,gm(this,e[1]||"",!0),this.s=jd(e[2]||""),this.g=jd(e[3]||"",!0),mm(this,e[4]),this.l=jd(e[5]||"",!0),_6(this,e[6]||"",!0),this.o=jd(e[7]||"")):(this.h=!1,this.i=new Hd(null,this.h))}function os(t){return new Jo(t)}function gm(t,e,n){t.j=n?jd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _6(t,e,n){e instanceof Hd?(t.i=e,function ohe(t,e){e&&!t.j&&(Bs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(E6(this,r),b6(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=$d(e,ihe)),t.i=new Hd(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function ym(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $d(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,the),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function the(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Jo.prototype.toString=function(){var t=[],e=this.j;e&&t.push($d(e,v6,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push($d(e,v6,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push($d(n,"/"==n.charAt(0)?rhe:nhe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$d(n,she)),t.join("")};var v6=/[#\/\?@]/g,nhe=/[#\?:]/g,rhe=/[#\?]/g,ihe=/[#\?@]/g,she=/#/g;function Hd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Bs(t){t.g||(t.g=new Map,t.h=0,t.i&&function ehe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function E6(t,e){Bs(t),e=Qu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function w6(t,e){return Bs(t),e=Qu(t,e),t.g.has(e)}function b6(t,e,n){E6(t,e),0<n.length&&(t.i=null,t.g.set(Qu(t,e),mI(n)),t.h+=n.length)}function Qu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function C6(t){this.l=t||uhe,t=ue.PerformanceNavigationTiming?0<(t=ue.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(U=Hd.prototype).add=function(t,e){Bs(this),this.i=null,t=Qu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},U.forEach=function(t,e){Bs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},U.ta=function(){Bs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},U.Z=function(t){Bs(this);let e=[];if("string"==typeof t)w6(this,t)&&(e=e.concat(this.g.get(Qu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},U.set=function(t,e){return Bs(this),this.i=null,w6(this,t=Qu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},U.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var uhe=10;function I6(t){return!!t.h||!!t.g&&t.g.size>=t.j}function D6(t){return t.h?1:t.g?t.g.size:0}function GI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function zI(t,e){t.g?t.g.add(e):t.h=e}function T6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function A6(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return mI(t.i)}C6.prototype.cancel=function(){if(this.i=A6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var che=class{stringify(t){return ue.JSON.stringify(t,void 0)}parse(t){return ue.JSON.parse(t,void 0)}};function lhe(){this.g=new che}function dhe(t,e,n){const r=n||"";try{m6(t,function(i,s){let o=i;Sd(i)&&(o=kI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _m(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Gd(t){this.l=t.fc||null,this.j=t.ob||!1}function vm(t,e){Bt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vt(Gd,LI),Gd.prototype.g=function(){return new vm(this.l,this.j)},Gd.prototype.i=function(t){return function(){return t}}({}),Vt(vm,Bt);var qI=0;function S6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function zd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qd(t)}function qd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(U=vm.prototype).open=function(t,e){if(this.readyState!=qI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qd(this)},U.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zd(this)),this.readyState=qI},U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qd(this)),this.g&&(this.readyState=3,qd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;S6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zd(this):qd(this),3==this.readyState&&S6(this)}},U.Za=function(t){this.g&&(this.response=this.responseText=t,zd(this))},U.Ya=function(t){this.g&&(this.response=t,zd(this))},U.ka=function(){this.g&&zd(this)},U.setRequestHeader=function(t,e){this.v.append(t,e)},U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(vm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var fhe=ue.JSON.parse;function lt(t){Bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=M6,this.L=this.M=!1}Vt(lt,Bt);var M6="",phe=/^https?$/i,ghe=["POST","PUT"];function x6(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,N6(t),Em(t)}function N6(t){t.F||(t.F=!0,tn(t,"complete"),tn(t,"error"))}function R6(t){if(t.h&&typeof pI<"u"&&(!t.C[1]||4!=yi(t)||2!=t.da()))if(t.v&&4==yi(t))FI(t.La,0,t);else if(tn(t,"readystatechange"),4==yi(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(y6)[1]||null;!i&&ue.self&&ue.self.location&&(i=ue.self.location.protocol.slice(0,-1)),r=!phe.test(i?i.toLowerCase():"")}n=r}if(n)tn(t,"complete"),tn(t,"success");else{t.m=6;try{var s=2<yi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",N6(t)}}finally{Em(t)}}}function Em(t,e){if(t.g){k6(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function k6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}function yi(t){return t.g?t.g.readyState:0}function P6(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case M6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function O6(t){let e="";return II(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function WI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=O6(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ke(t,e,n))}function Wd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function F6(t){this.Ga=0,this.j=[],this.l=new cm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wd("baseRetryDelayMs",5e3,t),this.hb=Wd("retryDelaySeedMs",1e4,t),this.eb=Wd("forwardChannelMaxRetries",2,t),this.xa=Wd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new C6(t&&t.concurrentRequestLimit),this.Ja=new lhe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function KI(t){if(L6(t),3==t.H){var e=t.W++,n=os(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),Kd(t,n),(e=new Vd(t,t.l,e)).L=2,e.v=ym(os(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon)try{n=ue.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ue.Image&&((new Image).src=e.v,n=!0),n||(e.g=q6(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Bd(e)}G6(t)}function wm(t){t.g&&(YI(t),t.g.cancel(),t.g=null)}function L6(t){wm(t),t.u&&(ue.clearTimeout(t.u),t.u=null),Cm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ue.clearTimeout(t.m),t.m=null)}function bm(t){if(!I6(t.i)&&!t.m){t.m=!0;var e=t.Na;Rd||ZL(),kd||(Rd(),kd=!0),PI.add(e,t),t.C=0}}function V6(t,e){var n;n=e?e.m:t.W++;const r=os(t.I);Ke(r,"SID",t.K),Ke(r,"RID",n),Ke(r,"AID",t.V),Kd(t,r),t.o&&t.s&&WI(r,t.o,t.s),n=new Vd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=B6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zI(t.i,n),$I(n,r,e)}function Kd(t,e){t.na&&II(t.na,function(n,r){Ke(e,r,n)}),t.h&&m6({},function(n,r){Ke(e,r,n)})}function B6(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{dhe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function U6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Rd||ZL(),kd||(Rd(),kd=!0),PI.add(e,t),t.A=0}}function QI(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Fd(dn(t.Ma,t),H6(t,t.A)),t.A++,0))}function YI(t){null!=t.B&&(ue.clearTimeout(t.B),t.B=null)}function j6(t){t.g=new Vd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=os(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),Kd(t,e),t.o&&t.s&&WI(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ym(os(e)),n.s=null,n.S=!0,h6(n,t)}function Cm(t){null!=t.v&&(ue.clearTimeout(t.v),t.v=null)}function $6(t,e){var n=null;if(t.g==e){Cm(t),YI(t),t.g=null;var r=2}else{if(!GI(t.i,e))return;n=e.F,T6(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;tn(r=lm(),new a6(r,n)),bm(t)}else U6(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function _he(t,e){return!(D6(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Fd(dn(t.Na,t,e),H6(t,t.C)),t.C++,0)))}(t,e)||2==r&&QI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Zo(t,5);break;case 4:Zo(t,10);break;case 3:Zo(t,6);break;default:Zo(t,2)}}function H6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=dn(t.pb,t);n||(n=new Jo("//www.google.com/images/cleardot.gif"),ue.location&&"http"==ue.location.protocol||gm(n,"https"),ym(n)),function hhe(t,e){const n=new cm;if(ue.Image){const r=new Image;r.onload=rm(_m,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rm(_m,n,r,"TestLoadImage: error",!1,e),r.onabort=rm(_m,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rm(_m,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else xn(2);t.H=0,t.h&&t.h.za(e),G6(t),L6(t)}function G6(t){if(t.H=0,t.ma=[],t.h){const e=A6(t.i);(0!=e.length||0!=t.j.length)&&(BL(t.ma,e),BL(t.ma,t.j),t.i.i.length=0,mI(t.j),t.j.length=0),t.h.ya()}}function z6(t,e,n){var r=n instanceof Jo?os(n):new Jo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),mm(r,r.m);else{var i=ue.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Jo(null);r&&gm(s,r),e&&(s.g=e),i&&mm(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ke(r,n,e),Ke(r,"VER",t.ra),Kd(t,r),r}function q6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lt(n&&t.Ha&&!t.va?new Gd({ob:!0}):t.va)).Oa(t.J),e}function W6(){}function Im(){if(Wu&&!(10<=Number(Nde)))throw Error("Environmental error: no available transport.")}function ar(t,e){Bt.call(this),this.g=new F6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Md(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Md(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Yu(this)}function K6(t){VI.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Q6(){BI.call(this),this.status=1}function Yu(t){this.g=t}function Hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function XI(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(U=lt.prototype).Oa=function(t){this.M=t},U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():UI.g(),this.C=function c6(t){return t.h||(t.h=t.i())}(this.u?this.u:UI),this.g.onreadystatechange=dn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void x6(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ue.FormData&&t instanceof ue.FormData,!(0<=VL(ghe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{k6(this),0<this.B&&((this.L=function mhe(t){return Wu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.ua,this)):this.A=FI(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){x6(this,s)}},U.ua=function(){typeof pI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tn(this,"timeout"),this.abort(8))},U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,tn(this,"complete"),tn(this,"abort"),Em(this))},U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Em(this,!0)),lt.$.N.call(this)},U.La=function(){this.s||(this.G||this.v||this.l?R6(this):this.kb())},U.kb=function(){R6(this)},U.isActive=function(){return!!this.g},U.da=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fhe(e)}},U.Ia=function(){return this.m},U.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(U=F6.prototype).ra=8,U.H=1,U.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Vd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=GL(s),qL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=B6(this,i,e),Ke(n=os(this.I),"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),Kd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(O6(s)))+"&"+e:this.o&&WI(n,this.o,s)),zI(this.i,i),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),i.aa=!0,$I(i,n,null)):$I(i,n,e),this.H=2}}else 3==this.H&&(t?V6(this,t):0==this.j.length||I6(this.i)||V6(this))},U.Ma=function(){if(this.u=null,j6(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fd(dn(this.jb,this),t)}},U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xn(10),wm(this),j6(this))},U.ib=function(){null!=this.v&&(this.v=null,wm(this),QI(this),xn(19))},U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),xn(2)):(this.l.info("Failed to ping google.com"),xn(1))},U.isActive=function(){return!!this.h&&this.h.isActive(this)},(U=W6.prototype).Ba=function(){},U.Aa=function(){},U.za=function(){},U.ya=function(){},U.isActive=function(){return!0},U.Va=function(){},Im.prototype.g=function(t,e){return new ar(t,e)},Vt(ar,Bt),ar.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;xn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=z6(t,null,t.Y),bm(t)},ar.prototype.close=function(){KI(this.g)},ar.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=kI(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&bm(e)},ar.prototype.N=function(){this.g.h=null,delete this.j,KI(this.g),delete this.g,ar.$.N.call(this)},Vt(K6,VI),Vt(Q6,BI),Vt(Yu,W6),Yu.prototype.Ba=function(){tn(this.g,"a")},Yu.prototype.Aa=function(t){tn(this.g,new K6(t))},Yu.prototype.za=function(t){tn(this.g,new Q6)},Yu.prototype.ya=function(){tn(this.g,"b")},Vt(Hr,function vhe(){this.blockSize=-1}),Hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Hr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)XI(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){XI(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){XI(this,r),i=0;break}}this.h=i,this.i+=e},Hr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Ehe={};function JI(t){return-128<=t&&128>t?function Sde(t,e){var n=Ehe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Oe([0|e],0>e?-1:0)}):new Oe([0|t],0>t?-1:0)}function _i(t){if(isNaN(t)||!isFinite(t))return Xu;if(0>t)return nn(_i(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ZI;return new Oe(e,0)}var ZI=4294967296,Xu=JI(0),eD=JI(1),X6=JI(16777216);function as(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Sr(t){return-1==t.h}function nn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(eD)}function Dm(t,e){return t.add(nn(e))}function Tm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Qd(t,e){this.g=t,this.h=e}function Am(t,e){if(as(e))throw Error("division by zero");if(as(t))return new Qd(Xu,Xu);if(Sr(t))return e=Am(nn(t),e),new Qd(nn(e.g),nn(e.h));if(Sr(e))return e=Am(t,nn(e)),new Qd(nn(e.g),e.h);if(30<t.g.length){if(Sr(t)||Sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=eD,r=e;0>=r.X(t);)n=J6(n),r=J6(r);var i=Ju(n,1),s=Ju(r,1);for(r=Ju(r,2),n=Ju(n,2);!as(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ju(r,1),n=Ju(n,1)}return e=Dm(t,i.R(e)),new Qd(i,e)}for(i=Xu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=_i(n)).R(e);Sr(o)||0<o.X(t);)o=(s=_i(n-=r)).R(e);as(s)&&(s=eD),i=i.add(s),t=Dm(t,o)}return new Qd(i,t)}function J6(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function Ju(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Oe(i,t.h)}(U=Oe.prototype).ea=function(){if(Sr(this))return-nn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ZI+r)*e,e*=ZI}return t},U.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(as(this))return"0";if(Sr(this))return"-"+nn(this).toString(t);for(var e=_i(Math.pow(t,6)),n=this,r="";;){var i=Am(n,e).g,s=((0<(n=Dm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(as(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},U.X=function(t){return Sr(t=Dm(this,t))?-1:as(t)?0:1},U.abs=function(){return Sr(this)?nn(this):this},U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Oe(n,-2147483648&n[n.length-1]?-1:0)},U.R=function(t){if(as(this)||as(t))return Xu;if(Sr(this))return Sr(t)?nn(this).R(nn(t)):nn(nn(this).R(t));if(Sr(t))return nn(this.R(nn(t)));if(0>this.X(X6)&&0>t.X(X6))return _i(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Tm(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Tm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Tm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Tm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)},U.gb=function(t){return Am(this,t).h},U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)},U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)},U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)},Im.prototype.createWebChannel=Im.prototype.g,ar.prototype.send=ar.prototype.u,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,dm.NO_ERROR=0,dm.TIMEOUT=8,dm.HTTP_ERROR=6,u6.COMPLETE="complete",l6.EventType=Ld,Ld.OPEN="a",Ld.CLOSE="b",Ld.ERROR="c",Ld.MESSAGE="d",Bt.prototype.listen=Bt.prototype.O,lt.prototype.listenOnce=lt.prototype.P,lt.prototype.getLastError=lt.prototype.Sa,lt.prototype.getLastErrorCode=lt.prototype.Ia,lt.prototype.getStatus=lt.prototype.da,lt.prototype.getResponseJson=lt.prototype.Wa,lt.prototype.getResponseText=lt.prototype.ja,lt.prototype.send=lt.prototype.ha,lt.prototype.setWithCredentials=lt.prototype.Oa,Hr.prototype.digest=Hr.prototype.l,Hr.prototype.reset=Hr.prototype.reset,Hr.prototype.update=Hr.prototype.j,Oe.prototype.add=Oe.prototype.add,Oe.prototype.multiply=Oe.prototype.R,Oe.prototype.modulo=Oe.prototype.gb,Oe.prototype.compare=Oe.prototype.X,Oe.prototype.toNumber=Oe.prototype.ea,Oe.prototype.toString=Oe.prototype.toString,Oe.prototype.getBits=Oe.prototype.D,Oe.fromNumber=_i,Oe.fromString=function Y6(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return nn(Y6(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_i(Math.pow(e,8)),r=Xu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=_i(Math.pow(e,s)),r=r.R(s).add(_i(o))):r=(r=r.R(n)).add(_i(o))}return r};var whe=$r.createWebChannelTransport=function(){return new Im},bhe=$r.getStatEventTarget=function(){return lm()},tD=$r.ErrorCode=dm,Che=$r.EventType=u6,Ihe=$r.Event=Yo,Z6=$r.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Dhe=$r.FetchXmlHttpFactory=Gd,Sm=$r.WebChannel=l6,The=$r.XhrIo=lt,Ahe=$r.Md5=Hr,Zu=$r.Integer=Oe;const eV="@firebase/firestore";class Ut{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let ec="9.23.0";const Us=new Oo("@firebase/firestore");function nD(){return Us.logLevel}function P(t,...e){if(Us.logLevel<=Ie.DEBUG){const n=e.map(rD);Us.debug(`Firestore (${ec}): ${t}`,...n)}}function gt(t,...e){if(Us.logLevel<=Ie.ERROR){const n=e.map(rD);Us.error(`Firestore (${ec}): ${t}`,...n)}}function Gr(t,...e){if(Us.logLevel<=Ie.WARN){const n=e.map(rD);Us.warn(`Firestore (${ec}): ${t}`,...n)}}function rD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function q(t="Unexpected state"){const e=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: `+t;throw gt(e),new Error(e)}function Q(t,e){t||q()}function V(t,e){return t}const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class tV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class She{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class Mhe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xhe{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new kt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(E(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Q("string"==typeof r.accessToken),new tV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Q(null===e||"string"==typeof e),new Ut(e)}}class Nhe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Rhe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Nhe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class khe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Q("string"==typeof n.token),this.T=n.token,new nV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Phe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class rV{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Phe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function tc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class it{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new R(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new R(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new R(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new it(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new it(0,0))}static max(){return new Y(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yd{constructor(e,n,r){void 0===n?n=0:n>e.length&&q(),void 0===r?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Yd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class be extends Yd{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new R(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new be(n)}static emptyPath(){return new be([])}}const Ohe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Yd{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return Ohe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new R(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new R(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new R(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new R(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(be.fromString(e))}static fromName(e){return new L(be.fromString(e).popFirst(5))}static empty(){return new L(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===be.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new be(e.slice()))}}function oV(t){return new ur(t.readTime,t.key,-1)}class ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(Y.min(),L.empty(),-1)}static max(){return new ur(Y.max(),L.empty(),-1)}}function sD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=L.comparator(t.documentKey,e.documentKey),0!==n?n:se(t.largestBatchId,e.largestBatchId))}const aV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function js(t){return oD.apply(this,arguments)}function oD(){return oD=E(function*(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==aV)throw t;P("LocalStore","Unexpectedly lost primary lease")}),oD.apply(this,arguments)}class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new D((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new D((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function $s(t){return"IndexedDbTransactionError"===t.name}let cr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Zd(t){return null==t}function eh(t){return 0===t&&1/t==-1/0}function mV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class qe{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new km(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new km(this.root,e,this.comparator,!1)}getReverseIterator(){return new km(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new km(this.root,e,this.comparator,!0)}}class km{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=s??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1,rn.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(t,e,n,r,i){return this}insert(t,e,n){return new rn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _V(this.data.getIterator())}getIteratorFrom(e){return new _V(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class _V{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Qe(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class vV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vV("Invalid base64 string: "+i):i}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const afe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(Q(!!t),"string"==typeof t){let e=0;const n=afe.exec(t);if(Q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function us(t){return"string"==typeof t?Pt.fromBase64String(t):Pt.fromUint8Array(t)}function Pm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Om(t){const e=t.mapValue.fields.__previous_value__;return Pm(e)?Om(e):e}function th(t){const e=Gs(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}class ufe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class na{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new na("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof na&&e.projectId===this.projectId&&e.database===this.database}}const zs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pm(t)?4:CV(t)?9007199254740991:10:q()}function Ei(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return th(t).isEqual(th(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Gs(r.timestampValue),o=Gs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,us(t.bytesValue).isEqual(us(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return dt(r.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(r.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dt(r.integerValue)===dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=dt(r.doubleValue),o=dt(i.doubleValue);return s===o?eh(s)===eh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(mV(s)!==mV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ei(s[a],o[a])))return!1;return!0}(t,e);default:return q()}var i}function nh(t,e){return void 0!==(t.values||[]).find(n=>Ei(n,e))}function Ws(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=dt(i.integerValue||i.doubleValue),a=dt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return EV(t.timestampValue,e.timestampValue);case 4:return EV(th(t),th(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(i,s){const o=us(i),a=us(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=se(o[u],a[u]);if(0!==c)return c}return se(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=se(dt(i.latitude),dt(s.latitude));return 0!==o?o:se(dt(i.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ws(o[u],a[u]);if(c)return c}return se(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===zs.mapValue&&s===zs.mapValue)return 0;if(i===zs.mapValue)return 1;if(s===zs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=se(a[l],c[l]);if(0!==d)return d;const h=Ws(o[a[l]],u[c[l]]);if(0!==h)return h}return se(a.length,c.length)}(t.mapValue,e.mapValue);default:throw q()}}function EV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return se(t,e);const n=Gs(t),r=Gs(e),i=se(n.seconds,r.seconds);return 0!==i?i:se(n.nanos,r.nanos)}function rc(t){return cD(t)}function cD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Gs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?us(t.bytesValue).toBase64():"referenceValue"in t?L.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=cD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${cD(r.fields[a])}`;return s+"}"}(t.mapValue):q();var e}function ra(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lD(t){return!!t&&"integerValue"in t}function rh(t){return!!t&&"arrayValue"in t}function wV(t){return!!t&&"nullValue"in t}function bV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vm(t){return!!t&&"mapValue"in t}function ih(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ih(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ih(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ih(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ih(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new sn(ih(this.value))}}function TV(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new mt([n]);if(Vm(r)){const s=TV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Hn(e)}class Ye{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ye(e,0,Y.min(),Y.min(),Y.min(),sn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ye(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new Ye(e,2,n,Y.min(),Y.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Ye(e,3,n,Y.min(),Y.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ks{constructor(e,n){this.position=e,this.inclusive=n}}function AV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?L.comparator(L.fromName(o.referenceValue),n.key):Ws(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function SV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}class ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function dfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class MV{}class _e extends MV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new hfe(e,n,r):"array-contains"===n?new gfe(e,r):"in"===n?new OV(e,r):"not-in"===n?new mfe(e,r):"array-contains-any"===n?new yfe(e,r):new _e(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ffe(e,r):new pfe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ws(n,this.value)):null!==n&&qs(this.value)===qs(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fe extends MV{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Fe(e,n)}matches(e){return sc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function sc(t){return"and"===t.op}function hD(t){return function xV(t){for(const e of t.filters)if(e instanceof Fe)return!1;return!0}(t)&&sc(t)}function fD(t){if(t instanceof _e)return t.field.canonicalString()+t.op.toString()+rc(t.value);if(hD(t))return t.filters.map(e=>fD(e)).join(",");{const e=t.filters.map(n=>fD(n)).join(",");return`${t.op}(${e})`}}function NV(t,e){return t instanceof _e?(n=t,(r=e)instanceof _e&&n.op===r.op&&n.field.isEqual(r.field)&&Ei(n.value,r.value)):t instanceof Fe?function(n,r){return r instanceof Fe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&NV(s,r.filters[o]),!0)}(t,e):void q();var n,r}function kV(t){return t instanceof _e?function(e){return`${e.field.canonicalString()} ${e.op} ${rc(e.value)}`}(t):t instanceof Fe?function(e){return e.op.toString()+" {"+e.getFilters().map(kV).join(" ,")+"}"}(t):"Filter"}class hfe extends _e{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.matchesComparison(n)}}class ffe extends _e{constructor(e,n){super(e,"in",n),this.keys=PV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pfe extends _e{constructor(e,n){super(e,"not-in",n),this.keys=PV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class gfe extends _e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rh(n)&&nh(n.arrayValue,this.value)}}class OV extends _e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&nh(this.value.arrayValue,n)}}class mfe extends _e{constructor(e,n){super(e,"not-in",n)}matches(e){if(nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!nh(this.value.arrayValue,n)}}class yfe extends _e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nh(this.value.arrayValue,r))}}class _fe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function pD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _fe(t,e,n,r,i,s,o)}function ia(t){const e=V(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rc(r)).join(",")),e.dt=n}return e.dt}function sh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dfe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SV(t.startAt,e.startAt)&&SV(t.endAt,e.endAt)}function Bm(t){return L.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class cs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function oc(t){return new cs(t)}function BV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function gD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function mD(t){return null!==t.collectionGroup}function sa(t){const e=V(t);if(null===e.wt){e.wt=[];const n=jm(e),r=gD(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new ic(n)),e.wt.push(new ic(mt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ic(mt.keyField(),s))}}}return e.wt}function Nn(t){const e=V(t);if(!e._t)if("F"===e.limitType)e._t=pD(e.path,e.collectionGroup,sa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of sa(e))n.push(new ic(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ks(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ks(e.startAt.position,e.startAt.inclusive):null;e._t=pD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function yD(t,e){e.getFirstInequalityField(),jm(t);const n=t.filters.concat([e]);return new cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $m(t,e,n){return new cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oh(t,e){return sh(Nn(t),Nn(e))&&t.limitType===e.limitType}function UV(t){return`${ia(Nn(t))}|lt:${t.limitType}`}function _D(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>kV(r)).join(", ")}]`),Zd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rc(r)).join(",")),`Target(${n})`}(Nn(t))}; limitType=${t.limitType})`}function ah(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):L.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of sa(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=AV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,sa(n),r)||n.endAt&&!function(i,s,o){const a=AV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,sa(n),r)));var n,r}function $V(t){return(e,n)=>{let r=!1;for(const i of sa(t)){const s=vfe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function vfe(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ws(a,u):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}class ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yV(this.inner)}size(){return this.innerSize}}const Efe=new qe(L.comparator);function Gn(){return Efe}const HV=new qe(L.comparator);function uh(...t){let e=HV;for(const n of t)e=e.insert(n.key,n);return e}function GV(t){let e=HV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return ch()}function zV(){return ch()}function ch(){return new ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const wfe=new qe(L.comparator),bfe=new Qe(L.comparator);function pe(...t){let e=bfe;for(const n of t)e=e.add(n);return e}const Cfe=new Qe(se);function qV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function WV(t){return{integerValue:""+t}}function KV(t,e){return function cV(t){return"number"==typeof t&&Number.isInteger(t)&&!eh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?WV(e):qV(t,e)}class Hm{constructor(){this._=void 0}}function Ife(t,e,n){return t instanceof ac?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Pm(i)&&(i=Om(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof oa?YV(t,e):t instanceof aa?XV(t,e):function(r,i){const s=QV(r,i),o=JV(s)+JV(r.gt);return lD(s)&&lD(r.gt)?WV(o):qV(r.serializer,o)}(t,e)}function Dfe(t,e,n){return t instanceof oa?YV(t,e):t instanceof aa?XV(t,e):n}function QV(t,e){return t instanceof uc?lD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ac extends Hm{}class oa extends Hm{constructor(e){super(),this.elements=e}}function YV(t,e){const n=ZV(e);for(const r of t.elements)n.some(i=>Ei(i,r))||n.push(r);return{arrayValue:{values:n}}}class aa extends Hm{constructor(e){super(),this.elements=e}}function XV(t,e){let n=ZV(e);for(const r of t.elements)n=n.filter(i=>!Ei(i,r));return{arrayValue:{values:n}}}class uc extends Hm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function JV(t){return dt(t.integerValue||t.doubleValue)}function ZV(t){return rh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Afe{constructor(e,n){this.version=e,this.transformResults=n}}class et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class zm{}function e9(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new lc(t.key,et.none()):new cc(t.key,t.data,et.none());{const n=t.data,r=sn.empty();let i=new Qe(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ds(t.key,r,new Hn(i.toArray()),et.none())}}function Sfe(t,e,n){t instanceof cc?function(r,i,s){const o=r.value.clone(),a=r9(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(r,i,s){if(!Gm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=r9(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(n9(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function dh(t,e,n,r){return t instanceof cc?function(i,s,o,a){if(!Gm(i.precondition,s))return o;const u=i.value.clone(),c=i9(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(i,s,o,a){if(!Gm(i.precondition,s))return o;const u=i9(i.fieldTransforms,a,s),c=s.data;return c.setAll(n9(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Gm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Mfe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QV(r.transform,i||null);null!=s&&(null===n&&(n=sn.empty()),n.set(r.field,s))}return n||null}function t9(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&tc(n,r,(i,s)=>function Tfe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof oa&&r instanceof oa||n instanceof aa&&r instanceof aa?tc(n.elements,r.elements,Ei):n instanceof uc&&r instanceof uc?Ei(n.gt,r.gt):n instanceof ac&&r instanceof ac);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class cc extends zm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends zm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function n9(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function r9(t,e,n){const r=new Map;Q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dfe(o,a,n[i]))}return r}function i9(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ife(s,o,e))}return r}class lc extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ED extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Sfe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=e9(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(n,r)=>t9(n,r))&&tc(this.baseMutations,e.baseMutations,(n,r)=>t9(n,r))}}class bD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Q(e.mutations.length===r.length);let i=wfe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bD(e,n,r,i)}}class CD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nfe{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Ce;function o9(t){if(void 0===t)return gt("GRPC error has no .code"),T.UNKNOWN;switch(t){case It.OK:return T.OK;case It.CANCELLED:return T.CANCELLED;case It.UNKNOWN:return T.UNKNOWN;case It.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case It.INTERNAL:return T.INTERNAL;case It.UNAVAILABLE:return T.UNAVAILABLE;case It.UNAUTHENTICATED:return T.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case It.NOT_FOUND:return T.NOT_FOUND;case It.ALREADY_EXISTS:return T.ALREADY_EXISTS;case It.PERMISSION_DENIED:return T.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case It.ABORTED:return T.ABORTED;case It.OUT_OF_RANGE:return T.OUT_OF_RANGE;case It.UNIMPLEMENTED:return T.UNIMPLEMENTED;case It.DATA_LOSS:return T.DATA_LOSS;default:return q()}}(Ce=It||(It={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";class ID{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return qm}static getOrCreateInstance(){return null===qm&&(qm=new ID),qm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let qm=null;const Rfe=new Zu([4294967295,4294967295],0);function u9(t){const e=function a9(){return new TextEncoder}().encode(t),n=new Ahe;return n.update(e),new Uint8Array(n.digest())}function c9(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zu([n,r],0),new Zu([i,s],0)]}class DD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hh(`Invalid padding: ${n}`);if(r<0)throw new hh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new hh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new hh(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Zu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Zu.fromNumber(r)));return 1===i.compare(Rfe)&&(i=new Zu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=u9(e),[r,i]=c9(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new DD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=u9(e),[r,i]=c9(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fh(Y.min(),i,new qe(se),Gn(),pe())}}class ph{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ph(r,n,pe(),pe(),pe())}}class Wm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class l9{constructor(e,n){this.targetId=e,this.Vt=n}}class d9{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class h9{constructor(){this.St=0,this.Dt=p9(),this.Ct=Pt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pe(),n=pe(),r=pe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q()}}),new ph(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=p9()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class kfe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Gn(),this.zt=f9(),this.Wt=new qe(se)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Bm(o))if(0===i){const a=new L(o.path);this.Yt(r,a,Ye.newNoDocument(a,Y.min()))}else Q(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=ID.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,m,y,v,C;const w={localCacheCount:l,existenceFilterCount:d.count},S=d.unchangedNames;return S&&(w.bloomFilter={applied:0===c,hashCount:null!==(h=S?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(y=null===(m=null===(f=S?.bits)||void 0===f?void 0:f.bitmap)||void 0===m?void 0:m.length)&&void 0!==y?y:0,padding:null!==(C=null===(v=S?.bits)||void 0===v?void 0:v.padding)&&void 0!==C?C:0}),w}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=us(s).toUint8Array()}catch(l){if(l instanceof vV)return Gr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new DD(u,o,a)}catch(l){return Gr(l instanceof hh?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Bm(a.target)){const u=new L(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ye.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=pe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new fh(e,n,this.Wt,this.jt,r);return this.jt=Gn(),this.zt=f9(),this.Wt=new qe(se),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new h9,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Qe(se),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||P("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new h9),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function f9(){return new qe(L.comparator)}function p9(){return new qe(L.comparator)}const Pfe={asc:"ASCENDING",desc:"DESCENDING"},Ofe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ffe={and:"AND",or:"OR"};class Lfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function TD(t,e){return t.useProto3Json||Zd(e)?e:{value:e}}function dc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vfe(t,e){return dc(t,e.toTimestamp())}function yt(t){return Q(!!t),Y.fromTimestamp(function(e){const n=Gs(e);return new it(n.seconds,n.nanos)}(t))}function AD(t,e){return(n=t,new be(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function m9(t){const e=be.fromString(t);return Q(D9(e)),e}function gh(t,e){return AD(t.databaseId,e.path)}function bi(t,e){const n=m9(e);if(n.get(1)!==t.databaseId.projectId)throw new R(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new R(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(_9(n))}function SD(t,e){return AD(t.databaseId,e)}function mh(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _9(t){return Q(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function v9(t,e,n){return{name:gh(t,e),fields:n.value.mapValue.fields}}function w9(t,e){return{documents:[SD(t,e.path)]}}function xD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=SD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=SD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return I9(Fe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Qs((l=c).field),direction:Hfe(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=TD(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function b9(t){let e=function y9(t){const e=m9(t);return 4===e.length?be.emptyPath():_9(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Q(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=C9(l);return d instanceof Fe&&hD(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new ic(hc((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Zd(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ks((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ks(l.values||[],!l.before)}(n.endAt)),function VV(t,e,n,r,i,s,o,a){return new cs(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function C9(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=hc(e.unaryFilter.field);return _e.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=hc(e.unaryFilter.field);return _e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hc(e.unaryFilter.field);return _e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=hc(e.unaryFilter.field);return _e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):void 0!==t.fieldFilter?function(e){return _e.create(hc(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Fe.create(e.compositeFilter.filters.map(n=>C9(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return q()}}(e.compositeFilter.op))}(t):q()}function Hfe(t){return Pfe[t]}function Gfe(t){return Ofe[t]}function zfe(t){return Ffe[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function hc(t){return mt.fromServerFormat(t.fieldPath)}function I9(t){return t instanceof _e?function(e){if("=="===e.op){if(bV(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NAN"}};if(wV(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bV(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NAN"}};if(wV(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(e.field),op:Gfe(e.op),value:e.value}}}(t):t instanceof Fe?function(e){const n=e.getFilters().map(r=>I9(r));return 1===n.length?n[0]:{compositeFilter:{op:zfe(e.op),filters:n}}}(t):q()}function qfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function D9(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class hs{constructor(e,n,r,i,s=Y.min(),o=Y.min(),a=Pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class T9{constructor(e){this.fe=e}}function ND(t){const e=b9({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$m(e,e.limit,"L"):e}class da{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(dt(e.integerValue));else if("doubleValue"in e){const r=dt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),eh(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(us(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?CV(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):q()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),L.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}da.Ve=new da;class tpe{constructor(){this.rn=new LD}addToCollectionParentIndex(e,n){return this.rn.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(ur.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class LD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(be.comparator)).toArray()}}new Uint8Array(0);class pn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class fa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fa(0)}static Mn(){return new fa(-1)}}class ape{constructor(){this.changes=new ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lpe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class J9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&dh(r.mutation,i,Hn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=uh();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gn();const o=ch(),a=ch();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ds)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),dh(l.mutation,c,l.mutation.getFieldMask(),it.now())):o.set(c.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new lpe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ch();let i=new qe((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Hn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=zV();l.forEach(h=>{if(!s.has(h)){const f=e9(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return D.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return L.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):mD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):D.resolve(wi());let a=-1,u=s;return o.next(c=>D.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?D.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,pe())).next(l=>({batchId:a,changes:GV(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=uh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=uh();return this.indexManager.getCollectionParents(e,i).next(o=>D.forEach(o,a=>{const u=(c=n,l=a.child(i),new cs(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ye.newInvalidDocument(c)))});let o=uh();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&dh(c.mutation,u,Hn.empty(),it.now()),ah(n,u)&&(o=o.insert(a,u))}),o})}}class dpe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return D.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:yt(r.createTime)}),D.resolve()}getNamedQuery(e,n){return D.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:ND(r.bundledQuery),readTime:yt(r.readTime)}),D.resolve();var r}}class hpe{constructor(){this.overlays=new qe(L.comparator),this.ls=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wi();return D.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const i=wi(),s=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=wi(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=wi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return D.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CD(n,r));let s=this.ls.get(n);void 0===s&&(s=pe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class VD{constructor(){this.fs=new Qe($t.ds),this.ws=new Qe($t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new $t(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new $t(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new L(new be([])),r=new $t(n,e),i=new $t(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new L(new be([])),r=new $t(n,e),i=new $t(n,e+1);let s=pe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new $t(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return L.comparator(e.key,n.key)||se(e.As,n.As)}static _s(e,n){return se(e.As,n.As)||L.comparator(e.key,n.key)}}class fpe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Qe($t.ds)}checkEmpty(e){return D.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new wD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new $t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,n){return D.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(se);return n.forEach(i=>{const s=new $t(i,0),o=new $t(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),D.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new $t(new L(s),0);let a=new Qe(se);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),D.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Q(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return D.forEach(n.mutations,i=>{const s=new $t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new $t(n,0),i=this.Rs.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return D.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ppe{constructor(e){this.Ds=e,this.docs=new qe(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ye.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gn();const o=n.path,a=new L(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||sD(oV(l),r)<=0||(i.has(l.key)||ah(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return D.resolve(s)}getAllFromCollectionGroup(e,n,r,i){q()}Cs(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gpe(this)}getSize(e){return D.resolve(this.size)}}class gpe extends ape{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class mpe{constructor(e){this.persistence=e,this.xs=new ls(n=>ia(n),sh),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Ns=0,this.ks=new VD,this.targetCount=0,this.Ms=fa.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),D.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.Fn(n),D.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.ks.containsKey(n))}}class BD{constructor(e,n){this.$s={},this.overlays={},this.Os=new cr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new mpe(this),this.indexManager=new tpe,this.remoteDocumentCache=new ppe(r=>this.referenceDelegate.Ls(r)),this.serializer=new T9(n),this.qs=new dpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hpe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new fpe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const i=new ype(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return D.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class ype extends Vhe{constructor(e){super(),this.currentSequenceNumber=e}}class n0{constructor(e){this.persistence=e,this.Qs=new VD,this.js=null}static zs(e){return new n0(e)}get Ws(){if(this.js)return this.js;throw q()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),D.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Ws,r=>{const i=L.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return D.or([()=>D.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class HD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new HD(e,n.fromCache,r,i)}}class e8{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(BV(n))return D.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=$m(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,$m(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return BV(n)||i.isEqual(Y.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(nD()<=Ie.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_D(n)),this.Wi(e,o,n,function sV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(1e9===r?new it(n+1,0):new it(n,r));return new ur(i,L.empty(),e)}(i,-1)))})}ji(e,n){let r=new Qe($V(e));return n.forEach((i,s)=>{ah(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return nD()<=Ie.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",_D(n)),this.Ui.getDocumentsMatchingQuery(e,n,ur.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class vpe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new qe(se),this.Yi=new ls(s=>ia(s),sh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J9(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function n8(t,e){return GD.apply(this,arguments)}function GD(){return GD=E(function*(t,e){const n=V(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=pe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),GD.apply(this,arguments)}function r8(t){const e=V(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function bpe(t,e){const n=V(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mc(t,e,n){return zD.apply(this,arguments)}function zD(){return zD=E(function*(t,e,n){const r=V(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!$s(o))throw o;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),zD.apply(this,arguments)}function o0(t,e,n){const r=V(t);let i=Y.min(),s=pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=V(a),d=l.Yi.get(c);return void 0!==d?D.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:pe())).next(a=>(function a8(t,e,n){let r=t.Xi.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function jV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class YD{constructor(){this.activeTargetIds=function vD(){return Cfe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l8{constructor(){this.Hr=new YD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new YD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dpe{Yr(e){}shutdown(){}}class d8{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let c0=null;function JD(){return null===c0?c0=268435456+Math.round(2147483648*Math.random()):c0++,"0x"+c0.toString(16)}const Tpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ape{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const gn="WebChannelConnection";class Spe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=JD(),a=this.To(e,n);P("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(P("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Gr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ec,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Tpe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=JD();return new Promise((o,a)=>{const u=new The;u.setWithCredentials(!0),u.listenOnce(Che.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tD.NO_ERROR:const l=u.getResponseJson();P(gn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case tD.TIMEOUT:P(gn,`RPC '${e}' ${s} timed out`),a(new R(T.DEADLINE_EXCEEDED,"Request time out"));break;case tD.HTTP_ERROR:const d=u.getStatus();if(P(gn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const m=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(v)>=0?v:T.UNKNOWN}(f.status);a(new R(m,f.message))}else a(new R(T.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new R(T.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{P(gn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);P(gn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=JD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=whe(),a=bhe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Dhe({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");P(gn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const m=new Ape({ro:v=>{f?P(gn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(P(gn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),P(gn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},oo:()=>d.close()}),y=(v,C,w)=>{v.listen(C,S=>{try{w(S)}catch(O){setTimeout(()=>{throw O},0)}})};return y(d,Sm.EventType.OPEN,()=>{f||P(gn,`RPC '${e}' stream ${i} transport opened.`)}),y(d,Sm.EventType.CLOSE,()=>{f||(f=!0,P(gn,`RPC '${e}' stream ${i} transport closed`),m.wo())}),y(d,Sm.EventType.ERROR,v=>{f||(f=!0,Gr(gn,`RPC '${e}' stream ${i} transport errored:`,v),m.wo(new R(T.UNAVAILABLE,"The operation could not be completed")))}),y(d,Sm.EventType.MESSAGE,v=>{var C;if(!f){const w=v.data[0];Q(!!w);const O=w.error||(null===(C=w[0])||void 0===C?void 0:C.error);if(O){P(gn,`RPC '${e}' stream ${i} received error:`,O);const z=O.status;let X=function(Ue){const Tt=It[Ue];if(void 0!==Tt)return o9(Tt)}(z),de=O.message;void 0===X&&(X=T.INTERNAL,de="Unknown error status: "+z+" with message "+O.message),f=!0,m.wo(new R(X,de)),d.close()}else P(gn,`RPC '${e}' stream ${i} received:`,w),m._o(w)}}),y(a,Ihe.STAT_EVENT,v=>{v.stat===Z6.PROXY?P(gn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Z6.NOPROXY&&P(gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function l0(){return typeof document<"u"?document:null}function Th(t){return new Lfe(t,!0)}class ZD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class f8{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ZD(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return E(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return E(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return E(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(gt(n.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===T.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new R(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(E(function*(){e.state=0,e.start()}))}tu(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mpe extends f8{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Ufe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:q(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Q(void 0===c||"string"==typeof c),Pt.fromBase64String(c||"")):(Q(void 0===c||c instanceof Uint8Array),Pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?T.UNKNOWN:o9(u.code);return new R(c,u.message||"")}(o);n=new d9(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=bi(t,r.document.name),s=yt(r.document.updateTime),o=r.document.createTime?yt(r.document.createTime):Y.min(),a=new sn({mapValue:{fields:r.document.fields}}),u=Ye.newFoundDocument(i,s,o,a);n=new Wm(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=bi(t,r.document),s=r.readTime?yt(r.readTime):Y.min(),o=Ye.newNoDocument(i,s);n=new Wm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=bi(t,r.document);n=new Wm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return q();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Nfe(i,s);n=new l9(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Y.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?yt(s.readTime):Y.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=mh(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Bm(a)?{documents:w9(i,a)}:{query:xD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=g9(i,s.resumeToken);const u=TD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Y.min())>0){o.readTime=dc(i,s.snapshotVersion.toTimestamp());const u=TD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function $fe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=mh(this.serializer),n.removeTarget=e,this.Wo(n)}}class xpe extends f8{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function jfe(t,e){return t&&t.length>0?(Q(void 0!==e),t.map(n=>function(r,i){let s=yt(r.updateTime?r.updateTime:i);return s.isEqual(Y.min())&&(s=yt(i)),new Afe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=yt(e.commitTime);return this.listener.cu(r,n)}return Q(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=mh(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function yh(t,e){let n;if(e instanceof cc)n={update:v9(t,e.key,e.value)};else if(e instanceof lc)n={delete:gh(t,e.key)};else if(e instanceof ds)n={update:v9(t,e.key,e.data),updateMask:qfe(e.fieldMask)};else{if(!(e instanceof ED))return q();n={verify:gh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ac)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof oa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof aa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof uc)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Vfe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:q()),n;var i}(this.serializer,r))};this.Wo(n)}}class Npe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new R(T.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new R(T.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new R(T.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class kpe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gt(n),this.mu=!1):P("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ppe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(E(function*(){var u;Zs(o)&&(P("RemoteStore","Restarting streams for network reachability change."),yield(u=E(function*(c){const l=V(c);l.vu.add(4),yield yc(l),l.bu.set("Unknown"),l.vu.delete(4),yield Ah(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new kpe(r,i)}}function Ah(t){return t3.apply(this,arguments)}function t3(){return t3=E(function*(t){if(Zs(t))for(const e of t.Ru)yield e(!0)}),t3.apply(this,arguments)}function yc(t){return n3.apply(this,arguments)}function n3(){return n3=E(function*(t){for(const e of t.Ru)yield e(!1)}),n3.apply(this,arguments)}function d0(t,e){const n=V(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),s3(n)?i3(n):vc(n).Ko()&&r3(n,e))}function Sh(t,e){const n=V(t),r=vc(n);n.Au.delete(e),r.Ko()&&p8(n,e),0===n.Au.size&&(r.Ko()?r.jo():Zs(n)&&n.bu.set("Unknown"))}function r3(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vc(t).su(e)}function p8(t,e){t.Vu.qt(e),vc(t).iu(e)}function i3(t){t.Vu=new kfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),vc(t).start(),t.bu.gu()}function s3(t){return Zs(t)&&!vc(t).Uo()&&t.Au.size>0}function Zs(t){return 0===V(t).vu.size}function g8(t){t.Vu=void 0}function Ope(t){return o3.apply(this,arguments)}function o3(){return o3=E(function*(t){t.Au.forEach((e,n)=>{r3(t,e)})}),o3.apply(this,arguments)}function Fpe(t,e){return a3.apply(this,arguments)}function a3(){return a3=E(function*(t,e){g8(t),s3(t)?(t.bu.Iu(e),i3(t)):t.bu.set("Unknown")}),a3.apply(this,arguments)}function Lpe(t,e,n){return u3.apply(this,arguments)}function u3(){return u3=E(function*(t,e,n){if(t.bu.set("Online"),e instanceof d9&&2===e.state&&e.cause)try{yield(r=E(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield h0(t,r)}else if(e instanceof Wm?t.Vu.Ht(e):e instanceof l9?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Y.min()))try{const r=yield r8(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Pt.EMPTY_BYTE_STRING,c.snapshotVersion)),p8(i,a);const l=new hs(c.target,a,u,c.sequenceNumber);r3(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){P("RemoteStore","Failed to raise snapshot:",r),yield h0(t,r)}var r}),u3.apply(this,arguments)}function h0(t,e,n){return c3.apply(this,arguments)}function c3(){return c3=E(function*(t,e,n){if(!$s(e))throw e;t.vu.add(1),yield yc(t),t.bu.set("Offline"),n||(n=()=>r8(t.localStore)),t.asyncQueue.enqueueRetryable(E(function*(){P("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Ah(t)}))}),c3.apply(this,arguments)}function m8(t,e){return e().catch(n=>h0(t,n,e))}function _c(t){return l3.apply(this,arguments)}function l3(){return l3=E(function*(t){const e=V(t),n=eo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Vpe(e);)try{const i=yield bpe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Bpe(e,i)}catch(i){yield h0(e,i)}y8(e)&&_8(e)}),l3.apply(this,arguments)}function Vpe(t){return Zs(t)&&t.Eu.length<10}function Bpe(t,e){t.Eu.push(e);const n=eo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function y8(t){return Zs(t)&&!eo(t).Uo()&&t.Eu.length>0}function _8(t){eo(t).start()}function Upe(t){return d3.apply(this,arguments)}function d3(){return d3=E(function*(t){eo(t).hu()}),d3.apply(this,arguments)}function jpe(t){return h3.apply(this,arguments)}function h3(){return h3=E(function*(t){const e=eo(t);for(const n of t.Eu)e.uu(n.mutations)}),h3.apply(this,arguments)}function $pe(t,e,n){return f3.apply(this,arguments)}function f3(){return f3=E(function*(t,e,n){const r=t.Eu.shift(),i=bD.from(r,e,n);yield m8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _c(t)}),f3.apply(this,arguments)}function Hpe(t,e){return p3.apply(this,arguments)}function p3(){return p3=E(function*(t,e){var n;e&&eo(t).ou&&(yield(n=E(function*(r,i){if(function s9(t){switch(t){default:return q();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}(s=i.code)&&s!==T.ABORTED){const o=r.Eu.shift();eo(r).Qo(),yield m8(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield _c(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),y8(t)&&_8(t)}),p3.apply(this,arguments)}function v8(t,e){return g3.apply(this,arguments)}function g3(){return g3=E(function*(t,e){const n=V(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n.vu.add(3),yield yc(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Ah(n)}),g3.apply(this,arguments)}function y3(){return y3=E(function*(t,e){const n=V(t);e?(n.vu.delete(2),yield Ah(n)):e||(n.vu.add(2),yield yc(n),n.bu.set("Unknown"))}),y3.apply(this,arguments)}function vc(t){return t.Su||(t.Su=function(e,n,r){const i=V(e);return i.fu(),new Mpe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ope.bind(null,t),ao:Fpe.bind(null,t),nu:Lpe.bind(null,t)}),t.Ru.push(function(){var e=E(function*(n){n?(t.Su.Qo(),s3(t)?i3(t):t.bu.set("Unknown")):(yield t.Su.stop(),g8(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function eo(t){return t.Du||(t.Du=function(e,n,r){const i=V(e);return i.fu(),new xpe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Upe.bind(null,t),ao:Hpe.bind(null,t),au:jpe.bind(null,t),cu:$pe.bind(null,t)}),t.Ru.push(function(){var e=E(function*(n){n?(t.Du.Qo(),yield _c(t)):(yield t.Du.stop(),t.Eu.length>0&&(P("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class _3{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _3(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new R(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ec(t,e){if(gt("AsyncQueue",`${e}: ${t}`),$s(t))return new R(T.UNAVAILABLE,`${e}: ${t}`);throw t}class wc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=uh(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new wc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new wc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class E8{constructor(){this.Cu=new qe(L.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):q():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class bc{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bc(e,n,wc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Gpe{constructor(){this.Nu=void 0,this.listeners=[]}}class zpe{constructor(){this.queries=new ls(e=>UV(e),oh),this.onlineState="Unknown",this.ku=new Set}}function v3(t,e){return E3.apply(this,arguments)}function E3(){return E3=E(function*(t,e){const n=V(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Gpe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Ec(o,`Initialization of query '${_D(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&C3(n)}),E3.apply(this,arguments)}function w3(t,e){return b3.apply(this,arguments)}function b3(){return b3=E(function*(t,e){const n=V(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),b3.apply(this,arguments)}function qpe(t,e){const n=V(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&C3(n)}function Wpe(t,e,n){const r=V(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function C3(t){t.ku.forEach(e=>{e.next()})}class I3{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class C8{constructor(e){this.key=e}}class I8{constructor(e){this.key=e}}class D8{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pe(),this.mutatedKeys=pe(),this.tc=$V(e),this.ec=new wc(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new E8,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=ah(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?m!==y&&(r.track({type:3,doc:f}),v=!0):this.rc(h,f)||(r.track({type:2,doc:f}),v=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(u||c)&&(a=!0)),v&&(f?(o=o.add(f),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new bc(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new E8,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=pe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new I8(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new C8(r))}),n}hc(e){this.Yu=e.ir,this.Zu=pe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return bc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ype{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Xpe{constructor(e){this.key=e,this.fc=!1}}class Jpe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ls(a=>UV(a),oh),this._c=new Map,this.mc=new Set,this.gc=new qe(L.comparator),this.yc=new Map,this.Ic=new VD,this.Tc={},this.Ec=new Map,this.Ac=fa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Zpe(t,e){return D3.apply(this,arguments)}function D3(){return D3=E(function*(t,e){const n=function K3(t){const e=V(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nge.bind(null,e),e.dc.nu=qpe.bind(null,e.eventManager),e.dc.Pc=Wpe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function gc(t,e){const n=V(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,D.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new hs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Nn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function T3(t,e,n,r,i){return A3.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&d0(n.remoteStore,o)}return i}),D3.apply(this,arguments)}function A3(){return A3=E(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(m=E(function*(y,v,C,w){let S=v.view.sc(C);S.zi&&(S=yield o0(y.localStore,v.query,!1).then(({documents:X})=>v.view.sc(X,S)));const O=w&&w.targetChanges.get(v.targetId),z=v.view.applyChanges(S,y.isPrimaryClient,O);return L3(y,v.targetId,z.cc),z.snapshot}),function(y,v,C,w){return m.apply(this,arguments)})(t,d,h,f);var m};const s=yield o0(t.localStore,e,!0),o=new D8(e,s.ir),a=o.sc(s.documents),u=ph.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);L3(t,n,c.cc);const l=new Ype(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),A3.apply(this,arguments)}function ege(t,e){return S3.apply(this,arguments)}function S3(){return S3=E(function*(t,e){const n=V(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!oh(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Sh(n.remoteStore,r.targetId),Cc(n,r.targetId)}).catch(js))):(Cc(n,r.targetId),yield mc(n.localStore,r.targetId,!0))}),S3.apply(this,arguments)}function M3(){return M3=E(function*(t,e,n){const r=function Q3(t){const e=V(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rge.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ige.bind(null,e),e}(t);try{const i=yield function(s,o){const a=V(s),u=it.now(),c=o.reduce((h,f)=>h.add(f.key),pe());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Gn(),m=pe();return a.Zi.getEntries(h,c).next(y=>{f=y,f.forEach((v,C)=>{C.isValidDocument()||(m=m.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(y=>{l=y;const v=[];for(const C of o){const w=Mfe(C,l.get(C.key).overlayedDocument);null!=w&&v.push(new ds(C.key,w,TV(w.value.mapValue),et.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,v,o)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(l,m);return a.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:GV(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new qe(se)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield fs(r,i.changes),yield _c(r.remoteStore)}catch(i){const s=Ec(i,"Failed to persist write");n.reject(s)}}),M3.apply(this,arguments)}function T8(t,e){return x3.apply(this,arguments)}function x3(){return x3=E(function*(t,e){const n=V(t);try{const r=yield function wpe(t,e){const n=V(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var m,y,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Pt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),y=f,v=l,(0===(m=h).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Gn(),c=pe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function i8(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(Y.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Q(o.fc):i.removedDocuments.size>0&&(Q(o.fc),o.fc=!1))}),yield fs(n,r,e)}catch(r){yield js(r)}}),x3.apply(this,arguments)}function A8(t,e,n){const r=V(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=V(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&C3(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nge(t,e,n){return N3.apply(this,arguments)}function N3(){return N3=E(function*(t,e,n){const r=V(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new qe(L.comparator);o=o.insert(s,Ye.newNoDocument(s,Y.min()));const a=pe().add(s),u=new fh(Y.min(),new Map,new qe(se),o,a);yield T8(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),V3(r)}else yield mc(r.localStore,e,!1).then(()=>Cc(r,e,n)).catch(js)}),N3.apply(this,arguments)}function rge(t,e){return R3.apply(this,arguments)}function R3(){return R3=E(function*(t,e){const n=V(t),r=e.batch.batchId;try{const i=yield function Epe(t,e){const n=V(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=D.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(m=>{const y=u.docVersions.get(f);Q(null!==y),m.version.compareTo(y)<0&&(l.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=pe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);F3(n,r,null),O3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fs(n,i)}catch(i){yield js(i)}}),R3.apply(this,arguments)}function ige(t,e,n){return k3.apply(this,arguments)}function k3(){return k3=E(function*(t,e,n){const r=V(t);try{const i=yield function(s,o){const a=V(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(Q(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);F3(r,e,n),O3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield fs(r,i)}catch(i){yield js(i)}}),k3.apply(this,arguments)}function O3(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function F3(t,e,n){const r=V(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Cc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||S8(t,r)})}function S8(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Sh(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),V3(t))}function L3(t,e,n){for(const r of n)r instanceof C8?(t.Ic.addReference(r.key,e),oge(t,r)):r instanceof I8?(P("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||S8(t,r.key)):q()}function oge(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(P("SyncEngine","New document in limbo: "+n),t.mc.add(r),V3(t))}function V3(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new L(be.fromString(e)),r=t.Ac.next();t.yc.set(r,new Xpe(n)),t.gc=t.gc.insert(n,r),d0(t.remoteStore,new hs(Nn(oc(n.path)),r,"TargetPurposeLimboResolution",cr.ct))}}function fs(t,e,n){return B3.apply(this,arguments)}function B3(){return B3=E(function*(t,e,n){const r=V(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=HD.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=E(function*(u,c){const l=V(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>D.forEach(c,h=>D.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>D.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!$s(d))throw d;P("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),y=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,y)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),B3.apply(this,arguments)}function age(t,e){return U3.apply(this,arguments)}function U3(){return U3=E(function*(t,e){const n=V(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=yield n8(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new R(T.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fs(n,r.er)}var i}),U3.apply(this,arguments)}function uge(t,e){const n=V(t),r=n.yc.get(e);if(r&&r.fc)return pe().add(r.key);{let i=pe();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class f0{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return E(function*(){n.serializer=Th(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function t8(t,e,n,r){return new vpe(t,e,n,r)}(this.persistence,new e8,e.initialUser,this.serializer)}createPersistence(e){return new BD(n0.zs,this.serializer)}createSharedClientState(e){return new l8}terminate(){var e=this;return E(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ic{initialize(e,n){var r=this;return E(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>A8(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=age.bind(null,r.syncEngine),yield function m3(t,e){return y3.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zpe}createDatastore(e){const n=Th(e.databaseInfo.databaseId),r=new Spe(e.databaseInfo);return new Npe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>A8(this.syncEngine,a,0),o=d8.D()?new d8:new Dpe,new Ppe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Jpe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=E(function*(n){const r=V(n);P("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield yc(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class p0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class wge{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=rV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=E(function*(a){P("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(P("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return E(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(E(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ec(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function g0(t,e){return Y3.apply(this,arguments)}function Y3(){return Y3=E(function*(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=E(function*(s){r.isEqual(s)||(yield n8(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Y3.apply(this,arguments)}function X3(t,e){return J3.apply(this,arguments)}function J3(){return J3=E(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Z3(t){return eT.apply(this,arguments)}(t);P("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>v8(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>v8(e.remoteStore,s)),t._onlineComponents=e}),J3.apply(this,arguments)}function eT(){return eT=E(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{yield g0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function P8(t){return"FirebaseError"===t.name?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Gr("Error using user provided cache. Falling back to memory cache: "+n),yield g0(t,new f0)}}else P("FirestoreClient","Using default OfflineComponentProvider"),yield g0(t,new f0);return t._offlineComponents}),eT.apply(this,arguments)}function m0(t){return tT.apply(this,arguments)}function tT(){return tT=E(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),yield X3(t,t._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),yield X3(t,new Ic))),t._onlineComponents}),tT.apply(this,arguments)}function Dc(t){return rT.apply(this,arguments)}function rT(){return rT=E(function*(t){const e=yield m0(t),n=e.eventManager;return n.onListen=Zpe.bind(null,e.syncEngine),n.onUnlisten=ege.bind(null,e.syncEngine),n}),rT.apply(this,arguments)}function U8(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const j8=new Map;function iT(t,e,n){if(!n)throw new R(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $8(t){if(!L.isDocumentKey(t))throw new R(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H8(t){if(L.isDocumentKey(t))throw new R(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":q()}function ve(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new R(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_0(t);throw new R(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class z8{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new R(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new R(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function xge(t,e,n,r){if(!0===e&&!0===r)throw new R(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=U8(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new R(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new R(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new R(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new R(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z8(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new She;switch(n.type){case"firstParty":return new Rhe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new R(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=j8.get(e);n&&(P("ComponentProvider","Removing Datastore"),j8.delete(e),n.terminate())}(this),Promise.resolve()}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}}class on{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new on(this.firestore,e,this._query)}}class Ci extends on{constructor(e,n,r){super(e,n,oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new L(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function Rge(t,e,...n){if(t=Sn(t),iT("collection","path",e),t instanceof Mh){const r=be.fromString(e,...n);return H8(r),new Ci(t,null,r)}{if(!(t instanceof _t||t instanceof Ci))throw new R(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return H8(r),new Ci(t.firestore,null,r)}}function q8(t,e,...n){if(t=Sn(t),1===arguments.length&&(e=rV.A()),iT("doc","path",e),t instanceof Mh){const r=be.fromString(e,...n);return $8(r),new _t(t,null,new L(r))}{if(!(t instanceof _t||t instanceof Ci))throw new R(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return $8(r),new _t(t.firestore,t instanceof Ci?t.converter:null,new L(r))}}class kge{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ZD(this,"async_queue_retry"),this.Xc=()=>{const n=l0();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=l0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=l0();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new kt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return E(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!$s(n))throw n;P("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,gt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=_3.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&q()}verifyOperationInProgress(){}sa(){var e=this;return E(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Xe extends Mh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kge,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||K8(this),this._firestoreClient.terminate()}}function Oge(t,e){const r="string"==typeof t?t:e||"(default)",i=function UO(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:$O(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=_g())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Nge(t,e,n,r={}){var i;const s=(t=ve(t,Mh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ut.MOCK_USER;else{a=function Fne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fu(JSON.stringify({alg:"none",type:"JWT"})),Fu(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new R(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ut(c)}t._authCredentials=new Mhe(new tV(a,u))}}(i,...s)}return i}function Dt(t){return t._firestoreClient||K8(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function K8(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ufe(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,U8(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new wge(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(Pt.fromBase64String(e))}catch(n){throw new R(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ga(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new R(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oT{constructor(e){this._methodName=e}}class aT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new R(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new R(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}}const Lge=/^__.*__$/;class Vge{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new cc(e,this.data,n,this.fieldTransforms)}}class X8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function J8(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class v0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new v0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return w0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(J8(this.ca)&&Lge.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Bge{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Th(e)}ya(e,n,r,i=!1){return new v0({ca:e,methodName:n,ga:r,path:mt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ac(t){const e=t._freezeSettings(),n=Th(t._databaseId);return new Bge(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uT(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);lT("Data must be an object, but it was:",o,r);const a=r7(r,o);let u,c;if(s.merge)u=new Hn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Rh(e,d,n);if(!o.contains(h))throw new R(T.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);s7(l,h)||l.push(h)}u=new Hn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Vge(new sn(a),u,c)}class Nh extends oT{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function ma(t,e){if(i7(t=Sn(t)))return lT("Unsupported field value:",e,t),r7(t,e);if(t instanceof oT)return function(n,r){if(!J8(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ma(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Sn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return KV(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=it.fromDate(n);return{timestampValue:dc(r.serializer,i)}}if(n instanceof it){const i=new it(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dc(r.serializer,i)}}if(n instanceof aT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ga)return{bytesValue:g9(r.serializer,n._byteString)};if(n instanceof _t){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:AD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${_0(n)}`)}(t,e)}function r7(t,e){const n={};return yV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=ma(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function i7(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof it||t instanceof aT||t instanceof ga||t instanceof _t||t instanceof oT)}function lT(t,e,n){if(!i7(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=_0(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Rh(t,e,n){if((e=Sn(e))instanceof Tc)return e._internalPath;if("string"==typeof e)return E0(t,e);throw w0("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hge=new RegExp("[~\\*/\\[\\]]");function E0(t,e,n){if(e.search(Hge)>=0)throw w0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tc(...e.split("."))._internalPath}catch{throw w0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function w0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new R(T.INVALID_ARGUMENT,a+t+u)}function s7(t,e){return t.some(n=>n.isEqual(e))}class dT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(b0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Gge extends dT{data(){return super.data()}}function b0(t,e){return"string"==typeof e?E0(t,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}class hT{}class zge extends hT{}function qge(t,e,...n){let r=[];e instanceof hT&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Sc).length,o=i.filter(a=>a instanceof kh).length;if(s>1||s>0&&o>0)throw new R(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class kh extends zge{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kh(e,n,r)}_apply(e){const n=this._parse(e);return l7(e._query,n),new on(e.firestore,e.converter,yD(e._query,n))}_parse(e){const n=Ac(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new R(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){c7(l,c);const h=[];for(const f of l)h.push(u7(a,i,f));d={arrayValue:{values:h}}}else d=u7(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||c7(l,c),d=function n7(t,e,n,r=!1){return ma(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return _e.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wge(t,e,n){const r=e,i=b0("where",t);return kh._create(i,r,n)}class Sc extends hT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sc(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Fe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)l7(s,a),s=yD(s,a)}(e._query,n),new on(e.firestore,e.converter,yD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function u7(t,e,n){if("string"==typeof(n=Sn(n))){if(""===n)throw new R(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mD(e)&&-1!==n.indexOf("/"))throw new R(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(be.fromString(n));if(!L.isDocumentKey(r))throw new R(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ra(t,new L(r))}if(n instanceof _t)return ra(t,n._key);throw new R(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_0(n)}.`)}function c7(t,e){if(!Array.isArray(t)||0===t.length)throw new R(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l7(t,e){if(e.isInequality()){const r=jm(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new R(T.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=gD(t);null!==s&&function d7(t,e,n){if(!n.isEqual(e))throw new R(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new R(T.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Kge{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new aT(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Om(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(th(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);Q(D9(r));const i=new na(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||gt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ya{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mc extends dT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(b0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class T0 extends Mc{data(e={}){return super.data(e)}}class xc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new T0(this._firestore,this._userDataWriter,r.key,r,new ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new R(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new T0(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ya(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new T0(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ya(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Yge(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Yge(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}function Xge(t){t=ve(t,_t);const e=ve(t.firestore,Xe);return function V8(t,e,n={}){const r=new kt;return t.asyncQueue.enqueueAndForget(E(function*(){return function(i,s,o,a,u){const c=new p0({next:d=>{s.enqueueAndForget(()=>w3(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new R(T.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new R(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new I3(oc(o.path),c,{includeMetadataChanges:!0,Ku:!0});return v3(i,l)}(yield Dc(t),t.asyncQueue,e,n,r)})),r.promise}(Dt(e),t._key).then(n=>function gT(t,e,n){const r=n.docs.get(e._key),i=new to(t);return new Mc(t,i,e._key,r,new ya(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class to extends Kge{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Jge(t){t=ve(t,on);const e=ve(t.firestore,Xe),n=Dt(e),r=new to(e);return function o7(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new R(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function B8(t,e,n={}){const r=new kt;return t.asyncQueue.enqueueAndForget(E(function*(){return function(i,s,o,a,u){const c=new p0({next:d=>{s.enqueueAndForget(()=>w3(i,l)),d.fromCache&&"server"===a.source?u.reject(new R(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new I3(o,c,{includeMetadataChanges:!0,Ku:!0});return v3(i,l)}(yield Dc(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new xc(e,r,t,i))}function Zge(t,e,n,...r){t=ve(t,_t);const i=ve(t.firestore,Xe),s=Ac(i);let o;return o="string"==typeof(e=Sn(e))||e instanceof Tc?function t7(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Rh(e,r,n)],u=[i];if(s.length%2!=0)throw new R(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Rh(e,s[h])),u.push(s[h+1]);const c=[],l=sn.empty();for(let h=a.length-1;h>=0;--h)if(!s7(c,a[h])){const f=a[h];let m=u[h];m=Sn(m);const y=o.da(f);if(m instanceof Nh)c.push(f);else{const v=ma(m,y);null!=v&&(c.push(f),l.set(f,v))}}const d=new Hn(c);return new X8(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function e7(t,e,n,r){const i=t.ya(1,e,n);lT("Data must be an object, but it was:",i,r);const s=[],o=sn.empty();Hs(r,(u,c)=>{const l=E0(e,u,n);c=Sn(c);const d=i.da(l);if(c instanceof Nh)s.push(l);else{const h=ma(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Hn(s);return new X8(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Ph(i,[o.toMutation(t._key,et.exists(!0))])}function eme(t,e){const n=ve(t.firestore,Xe),r=q8(t),i=function pT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Ph(n,[uT(Ac(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}function Ph(t,e){return function(n,r){const i=new kt;return n.asyncQueue.enqueueAndForget(E(function*(){return function tge(t,e,n){return M3.apply(this,arguments)}(yield function nT(t){return m0(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Dt(t),e)}!function(t,e=!0){ec=Cg,Vu(new bt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Xe(new xhe(n.getProvider("auth-internal")),new khe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new R(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new na(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Dr(eV,"3.13.0",t),Dr(eV,"3.13.0","esm2017")}();class zn{constructor(e){return e}}const p7="firestore",mT=new j("angularfire2.firestore-instances");function pme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zn(r)}}const gme={provide:class hme{constructor(){return Bw(p7)}},deps:[[new Ln,mT]]},mme={provide:zn,useFactory:function fme(t,e){const n=function Vw(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(p7,t,e);return n&&new zn(n)},deps:[[new Ln,mT],$u]};let yme=(()=>{class t{constructor(){Dr("angularfire",xw.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Ot({providers:[mme,gme]}),t})();function _me(t,...e){return{ngModule:yme,providers:[{provide:mT,useFactory:pme(t),multi:!0,deps:[Se,cn,l5,d5,[new Ln,gL],[new Ln,LL],...e]}]}}const S0=fi(eme,!0),qr=fi(Rge,!0),Nc=fi(q8,!0),Oh=fi(Xge,!0),_a=fi(Jge,!0),vme=fi(Oge,!0),g7=fi(qge,!0),Eme=fi(Zge,!0),m7=fi(Wge,!0);let y7=(()=>{class t{constructor(n){this.firestore=n}getCategories(){const r=qr(this.firestore,"Category");return new Ve(i=>{_a(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}static#e=this.\u0275fac=function(r){return new(r||t)(B(zn))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wme(t,e){if(1&t&&(g(0,"div")(1,"li",8)(2,"div",9)(3,"div",10),M(4,"img",11),p(),g(5,"h3",12),_(6),p()()()()),2&t){const n=G().$implicit;b(4),I("src",n.image,eu),b(2),Et(n.name)}}const bme=function(t){return["/category/",t]};function Cme(t,e){if(1&t&&(g(0,"ul",5)(1,"a",6),k(2,wme,7,2,"div",7),p()()),2&t){const n=e.$implicit;b(1),I("routerLink",Ao(2,bme,n.id)),b(1),I("ngIf",n.is_active)}}let Ime=(()=>{class t{constructor(n){this.categoryService=n,this.categories=[]}ngOnInit(){this.getCategory()}getCategory(){this.categoryService.getCategories().subscribe({next:n=>{this.categories=n.sort((r,i)=>r.order_index-i.order_index)},error:n=>{console.error("Error fetching categories:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(x(y7))};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-list-categories"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"categories-list"],[1,"category-title"],[1,"wrapper"],["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[3,"routerLink"],[4,"ngIf"],[1,"card-item"],["tabindex","0",1,"card"],[1,"card-image"],["alt","category.name",3,"src"],[1,"card-title"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"section",1)(2,"h1",2),_(3,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),p(),g(4,"section",3),k(5,Cme,3,4,"ul",4),p()()()),2&r&&(b(5),I("ngForOf",i.categories))},dependencies:[zi,qi,Qi],styles:[".categories-list[_ngcontent-%COMP%]{margin:0 auto 50px;max-width:1200px}.category-title[_ngcontent-%COMP%]{color:var(--mainWhiteColor);margin:30px 0;text-align:center;font-size:32px;font-family:var(--titleFont)}.wrapper[_ngcontent-%COMP%]{place-self:center;margin:0 auto 50px 0;display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.cards[_ngcontent-%COMP%]{display:grid;flex-wrap:wrap;list-style:none;margin:0;padding:0;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.card-item[_ngcontent-%COMP%]{display:flex;background-color:var(--grayishOrangeColor)}.card[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:5px 25px 5px 50px;transition:transform .1s linear,box-shadow .2s}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}.card-title[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:90%;height:auto;color:var(--mainWhiteColor);padding:.5rem;border-radius:5px 0 0 5px;transform:rotate(-3.3deg);transform-origin:left top;overflow:hidden;z-index:1;background-color:var(--titleBackground);animation:0s 0s _ngcontent-%COMP%_fly-in 0 reverse both;font-family:var(--titleFont)}@media (min-width: 535px){.card-title[_ngcontent-%COMP%]{animation:.5s .25s fly-out 1 both}}.card[_ngcontent-%COMP%]:focus   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{animation:.5s ease-in 0s _ngcontent-%COMP%_fly-in 1 both}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 5px -5px #0003}@keyframes _ngcontent-%COMP%_fly-in{0%{top:0;right:0;font-size:1.325rem}25%{top:0;right:-200%;font-size:1.325rem}26%{font-size:2rem}to{top:2rem;right:0;font-size:2rem}}@media (max-width: 460px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:80%}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;display:flex;flex-direction:column}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px}}"]})}return t})(),Dme=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-chefs"]],decls:1,vars:0,template:function(r,i){1&r&&M(0,"app-list-categories")},dependencies:[Ime]})}return t})(),Tme=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-waiters"]],decls:2,vars:0,template:function(r,i){1&r&&(g(0,"h1"),_(1,"waiters"),p())}})}return t})(),_7=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(x(Fi),x(tr))};static#t=this.\u0275dir=ie({type:t})}return t})(),va=(()=>{class t extends _7{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,features:[ke]})}return t})();const Ii=new j("NgValueAccessor"),Sme={provide:Ii,useExisting:je(()=>yT),multi:!0};let yT=(()=>{class t extends va{writeValue(n){this.setProperty("checked",n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&le("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Ze([Sme]),ke]})}return t})();const Mme={provide:Ii,useExisting:je(()=>no),multi:!0},Nme=new j("CompositionEventMode");let no=(()=>{class t extends _7{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xme(){const t=As()?As().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(x(Fi),x(tr),x(Nme,8))};static#t=this.\u0275dir=ie({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&le("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ze([Mme]),ke]})}return t})();function ro(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function v7(t){return null!=t&&"number"==typeof t.length}const mn=new j("NgValidators"),io=new j("NgAsyncValidators"),Rme=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ye{static min(e){return function E7(t){return e=>{if(ro(e.value)||ro(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function w7(t){return e=>{if(ro(e.value)||ro(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return b7(e)}static requiredTrue(e){return function C7(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function I7(t){return ro(t.value)||Rme.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function D7(t){return e=>ro(e.value)||!v7(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function T7(t){return e=>v7(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function A7(t){if(!t)return M0;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ro(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return k7(e)}static composeAsync(e){return P7(e)}}function b7(t){return ro(t.value)?{required:!0}:null}function M0(t){return null}function S7(t){return null!=t}function M7(t){return Rl(t)?St(t):t}function x7(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function N7(t,e){return e.map(n=>n(t))}function R7(t){return t.map(e=>function kme(t){return!t.validate}(e)?e:n=>e.validate(n))}function k7(t){if(!t)return null;const e=t.filter(S7);return 0==e.length?null:function(n){return x7(N7(n,e))}}function _T(t){return null!=t?k7(R7(t)):null}function P7(t){if(!t)return null;const e=t.filter(S7);return 0==e.length?null:function(n){return function Ame(...t){const e=xA(t),{args:n,keys:r}=yP(t),i=new Ve(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;qn(n[l]).subscribe(vt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?vP(r,a):a),s.complete())}))}});return e?i.pipe(_P(e)):i}(N7(n,e).map(M7)).pipe(Ae(x7))}}function vT(t){return null!=t?P7(R7(t)):null}function O7(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function F7(t){return t._rawValidators}function L7(t){return t._rawAsyncValidators}function ET(t){return t?Array.isArray(t)?t:[t]:[]}function x0(t,e){return Array.isArray(t)?t.includes(e):t===e}function V7(t,e){const n=ET(e);return ET(t).forEach(i=>{x0(n,i)||n.push(i)}),n}function B7(t,e){return ET(e).filter(n=>!x0(t,n))}class U7{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_T(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Rn extends U7{get formDirective(){return null}get path(){return null}}class so extends U7{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class j7{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rc=(()=>{class t extends j7{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(x(so,2))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&vp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ke]})}return t})(),kc=(()=>{class t extends j7{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(x(Rn,10))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&vp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ke]})}return t})();const Fh="VALID",R0="INVALID",Pc="PENDING",Lh="DISABLED";function CT(t){return(k0(t)?t.validators:t)||null}function IT(t,e){return(k0(e)?e.asyncValidators:t)||null}function k0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function H7(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")}function G7(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new A(1002,"")})}class P0{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fh}get invalid(){return this.status===R0}get pending(){return this.status==Pc}get disabled(){return this.status===Lh}get enabled(){return this.status!==Lh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(V7(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(V7(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(B7(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(B7(e,this._rawAsyncValidators))}hasValidator(e){return x0(this._rawValidators,e)}hasAsyncValidator(e){return x0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Lh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Fh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fh||this.status===Pc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lh:Fh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pc,this._hasOwnPendingAsyncValidator=!0;const n=M7(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?Lh:this.errors?R0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pc)?Pc:this._anyControlsHaveStatus(R0)?R0:Fh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){k0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Lme(t){return Array.isArray(t)?_T(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Vme(t){return Array.isArray(t)?vT(t):t||null}(this._rawAsyncValidators)}}class Vh extends P0{constructor(e,n,r){super(CT(n),IT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){G7(this,0,e),Object.keys(e).forEach(r=>{H7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class z7 extends Vh{}const Oc=new j("CallSetDisabledState",{providedIn:"root",factory:()=>O0}),O0="always";function F0(t,e){return[...e.path,t]}function Bh(t,e,n=O0){DT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Ume(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&q7(t,e)})}(t,e),function $me(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function jme(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&q7(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Bme(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function L0(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),B0(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function V0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function DT(t,e){const n=F7(t);null!==e.validator?t.setValidators(O7(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=L7(t);null!==e.asyncValidator?t.setAsyncValidators(O7(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();V0(e._rawValidators,i),V0(e._rawAsyncValidators,i)}function B0(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=F7(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=L7(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return V0(e._rawValidators,r),V0(e._rawAsyncValidators,r),n}function q7(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Q7(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Y7(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const jh=class extends P0{constructor(e=null,n,r){super(CT(n),IT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Y7(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Q7(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Q7(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Y7(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let X7=(()=>{class t extends Rn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return F0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,features:[ke]})}return t})(),Fc=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ie({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Xme={provide:Ii,useExisting:je(()=>Lc),multi:!0};let Lc=(()=>{class t extends va{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&le("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ze([Xme]),ke]})}return t})(),tB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({})}return t})();const xT=new j("NgModelWithFormControlWarning"),n0e={provide:Rn,useExisting:je(()=>oo)};let oo=(()=>{class t extends Rn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(B0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Bh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){L0(n.control||null,n,!1),function qme(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function K7(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(L0(r||null,n),(t=>t instanceof jh)(i)&&(Bh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function W7(t,e){DT(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Hme(t,e){return B0(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DT(this.form,this),this._oldForm&&B0(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(x(mn,10),x(io,10),x(Oc,8))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&le("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ze([n0e]),ke,vr]})}return t})();const r0e={provide:Rn,useExisting:je(()=>Vc)};let Vc=(()=>{class t extends X7{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){sB(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(x(Rn,13),x(mn,10),x(io,10))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Ze([r0e]),ke]})}return t})();const i0e={provide:Rn,useExisting:je(()=>Bc)};let Bc=(()=>{class t extends Rn{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return F0(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){sB(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(x(Rn,13),x(mn,10),x(io,10))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Ze([i0e]),ke]})}return t})();function sB(t){return!(t instanceof Vc||t instanceof oo||t instanceof Bc)}const s0e={provide:so,useExisting:je(()=>Ea)};let Ea=(()=>{class t extends so{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new nt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ST(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===no?n=s:function zme(t){return Object.getPrototypeOf(t.constructor)===va}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function AT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return F0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(x(Rn,13),x(mn,10),x(io,10),x(Ii,10),x(xT,8))};static#n=this.\u0275dir=ie({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ze([s0e]),ke,vr]})}return t})();const o0e={provide:Ii,useExisting:je(()=>Uc),multi:!0};function oB(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Uc=(()=>{class t extends va{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=oB(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function a0e(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&le("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ze([o0e]),ke]})}return t})(),U0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(oB(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(x(tr),x(Fi),x(Uc,9))};static#t=this.\u0275dir=ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const u0e={provide:Ii,useExisting:je(()=>NT),multi:!0};function aB(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let NT=(()=>{class t extends va{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function c0e(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&le("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ze([u0e]),ke]})}return t})(),j0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(aB(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(aB(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(x(tr),x(Fi),x(NT,9))};static#t=this.\u0275dir=ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),wa=(()=>{class t{constructor(){this._validator=M0}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):M0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ie({type:t,features:[vr]})}return t})();const h0e={provide:mn,useExisting:je(()=>$0),multi:!0};let $0=(()=>{class t extends wa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Iu,this.createValidator=n=>b7}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ii("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ze([h0e]),ke]})}return t})(),_0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({imports:[tB]})}return t})();class yB extends P0{constructor(e,n,r){super(CT(n),IT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){G7(this,0,e),e.forEach((r,i)=>{H7(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function _B(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let $h=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return _B(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Vh(i,s)}record(n,r=null){const i=this._reduceControls(n);return new z7(i,r)}control(n,r,i){let s={};return this.useNonNullable?(_B(r)?s=r:(s.validators=r,s.asyncValidators=i),new jh(n,{...s,nonNullable:!0})):new jh(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new yB(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof jh||n instanceof P0?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vB=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xT,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Oc,useValue:n.callSetDisabledState??O0}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({imports:[_0e]})}return t})(),RT=(()=>{class t{constructor(){this.cloudName="dsla98vyk",this.uploadPreset="chefs_talks",this.imageUploaded=new nt}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:3,vars:0,consts:[["id","upload_widget",1,"cloudinary-button","button",3,"click"]],template:function(r,i){1&r&&(g(0,"div")(1,"button",0),le("click",function(){return i.openWidget()}),_(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430 "),p()())},styles:[".cloudinary-button[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);color:var(--mainWhiteColor);text-decoration:none;font-size:16px;line-height:28px;height:28x;cursor:pointer;font-weight:400;display:inline-block;border-radius:4px;padding:10px 14px}.cloudinary-button[_ngcontent-%COMP%]:hover{background-color:var(--secondGreenColor)}"]})}return t})();function v0e(t,e){if(1&t){const n=si();g(0,"div")(1,"p",6),_(2,"\u0412\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430"),p(),M(3,"input",16),g(4,"button",17),le("click",function(){return Yn(n),Xn(G().removeImage())}),_(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),p()()}}function E0e(t,e){1&t&&(g(0,"div",19),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),p())}function w0e(t,e){if(1&t&&(g(0,"div"),k(1,E0e,2,0,"div",18),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.categoryForm.get("name"))||null==r.errors?null:r.errors.required)}}function b0e(t,e){1&t&&(g(0,"div",19),_(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u044e! "),p())}function C0e(t,e){if(1&t&&(g(0,"div"),k(1,b0e,2,0,"div",18),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.categoryForm.get("menu"))||null==r.errors?null:r.errors.required)}}let I0e=(()=>{class t{constructor(n,r){this.fb=n,this.firestore=r,this.categoryForm=this.fb.group({name:["",[ye.required]],is_active:[!1],menu:["",[ye.required]],order_index:[0],note:[""],image:[""]})}onSubmit(){this.categoryForm.valid?(this.addCategory(this.categoryForm.value),this.categoryForm.reset()):console.log(this.categoryForm.errors)}removeImage(){this.categoryForm.get("image")?.setValue("")}addImageToForm(n){this.categoryForm.get("image")?.setValue(n)}get image(){return this.categoryForm.get("image")}addCategory(n){S0(qr(this.firestore,"Category"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(x($h),x(zn))};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-category-form"]],decls:39,vars:4,consts:[[1,"mainLong"],[1,"title"],[3,"formGroup","ngSubmit"],[3,"imageUploaded"],[4,"ngIf"],["type","checkbox","formControlName","is_active"],[1,"hint"],["type","text","formControlName","name","required",""],["for","menu"],["id","menu","formControlName","menu"],["value","\u041e\u0441\u043d\u043e\u0432\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0437\u043e\u043d\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0422\u0435\u0441\u0442\u043e\u0432\u043e \u041c\u0435\u043d\u044e"],["formControlName","note"],["type","number","formControlName","order_index"],["type","submit"],["type","text","id","image","formControlName","image"],["type","button",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(g(0,"div",0)(1,"h1",1),_(2,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),p(),g(3,"form",2),le("ngSubmit",function(){return i.onSubmit()}),g(4,"app-image-upload",3),le("imageUploaded",function(o){return i.addImageToForm(o)}),p(),k(5,v0e,6,0,"div",4),g(6,"label"),_(7," \u0410\u043a\u0442\u0438\u0432\u043d\u0430 \u043b\u0438 \u0435 \u043a\u0430\u0442\u0435\u0433\u0440\u0438\u044f? "),M(8,"input",5),g(9,"p",6),_(10,"\u0429\u0435 \u0431\u044a\u0434\u0435 \u043b\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430 \u0432\u0438\u0434\u0438\u043c\u0430 \u0432\u044a\u0432 \u0441\u0430\u0439\u0442\u0430?"),p()(),g(11,"label"),_(12," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),M(13,"input",7),p(),k(14,w0e,2,1,"div",4),g(15,"label",8),_(16,"\u041c\u0435\u043d\u044e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(17,"p",6),_(18,"\u041a\u044a\u043c \u043a\u043e\u0435 \u043c\u0435\u043d\u044e \u0441\u043f\u0430\u0434\u0430 \u0442\u0430\u0437\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f?"),p(),g(19,"select",9)(20,"option",10),_(21,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e"),p(),g(22,"option",11),_(23,"\u0421\u0435\u0437\u043e\u043d\u043d\u043e"),p(),g(24,"option",12),_(25,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e"),p()(),k(26,C0e,2,1,"div",4),g(27,"label"),_(28," \u0411\u0435\u043b\u0435\u0436\u043a\u0430: "),g(29,"p",6),_(30,"\u041d\u044f\u043a\u043e\u043b\u043a\u043e \u0434\u0443\u043c\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),p(),M(31,"textarea",13),p(),g(32,"label"),_(33," \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),g(34,"p",6),_(35,"\u0420\u0435\u0434 \u043d\u0430 \u043f\u043e\u0434\u0440\u0435\u0434\u0431\u0430 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\u0442\u0435"),p(),M(36,"input",14),p(),g(37,"button",15),_(38,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),p()()()),2&r){let s,o,a;b(3),I("formGroup",i.categoryForm),b(2),I("ngIf",""!==(null==(s=i.categoryForm.get("image"))?null:s.value)),b(9),I("ngIf",null==(o=i.categoryForm.get("name"))?null:o.touched),b(12),I("ngIf",null==(a=i.categoryForm.get("menu"))?null:a.touched)}},dependencies:[qi,Fc,U0,j0,no,Lc,yT,Uc,Rc,kc,$0,oo,Ea,RT]})}return t})();const D0e=function(t){return["/recipe",t]};function T0e(t,e){if(1&t&&(g(0,"div")(1,"a",6)(2,"div",7)(3,"div",8),M(4,"img",9),p(),g(5,"p",10),_(6),p()()()()),2&t){const n=e.$implicit;b(1),I("routerLink",Ao(4,D0e,n.id)),b(3),Iv("alt",n.title),I("src",n.image_recipe,eu),b(2),Et(n.title)}}let A0e=(()=>{class t{constructor(n,r){this.route=n,this.router=r,this.recipes=[],this.category=null,this.firestore=H(zn)}ngOnInit(){var n=this;this.route.params.subscribe(function(){var r=E(function*(i){const s=i.id,a=qr(n.firestore,"Recipe"),u=Nc(n.firestore,"Category",s),c=yield Oh(u);c.exists()&&(n.category=c.data());const l=g7(a,m7("category","==",s));_a(l).then(d=>{const h=[];d.forEach(f=>{const m=f.data();h.push({title:m.title,image_recipe:m.image_recipe[0]?m.image_recipe[0].image_recipe:null,order_index:m.order_index,id:f.id})}),n.recipes=h.sort((f,m)=>Number(f.order_index)-Number(m.order_index))}).catch(d=>{console.error("Error retrieving recipes: ",d)})});return function(i){return r.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||t)(x(li),x(An))};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-category"]],decls:8,vars:3,consts:[[1,"mainLong"],[1,"category"],[1,"category-title"],[1,"category-subtitle"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"h1",2),_(3),p(),g(4,"h4",3),_(5),p(),g(6,"div",4),k(7,T0e,7,6,"div",5),p()()()),2&r&&(b(3),We(" ",null==i.category?null:i.category.name," "),b(2),We(" ",null==i.category?null:i.category.note," "),b(2),I("ngForOf",i.recipes))},dependencies:[zi,Qi],styles:[".category[_ngcontent-%COMP%]{padding:20px;width:1200px;margin:0 auto}.category-title[_ngcontent-%COMP%]{text-align:center;font-family:var(--titleFont)}.category-subtitle[_ngcontent-%COMP%]{font-style:italic;text-align:center;font-weight:200;margin-bottom:20px}.recipe-list[_ngcontent-%COMP%]{position:relative;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{border:1px solid var(--mainWhiteColor);margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--grayishOrangeColor);color:var(--mainBlackColor);font-weight:600;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:capitalize;top:70%;height:30%;font-family:var(--titleFont);display:flex;align-items:center;justify-content:center}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(.95);transition:1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:2%;height:20%;color:var(--mainWhiteColor);background:var(--mainGreenColor);font-size:14px;transition:1s ease-in-out}@media (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})(),Hh=(()=>{class t{constructor(n){this.firestore=n}getBaseRecipe(){const r=qr(this.firestore,"BaseRecipe");return new Ve(i=>{_a(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseById(n){var r=this;return E(function*(){const i=Nc(r.firestore,"BaseRecipe",n),s=yield Oh(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(B(zn))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function S0e(t,e){1&t&&(g(0,"div",44),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),p())}function M0e(t,e){if(1&t&&(g(0,"div"),k(1,S0e,2,0,"div",43),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function x0e(t,e){if(1&t&&(g(0,"option",45),_(1),p()),2&t){const n=e.$implicit;I("value",n.id),b(1),We(" ",n.name," ")}}function N0e(t,e){1&t&&(g(0,"div",44),_(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),p())}function R0e(t,e){if(1&t&&(g(0,"div"),k(1,N0e,2,0,"div",43),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.recipeForm.get("category"))||null==r.errors?null:r.errors.required)}}function k0e(t,e){1&t&&(g(0,"div",44),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),p())}function P0e(t,e){if(1&t&&(g(0,"div"),k(1,k0e,2,0,"div",43),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function O0e(t,e){1&t&&(g(0,"div",44),_(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0435\u0437\u043e\u043d! "),p())}function F0e(t,e){if(1&t&&(g(0,"div"),k(1,O0e,2,0,"div",43),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.recipeForm.get("season"))||null==r.errors?null:r.errors.required)}}function L0e(t,e){1&t&&(g(0,"div",44),_(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),p())}function V0e(t,e){if(1&t&&(g(0,"div"),k(1,L0e,2,0,"div",43),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.recipeForm.get("unit"))||null==r.errors?null:r.errors.required)}}function B0e(t,e){if(1&t&&(g(0,"option",45),_(1),p()),2&t){const n=e.$implicit;I("value",n.id),b(1),We(" ",n.name," ")}}function U0e(t,e){1&t&&(g(0,"p",6),_(1," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438: "),p())}function j0e(t,e){if(1&t){const n=si();g(0,"div",46)(1,"p",6),_(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),p(),M(3,"input",47),g(4,"button",31),le("click",function(){const s=Yn(n).index;return Xn(G().removeImage(s))}),_(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),p()()}2&t&&I("formGroupName",e.index)}function $0e(t,e){if(1&t){const n=si();g(0,"div",46)(1,"p",6),_(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),p(),M(3,"input",48),g(4,"button",31),le("click",function(){const s=Yn(n).index;return Xn(G().removeVideo(s))}),_(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),p()()}2&t&&I("formGroupName",e.index)}function H0e(t,e){if(1&t){const n=si();g(0,"div",46)(1,"p",6),_(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),p(),M(3,"input",49),g(4,"button",31),le("click",function(){const s=Yn(n).index;return Xn(G().removePreparation(s))}),_(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),p()()}2&t&&I("formGroupName",e.index)}function G0e(t,e){if(1&t&&(g(0,"option",45),_(1),p()),2&t){const n=e.$implicit;I("value",n.id),b(1),We(" ",n.name," ")}}function z0e(t,e){1&t&&(g(0,"div",44),_(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0447\u0438\u043d\u0438\u044f! "),p())}function q0e(t,e){if(1&t&&(g(0,"div"),k(1,z0e,2,0,"div",43),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.recipeForm.get("food_plate"))||null==r.errors?null:r.errors.required)}}function W0e(t,e){1&t&&(g(0,"div",44),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),p())}function K0e(t,e){if(1&t&&(g(0,"div"),k(1,W0e,2,0,"div",43),p()),2&t){const n=G().index,r=G();let i;b(1),I("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function Q0e(t,e){1&t&&(g(0,"div",44),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),p())}function Y0e(t,e){if(1&t&&(g(0,"div"),k(1,Q0e,2,0,"div",43),p()),2&t){const n=G().index,r=G();let i;b(1),I("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function X0e(t,e){1&t&&(g(0,"div",44),_(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),p())}function J0e(t,e){if(1&t&&(g(0,"div"),k(1,X0e,2,0,"div",43),p()),2&t){const n=G().index,r=G();let i;b(1),I("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function Z0e(t,e){if(1&t&&(g(0,"option",45),_(1),p()),2&t){const n=e.$implicit;I("value",n.id),b(1),We(" ",n.title," ")}}function eye(t,e){if(1&t&&(g(0,"div",46)(1,"div",50),M(2,"hr"),g(3,"p"),_(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),p(),M(5,"hr"),p(),g(6,"label",51),_(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),M(8,"input",52),k(9,K0e,2,1,"div",4),g(10,"label",53),_(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),M(12,"input",54),k(13,Y0e,2,1,"div",4),g(14,"label",23),_(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(16,"p",6),_(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),p(),g(18,"select",24)(19,"option",25),_(20,"\u0413\u0440\u0430\u043c"),p(),g(21,"option",26),_(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),p(),g(23,"option",27),_(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),p(),g(25,"option",28),_(26,"\u041b\u0438\u0442\u044a\u0440"),p()(),k(27,J0e,2,1,"div",4),g(28,"label",55),_(29,"\u0411\u0440\u043e\u0439\u043a\u0430: "),p(),g(30,"p",6),_(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),p(),M(32,"input",56),g(33,"label",57),_(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),p(),g(35,"p",6),_(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),M(37,"br"),_(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),p(),M(39,"input",49),g(40,"label",58),_(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),p(),g(42,"p",6),_(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0447\u0430\u0441\u0442 \u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),p(),g(44,"select",59),k(45,Z0e,2,2,"option",8),p(),g(46,"label",40),_(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),p(),g(48,"p",6),_(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),p(),M(50,"input",41),p()),2&t){const n=e.index,r=G();let i,s,o;I("formGroupName",n),b(9),I("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))?null:i.touched),b(4),I("ngIf",null==(s=r.recipeForm.get("ingredients."+n+".amount"))?null:s.touched),b(14),I("ngIf",null==(o=r.recipeForm.get("ingredients."+n+".unit"))?null:o.touched),b(18),I("ngForOf",r.baseRecipes)}}let tye=(()=>{class t{constructor(n,r,i,s){this.fb=r,this.baseRecipeService=i,this.categoriesService=s,this.allergens=[],this.plates=[],this.baseRecipes=[],this.categories=[],this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({title:["",[ye.required]],category:this.fb.control([null,[ye.required]]),description:["",[ye.required]],season:["",[ye.required]],unit:["",[ye.required]],summary:[""],release_time:[0],serving_value:[0],order_index:[0],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",food_plate:this.fb.control([null,[ye.required]]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[ye.required]],amount:[null,[ye.required]],base:this.fb.control(null),unit:["",[ye.required]],order_index:[0],preparation_method:[""],quantity:[0]})])}),this.getAllergens().subscribe(o=>{this.allergens=o}),this.getPlates().subscribe(o=>{this.plates=o})}ngOnInit(){this.getBaseRecipe(),this.getCategory()}addImage(){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addImageToForm(n){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[ye.required]],amount:[null,[ye.required]],base:this.fb.control(null),unit:["",[ye.required]],order_index:this.currentOrderIndex,preparation_method:[""],quantity:[0]})),this.currentOrderIndex++}addReferenceToSelectedAllergen(n){const r=n.target.value;this.recipeForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const n=this.recipeForm.get("selectedAllergen")?.value;this.recipeForm.get("allergens").push(this.fb.control(n));const i=this.recipeForm.get("selectedAllergenNames"),s=this.allergens.find(o=>o.id===n);s&&i?.setValue(i.value?i.value+", "+s.name:s.name)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.valid&&(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}getCategory(){this.categoriesService.getCategories().subscribe({next:n=>{this.categories=n},error:n=>{console.error("Error fetching recipes:",n)}})}getAllergens(){const r=qr(this.firestore,"Allergens");return new Ve(i=>{_a(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getPlates(){const r=qr(this.firestore,"Plates");return new Ve(i=>{_a(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n},error:n=>{console.error("Error fetching recipes:",n)}})}addRecipe(n){S0(qr(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(x(zn),x($h),x(Hh),x(y7))};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-recipe-form"]],decls:112,vars:16,consts:[[1,"mainLong"],[1,"title"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","category"],[1,"hint"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","selectedAllergen"],["formControlName","selectedAllergen"],["type","button",3,"click"],["class","hint",4,"ngIf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["for","base"],["id","base","formControlName","base"]],template:function(r,i){if(1&r&&(g(0,"div",0)(1,"h1",1),_(2,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p(),g(3,"form",2)(4,"label"),_(5," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),M(6,"input",3),p(),k(7,M0e,2,1,"div",4),g(8,"label",5),_(9,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(10,"p",6),_(11,"\u041a\u044a\u043c \u043a\u043e\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043f\u0440\u0435\u043d\u0430\u0434\u043b\u0435\u0436\u0438 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),p(),g(12,"select",7),k(13,x0e,2,2,"option",8),p(),k(14,R0e,2,1,"div",4),g(15,"div")(16,"label",9),_(17,"\u0420\u0435\u0437\u044e\u043c\u0435:"),p(),g(18,"p",6),_(19,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p(),M(20,"input",10),p(),g(21,"div")(22,"label",11),_(23,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),M(24,"textarea",12),p(),k(25,P0e,2,1,"div",4),g(26,"div")(27,"label",13),_(28,"\u0421\u0435\u0437\u043e\u043d (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(29,"p",6),_(30,"\u0412 \u043a\u043e\u0439 \u0441\u0435\u0437\u043e\u043d \u0449\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),p(),g(31,"select",14)(32,"option",15),_(33,"\u041f\u0440\u043e\u043b\u0435\u0442"),p(),g(34,"option",16),_(35,"\u041b\u044f\u0442\u043e"),p(),g(36,"option",17),_(37,"\u0415\u0441\u0435\u043d"),p(),g(38,"option",18),_(39,"\u0417\u0438\u043c\u0430"),p()()(),k(40,F0e,2,1,"div",4),g(41,"div")(42,"label",19),_(43,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435: "),p(),g(44,"p",6),_(45,"\u0417\u0430 \u043a\u043e\u043b\u043a\u043e \u0432\u0440\u0435\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),p(),M(46,"input",20),p(),g(47,"div")(48,"label",21),_(49,"\u0413\u043e\u0442\u043e\u0432\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: "),p(),g(50,"p",6),_(51,"\u041a\u043e\u043b\u043a\u043e \u0442\u0435\u0436\u0438 \u0433\u043e\u0442\u043e\u0432\u043e\u0442\u043e \u044f\u0441\u0442\u0438\u0435?"),p(),M(52,"input",22),p(),M(53,"br"),g(54,"label",23),_(55,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(56,"p",6),_(57,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),p(),g(58,"select",24)(59,"option",25),_(60,"\u0413\u0440\u0430\u043c"),p(),g(61,"option",26),_(62,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),p(),g(63,"option",27),_(64,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),p(),g(65,"option",28),_(66,"\u041b\u0438\u0442\u044a\u0440"),p()(),k(67,V0e,2,1,"div",4),g(68,"div")(69,"label",29),_(70,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),p(),g(71,"p",6),_(72,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0430\u043b\u0435\u0440\u0433\u0435\u043d\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0441\u0430\u0434\u044a\u0440\u0436\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p(),g(73,"select",30),k(74,B0e,2,2,"option",8),p(),g(75,"button",31),le("click",function(){return i.addSelectedAllergen()}),_(76," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u0430\u043b\u0435\u0440\u0433\u0435\u043d "),p()(),g(77,"div"),k(78,U0e,2,0,"p",32),g(79,"div"),_(80),p(),g(81,"app-image-upload",33),le("imageUploaded",function(o){return i.addImageToForm(o)}),p(),g(82,"div",34),k(83,j0e,6,1,"div",35),p(),g(84,"div",36),k(85,$0e,6,1,"div",35),g(86,"button",31),le("click",function(){return i.addVideo()}),_(87," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),p()(),g(88,"div",37),k(89,H0e,6,1,"div",35),g(90,"button",31),le("click",function(){return i.addPreparation()}),_(91," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),p()(),g(92,"label",38),_(93,"\u0427\u0438\u043d\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(94,"p",6),_(95,"\u0412 \u043a\u043e\u044f \u0447\u0438\u043d\u0438\u044f \u0449\u0435 \u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0440\u0430 \u044f\u0441\u0442\u0438\u0435\u0442\u043e?"),p(),g(96,"select",39),k(97,G0e,2,2,"option",8),p(),k(98,q0e,2,1,"div",4),g(99,"div")(100,"label",40),_(101,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),p(),g(102,"p",6),_(103,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u0438\u0442\u0435 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),p(),M(104,"input",41),p()(),g(105,"div",42),k(106,eye,51,5,"div",35),p(),M(107,"br"),g(108,"button",31),le("click",function(){return i.addIngredient()}),_(109," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),p(),g(110,"button",31),le("click",function(){return i.onSubmit()}),_(111,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p()()()),2&r){let s,o,a,u,c,l,d,h;b(3),I("formGroup",i.recipeForm),b(4),I("ngIf",null==(s=i.recipeForm.get("title"))?null:s.touched),b(6),I("ngForOf",i.categories),b(1),I("ngIf",null==(o=i.recipeForm.get("category"))?null:o.touched),b(11),I("ngIf",null==(a=i.recipeForm.get("description"))?null:a.touched),b(15),I("ngIf",null==(u=i.recipeForm.get("season"))?null:u.touched),b(27),I("ngIf",null==(c=i.recipeForm.get("unit"))?null:c.touched),b(7),I("ngForOf",i.allergens),b(4),I("ngIf",null==(l=i.recipeForm.get("selectedAllergen"))?null:l.touched),b(2),Et(null==(d=i.recipeForm.get("selectedAllergenNames"))?null:d.value),b(3),I("ngForOf",i.image_recipe.controls),b(2),I("ngForOf",i.video_recipe.controls),b(4),I("ngForOf",i.preparation_method.controls),b(8),I("ngForOf",i.plates),b(1),I("ngIf",null==(h=i.recipeForm.get("food_plate"))?null:h.touched),b(8),I("ngForOf",i.ingredients.controls)}},dependencies:[zi,qi,Fc,U0,j0,no,Lc,Uc,Rc,kc,oo,Ea,Vc,Bc,RT]})}return t})(),nye=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return E(function*(){const i=Nc(r.firestore,"Recipe",n),s=yield Oh(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(B(zn))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EB=(()=>{class t{constructor(n){this.firestore=n,this.commentAddedSubject=new pr}getCommentsForRecipe(n){var r=this;return E(function*(){try{const i=qr(r.firestore,"Comments"),s=g7(i,m7("recipeId","==",n)),o=yield _a(s),a=[];return o.forEach(u=>{const c=u.data();a.push({create_time:c.create_time,name:c.name,recipeId:c.recipeId,text:c.text})}),a.sort((u,c)=>{const l=u.create_time.toDate();return c.create_time.toDate()-l}),a}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(n){var r=this;return E(function*(){try{n.name||(n.name="\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d");const i="Comments",s=yield S0(qr(r.firestore,i),n);return r.commentAddedSubject.next(),s.id}catch(i){return console.error("Error adding comment:",i),null}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||t)(B(zn))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rye(t,e){1&t&&(g(0,"div",12),_(1," \u041c\u043e\u043b\u044f \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440! "),p())}function iye(t,e){if(1&t&&(g(0,"div"),k(1,rye,2,0,"div",11),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let sye=(()=>{class t{constructor(n,r,i){this.fb=n,this.commentService=i,this.timestamp=new Date,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",ye.required],recipeId:[this.recipeId],create_time:[this.timestamp]})}onSubmit(){var n=this;return E(function*(){if(n.timestamp=new Date,n.commentForm.valid){n.commentForm.patchValue({recipeId:n.recipeId}),n.commentForm.patchValue({create_time:n.timestamp});try{(yield n.commentService.addComment(n.commentForm.value))?(alert("\u0412\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"),n.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(x($h),x(zn),x(EB))};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:20,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","name"],[1,"hint"],["type","text","id","name","formControlName","name",1,"form-control"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(g(0,"div",0)(1,"form",1),le("ngSubmit",function(){return i.onSubmit()}),g(2,"div",2),M(3,"hr"),g(4,"p"),_(5,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0439\u0442\u0435\xa0\xa0"),p(),M(6,"hr"),p(),g(7,"div",3)(8,"label",4),_(9,"\u0418\u043c\u0435:"),p(),g(10,"p",5),_(11,'\u0410\u043a\u043e \u043d\u0435 \u043f\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u0435 \u0449\u0435 \u0441\u0442\u0435 "\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d"'),p(),M(12,"input",6),p(),g(13,"div",3)(14,"label",7),_(15,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),M(16,"textarea",8),p(),k(17,iye,2,1,"div",9),g(18,"button",10),_(19,"\u041f\u0443\u0431\u043b\u0438\u043a\u0443\u0432\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"),p()()()),2&r){let s;b(1),I("formGroup",i.commentForm),b(16),I("ngIf",null==(s=i.commentForm.get("text"))?null:s.touched)}},dependencies:[qi,Fc,no,Rc,kc,oo,Ea],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--grayishOrangeColor);max-width:100%;border:unset}"]})}return t})(),wB=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){let r;if(n.startsWith("https://m."))r=new URLSearchParams(n.split("?")[1]).get("v")||"";else{const s=n.split("/");r=s[s.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||t)(x(pP,16))};static#t=this.\u0275pipe=_n({name:"safeUrl",type:t,pure:!0})}return t})();function oye(t,e){if(1&t&&(g(0,"div",21),_(1),p()),2&t){const n=G();b(1),We(" ",null==n.recipe?null:n.recipe.summary," ")}}function aye(t,e){if(1&t&&(g(0,"li"),M(1,"img",24),p()),2&t){const n=e.$implicit;b(1),I("src",n.image_recipe,eu)}}function uye(t,e){if(1&t&&(g(0,"ul",22),k(1,aye,2,1,"li",23),p()),2&t){const n=G();b(1),I("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}function cye(t,e){if(1&t&&(g(0,"span",11),_(1),p()),2&t){const n=G(2);b(1),We("\xa0",null==n.recipe?null:n.recipe.unit,"")}}function lye(t,e){if(1&t&&(g(0,"tr")(1,"td")(2,"span",10),_(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),p()(),g(4,"td")(5,"span",11),_(6),k(7,cye,2,1,"span",25),p()()()),2&t){const n=G();b(6),We("",null==n.recipe?null:n.recipe.serving_value," "),b(1),I("ngIf",null==n.recipe?null:n.recipe.unit)}}function dye(t,e){if(1&t&&(g(0,"tr")(1,"td")(2,"span",10),_(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),p()(),g(4,"td")(5,"span",11),_(6),p()()()),2&t){const n=G();b(6),We("",null==n.recipe?null:n.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function hye(t,e){if(1&t&&(g(0,"tr")(1,"td")(2,"span",10),_(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),p()(),g(4,"td")(5,"span",11),_(6),p()()()),2&t){const n=G();b(6),Et(null==n.recipe?null:n.recipe.selectedAllergenNames)}}function fye(t,e){1&t&&(g(0,"div",13),M(1,"hr"),g(2,"p"),_(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),p(),M(4,"hr"),p())}function pye(t,e){if(1&t&&(g(0,"span"),_(1),p()),2&t){const n=G(2).$implicit;b(1),We("(",n.quantity," \u0431\u0440.)")}}const gye=function(t){return["/base",t]};function mye(t,e){if(1&t&&(g(0,"span",11)(1,"a",5),_(2," \xa0\xa0"),M(3,"i",28),_(4," \xa0\xa0"),M(5,"i",29),_(6," \xa0\xa0"),M(7,"i",30),p()()),2&t){const n=G(2).$implicit;b(1),I("routerLink",Ao(1,gye,n.base))}}function yye(t,e){if(1&t&&(g(0,"span",10)(1,"i"),_(2),p()()),2&t){const n=G(2).$implicit;b(2),We(" ",n.preparation_method,"")}}function _ye(t,e){if(1&t&&(g(0,"li"),_(1),k(2,pye,2,1,"span",12),k(3,mye,8,3,"span",25),M(4,"br"),k(5,yye,3,1,"span",27),p()),2&t){const n=G().$implicit;b(1),wp(" ",n.name," - ",n.amount," ",n.unit," "),b(1),I("ngIf",n.quantity),b(1),I("ngIf",n.base),b(2),I("ngIf",n.preparation_method)}}function vye(t,e){if(1&t&&(g(0,"ul",26),k(1,_ye,6,6,"li",12),p()),2&t){const n=G();b(1),I("ngIf",null==n.recipe?null:n.recipe.ingredients)}}function Eye(t,e){1&t&&(g(0,"div",13),M(1,"hr"),g(2,"p"),_(3,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),p(),M(4,"hr"),p())}function wye(t,e){if(1&t&&(g(0,"ul",31)(1,"li"),_(2),p()()),2&t){const n=e.$implicit;b(2),Et(n.preparation_method)}}function bye(t,e){if(1&t&&(g(0,"li"),M(1,"iframe",33),Tp(2,"safeUrl"),p()),2&t){const n=e.$implicit;b(1),I("src",Uv(2,1,n.video_recipe),Qf)}}function Cye(t,e){if(1&t&&(g(0,"div",32)(1,"div",13),M(2,"hr"),g(3,"p"),_(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),p(),M(5,"hr"),p(),M(6,"br"),g(7,"ul"),k(8,bye,3,3,"li",23),p()()),2&t){const n=G();b(8),I("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}function Iye(t,e){if(1&t&&(g(0,"div"),M(1,"app-comment-form",34),p()),2&t){const n=G();b(1),I("recipeId",n.recipeId)}}function Dye(t,e){1&t&&(g(0,"div",13),M(1,"hr"),g(2,"p"),_(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),p(),M(4,"hr"),p())}function Tye(t,e){if(1&t&&(g(0,"ul")(1,"li"),_(2),p(),g(3,"li"),_(4),p(),g(5,"p"),_(6),Tp(7,"date"),p()()),2&t){const n=e.$implicit;b(2),Et(n.name),b(2),Et(n.text),b(2),We(" ",uR(7,3,n.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function Aye(t,e){if(1&t&&(g(0,"section",35),k(1,Tye,8,6,"ul",23),p()),2&t){const n=G();b(1),I("ngForOf",n.comments)}}const Sye=function(t){return["/category",t]};let Mye=(()=>{class t{constructor(n,r,i,s){var o=this;this.route=n,this.recipeService=r,this.firestore=i,this.commentService=s,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var a=E(function*(u){const c=u.get("id");if(o.recipeId=c,c)try{o.recipe=yield o.recipeService.getRecipeById(c),o.comments=yield s.getCommentsForRecipe(c),o.recipe?yield o.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(l){console.error("An error occurred while retrieving the recipe:",l)}else console.error("Recipe ID not provided.")});return function(u){return a.apply(this,arguments)}}()),s.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var n=this;return E(function*(){n.recipeId&&(n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId))})()}loadCategoryAndPlateData(){var n=this;return E(function*(){const r=n.recipe?.food_plate,i=n.recipe?.category;if(r){const s=Nc(n.firestore,"Plates/"+r),o=yield Oh(s);o.exists()&&(n.plate=o.data())}if(i){const s=Nc(n.firestore,"Category/"+i),o=yield Oh(s);o.exists()&&(n.category=o.data())}})()}static#e=this.\u0275fac=function(r){return new(r||t)(x(li),x(nye),x(zn),x(EB))};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-recipe"]],decls:50,vars:21,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],[4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],[3,"click"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"recipeId"],[1,"comments"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"h1",2),_(3),p(),k(4,oye,2,1,"div",3),g(5,"div",4)(6,"a",5),M(7,"i",6),_(8),p()(),g(9,"div",7),k(10,uye,2,1,"ul",8),g(11,"table",9)(12,"tr")(13,"td")(14,"span",10),_(15,"\u0421\u0435\u0437\u043e\u043d"),p()(),g(16,"td")(17,"span",11),_(18),p()()(),k(19,lye,8,2,"tr",12),k(20,dye,7,1,"tr",12),g(21,"tr")(22,"td")(23,"span",10),_(24,"\u0427\u0438\u043d\u0438\u044f"),p()(),g(25,"td")(26,"span",11),_(27),p()()(),k(28,hye,7,1,"tr",12),p(),g(29,"div",13),M(30,"hr"),g(31,"p"),_(32,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),p(),M(33,"hr"),p(),M(34,"br"),g(35,"p",14),_(36),p(),M(37,"br"),k(38,fye,5,0,"div",15),M(39,"br"),k(40,vye,2,1,"ul",16),k(41,Eye,5,0,"div",15),M(42,"br"),k(43,wye,3,1,"ul",17),k(44,Cye,9,1,"div",18),g(45,"button",19),le("click",function(){return i.toggleCommentForm()}),_(46,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),p(),k(47,Iye,2,1,"div",12),k(48,Dye,5,0,"div",15),k(49,Aye,2,1,"section",20),p()()()),2&r&&(b(3),Et(null==i.recipe?null:i.recipe.title),b(1),I("ngIf",null==i.recipe?null:i.recipe.summary),b(2),I("routerLink",Ao(19,Sye,null==i.recipe?null:i.recipe.category)),b(2),We(" ",null==i.category?null:i.category.name," "),b(2),I("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),b(8),Et(null==i.recipe?null:i.recipe.season),b(1),I("ngIf",null==i.recipe?null:i.recipe.serving_value),b(1),I("ngIf",null==i.recipe?null:i.recipe.release_time),b(7),Et(null==i.plate?null:i.plate.name),b(1),I("ngIf",null==i.recipe?null:i.recipe.selectedAllergenNames),b(8),We(" ",null==i.recipe?null:i.recipe.description," "),b(2),I("ngIf",null==i.recipe?null:i.recipe.ingredients),b(2),I("ngForOf",null==i.recipe?null:i.recipe.ingredients),b(1),I("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),b(2),I("ngForOf",null==i.recipe?null:i.recipe.preparation_method),b(1),I("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),b(3),I("ngIf",i.showCommentForm),b(1),I("ngIf",i.comments.length>0),b(1),I("ngIf",i.comments.length>0))},dependencies:[zi,qi,Qi,sye,Hk,wB],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainGreenColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondGreenColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainGreenColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondGreenColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainGrayColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--darkGrayColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--grayishOrangeColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainGrayColor);font-style:italic;border-radius:5px}"]})}return t})();function xye(t,e){1&t&&(g(0,"div",34),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),p())}function Nye(t,e){if(1&t&&(g(0,"div"),k(1,xye,2,0,"div",33),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.baseForm.get("title"))||null==r.errors?null:r.errors.required)}}function Rye(t,e){1&t&&(g(0,"div",34),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),p())}function kye(t,e){if(1&t&&(g(0,"div"),k(1,Rye,2,0,"div",33),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.baseForm.get("base_type"))||null==r.errors?null:r.errors.required)}}function Pye(t,e){1&t&&(g(0,"div",34),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),p())}function Oye(t,e){if(1&t&&(g(0,"div"),k(1,Pye,2,0,"div",33),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.baseForm.get("description"))||null==r.errors?null:r.errors.required)}}function Fye(t,e){1&t&&(g(0,"div",34),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),p())}function Lye(t,e){if(1&t&&(g(0,"div"),k(1,Fye,2,0,"div",33),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.baseForm.get("base_yield"))||null==r.errors?null:r.errors.required)}}function Vye(t,e){1&t&&(g(0,"div",34),_(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),p())}function Bye(t,e){if(1&t&&(g(0,"div"),k(1,Vye,2,0,"div",33),p()),2&t){const n=G();let r;b(1),I("ngIf",null==(r=n.baseForm.get("unit"))||null==r.errors?null:r.errors.required)}}function Uye(t,e){if(1&t&&(g(0,"option",35),_(1),p()),2&t){const n=e.$implicit;I("value",n.id),b(1),We(" ",n.name," ")}}function jye(t,e){1&t&&(g(0,"p",6),_(1," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438: "),p())}function $ye(t,e){if(1&t){const n=si();g(0,"div",36)(1,"p",6),_(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),p(),M(3,"input",37),g(4,"button",25),le("click",function(){const s=Yn(n).index;return Xn(G().removeImage(s))}),_(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),p()()}2&t&&I("formGroupName",e.index)}function Hye(t,e){if(1&t){const n=si();g(0,"div",36)(1,"p",6),_(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),p(),M(3,"input",38),g(4,"button",25),le("click",function(){const s=Yn(n).index;return Xn(G().removeVideo(s))}),_(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),p()()}2&t&&I("formGroupName",e.index)}function Gye(t,e){if(1&t){const n=si();g(0,"div",36)(1,"p",6),_(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),p(),M(3,"input",39),g(4,"button",25),le("click",function(){const s=Yn(n).index;return Xn(G().removePreparation(s))}),_(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),p()()}2&t&&I("formGroupName",e.index)}function zye(t,e){1&t&&(g(0,"div",34),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),p())}function qye(t,e){if(1&t&&(g(0,"div"),k(1,zye,2,0,"div",33),p()),2&t){const n=G().index,r=G();let i;b(1),I("ngIf",null==(i=r.baseForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function Wye(t,e){1&t&&(g(0,"div",34),_(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),p())}function Kye(t,e){if(1&t&&(g(0,"div"),k(1,Wye,2,0,"div",33),p()),2&t){const n=G().index,r=G();let i;b(1),I("ngIf",null==(i=r.baseForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function Qye(t,e){1&t&&(g(0,"div",34),_(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),p())}function Yye(t,e){if(1&t&&(g(0,"div"),k(1,Qye,2,0,"div",33),p()),2&t){const n=G().index,r=G();let i;b(1),I("ngIf",null==(i=r.baseForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function Xye(t,e){if(1&t&&(g(0,"option",35),_(1),p()),2&t){const n=e.$implicit;I("value",n.id),b(1),We(" ",n.title," ")}}function Jye(t,e){if(1&t&&(g(0,"div",36)(1,"div",40),M(2,"hr"),g(3,"p"),_(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),p(),M(5,"hr"),p(),g(6,"label",41),_(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),M(8,"input",42),k(9,qye,2,1,"div",4),g(10,"label",43),_(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),M(12,"input",44),k(13,Kye,2,1,"div",4),g(14,"label",14),_(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(16,"p",6),_(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),p(),g(18,"select",15)(19,"option",16),_(20,"\u0413\u0440\u0430\u043c"),p(),g(21,"option",17),_(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),p(),g(23,"option",18),_(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),p(),g(25,"option",19),_(26,"\u041b\u0438\u0442\u044a\u0440"),p()(),k(27,Yye,2,1,"div",4),g(28,"label",45),_(29,"\u0411\u0440\u043e\u0439\u043a\u0430:"),p(),g(30,"p",6),_(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),p(),M(32,"input",46),g(33,"label",47),_(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),p(),g(35,"p",6),_(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),M(37,"br"),_(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),p(),M(39,"input",39),g(40,"label",48),_(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),p(),g(42,"p",6),_(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0447\u0430\u0441\u0442 \u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),p(),g(44,"select",49),k(45,Xye,2,2,"option",24),p(),g(46,"label",50),_(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),p(),g(48,"p",6),_(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),p(),M(50,"input",51),p()),2&t){const n=e.index,r=G();let i,s,o;I("formGroupName",n),b(9),I("ngIf",null==(i=r.baseForm.get("ingredients."+n+".name"))?null:i.touched),b(4),I("ngIf",null==(s=r.baseForm.get("ingredients."+n+".amount"))?null:s.touched),b(14),I("ngIf",null==(o=r.baseForm.get("ingredients."+n+".unit"))?null:o.touched),b(18),I("ngForOf",r.baseRecipes)}}let Zye=(()=>{class t{constructor(n,r,i){this.fb=r,this.baseRecipeService=i,this.allergens=[],this.baseRecipes=[],this.currentOrderIndex=1,this.firestore=n,this.baseForm=this.fb.group({title:["",[ye.required]],base_type:["",[ye.required]],summary:[""],description:["",[ye.required]],base_yield:["",[ye.required]],unit:["",[ye.required]],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",base_recipe_portions:[0],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[ye.required]],amount:[null,[ye.required]],base:this.fb.control(null),unit:["",[ye.required]],order_index:[0],preparation_method:"",quantity:[0]})])}),this.getAllergens().subscribe(s=>{this.allergens=s})}ngOnInit(){this.getBaseRecipe()}addImage(){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(n){this.baseForm.get("image_recipe").removeAt(n)}addImageToForm(n){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}addVideo(){this.baseForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.baseForm.get("video_recipe").removeAt(n)}addPreparation(){this.baseForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.baseForm.get("preparation_method").removeAt(n)}addIngredient(){this.baseForm.get("ingredients").push(this.fb.group({name:["",[ye.required]],amount:[null,[ye.required]],base:this.fb.control(null),order_index:this.currentOrderIndex,preparation_method:"",quantity:[0],unit:["",[ye.required]]})),this.currentOrderIndex++}addReferenceToSelectedAllergen(n){const r=n.target.value;this.baseForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const n=this.baseForm.get("selectedAllergen")?.value;this.baseForm.get("allergens").push(this.fb.control(n));const i=this.baseForm.get("selectedAllergenNames"),s=this.allergens.find(o=>o.id===n);s&&i?.setValue(i.value?i.value+", "+s.name:s.name)}onIsBaseChange(){const n=this.baseForm.get("ingredients");this.isBaseControl=n.value[0].is_base}get ingredients(){return this.baseForm.get("ingredients")}get image_recipe(){return this.baseForm.get("image_recipe")}get video_recipe(){return this.baseForm.get("video_recipe")}get preparation_method(){return this.baseForm.get("preparation_method")}onSubmit(){this.baseForm.valid&&(this.addBaseRecipe(this.baseForm.value),this.baseForm.reset())}getAllergens(){const r=qr(this.firestore,"Allergens");return new Ve(i=>{_a(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n},error:n=>{console.error("Error fetching recipes:",n)}})}addBaseRecipe(n){S0(qr(this.firestore,"BaseRecipe"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(x(zn),x($h),x(Hh))};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-base-form"]],decls:85,vars:13,consts:[[1,"mainLong"],[1,"title"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","base_recipe_portions"],["type","number","id","base_recipe_portions","formControlName","base_recipe_portions"],["for","selectedAllergen"],["formControlName","selectedAllergen"],[3,"value",4,"ngFor","ngForOf"],["type","button",3,"click"],["class","hint",4,"ngIf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["for","base"],["id","base","formControlName","base"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(g(0,"div",0)(1,"h1",1),_(2,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p(),g(3,"form",2)(4,"label"),_(5," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),M(6,"input",3),p(),k(7,Nye,2,1,"div",4),g(8,"div")(9,"label",5),_(10,"\u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(11,"p",6),_(12,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),p(),M(13,"input",7),p(),k(14,kye,2,1,"div",4),g(15,"div")(16,"label",8),_(17,"\u0420\u0435\u0437\u044e\u043c\u0435:"),p(),g(18,"p",6),_(19,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p(),M(20,"input",9),p(),g(21,"div")(22,"label",10),_(23,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),M(24,"textarea",11),p(),k(25,Oye,2,1,"div",4),g(26,"div")(27,"label",12),_(28,"\u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(29,"p",6),_(30,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043e\u0441\u043d\u043e\u0432\u0430"),p(),M(31,"input",13),p(),k(32,Lye,2,1,"div",4),g(33,"label",14),_(34,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(35,"p",6),_(36,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),p(),g(37,"select",15)(38,"option",16),_(39,"\u0413\u0440\u0430\u043c"),p(),g(40,"option",17),_(41,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),p(),g(42,"option",18),_(43,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),p(),g(44,"option",19),_(45,"\u041b\u0438\u0442\u044a\u0440"),p()(),k(46,Bye,2,1,"div",4),g(47,"div")(48,"label",20),_(49,"\u041f\u043e\u0440\u0446\u0438\u0439: "),p(),g(50,"p",6),_(51,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p(),M(52,"input",21),p(),g(53,"div")(54,"div")(55,"label",22),_(56,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),p(),g(57,"p",6),_(58,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0430\u043b\u0435\u0440\u0433\u0435\u043d\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0441\u0430\u0434\u044a\u0440\u0436\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p(),g(59,"select",23),k(60,Uye,2,2,"option",24),p(),g(61,"button",25),le("click",function(){return i.addSelectedAllergen()}),_(62," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u0430\u043b\u0435\u0440\u0433\u0435\u043d "),p()(),g(63,"div"),k(64,jye,2,0,"p",26),g(65,"div"),_(66),p()(),g(67,"app-image-upload",27),le("imageUploaded",function(o){return i.addImageToForm(o)}),p(),g(68,"div",28),k(69,$ye,6,1,"div",29),p(),g(70,"div",30),k(71,Hye,6,1,"div",29),g(72,"button",25),le("click",function(){return i.addVideo()}),_(73," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),p()(),g(74,"div",31),k(75,Gye,6,1,"div",29),g(76,"button",25),le("click",function(){return i.addPreparation()}),_(77," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),p()()(),g(78,"div",32),k(79,Jye,51,5,"div",29),p(),M(80,"br"),g(81,"button",25),le("click",function(){return i.addIngredient()}),_(82," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),p(),g(83,"button",25),le("click",function(){return i.onSubmit()}),_(84," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 "),p()()()),2&r){let s,o,a,u,c,l,d;b(3),I("formGroup",i.baseForm),b(4),I("ngIf",null==(s=i.baseForm.get("title"))?null:s.touched),b(7),I("ngIf",null==(o=i.baseForm.get("base_type"))?null:o.touched),b(11),I("ngIf",null==(a=i.baseForm.get("description"))?null:a.touched),b(7),I("ngIf",null==(u=i.baseForm.get("base_yield"))?null:u.touched),b(14),I("ngIf",null==(c=i.baseForm.get("unit"))?null:c.touched),b(14),I("ngForOf",i.allergens),b(4),I("ngIf",null==(l=i.baseForm.get("selectedAllergen"))?null:l.touched),b(2),Et(null==(d=i.baseForm.get("selectedAllergenNames"))?null:d.value),b(3),I("ngForOf",i.image_recipe.controls),b(2),I("ngForOf",i.video_recipe.controls),b(4),I("ngForOf",i.preparation_method.controls),b(4),I("ngForOf",i.ingredients.controls)}},dependencies:[zi,qi,Fc,U0,j0,no,Lc,Uc,Rc,kc,oo,Ea,Vc,Bc,RT]})}return t})();function e_e(t,e){if(1&t&&(g(0,"div")(1,"div",12),M(2,"hr"),g(3,"p"),_(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),p(),M(5,"hr"),p(),M(6,"br"),g(7,"div",13),_(8),p()()),2&t){const n=G();b(8),Et(null==n.base?null:n.base.summary)}}function t_e(t,e){if(1&t&&(g(0,"li"),M(1,"img",16),p()),2&t){const n=e.$implicit;b(1),I("src",n.image_recipe,eu)}}function n_e(t,e){if(1&t&&(g(0,"ul",14),k(1,t_e,2,1,"li",15),p()),2&t){const n=G();b(1),I("ngForOf",null==n.base?null:n.base.image_recipe)}}function r_e(t,e){if(1&t&&(g(0,"div",17)(1,"div",12),M(2,"hr"),g(3,"p"),_(4,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),p(),M(5,"hr"),p(),M(6,"br"),g(7,"p",18),_(8),p()()),2&t){const n=G();b(8),Et(null==n.base?null:n.base.description)}}function i_e(t,e){if(1&t&&(g(0,"span"),_(1),p()),2&t){const n=G(2).$implicit;b(1),We("(",n.quantity," \u0431\u0440.)")}}const s_e=function(t){return["/base",t]};function o_e(t,e){if(1&t&&(g(0,"span",8)(1,"a",23),_(2," \xa0\xa0"),M(3,"i",24),_(4," \xa0\xa0"),M(5,"i",25),_(6," \xa0\xa0"),M(7,"i",26),p()()),2&t){const n=G(2).$implicit;b(1),I("routerLink",Ao(1,s_e,n.base))}}function a_e(t,e){if(1&t&&(g(0,"span",7)(1,"i"),_(2),p()()),2&t){const n=G(2).$implicit;b(2),We(" ",n.preparation_method,"")}}function u_e(t,e){if(1&t&&(g(0,"li"),_(1),k(2,i_e,2,1,"span",3),k(3,o_e,8,3,"span",21),M(4,"br"),k(5,a_e,3,1,"span",22),p()),2&t){const n=G().$implicit;b(1),wp(" ",n.name," - ",n.amount," ",n.unit," "),b(1),I("ngIf",n.quantity),b(1),I("ngIf",n.base),b(2),I("ngIf",n.preparation_method)}}function c_e(t,e){if(1&t&&(g(0,"ul",20),k(1,u_e,6,6,"li",3),p()),2&t){const n=G(2);b(1),I("ngIf",null==n.base?null:n.base.ingredients)}}function l_e(t,e){if(1&t&&(g(0,"div")(1,"div",12),M(2,"hr"),g(3,"p"),_(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),p(),M(5,"hr"),p(),M(6,"br"),k(7,c_e,2,1,"ul",19),p()),2&t){const n=G();b(7),I("ngForOf",null==n.base?null:n.base.ingredients)}}function d_e(t,e){if(1&t&&(g(0,"ul",28)(1,"li"),_(2),p()()),2&t){const n=e.$implicit;b(2),Et(n.preparation_method)}}function h_e(t,e){if(1&t&&(g(0,"div")(1,"div",12),M(2,"hr"),g(3,"p"),_(4,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),p(),M(5,"hr"),p(),M(6,"br"),k(7,d_e,3,1,"ul",27),p()),2&t){const n=G();b(7),I("ngForOf",null==n.base?null:n.base.preparation_method)}}function f_e(t,e){if(1&t&&(g(0,"tr")(1,"td")(2,"span",7),_(3,"\u041f\u043e\u0440\u0446\u0438\u0439"),p()(),g(4,"td")(5,"span",8),_(6),p()()()),2&t){const n=G();b(6),We("",null==n.base?null:n.base.base_recipe_portions," \xa0 \u0431\u0440. ")}}function p_e(t,e){if(1&t&&(g(0,"span",8),_(1),p()),2&t){const n=G(2);b(1),We("\xa0",null==n.base?null:n.base.unit,"")}}function g_e(t,e){if(1&t&&(g(0,"tr")(1,"td")(2,"span",7),_(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),p()(),g(4,"td")(5,"span",8),_(6),k(7,p_e,2,1,"span",21),p()()()),2&t){const n=G();b(6),We("",null==n.base?null:n.base.base_yield," "),b(1),I("ngIf",null==n.base?null:n.base.unit)}}function m_e(t,e){if(1&t&&(g(0,"tr")(1,"td")(2,"span",7),_(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),p()(),g(4,"td")(5,"span",8),_(6),p()()()),2&t){const n=G();b(6),Et(null==n.base?null:n.base.selectedAllergenNames)}}function y_e(t,e){if(1&t&&(g(0,"li"),M(1,"iframe",30),Tp(2,"safeUrl"),p()),2&t){const n=e.$implicit;b(1),I("src",Uv(2,1,n.video_recipe),Qf)}}function __e(t,e){if(1&t&&(g(0,"div",29)(1,"div",12),M(2,"hr"),g(3,"p"),_(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),p(),M(5,"hr"),p(),M(6,"br"),g(7,"ul"),k(8,y_e,3,3,"li",15),p()()),2&t){const n=G();b(8),I("ngForOf",null==n.base?null:n.base.video_recipe)}}let v_e=(()=>{class t{constructor(n,r,i){var s=this;this.route=n,this.router=r,this.baseRecipeService=i,this.base=null,this.baseId="",this.route.paramMap.subscribe(function(){var o=E(function*(a){const u=a.get("id");if(s.baseId=u,u)try{s.base=yield s.baseRecipeService.getBaseById(u)}catch(c){console.error("An error occurred while retrieving the recipe:",c)}else console.error("Recipe ID not provided.")});return function(a){return o.apply(this,arguments)}}())}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}static#e=this.\u0275fac=function(r){return new(r||t)(x(li),x(An),x(Hh))};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-base-recipe"]],decls:26,vars:11,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title"],[4,"ngIf"],["class","recipe-image",4,"ngIf"],["class","recipe-description",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["class","recipe-videos",4,"ngIf"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"divider"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-description"],[1,"recipe-description-text"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],["class","value",4,"ngIf"],["class","key",4,"ngIf"],[3,"routerLink"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"h1",2),_(3),p(),k(4,e_e,9,1,"div",3),k(5,n_e,2,1,"ul",4),k(6,r_e,9,1,"div",5),k(7,l_e,8,1,"div",3),k(8,h_e,8,1,"div",3),g(9,"table",6)(10,"tr")(11,"td")(12,"span",7),_(13,"\u0422\u0438\u043f"),p()(),g(14,"td")(15,"span",8),_(16),p()()(),k(17,f_e,7,1,"tr",3),k(18,g_e,8,2,"tr",3),k(19,m_e,7,1,"tr",3),p(),k(20,__e,9,1,"div",9),M(21,"br"),g(22,"a",10),M(23,"i",11),_(24,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),p()(),M(25,"br"),p()),2&r&&(b(3),Et(null==i.base?null:i.base.title),b(1),I("ngIf",null==i.base?null:i.base.summary),b(1),I("ngIf",(null==i.base?null:i.base.image_recipe)&&(null==i.base||null==i.base.image_recipe?null:i.base.image_recipe.length)>0),b(1),I("ngIf",null==i.base?null:i.base.description),b(1),I("ngIf",null==i.base?null:i.base.ingredients),b(1),I("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),b(8),Et(null==i.base?null:i.base.base_type),b(1),I("ngIf",null==i.base?null:i.base.base_recipe_portions),b(1),I("ngIf",null==i.base?null:i.base.base_yield),b(1),I("ngIf",null==i.base?null:i.base.selectedAllergenNames),b(1),I("ngIf",(null==i.base?null:i.base.video_recipe)&&(null==i.base||null==i.base.video_recipe?null:i.base.video_recipe.length)>0))},dependencies:[zi,qi,Qi,wB],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainGreenColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainGreenColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondGreenColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.btn[_ngcontent-%COMP%]{display:block;padding:10px 20px;background-color:var(--mainGreenColor);color:var(--mainWhiteColor);border:none;border-radius:5px;cursor:pointer;text-align:center}.btn[_ngcontent-%COMP%]:hover{background-color:var(--secondGreenColor);box-shadow:0 2px 4px #00000080}"]})}return t})();const E_e=function(t){return["/base",t]};function w_e(t,e){if(1&t&&(g(0,"div")(1,"a",4)(2,"div",5)(3,"h3"),_(4),p()()()()),2&t){const n=e.$implicit;b(1),I("routerLink",Ao(2,E_e,n.id)),b(3),Et(n.title)}}let b_e=(()=>{class t{constructor(n){this.baseRecipeService=n,this.baseRecipes=[]}ngOnInit(){this.getBaseRecipes()}getBaseRecipes(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n.sort((r,i)=>r.title.localeCompare(i.title))},error:n=>{console.error("Error fetching categories:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(x(Hh))};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-list-base"]],decls:5,vars:1,consts:[[1,"mainLong"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"h1",1),_(2,"\u0411\u0430\u0437\u043e\u0432\u0438 \u0420\u0435\u0446\u0435\u043f\u0442\u0438"),p(),g(3,"div",2),k(4,w_e,5,4,"div",3),p()()),2&r&&(b(4),I("ngForOf",i.baseRecipes))},dependencies:[zi,Qi],styles:[".recipe-list[_ngcontent-%COMP%]{width:800px;margin:0 auto;padding:20px 50px;display:grid;grid-template-columns:repeat(2,1fr);column-gap:20px}.recipe-item[_ngcontent-%COMP%]{background-color:var(--mainWhiteColor);border:1px solid var(--mainGreyColor);border-radius:5px;margin:10px 0;text-align:center;padding:20px;transition:transform .2s}.recipe-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin:0}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}a[_ngcontent-%COMP%]{color:var(--mainBlackColor)}a[_ngcontent-%COMP%]:hover{background-color:var(--mainGreyColor)}@media (max-width: 1024px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}}"]})}return t})();function C_e(t,e){if(1&t&&(g(0,"div",23)(1,"label",24),_(2,"\u0421\u043d\u0438\u043c\u043a\u0430"),p(),M(3,"input",25),p()),2&t){const n=e.index;I("formGroupName",n),b(1),I("for","image_recipe"+n),b(2),I("id","image_recipe"+n)}}function I_e(t,e){if(1&t&&(g(0,"div",23)(1,"label",24),_(2,"\u0412\u0438\u0434\u0435\u043e"),p(),M(3,"input",26),p()),2&t){const n=e.index;I("formGroupName",n),b(1),I("for","video_recipe"+n),b(2),I("id","video_recipe"+n)}}function D_e(t,e){if(1&t){const n=si();g(0,"div",23)(1,"label",24),_(2,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),M(3,"input",27),g(4,"label",24),_(5,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),M(6,"input",28),g(7,"label",24),_(8,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),p(),g(9,"p",6),_(10,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),p(),M(11,"input",29),g(12,"label",24),_(13,"\u0411\u0440\u043e\u0439\u043a\u0430:"),p(),g(14,"p",6),_(15," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),p(),M(16,"input",30),g(17,"label",24),_(18,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),p(),g(19,"p",6),_(20," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),M(21,"br"),_(22," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),p(),M(23,"input",31),g(24,"label",24),_(25,"\u0418\u0437\u0431\u0435\u0440\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),p(),g(26,"p",6),_(27," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0447\u0430\u0441\u0442 \u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),p(),M(28,"input",32),g(29,"label",24),_(30,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),p(),g(31,"p",6),_(32,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),p(),M(33,"input",33),g(34,"button",22),le("click",function(){const s=Yn(n).index;return Xn(G().removeIngredient(s))}),_(35," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430 "),p()()}if(2&t){const n=e.index;I("formGroupName",n),b(1),I("for","name"+n),b(2),I("id","name"+n),b(1),I("for","amount"+n),b(2),I("id","amount"+n),b(1),I("for","unit"+n),b(4),I("id","unit"+n),b(1),I("for","quantity"+n),b(4),I("id","quantity"+n),b(1),I("for","preparation_method"+n),b(6),I("id","preparation_method"+n),b(1),I("for","base"+n),b(4),I("id","base"+n),b(1),I("for","order_index"+n),b(4),I("id","order_index"+n)}}const T_e=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:bne},{path:"chefs",component:Dme},{path:"waiters",component:Tme},{path:"add-category",component:I0e},{path:"add-recipe",component:tye},{path:"add-base",component:Zye},{path:"base/:id",component:v_e},{path:"base",component:b_e},{path:"category/:id",component:A0e},{path:"recipe/:id",component:Mye},{path:"base-edit/:id",component:(()=>{class t{constructor(n,r,i,s,o){this.route=n,this.router=r,this.fb=i,this.baseRecipeService=s,this.base=null,this.baseId="",this.firestore=o}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}ngOnInit(){var n=this;return E(function*(){n.initializeForm(),yield n.loadData()})()}initializeForm(){this.baseFormEdit=this.fb.group({title:["",[ye.required]],base_type:["",[ye.required]],description:["",[ye.required]],base_yield:["",[ye.required]],unit:["",[ye.required]],summary:[""],selectedAllergen:null,selectedAllergenNames:"",base_recipe_portions:[0],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var n=this;return E(function*(){n.route.paramMap.subscribe(function(){var r=E(function*(i){const s=i.get("id");if(n.baseId=s,s)try{n.base=yield n.baseRecipeService.getBaseById(s),console.log(n.base),n.patchFormWithBaseData()}catch(o){throw console.error("An error occurred while retrieving the recipe:",o),o}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithBaseData(){if(this.base&&this.baseFormEdit){const n=this.baseFormEdit.get("ingredients"),r=this.baseFormEdit.get("image_recipe"),i=this.baseFormEdit.get("video_recipe"),s=this.baseFormEdit.get("preparation_method");n.clear(),r.clear(),i.clear(),s.clear(),this.base.ingredients.forEach(o=>{n.push(this.fb.group({name:[o.name,[ye.required]],amount:[o.amount,[ye.required]],base:[o.base],unit:[o.unit,[ye.required]],order_index:[o.order_index],preparation_method:[o.preparation_method],quantity:[o.quantity]}))}),this.base.image_recipe&&this.base.image_recipe.length>0&&this.base.image_recipe.forEach(o=>{r.push(this.fb.group({image_recipe:[o.image_recipe]}))}),this.base.video_recipe&&this.base.video_recipe.length>0&&this.base.video_recipe.forEach(o=>{i.push(this.fb.group({video_recipe:[o.video_recipe]}))}),this.base.preparation_method&&this.base.preparation_method.length>0&&this.base.preparation_method.forEach(o=>{s.push(this.fb.group({preparation_method:[o.preparation_method]}))}),this.baseFormEdit.patchValue({title:this.base.title,base_type:this.base.base_type,summary:this.base.summary,description:this.base.description,base_yield:this.base.base_yield,unit:this.base.unit,selectedAllergen:this.base.selectedAllergen,selectedAllergenNames:this.base.selectedAllergenNames,base_recipe_portions:this.base.base_recipe_portions})}}addIngredient(){this.baseFormEdit.get("ingredients").push(this.fb.group({name:["",[ye.required]],amount:["",[ye.required]],base:this.fb.control(""),unit:["",[ye.required]],order_index:[0],preparation_method:"",quantity:[0]}))}removeIngredient(n){this.baseFormEdit.get("ingredients").removeAt(n)}get ingredients(){return this.baseFormEdit.get("ingredients")}get image_recipe(){return this.baseFormEdit.get("image_recipe")}get video_recipe(){return this.baseFormEdit.get("video_recipe")}get preparation_method(){return this.baseFormEdit.get("preparation_method")}onSubmit(){this.baseFormEdit.valid&&(this.addBaseRecipe(this.baseFormEdit.value),this.baseFormEdit.reset())}addBaseRecipe(n){const i=Nc(this.firestore,"BaseRecipe",this.baseId);Eme(i,n),this.router.navigate(["/base",this.baseId])}static#e=this.\u0275fac=function(r){return new(r||t)(x(li),x(An),x($h),x(Hh),x(zn))};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-base-form-edit"]],decls:58,vars:4,consts:[[1,"mainLong"],[1,"title"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["id","summary","formControlName","summary"],["for","description"],["rows","10","id","description","formControlName","description"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["type","text","id","unit","formControlName","unit"],["type","text","id","base_recipe_portions","formControlName","base_recipe_portions"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],[1,"divider"],["formArrayName","ingredients"],["type","button",3,"click"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["type","text","formControlName","video_recipe",3,"id"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["type","text","formControlName","unit",3,"id"],["type","number","formControlName","quantity",3,"id"],["type","text","formControlName","preparation_method",3,"id"],["type","text","formControlName","base",3,"id"],["type","number","formControlName","order_index",3,"id"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"h1",1),_(2,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p(),g(3,"form",2)(4,"label",3),_(5," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),p(),M(6,"input",4),g(7,"label",5),_(8," \u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),p(),g(9,"p",6),_(10,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),p(),M(11,"input",7),g(12,"label",8),_(13," \u0420\u0435\u0437\u044e\u043c\u0435: "),p(),g(14,"p",6),_(15,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p(),M(16,"textarea",9),g(17,"label",10),_(18," \u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),p(),M(19,"textarea",11),g(20,"label",12),_(21," \u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),p(),g(22,"p",6),_(23,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043e\u0441\u043d\u043e\u0432\u0430"),p(),M(24,"input",13),g(25,"label",14),_(26," \u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),p(),g(27,"p",6),_(28,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),p(),M(29,"input",15),g(30,"label",14),_(31," \u041f\u043e\u0440\u0446\u0438\u0439: "),p(),g(32,"p",6),_(33,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),p(),M(34,"input",16),g(35,"p",6),_(36,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438:"),p(),g(37,"p",6),_(38,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),p(),g(39,"div",17),k(40,C_e,4,3,"div",18),p(),g(41,"p",6),_(42,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),p(),g(43,"div",19),k(44,I_e,4,3,"div",18),p(),g(45,"p",6),_(46," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),p(),g(47,"div",20),M(48,"hr"),g(49,"p"),_(50,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),p(),M(51,"hr"),p(),g(52,"div",21),k(53,D_e,36,15,"div",18),p(),g(54,"button",22),le("click",function(){return i.addIngredient()}),_(55," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),p(),g(56,"button",22),le("click",function(){return i.onSubmit()}),_(57,"\u0417\u0430\u043f\u0430\u0437\u0435\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435"),p()()()),2&r&&(b(3),I("formGroup",i.baseFormEdit),b(37),I("ngForOf",i.image_recipe.controls),b(4),I("ngForOf",i.video_recipe.controls),b(9),I("ngForOf",i.ingredients.controls))},dependencies:[zi,Fc,no,Lc,Rc,kc,oo,Ea,Vc,Bc]})}return t})()}];let A_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({imports:[mg.forRoot(T_e,{useHash:!0}),mg]})}return t})();function S_e(t,e){if(1&t){const n=si();g(0,"div",11),le("click",function(){return Yn(n),Xn(G().closeMenu())}),g(1,"a",12),le("click",function(){return Yn(n),Xn(G().handleMenuItemClick("Link 1"))}),_(2,"Add Base"),p(),g(3,"a",13),le("click",function(){return Yn(n),Xn(G().handleMenuItemClick("Link 2"))}),_(4,"Add Recipe"),p(),g(5,"a",14),le("click",function(){return Yn(n),Xn(G().handleMenuItemClick("Link 3"))}),_(6,"Add Category"),p()()}}let M_e=(()=>{class t{constructor(){this.isMenuOpen=!1}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}handleMenuItemClick(n){console.log("Clicked on "+n),this.closeMenu()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-header"]],decls:18,vars:1,consts:[[1,"header"],[1,"wrapper"],[1,"logo"],["routerLink","/home"],[1,"navigation"],["routerLink","/chefs"],["routerLink","/base"],[1,"dropdown"],[1,"dropbtn",3,"click"],[1,"fa","fa-caret-down"],["class","dropdown-content",3,"click",4,"ngIf"],[1,"dropdown-content",3,"click"],["href","#","routerLink","/add-base",3,"click"],["href","#","routerLink","/add-recipe",3,"click"],["href","#","routerLink","/add-category",3,"click"]],template:function(r,i){1&r&&(g(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),_(4,"Chefs Talks"),p()(),g(5,"nav",4)(6,"ul")(7,"li")(8,"a",5),_(9,"Chefs"),p()(),g(10,"li")(11,"a",6),_(12,"Base"),p()(),g(13,"div",7)(14,"button",8),le("click",function(){return i.toggleMenu()}),_(15," Add "),M(16,"i",9),p(),k(17,S_e,7,0,"div",10),p()()()()()),2&r&&(b(17),I("ngIf",i.isMenuOpen))},dependencies:[qi,Qi],styles:[".header[_ngcontent-%COMP%]{height:8vh;background-color:var(--mainGreenColor);color:var(--mainWhiteColor);padding:20px}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1440px;display:flex;justify-content:space-between;align-items:center;margin:0 auto}.logo[_ngcontent-%COMP%]{font-size:32px;font-weight:900;text-decoration:underline}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainWhiteColor)}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropbtn[_ngcontent-%COMP%]{all:unset}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:-3px;background-color:var(--mainGreenColor);min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainBlackColor);padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--mainGrayColor)}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%]{color:var(--mainBlackColor)}@media (max-width: 460px){.header[_ngcontent-%COMP%]{height:unset}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1440px;display:flex;flex-direction:column}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{width:80%}.logo[_ngcontent-%COMP%]{font-size:26px;font-weight:600}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{width:80%}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{width:80%}}"]})}return t})(),x_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(r,i){1&r&&(g(0,"footer",0)(1,"p"),_(2,"\xa9 2023 Shefs Talks"),p()())},styles:[".footer[_ngcontent-%COMP%]{height:5vh;background-color:var(--secondGreenColor);color:var(--mainWhiteColor);text-align:center;padding:10px}"]})}return t})(),N_e=(()=>{class t{constructor(){this.title="chefs-talks"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xt({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&M(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[o1,M_e,x_e]})}return t})(),R_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({imports:[R4,mg]})}return t})();class H0{}class G0{}class Di{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Di?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Di;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Di?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class k_e{encodeKey(e){return bB(e)}encodeValue(e){return bB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const O_e=/%(\d[a-f0-9])/gi,F_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bB(t){return encodeURIComponent(t).replace(O_e,(e,n)=>F_e[n]??e)}function z0(t){return`${t}`}class ao{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new k_e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function P_e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(z0):[z0(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ao({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(z0(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(z0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class L_e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function CB(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function IB(t){return typeof Blob<"u"&&t instanceof Blob}function DB(t){return typeof FormData<"u"&&t instanceof FormData}class Gh{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function V_e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Di),this.context||(this.context=new L_e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new ao,this.urlWithParams=n}serializeBody(){return null===this.body?null:CB(this.body)||IB(this.body)||DB(this.body)||function B_e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ao?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DB(this.body)?null:IB(this.body)?this.body.type||null:CB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ao?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Gh(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var jc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(jc||{});class kT{constructor(e,n=200,r="OK"){this.headers=e.headers||new Di,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class PT extends kT{constructor(e={}){super(e),this.type=jc.ResponseHeader}clone(e={}){return new PT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $c extends kT{constructor(e={}){super(e),this.type=jc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $c({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class TB extends kT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function OT(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let U_e=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Gh)s=n;else{let u,c;u=i.headers instanceof Di?i.headers:new Di(i.headers),i.params&&(c=i.params instanceof ao?i.params:new ao({fromObject:i.params})),s=new Gh(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ee(s).pipe(Au(u=>this.handler.handle(u)));if(n instanceof Gh||"events"===i.observe)return o;const a=o.pipe(Wi(u=>u instanceof $c));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ae(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ae(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new ao).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,OT(i,r))}post(n,r,i={}){return this.request("POST",n,OT(i,r))}put(n,r,i={}){return this.request("PUT",n,OT(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(B(H0))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function MB(t,e){return e(t)}function $_e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const G_e=new j(""),zh=new j(""),xB=new j("");function z_e(){let t=null;return(e,n)=>{null===t&&(t=(H(G_e,{optional:!0})??[]).reduceRight($_e,MB));const r=H(xp),i=r.add();return t(e,n).pipe(Ql(()=>r.remove(i)))}}let NB=(()=>{class t extends H0{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=H(xp)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(zh),...this.injector.get(xB,[])]));this.chain=i.reduceRight((s,o)=>function H_e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(s,o,this.injector),MB)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ql(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(B(G0),B(er))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const Q_e=/^\)\]\}',?\n/;let kB=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new A(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?St(r.\u0275loadImpl()):ee(null)).pipe(Nr(()=>new Ve(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((y,v)=>o.setRequestHeader(y,v.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const y=n.detectContentTypeHeader();null!==y&&o.setRequestHeader("Content-Type",y)}if(n.responseType){const y=n.responseType.toLowerCase();o.responseType="json"!==y?y:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const y=o.statusText||"OK",v=new Di(o.getAllResponseHeaders()),C=function Y_e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return u=new PT({headers:v,status:o.status,statusText:y,url:C}),u},l=()=>{let{headers:y,status:v,statusText:C,url:w}=c(),S=null;204!==v&&(S=typeof o.response>"u"?o.responseText:o.response),0===v&&(v=S?200:0);let O=v>=200&&v<300;if("json"===n.responseType&&"string"==typeof S){const z=S;S=S.replace(Q_e,"");try{S=""!==S?JSON.parse(S):null}catch(X){S=z,O&&(O=!1,S={error:X,text:S})}}O?(s.next(new $c({body:S,headers:y,status:v,statusText:C,url:w||void 0})),s.complete()):s.error(new TB({error:S,headers:y,status:v,statusText:C,url:w||void 0}))},d=y=>{const{url:v}=c(),C=new TB({error:y,status:o.status||0,statusText:o.statusText||"Unknown Error",url:v||void 0});s.error(C)};let h=!1;const f=y=>{h||(s.next(c()),h=!0);let v={type:jc.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),"text"===n.responseType&&o.responseText&&(v.partialText=o.responseText),s.next(v)},m=y=>{let v={type:jc.UploadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),s.next(v)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",m)),o.send(a),s.next({type:jc.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",m)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(B(Wk))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const FT=new j("XSRF_ENABLED"),PB=new j("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),OB=new j("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class FB{}let Z_e=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lk(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt),B(Oi),B(PB))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function eve(t,e){const n=t.url.toLowerCase();if(!H(FT)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=H(FB).getToken(),i=H(OB);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var uo=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(uo||{});function tve(...t){const e=[U_e,kB,NB,{provide:H0,useExisting:NB},{provide:G0,useExisting:kB},{provide:zh,useValue:eve,multi:!0},{provide:FT,useValue:!0},{provide:FB,useClass:Z_e}];for(const n of t)e.push(...n.\u0275providers);return function R_(t){return{\u0275providers:t}}(e)}const LB=new j("LEGACY_INTERCEPTOR_FN");function nve(){return function ba(t,e){return{\u0275kind:t,\u0275providers:e}}(uo.LegacyInterceptors,[{provide:LB,useFactory:z_e},{provide:zh,useExisting:LB,multi:!0}])}let rve=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({providers:[tve(nve())]})}return t})();or("firebase","10.5.2","app");const VB_firebaseConfig={apiKey:"AIzaSyBqXpKb2qj9VKAYX_DOaOyGV6e-lsUhxG8",authDomain:"chefs-talks.firebaseapp.com",projectId:"chefs-talks",storageBucket:"chefs-talks.appspot.com",messagingSenderId:"821574305127",appId:"1:821574305127:web:1ec43d2f164a6f2c151bc2",measurementId:"G-96713DEB05"};!function YO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ji.create("bad-app-name",{appName:String(i)});if(n||(n=y1()),!n)throw Ji.create("no-options");const s=Bo.get(i);if(s){if(dd(n,s.options)&&dd(r,s.config))return s;throw Ji.create("duplicate-app",{appName:i})}const o=new NO(i);for(const u of Dg.values())o.addComponent(u);const a=new Nie(n,r,o);return Bo.set(i,a),a}(VB_firebaseConfig);let BB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({imports:[R4,vB]})}return t})(),dve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Ot({imports:[[]]}),t})();class UB{}class hve{}const ps="*";function jB(t,e=null){return{type:2,steps:t,options:e}}function $B(t){return{type:6,styles:t,offset:null}}class qh{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class HB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function GB(t){return new A(3e3,!1)}function co(t){switch(t.length){case 0:return new qh;case 1:return t[0];default:return new HB(t)}}function zB(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const c=u.get("offset"),l=c==o,d=l&&a||new Map;u.forEach((h,f)=>{let m=f,y=h;if("offset"!==f)switch(m=t.normalizePropertyName(m,i),y){case"!":y=n.get(f);break;case ps:y=r.get(f);break;default:y=t.normalizeStyleValue(f,m,y,i)}d.set(m,y)}),l||s.push(d),a=d,o=c}),i.length)throw function Ove(t){return new A(3502,!1)}();return s}function VT(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&BT(n,"start",t)));break;case"done":t.onDone(()=>r(n&&BT(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&BT(n,"destroy",t)))}}function BT(t,e,n){const s=UT(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function UT(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function lr(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function qB(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const Wve=(()=>typeof document>"u"?null:document.documentElement)();function jT(t){const e=t.parentNode||t.host||null;return e===Wve?null:e}let Ca=null,WB=!1;function KB(t,e){for(;e;){if(e===t)return!0;e=jT(e)}return!1}function QB(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let YB=(()=>{class t{validateStyleProperty(n){return function Qve(t){Ca||(Ca=function Yve(){return typeof document<"u"?document.body:null}()||{},WB=!!Ca.style&&"WebkitAppearance"in Ca.style);let e=!0;return Ca.style&&!function Kve(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ca.style,!e&&WB&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ca.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return KB(n,r)}getParentElement(n){return jT(n)}query(n,r,i){return QB(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new qh(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),$T=(()=>{class t{static#e=this.NOOP=new YB}return t})();const Xve=1e3,HT="ng-enter",W0="ng-leave",K0="ng-trigger",Q0=".ng-trigger",JB="ng-animating",GT=".ng-animating";function gs(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zT(parseFloat(e[1]),e[2])}function zT(t,e){return"s"===e?t*Xve:t}function Y0(t,e,n){return t.hasOwnProperty("duration")?t:function Zve(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(GB()),{duration:0,delay:0,easing:""};i=zT(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=zT(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function fve(){return new A(3100,!1)}()),a=!0),s<0&&(e.push(function pve(){return new A(3101,!1)}()),a=!0),a&&e.splice(u,0,GB())}return{duration:i,delay:s,easing:o}}(t,e,n)}function Wh(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ZB(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function lo(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function Ti(t,e,n){e.forEach((r,i)=>{const s=WT(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Ia(t,e){e.forEach((n,r)=>{const i=WT(r);t.style[i]=""})}function Kh(t){return Array.isArray(t)?1==t.length?t[0]:jB(t):t}const qT=new RegExp("{{\\s*(.+?)\\s*}}","g");function tU(t){let e=[];if("string"==typeof t){let n;for(;n=qT.exec(t);)e.push(n[1]);qT.lastIndex=0}return e}function Qh(t,e,n){const r=t.toString(),i=r.replace(qT,(s,o)=>{let a=e[o];return null==a&&(n.push(function mve(t){return new A(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function X0(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const n4e=/-+([a-z0-9])/g;function WT(t){return t.replace(n4e,(...e)=>e[1].toUpperCase())}function dr(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function yve(t){return new A(3004,!1)}()}}function nU(t,e){return window.getComputedStyle(t)[e]}const J0="*";function s4e(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function o4e(t,e,n){if(":"==t[0]){const u=function a4e(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Nve(t){return new A(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function xve(t){return new A(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(rU(i,o));"<"==s[0]&&!(i==J0&&o==J0)&&e.push(rU(o,i))}(r,n,e)):n.push(t),n}const Z0=new Set(["true","1"]),ey=new Set(["false","0"]);function rU(t,e){const n=Z0.has(t)||ey.has(t),r=Z0.has(e)||ey.has(e);return(i,s)=>{let o=t==J0||t==i,a=e==J0||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Z0.has(t):ey.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Z0.has(e):ey.has(e)),o&&a}}const u4e=new RegExp("s*:selfs*,?","g");function KT(t,e,n,r){return new c4e(t).build(e,n,r)}class c4e{constructor(e){this._driver=e}build(e,n,r){const i=new h4e(n);return this._resetContextStyleTimingState(i),dr(this,Kh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function vve(){return new A(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(l=>{u.name=l,s.push(this.visitState(u,n))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function Eve(){return new A(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{tU(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(X0(s.values()),n.errors.push(function wve(t,e){return new A(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=dr(this,Kh(e.animation),n);return{type:1,matchers:s4e(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Da(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>dr(this,r,n)),options:Da(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=dr(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:Da(e.options)}}visitAnimate(e,n){const r=function p4e(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return QT(Y0(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=QT(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=Y0(n,e);return QT(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:$B({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=$B(c)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ps?r.push(a):n.errors.push(new A(3002,!1)):r.push(ZB(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=n.collectedStyles.get(n.currentQuerySelector),l=c.get(u);let d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(function Cve(t,e,n,r,i){return new A(3010,!1)}()),d=!1),s=l.startTime),d&&c.set(u,{startTime:s,endTime:i}),n.options&&function t4e(t,e,n){const r=e.params||{},i=tU(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function gve(t){return new A(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Ive(){return new A(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const l=e.steps.map(C=>{const w=this._makeStyleAst(C,n);let S=null!=w.offset?w.offset:function f4e(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(w.styles),O=0;return null!=S&&(s++,O=w.offset=S),u=u||O<0||O>1,a=a||O<c,c=O,o.push(O),w});u&&n.errors.push(function Dve(){return new A(3012,!1)}()),a&&n.errors.push(function Tve(){return new A(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function Ave(){return new A(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,m=n.currentTime,y=n.currentAnimateTimings,v=y.duration;return l.forEach((C,w)=>{const S=h>0?w==f?1:h*w:o[w],O=S*v;n.currentTime=m+y.delay+O,y.duration=O,this._validateStyleAst(C,n),C.offset=S,r.styles.push(C)}),r}visitReference(e,n){return{type:8,animation:dr(this,Kh(e.animation),n),options:Da(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Da(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Da(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function l4e(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(u4e,"")),t=t.replace(/@\*/g,Q0).replace(/@\w+/g,n=>Q0+"-"+n.slice(1)).replace(/:animating/g,GT),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,lr(n.collectedStyles,n.currentQuerySelector,new Map);const a=dr(this,Kh(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Da(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Sve(){return new A(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Y0(e.timings,n.errors,!0);return{type:12,animation:dr(this,Kh(e.animation),n),timings:r,options:null}}}class h4e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Da(t){return t?(t=Wh(t)).params&&(t.params=function d4e(t){return t?Wh(t):null}(t.params)):t={},t}function QT(t,e,n){return{duration:t,delay:e,easing:n}}function YT(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ty{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const y4e=new RegExp(":enter","g"),v4e=new RegExp(":leave","g");function XT(t,e,n,r,i,s=new Map,o=new Map,a,u,c=[]){return(new E4e).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class E4e{buildKeyframes(e,n,r,i,s,o,a,u,c,l=[]){c=c||new ty;const d=new JT(e,n,c,i,s,l,[]);d.options=u;const h=u.delay?gs(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),dr(this,r,d);const f=d.timelines.filter(m=>m.containsAnimation());if(f.length&&a.size){let m;for(let y=f.length-1;y>=0;y--){const v=f[y];if(v.element===n){m=v;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,d.errors,u)}return f.length?f.map(m=>m.buildKeyframes()):[YT(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:gs(Qh(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?gs(r.duration):null,a=null!=r.delay?gs(r.delay):null;return 0!==o&&e.forEach(u=>{const c=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),dr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ny);const o=gs(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>dr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?gs(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),dr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return Y0(n.params?Qh(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?gs(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=ny);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((c,l)=>{n.currentQueryIndex=l;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(u=d.currentTimeline),dr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const l=n.currentTimeline;u&&l.delayNextStep(u);const d=l.currentTime;dr(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const ny={};class JT{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ny,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ry(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=gs(r.duration)),null!=r.delay&&(i.delay=gs(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Qh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new JT(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ny,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new w4e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(y4e,"."+this._enterClassName)).replace(v4e,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function Mve(t){return new A(3014,!1)}()),a}}class ry{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new ry(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||ps),this._currentKeyframe.set(n,ps);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function b4e(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,ps)}else lo(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=Qh(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ps),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=lo(a,new Map,this._backFill);c.forEach((l,d)=>{"!"===l?e.add(d):l===ps&&n.add(d)}),r||c.set("offset",u/this.duration),i.push(c)});const s=e.size?X0(e.values()):[],o=n.size?X0(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return YT(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class w4e extends ry{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=lo(e[0]);u.set("offset",0),s.push(u);const c=lo(e[0]);c.set("offset",oU(a)),s.push(c);const l=e.length-1;for(let d=1;d<=l;d++){let h=lo(e[d]);const f=h.get("offset");h.set("offset",oU((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return YT(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function oU(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ZT{}const C4e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class I4e extends ZT{normalizePropertyName(e,n){return WT(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(C4e.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function _ve(t,e){return new A(3005,!1)}())}return o+s}}function aU(t,e,n,r,i,s,o,a,u,c,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:d,errors:h}}const eA={};class uU{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function D4e(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,c,l){const d=[],h=this.ast.options&&this.ast.options.params||eA,m=this.buildStyles(r,a&&a.params||eA,d),y=u&&u.params||eA,v=this.buildStyles(i,y,d),C=new Set,w=new Map,S=new Map,O="void"===i,z={params:T4e(y,h),delay:this.ast.options?.delay},X=l?[]:XT(e,n,this.ast.animation,s,o,m,v,z,c,d);let de=0;if(X.forEach(Tt=>{de=Math.max(Tt.duration+Tt.delay,de)}),d.length)return aU(n,this._triggerName,r,i,O,m,v,[],[],w,S,de,d);X.forEach(Tt=>{const hr=Tt.element,ay=lr(w,hr,new Set);Tt.preStyleProps.forEach(Ta=>ay.add(Ta));const Xh=lr(S,hr,new Set);Tt.postStyleProps.forEach(Ta=>Xh.add(Ta)),hr!==n&&C.add(hr)});const Ue=X0(C.values());return aU(n,this._triggerName,r,i,O,m,v,X,Ue,w,S,de)}}function T4e(t,e){const n=Wh(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class A4e{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=Wh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Qh(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class M4e{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new A4e(i.style,i.options&&i.options.params||{},r))}),cU(this.states,"true","1"),cU(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new uU(e,i,this.states))}),this.fallbackTransition=function x4e(t,e,n){return new uU(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function cU(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const N4e=new ty;class R4e{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=KT(this._driver,n,r,[]);if(r.length)throw function Fve(t){return new A(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=zB(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=XT(this._driver,n,s,HT,W0,new Map,new Map,r,N4e,i),o.forEach(l=>{const d=lr(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Lve(){return new A(3300,!1)}()),o=[]),i.length)throw function Vve(t){return new A(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,ps))})});const c=co(o.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function Bve(t){return new A(3301,!1)}();return n}listen(e,n,r,i){const s=UT(n,"","","");return VT(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const lU="ng-animate-queued",tA="ng-animate-disabled",L4e=[],dU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V4e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wr="__ng_removed";class nA{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function $4e(t){return t??null}(r?e.value:e),r){const s=Wh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Yh="void",rA=new nA(Yh);class B4e{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mr(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function Uve(t,e){return new A(3302,!1)}();if(null==r||0==r.length)throw function jve(t){return new A(3303,!1)}();if(!function H4e(t){return"start"==t||"done"==t}(r))throw function $ve(t,e){return new A(3400,!1)}();const s=lr(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=lr(this._engine.statesByElement,e,new Map);return a.has(n)||(Mr(e,K0),Mr(e,K0+"-"+n),a.set(n,rA)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function Hve(t){return new A(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new iA(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Mr(e,K0),Mr(e,K0+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const c=new nA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(n,c),u||(u=rA),c.value!==Yh&&u.value===c.value){if(!function q4e(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,c.params)){const y=[],v=s.matchStyles(u.value,u.params,y),C=s.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{Ia(e,v),Ti(e,C)})}return}const h=lr(this._engine.playersByElement,e,[]);h.forEach(y=>{y.namespaceId==this.id&&y.triggerName==n&&y.queued&&y.destroy()});let f=s.matchTransition(u.value,c.value,e,c.params),m=!1;if(!f){if(!i)return;f=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:u,toState:c,player:o,isFallbackTransition:m}),m||(Mr(e,lU),o.onStart(()=>{Hc(e,lU)})),o.onDone(()=>{let y=this.players.indexOf(o);y>=0&&this.players.splice(y,1);const v=this._engine.playersByElement.get(e);if(v){let C=v.indexOf(o);C>=0&&v.splice(C,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,Q0,!0);r.forEach(i=>{if(i[Wr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const l=this.trigger(e,c,Yh,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&co(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||rA,l=new nA(Yh),d=new iA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[Wr];(!s||s===dU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Mr(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=UT(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,VT(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class U4e{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new B4e(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(iy(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!iy(n))return;const s=n[Wr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mr(e,tA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hc(e,tA))}removeNode(e,n,r){if(iy(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Wr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return iy(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Q0,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,GT,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return co(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Wr];if(n&&n.setForRemoval){if(e[Wr]=dU,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(tA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Mr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?co(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Gve(t){return new A(3402,!1)}()}_flushAnimations(e,n){const r=new ty,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(K=>{l.add(K);const J=this.driver.query(K,".ng-animate-queued",!0);for(let Z=0;Z<J.length;Z++)l.add(J[Z])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=pU(h,this.collectedEnterElements),m=new Map;let y=0;f.forEach((K,J)=>{const Z=HT+y++;m.set(J,Z),K.forEach(De=>Mr(De,Z))});const v=[],C=new Set,w=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){const J=this.collectedLeaveElements[K],Z=J[Wr];Z&&Z.setForRemoval&&(v.push(J),C.add(J),Z.hasAnimation?this.driver.query(J,".ng-star-inserted",!0).forEach(De=>C.add(De)):w.add(J))}const S=new Map,O=pU(h,Array.from(C));O.forEach((K,J)=>{const Z=W0+y++;S.set(J,Z),K.forEach(De=>Mr(De,Z))}),e.push(()=>{f.forEach((K,J)=>{const Z=m.get(J);K.forEach(De=>Hc(De,Z))}),O.forEach((K,J)=>{const Z=S.get(J);K.forEach(De=>Hc(De,Z))}),v.forEach(K=>{this.processLeaveNode(K)})});const z=[],X=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(n).forEach(Z=>{const De=Z.player,Ht=Z.element;if(z.push(De),this.collectedEnterElements.length){const yn=Ht[Wr];if(yn&&yn.setForMove){if(yn.previousTriggersValues&&yn.previousTriggersValues.has(Z.triggerName)){const Aa=yn.previousTriggersValues.get(Z.triggerName),xr=this.statesByElement.get(Z.element);if(xr&&xr.has(Z.triggerName)){const uy=xr.get(Z.triggerName);uy.value=Aa,xr.set(Z.triggerName,uy)}}return void De.destroy()}}const Ai=!d||!this.driver.containsElement(d,Ht),fr=S.get(Ht),ho=m.get(Ht),st=this._buildInstruction(Z,r,ho,fr,Ai);if(st.errors&&st.errors.length)return void X.push(st);if(Ai)return De.onStart(()=>Ia(Ht,st.fromStyles)),De.onDestroy(()=>Ti(Ht,st.toStyles)),void i.push(De);if(Z.isFallbackTransition)return De.onStart(()=>Ia(Ht,st.fromStyles)),De.onDestroy(()=>Ti(Ht,st.toStyles)),void i.push(De);const DU=[];st.timelines.forEach(yn=>{yn.stretchStartingKeyframe=!0,this.disabledNodes.has(yn.element)||DU.push(yn)}),st.timelines=DU,r.append(Ht,st.timelines),o.push({instruction:st,player:De,element:Ht}),st.queriedElements.forEach(yn=>lr(a,yn,[]).push(De)),st.preStyleProps.forEach((yn,Aa)=>{if(yn.size){let xr=u.get(Aa);xr||u.set(Aa,xr=new Set),yn.forEach((uy,aA)=>xr.add(aA))}}),st.postStyleProps.forEach((yn,Aa)=>{let xr=c.get(Aa);xr||c.set(Aa,xr=new Set),yn.forEach((uy,aA)=>xr.add(aA))})});if(X.length){const K=[];X.forEach(J=>{K.push(function zve(t,e){return new A(3505,!1)}())}),z.forEach(J=>J.destroy()),this.reportError(K)}const de=new Map,Ue=new Map;o.forEach(K=>{const J=K.element;r.has(J)&&(Ue.set(J,J),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,de))}),i.forEach(K=>{const J=K.element;this._getPreviousPlayers(J,!1,K.namespaceId,K.triggerName,null).forEach(De=>{lr(de,J,[]).push(De),De.destroy()})});const Tt=v.filter(K=>mU(K,u,c)),hr=new Map;fU(hr,this.driver,w,c,ps).forEach(K=>{mU(K,u,c)&&Tt.push(K)});const Xh=new Map;f.forEach((K,J)=>{fU(Xh,this.driver,new Set(K),u,"!")}),Tt.forEach(K=>{const J=hr.get(K),Z=Xh.get(K);hr.set(K,new Map([...J?.entries()??[],...Z?.entries()??[]]))});const Ta=[],CU=[],IU={};o.forEach(K=>{const{element:J,player:Z,instruction:De}=K;if(r.has(J)){if(l.has(J))return Z.onDestroy(()=>Ti(J,De.toStyles)),Z.disabled=!0,Z.overrideTotalTime(De.totalTime),void i.push(Z);let Ht=IU;if(Ue.size>1){let fr=J;const ho=[];for(;fr=fr.parentNode;){const st=Ue.get(fr);if(st){Ht=st;break}ho.push(fr)}ho.forEach(st=>Ue.set(st,Ht))}const Ai=this._buildAnimation(Z.namespaceId,De,de,s,Xh,hr);if(Z.setRealPlayer(Ai),Ht===IU)Ta.push(Z);else{const fr=this.playersByElement.get(Ht);fr&&fr.length&&(Z.parentPlayer=co(fr)),i.push(Z)}}else Ia(J,De.fromStyles),Z.onDestroy(()=>Ti(J,De.toStyles)),CU.push(Z),l.has(J)&&i.push(Z)}),CU.forEach(K=>{const J=s.get(K.element);if(J&&J.length){const Z=co(J);K.setRealPlayer(Z)}}),i.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<v.length;K++){const J=v[K],Z=J[Wr];if(Hc(J,W0),Z&&Z.hasAnimation)continue;let De=[];if(a.size){let Ai=a.get(J);Ai&&Ai.length&&De.push(...Ai);let fr=this.driver.query(J,GT,!0);for(let ho=0;ho<fr.length;ho++){let st=a.get(fr[ho]);st&&st.length&&De.push(...st)}}const Ht=De.filter(Ai=>!Ai.destroyed);Ht.length?G4e(this,J,Ht):this.processLeaveNode(J)}return v.length=0,Ta.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();const J=this.players.indexOf(K);this.players.splice(J,1)}),K.play()}),Ta}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Yh;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const c=u.element,l=c!==s,d=lr(r,c,[]);this._getPreviousPlayers(c,l,o,a,n.toState).forEach(f=>{const m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),d.push(f)})}Ia(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,c=[],l=new Set,d=new Set,h=n.timelines.map(m=>{const y=m.element;l.add(y);const v=y[Wr];if(v&&v.removedBeforeQueried)return new qh(m.duration,m.delay);const C=y!==u,w=function z4e(t){const e=[];return gU(t,e),e}((r.get(y)||L4e).map(de=>de.getRealPlayer())).filter(de=>!!de.element&&de.element===y),S=s.get(y),O=o.get(y),z=zB(this._normalizer,m.keyframes,S,O),X=this._buildPlayer(m,z,w);if(m.subTimeline&&i&&d.add(y),C){const de=new iA(e,a,y);de.setRealPlayer(X),c.push(de)}return X});c.forEach(m=>{lr(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function j4e(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,m.element,m))}),l.forEach(m=>Mr(m,JB));const f=co(h);return f.onDestroy(()=>{l.forEach(m=>Hc(m,JB)),Ti(u,n.toStyles)}),d.forEach(m=>{lr(i,m,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new qh(e.duration,e.delay)}}class iA{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new qh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>VT(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){lr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function iy(t){return t&&1===t.nodeType}function hU(t,e){const n=t.style.display;return t.style.display=e??"none",n}function fU(t,e,n,r,i){const s=[];n.forEach(u=>s.push(hU(u)));const o=[];r.forEach((u,c)=>{const l=new Map;u.forEach(d=>{const h=e.computeStyle(c,d,i);l.set(d,h),(!h||0==h.length)&&(c[Wr]=V4e,o.push(c))}),t.set(c,l)});let a=0;return n.forEach(u=>hU(u,s[a++])),o}function pU(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=n.has(c)?c:i.has(c)?1:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function Mr(t,e){t.classList?.add(e)}function Hc(t,e){t.classList?.remove(e)}function G4e(t,e,n){co(n).onDone(()=>t.processLeaveNode(e))}function gU(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof HB?gU(r.players,e):e.push(r)}}function mU(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class sy{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new U4e(e,n,r),this._timelineEngine=new R4e(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=KT(this._driver,s,u,[]);if(u.length)throw function Pve(t,e){return new A(3404,!1)}();a=function S4e(t,e,n){return new M4e(t,e,n)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=qB(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=qB(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let K4e=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ti(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ti(this._element,this._initialStyles),this._endStyles&&(Ti(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ia(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ia(this._element,this._endStyles),this._endStyles=null),Ti(this._element,this._initialStyles),this._state=3)}}return t})();function sA(t){let e=null;return t.forEach((n,r)=>{(function Q4e(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class yU{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:nU(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Y4e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return KB(e,n)}getParentElement(e){return jT(e)}query(e,n,r){return QB(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,l=o.filter(f=>f instanceof yU);(function r4e(t,e){return 0===t||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((m,y)=>c.set(y,m))});let d=function e4e(t){return t.length?t[0]instanceof Map?t:t.map(e=>ZB(e)):[]}(n).map(f=>lo(f));d=function i4e(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,nU(t,a)))}}return e}(e,d,c);const h=function W4e(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=sA(e[0]),e.length>1&&(r=sA(e[e.length-1]))):e instanceof Map&&(n=sA(e)),n||r?new K4e(t,n,r):null}(e,d);return new yU(e,d,u,h)}}let X4e=(()=>{class t extends UB{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:yr.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?jB(n):n;return _U(this._renderer,null,r,"register",[i]),new J4e(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(B(bl),B(Xt))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();class J4e extends hve{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new Z4e(this._id,e,n||{},this._renderer)}}class Z4e{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return _U(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function _U(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const vU="@.disabled";let e1e=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let l=this._rendererCache.get(s);return l||(l=new EU("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,l)),l}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const u=l=>{Array.isArray(l)?l.forEach(u):this.engine.registerTrigger(o,a,n,l.name,l)};return r.data.animation.forEach(u),new t1e(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(B(bl),B(sy),B(Se))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();class EU{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==vU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class t1e extends EU{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==vU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function n1e(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function r1e(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}let i1e=(()=>{class t extends sy{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt),B($T),B(ZT),B(So))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const wU=[{provide:UB,useClass:X4e},{provide:ZT,useFactory:function s1e(){return new I4e}},{provide:sy,useClass:i1e},{provide:bl,useFactory:function o1e(t,e,n){return new e1e(t,e,n)},deps:[U4,sy,Se]}],oA=[{provide:$T,useFactory:()=>new Y4e},{provide:oM,useValue:"BrowserAnimations"},...wU],bU=[{provide:$T,useClass:YB},{provide:oM,useValue:"NoopAnimations"},...wU];let a1e=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?bU:oA}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Ot({providers:oA,imports:[lP]})}return t})(),u1e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t,bootstrap:[N_e]});static#n=this.\u0275inj=Ot({providers:[{provide:Ss,useClass:Ak}],imports:[lP,A_e,R_e,BB,rve,mg,vB,BB,iue(()=>sue(VB_firebaseConfig)),_me(()=>vme()),dve,a1e]})}return t})();FZ().bootstrapModule(u1e).catch(t=>console.error(t))}},Le=>{Le(Le.s=922)}]);