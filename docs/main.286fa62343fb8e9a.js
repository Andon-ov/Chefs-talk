"use strict";(self.webpackChunkchefs_talks=self.webpackChunkchefs_talks||[]).push([[179],{6304:(st,Ee,P)=>{P.d(Ee,{Dh:()=>Re,GT:()=>he,cc:()=>Oe,on:()=>Se,pX:()=>se,xv:()=>Ue});var s=P(8926),L=P(120);st=P.hmd(st);const ie=["ngOnDestroy"],se=(xe,Ae,Je,we={})=>new Proxy(xe,{get:(Te,ce)=>Je.runOutsideAngular(()=>{var ve;if(xe[ce])return!(null===(ve=we?.spy)||void 0===ve)&&ve.get&&we.spy.get(ce,xe[ce]),xe[ce];if(ie.indexOf(ce)>-1)return()=>{};const Me=Ae.toPromise().then(K=>{const k=K&&K[ce];return"function"==typeof k?k.bind(K):k&&k.then?k.then(W=>Je.run(()=>W)):Je.run(()=>k)});return new Proxy(()=>{},{get:(K,k)=>Me[k],apply:(K,k,W)=>Me.then(pe=>{var Mt;const cn=pe&&pe(...W);return!(null===(Mt=we?.spy)||void 0===Mt)&&Mt.apply&&we.spy.apply(ce,W,cn),cn})})})}),he=(xe,Ae)=>{Ae.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(we=>{Object.defineProperty(xe.prototype,we,Object.getOwnPropertyDescriptor(Je.prototype||Je,we))})})};class ye{constructor(Ae){return Ae}}const Re=new s.OlP("angularfire2.app.options"),Ue=new s.OlP("angularfire2.app.name");function Se(xe,Ae,Je){const Te="object"==typeof Je&&Je||{};Te.name=Te.name||"string"==typeof Je&&Je||"[DEFAULT]";const ve=L.Z.apps.filter(Me=>Me&&Me.name===Te.name)[0]||Ae.runOutsideAngular(()=>L.Z.initializeApp(xe,Te));try{JSON.stringify(xe)!==JSON.stringify(ve.options)&&B("error",`${ve.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(ve)}const B=(xe,...Ae)=>{(0,s.X6Q)()&&typeof console<"u"&&console[xe](...Ae)};function Oe(xe,Ae,Je,we,Te){const[,ce,ve]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===xe)||[];if(ce)return function ue(xe,Ae){try{return xe.toString()===Ae.toString()}catch{return xe===Ae}}(Te,ve)||(Be("error",`${Ae} was already initialized on the ${Je} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:Te,was:ve})),ce;{const Me=we();return globalThis.\u0275AngularfireInstanceCache.push([xe,Me,Te]),Me}}const Qe=!!st.hot,Be=(xe,...Ae)=>{(0,s.X6Q)()&&typeof console<"u"&&console[xe](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6710:(st,Ee,P)=>{P.d(Ee,{$:()=>ul,A:()=>Z,D:()=>ue,I:()=>Yc,J:()=>bu,L:()=>ji,N:()=>Qt,P:()=>xl,Q:()=>mt,R:()=>kI,U:()=>Cn,V:()=>sl,W:()=>xo,X:()=>os,Y:()=>$i,Z:()=>Cs,_:()=>_h,a:()=>ku,a0:()=>bI,a1:()=>yn,a2:()=>uD,a3:()=>cD,a4:()=>S_,a5:()=>Fp,a6:()=>Nu,a7:()=>ya,a8:()=>M_,a9:()=>pr,aA:()=>k,aB:()=>Ol,aC:()=>ct,aD:()=>rr,aE:()=>ko,aF:()=>$u,aG:()=>Pi,aH:()=>_n,aL:()=>Fu,aO:()=>Mi,aa:()=>hl,ab:()=>R_,ac:()=>P_,ad:()=>k_,ae:()=>Lp,af:()=>F_,ai:()=>Ru,aj:()=>lD,ak:()=>dD,an:()=>Du,ao:()=>vl,aq:()=>wl,ar:()=>bh,as:()=>pe,at:()=>Ln,au:()=>vt,av:()=>Te,aw:()=>Ra,ax:()=>zu,ay:()=>Un,az:()=>ce,b:()=>gr,c:()=>li,d:()=>Ds,e:()=>Rl,f:()=>W_,g:()=>jn,h:()=>Hu,i:()=>Qp,j:()=>Fh,k:()=>ps,l:()=>Ph,m:()=>$n,p:()=>Ue,r:()=>ut,s:()=>ir,u:()=>eg});var s=P(5861),L=P(9058),ie=P(7592),se=P(7582),he=P(7879),ye=P(4537);const Ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ue=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new he.Yd("@firebase/auth");function we(I,...m){Ae.logLevel<=he.in.ERROR&&Ae.error(`Auth (${ie.SDK_VERSION}): ${I}`,...m)}function Te(I,...m){throw K(I,...m)}function ce(I,...m){return K(I,...m)}function ve(I,m,_){const w=Object.assign(Object.assign({},Qe()),{[m]:_});return new L.LL("auth","Firebase",w).create(m,{appName:I.name})}function Me(I,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Te(I,"argument-error"),ve(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K(I,...m){if("string"!=typeof I){const _=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(_,...w)}return Be.create(I,...m)}function k(I,m,..._){if(!I)throw K(m,..._)}function W(I){const m="INTERNAL ASSERTION FAILED: "+I;throw we(m),new Error(m)}function pe(I,m){I||W(m)}function Mt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function cn(){return"http:"===kn()||"https:"===kn()}function kn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class pn{constructor(m,_){this.shortDelay=m,this.longDelay=_,pe(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ii(I,m){pe(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Y{static initialize(m,_,w){this.fetchImpl=m,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oe=new pn(3e4,6e4);function J(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function de(I,m,_,w){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(I,m,_,w,D={}){return at(I,D,(0,s.Z)(function*(){let x={},j={};w&&("GET"===m?j=w:x={body:JSON.stringify(w)});const ee=(0,L.xO)(Object.assign({key:I.config.apiKey},j)).slice(1),Pe=yield I._getAdditionalHeaders();return Pe["Content-Type"]="application/json",I.languageCode&&(Pe["X-Firebase-Locale"]=I.languageCode),Y.fetch()(At(I,I.config.apiHost,_,ee),Object.assign({method:m,headers:Pe,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function at(I,m,_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(I,m,_){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},te),m);try{const D=new Ze(I),x=yield Promise.race([_(),D.promise]);D.clearNetworkTimeout();const j=yield x.json();if("needConfirmation"in j)throw nn(I,"account-exists-with-different-credential",j);if(x.ok&&!("errorMessage"in j))return j;{const ee=x.ok?j.errorMessage:j.error.message,[Pe,Le]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw nn(I,"credential-already-in-use",j);if("EMAIL_EXISTS"===Pe)throw nn(I,"email-already-in-use",j);if("USER_DISABLED"===Pe)throw nn(I,"user-disabled",j);const tt=w[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Le)throw ve(I,tt,Le);Te(I,tt)}}catch(D){if(D instanceof L.ZR)throw D;Te(I,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function on(I,m,_,w){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(I,m,_,w,D={}){const x=yield de(I,m,_,w,D);return"mfaPendingCredential"in x&&Te(I,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function At(I,m,_,w){const D=`${m}${_}?${w}`;return I.config.emulator?ii(I.config,D):`${I.config.apiScheme}://${D}`}class Ze{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(ce(this.auth,"network-request-failed")),oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nn(I,m,_){const w={appName:I.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const D=ce(I,m,w);return D.customData._tokenResponse=_,D}function Vr(){return(Vr=(0,s.Z)(function*(I,m){return de(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Dr(){return(Dr=(0,s.Z)(function*(I,m){return de(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(I,m){return de(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function si(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ts(){return(ts=(0,s.Z)(function*(I,m=!1){const _=(0,L.m9)(I),w=yield _.getIdToken(m),D=Ct(w);k(D&&D.exp&&D.auth_time&&D.iat,_.auth,"internal-error");const x="object"==typeof D.firebase?D.firebase:void 0,j=x?.sign_in_provider;return{claims:D,token:w,authTime:si(Yn(D.auth_time)),issuedAtTime:si(Yn(D.iat)),expirationTime:si(Yn(D.exp)),signInProvider:j||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function Yn(I){return 1e3*Number(I)}function Ct(I){const[m,_,w]=I.split(".");if(void 0===m||void 0===_||void 0===w)return we("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(_);return D?JSON.parse(D):(we("Failed to decode base64 JWT payload"),null)}catch(D){return we("Caught error parsing JWT payload as JSON",D?.toString()),null}}function qr(I,m){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(I,m,_=!1){if(_)return m;try{return yield m}catch(w){throw w instanceof L.ZR&&function hr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}class ns{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const D=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),w)}iteration(){var m=this;return(0,s.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class Vt{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=si(this.lastLoginAt),this.creationTime=si(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rs(I){return rn.apply(this,arguments)}function rn(){return rn=(0,s.Z)(function*(I){var m;const _=I.auth,w=yield I.getIdToken(),D=yield qr(I,function Zr(I,m){return qi.apply(this,arguments)}(_,{idToken:w}));k(D?.users.length,_,"internal-error");const x=D.users[0];I._notifyReloadListener(x);const j=null!==(m=x.providerUserInfo)&&void 0!==m&&m.length?function Nt(I){return I.map(m=>{var{providerId:_}=m,w=(0,se._T)(m,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(x.providerUserInfo):[],ee=function Wc(I,m){return[...I.filter(w=>!m.some(D=>D.providerId===w.providerId)),...m]}(I.providerData,j),tt=!!I.isAnonymous&&!(I.email&&x.passwordHash||ee?.length),kt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ee,metadata:new Vt(x.createdAt,x.lastLoginAt),isAnonymous:tt};Object.assign(I,kt)}),rn.apply(this,arguments)}function Gt(){return(Gt=(0,s.Z)(function*(I){const m=(0,L.m9)(I);yield rs(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(I,m){const _=yield at(I,{},(0,s.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:D,apiKey:x}=I.config,j=At(I,D,"/v1/token",`key=${x}`),ee=yield I._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",Y.fetch()(j,{method:"POST",headers:ee,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class is{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){k(m.idToken,"internal-error"),k(typeof m.idToken<"u","internal-error"),k(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Ot(I){const m=Ct(I);return k(m,"internal-error"),k(typeof m.exp<"u","internal-error"),k(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var w=this;return(0,s.Z)(function*(){return k(!w.accessToken||w.refreshToken,m,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var w=this;return(0,s.Z)(function*(){const{accessToken:D,refreshToken:x,expiresIn:j}=yield function ma(I,m){return bi.apply(this,arguments)}(m,_);w.updateTokensAndExpiration(D,x,Number(j))})()}updateTokensAndExpiration(m,_,w){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,_){const{refreshToken:w,accessToken:D,expirationTime:x}=_,j=new is;return w&&(k("string"==typeof w,"internal-error",{appName:m}),j.refreshToken=w),D&&(k("string"==typeof D,"internal-error",{appName:m}),j.accessToken=D),x&&(k("number"==typeof x,"internal-error",{appName:m}),j.expirationTime=x),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new is,this.toJSON())}_performRefresh(){return W("not implemented")}}function je(I,m){k("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class fe{constructor(m){var{uid:_,auth:w,stsTokenManager:D}=m,x=(0,se._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Vt(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,s.Z)(function*(){const w=yield qr(_,_.stsTokenManager.getToken(_.auth,m));return k(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(m){return function Ys(I){return ts.apply(this,arguments)}(this,m)}reload(){return function mn(I){return Gt.apply(this,arguments)}(this)}_assign(m){this!==m&&(k(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const _=new fe(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(m){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var w=this;return(0,s.Z)(function*(){let D=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),D=!0),_&&(yield rs(w)),yield w.auth._persistUserIfCurrent(w),D&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,s.Z)(function*(){const _=yield m.getIdToken();return yield qr(m,function Br(I,m){return Vr.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var w,D,x,j,ee,Pe,Le,tt;const kt=null!==(w=_.displayName)&&void 0!==w?w:void 0,or=null!==(D=_.email)&&void 0!==D?D:void 0,Ps=null!==(x=_.phoneNumber)&&void 0!==x?x:void 0,zi=null!==(j=_.photoURL)&&void 0!==j?j:void 0,pg=null!==(ee=_.tenantId)&&void 0!==ee?ee:void 0,Pa=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,Zl=null!==(Le=_.createdAt)&&void 0!==Le?Le:void 0,Oa=null!==(tt=_.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:Ju,emailVerified:ka,isAnonymous:Wi,providerData:Ki,stsTokenManager:pi}=_;k(Ju&&pi,m,"internal-error");const Xu=is.fromJSON(this.name,pi);k("string"==typeof Ju,m,"internal-error"),je(kt,m.name),je(or,m.name),k("boolean"==typeof ka,m,"internal-error"),k("boolean"==typeof Wi,m,"internal-error"),je(Ps,m.name),je(zi,m.name),je(pg,m.name),je(Pa,m.name),je(Zl,m.name),je(Oa,m.name);const Uo=new fe({uid:Ju,auth:m,email:or,emailVerified:ka,displayName:kt,isAnonymous:Wi,photoURL:zi,phoneNumber:Ps,tenantId:pg,stsTokenManager:Xu,createdAt:Zl,lastLoginAt:Oa});return Ki&&Array.isArray(Ki)&&(Uo.providerData=Ki.map(ec=>Object.assign({},ec))),Pa&&(Uo._redirectEventId=Pa),Uo}static _fromIdTokenResponse(m,_,w=!1){return(0,s.Z)(function*(){const D=new is;D.updateFromServerResponse(_);const x=new fe({uid:_.localId,auth:m,stsTokenManager:D,isAnonymous:w});return yield rs(x),x})()}}const We=new Map;function ct(I){pe(I instanceof Function,"Expected a class definition");let m=We.get(I);return m?(pe(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,We.set(I,m),m)}const Qt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,w){var D=this;return(0,s.Z)(function*(){D.storage[_]=w})()}_get(_){var w=this;return(0,s.Z)(function*(){const D=w.storage[_];return void 0===D?null:D})()}_remove(_){var w=this;return(0,s.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return I.type="NONE",I})();function rr(I,m,_){return`firebase:${I}:${m}:${_}`}class U{constructor(m,_,w){this.persistence=m,this.auth=_,this.userKey=w;const{config:D,name:x}=this.auth;this.fullUserKey=rr(this.userKey,D.apiKey,x),this.fullPersistenceKey=rr("persistence",D.apiKey,x),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?fe._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,s.Z)(function*(){if(_.persistence===m)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,w="authUser"){return(0,s.Z)(function*(){if(!_.length)return new U(ct(Qt),m,w);const D=(yield Promise.all(_.map(function(){var Le=(0,s.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return Le.apply(this,arguments)}}()))).filter(Le=>Le);let x=D[0]||ct(Qt);const j=rr(w,m.config.apiKey,m.name);let ee=null;for(const Le of _)try{const tt=yield Le._get(j);if(tt){const kt=fe._fromJSON(m,tt);Le!==x&&(ee=kt),x=Le;break}}catch{}const Pe=D.filter(Le=>Le._shouldAllowMigration);return x._shouldAllowMigration&&Pe.length?(x=Pe[0],ee&&(yield x._set(j,ee.toJSON())),yield Promise.all(_.map(function(){var Le=(0,s.Z)(function*(tt){if(tt!==x)try{yield tt._remove(j)}catch{}});return function(tt){return Le.apply(this,arguments)}}())),new U(x,m,w)):new U(x,m,w)})()}}function F(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(et(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if($(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Jt(m))return"Blackberry";if(Fn(m))return"Webos";if(le(m))return"Safari";if((m.includes("chrome/")||Q(m))&&!m.includes("edge/"))return"Chrome";if(vt(m))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function $(I=(0,L.z$)()){return/firefox\//i.test(I)}function le(I=(0,L.z$)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Q(I=(0,L.z$)()){return/crios\//i.test(I)}function et(I=(0,L.z$)()){return/iemobile/i.test(I)}function vt(I=(0,L.z$)()){return/android/i.test(I)}function Jt(I=(0,L.z$)()){return/blackberry/i.test(I)}function Fn(I=(0,L.z$)()){return/webos/i.test(I)}function Ln(I=(0,L.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Un(I=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function ss(I=(0,L.z$)()){return Ln(I)||vt(I)||Fn(I)||Jt(I)||/windows phone/i.test(I)||et(I)}function Eu(I,m=[]){let _;switch(I){case"Browser":_=F((0,L.z$)());break;case"Worker":_=`${F((0,L.z$)())}-${I}`;break;default:_=I}const w=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${ie.SDK_VERSION}/${w}`}function Es(){return(Es=(0,s.Z)(function*(I){return(yield de(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dp(I,m){return sh.apply(this,arguments)}function sh(){return(sh=(0,s.Z)(function*(I,m){return de(I,"GET","/v2/recaptchaConfig",J(I,m))})).apply(this,arguments)}function Sp(I){return void 0!==I&&void 0!==I.getResponse}function Ai(I){return void 0!==I&&void 0!==I.enterprise}class Ao{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Di(I){return new Promise((m,_)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=m,w.onerror=D=>{const x=ce("internal-error");x.customData=D,_(x)},w.type="text/javascript",w.charset="UTF-8",function Is(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(w)})}function Zt(I){return`__${I}${Math.floor(1e6*Math.random())}`}class oh{constructor(m){this.type="recaptcha-enterprise",this.auth=_n(m)}verify(m="verify",_=!1){var w=this;return(0,s.Z)(function*(){function x(){return x=(0,s.Z)(function*(ee){if(!_){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Pe=(0,s.Z)(function*(Le,tt){Dp(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kt=>{if(void 0!==kt.recaptchaKey){const or=new Ao(kt);return null==ee.tenantId?ee._agentRecaptchaConfig=or:ee._tenantRecaptchaConfigs[ee.tenantId]=or,Le(or.siteKey)}tt(new Error("recaptcha Enterprise site key undefined"))}).catch(kt=>{tt(kt)})});return function(Le,tt){return Pe.apply(this,arguments)}}())}),x.apply(this,arguments)}function j(ee,Pe,Le){const tt=window.grecaptcha;Ai(tt)?tt.enterprise.ready(()=>{tt.enterprise.execute(ee,{action:m}).then(kt=>{Pe(kt)}).catch(()=>{Pe("NO_RECAPTCHA")})}):Le(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Pe)=>{(function D(ee){return x.apply(this,arguments)})(w.auth).then(Le=>{if(!_&&Ai(window.grecaptcha))j(Le,ee,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));Di("https://www.google.com/recaptcha/enterprise.js?render="+Le).then(()=>{j(Le,ee,Pe)}).catch(tt=>{Pe(tt)})}}).catch(Le=>{Pe(Le)})})})()}}function fr(I,m,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(I,m,_,w=!1){const D=new oh(I);let x;try{x=yield D.verify(_)}catch{x=yield D.verify(_,!0)}const j=Object.assign({},m);return Object.assign(j,w?{captchaResp:x}:{captchaResponse:x}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class xp{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const w=x=>new Promise((j,ee)=>{try{j(m(x))}catch(Pe){ee(Pe)}});w.onAbort=_,this.queue.push(w);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,s.Z)(function*(){if(_.auth.currentUser===m)return;const w=[];try{for(const D of _.queue)yield D(m),D.onAbort&&w.push(D.onAbort)}catch(D){w.reverse();for(const x of w)try{x()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class oi{constructor(m,_,w,D){this.app=m,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mp(this),this.idTokenSubscription=new Mp(this),this.beforeStateQueue=new xp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(m,_){var w=this;return _&&(this._popupRedirectResolver=ct(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var D,x;if(!w._deleted&&(w.persistenceManager=yield U.create(w,m),!w._deleted)){if(null!==(D=w._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(x=w.currentUser)||void 0===x?void 0:x.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,s.Z)(function*(){var w;const D=yield _.assertedPersistence.getCurrentUser();let x=D,j=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ee=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Pe=x?._redirectEventId,Le=yield _.tryRedirectSignIn(m);(!ee||ee===Pe)&&Le?.user&&(x=Le.user,j=!0)}if(!x)return _.directlySetCurrentUser(null);if(!x._redirectEventId){if(j)try{yield _.beforeStateQueue.runMiddleware(x)}catch(ee){x=D,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ee))}return x?_.reloadAndSetCurrentUserOrClear(x):_.directlySetCurrentUser(null)}return k(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===x._redirectEventId?_.directlySetCurrentUser(x):_.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(m){var _=this;return(0,s.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,s.Z)(function*(){try{yield rs(m)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function fn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,s.Z)(function*(){const w=m?(0,L.m9)(m):null;return w&&k(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(m,_=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return m&&k(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(ct(m))}))}initializeRecaptchaConfig(){var m=this;return(0,s.Z)(function*(){const _=yield Dp(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new Ao(_);null==m.tenantId?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,w.emailPasswordEnabled&&new oh(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,_,w){return this.registerStateListener(this.authStateSubscription,m,_,w)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,w){return this.registerStateListener(this.idTokenSubscription,m,_,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var w=this;return(0,s.Z)(function*(){const D=yield w.getOrInitRedirectPersistenceManager(_);return null===m?D.removeCurrentUser():D.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const w=m&&ct(m)||_._popupRedirectResolver;k(w,_,"argument-error"),_.redirectPersistenceManager=yield U.create(_,[ct(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,s.Z)(function*(){var w,D;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===m?_._currentUser:(null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,s.Z)(function*(){if(m===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,w,D){if(this._deleted)return()=>{};const x="function"==typeof _?_:_.next.bind(_),j=this._isInitialized?Promise.resolve():this._initializationPromise;return k(j,this,"internal-error"),j.then(()=>x(this.currentUser)),"function"==typeof _?m.addObserver(_,w,D):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Eu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var _;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const D=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();D&&(w["X-Firebase-Client"]=D);const x=yield m._getAppCheckToken();return x&&(w["X-Firebase-AppCheck"]=x),w})()}_getAppCheckToken(){var m=this;return(0,s.Z)(function*(){var _;const w=yield null===(_=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function Je(I,...m){Ae.logLevel<=he.in.WARN&&Ae.warn(`Auth (${ie.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function _n(I){return(0,L.m9)(I)}class Mp{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yc(I,m,_){const w=_n(I);k(w._canInitEmulator,w,"emulator-config-failed"),k(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const D=!!_?.disableWarnings,x=Tu(m),{host:j,port:ee}=function ah(I){const m=Tu(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(w);if(D){const x=D[1];return{host:x,port:uh(w.substr(x.length+1))}}{const[x,j]=w.split(":");return{host:x,port:uh(j)}}}(m);w.config.emulator={url:`${x}//${j}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:j,port:ee,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function y_(){function I(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Tu(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function uh(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class bu{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return W("not implemented")}_getIdTokenResponse(m){return W("not implemented")}_linkToIdToken(m,_){return W("not implemented")}_getReauthenticationResolver(m){return W("not implemented")}}function ai(I,m){return Np.apply(this,arguments)}function Np(){return(Np=(0,s.Z)(function*(I,m){return de(I,"POST","/v1/accounts:resetPassword",J(I,m))})).apply(this,arguments)}function Rp(I,m){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,s.Z)(function*(I,m){return de(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ui(){return(ui=(0,s.Z)(function*(I,m){return de(I,"POST","/v1/accounts:update",J(I,m))})).apply(this,arguments)}function ch(I,m){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,s.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithPassword",J(I,m))})).apply(this,arguments)}function Jc(I,m){return lh.apply(this,arguments)}function lh(){return(lh=(0,s.Z)(function*(I,m){return de(I,"POST","/v1/accounts:sendOobCode",J(I,m))})).apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(I,m){return Jc(I,m)})).apply(this,arguments)}function dh(I,m){return hh.apply(this,arguments)}function hh(){return(hh=(0,s.Z)(function*(I,m){return Jc(I,m)})).apply(this,arguments)}function fh(I,m){return Au.apply(this,arguments)}function Au(){return(Au=(0,s.Z)(function*(I,m){return Jc(I,m)})).apply(this,arguments)}function el(){return(el=(0,s.Z)(function*(I,m){return Jc(I,m)})).apply(this,arguments)}function nl(){return(nl=(0,s.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithEmailLink",J(I,m))})).apply(this,arguments)}function Bn(){return(Bn=(0,s.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithEmailLink",J(I,m))})).apply(this,arguments)}class Vn extends bu{constructor(m,_,w,D=null){super("password",w),this._email=m,this._password=_,this._tenantId=D}static _fromEmailAndPassword(m,_){return new Vn(m,_,"password")}static _fromEmailAndCode(m,_,w=null){return new Vn(m,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,s.Z)(function*(){var w;switch(_.signInMethod){case"password":const D={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=m._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const x=yield fr(m,D,"signInWithPassword");return ch(m,x)}return ch(m,D).catch(function(){var x=(0,s.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield fr(m,D,"signInWithPassword");return ch(m,ee)}return Promise.reject(j)});return function(j){return x.apply(this,arguments)}}());case"emailLink":return function tl(I,m){return nl.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Te(m,"internal-error")}})()}_linkToIdToken(m,_){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return Rp(m,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Lt(I,m){return Bn.apply(this,arguments)}(m,{idToken:_,email:w._email,oobCode:w._password});default:Te(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function jr(I,m){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,s.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithIdp",J(I,m))})).apply(this,arguments)}class ji extends bu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new ji(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Te("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:D}=_,x=(0,se._T)(_,["providerId","signInMethod"]);if(!w||!D)return null;const j=new ji(w,D);return j.idToken=x.idToken||void 0,j.accessToken=x.accessToken||void 0,j.secret=x.secret,j.nonce=x.nonce,j.pendingToken=x.pendingToken||null,j}_getIdTokenResponse(m){return jr(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,jr(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,jr(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,L.xO)(_)}return m}}function gh(){return(gh=(0,s.Z)(function*(I,m){return de(I,"POST","/v1/accounts:sendVerificationCode",J(I,m))})).apply(this,arguments)}function un(){return(un=(0,s.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,m))})).apply(this,arguments)}function Tt(){return(Tt=(0,s.Z)(function*(I,m){const _=yield on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,m));if(_.temporaryProof)throw nn(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const tn={USER_NOT_FOUND:"user-not-found"};function Do(){return(Do=(0,s.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),tn)})).apply(this,arguments)}class En extends bu{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new En({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new En({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function mh(I,m){return un.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function ze(I,m){return Tt.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Si(I,m){return Do.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:w,verificationCode:D}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:w,code:D}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:x}=m;return w||_||D||x?new En({verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:x}):null}}class $r{constructor(m){var _,w,D,x,j,ee;const Pe=(0,L.zd)((0,L.pd)(m)),Le=null!==(_=Pe.apiKey)&&void 0!==_?_:null,tt=null!==(w=Pe.oobCode)&&void 0!==w?w:null,kt=function _a(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Pe.mode)&&void 0!==D?D:null);k(Le&&tt&&kt,"argument-error"),this.apiKey=Le,this.operation=kt,this.code=tt,this.continueUrl=null!==(x=Pe.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(j=Pe.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ee=Pe.tenantId)&&void 0!==ee?ee:null}static parseLink(m){const _=function xn(I){const m=(0,L.zd)((0,L.pd)(I)).link,_=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(I)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||_||m||I}(m);try{return new $r(_)}catch{return null}}}let mt=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,w){return Vn._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const D=$r.parseLink(w);return k(D,"argument-error"),Vn._fromEmailAndCode(_,D.code,D.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class xi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class So extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class os extends So{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return k("providerId"in _&&"signInMethod"in _,"argument-error"),ji._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return k(m.idToken||m.accessToken,"argument-error"),ji._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return os.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return os.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:x,nonce:j,providerId:ee}=m;if(!w&&!D&&!_&&!x||!ee)return null;try{return new os(ee)._credential({idToken:_,accessToken:w,nonce:j,pendingToken:x})}catch{return null}}}let Cn=(()=>{class I extends So{constructor(){super("facebook.com")}static credential(_){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),sl=(()=>{class I extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:D}=_;if(!w&&!D)return null;try{return I.credential(w,D)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),xo=(()=>{class I extends So{constructor(){super("github.com")}static credential(_){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Mi extends bu{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return jr(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,jr(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,jr(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:D,pendingToken:x}=_;return w&&D&&x&&w===D?new Mi(w,x):null}static _create(m,_){return new Mi(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $i extends xi{constructor(m){k(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return $i.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return $i.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Mi.fromJSON(m);return k(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:w}=m;if(!_||!w)return null;try{return Mi._create(w,_)}catch{return null}}}let Cs=(()=>{class I extends So{constructor(){super("twitter.com")}static credential(_,w){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:D}=_;if(!w||!D)return null;try{return I.credential(w,D)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Js(I,m){return as.apply(this,arguments)}function as(){return(as=(0,s.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signUp",J(I,m))})).apply(this,arguments)}class ht{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,w,D=!1){return(0,s.Z)(function*(){const x=yield fe._fromIdTokenResponse(m,w,D),j=TI(w);return new ht({user:x,providerId:j,_tokenResponse:w,operationType:_})})()}static _forOperation(m,_,w){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const D=TI(w);return new ht({user:m,providerId:D,_tokenResponse:w,operationType:_})})()}}function TI(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function _h(I){return ol.apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(I){var m;const _=_n(I);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new ht({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Js(_,{returnSecureToken:!0}),D=yield ht._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ni extends L.ZR{constructor(m,_,w,D){var x;super(_.code,_.message),this.operationType=w,this.user=D,Object.setPrototypeOf(this,Ni.prototype),this.customData={appName:m.name,tenantId:null!==(x=m.tenantId)&&void 0!==x?x:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,_,w,D){return new Ni(m,_,w,D)}}function al(I,m,_,w){return("reauthenticate"===m?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Ni._fromErrorAndOperation(I,x,m,w):x})}function Mo(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function Du(I,m){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,s.Z)(function*(I,m){const _=(0,L.m9)(I);yield Jn(!0,_,m);const{providerUserInfo:w}=yield function wt(I,m){return Dr.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),D=Mo(w||[]);return _.providerData=_.providerData.filter(x=>D.has(x.providerId)),D.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Zn.apply(this,arguments)}function w_(I,m){return xr.apply(this,arguments)}function xr(){return(xr=(0,s.Z)(function*(I,m,_=!1){const w=yield qr(I,m._linkToIdToken(I.auth,yield I.getIdToken()),_);return ht._forOperation(I,"link",w)})).apply(this,arguments)}function Jn(I,m,_){return Su.apply(this,arguments)}function Su(){return(Su=(0,s.Z)(function*(I,m,_){yield rs(m);const D=!1===I?"provider-already-linked":"no-such-provider";k(Mo(m.providerData).has(_)===I,m.auth,D)})).apply(this,arguments)}function Xs(I,m){return xu.apply(this,arguments)}function xu(){return(xu=(0,s.Z)(function*(I,m,_=!1){const{auth:w}=I,D="reauthenticate";try{const x=yield qr(I,al(w,D,m,I),_);k(x.idToken,w,"internal-error");const j=Ct(x.idToken);k(j,w,"internal-error");const{sub:ee}=j;return k(I.uid===ee,w,"user-mismatch"),ht._forOperation(I,D,x)}catch(x){throw"auth/user-not-found"===x?.code&&Te(w,"user-mismatch"),x}})).apply(this,arguments)}function Hi(I,m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,s.Z)(function*(I,m,_=!1){const w="signIn",D=yield al(I,w,m),x=yield ht._fromIdTokenResponse(I,w,D);return _||(yield I._updateCurrentUser(x.user)),x})).apply(this,arguments)}function ul(I,m){return yh.apply(this,arguments)}function yh(){return(yh=(0,s.Z)(function*(I,m){return Hi(_n(I),m)})).apply(this,arguments)}function bI(I,m){return Op.apply(this,arguments)}function Op(){return(Op=(0,s.Z)(function*(I,m){const _=(0,L.m9)(I);return yield Jn(!1,_,m.providerId),w_(_,m)})).apply(this,arguments)}function yn(I,m){return C_.apply(this,arguments)}function C_(){return(C_=(0,s.Z)(function*(I,m){return Xs((0,L.m9)(I),m)})).apply(this,arguments)}function T_(){return(T_=(0,s.Z)(function*(I,m){return on(I,"POST","/v1/accounts:signInWithCustomToken",J(I,m))})).apply(this,arguments)}function uD(I,m){return b_.apply(this,arguments)}function b_(){return b_=(0,s.Z)(function*(I,m){const _=_n(I),w=yield function aD(I,m){return T_.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),D=yield ht._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(D.user),D}),b_.apply(this,arguments)}class vh{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?A_._fromServerResponse(m,_):"totpInfo"in _?kp._fromServerResponse(m,_):Te(m,"internal-error")}}class A_ extends vh{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new A_(_)}}class kp extends vh{constructor(m){super("totp",m)}static _fromServerResponse(m,_){return new kp(_)}}function cl(I,m,_){var w;k((null===(w=_.url)||void 0===w?void 0:w.length)>0,I,"invalid-continue-uri"),k(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(k(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(k(_.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function cD(I,m,_){return D_.apply(this,arguments)}function D_(){return D_=(0,s.Z)(function*(I,m,_){var w;const D=_n(I),x={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const j=yield fr(D,x,"getOobCode",!0);_&&cl(D,j,_),yield dh(D,j)}else _&&cl(D,x,_),yield dh(D,x).catch(function(){var j=(0,s.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield fr(D,x,"getOobCode",!0);_&&cl(D,Pe,_),yield dh(D,Pe)}});return function(ee){return j.apply(this,arguments)}}())}),D_.apply(this,arguments)}function S_(I,m,_){return ll.apply(this,arguments)}function ll(){return(ll=(0,s.Z)(function*(I,m,_){yield ai((0,L.m9)(I),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Fp(I,m){return dl.apply(this,arguments)}function dl(){return dl=(0,s.Z)(function*(I,m){yield function CI(I,m){return ui.apply(this,arguments)}((0,L.m9)(I),{oobCode:m})}),dl.apply(this,arguments)}function Nu(I,m){return x_.apply(this,arguments)}function x_(){return(x_=(0,s.Z)(function*(I,m){const _=(0,L.m9)(I),w=yield ai(_,{oobCode:m}),D=w.requestType;switch(k(D,_,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(w.mfaInfo,_,"internal-error");default:k(w.email,_,"internal-error")}let x=null;return w.mfaInfo&&(x=vh._fromServerResponse(_n(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:x},operation:D}})).apply(this,arguments)}function ya(I,m){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,s.Z)(function*(I,m){const{data:_}=yield Nu((0,L.m9)(I),m);return _.email})).apply(this,arguments)}function M_(I,m,_){return N_.apply(this,arguments)}function N_(){return N_=(0,s.Z)(function*(I,m,_){var w;const D=_n(I),x={returnSecureToken:!0,email:m,password:_,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Le=yield fr(D,x,"signUpPassword");j=Js(D,Le)}else j=Js(D,x).catch(function(){var Le=(0,s.Z)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kt=yield fr(D,x,"signUpPassword");return Js(D,kt)}return Promise.reject(tt)});return function(tt){return Le.apply(this,arguments)}}());const ee=yield j.catch(Le=>Promise.reject(Le)),Pe=yield ht._fromIdTokenResponse(D,"signIn",ee);return yield D._updateCurrentUser(Pe.user),Pe}),N_.apply(this,arguments)}function pr(I,m,_){return ul((0,L.m9)(I),mt.credential(m,_))}function hl(I,m,_){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,s.Z)(function*(I,m,_){var w;const D=_n(I),x={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function j(ee,Pe){k(Pe.handleCodeInApp,D,"argument-error"),Pe&&cl(D,ee,Pe)}if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield fr(D,x,"getOobCode",!0);j(ee,_),yield fh(D,ee)}else j(x,_),yield fh(D,x).catch(function(){var ee=(0,s.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Le=yield fr(D,x,"getOobCode",!0);j(Le,_),yield fh(D,Le)}});return function(Pe){return ee.apply(this,arguments)}}())}),Mr.apply(this,arguments)}function R_(I,m){const _=$r.parseLink(m);return"EMAIL_SIGNIN"===_?.operation}function P_(I,m,_){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,s.Z)(function*(I,m,_){const w=(0,L.m9)(I),D=mt.credentialWithLink(m,_||Mt());return k(D._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ul(w,D)})).apply(this,arguments)}function fl(){return(fl=(0,s.Z)(function*(I,m){return de(I,"POST","/v1/accounts:createAuthUri",J(I,m))})).apply(this,arguments)}function k_(I,m){return pl.apply(this,arguments)}function pl(){return pl=(0,s.Z)(function*(I,m){const w={identifier:m,continueUri:cn()?Mt():"http://localhost"},{signinMethods:D}=yield function O_(I,m){return fl.apply(this,arguments)}((0,L.m9)(I),w);return D||[]}),pl.apply(this,arguments)}function Lp(I,m){return gl.apply(this,arguments)}function gl(){return gl=(0,s.Z)(function*(I,m){const _=(0,L.m9)(I),D={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&cl(_.auth,D,m);const{email:x}=yield function v_(I,m){return Xc.apply(this,arguments)}(_.auth,D);x!==I.email&&(yield I.reload())}),gl.apply(this,arguments)}function F_(I,m,_){return ml.apply(this,arguments)}function ml(){return ml=(0,s.Z)(function*(I,m,_){const w=(0,L.m9)(I),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};_&&cl(w.auth,x,_);const{email:j}=yield function E_(I,m){return el.apply(this,arguments)}(w.auth,x);j!==I.email&&(yield I.reload())}),ml.apply(this,arguments)}function va(){return(va=(0,s.Z)(function*(I,m){return de(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ru(I,m){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,s.Z)(function*(I,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const w=(0,L.m9)(I),x={idToken:yield w.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},j=yield qr(w,function _l(I,m){return va.apply(this,arguments)}(w.auth,x));w.displayName=j.displayName||null,w.photoURL=j.photoUrl||null;const ee=w.providerData.find(({providerId:Pe})=>"password"===Pe);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(j)}),Ih.apply(this,arguments)}function lD(I,m){return AI((0,L.m9)(I),m,null)}function dD(I,m){return AI((0,L.m9)(I),null,m)}function AI(I,m,_){return Up.apply(this,arguments)}function Up(){return(Up=(0,s.Z)(function*(I,m,_){const{auth:w}=I,x={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(x.email=m),_&&(x.password=_);const j=yield qr(I,Rp(w,x));yield I._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class yl{constructor(m,_,w={}){this.isNewUser=m,this.providerId=_,this.profile=w}}class Bp extends yl{constructor(m,_,w,D){super(m,_,w),this.username=D}}class Ea extends yl{constructor(m,_){super(m,"facebook.com",_)}}class SI extends Bp{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class wh extends yl{constructor(m,_){super(m,"google.com",_)}}class Vp extends Bp{constructor(m,_,w){super(m,"twitter.com",_,w)}}function vl(I){const{user:m,_tokenResponse:_}=I;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function DI(I){var m,_;if(!I)return null;const{providerId:w}=I,D=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},x=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!w&&I?.idToken){const j=null===(_=null===(m=Ct(I.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(j)return new yl(x,"anonymous"!==j&&"custom"!==j?j:null)}if(!w)return null;switch(w){case"facebook.com":return new Ea(x,D);case"github.com":return new SI(x,D);case"google.com":return new wh(x,D);case"twitter.com":return new Vp(x,D,I.screenName||null);case"custom":case"anonymous":return new yl(x,null);default:return new yl(x,w,D)}}(_)}class eo{constructor(m,_,w){this.type=m,this.credential=_,this.auth=w}static _fromIdtoken(m,_){return new eo("enroll",m,_)}static _fromMfaPendingCredential(m){return new eo("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,w;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return eo._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return eo._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Pu{constructor(m,_,w){this.session=m,this.hints=_,this.signInResolver=w}static _fromError(m,_){const w=_n(m),D=_.customData._serverResponse,x=(D.mfaInfo||[]).map(ee=>vh._fromServerResponse(w,ee));k(D.mfaPendingCredential,w,"internal-error");const j=eo._fromMfaPendingCredential(D.mfaPendingCredential);return new Pu(j,x,function(){var ee=(0,s.Z)(function*(Pe){const Le=yield Pe._process(w,j);delete D.mfaInfo,delete D.mfaPendingCredential;const tt=Object.assign(Object.assign({},D),{idToken:Le.idToken,refreshToken:Le.refreshToken});switch(_.operationType){case"signIn":const kt=yield ht._fromIdTokenResponse(w,_.operationType,tt);return yield w._updateCurrentUser(kt.user),kt;case"reauthenticate":return k(_.user,w,"internal-error"),ht._forOperation(_.user,_.operationType,tt);default:Te(w,"internal-error")}});return function(Pe){return ee.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,s.Z)(function*(){return _.signInResolver(m)})()}}function wl(I,m){var _;const w=(0,L.m9)(I),D=m;return k(m.customData.operationType,w,"argument-error"),k(null===(_=D.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Pu._fromError(w,D)}class Th{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>vh._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new Th(m)}getSession(){var m=this;return(0,s.Z)(function*(){return eo._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var w=this;return(0,s.Z)(function*(){const D=m,x=yield w.getSession(),j=yield qr(w.user,D._process(w.user.auth,x,_));return yield w.user._updateTokensIfNecessary(j),w.user.reload()})()}unenroll(m){var _=this;return(0,s.Z)(function*(){const w="string"==typeof m?m:m.uid,D=yield _.user.getIdToken();try{const x=yield qr(_.user,function Hp(I,m){return de(I,"POST","/v2/accounts/mfaEnrollment:withdraw",J(I,m))}(_.user.auth,{idToken:D,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:j})=>j!==w),yield _.user._updateTokensIfNecessary(x),yield _.user.reload()}catch(x){throw x}})()}}const Ia=new WeakMap;function bh(I){const m=(0,L.m9)(I);return Ia.has(m)||Ia.set(m,Th._fromUser(m)),Ia.get(m)}const Nr="__sak";class Ah{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Nr,"1"),this.storage.removeItem(Nr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const gr=(()=>{class I extends Ah{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Z_(){const I=(0,L.z$)();return le(I)||Ln(I)}()&&function Xt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ss(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const D=this.storage.getItem(w),x=this.localCache[w];D!==x&&_(w,x,D)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ee,Pe,Le)=>{this.notifyListeners(ee,Le)});const D=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(D);if(_.newValue!==ee)null!==_.newValue?this.storage.setItem(D,_.newValue):this.storage.removeItem(D);else if(this.localCache[D]===_.newValue&&!w)return}const x=()=>{const ee=this.storage.getItem(D);!w&&this.localCache[D]===ee||this.notifyListeners(D,ee)},j=this.storage.getItem(D);!function an(){return(0,L.w1)()&&10===document.documentMode}()||j===_.newValue||_.newValue===_.oldValue?x():setTimeout(x,10)}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const x of Array.from(D))x(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var D=()=>super._set,x=this;return(0,s.Z)(function*(){yield D().call(x,_,w),x.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,D=this;return(0,s.Z)(function*(){const x=yield w().call(D,_);return D.localCache[_]=JSON.stringify(x),x})()}_remove(_){var w=()=>super._remove,D=this;return(0,s.Z)(function*(){yield w().call(D,_),delete D.localCache[_]})()}}return I.type="LOCAL",I})(),ku=(()=>{class I extends Ah{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return I.type="SESSION",I})();let ci=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(x=>x.isListeningto(_));if(w)return w;const D=new I(_);return this.receivers.push(D),D}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,s.Z)(function*(){const D=_,{eventId:x,eventType:j,data:ee}=D.data,Pe=w.handlersMap[j];if(!Pe?.size)return;D.ports[0].postMessage({status:"ack",eventId:x,eventType:j});const Le=Array.from(Pe).map(function(){var kt=(0,s.Z)(function*(or){return or(D.origin,ee)});return function(or){return kt.apply(this,arguments)}}()),tt=yield function wa(I){return Promise.all(I.map(function(){var m=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return m.apply(this,arguments)}}()))}(Le);D.ports[0].postMessage({status:"done",eventId:x,eventType:j,response:tt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Fu(I="",m=10){let _="";for(let w=0;w<m;w++)_+=Math.floor(10*Math.random());return I+_}class PI{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,w=50){var D=this;return(0,s.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let j,ee;return new Promise((Pe,Le)=>{const tt=Fu("",20);x.port1.start();const kt=setTimeout(()=>{Le(new Error("unsupported_event"))},w);ee={messageChannel:x,onMessage(or){const Ps=or;if(Ps.data.eventId===tt)switch(Ps.data.status){case"ack":clearTimeout(kt),j=setTimeout(()=>{Le(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Pe(Ps.data.response);break;default:clearTimeout(kt),clearTimeout(j),Le(new Error("invalid_response"))}}},D.handlers.add(ee),x.port1.addEventListener("message",ee.onMessage),D.target.postMessage({eventType:m,eventId:tt,data:_},[x.port2])}).finally(()=>{ee&&D.removeMessageHandler(ee)})})()}}function qn(){return window}function Sh(){return typeof qn().WorkerGlobalScope<"u"&&"function"==typeof qn().importScripts}function Cl(){return(Cl=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zp="firebaseLocalStorageDb",Ca="firebaseLocalStorage",Wp="fbase_key";class Ta{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Mh(I,m){return I.transaction([Ca],m?"readwrite":"readonly").objectStore(Ca)}function Nh(){const I=indexedDB.open(zp,1);return new Promise((m,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(Ca,{keyPath:Wp})}catch(D){_(D)}}),I.addEventListener("success",(0,s.Z)(function*(){const w=I.result;w.objectStoreNames.contains(Ca)?m(w):(w.close(),yield function j_(){const I=indexedDB.deleteDatabase(zp);return new Ta(I).toPromise()}(),m(yield Nh()))}))})}function No(I,m,_){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,s.Z)(function*(I,m,_){const w=Mh(I,!0).put({[Wp]:m,value:_});return new Ta(w).toPromise()})).apply(this,arguments)}function us(){return(us=(0,s.Z)(function*(I,m){const _=Mh(I,!1).get(m),w=yield new Ta(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Yp(I,m){const _=Mh(I,!0).delete(m);return new Ta(_).toPromise()}const Qp=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield Nh()),_.db})()}_withRetries(_){var w=this;return(0,s.Z)(function*(){let D=0;for(;;)try{const x=yield w._openDb();return yield _(x)}catch(x){if(D++>3)throw x;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return Sh()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=ci._getInstance(function xh(){return Sh()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(D,x){return{keyProcessed:(yield _._poll()).includes(x.key)}});return function(D,x){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(D,x){return["keyChanged"]});return function(D,x){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var w,D;if(_.activeServiceWorker=yield function q_(){return Cl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new PI(_.activeServiceWorker);const x=yield _.sender._send("ping",{},800);x&&null!==(w=x[0])&&void 0!==w&&w.fulfilled&&null!==(D=x[0])&&void 0!==D&&D.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Gp(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Nh();return yield No(_,Nr,"1"),yield Yp(_,Nr),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(x=>No(x,_,w)),D.localCache[_]=w,D.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,s.Z)(function*(){const D=yield w._withRetries(x=>function Kp(I,m){return us.apply(this,arguments)}(x,_));return w.localCache[_]=D,D})()}_remove(_){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(D=>Yp(D,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const w=yield _._withRetries(j=>{const ee=Mh(j,!1).getAll();return new Ta(ee).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const D=[],x=new Set;for(const{fbase_key:j,value:ee}of w)x.add(j),JSON.stringify(_.localCache[j])!==JSON.stringify(ee)&&(_.notifyListeners(j,ee),D.push(j));for(const j of Object.keys(_.localCache))_.localCache[j]&&!x.has(j)&&(_.notifyListeners(j,null),D.push(j));return D})()}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const x of Array.from(D))x(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Lu=1e12;class Xp{constructor(m){this.auth=m,this.counter=Lu,this._widgets=new Map}render(m,_){const w=this.counter;return this._widgets.set(w,new OI(m,this.auth.name,_||{})),this.counter++,w}reset(m){var _;const w=m||Lu;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Lu))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,s.Z)(function*(){var w;return null===(w=_._widgets.get(m||Lu))||void 0===w||w.execute(),""})()}}class OI{constructor(m,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof m?document.getElementById(m):m;k(D,"argument-error",{appName:_}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hD(I){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<I;w++)m.push(_.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Uu=Zt("rcb"),Rr=new pn(3e4,6e4);class Rh{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=qn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return k(function Bu(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),m,"argument-error"),this.shouldResolveImmediately(_)&&Sp(qn().grecaptcha)?Promise.resolve(qn().grecaptcha):new Promise((w,D)=>{const x=qn().setTimeout(()=>{D(ce(m,"network-request-failed"))},Rr.get());qn()[Uu]=()=>{qn().clearTimeout(x),delete qn()[Uu];const ee=qn().grecaptcha;if(!ee||!Sp(ee))return void D(ce(m,"internal-error"));const Pe=ee.render;ee.render=(Le,tt)=>{const kt=Pe(Le,tt);return this.counter++,kt},this.hostLanguage=_,w(ee)},Di(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Uu,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(x),D(ce(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=qn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class to{load(m){return(0,s.Z)(function*(){return new Xp(m)})()}clearedOneInstance(){}}const G_="recaptcha",z_={theme:"light",type:"image"};class kI{constructor(m,_=Object.assign({},z_),w){this.parameters=_,this.type=G_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(w),this.isInvisible="invisible"===this.parameters.size,k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof m?document.getElementById(m):m;k(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new to:new Rh,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(_)||new Promise(x=>{const j=ee=>{ee&&(m.tokenChangeListeners.delete(j),x(ee))};m.tokenChangeListeners.add(j),m.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof m)m(_);else if("string"==typeof m){const w=qn()[m];"function"==typeof w&&w(_)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){k(cn()&&!Sh(),m.auth,"internal-error"),yield function FI(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function ih(I){return Es.apply(this,arguments)}(m.auth);k(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Al{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=En._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function ir(I,m,_){return As.apply(this,arguments)}function As(){return(As=(0,s.Z)(function*(I,m,_){const w=_n(I),D=yield Vu(w,m,(0,L.m9)(_));return new Al(D,x=>ul(w,x))})).apply(this,arguments)}function Ph(I,m,_){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(I,m,_){const w=(0,L.m9)(I);yield Jn(!1,w,"phone");const D=yield Vu(w.auth,m,(0,L.m9)(_));return new Al(D,x=>bI(w,x))})).apply(this,arguments)}function ut(I,m,_){return sr.apply(this,arguments)}function sr(){return(sr=(0,s.Z)(function*(I,m,_){const w=(0,L.m9)(I),D=yield Vu(w.auth,m,(0,L.m9)(_));return new Al(D,x=>yn(w,x))})).apply(this,arguments)}function Vu(I,m,_){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,s.Z)(function*(I,m,_){var w;const D=yield _.verify();try{let x;if(k("string"==typeof D,I,"argument-error"),k(_.type===G_,I,"argument-error"),x="string"==typeof m?{phoneNumber:m}:m,"session"in x){const j=x.session;if("phoneNumber"in x)return k("enroll"===j.type,I,"internal-error"),(yield function jp(I,m){return de(I,"POST","/v2/accounts/mfaEnrollment:start",J(I,m))}(I,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{k("signin"===j.type,I,"internal-error");const ee=(null===(w=x.multiFactorHint)||void 0===w?void 0:w.uid)||x.multiFactorUid;return k(ee,I,"missing-multi-factor-info"),(yield function H_(I,m){return de(I,"POST","/v2/accounts/mfaSignIn:start",J(I,m))}(I,{mfaPendingCredential:j.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function rl(I,m){return gh.apply(this,arguments)}(I,{phoneNumber:x.phoneNumber,recaptchaToken:D});return j}}finally{_._reset()}}),Dl.apply(this,arguments)}function eg(I,m){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,s.Z)(function*(I,m){yield w_((0,L.m9)(I),m)})).apply(this,arguments)}let xl=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=_n(_)}verifyPhoneNumber(_,w){return Vu(this.auth,_,(0,L.m9)(w))}static credential(_,w){return En._fromVerification(_,w)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:D}=_;return w&&D?En._fromTokenResponse(w,D):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ro(I,m){return m?ct(m):(k(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Po extends bu{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return jr(m,this._buildIdpRequest())}_linkToIdToken(m,_){return jr(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return jr(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function gt(I){return Hi(I.auth,new Po(I),I.bypassAuthState)}function Oo(I){const{auth:m,user:_}=I;return k(_,m,"internal-error"),Xs(_,new Po(I),I.bypassAuthState)}function vn(I){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,s.Z)(function*(I){const{auth:m,user:_}=I;return k(_,m,"internal-error"),w_(_,new Po(I),I.bypassAuthState)})).apply(this,arguments)}class ba{constructor(m,_,w,D,x=!1){this.auth=m,this.resolver=w,this.user=D,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,s.Z)(function*(w,D){m.pendingPromise={resolve:w,reject:D};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(x){m.reject(x)}});return function(w,D){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:D,postBody:x,tenantId:j,error:ee,type:Pe}=m;if(ee)return void _.reject(ee);const Le={auth:_.auth,requestUri:w,sessionId:D,tenantId:j||void 0,postBody:x||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(Le))}catch(tt){_.reject(tt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return gt;case"linkViaPopup":case"linkViaRedirect":return vn;case"reauthViaPopup":case"reauthViaRedirect":return Oo;default:Te(this.auth,"internal-error")}}resolve(m){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tg=new pn(2e3,1e4);function li(I,m,_){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,s.Z)(function*(I,m,_){const w=_n(I);Me(I,m,xi);const D=Ro(w,_);return new Ss(w,"signInViaPopup",m,D).executeNotNull()})).apply(this,arguments)}function Rl(I,m,_){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(I,m,_){const w=(0,L.m9)(I);Me(w.auth,m,xi);const D=Ro(w.auth,_);return new Ss(w.auth,"reauthViaPopup",m,D,w).executeNotNull()})).apply(this,arguments)}function Ds(I,m,_){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,s.Z)(function*(I,m,_){const w=(0,L.m9)(I);Me(w.auth,m,xi);const D=Ro(w.auth,_);return new Ss(w.auth,"linkViaPopup",m,D,w).executeNotNull()})).apply(this,arguments)}let Ss=(()=>{class I extends ba{constructor(_,w,D,x,j){super(_,w,x,j),this.provider=D,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const w=yield _.execute();return k(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,s.Z)(function*(){pe(1===_.filter.length,"Popup operations only handle one event");const w=Fu();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(D=>{_.reject(D)}),_.resolver._isIframeWebStorageSupported(_.auth,D=>{D||_.reject(ce(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,D;this.pollId=null!==(D=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,tg.get())};_()}}return I.currentPopupAction=null,I})();const no="pendingRedirect",ro=new Map;class Zu extends ba{constructor(m,_,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,s.Z)(function*(){let w=ro.get(_.auth._key());if(!w){try{const x=(yield function qu(I,m){return ju.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;w=()=>Promise.resolve(x)}catch(D){w=()=>Promise.reject(D)}ro.set(_.auth._key(),w)}return _.bypassAuthState||ro.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(w,m);if("unknown"!==m.type){if(m.eventId){const D=yield w.auth._redirectUserForId(m.eventId);if(D)return w.user=D,_().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function ju(){return(ju=(0,s.Z)(function*(I,m){const _=Da(m),w=di(I);if(!(yield w._isAvailable()))return!1;const D="true"===(yield w._get(_));return yield w._remove(_),D})).apply(this,arguments)}function kh(I,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.Z)(function*(I,m){return di(I)._set(Da(m),"true")})).apply(this,arguments)}function Pi(){ro.clear()}function $u(I,m){ro.set(I._key(),m)}function di(I){return ct(I._redirectPersistence)}function Da(I){return rr(no,I.config.apiKey,I.name)}function W_(I,m,_){return function ls(I,m,_){return Mn.apply(this,arguments)}(I,m,_)}function Mn(){return(Mn=(0,s.Z)(function*(I,m,_){const w=_n(I);Me(I,m,xi),yield w._initializationPromise;const D=Ro(w,_);return yield kh(D,w),D._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function Hu(I,m,_){return function LI(I,m,_){return Hr.apply(this,arguments)}(I,m,_)}function Hr(){return(Hr=(0,s.Z)(function*(I,m,_){const w=(0,L.m9)(I);Me(w.auth,m,xi),yield w.auth._initializationPromise;const D=Ro(w.auth,_);yield kh(D,w.auth);const x=yield xs(w);return D._openRedirect(w.auth,m,"reauthViaRedirect",x)})).apply(this,arguments)}function jn(I,m,_){return function Pl(I,m,_){return io.apply(this,arguments)}(I,m,_)}function io(){return(io=(0,s.Z)(function*(I,m,_){const w=(0,L.m9)(I);Me(w.auth,m,xi),yield w.auth._initializationPromise;const D=Ro(w.auth,_);yield Jn(!1,w,m.providerId),yield kh(D,w.auth);const x=yield xs(w);return D._openRedirect(w.auth,m,"linkViaRedirect",x)})).apply(this,arguments)}function Fh(I,m){return hi.apply(this,arguments)}function hi(){return(hi=(0,s.Z)(function*(I,m){return yield _n(I)._initializationPromise,ko(I,m,!1)})).apply(this,arguments)}function ko(I,m){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(I,m,_=!1){const w=_n(I),D=Ro(w,m),j=yield new Zu(w,D,_).execute();return j&&!_&&(delete j.user._redirectEventId,yield w._persistUserIfCurrent(j.user),yield w._setRedirectUser(null,m)),j})).apply(this,arguments)}function xs(I){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,s.Z)(function*(I){const m=Fu(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Ol{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(_=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Sa(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kl(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var w;if(m.error&&!kl(m)){const D=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(ce(this.auth,D))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const w=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gu(m))}saveEventToCache(m){this.cachedEventUids.add(Gu(m)),this.lastProcessedEventTime=Date.now()}}function Gu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function kl({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function zu(I){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,s.Z)(function*(I,m={}){return de(I,"GET","/v1/projects",m)})).apply(this,arguments)}const Dt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xa=/^https?/;function Ms(){return(Ms=(0,s.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield zu(I);for(const _ of m)try{if(rg(_))return}catch{}Te(I,"unauthorized-domain")})).apply(this,arguments)}function rg(I){const m=Mt(),{protocol:_,hostname:w}=new URL(m);if(I.startsWith("chrome-extension://")){const j=new URL(I);return""===j.hostname&&""===w?"chrome-extension:"===_&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&j.hostname===w}if(!xa.test(_))return!1;if(Dt.test(I))return w===I;const D=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(w)}const K_=new pn(3e4,6e4);function Gr(){const I=qn().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Ku=null;const ig=new pn(5e3,15e3),Ma="__/auth/iframe",sg="emulator/auth/iframe",Pr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},og=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ag(I){const m=I.config;k(m.authDomain,I,"auth-domain-config-required");const _=m.emulator?ii(m,sg):`https://${I.config.authDomain}/${Ma}`,w={apiKey:m.apiKey,appName:I.name,v:ie.SDK_VERSION},D=og.get(I.config.apiHost);D&&(w.eid=D);const x=I._getFrameworks();return x.length&&(w.fw=x.join(",")),`${_}?${(0,L.xO)(w).slice(1)}`}function Ll(){return Ll=(0,s.Z)(function*(I){const m=yield function Ns(I){return Ku=Ku||function so(I){return new Promise((m,_)=>{var w,D,x;function j(){Gr(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Gr(),_(ce(I,"network-request-failed"))},timeout:K_.get()})}if(null!==(D=null===(w=qn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==D&&D.Iframe)m(gapi.iframes.getContext());else{if(null===(x=qn().gapi)||void 0===x||!x.load){const ee=Zt("iframefcb");return qn()[ee]=()=>{gapi.load?j():_(ce(I,"network-request-failed"))},Di(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Pe=>_(Pe))}j()}}).catch(m=>{throw Ku=null,m})}(I),Ku}(I),_=qn().gapi;return k(_,I,"internal-error"),m.open({where:document.body,url:ag(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pr,dontclear:!0},w=>new Promise(function(){var D=(0,s.Z)(function*(x,j){yield w.restyle({setHideOnLeave:!1});const ee=ce(I,"network-request-failed"),Pe=qn().setTimeout(()=>{j(ee)},ig.get());function Le(){qn().clearTimeout(Pe),x(w)}w.ping(Le).then(Le,()=>{j(ee)})});return function(x,j){return D.apply(this,arguments)}}()))}),Ll.apply(this,arguments)}const Yu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rs{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ug="__/auth/handler",Y_="emulator/auth/handler",Bh=encodeURIComponent("fac");function Ra(I,m,_,w,D,x){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,s.Z)(function*(I,m,_,w,D,x){k(I.config.authDomain,I,"auth-domain-config-required"),k(I.config.apiKey,I,"invalid-api-key");const j={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:w,v:ie.SDK_VERSION,eventId:D};if(m instanceof xi){m.setDefaultLanguage(I.languageCode),j.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(j.customParameters=JSON.stringify(m.getCustomParameters()));for(const[tt,kt]of Object.entries(x||{}))j[tt]=kt}if(m instanceof So){const tt=m.getScopes().filter(kt=>""!==kt);tt.length>0&&(j.scopes=tt.join(","))}I.tenantId&&(j.tid=I.tenantId);const ee=j;for(const tt of Object.keys(ee))void 0===ee[tt]&&delete ee[tt];const Pe=yield I._getAppCheckToken(),Le=Pe?`#${Bh}=${encodeURIComponent(Pe)}`:"";return`${function Zh({config:I}){return I.emulator?ii(I,Y_):`https://${I.authDomain}/${ug}`}(I)}?${(0,L.xO)(ee).slice(1)}${Le}`})).apply(this,arguments)}const cg="webStorageSupport",ps=class lg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ku,this._completeRedirectFn=ko,this._overrideRedirectResult=$u}_openPopup(m,_,w,D){var x=this;return(0,s.Z)(function*(){var j;pe(null===(j=x.eventManagers[m._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ee=yield Ra(m,_,w,Mt(),D);return function Uh(I,m,_,w=500,D=600){const x=Math.max((window.screen.availHeight-D)/2,0).toString(),j=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Pe=Object.assign(Object.assign({},Yu),{width:w.toString(),height:D.toString(),top:x,left:j}),Le=(0,L.z$)().toLowerCase();_&&(ee=Q(Le)?"_blank":_),$(Le)&&(m=m||"http://localhost",Pe.scrollbars="yes");const tt=Object.entries(Pe).reduce((or,[Ps,zi])=>`${or}${Ps}=${zi},`,"");if(function jt(I=(0,L.z$)()){var m;return Ln(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Le)&&"_self"!==ee)return function fs(I,m){const _=document.createElement("a");_.href=I,_.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(m||"",ee),new Rs(null);const kt=window.open(m||"",ee,tt);k(kt,I,"popup-blocked");try{kt.focus()}catch{}return new Rs(kt)}(m,ee,Fu())})()}_openRedirect(m,_,w,D){var x=this;return(0,s.Z)(function*(){return yield x._originValidation(m),function Ts(I){qn().location.href=I}(yield Ra(m,_,w,Mt(),D)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:D,promise:x}=this.eventManagers[_];return D?Promise.resolve(D):(pe(x,"If manager is not set, promise should be"),x)}const w=this.initAndGetManager(m);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(m){var _=this;return(0,s.Z)(function*(){const w=yield function Fl(I){return Ll.apply(this,arguments)}(m),D=new Ol(m);return w.register("authEvent",x=>(k(x?.authEvent,m,"invalid-auth-event"),{status:D.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:D},_.iframes[m._key()]=w,D})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(cg,{type:cg},D=>{var x;const j=null===(x=D?.[0])||void 0===x?void 0:x[cg];void 0!==j&&_(!!j),Te(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function ng(I){return Ms.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ss()||le()||Ln()}};class dg{constructor(m){this.factorId=m}_process(m,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,w);case"signin":return this._finalizeSignIn(m,_.credential);default:return W("unexpected MultiFactorSessionType")}}}class Ul extends dg{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ul(m)}_finalizeEnroll(m,_,w){return function V_(I,m){return de(I,"POST","/v2/accounts/mfaEnrollment:finalize",J(I,m))}(m,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function mr(I,m){return de(I,"POST","/v2/accounts/mfaSignIn:finalize",J(I,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $n=(()=>{class I{constructor(){}static assertion(_){return Ul._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var Lo="@firebase/auth";class Vl{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.Pz)("authIdTokenMaxAge"),function Q_(I){(0,ie._registerComponent)(new ye.wA("auth",(m,{options:_})=>{const w=m.getProvider("app").getImmediate(),D=m.getProvider("heartbeat"),x=m.getProvider("app-check-internal"),{apiKey:j,authDomain:ee}=w.options;k(j&&!j.includes(":"),"invalid-api-key",{appName:w.name});const Pe={apiKey:j,authDomain:ee,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eu(I)},Le=new oi(w,D,x,Pe);return function Cu(I,m){const _=m?.persistence||[],w=(Array.isArray(_)?_:[_]).map(ct);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(w,m?.popupRedirectResolver)}(Le,_),Le},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,w)=>{m.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ye.wA("auth-internal",m=>{const _=_n(m.getProvider("auth").getImmediate());return new Vl(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Lo,"0.23.2",function Qu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ie.registerVersion)(Lo,"0.23.2","esm2017")}("Browser")},9058:(st,Ee,P)=>{P.d(Ee,{$s:()=>ct,BH:()=>ve,L:()=>Se,LL:()=>Ne,P0:()=>we,Pz:()=>ce,Sg:()=>Me,UG:()=>W,US:()=>ye,ZB:()=>re,ZR:()=>de,aH:()=>Te,b$:()=>cn,eu:()=>te,hl:()=>Y,jU:()=>pe,m9:()=>rr,ne:()=>qr,pd:()=>Ct,q4:()=>Je,r3:()=>wt,ru:()=>Mt,tV:()=>B,uI:()=>k,vZ:()=>si,w1:()=>ln,xO:()=>ts,xb:()=>Zr,z$:()=>K,zI:()=>oe,zd:()=>Yn});const se=function(U){const F=[];let $=0;for(let le=0;le<U.length;le++){let Q=U.charCodeAt(le);Q<128?F[$++]=Q:Q<2048?(F[$++]=Q>>6|192,F[$++]=63&Q|128):55296==(64512&Q)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(Q=65536+((1023&Q)<<10)+(1023&U.charCodeAt(++le)),F[$++]=Q>>18|240,F[$++]=Q>>12&63|128,F[$++]=Q>>6&63|128,F[$++]=63&Q|128):(F[$++]=Q>>12|224,F[$++]=Q>>6&63|128,F[$++]=63&Q|128)}return F},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Q=0;Q<U.length;Q+=3){const et=U[Q],vt=Q+1<U.length,Jt=vt?U[Q+1]:0,Fn=Q+2<U.length,Ln=Fn?U[Q+2]:0;let an=(15&Jt)<<2|Ln>>6,ss=63&Ln;Fn||(ss=64,vt||(an=64)),le.push($[et>>2],$[(3&et)<<4|Jt>>4],$[an],$[ss])}return le.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(se(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let $=0,le=0;for(;$<U.length;){const Q=U[$++];if(Q<128)F[le++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const et=U[$++];F[le++]=String.fromCharCode((31&Q)<<6|63&et)}else if(Q>239&&Q<365){const Fn=((7&Q)<<18|(63&U[$++])<<12|(63&U[$++])<<6|63&U[$++])-65536;F[le++]=String.fromCharCode(55296+(Fn>>10)),F[le++]=String.fromCharCode(56320+(1023&Fn))}else{const et=U[$++],vt=U[$++];F[le++]=String.fromCharCode((15&Q)<<12|(63&et)<<6|63&vt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Q=0;Q<U.length;){const et=$[U.charAt(Q++)],Jt=Q<U.length?$[U.charAt(Q)]:0;++Q;const Ln=Q<U.length?$[U.charAt(Q)]:64;++Q;const jt=Q<U.length?$[U.charAt(Q)]:64;if(++Q,null==et||null==Jt||null==Ln||null==jt)throw new Re;le.push(et<<2|Jt>>4),64!==Ln&&(le.push(Jt<<4&240|Ln>>2),64!==jt&&le.push(Ln<<6&192|jt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(U){return function(U){const F=se(U);return ye.encodeByteArray(F,!0)}(U).replace(/\./g,"")},B=function(U){try{return ye.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function re(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const $ in F)!F.hasOwnProperty($)||!Oe($)||(U[$]=re(U[$],F[$]));return U}function Oe(U){return"__proto__"!==U}const Ae=()=>{try{return function ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&B(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Je=U=>{var F,$;return null===($=null===(F=Ae())||void 0===F?void 0:F.emulatorHosts)||void 0===$?void 0:$[U]},we=U=>{const F=Je(U);if(!F)return;const $=F.lastIndexOf(":");if($<=0||$+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const le=parseInt(F.substring($+1),10);return"["===F[0]?[F.substring(1,$-1),le]:[F.substring(0,$),le]},Te=()=>{var U;return null===(U=Ae())||void 0===U?void 0:U.config},ce=U=>{var F;return null===(F=Ae())||void 0===F?void 0:F[`_${U}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,le))}}}function Me(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=F||"demo-project",Q=U.iat||0,et=U.sub||U.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Q,exp:Q+3600,auth_time:Q,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},U);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(vt)),""].join(".")}function K(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function W(){var U;const F=null===(U=Ae())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Mt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ln(){const U=K();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Y(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((U,F)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(le);Q.onsuccess=()=>{Q.result.close(),$||self.indexedDB.deleteDatabase(le),U(!0)},Q.onupgradeneeded=()=>{$=!1},Q.onerror=()=>{var et;F((null===(et=Q.error)||void 0===et?void 0:et.message)||"")}}catch($){F($)}})}function oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class de extends Error{constructor(F,$,le){super($),this.code=F,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(F,$,le){this.service=F,this.serviceName=$,this.errors=le}create(F,...$){const le=$[0]||{},Q=`${this.service}/${F}`,et=this.errors[F],vt=et?function at(U,F){return U.replace(Ft,($,le)=>{const Q=F[le];return null!=Q?String(Q):`<${le}?>`})}(et,le):"Error";return new de(Q,`${this.serviceName}: ${vt} (${Q}).`,le)}}const Ft=/\{\$([^}]+)}/g;function wt(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function Zr(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function si(U,F){if(U===F)return!0;const $=Object.keys(U),le=Object.keys(F);for(const Q of $){if(!le.includes(Q))return!1;const et=U[Q],vt=F[Q];if(ga(et)&&ga(vt)){if(!si(et,vt))return!1}else if(et!==vt)return!1}for(const Q of le)if(!$.includes(Q))return!1;return!0}function ga(U){return null!==U&&"object"==typeof U}function ts(U){const F=[];for(const[$,le]of Object.entries(U))Array.isArray(le)?le.forEach(Q=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(Q))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(le));return F.length?"&"+F.join("&"):""}function Yn(U){const F={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Q,et]=le.split("=");F[decodeURIComponent(Q)]=decodeURIComponent(et)}}),F}function Ct(U){const F=U.indexOf("?");if(!F)return"";const $=U.indexOf("#",F);return U.substring(F,$>0?$:void 0)}function qr(U,F){const $=new yt(U,F);return $.subscribe.bind($)}class yt{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(le=>{this.error(le)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,le){let Q;if(void 0===F&&void 0===$&&void 0===le)throw new Error("Missing Observer.");Q=function ns(U,F){if("object"!=typeof U||null===U)return!1;for(const $ of F)if($ in U&&"function"==typeof U[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:le},void 0===Q.next&&(Q.next=Vt),void 0===Q.error&&(Q.error=Vt),void 0===Q.complete&&(Q.complete=Vt);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),et}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}const is=1e3,je=2,fe=144e5,We=.5;function ct(U,F=is,$=je){const le=F*Math.pow($,U),Q=Math.round(We*le*(Math.random()-.5)*2);return Math.min(fe,le+Q)}function rr(U){return U&&U._delegate?U._delegate:U}},9464:(st,Ee,P)=>{var s=P(8926);let L=null;function ie(){return L}class he{}const ye=new s.OlP("DocumentToken");let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Se)},providedIn:"platform"})}return n})();const Ue=new s.OlP("Location Initialized");let Se=(()=>{class n extends Re{constructor(){super(),this._doc=(0,s.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function B(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function re(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Qe)},providedIn:"root"})}return n})();const ue=new s.OlP("appBaseHref");let Qe=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return B(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+re(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const l=this.prepareExternalUrl(i+re(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){const l=this.prepareExternalUrl(i+re(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Re),s.LFG(ue,8))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Be=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=B(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let l=this.prepareExternalUrl(i+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){let l=this.prepareExternalUrl(i+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Re),s.LFG(ue,8))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})(),xe=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(we(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+re(r))}normalize(t){return n.stripTrailingSlash(function Je(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=re;static#t=this.joinWithSlash=B;static#n=this.stripTrailingSlash=Z;static#r=this.\u0275fac=function(r){return new(r||n)(s.LFG(Oe))};static#i=this.\u0275prov=s.Yz7({token:n,factory:function(){return function Ae(){return new xe((0,s.LFG)(Oe))}()},providedIn:"root"})}return n})();function we(n){return n.replace(/\/index.html$/,"")}var K=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(K||{}),k=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(k||{}),W=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(W||{}),pe=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(pe||{});function te(n,e){return wt((0,s.cg1)(n)[s.wAp.DateFormat],e)}function oe(n,e){return wt((0,s.cg1)(n)[s.wAp.TimeFormat],e)}function J(n,e){return wt((0,s.cg1)(n)[s.wAp.DateTimeFormat],e)}function de(n,e){const t=(0,s.cg1)(n),r=t[s.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===pe.CurrencyDecimal)return t[s.wAp.NumberSymbols][pe.Decimal];if(e===pe.CurrencyGroup)return t[s.wAp.NumberSymbols][pe.Group]}return r}function Ze(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Dr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ga=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ys={},ts=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Yn||{}),Ct=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ct||{}),Ot=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ot||{});function qr(n,e,t,r){let i=function F(n){if(le(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,l=1]=n.split("-").map(f=>+f);return yt(i,u-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ga))return function $(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,g=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,l,f,g,v),e}(r)}const e=new Date(n);if(!le(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=hr(t,e)||e;let f,l=[];for(;e;){if(f=ts.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const T=l.pop();if(!T)break;e=T}}let g=i.getTimezoneOffset();r&&(g=Qt(r,g),i=function U(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function rr(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Qt(e,i)-i))}(i,r,!0));let v="";return l.forEach(T=>{const A=function zt(n){if(ct[n])return ct[n];let e;switch(n){case"G":case"GG":case"GGG":e=Gt(Ot.Eras,k.Abbreviated);break;case"GGGG":e=Gt(Ot.Eras,k.Wide);break;case"GGGGG":e=Gt(Ot.Eras,k.Narrow);break;case"y":e=rn(Ct.FullYear,1,0,!1,!0);break;case"yy":e=rn(Ct.FullYear,2,0,!0,!0);break;case"yyy":e=rn(Ct.FullYear,3,0,!1,!0);break;case"yyyy":e=rn(Ct.FullYear,4,0,!1,!0);break;case"Y":e=We(1);break;case"YY":e=We(2,!0);break;case"YYY":e=We(3);break;case"YYYY":e=We(4);break;case"M":case"L":e=rn(Ct.Month,1,1);break;case"MM":case"LL":e=rn(Ct.Month,2,1);break;case"MMM":e=Gt(Ot.Months,k.Abbreviated);break;case"MMMM":e=Gt(Ot.Months,k.Wide);break;case"MMMMM":e=Gt(Ot.Months,k.Narrow);break;case"LLL":e=Gt(Ot.Months,k.Abbreviated,K.Standalone);break;case"LLLL":e=Gt(Ot.Months,k.Wide,K.Standalone);break;case"LLLLL":e=Gt(Ot.Months,k.Narrow,K.Standalone);break;case"w":e=fe(1);break;case"ww":e=fe(2);break;case"W":e=fe(1,!0);break;case"d":e=rn(Ct.Date,1);break;case"dd":e=rn(Ct.Date,2);break;case"c":case"cc":e=rn(Ct.Day,1);break;case"ccc":e=Gt(Ot.Days,k.Abbreviated,K.Standalone);break;case"cccc":e=Gt(Ot.Days,k.Wide,K.Standalone);break;case"ccccc":e=Gt(Ot.Days,k.Narrow,K.Standalone);break;case"cccccc":e=Gt(Ot.Days,k.Short,K.Standalone);break;case"E":case"EE":case"EEE":e=Gt(Ot.Days,k.Abbreviated);break;case"EEEE":e=Gt(Ot.Days,k.Wide);break;case"EEEEE":e=Gt(Ot.Days,k.Narrow);break;case"EEEEEE":e=Gt(Ot.Days,k.Short);break;case"a":case"aa":case"aaa":e=Gt(Ot.DayPeriods,k.Abbreviated);break;case"aaaa":e=Gt(Ot.DayPeriods,k.Wide);break;case"aaaaa":e=Gt(Ot.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":e=Gt(Ot.DayPeriods,k.Abbreviated,K.Standalone,!0);break;case"bbbb":e=Gt(Ot.DayPeriods,k.Wide,K.Standalone,!0);break;case"bbbbb":e=Gt(Ot.DayPeriods,k.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":e=Gt(Ot.DayPeriods,k.Abbreviated,K.Format,!0);break;case"BBBB":e=Gt(Ot.DayPeriods,k.Wide,K.Format,!0);break;case"BBBBB":e=Gt(Ot.DayPeriods,k.Narrow,K.Format,!0);break;case"h":e=rn(Ct.Hours,1,-12);break;case"hh":e=rn(Ct.Hours,2,-12);break;case"H":e=rn(Ct.Hours,1);break;case"HH":e=rn(Ct.Hours,2);break;case"m":e=rn(Ct.Minutes,1);break;case"mm":e=rn(Ct.Minutes,2);break;case"s":e=rn(Ct.Seconds,1);break;case"ss":e=rn(Ct.Seconds,2);break;case"S":e=rn(Ct.FractionalSeconds,1);break;case"SS":e=rn(Ct.FractionalSeconds,2);break;case"SSS":e=rn(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Nt(Yn.Short);break;case"ZZZZZ":e=Nt(Yn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nt(Yn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nt(Yn.Long);break;default:return null}return ct[n]=e,e}(T);v+=A?A(i,t,g):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function yt(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function hr(n,e){const t=function cn(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(Ys[t]=Ys[t]||{},Ys[t][e])return Ys[t][e];let r="";switch(e){case"shortDate":r=te(n,W.Short);break;case"mediumDate":r=te(n,W.Medium);break;case"longDate":r=te(n,W.Long);break;case"fullDate":r=te(n,W.Full);break;case"shortTime":r=oe(n,W.Short);break;case"mediumTime":r=oe(n,W.Medium);break;case"longTime":r=oe(n,W.Long);break;case"fullTime":r=oe(n,W.Full);break;case"short":const i=hr(n,"shortTime"),u=hr(n,"shortDate");r=ns(J(n,W.Short),[i,u]);break;case"medium":const l=hr(n,"mediumTime"),f=hr(n,"mediumDate");r=ns(J(n,W.Medium),[l,f]);break;case"long":const g=hr(n,"longTime"),v=hr(n,"longDate");r=ns(J(n,W.Long),[g,v]);break;case"full":const T=hr(n,"fullTime"),A=hr(n,"fullDate");r=ns(J(n,W.Full),[T,A])}return r&&(Ys[t][e]=r),r}function ns(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Vt(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),u+l}function rn(n,e,t=0,r=!1,i=!1){return function(u,l){let f=function mn(n,e){switch(n){case Ct.FullYear:return e.getFullYear();case Ct.Month:return e.getMonth();case Ct.Date:return e.getDate();case Ct.Hours:return e.getHours();case Ct.Minutes:return e.getMinutes();case Ct.Seconds:return e.getSeconds();case Ct.FractionalSeconds:return e.getMilliseconds();case Ct.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||f>-t)&&(f+=t),n===Ct.Hours)0===f&&-12===t&&(f=12);else if(n===Ct.FractionalSeconds)return function rs(n,e){return Vt(n,3).substring(0,e)}(f,e);const g=de(l,pe.MinusSign);return Vt(f,e,g,r,i)}}function Gt(n,e,t=K.Format,r=!1){return function(i,u){return function Wc(n,e,t,r,i,u){switch(t){case Ot.Months:return function fn(n,e,t){const r=(0,s.cg1)(n),u=wt([r[s.wAp.MonthsFormat],r[s.wAp.MonthsStandalone]],e);return wt(u,t)}(e,i,r)[n.getMonth()];case Ot.Days:return function ln(n,e,t){const r=(0,s.cg1)(n),u=wt([r[s.wAp.DaysFormat],r[s.wAp.DaysStandalone]],e);return wt(u,t)}(e,i,r)[n.getDay()];case Ot.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(u){const v=function nn(n){const e=(0,s.cg1)(n);return Ze(e),(e[s.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Dr(r):[Dr(r[0]),Dr(r[1])])}(e),T=function Br(n,e,t){const r=(0,s.cg1)(n);Ze(r);const u=wt([r[s.wAp.ExtraData][0],r[s.wAp.ExtraData][1]],e)||[];return wt(u,t)||[]}(e,i,r),A=v.findIndex(M=>{if(Array.isArray(M)){const[O,q]=M,G=l>=O.hours&&f>=O.minutes,X=l<q.hours||l===q.hours&&f<q.minutes;if(O.hours<q.hours){if(G&&X)return!0}else if(G||X)return!0}else if(M.hours===l&&M.minutes===f)return!0;return!1});if(-1!==A)return T[A]}return function kn(n,e,t){const r=(0,s.cg1)(n),u=wt([r[s.wAp.DayPeriodsFormat],r[s.wAp.DayPeriodsStandalone]],e);return wt(u,t)}(e,i,r)[l<12?0:1];case Ot.Eras:return function pn(n,e){return wt((0,s.cg1)(n)[s.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Nt(n){return function(e,t,r){const i=-1*r,u=de(t,pe.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Yn.Short:return(i>=0?"+":"")+Vt(l,2,u)+Vt(Math.abs(i%60),2,u);case Yn.ShortGMT:return"GMT"+(i>=0?"+":"")+Vt(l,1,u);case Yn.Long:return"GMT"+(i>=0?"+":"")+Vt(l,2,u)+":"+Vt(Math.abs(i%60),2,u);case Yn.Extended:return 0===r?"Z":(i>=0?"+":"")+Vt(l,2,u)+":"+Vt(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}const ma=0,bi=4;function je(n){return yt(n.getFullYear(),n.getMonth(),n.getDate()+(bi-n.getDay()))}function fe(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+u)/7)}else{const u=je(t),l=function is(n){const e=yt(n,ma,1).getDay();return yt(n,0,1+(e<=bi?bi:bi+7)-e)}(u.getFullYear()),f=u.getTime()-l.getTime();i=1+Math.round(f/6048e5)}return Vt(i,n,de(r,pe.MinusSign))}}function We(n,e=!1){return function(t,r){return Vt(je(t).getFullYear(),n,de(r,pe.MinusSign),e)}}const ct={};function Qt(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function le(n){return n instanceof Date&&!isNaN(n.valueOf())}function Iu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class xp{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new xp(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const f=r.get(u);r.move(f,l),_n(f,i)}});for(let i=0,u=r.length;i<u;i++){const f=r.get(i).context;f.index=i,f.count=u,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_n(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function _n(n,e){n.context.$implicit=e.item}let Qn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Cu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.s_b),s.Y36(s.Rgc))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Cu{constructor(){this.$implicit=null,this.ngIf=null}}function Yc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}const E_=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),el=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let tl=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,u){if(null==t||""===t||t!=t)return null;try{return qr(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function ui(n,e){return new s.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.soG,16),s.Y36(E_,24),s.Y36(el,24))};static#t=this.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),tn=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({})}return n})();function $r(n){return"server"===n}let So=(()=>{class n{static#e=this.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new os((0,s.LFG)(ye),window)})}return n})();class os{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cn(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class xo{}class wh extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Vp extends wh{static makeCurrent(){!function se(n){L||(L=n)}(new Vp)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function xI(){return vl=vl||document.querySelector("base"),vl?vl.getAttribute("href"):null}();return null==t?null:function Zp(n){El=El||document.createElement("a"),El.setAttribute("href",n);const e=El.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Iu(document.cookie,e)}}let El,vl=null,MI=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const qp=new s.OlP("EventManagerPlugins");let U_=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new s.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(qp),s.LFG(s.R0b))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();class B_{constructor(e){this._doc=e}}const Ch="ng-app-id";let Il=(()=>{class n{constructor(t,r,i,u={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$r(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ch}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const u=i.get(t);return u.usage+=r,u.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,u=i?.get(r);if(u?.parentNode===t)return i.delete(r),u.removeAttribute(Ch),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Ch,this.appId),l}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(i):u.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye),s.LFG(s.AFp),s.LFG(s.Ojb,8),s.LFG(s.Lbi))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const eo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pu=/%COMP%/g,$p=new s.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ia(n,e){return e.map(t=>t.replace(Pu,n))}let bh=(()=>{class n{constructor(t,r,i,u,l,f,g,v=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=f,this.ngZone=g,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=$r(f),this.defaultRenderer=new Nr(t,l,g,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===s.ifc.ShadowDom&&(r={...r,encapsulation:s.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof gr?i.applyToHost(t):i instanceof Ou&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const l=this.doc,f=this.ngZone,g=this.eventManager,v=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,A=this.platformIsServer;switch(r.encapsulation){case s.ifc.Emulated:u=new gr(g,v,r,this.appId,T,l,f,A);break;case s.ifc.ShadowDom:return new Dh(g,v,t,r,l,f,this.nonce,A);default:u=new Ou(g,v,r,T,l,f,A)}i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(U_),s.LFG(Il),s.LFG(s.AFp),s.LFG($p),s.LFG(ye),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(s.Ojb))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();class Nr{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(eo[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(sn(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(sn(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new s.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=eo[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=eo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=ie().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function sn(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Dh extends Nr{constructor(e,t,r,i,u,l,f,g){super(e,u,l,g),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=Ia(i.id,i.styles);for(const T of v){const A=document.createElement("style");f&&A.setAttribute("nonce",f),A.textContent=T,this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ou extends Nr{constructor(e,t,r,i,u,l,f,g){super(e,u,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=g?Ia(g,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gr extends Ou{constructor(e,t,r,i,u,l,f,g){const v=i+"-"+r.id;super(e,t,r,u,l,f,g,v),this.contentAttr=function Hp(n){return"_ngcontent-%COMP%".replace(Pu,n)}(v),this.hostAttr=function Th(n){return"_nghost-%COMP%".replace(Pu,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let RI=(()=>{class n extends B_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const ku=["alt","control","meta","shift"],wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ci={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fu=(()=>{class n extends B_{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ie().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),ku.forEach(v=>{const T=r.indexOf(v);T>-1&&(r.splice(T,1),l+=v+".")}),l+=u,0!=r.length||0===u.length)return null;const g={};return g.domEventName=i,g.fullKey=l,g}static matchEventFullKeyCode(t,r){let i=wa[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ku.forEach(l=>{l!==i&&(0,ci[l])(t)&&(u+=l+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const zp=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function q_(){Vp.makeCurrent()},multi:!0},{provide:ye,useFactory:function Gp(){return(0,s.RDi)(document),document},deps:[]}]),ft=new s.OlP(""),Ca=[{provide:s.rWj,useClass:class L_{addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new s.vHH(5103,!1);return u},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let u=i.length,l=!1;const f=function(g){l=l||g,u--,0==u&&r(l)};i.forEach(g=>{g.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ie().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Wp=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Cl(){return new s.qLn},deps:[]},{provide:qp,useClass:RI,multi:!0,deps:[ye,s.R0b,s.Lbi]},{provide:qp,useClass:Fu,multi:!0,deps:[ye]},bh,Il,U_,{provide:s.FYo,useExisting:bh},{provide:xo,useClass:MI,deps:[]},[]];let Ta=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ft,12))};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({providers:[...Wp,...Ca],imports:[tn,s.hGG]})}return n})(),Tl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye))};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function No(){return new Tl((0,s.LFG)(ye))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let Uu=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(r){let i=null;return i=r?new(r||n):s.LFG(cs),i},providedIn:"root"})}return n})(),cs=(()=>{class n extends Uu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case s.q3G.NONE:return r;case s.q3G.HTML:return(0,s.qzn)(r,"HTML")?(0,s.z3N)(r):(0,s.EiD)(this._doc,String(r)).toString();case s.q3G.STYLE:return(0,s.qzn)(r,"Style")?(0,s.z3N)(r):r;case s.q3G.SCRIPT:if((0,s.qzn)(r,"Script"))return(0,s.z3N)(r);throw new s.vHH(5200,!1);case s.q3G.URL:return(0,s.qzn)(r,"URL")?(0,s.z3N)(r):(0,s.mCW)(String(r));case s.q3G.RESOURCE_URL:if((0,s.qzn)(r,"ResourceURL"))return(0,s.z3N)(r);throw new s.vHH(5201,!1);default:throw new s.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,s.JVY)(t)}bypassSecurityTrustStyle(t){return(0,s.L6k)(t)}bypassSecurityTrustScript(t){return(0,s.eBb)(t)}bypassSecurityTrustUrl(t){return(0,s.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,s.pB0)(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye))};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Rr(n){return new cs(n.get(ye))}(s.LFG(s.zs3)),i},providedIn:"root"})}return n})();var ir=P(5592),As=P(4674),Tn=P(2459),ut=P(2096),sr=P(5619);const{isArray:Vu}=Array,{getPrototypeOf:Dl,prototype:eg,keys:Sl}=Object;function xl(n){if(1===n.length){const e=n[0];if(Vu(e))return{args:e,keys:null};if(function Ro(n){return n&&"object"==typeof n&&Dl(n)===eg}(e)){const t=Sl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Po=P(2737),gt=P(7398);const{isArray:Oo}=Array;function Ml(n){return(0,gt.U)(e=>function vn(n,e){return Oo(e)?n(...e):n(e)}(n,e))}var ba=P(4564);function tg(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var li=P(8251),Nl=P(7103);function Rl(...n){const e=(0,ba.yG)(n),t=(0,ba.jO)(n),{args:r,keys:i}=xl(n);if(0===r.length)return(0,Tn.D)([],e);const u=new ir.y(function Aa(n,e,t=Po.y){return r=>{Ds(e,()=>{const{length:i}=n,u=new Array(i);let l=i,f=i;for(let g=0;g<i;g++)Ds(e,()=>{const v=(0,Tn.D)(n[g],e);let T=!1;v.subscribe((0,li.x)(r,A=>{u[g]=A,T||(T=!0,f--),f||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>tg(i,l):Po.y));return t?u.pipe(Ml(t)):u}function Ds(n,e,t){n?(0,Nl.f)(t,n,e):e()}const Ss=(0,P(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var no=P(7537);function Zu(...n){return function ro(){return(0,no.J)(1)}()((0,Tn.D)(n,(0,ba.yG)(n)))}var qu=P(4829);function ju(n){return new ir.y(e=>{(0,qu.Xf)(n()).subscribe(e)})}var kh=P(8407);function Ri(n,e){const t=(0,As.m)(n)?n:()=>n,r=i=>i.error(t());return new ir.y(e?i=>e.schedule(r,0,i):r)}var Pi=P(6232),$u=P(7394),di=P(9360);function Da(){return(0,di.e)((n,e)=>{let t=null;n._refCount++;const r=(0,li.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class W_ extends ir.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,di.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $u.w0;const t=this.getSubject();e.add(this.source.subscribe((0,li.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$u.w0.EMPTY)}return e}refCount(){return Da()(this)}}var ls=P(8645),Mn=P(4664);function Hu(n){return n<=0?()=>Pi.E:(0,di.e)((e,t)=>{let r=0;e.subscribe((0,li.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Hr(n,e){return(0,di.e)((t,r)=>{let i=0;t.subscribe((0,li.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var jn=P(1631);function Pl(n){return(0,di.e)((e,t)=>{let r=!1;e.subscribe((0,li.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function io(n=Fh){return(0,di.e)((e,t)=>{let r=!1;e.subscribe((0,li.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Fh(){return new Ss}function hi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((i,u)=>n(i,u,r)):Po.y,Hu(1),t?Pl(e):io(()=>new Ss))}function ko(n,e){return(0,As.m)(e)?(0,jn.z)(n,e,1):(0,jn.z)(n,1)}function Nn(n,e,t){const r=(0,As.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,di.e)((i,u)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let f=!0;i.subscribe((0,li.x)(u,g=>{var v;null===(v=r.next)||void 0===v||v.call(r,g),u.next(g)},()=>{var g;f=!1,null===(g=r.complete)||void 0===g||g.call(r),u.complete()},g=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,g),u.error(g)},()=>{var g,v;f&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Po.y}function xs(n){return(0,di.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,li.x)(t,void 0,void 0,l=>{u=(0,qu.Xf)(n(l,xs(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Ol(n){return n<=0?()=>Pi.E:(0,di.e)((e,t)=>{let r=[];e.subscribe((0,li.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Sa(n){return(0,di.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var zu=P(2420);const Dt="primary",xa=Symbol("RouteTitle");class ng{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ms(n){return new ng(n)}function rg(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const l=r[u],f=n[u];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Gr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!so(n[i],e[i]))return!1;return!0}function so(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Ku(n){return n.length>0?n[n.length-1]:null}function Ns(n){return function Ph(n){return!!n&&(n instanceof ir.y||(0,As.m)(n.lift)&&(0,As.m)(n.subscribe))}(n)?n:(0,s.QGY)(n)?(0,Tn.D)(Promise.resolve(n)):(0,ut.of)(n)}const ig={exact:function og(n,e,t){if(!Rs(n.segments,e.segments)||!Yu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!og(n.children[r],e.children[r],t))return!1;return!0},subset:Fl},Ma={exact:function Pr(n,e){return Gr(n,e)},subset:function ag(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>so(n[t],e[t]))},ignored:()=>!0};function sg(n,e,t){return ig[t.paths](n.root,e.root,t.matrixParams)&&Ma[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Fl(n,e,t){return Ll(n,e,e.segments,t)}function Ll(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Rs(i,t)||e.hasChildren()||!Yu(i,t,r))}if(n.segments.length===t.length){if(!Rs(n.segments,t)||!Yu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Fl(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Rs(n.segments,i)&&Yu(n.segments,i,r)&&n.children[Dt])&&Ll(n.children[Dt],e,u,r)}}function Yu(n,e,t){return e.every((r,i)=>Ma[t](n[i].parameters,r.parameters))}class oo{constructor(e=new Bt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ms(this.queryParams)),this._queryParamMap}toString(){return Y_.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bh(this)}}class hs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ms(this.parameters)),this._parameterMap}toString(){return Ul(this)}}function Rs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let fs=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return new ug},providedIn:"root"})}return n})();class ug{parse(e){const t=new BI(e);return new oo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ra(e.root,!0)}`,r=function UI(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Zh(t)}=${Zh(i)}`).join("&"):`${Zh(t)}=${Zh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function cg(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Y_=new ug;function Bh(n){return n.segments.map(e=>Ul(e)).join("/")}function Ra(n,e){if(!n.hasChildren())return Bh(n);if(e){const t=n.children[Dt]?Ra(n.children[Dt],!1):"",r=[];return Object.entries(n.children).forEach(([i,u])=>{i!==Dt&&r.push(`${i}:${Ra(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Uh(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Dt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Dt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Dt?[Ra(n.children[Dt],!1)]:[`${i}:${Ra(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${Bh(n)}/${t[0]}`:`${Bh(n)}/(${t.join("//")})`}}function Vh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zh(n){return Vh(n).replace(/%3B/gi,";")}function lg(n){return Vh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ps(n){return decodeURIComponent(n)}function dg(n){return ps(n.replace(/\+/g,"%20"))}function Ul(n){return`${lg(n.path)}${function $n(n){return Object.keys(n).map(e=>`;${lg(e)}=${lg(n[e])}`).join("")}(n.parameters)}`}const Fo=/^[^\/()?;#]+/;function Bl(n){const e=n.match(Fo);return e?e[0]:""}const Or=/^[^\/()?;=#]+/,qh=/^[^=?&#]+/,Qu=/^[^&#]+/;class BI{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Dt]=new Bt(e,t)),r}parseSegment(){const e=Bl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(e),new hs(ps(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Lo(n){const e=n.match(Or);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Bl(this.remaining);i&&(r=i,this.capture(r))}e[ps(t)]=ps(r)}parseQueryParam(e){const t=function Vl(n){const e=n.match(qh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Q_(n){const e=n.match(Qu);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=dg(t),u=dg(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Dt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Dt]:new Bt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,!1)}}function hg(n){return n.segments.length>0?new Bt([],{[Dt]:n}):n}function fg(n){const e={};for(const r of Object.keys(n.children)){const u=fg(n.children[r]);if(r===Dt&&0===u.segments.length&&u.hasChildren())for(const[l,f]of Object.entries(u.children))e[l]=f;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function fi(n){if(1===n.numberOfChildren&&n.children[Dt]){const e=n.children[Dt];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}function ao(n){return n instanceof oo}function m(n){let e;const i=hg(function t(u){const l={};for(const g of u.children){const v=t(g);l[g.outlet]=v}const f=new Bt(u.url,l);return u===n&&(e=f),f}(n.root));return e??i}function _(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return x(i,i,i,t,r);const u=function Pe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ee(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Object.entries(u.outlets).forEach(([g,v])=>{f[g]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===l?(u.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new ee(t,e,r)}(e);if(u.toRoot())return x(i,i,new Bt([],{}),t,r);const l=function tt(n,e,t){if(n.isAbsolute)return new Le(e,!0,0);if(!t)return new Le(e,!1,NaN);if(null===t.parent)return new Le(t,!0,0);const r=w(n.commands[0])?0:1;return function kt(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new s.vHH(4005,!1);i=r.segments.length}return new Le(r,!1,i-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,i,n),f=l.processChildren?zi(l.segmentGroup,l.index,u.commands):Ps(l.segmentGroup,l.index,u.commands);return x(i,l.segmentGroup,f,t,r)}function w(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function D(n){return"object"==typeof n&&null!=n&&n.outlets}function x(n,e,t,r,i){let l,u={};r&&Object.entries(r).forEach(([g,v])=>{u[g]=Array.isArray(v)?v.map(T=>`${T}`):`${v}`}),l=n===e?t:j(n,e,t);const f=hg(fg(l));return new oo(f,u,i)}function j(n,e,t){const r={};return Object.entries(n.children).forEach(([i,u])=>{r[i]=u===e?t:j(u,e,t)}),new Bt(n.segments,r)}class ee{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&w(r[0]))throw new s.vHH(4003,!1);const i=r.find(D);if(i&&i!==Ku(r))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Le{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ps(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return zi(n,e,t);const r=function pg(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const l=n.segments[i],f=t[r];if(D(f))break;const g=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!Ju(g,v,l))return u;r+=2}else{if(!Ju(g,{},l))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Bt(n.segments.slice(0,r.pathIndex),{});return u.children[Dt]=new Bt(n.segments.slice(r.pathIndex),n.children),zi(u,0,i)}return r.match&&0===i.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?Pa(n,e,t):r.match?zi(n,0,i):Pa(n,e,t)}function zi(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const r=function or(n){return D(n[0])?n[0].outlets:{[Dt]:n}}(t),i={};if(Object.keys(r).some(u=>u!==Dt)&&n.children[Dt]&&1===n.numberOfChildren&&0===n.children[Dt].segments.length){const u=zi(n.children[Dt],e,t);return new Bt(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[u]=Ps(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(i[u]=l)}),new Bt(n.segments,i)}}function Pa(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(D(u)){const g=Zl(u.outlets);return new Bt(r,g)}if(0===i&&w(t[0])){r.push(new hs(n.segments[e].path,Oa(t[0]))),i++;continue}const l=D(u)?u.outlets[Dt]:`${u}`,f=i<t.length-1?t[i+1]:null;l&&f&&w(f)?(r.push(new hs(l,Oa(f))),i+=2):(r.push(new hs(l,{})),i++)}return new Bt(r,{})}function Zl(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Pa(new Bt([],{}),0,r))}),e}function Oa(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Ju(n,e,t){return n==t.path&&Gr(e,t.parameters)}const ka="imperative";class Wi{constructor(e,t){this.id=e,this.url=t}}class Ki extends Wi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pi extends Wi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xu extends Wi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uo extends Wi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ec extends Wi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VI extends Wi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ik extends Wi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fD extends Wi{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pD extends Wi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gD extends Wi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ZI{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qI{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sk{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jI{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _D{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class J_{}class X_{constructor(e){this.url=e}}class ok{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new mg,this.attachRef=null}}let mg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ok,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class _g{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=HI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=HI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=GI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return GI(e,this._root).map(t=>t.value)}}function HI(n,e){if(n===e.value)return e;for(const t of e.children){const r=HI(n,t);if(r)return r}return null}function GI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=GI(n,t);if(r.length)return r.unshift(e),r}return[]}class Fa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class yD extends _g{constructor(e,t){super(e),this.snapshot=t,vg(this,e)}toString(){return this.snapshot.toString()}}function zI(n,e){const t=function yg(n,e){const l=new $h([],{},{},"",{},Dt,e,null,{});return new tc("",new Fa(l,[]))}(0,e),r=new sr.X([new hs("",{})]),i=new sr.X({}),u=new sr.X({}),l=new sr.X({}),f=new sr.X(""),g=new kr(r,i,l,f,u,Dt,e,t.root);return g.snapshot=t.root,new yD(new Fa(g,[]),t)}class kr{constructor(e,t,r,i,u,l,f,g){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=u,this.outlet=l,this.component=f,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,gt.U)(v=>v[xa]))??(0,ut.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Ms(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Ms(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ey(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function WI(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $h{get title(){return this.data?.[xa]}constructor(e,t,r,i,u,l,f,g,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=f,this.routeConfig=g,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ms(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ms(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tc extends _g{constructor(e,t){super(t),this.url=e,vg(this,t)}toString(){return ty(this._root)}}function vg(n,e){e.value._routerState=n,e.children.forEach(t=>vg(n,t))}function ty(n){const e=n.children.length>0?` { ${n.children.map(ty).join(", ")} } `:"";return`${n.value}${e}`}function ql(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Gr(e.params,t.params)||n.paramsSubject.next(t.params),function K_(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Gr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function jl(n,e){const t=Gr(n.params,e.params)&&function Na(n,e){return Rs(n,e)&&n.every((t,r)=>Gr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||jl(n.parent,e.parent))}let $l=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dt,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(mg),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb),this.inputBinder=(0,s.f3M)(Eg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new s.vHH(4013,!1);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new vD(t,f,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]})}return n})();class vD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===kr?this.route:e===mg?this.childContexts:this.parent.get(e,t)}}const Eg=new s.OlP("");let KI=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Rl([r.queryParams,r.params,r.data]).pipe((0,Mn.w)(([u,l,f],g)=>(f={...u,...l,...f},0===g?(0,ut.of)(f):Promise.resolve(f)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,s.qFp)(r.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,u[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();function nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function ED(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nc(n,r,i);return nc(n,r)})}(n,e,t);return new Fa(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>nc(n,f)),l}}const r=function ID(n){return new kr(new sr.X(n.url),new sr.X(n.params),new sr.X(n.queryParams),new sr.X(n.fragment),new sr.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>nc(n,u));return new Fa(r,i)}}const ny="ngNavigationCancelingError";function ry(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ao(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function QI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ny]=!0,r.cancellationCode=e,t&&(r.url=t),r}function gi(n){return n&&n[ny]}let Ig=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(r,i){1&r&&s._UZ(0,"router-outlet")},dependencies:[$l],encapsulation:2})}return n})();function Cg(n){const e=n.children&&n.children.map(Cg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=Ig),t}function Os(n){return n.outlet||Dt}function Hh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class sy{constructor(e,t,r,i,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ql(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=jh(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,i[l],r),delete i[l]}),Object.values(i).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=jh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=jh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=jh(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new jI(u.value.snapshot))}),e.children.length&&this.forwardEvent(new qI(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(ql(i),i===u)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),ql(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Hh(i.snapshot);l.attachRef=null,l.route=i,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class rw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class La{constructor(e,t){this.component=e,this.route=t}}function bD(n,e,t){const r=n._root;return Hl(r,e?e._root:null,t,[r.value])}function rc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,s.Z0I)(n)?e.get(n):n:r}function Hl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=jh(e);return n.children.forEach(l=>{(function iw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const g=function Gl(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Rs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Rs(n.url,e.url)||!Gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jl(n,e)||!Gr(n.queryParams,e.queryParams);default:return!jl(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new rw(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Hl(n,e,u.component?f?f.children:null:t,r,i),g&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new La(f.outlet.component,l))}else l&&Ua(e,f,i),i.canActivateChecks.push(new rw(r)),Hl(n,null,u.component?f?f.children:null:t,r,i)})(l,u[l.value.outlet],t,r.concat([l.value]),i),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,f])=>Ua(f,t.getContext(l),i)),i}function Ua(n,e,t){const r=jh(n),i=n.value;Object.entries(r).forEach(([u,l])=>{Ua(l,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new La(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zl(n){return"function"==typeof n}function ay(n){return n instanceof Ss||"EmptyError"===n?.name}const ic=Symbol("INITIAL_VALUE");function Ba(){return(0,Mn.w)(n=>Rl(n.map(e=>e.pipe(Hu(1),function LI(...n){const e=(0,ba.yG)(n);return(0,di.e)((t,r)=>{(e?Zu(n,t,e):Zu(n,t)).subscribe(r)})}(ic)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===ic)return ic;if(!1===t||t instanceof oo)return t}return!0}),Hr(e=>e!==ic),Hu(1)))}function kD(n){return(0,kh.z)(Nn(e=>{if(ao(e))throw ry(0,e)}),(0,gt.U)(e=>!0===e))}class Ag{constructor(e){this.segmentGroup=e||null}}class ly{constructor(e){this.urlTree=e}}function oc(n){return Ri(new Ag(n))}function dy(n){return Ri(new ly(n))}class Dg{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new s.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,ut.of)(r);if(i.numberOfChildren>1||!i.children[Dt])return Ri(new s.vHH(4e3,!1));i=i.children[Dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new oo(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,u])=>{if("string"==typeof u&&u.startsWith(":")){const f=u.substring(1);r[i]=t[f]}else r[i]=u}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let l={};return Object.entries(t.children).forEach(([f,g])=>{l[f]=this.createSegmentGroup(e,g,r,i)}),new Bt(u,l)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new s.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const ac={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cw(n,e,t,r,i){const u=Gh(n,e,t);return u.matched?(r=function JI(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function bg(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,ut.of)(!0);const u=i.map(l=>{const f=rc(l,n);return Ns(function MD(n){return n&&zl(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,ut.of)(u).pipe(Ba(),kD())}(r,e,t).pipe((0,gt.U)(l=>!0===l?u:{...ac}))):(0,ut.of)(u)}function Gh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ac}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rg)(t,n,e);if(!i)return{...ac};const u={};Object.entries(i.posParams??{}).forEach(([f,g])=>{u[f]=g.path});const l=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function zh(n,e,t,r){return t.length>0&&function Wh(n,e,t){return t.some(r=>Kh(n,e,r)&&Os(r)!==Dt)}(n,t,r)?{segmentGroup:new Bt(e,fy(r,new Bt(t,n.children))),slicedSegments:[]}:0===t.length&&function FD(n,e,t){return t.some(r=>Kh(n,e,r))}(n,t,r)?{segmentGroup:new Bt(n.segments,lw(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Bt(n.segments,n.children),slicedSegments:t}}function lw(n,e,t,r,i){const u={};for(const l of r)if(Kh(n,t,l)&&!i[Os(l)]){const f=new Bt([],{});u[Os(l)]=f}return{...i,...u}}function fy(n,e){const t={};t[Dt]=e;for(const r of n)if(""===r.path&&Os(r)!==Dt){const i=new Bt([],{});t[Os(r)]=i}return t}function Kh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class dw{constructor(e,t,r,i,u,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new Dg(this.urlSerializer,this.urlTree)}noMatchError(e){return new s.vHH(4002,!1)}recognize(){const e=zh(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Dt).pipe(xs(t=>{if(t instanceof ly)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ag?this.noMatchError(t):t}),(0,gt.U)(t=>{const r=new $h([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dt,this.rootComponentType,null,{}),i=new Fa(r,t),u=new tc("",i),l=function I(n,e,t=null,r=null){return _(m(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Dt).pipe(xs(r=>{throw r instanceof Ag?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=ey(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Tn.D)(i).pipe(ko(u=>{const l=r.children[u],f=function nw(n,e){const t=n.filter(r=>Os(r)===e);return t.push(...n.filter(r=>Os(r)!==e)),t}(t,u);return this.processSegmentGroup(e,f,l,u)}),function ds(n,e){return(0,di.e)(function Lh(n,e,t,r,i){return(u,l)=>{let f=t,g=e,v=0;u.subscribe((0,li.x)(l,T=>{const A=v++;g=f?n(g,T,A):(f=!0,T),r&&l.next(g)},i&&(()=>{f&&l.next(g),l.complete()})))}}(n,e,arguments.length>=2,!0))}((u,l)=>(u.push(...l),u)),Pl(null),function Gu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((i,u)=>n(i,u,r)):Po.y,Ol(1),t?Pl(e):io(()=>new Ss))}(),(0,jn.z)(u=>{if(null===u)return oc(r);const l=xg(u);return function hw(n){n.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,ut.of)(l)}))}processSegment(e,t,r,i,u,l){return(0,Tn.D)(t).pipe(ko(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,r,i,u,l).pipe(xs(g=>{if(g instanceof Ag)return(0,ut.of)(null);throw g}))),hi(f=>!!f),xs(f=>{if(ay(f))return function UD(n,e,t){return 0===e.length&&!n.children[t]}(r,i,u)?(0,ut.of)([]):oc(r);throw f}))}processSegmentAgainstRoute(e,t,r,i,u,l,f){return function LD(n,e,t,r){return!!(Os(n)===r||r!==Dt&&Kh(e,t,n))&&("**"===n.path||Gh(e,n,t).matched)}(r,i,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,u,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,u,l):oc(i):oc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dy(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,jn.z)(l=>{const f=new Bt(l,{});return this.processSegment(e,t,f,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){const{matched:f,consumedSegments:g,remainingSegments:v,positionalParamSegments:T}=Gh(t,i,u);if(!f)return oc(t);const A=this.applyRedirects.applyRedirectCommands(g,i.redirectTo,T);return i.redirectTo.startsWith("/")?dy(A):this.applyRedirects.lineralizeSegments(i,A).pipe((0,jn.z)(M=>this.processSegment(e,r,t,M.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,u,l){let f;if("**"===r.path){const g=i.length>0?Ku(i).parameters:{},v=new $h(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fw(r),Os(r),r.component??r._loadedComponent??null,r,pw(r));f=(0,ut.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=cw(t,r,i,e).pipe((0,gt.U)(({matched:g,consumedSegments:v,remainingSegments:T,parameters:A})=>g?{snapshot:new $h(v,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fw(r),Os(r),r.component??r._loadedComponent??null,r,pw(r)),consumedSegments:v,remainingSegments:T}:null));return f.pipe((0,Mn.w)(g=>null===g?oc(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,Mn.w)(({routes:v})=>{const T=r._loadedInjector??e,{snapshot:A,consumedSegments:M,remainingSegments:O}=g,{segmentGroup:q,slicedSegments:G}=zh(t,M,O,v);if(0===G.length&&q.hasChildren())return this.processChildren(T,v,q).pipe((0,gt.U)(Ce=>null===Ce?null:[new Fa(A,Ce)]));if(0===v.length&&0===G.length)return(0,ut.of)([new Fa(A,[])]);const X=Os(r)===u;return this.processSegment(T,v,q,G,X?Dt:u,!0).pipe((0,gt.U)(Ce=>[new Fa(A,Ce)]))}))))}getChildConfig(e,t,r){return t.children?(0,ut.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,ut.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function OD(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,ut.of)(!0);const u=i.map(l=>{const f=rc(l,n);return Ns(function Tg(n){return n&&zl(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,ut.of)(u).pipe(Ba(),kD())}(e,t,r).pipe((0,jn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Nn(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function uw(n){return Ri(QI(!1,3))}())):(0,ut.of)({routes:[],injector:e})}}function Sg(n){const e=n.value.routeConfig;return e&&""===e.path}function xg(n){const e=[],t=new Set;for(const r of n){if(!Sg(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=xg(r.children);e.push(new Fa(r.value,i))}return e.filter(r=>!t.has(r))}function fw(n){return n.data||{}}function pw(n){return n.resolve||{}}function Ng(n){return"string"==typeof n.title||null===n.title}function Rg(n){return(0,Mn.w)(e=>{const t=n(e);return t?(0,Tn.D)(t).pipe((0,gt.U)(()=>e)):(0,ut.of)(e)})}const uc=new s.OlP("ROUTES");let Pg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ut.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ns(t.loadComponent()).pipe((0,gt.U)(gw),Nn(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Sa(()=>{this.componentLoaders.delete(t)})),i=new W_(r,()=>new ls.x).pipe(Da());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,ut.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function cc(n,e,t,r){return Ns(n.loadChildren()).pipe((0,gt.U)(gw),(0,jn.z)(i=>i instanceof s.YKP||Array.isArray(i)?(0,ut.of)(i):(0,Tn.D)(e.compileModuleAsync(i))),(0,gt.U)(i=>{r&&r(n);let u,l,f=!1;return Array.isArray(i)?(l=i,!0):(u=i.create(t).injector,l=u.get(uc,[],{optional:!0,self:!0}).flat()),{routes:l.map(Cg),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Sa(()=>{this.childrenLoaders.delete(r)})),l=new W_(u,()=>new ls.x).pipe(Da());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gw(n){return function qD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Og=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ls.x,this.transitionAbortSubject=new ls.x,this.configLoader=(0,s.f3M)(Pg),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(fs),this.rootContexts=(0,s.f3M)(mg),this.inputBindingEnabled=null!==(0,s.f3M)(Eg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ut.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new ZI(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new gg(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new sr.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ka,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hr(u=>0!==u.id),(0,gt.U)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,Mn.w)(u=>{this.currentTransition=u;let l=!1,f=!1;return(0,ut.of)(u).pipe(Nn(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Mn.w)(g=>{const v=g.currentBrowserUrl.toString(),T=!t.navigated||g.extractedUrl.toString()!==v||v!==g.currentUrlTree.toString();if(!T&&"reload"!==(g.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new Uo(g.id,this.urlSerializer.serialize(g.rawUrl),M,0)),g.resolve(null),Pi.E}if(t.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return(0,ut.of)(g).pipe((0,Mn.w)(M=>{const O=this.transitions?.getValue();return this.events.next(new Ki(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),O!==this.transitions?.getValue()?Pi.E:Promise.resolve(M)}),function lk(n,e,t,r,i,u){return(0,jn.z)(l=>function BD(n,e,t,r,i,u,l="emptyOnly"){return new dw(n,e,t,r,i,l,u).recognize()}(n,e,t,r,l.extractedUrl,i,u).pipe((0,gt.U)(({state:f,tree:g})=>({...l,targetSnapshot:f,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Nn(M=>{u.targetSnapshot=M.targetSnapshot,u.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects};const O=new VI(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(O)}));if(T&&t.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:M,extractedUrl:O,source:q,restoredState:G,extras:X}=g,Ce=new Ki(M,this.urlSerializer.serialize(O),q,G);this.events.next(Ce);const Fe=zI(0,this.rootComponentType).snapshot;return this.currentTransition=u={...g,targetSnapshot:Fe,urlAfterRedirects:O,extras:{...X,skipLocationChange:!1,replaceUrl:!1}},(0,ut.of)(u)}{const M="";return this.events.next(new Uo(g.id,this.urlSerializer.serialize(g.extractedUrl),M,1)),g.resolve(null),Pi.E}}),Nn(g=>{const v=new ik(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}),(0,gt.U)(g=>(this.currentTransition=u={...g,guards:bD(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},u)),function uy(n,e){return(0,jn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,ut.of)({...t,guardsResult:!0}):function RD(n,e,t,r){return(0,Tn.D)(n).pipe((0,jn.z)(i=>function aw(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,ut.of)(!0);const l=u.map(f=>{const g=Hh(e)??i,v=rc(f,g);return Ns(function xD(n){return n&&zl(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):g.runInContext(()=>v(n,e,t,r))).pipe(hi())});return(0,ut.of)(l).pipe(Ba())}(i.component,i.route,t,e,r)),hi(i=>!0!==i,!0))}(l,r,i,n).pipe((0,jn.z)(f=>f&&function oy(n){return"boolean"==typeof n}(f)?function PD(n,e,t,r){return(0,Tn.D)(e).pipe(ko(i=>Zu(function sw(n,e){return null!==n&&e&&e(new mD(n)),(0,ut.of)(!0)}(i.route.parent,r),function cy(n,e){return null!==n&&e&&e(new sk(n)),(0,ut.of)(!0)}(i.route,r),function ow(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function AD(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>ju(()=>{const f=l.guards.map(g=>{const v=Hh(l.node)??t,T=rc(g,v);return Ns(function SD(n){return n&&zl(n.canActivateChild)}(T)?T.canActivateChild(r,n):v.runInContext(()=>T(r,n))).pipe(hi())});return(0,ut.of)(f).pipe(Ba())}));return(0,ut.of)(u).pipe(Ba())}(n,i.path,t),function sc(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ut.of)(!0);const i=r.map(u=>ju(()=>{const l=Hh(e)??t,f=rc(u,l);return Ns(function DD(n){return n&&zl(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(hi())}));return(0,ut.of)(i).pipe(Ba())}(n,i.route,t))),hi(i=>!0!==i,!0))}(r,u,n,e):(0,ut.of)(f)),(0,gt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,g=>this.events.next(g)),Nn(g=>{if(u.guardsResult=g.guardsResult,ao(g.guardsResult))throw ry(0,g.guardsResult);const v=new fD(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(v)}),Hr(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",3),!1)),Rg(g=>{if(g.guards.canActivateChecks.length)return(0,ut.of)(g).pipe(Nn(v=>{const T=new pD(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(T)}),(0,Mn.w)(v=>{let T=!1;return(0,ut.of)(v).pipe(function VD(n,e){return(0,jn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,ut.of)(t);let u=0;return(0,Tn.D)(i).pipe(ko(l=>function py(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Ng(i)&&(u[xa]=i.title),function ZD(n,e,t,r){const i=function Wl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,ut.of)({});const u={};return(0,Tn.D)(i).pipe((0,jn.z)(l=>function Mg(n,e,t,r){const i=Hh(e)??r,u=rc(n,i);return Ns(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(hi(),Nn(f=>{u[l]=f}))),Ol(1),function kl(n){return(0,gt.U)(()=>n)}(u),xs(l=>ay(l)?Pi.E:Ri(l)))}(u,n,e,r).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=ey(n,t).resolve,i&&Ng(i)&&(n.data[xa]=i.title),null)))}(l.route,r,n,e)),Nn(()=>u++),Ol(1),(0,jn.z)(l=>u===i.length?(0,ut.of)(t):Pi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Nn({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(v,"",2)}}))}),Nn(v=>{const T=new gD(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(T)}))}),Rg(g=>{const v=T=>{const A=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(T.routeConfig).pipe(Nn(M=>{T.component=M}),(0,gt.U)(()=>{})));for(const M of T.children)A.push(...v(M));return A};return Rl(v(g.targetSnapshot.root)).pipe(Pl(),Hu(1))}),Rg(()=>this.afterPreactivation()),(0,gt.U)(g=>{const v=function YI(n,e,t){const r=nc(n,e._root,t?t._root:void 0);return new yD(r,e)}(t.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=u={...g,targetRouterState:v},u}),Nn(()=>{this.events.next(new J_)}),((n,e,t,r)=>(0,gt.U)(i=>(new sy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),Hu(1),Nn({next:g=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pi(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),t.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{l=!0}}),function Wu(n){return(0,di.e)((e,t)=>{(0,qu.Xf)(n).subscribe((0,li.x)(t,()=>t.complete(),zu.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Nn(g=>{throw g}))),Sa(()=>{l||f||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),xs(g=>{if(f=!0,gi(g))this.events.next(new Xu(u.id,this.urlSerializer.serialize(u.extractedUrl),g.message,g.cancellationCode)),function wD(n){return gi(n)&&ao(n.url)}(g)?this.events.next(new X_(g.url)):u.resolve(!1);else{this.events.next(new ec(u.id,this.urlSerializer.serialize(u.extractedUrl),g,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(g))}catch(v){u.reject(v)}}return Pi.E}))}))}cancelNavigationTransition(t,r,i){const u=new Xu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mw(n){return n!==ka}let _w=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Dt);return r}getResolvedTitleForRoute(t){return t.data[xa]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Bo)},providedIn:"root"})}return n})(),Bo=(()=>{class n extends _w{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Tl))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)($D)},providedIn:"root"})}return n})();class jD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let $D=(()=>{class n extends jD{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kg=new s.OlP("",{providedIn:"root",factory:()=>({})});let HD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(GD)},providedIn:"root"})}return n})(),GD=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Qh||{});function gy(n,e){n.events.pipe(Hr(t=>t instanceof pi||t instanceof Xu||t instanceof ec||t instanceof Uo),(0,gt.U)(t=>t instanceof pi||t instanceof Uo?Qh.COMPLETE:t instanceof Xu&&(0===t.code||1===t.code)?Qh.REDIRECTING:Qh.FAILED),Hr(t=>t!==Qh.REDIRECTING),Hu(1)).subscribe(()=>{e()})}function zD(n){throw n}function WD(n,e,t){return e.parse("/")}const KD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let In=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this._events=new ls.x,this.options=(0,s.f3M)(kg,{optional:!0})||{},this.pendingTasks=(0,s.f3M)(s.HDt),this.errorHandler=this.options.errorHandler||zD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||WD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(HD),this.routeReuseStrategy=(0,s.f3M)(Kl),this.titleStrategy=(0,s.f3M)(_w),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,s.f3M)(uc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,s.f3M)(Og),this.urlSerializer=(0,s.f3M)(fs),this.location=(0,s.f3M)(xe),this.componentInputBindingEnabled=!!(0,s.f3M)(Eg,{optional:!0}),this.eventsSubscription=new $u.w0,this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new oo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zI(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Yl(r)&&this._events.next(r));if(r instanceof Ki)mw(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Uo)this.rawUrlTree=i.rawUrl;else if(r instanceof VI){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(u,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof J_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Xu)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof X_){const u=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mw(i.source)};this.scheduleNavigation(u,ka,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof ec&&this.restoreHistory(i,!0),r instanceof pi&&(this.navigated=!0),Yl(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ka,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const g={...i};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(u.state=g)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Cg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:l,queryParamsHandling:f,preserveFragment:g}=r,v=g?this.currentUrlTree.fragment:l;let A,T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}null!==T&&(T=this.removeEmptyProps(T));try{A=m(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),A=this.currentUrlTree.root}return _(A,t,T,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ao(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,ka,null,r)}navigate(t,r={skipLocationChange:!1}){return function Vo(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new s.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...KD}:!1===r?{...YD}:r,ao(t))return sg(this.currentUrlTree,t,i);const u=this.parseUrl(t);return sg(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,l){if(this.disposed)return Promise.resolve(!1);let f,g,v;l?(f=l.resolve,g=l.reject,v=l.promise):v=new Promise((A,M)=>{f=A,g=M});const T=this.pendingTasks.add();return gy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:f,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yl(n){return!(n instanceof J_||n instanceof X_)}let _i=(()=>{class n{constructor(t,r,i,u,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new ls.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof pi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(In),s.Y36(kr),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Oe))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&s.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",s.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",s.VuI],replaceUrl:["replaceUrl","replaceUrl",s.VuI],routerLink:"routerLink"},standalone:!0,features:[s.Xq5,s.TTD]})}return n})();class QD{}let my=(()=>{class n{constructor(t,r,i,u,l){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Hr(t=>t instanceof pi),ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,s.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,f=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,Tn.D)(i).pipe((0,no.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,ut.of)(null);const u=i.pipe((0,jn.z)(l=>null===l?(0,ut.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Tn.D)([u,l]).pipe((0,no.J)())}return u})}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(In),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(QD),s.LFG(Pg))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Jh=new s.OlP("");let JD=(()=>{class n{constructor(t,r,i,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Uo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _D&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _D(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){s.$Z()};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();function Zo(n,e){return{\u0275kind:n,\u0275providers:e}}function Xh(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const r=n.get(In),i=n.get(yy);1===n.get(ef)&&r.initialNavigation(),n.get(Ew,null,s.XFs.Optional)?.setUpPreloading(),n.get(Jh,null,s.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const yy=new s.OlP("",{factory:()=>new ls.x}),ef=new s.OlP("",{providedIn:"root",factory:()=>1}),Ew=new s.OlP("");function vy(n){return Zo(0,[{provide:Ew,useExisting:my},{provide:QD,useExisting:n}])}const Ey=new s.OlP("ROUTER_FORROOT_GUARD"),_k=[xe,{provide:fs,useClass:ug},In,mg,{provide:kr,useFactory:function _y(n){return n.routerState.root},deps:[In]},Pg,[]];function yk(){return new s.PXZ("Router",In)}let qo=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_k,[],{provide:uc,multi:!0,useValue:t},{provide:Ey,useFactory:Iy,deps:[[In,new s.FiY,new s.tp0]]},{provide:kg,useValue:r||{}},r?.useHash?{provide:Oe,useClass:Be}:{provide:Oe,useClass:Qe},{provide:Jh,useFactory:()=>{const n=(0,s.f3M)(So),e=(0,s.f3M)(s.R0b),t=(0,s.f3M)(kg),r=(0,s.f3M)(Og),i=(0,s.f3M)(fs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new JD(i,r,n,e,t)}},r?.preloadingStrategy?vy(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:yk},r?.initialNavigation?wy(r):[],r?.bindToComponentInputs?Zo(8,[KI,{provide:Eg,useExisting:KI}]).\u0275providers:[],[{provide:Tw,useFactory:Xh},{provide:s.tb,multi:!0,useExisting:Tw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:uc,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Ey,8))};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({})}return n})();function Iy(n){return"guarded"}function wy(n){return["disabled"===n.initialNavigation?Zo(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(In);return()=>{e.setUpLocationChangeListener()}}},{provide:ef,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zo(2,[{provide:ef,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const t=e.get(Ue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(In),u=e.get(yy);gy(i,()=>{r(!0)}),e.get(Og).afterPreactivation=()=>(r(!0),u.closed?(0,ut.of)(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const Tw=new s.OlP("");let Ty=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.Qsj),s.Y36(s.SBq))};static#t=this.\u0275dir=s.lG2({type:n})}return n})(),Yi=(()=>{class n extends Ty{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,features:[s.qOj]})}return n})();const uo=new s.OlP("NgValueAccessor"),by={provide:uo,useExisting:(0,s.Gpc)(()=>dc),multi:!0};let dc=(()=>{class n extends Yi{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&s.NdJ("change",function(l){return i.onChange(l.target.checked)})("blur",function(){return i.onTouched()})},features:[s._Bn([by]),s.qOj]})}return n})();const i1={provide:uo,useExisting:(0,s.Gpc)(()=>Hn),multi:!0},Fg=new s.OlP("CompositionEventMode");let Hn=(()=>{class n extends Ty{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ay(){const n=ie()?ie().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Fg,8))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&s.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[s._Bn([i1]),s.qOj]})}return n})();function Qi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Lg(n){return null!=n&&"number"==typeof n.length}const zr=new s.OlP("NgValidators"),Va=new s.OlP("NgAsyncValidators"),xw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ke{static min(e){return function Mw(n){return e=>{if(Qi(e.value)||Qi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Nw(n){return e=>{if(Qi(e.value)||Qi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Rw(e)}static requiredTrue(e){return function Ug(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Dy(n){return Qi(n.value)||xw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Pw(n){return e=>Qi(e.value)||!Lg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Sy(n){return e=>Lg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Bg(n){if(!n)return xy;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Qi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Lw(e)}static composeAsync(e){return Vg(e)}}function Rw(n){return Qi(n.value)?{required:!0}:null}function xy(n){return null}function Ow(n){return null!=n}function kw(n){return(0,s.QGY)(n)?(0,Tn.D)(n):n}function Fw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function s1(n,e){return e.map(t=>t(n))}function nf(n){return n.map(e=>function Ek(n){return!n.validate}(e)?e:t=>e.validate(t))}function Lw(n){if(!n)return null;const e=n.filter(Ow);return 0==e.length?null:function(t){return Fw(s1(t,e))}}function rf(n){return null!=n?Lw(nf(n)):null}function Vg(n){if(!n)return null;const e=n.filter(Ow);return 0==e.length?null:function(t){return function Sw(...n){const e=(0,ba.jO)(n),{args:t,keys:r}=xl(n),i=new ir.y(u=>{const{length:l}=t;if(!l)return void u.complete();const f=new Array(l);let g=l,v=l;for(let T=0;T<l;T++){let A=!1;(0,qu.Xf)(t[T]).subscribe((0,li.x)(u,M=>{A||(A=!0,v--),f[T]=M},()=>g--,void 0,()=>{(!g||!A)&&(v||u.next(r?tg(r,f):f),u.complete())}))}});return e?i.pipe(Ml(e)):i}(s1(t,e).map(kw)).pipe((0,gt.U)(Fw))}}function Za(n){return null!=n?Vg(nf(n)):null}function Zg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qg(n){return n._rawValidators}function Ql(n){return n._rawAsyncValidators}function Jl(n){return n?Array.isArray(n)?n:[n]:[]}function jo(n,e){return Array.isArray(n)?n.includes(e):n===e}function jg(n,e){const t=Jl(e);return Jl(n).forEach(i=>{jo(t,i)||t.push(i)}),t}function $g(n,e){return Jl(e).filter(t=>!jo(n,t))}class sf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Za(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Oi extends sf{get formDirective(){return null}get path(){return null}}class co extends sf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xl{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lo=(()=>{class n extends Xl{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(co,2))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]})}return n})(),ho=(()=>{class n extends Xl{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Oi,10))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]})}return n})();const cf="VALID",hc="INVALID",ed="PENDING",fo="DISABLED";function fc(n){return(Gg(n)?n.validators:n)||null}function Hg(n,e){return(Gg(e)?e.asyncValidators:n)||null}function Gg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Vw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new s.vHH(1e3,"");if(!r[t])throw new s.vHH(1001,"")}function Oy(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new s.vHH(1002,"")})}class lf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cf}get invalid(){return this.status===hc}get pending(){return this.status==ed}get disabled(){return this.status===fo}get enabled(){return this.status!==fo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($g(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($g(e,this._rawAsyncValidators))}hasValidator(e){return jo(this._rawValidators,e)}hasAsyncValidator(e){return jo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ed,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fo,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cf||this.status===ed)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fo:cf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ed,this._hasOwnPendingAsyncValidator=!0;const t=kw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?fo:this.errors?hc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ed)?ed:this._anyControlsHaveStatus(hc)?hc:cf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function d1(n){return Array.isArray(n)?rf(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function h1(n){return Array.isArray(n)?Za(n):n||null}(this._rawAsyncValidators)}}class pc extends lf{constructor(e,t,r){super(fc(t),Hg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Oy(this,0,e),Object.keys(e).forEach(r=>{Vw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ky extends pc{}const gc=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>td}),td="always";function zg(n,e){return[...e.path,n]}function nd(n,e,t=td){Yg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ks(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&f1(n,e)})}(n,e),function Fy(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function qw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&f1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Dk(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Wg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),df(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Kg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Yg(n,e){const t=qg(n);null!==e.validator?n.setValidators(Zg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Ql(n);null!==e.asyncValidator?n.setAsyncValidators(Zg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Kg(e._rawValidators,i),Kg(e._rawAsyncValidators,i)}function df(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=qg(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=Ql(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Kg(e._rawValidators,r),Kg(e._rawAsyncValidators,r),t}function f1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function By(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Vy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Go=class extends lf{constructor(e=null,t,r){super(fc(t),Hg(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Vy(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){By(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){By(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Vy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Gw=(()=>{class n extends Oi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,features:[s.qOj]})}return n})(),Fs=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const qy={provide:uo,useExisting:(0,s.Gpc)(()=>Ls),multi:!0};let Ls=(()=>{class n extends Yi{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&s.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([qy]),s.qOj]})}return n})(),jy=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({})}return n})();const Xg=new s.OlP("NgModelWithFormControlWarning"),Pk={provide:Oi,useExisting:(0,s.Gpc)(()=>Us)};let Us=(()=>{class n extends Oi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(df(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return nd(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Wg(t.control||null,t,!1),function m1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function g1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Wg(r||null,t),(n=>n instanceof Go)(i)&&(nd(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function $o(n,e){Yg(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ly(n,e){return df(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yg(this.form,this),this._oldForm&&df(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(zr,10),s.Y36(Va,10),s.Y36(gc,8))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&s.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Pk]),s.qOj,s.TTD]})}return n})();const Qw={provide:Oi,useExisting:(0,s.Gpc)(()=>qa)};let qa=(()=>{class n extends Gw{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){$y(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Oi,13),s.Y36(zr,10),s.Y36(Va,10))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s._Bn([Qw]),s.qOj]})}return n})();const Ok={provide:Oi,useExisting:(0,s.Gpc)(()=>po)};let po=(()=>{class n extends Oi{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zg(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$y(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Oi,13),s.Y36(zr,10),s.Y36(Va,10))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s._Bn([Ok]),s.qOj]})}return n})();function $y(n){return!(n instanceof qa||n instanceof Us||n instanceof po)}const Jw={provide:co,useExisting:(0,s.Gpc)(()=>Bs)};let Bs=(()=>{class n extends co{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Xn(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Hn?t=u:function p1(n){return Object.getPrototypeOf(n.constructor)===Yi}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function Qg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return zg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(s.Y36(Oi,13),s.Y36(zr,10),s.Y36(Va,10),s.Y36(uo,10),s.Y36(Xg,8))};static#n=this.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Jw]),s.qOj,s.TTD]})}return n})();const Xw={provide:uo,useExisting:(0,s.Gpc)(()=>go),multi:!0};function Hy(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let go=(()=>{class n extends Yi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Hy(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function St(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&s.NdJ("change",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([Xw]),s.qOj]})}return n})(),ja=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Hy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(go,9))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const rd={provide:uo,useExisting:(0,s.Gpc)(()=>$a),multi:!0};function Gy(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let $a=(()=>{class n extends Yi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,l)=>{u._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const l=u;for(let f=0;f<l.length;f++){const v=this._getOptionValue(l[f].value);i.push(v)}}else{const l=r.options;for(let f=0;f<l.length;f++){const g=l[f];if(g.selected){const v=this._getOptionValue(g.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function T1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&s.NdJ("change",function(l){return i.onChange(l.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([rd]),s.qOj]})}return n})(),Wo=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Gy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Gy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36($a,9))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),Ko=(()=>{class n{constructor(){this._validator=xy}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=s.lG2({type:n,features:[s.TTD]})}return n})();const b1={provide:zr,useExisting:(0,s.Gpc)(()=>nm),multi:!0};let nm=(()=>{class n extends Ko{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.VuI,this.createValidator=t=>Rw}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([b1]),s.qOj]})}return n})(),M1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[jy]})}return n})();class rm extends lf{constructor(e,t,r){super(fc(t),Hg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Oy(this,0,e),e.forEach((r,i)=>{Vw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function sC(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Yo=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return sC(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new pc(i,u)}record(t,r=null){const i=this._reduceControls(t);return new ky(i,r)}control(t,r,i){let u={};return this.useNonNullable?(sC(r)?u=r:(u.validators=r,u.asyncValidators=i),new Go(t,{...u,nonNullable:!0})):new Go(t,r,i)}array(t,r,i){const u=t.map(l=>this._createControl(l));return new rm(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Go||t instanceof lf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gc,useValue:t.callSetDisabledState??td}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[M1]})}return n})(),Xy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Xg,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gc,useValue:t.callSetDisabledState??td}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[M1]})}return n})();var yi=P(7592);(0,yi.registerVersion)("firebase","9.23.0","app");var R=P(5861),gn=P(4537),Wr=P(7879),_e=P(9058),oC=P(1878);class k1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function aC(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const im="@firebase/app",Qo=new Wr.Yd("@firebase/app"),Ha="[DEFAULT]",j1={[im]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ga=new Map,_f=new Map;function $1(n,e){try{n.container.addComponent(e)}catch(t){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _r(n){const e=n.name;if(_f.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;_f.set(e,n);for(const t of Ga.values())$1(t,n);return!0}function yf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Xo=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class G1{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}}const sd="10.5.2";function yC(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ha,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Xo.create("bad-app-name",{appName:String(i)});if(t||(t=(0,_e.aH)()),!t)throw Xo.create("no-options");const u=Ga.get(i);if(u){if((0,_e.vZ)(t,u.options)&&(0,_e.vZ)(r,u.config))return u;throw Xo.create("duplicate-app",{appName:i})}const l=new gn.H0(i);for(const g of _f.values())l.addComponent(g);const f=new G1(t,r,l);return Ga.set(i,f),f}function vi(n,e,t){var r;let i=null!==(r=j1[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const u=i.match(/\s|\//),l=e.match(/\s|\//);if(u||l){const f=[`Unable to register library "${i}" with version "${e}":`];return u&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),u&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Qo.warn(f.join(" "))}_r(new gn.wA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const z1="firebase-heartbeat-database",W1=1,vf="firebase-heartbeat-store";let nv=null;function rv(){return nv||(nv=(0,oC.X3)(z1,W1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(vf)}}).catch(n=>{throw Xo.create("idb-open",{originalErrorMessage:n.message})})),nv}function iv(){return(iv=(0,R.Z)(function*(n){try{return yield(yield rv()).transaction(vf).objectStore(vf).get(sv(n))}catch(e){if(e instanceof _e.ZR)Qo.warn(e.message);else{const t=Xo.create("idb-get",{originalErrorMessage:e?.message});Qo.warn(t.message)}}})).apply(this,arguments)}function K1(n,e){return am.apply(this,arguments)}function am(){return(am=(0,R.Z)(function*(n,e){try{const r=(yield rv()).transaction(vf,"readwrite");yield r.objectStore(vf).put(e,sv(n)),yield r.done}catch(t){if(t instanceof _e.ZR)Qo.warn(t.message);else{const r=Xo.create("idb-set",{originalErrorMessage:t?.message});Qo.warn(r.message)}}})).apply(this,arguments)}function sv(n){return`${n.name}!${n.options.appId}`}class Y1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Q1(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,R.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=wC();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(u=>u.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(u=>{const l=new Date(u.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,R.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=wC(),{heartbeatsToSend:r,unsentEntries:i}=function ov(n,e=1024){const t=[];let r=n.slice();for(const i of n){const u=t.find(l=>l.agent===i.agent);if(u){if(u.dates.push(i.date),Vs(t)>e){u.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Vs(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),u=(0,_e.L)(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),u})()}}function wC(){return(new Date).toISOString().substring(0,10)}class Q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,R.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function IC(n){return iv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,R.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return K1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,R.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return K1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}})()}}function Vs(n){return(0,_e.L)(JSON.stringify({version:2,heartbeats:n})).length}!function Ef(n){_r(new gn.wA("platform-logger",e=>new k1(e),"PRIVATE")),_r(new gn.wA("heartbeat",e=>new Y1(e),"PRIVATE")),vi(im,"0.9.22",n),vi(im,"0.9.22","esm2017"),vi("fire-js","")}("");const Kr=(n,e)=>e.some(t=>n instanceof t);let za,If;const _c=new WeakMap,Wa=new WeakMap,yc=new WeakMap,Ka=new WeakMap,Ya=new WeakMap;let Qa={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Wa.get(n);if("objectStoreNames"===e)return n.objectStoreNames||yc.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ea(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function TC(n){return"function"==typeof n?function CC(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function av(){return If||(If=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(cm(this),e),ea(_c.get(this))}:function(...e){return ea(n.apply(cm(this),e))}:function(e,...t){const r=n.call(cm(this),e,...t);return yc.set(r,e.sort?e.sort():[e]),ea(r)}}(n):(n instanceof IDBTransaction&&function ud(n){if(Wa.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});Wa.set(n,e)}(n),Kr(n,function ms(){return za||(za=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Qa):n)}function ea(n){if(n instanceof IDBRequest)return function ad(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(ea(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&_c.set(t,n)}).catch(()=>{}),Ya.set(e,n),e}(n);if(Ka.has(n))return Ka.get(n);const e=TC(n);return e!==n&&(Ka.set(n,e),Ya.set(e,n)),e}const cm=n=>Ya.get(n),AC=["get","getKey","getAll","getAllKeys","count"],DC=["put","add","delete","clear"],lm=new Map;function dm(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(lm.get(e))return lm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=DC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!AC.includes(t))return;const u=function(){var l=(0,R.Z)(function*(f,...g){const v=this.transaction(f,i?"readwrite":"readonly");let T=v.store;return r&&(T=T.index(g.shift())),(yield Promise.all([T[t](...g),i&&v.done]))[0]});return function(g){return l.apply(this,arguments)}}();return lm.set(e,u),u}!function cd(n){Qa=n(Qa)}(n=>({...n,get:(e,t,r)=>dm(e,t)||n.get(e,t,r),has:(e,t)=>!!dm(e,t)||n.has(e,t)}));const SC="@firebase/installations",xC="0.6.4",X1=1e4,MC=`w:${xC}`,NC="FIS_v2",Kk="https://firebaseinstallations.googleapis.com/v1",eS=36e5,ta=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function hm(n){return n instanceof _e.ZR&&n.code.includes("request-failed")}function vc({projectId:n}){return`${Kk}/projects/${n}/installations`}function fm(n){return{token:n.token,requestStatus:2,expiresIn:rS(n.expiresIn),creationTime:Date.now()}}function ld(n,e){return pm.apply(this,arguments)}function pm(){return(pm=(0,R.Z)(function*(n,e){const r=(yield e.json()).error;return ta.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function dd({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function cv(n){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,R.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function rS(n){return Number(n.replace("s","000"))}function lv(){return(lv=(0,R.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=vc(n),i=dd(n),u=e.getImmediate({optional:!0});if(u){const v=yield u.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:NC,appId:n.appId,sdkVersion:MC})},g=yield cv(()=>fetch(r,f));if(g.ok){const v=yield g.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:fm(v.authToken)}}throw yield ld("Create Installation",g)})).apply(this,arguments)}function gm(n){return new Promise(e=>{setTimeout(e,n)})}const _m=/^[cdef][\w-]{21}$/,RC="";function oS(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function aS(n){return function mm(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return _m.test(t)?t:RC}catch{return RC}}function Ja(n){return`${n.appName}!${n.appId}`}const hd=new Map;function dv(n,e){const t=Ja(n);hv(t,e),function PC(n,e){const t=function OC(){return!Xa&&"BroadcastChannel"in self&&(Xa=new BroadcastChannel("[Firebase] FID Change"),Xa.onmessage=n=>{hv(n.data.key,n.data.fid)}),Xa}();t&&t.postMessage({key:n,fid:e}),function kC(){0===hd.size&&Xa&&(Xa.close(),Xa=null)}()}(t,e)}function hv(n,e){const t=hd.get(n);if(t)for(const r of t)r(e)}let Xa=null;const lS="firebase-installations-database",FC=1,na="firebase-installations-store";let wf=null;function fv(){return wf||(wf=function bC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),f=ea(l);return r&&l.addEventListener("upgradeneeded",g=>{r(ea(l.result),g.oldVersion,g.newVersion,ea(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(g=>{u&&g.addEventListener("close",()=>u()),i&&g.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(lS,FC,{upgrade:(n,e)=>{0===e&&n.createObjectStore(na)}})),wf}function Ic(n,e){return fd.apply(this,arguments)}function fd(){return(fd=(0,R.Z)(function*(n,e){const t=Ja(n),i=(yield fv()).transaction(na,"readwrite"),u=i.objectStore(na),l=yield u.get(t);return yield u.put(e,t),yield i.done,(!l||l.fid!==e.fid)&&dv(n,e.fid),e})).apply(this,arguments)}function Cf(n){return ym.apply(this,arguments)}function ym(){return(ym=(0,R.Z)(function*(n){const e=Ja(n),r=(yield fv()).transaction(na,"readwrite");yield r.objectStore(na).delete(e),yield r.done})).apply(this,arguments)}function Tf(n,e){return pv.apply(this,arguments)}function pv(){return(pv=(0,R.Z)(function*(n,e){const t=Ja(n),i=(yield fv()).transaction(na,"readwrite"),u=i.objectStore(na),l=yield u.get(t),f=e(l);return void 0===f?yield u.delete(t):yield u.put(f,t),yield i.done,f&&(!l||l.fid!==f.fid)&&dv(n,f.fid),f})).apply(this,arguments)}function gv(n){return pd.apply(this,arguments)}function pd(){return pd=(0,R.Z)(function*(n){let e;const t=yield Tf(n.appConfig,r=>{const i=function vm(n){return _v(n||{fid:oS(),registrationStatus:0})}(r),u=function LC(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ta.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function UC(n,e){return mv.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:dS(n)}:{installationEntry:e}}(n,i);return e=u.registrationPromise,u.installationEntry});return t.fid===RC?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),pd.apply(this,arguments)}function mv(){return mv=(0,R.Z)(function*(n,e){try{const t=yield function sS(n,e){return lv.apply(this,arguments)}(n,e);return Ic(n.appConfig,t)}catch(t){throw hm(t)&&409===t.customData.serverCode?yield Cf(n.appConfig):yield Ic(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),mv.apply(this,arguments)}function dS(n){return Em.apply(this,arguments)}function Em(){return(Em=(0,R.Z)(function*(n){let e=yield Im(n.appConfig);for(;1===e.registrationStatus;)yield gm(100),e=yield Im(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield gv(n);return r||t}return e})).apply(this,arguments)}function Im(n){return Tf(n,e=>{if(!e)throw ta.create("installation-not-found");return _v(e)})}function _v(n){return function yv(n){return 1===n.registrationStatus&&n.registrationTime+X1<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function vv(){return(vv=(0,R.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function VC(n,{fid:e}){return`${vc(n)}/${e}/authTokens:generate`}(n,t),i=function uv(n,{refreshToken:e}){const t=dd(n);return t.append("Authorization",function iS(n){return`${NC} ${n}`}(e)),t}(n,t),u=e.getImmediate({optional:!0});if(u){const v=yield u.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:MC,appId:n.appId}})},g=yield cv(()=>fetch(r,f));if(g.ok)return fm(yield g.json());throw yield ld("Generate Auth Token",g)})).apply(this,arguments)}function wm(n){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,R.Z)(function*(n,e=!1){let t;const r=yield Tf(n.appConfig,u=>{if(!Tm(u))throw ta.create("not-registered");const l=u.authToken;if(!e&&function jC(n){return 2===n.requestStatus&&!function $C(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+eS}(n)}(l))return u;if(1===l.requestStatus)return t=function ZC(n,e){return Ev.apply(this,arguments)}(n,e),u;{if(!navigator.onLine)throw ta.create("app-offline");const f=function HC(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(u);return t=function hS(n,e){return bf.apply(this,arguments)}(n,f),f}});return t?yield t:r.authToken}),Cm.apply(this,arguments)}function Ev(){return(Ev=(0,R.Z)(function*(n,e){let t=yield qC(n.appConfig);for(;1===t.authToken.requestStatus;)yield gm(100),t=yield qC(n.appConfig);const r=t.authToken;return 0===r.requestStatus?wm(n,e):r})).apply(this,arguments)}function qC(n){return Tf(n,e=>{if(!Tm(e))throw ta.create("not-registered");return function GC(n){return 1===n.requestStatus&&n.requestTime+X1<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function bf(){return bf=(0,R.Z)(function*(n,e){try{const t=yield function BC(n,e){return vv.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Ic(n.appConfig,r),t}catch(t){if(!hm(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ic(n.appConfig,r)}else yield Cf(n.appConfig);throw t}}),bf.apply(this,arguments)}function Tm(n){return void 0!==n&&2===n.registrationStatus}function bm(){return(bm=(0,R.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield gv(e);return r?r.catch(console.error):wm(e).catch(console.error),t.fid})).apply(this,arguments)}function Am(){return Am=(0,R.Z)(function*(n,e=!1){const t=n;return yield function Dm(n){return mo.apply(this,arguments)}(t),(yield wm(t,e)).token}),Am.apply(this,arguments)}function mo(){return(mo=(0,R.Z)(function*(n){const{registrationPromise:e}=yield gv(n);e&&(yield e)})).apply(this,arguments)}function YC(n){return ta.create("missing-app-config-values",{valueName:n})}const QC="installations",JC=n=>{const e=n.getProvider("app").getImmediate(),t=function Jk(n){if(!n||!n.options)throw YC("App Configuration");if(!n.name)throw YC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw YC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:yf(e,"heartbeat"),_delete:()=>Promise.resolve()}},gS=n=>{const t=yf(n.getProvider("app").getImmediate(),QC).getImmediate();return{getId:()=>function zC(n){return bm.apply(this,arguments)}(t),getToken:i=>function WC(n){return Am.apply(this,arguments)}(t,i)}};(function ar(){_r(new gn.wA(QC,JC,"PUBLIC")),_r(new gn.wA("installations-internal",gS,"PRIVATE"))})(),vi(SC,xC),vi(SC,xC,"esm2017");const Sm="@firebase/remote-config",Ei=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wS{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,R.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const u=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&l.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(l),u})()}}function CS(n=navigator){return n.languages&&n.languages[0]||n.language}class TS{constructor(e,t,r,i,u,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=u,this.appId=l}fetch(e){var t=this;return(0,R.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},g={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:CS()},v={method:"POST",headers:f,body:JSON.stringify(g)},T=fetch(l,v),A=new Promise((Ce,Fe)=>{e.signal.addEventListener(()=>{const ke=new Error("The operation was aborted.");ke.name="AbortError",Fe(ke)})});let M;try{yield Promise.race([T,A]),M=yield T}catch(Ce){let Fe="fetch-client-network";throw"AbortError"===Ce?.name&&(Fe="fetch-timeout"),Ei.create(Fe,{originalErrorMessage:Ce?.message})}let O=M.status;const q=M.headers.get("ETag")||void 0;let G,X;if(200===M.status){let Ce;try{Ce=yield M.json()}catch(Fe){throw Ei.create("fetch-client-parse",{originalErrorMessage:Fe?.message})}G=Ce.entries,X=Ce.state}if("INSTANCE_STATE_UNSPECIFIED"===X?O=500:"NO_CHANGE"===X?O=304:("NO_TEMPLATE"===X||"EMPTY_CONFIG"===X)&&(G={}),304!==O&&200!==O)throw Ei.create("fetch-status",{httpStatus:O});return{status:O,eTag:q,config:G}})()}}class bS{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,R.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,R.Z)(function*(){yield function Dv(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(Ei.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),u}catch(u){if(!function Sf(n){if(!(n instanceof _e.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const l={throttleEndTimeMillis:Date.now()+(0,_e.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class DS{constructor(e,t,r,i,u){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xf(n,e){const t=n.target.error||void 0;return Ei.create(e,{originalErrorMessage:t&&t?.message})}const eu="app_namespace_store";class sT{constructor(e,t,r,i=function iT(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(xf(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(eu,{keyPath:"compositeKey"})}}catch(t){e(Ei.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,R.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([eu],"readonly").objectStore(eu),g=t.createCompositeKey(e);try{const v=f.get(g);v.onerror=T=>{u(xf(T,"storage-get"))},v.onsuccess=T=>{const A=T.target.result;i(A?A.value:void 0)}}catch(v){u(Ei.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,R.Z)(function*(){const i=yield r.openDbPromise;return new Promise((u,l)=>{const g=i.transaction([eu],"readwrite").objectStore(eu),v=r.createCompositeKey(e);try{const T=g.put({compositeKey:v,value:t});T.onerror=A=>{l(xf(A,"storage-set"))},T.onsuccess=()=>{u()}}catch(T){l(Ei.create("storage-set",{originalErrorMessage:T?.message}))}})})()}delete(e){var t=this;return(0,R.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([eu],"readwrite").objectStore(eu),g=t.createCompositeKey(e);try{const v=f.delete(g);v.onerror=T=>{u(xf(T,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){u(Ei.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class oT{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,R.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Nm(){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,R.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}!function xS(){_r(new gn.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ei.create("registration-window");if(!(0,_e.hl)())throw Ei.create("indexed-db-unavailable");const{projectId:u,apiKey:l,appId:f}=r.options;if(!u)throw Ei.create("registration-project-id");if(!l)throw Ei.create("registration-api-key");if(!f)throw Ei.create("registration-app-id");const g=new sT(f,r.name,t=t||"firebase"),v=new oT(g),T=new Wr.Yd(Sm);T.logLevel=Wr.in.ERROR;const A=new TS(i,sd,t,u,l,f),M=new bS(A,g),O=new wS(M,g,v,T),q=new DS(r,O,v,g,T);return function bv(n){const e=(0,_e.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(q),q},"PUBLIC").setMultipleInstances(!0)),vi(Sm,"0.4.4"),vi(Sm,"0.4.4","esm2017")}();const Sv=(n,e)=>e.some(t=>n instanceof t);let xv,Mv;const Nv=new WeakMap,Pm=new WeakMap,cT=new WeakMap,Rv=new WeakMap,Pv=new WeakMap;let Ov={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Pm.get(n);if("objectStoreNames"===e)return n.objectStoreNames||cT.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ia(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function OS(n){return"function"==typeof n?function PS(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function uT(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(kv(this),e),ia(Nv.get(this))}:function(...e){return ia(n.apply(kv(this),e))}:function(e,...t){const r=n.call(kv(this),e,...t);return cT.set(r,e.sort?e.sort():[e]),ia(r)}}(n):(n instanceof IDBTransaction&&function NS(n){if(Pm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});Pm.set(n,e)}(n),Sv(n,function aT(){return xv||(xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ov):n)}function ia(n){if(n instanceof IDBRequest)return function MS(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(ia(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Nv.set(t,n)}).catch(()=>{}),Pv.set(e,n),e}(n);if(Rv.has(n))return Rv.get(n);const e=OS(n);return e!==n&&(Rv.set(n,e),Pv.set(e,n)),e}const kv=n=>Pv.get(n);function lT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),f=ia(l);return r&&l.addEventListener("upgradeneeded",g=>{r(ia(l.result),g.oldVersion,g.newVersion,ia(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(g=>{u&&g.addEventListener("close",()=>u()),i&&g.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function Fv(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ia(t).then(()=>{})}const kS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],Lv=new Map;function dT(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Lv.get(e))return Lv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=FS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!kS.includes(t))return;const u=function(){var l=(0,R.Z)(function*(f,...g){const v=this.transaction(f,i?"readwrite":"readonly");let T=v.store;return r&&(T=T.index(g.shift())),(yield Promise.all([T[t](...g),i&&v.done]))[0]});return function(g){return l.apply(this,arguments)}}();return Lv.set(e,u),u}!function RS(n){Ov=n(Ov)}(n=>({...n,get:(e,t,r)=>dT(e,t)||n.get(e,t,r),has:(e,t)=>!!dT(e,t)||n.has(e,t)}));const LS="/firebase-messaging-sw.js",hT="/firebase-cloud-messaging-push-scope",Uv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fT="https://fcmregistrations.googleapis.com/v1",Bv="google.c.a.c_id",pT="google.c.a.c_l",gT="google.c.a.ts";var Nf=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Nf||{});function Eo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yT(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let u=0;u<r.length;++u)i[u]=r.charCodeAt(u);return i}const sa="fcm_token_details_db",US=5,vT="fcm_token_object_Store";function ET(){return ET=(0,R.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(sa))return null;let e=null;return(yield lT(sa,US,{upgrade:(r=(0,R.Z)(function*(i,u,l,f){var g;if(u<2||!i.objectStoreNames.contains(vT))return;const v=f.objectStore(vT),T=yield v.index("fcmSenderId").get(n);if(yield v.clear(),T)if(2===u){const A=T;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:null!==(g=A.createTime)&&void 0!==g?g:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:"string"==typeof A.vapidKey?A.vapidKey:Eo(A.vapidKey)}}}else if(3===u){const A=T;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Eo(A.auth),p256dh:Eo(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Eo(A.vapidKey)}}}else if(4===u){const A=T;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Eo(A.auth),p256dh:Eo(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Eo(A.vapidKey)}}}}),function(u,l,f,g){return r.apply(this,arguments)})})).close(),yield Fv(sa),yield Fv("fcm_vapid_details_db"),yield Fv("undefined"),function Vv(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),ET.apply(this,arguments)}const nF="firebase-messaging-database",IT=1,tu="firebase-messaging-store";let wT=null;function nu(){return wT||(wT=lT(nF,IT,{upgrade:(n,e)=>{0===e&&n.createObjectStore(tu)}})),wT}function CT(n){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,R.Z)(function*(n){const e=vd(n),r=yield(yield nu()).transaction(tu).objectStore(tu).get(e);if(r)return r;{const i=yield function _d(n){return ET.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield qv(n,i),i}}),Zv.apply(this,arguments)}function qv(n,e){return ru.apply(this,arguments)}function ru(){return(ru=(0,R.Z)(function*(n,e){const t=vd(n),i=(yield nu()).transaction(tu,"readwrite");return yield i.objectStore(tu).put(e,t),yield i.done,e})).apply(this,arguments)}function yd(){return(yd=(0,R.Z)(function*(n){const e=vd(n),r=(yield nu()).transaction(tu,"readwrite");yield r.objectStore(tu).delete(e),yield r.done})).apply(this,arguments)}function vd({appConfig:n}){return n.appId}const Yr=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function TT(n,e){return Om.apply(this,arguments)}function Om(){return(Om=(0,R.Z)(function*(n,e){const t=yield $v(n),r=bT(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(Lm(n.appConfig),i)).json()}catch(l){throw Yr.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(u.error)throw Yr.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw Yr.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function km(){return(km=(0,R.Z)(function*(n,e){const t=yield $v(n),r=bT(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${Lm(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw Yr.create("token-update-failed",{errorInfo:l?.toString()})}if(u.error)throw Yr.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw Yr.create("token-update-no-token");return u.token})).apply(this,arguments)}function jv(n,e){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,R.Z)(function*(n,e){const r={method:"DELETE",headers:yield $v(n)};try{const u=yield(yield fetch(`${Lm(n.appConfig)}/${e}`,r)).json();if(u.error)throw Yr.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(i){throw Yr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Lm({projectId:n}){return`${fT}/projects/${n}/registrations`}function $v(n){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,R.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function bT({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Uv&&(i.web.applicationPubKey=r),i}const Rf=6048e5;function Gv(){return Gv=(0,R.Z)(function*(n){const e=yield function Pf(n,e){return wc.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Eo(e.getKey("auth")),p256dh:Eo(e.getKey("p256dh"))},r=yield CT(n.firebaseDependencies);if(r){if(function qS(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Rf?function DT(n,e){return Um.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield jv(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return zv(n.firebaseDependencies,t)}return zv(n.firebaseDependencies,t)}),Gv.apply(this,arguments)}function Ed(){return Ed=(0,R.Z)(function*(n){const e=yield CT(n.firebaseDependencies);e&&(yield jv(n.firebaseDependencies,e.token),yield function BS(n){return yd.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Ed.apply(this,arguments)}function Um(){return Um=(0,R.Z)(function*(n,e){try{const t=yield function VS(n,e){return km.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield qv(n.firebaseDependencies,r),t}catch(t){throw yield function AT(n){return Ed.apply(this,arguments)}(n),t}}),Um.apply(this,arguments)}function zv(n,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,R.Z)(function*(n,e){const r={token:yield TT(n,e),createTime:Date.now(),subscriptionOptions:e};return yield qv(n,r),r.token})).apply(this,arguments)}function wc(){return(wc=(0,R.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yT(e)})})).apply(this,arguments)}function ST(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function jS(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function xT(n,e){e.data&&(n.data=e.data)}(e,n),function MT(n,e){var t,r,i,u,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(u=e.notification)||void 0===u?void 0:u.click_action;f&&(n.fcmOptions.link=f);const g=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;g&&(n.fcmOptions.analyticsLabel=g)}(e,n),e}function RT(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Kv(n){return Yr.create("missing-app-config-values",{valueName:n})}RT("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),RT("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $S{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function PT(n){if(!n||!n.options)throw Kv("App Configuration Object");if(!n.name)throw Kv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Kv(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function OT(){return(OT=(0,R.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(LS,{scope:hT}),n.swRegistration.update().catch(()=>{})}catch(e){throw Yr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function kT(){return(kT=(0,R.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield function HS(n){return OT.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Yr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Id(){return(Id=(0,R.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Uv)})).apply(this,arguments)}function Yv(){return Yv=(0,R.Z)(function*(n,e){if(!navigator)throw Yr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yr.create("permission-blocked");return yield function FT(n,e){return Id.apply(this,arguments)}(n,e?.vapidKey),yield function rF(n,e){return kT.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function ZS(n){return Gv.apply(this,arguments)}(n)}),Yv.apply(this,arguments)}function Cc(){return(Cc=(0,R.Z)(function*(n,e,t){const r=function GS(n){switch(n){case Nf.NOTIFICATION_CLICKED:return"notification_open";case Nf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Bv],message_name:t[pT],message_time:t[gT],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qv(){return Qv=(0,R.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Nf.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(ST(t)):n.onMessageHandler.next(ST(t)));const r=t.data;(function NT(n){return"object"==typeof n&&!!n&&Bv in n})(r)&&"1"===r["google.c.a.e"]&&(yield function UT(n,e,t){return Cc.apply(this,arguments)}(n,t.messageType,r))}),Qv.apply(this,arguments)}const BT="@firebase/messaging",KS=n=>{const e=new $S(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function zS(n,e){return Qv.apply(this,arguments)}(e,t)),e},VT=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function LT(n,e){return Yv.apply(this,arguments)}(e,r)}};function ZT(){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,R.Z)(function*(){try{yield(0,_e.eu)()}catch{return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function YS(){_r(new gn.wA("messaging",KS,"PUBLIC")),_r(new gn.wA("messaging-internal",VT,"PRIVATE")),vi(BT,"0.12.4"),vi(BT,"0.12.4","esm2017")}();const Zm="analytics",jT="firebase_id",$T="origin",ex=6e4,tx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jv="https://www.googletagmanager.com/gtag/js",er=new Wr.Yd("@firebase/analytics"),Qr=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rx(n){if(!n.startsWith(Jv)){const e=Qr.create("invalid-gtag-resource",{gtagURL:n});return er.warn(e.message),""}return n}function HT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Xv(){return(Xv=(0,R.Z)(function*(n,e,t,r,i,u){const l=r[i];try{if(l)yield e[l];else{const g=(yield HT(t)).find(v=>v.measurementId===i);g&&(yield e[g.appId])}}catch(f){er.error(f)}n("config",i,u)})).apply(this,arguments)}function qm(){return(qm=(0,R.Z)(function*(n,e,t,r,i){try{let u=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const f=yield HT(t);for(const g of l){const v=f.find(A=>A.measurementId===g),T=v&&e[v.appId];if(!T){u=[];break}u.push(T)}}0===u.length&&(u=Object.values(e)),yield Promise.all(u),n("event",r,i||{})}catch(u){er.error(u)}})).apply(this,arguments)}const zT=30,WT=new class hx{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function fx(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Of(){return(Of=(0,R.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:fx(r)},u=tx.replace("{app-id}",t),l=yield fetch(u,i);if(200!==l.status&&304!==l.status){let f="";try{const g=yield l.json();null!==(e=g.error)&&void 0!==e&&e.message&&(f=g.error.message)}catch{}throw Qr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()})).apply(this,arguments)}function kf(){return(kf=(0,R.Z)(function*(n,e=WT,t){const{appId:r,apiKey:i,measurementId:u}=n.options;if(!r)throw Qr.create("no-app-id");if(!i){if(u)return{measurementId:u,appId:r};throw Qr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new QT;return setTimeout((0,R.Z)(function*(){f.abort()}),void 0!==t?t:ex),YT({appId:r,apiKey:i,measurementId:u},l,f,e)})).apply(this,arguments)}function YT(n,e,t){return t4.apply(this,arguments)}function t4(){return t4=(0,R.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=WT){var u;const{appId:l,measurementId:f}=n;try{yield function n4(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(Qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(g){if(f)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:f};throw g}try{const g=yield function e4(n){return Of.apply(this,arguments)}(n);return i.deleteThrottleMetadata(l),g}catch(g){const v=g;if(!function px(n){if(!(n instanceof _e.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v)){if(i.deleteThrottleMetadata(l),f)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:l,measurementId:f};throw g}const T=503===Number(null===(u=v?.customData)||void 0===u?void 0:u.httpStatus)?(0,_e.$s)(t,i.intervalMillis,zT):(0,_e.$s)(t,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+T,backoffCount:t+1};return i.setThrottleMetadata(l,A),er.debug(`Calling attemptFetch again in ${T} millis`),YT(n,A,r,i)}}),t4.apply(this,arguments)}class QT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let oa,Gm;function r4(){return(r4=(0,R.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const u=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:u}))}})).apply(this,arguments)}function c4(){return(c4=(0,R.Z)(function*(){if(!(0,_e.hl)())return er.warn(Qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(n){return er.warn(Qr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function l4(){return l4=(0,R.Z)(function*(n,e,t,r,i,u,l){var f;const g=function KT(n){return kf.apply(this,arguments)}(n);g.then(O=>{t[O.measurementId]=O.appId,n.options.measurementId&&O.measurementId!==n.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>er.error(O)),e.push(g);const v=function mx(){return c4.apply(this,arguments)}().then(O=>{if(O)return r.getId()}),[T,A]=yield Promise.all([g,v]);(function lx(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Jv)&&t.src.includes(n))return t;return null})(u)||function sx(n,e){const t=function ix(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:rx}),r=document.createElement("script"),i=`${Jv}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(u,T.measurementId),Gm&&(i("consent","default",Gm),function a4(n){Gm=n}(void 0)),i("js",new Date);const M=null!==(f=l?.config)&&void 0!==f?f:{};return M[$T]="firebase",M.update=!0,null!=A&&(M[jT]=A),i("config",T.measurementId,M),oa&&(i("set",oa),function u4(n){oa=n}(void 0)),T.measurementId}),l4.apply(this,arguments)}class eb{constructor(e){this.app=e}_delete(){return delete aa[this.app.options.appId],Promise.resolve()}}let aa={},d4=[];const tb={};let nb,Io,zm="dataLayer",h4=!1;function Ix(n,e,t){!function Ex(){const n=[];if((0,_e.ru)()&&n.push("This is a browser extension environment."),(0,_e.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Qr.create("invalid-analytics-context",{errorInfo:e});er.warn(t.message)}}();const r=n.options.appId;if(!r)throw Qr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Qr.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=aa[r])throw Qr.create("already-exists",{id:r});if(!h4){!function ox(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(zm);const{wrappedGtag:u,gtagCore:l}=function cx(n,e,t,r,i){let u=function(...l){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(u=window[i]),window[i]=function GT(n,e,t,r){function u(){return u=(0,R.Z)(function*(l,...f){try{if("event"===l){const[g,v]=f;yield function ux(n,e,t,r,i){return qm.apply(this,arguments)}(n,e,t,g,v)}else if("config"===l){const[g,v]=f;yield function ax(n,e,t,r,i,u){return Xv.apply(this,arguments)}(n,e,t,r,g,v)}else if("consent"===l){const[g]=f;n("consent","update",g)}else if("get"===l){const[g,v,T]=f;n("get",g,v,T)}else if("set"===l){const[g]=f;n("set",g)}else n(l,...f)}catch(g){er.error(g)}}),u.apply(this,arguments)}return function i(l){return u.apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[i]}}(aa,d4,tb,zm,"gtag");Io=u,nb=l,h4=!0}return aa[r]=function _x(n,e,t,r,i,u,l){return l4.apply(this,arguments)}(n,d4,tb,e,nb,zm,t),new eb(n)}function Cx(){return f4.apply(this,arguments)}function f4(){return(f4=(0,R.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}const ib="@firebase/analytics";!function lF(){_r(new gn.wA(Zm,(e,{options:t})=>Ix(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),_r(new gn.wA("analytics-internal",function n(e){try{const t=e.getProvider(Zm).getImmediate();return{logEvent:(r,i,u)=>function rb(n,e,t,r){n=(0,_e.m9)(n),function JT(n,e,t,r,i){return r4.apply(this,arguments)}(Io,aa[n.app.options.appId],e,t,r).catch(i=>er.error(i))}(t,r,i,u)}}catch(t){throw Qr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),vi(ib,"0.10.0"),vi(ib,"0.10.0","esm2017")}();class sb extends $u.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Lf={setInterval(n,e,...t){const{delegate:r}=Lf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Lf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Mx=P(9039);class ob extends sb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,u=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return Lf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Lf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(u){r=!0,i=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Mx.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Ac={now:()=>(Ac.delegate||Date).now(),delegate:void 0};class Uf{constructor(e,t=Uf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Uf.now=Ac.now;class Wm extends Uf{constructor(e,t=Uf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const dF=new class Rx extends Wm{}(class Nx extends ob{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),fF=new Wm(ob);var Bf=P(5137),wd=P(3093);const Ym=new s.GfV("7.6.1"),Cd="__angularfire_symbol__analyticsIsSupportedValue",Qm="__angularfire_symbol__analyticsIsSupported",p4="__angularfire_symbol__remoteConfigIsSupportedValue",Jm="__angularfire_symbol__remoteConfigIsSupported",Td="__angularfire_symbol__messagingIsSupportedValue",g4="__angularfire_symbol__messagingIsSupported";globalThis[Qm]||(globalThis[Qm]=Cx().then(n=>globalThis[Cd]=n).catch(()=>globalThis[Cd]=!1)),globalThis[g4]||(globalThis[g4]=ZT().then(n=>globalThis[Td]=n).catch(()=>globalThis[Td]=!1)),globalThis[Jm]||(globalThis[Jm]=Nm().then(n=>globalThis[p4]=n).catch(()=>globalThis[p4]=!1));const bd=(n,e)=>{const t=e?[e]:(0,yi.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function Ad(){}class ab{constructor(e,t=dF){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class ub{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ad,{},Ad,Ad)),t.pipe(Nn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let e0=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ab(Zone.current)),this.insideAngular=t.run(()=>new ab(Zone.current,fF)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ua(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Dc(n){return ua().ngZone.run(()=>n())}function lb(n){return ua(),function Fx(n){return function(t){return(t=t.lift(new ub(n.ngZone))).pipe((0,Bf.R)(n.outsideAngular),(0,wd.Q)(n.insideAngular))}}(ua())(n)}const _4=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Dc(()=>n.apply(void 0,r))},Fi=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=Dc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ad,{},Ad,Ad)))),r[u]=_4(r[u],t));const i=function cb(n){return ua().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof ir.y){const u=ua();return i.pipe((0,Bf.R)(u.outsideAngular),(0,wd.Q)(u.insideAngular))}return Dc(()=>i)}return i instanceof ir.y?i.pipe(lb):i instanceof Promise?Dc(()=>new Promise((u,l)=>i.then(f=>Dc(()=>u(f)),f=>Dc(()=>l(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Dc(()=>i)};class Sc{constructor(e){return e}}class t0{constructor(){return(0,yi.getApps)()}}const y4=new s.OlP("angularfire2._apps"),Ux={provide:Sc,useFactory:function Lx(n){return n&&1===n.length?n[0]:new Sc((0,yi.getApp)())},deps:[[new s.FiY,y4]]},Bx={provide:t0,deps:[[new s.FiY,y4]]};function hb(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Sc(r)}}let v4=(()=>{class n{constructor(t){(0,yi.registerVersion)("angularfire",Ym.full,"core"),(0,yi.registerVersion)("angularfire",Ym.full,"app"),(0,yi.registerVersion)("angular",s.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ux,Bx]}),n})();function fb(n,...e){return{ngModule:v4,providers:[{provide:y4,useFactory:hb(n),multi:!0,deps:[s.R0b,s.zs3,e0,...e]}]}}const qx=Fi(yi.initializeApp,!0);P(6710);class xc{constructor(){return bd("auth")}}const r0=new Map,s0={activated:!1,tokenObservers:[]},vb={initialized:!1,enabled:!1};function Rn(n){return r0.get(n)||Object.assign({},s0)}function a0(){return vb}const Eb="https://content-firebaseappcheck.googleapis.com/v1",Ib="exchangeDebugToken",wb={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lM{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,R.Z)(function*(){t.stop();try{t.pending=new _e.BH,yield function ZF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _e.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Gn=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function C4(n){if(!Rn(n).activated)throw Gn.create("use-before-activation",{appName:n.name})}function c0(n,e){return b4.apply(this,arguments)}function b4(){return(b4=(0,R.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,u)}catch(A){throw Gn.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==l.status)throw Gn.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(A){throw Gn.create("fetch-parse-error",{originalErrorMessage:A?.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Gn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(g[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+v,issuedAtTimeMillis:T}})).apply(this,arguments)}function Cb(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Eb}/projects/${t}/apps/${r}:${Ib}?key=${i}`,body:{debug_token:e}}}const fM="firebase-app-check-database",pM=1,Zf="firebase-app-check-store";let l0=null;function qf(){return(qf=(0,R.Z)(function*(n,e){const r=(yield function bb(){return l0||(l0=new Promise((n,e)=>{try{const t=indexedDB.open(fM,pM);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Gn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Zf,{keyPath:"compositeKey"})}}catch(t){e(Gn.create("storage-open",{originalErrorMessage:t?.message}))}}),l0)}()).transaction(Zf,"readwrite"),u=r.objectStore(Zf).put({compositeKey:n,value:e});return new Promise((l,f)=>{u.onsuccess=g=>{l()},r.onerror=g=>{var v;f(Gn.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Dd=new Wr.Yd("@firebase/app-check");function d0(n,e){return(0,_e.hl)()?function mM(n,e){return function D4(n,e){return qf.apply(this,arguments)}(function x4(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Dd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function h0(){return a0().enabled}function N4(){return jf.apply(this,arguments)}function jf(){return(jf=(0,R.Z)(function*(){const n=a0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Sb={error:"UNKNOWN_ERROR"};function R4(n){return _e.US.encodeString(JSON.stringify(n),!1)}function Sd(n){return P4.apply(this,arguments)}function P4(){return(P4=(0,R.Z)(function*(n,e=!1){const t=n.app;C4(t);const r=Rn(t);let u,i=r.token;if(i&&!$f(i)&&(r.token=void 0,i=void 0),!i){const g=yield r.cachedTokenPromise;g&&($f(g)?i=g:yield d0(t,void 0))}if(!e&&i&&$f(i))return{token:i.token};let f,l=!1;if(h0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=c0(Cb(t,yield N4()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const g=yield r.exchangeTokenPromise;return yield d0(t,g),r.token=g,{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Rn(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Dd.warn(g.message):Dd.error(g),u=g}return i?u?f=$f(i)?{token:i.token,internalError:u}:L4(u):(f={token:i.token},r.token=i,yield d0(t,i)):f=L4(u),l&&function F4(n,e){const t=Rn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function vM(n){return f0.apply(this,arguments)}function f0(){return(f0=(0,R.Z)(function*(n){const e=n.app;C4(e);const{provider:t}=Rn(e);if(h0()){const r=yield N4(),{token:i}=yield c0(Cb(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function k4(n,e){const t=Rn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function xb(n){const{app:e}=n,t=Rn(e);let r=t.tokenRefresher;r||(r=function EM(n){const{app:e}=n;return new lM((0,R.Z)(function*(){let r;if(r=Rn(e).token?yield Sd(n,!0):yield Sd(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Rn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},wb.RETRIAL_MIN_WAIT,wb.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function $f(n){return n.expireTimeMillis-Date.now()>0}function L4(n){return{token:R4(Sb),error:n}}class IM{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Rn(this.app);for(const t of e)k4(this.app,t.next);return Promise.resolve()}}const DM="app-check-internal";!function WF(){_r(new gn.wA("app-check",n=>function Mb(n,e){return new IM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(DM).initialize()})),_r(new gn.wA(DM,n=>function jF(n){return{getToken:e=>Sd(n,e),getLimitedUseToken:()=>vM(n),addTokenListener:e=>function O4(n,e,t,r){const{app:i}=n,u=Rn(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&$f(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),xb(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>xb(n))}(n,"INTERNAL",e),removeTokenListener:e=>k4(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),vi("@firebase/app-check","0.8.0")}();class q4{constructor(){return bd("app-check")}}typeof window<"u"&&window;var He,MM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zs={},_0=_0||{},bt=MM||self;function Gf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var y0="closure_uid_"+(1e9*Math.random()>>>0),$4=0;function QF(n,e,t){return n.call.apply(n.bind,arguments)}function jb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yr(n,e,t){return(yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?QF:jb).apply(null,arguments)}function v0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function vr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Nc(){this.s=this.s,this.o=this.o}Nc.prototype.s=!1,Nc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function NM(n){Object.prototype.hasOwnProperty.call(n,y0)&&n[y0]||(n[y0]=++$4)}(this)},Nc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $b=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function H4(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Hb(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Gf(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let l=0;l<u;l++)n[i+l]=r[l]}else n.push(r)}}function Xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xr.prototype.h=function(){this.defaultPrevented=!0};var Gb=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",()=>{},e),bt.removeEventListener("test",()=>{},e)}catch{}return n}();function Nd(n){return/^[\s\xa0]*$/.test(n)}function E0(){var n=bt.navigator;return n&&(n=n.userAgent)?n:""}function qs(n){return-1!=E0().indexOf(n)}function I0(n){return I0[" "](n),n}I0[" "]=function(){};var z4,n,RM=qs("Opera"),su=qs("Trident")||qs("MSIE"),G4=qs("Edge"),w0=G4||su,zb=qs("Gecko")&&!(-1!=E0().toLowerCase().indexOf("webkit")&&!qs("Edge"))&&!(qs("Trident")||qs("MSIE"))&&!qs("Edge"),C0=-1!=E0().toLowerCase().indexOf("webkit")&&!qs("Edge");function Wb(){var n=bt.document;return n?n.documentMode:void 0}e:{var T0="",b0=(n=E0(),zb?/rv:([^\);]+)(\)|;)/.exec(n):G4?/Edge\/([\d\.]+)/.exec(n):su?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):C0?/WebKit\/(\S+)/.exec(n):RM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(b0&&(T0=b0?b0[1]:""),su){var Kb=Wb();if(null!=Kb&&Kb>parseFloat(T0)){z4=String(Kb);break e}}z4=T0}var OM=bt.document&&su&&(Wb()||parseInt(z4,10))||void 0;function A0(n,e){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zb){e:{try{I0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eL[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&A0.$.h.call(this)}}vr(A0,Xr);var eL={2:"touch",3:"pen",4:"mouse"};A0.prototype.h=function(){A0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wf="closure_listenable_"+(1e6*Math.random()|0),kM=0;function tL(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++kM,this.fa=this.ia=!1}function K4(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Yb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function FM(n){const e={};for(const t in n)e[t]=n[t];return e}const Qb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LM(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Qb.length;u++)t=Qb[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Y4(n){this.src=n,this.g={},this.h=0}function Jb(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=$b(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(K4(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Xb(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}Y4.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Xb(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new tL(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var eA="closure_lm_"+(1e6*Math.random()|0),Q4={};function UM(n,e,t,r,i){if(r&&r.once)return c(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)UM(n,e[u],t,r,i);return null}return t=b(t),n&&n[Wf]?n.O(e,t,zf(r)?!!r.capture:!!r,i):o(n,e,t,!1,r,i)}function o(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var l=zf(i)?!!i.capture:!!i,f=E(n);if(f||(n[eA]=f=new Y4(n)),(t=f.add(e,t,r,l,u)).proxy)return t;if(r=function a(){const e=y;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Gb||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(p(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function c(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)c(n,e[u],t,r,i);return null}return t=b(t),n&&n[Wf]?n.P(e,t,zf(r)?!!r.capture:!!r,i):o(n,e,t,!0,r,i)}function d(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)d(n,e[u],t,r,i);else r=zf(r)?!!r.capture:!!r,t=b(t),n&&n[Wf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Xb(u=n.g[e],t,r,i))&&(K4(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=E(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Xb(e,t,r,i)),(t=-1<n?e[n]:null)&&h(t))}function h(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Wf])Jb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(p(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=E(e))?(Jb(t,n),0==t.h&&(t.src=null,e[eA]=null)):K4(n)}}}function p(n){return n in Q4?Q4[n]:Q4[n]="on"+n}function y(n,e){if(n.fa)n=!0;else{e=new A0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&h(n),n=t.call(r,e)}return n}function E(n){return(n=n[eA])instanceof Y4?n:null}var C="__closure_events_fn_"+(1e9*Math.random()>>>0);function b(n){return"function"==typeof n?n:(n[C]||(n[C]=function(e){return n.handleEvent(e)}),n[C])}function S(){Nc.call(this),this.i=new Y4(this),this.S=this,this.J=null}function N(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Xr(e,n);else if(e instanceof Xr)e.target=e.target||n;else{var i=e;LM(e=new Xr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];i=V(l,r,!0,e)&&i}if(i=V(l=e.g=n,r,!0,e)&&i,i=V(l,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=V(l=e.g=t[u],r,!1,e)&&i}function V(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var f=l.listener,g=l.la||l.src;l.ia&&Jb(n.i,l),i=!1!==f.call(g,r)&&i}}return i&&!r.defaultPrevented}vr(S,Nc),S.prototype[Wf]=!0,S.prototype.removeEventListener=function(n,e,t,r){d(this,n,e,t,r)},S.prototype.N=function(){if(S.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)K4(t[r]);delete n.g[e],n.h--}}this.J=null},S.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},S.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var H=bt.JSON.stringify;function be(){var n=js;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var nt=new class ae{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new me,n=>n.reset());class me{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Et(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Rt(n){bt.setTimeout(()=>{throw n},0)}let $t,Er=!1,js=new class qe{constructor(){this.h=this.g=null}add(e,t){const r=nt.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Rc=()=>{const n=bt.Promise.resolve(void 0);$t=()=>{n.then(J4)}};var J4=()=>{for(var n;n=be();){try{n.h.call(n.g)}catch(t){Rt(t)}var e=nt;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Er=!1};function D0(n,e){S.call(this),this.h=n||1,this.g=e||bt,this.j=yr(this.qb,this),this.l=Date.now()}function X4(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function BM(n,e,t){if("function"==typeof n)t&&(n=yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function rL(n){n.g=BM(()=>{n.g=null,n.i&&(n.i=!1,rL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}vr(D0,S),(He=D0.prototype).ga=!1,He.T=null,He.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),N(this,"tick"),this.ga&&(X4(this),this.start()))}},He.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.N=function(){D0.$.N.call(this),X4(this),delete this.g};class lq extends Nc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rL(this)}N(){super.N(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eE(n){Nc.call(this),this.h=n,this.g={}}vr(eE,Nc);var iL=[];function sL(n,e,t,r){Array.isArray(t)||(t&&(iL[0]=t.toString()),t=iL);for(var i=0;i<t.length;i++){var u=UM(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function oL(n){Yb(n.g,function(e,t){this.g.hasOwnProperty(t)&&h(e)},n),n.g={}}function tA(){this.g=!0}function S0(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pq(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<i.length;l++)i[l]=""}}}return H(t)}catch{return e}}(n,t)+(r?" "+r:"")})}eE.prototype.N=function(){eE.$.N.call(this),oL(this)},eE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tA.prototype.Ea=function(){this.g=!1},tA.prototype.info=function(){};var Kf={},aL=null;function nA(){return aL=aL||new S}function uL(n){Xr.call(this,Kf.Ta,n)}function tE(n){const e=nA();N(e,new uL(e))}function cL(n,e){Xr.call(this,Kf.STAT_EVENT,n),this.stat=e}function Ji(n){const e=nA();N(e,new cL(e,n))}function lL(n,e){Xr.call(this,Kf.Ua,n),this.size=e}function nE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}Kf.Ta="serverreachability",vr(uL,Xr),Kf.STAT_EVENT="statevent",vr(cL,Xr),Kf.Ua="timingevent",vr(lL,Xr);var rA={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function VM(){}function fL(){}VM.prototype.h=null;var jM,rE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ZM(){Xr.call(this,"d")}function qM(){Xr.call(this,"c")}function iA(){}function iE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new eE(this),this.P=gq,this.V=new D0(n=w0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pL}function pL(){this.i=null,this.g="",this.h=!1}vr(ZM,Xr),vr(qM,Xr),vr(iA,VM),iA.prototype.g=function(){return new XMLHttpRequest},iA.prototype.i=function(){return{}},jM=new iA;var gq=45e3,$M={},sA={};function HM(n,e,t){n.L=1,n.v=cA(Pc(e)),n.s=t,n.S=!0,gL(n,null)}function gL(n,e){n.G=Date.now(),sE(n),n.A=Pc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),bL(t.i,"t",r),n.C=0,t=n.l.J,n.h=new pL,n.g=KL(n.l,t?e:null,!n.s),0<n.O&&(n.M=new lq(yr(n.Pa,n,n.g),n.O)),sL(n.U,n.g,"readystatechange",n.nb),e=n.I?FM(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),tE(),function dq(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var l="",f=u.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var T=v[0];v=v[1];var A=T.split("_");l=2<=A.length&&"type"==A[1]?l+(T+"=")+v+"&":l+(T+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function mL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function _L(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=mq(n,t),i==sA){4==e&&(n.o=4,Ji(14),r=!1),S0(n.j,n.m,null,"[Incomplete Response]");break}if(i==$M){n.o=4,Ji(15),S0(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}S0(n.j,n.m,i,null),GM(n,i)}mL(n)&&i!=sA&&i!=$M&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ji(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),XM(e),e.M=!0,Ji(11))):(S0(n.j,n.m,t,"[Invalid Chunked Response]"),Yf(n),oE(n))}function mq(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?sA:(t=Number(e.substring(t,r)),isNaN(t)?$M:(r+=1)+t>e.length?sA:(e=e.slice(r,r+t),n.C=r+t,e))}function sE(n){n.Y=Date.now()+n.P,yL(n,n.P)}function yL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=nE(yr(n.lb,n),e)}function oA(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function oE(n){0==n.l.H||n.J||HL(n.l,n)}function Yf(n){oA(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,X4(n.V),oL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function GM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||zM(t.i,n)))if(!n.K&&zM(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;gA(t),fA(t)}JM(t),Ji(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=nE(yr(t.ib,t),6e3));if(1>=SL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Jf(t,11)}else if((n.K||t.g==n)&&gA(t),!Nd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const T=v[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const A=v[4];null!=A&&(t.Ga=A,t.l.info("SVER="+t.Ga));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.L=r=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const O=n.g;if(O){const q=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var u=r.i;u.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(WM(u,u.h),u.h=null))}if(r.F){const G=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;G&&(r.Da=G,bn(r.I,r.F,G))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=WL(r,r.J?r.pa:null,r.Y),l.K){xL(r.i,l);var f=l,g=r.L;g&&f.setTimeout(g),f.B&&(oA(f),sE(f)),r.g=l}else jL(r);0<t.j.length&&pA(t)}else"stop"!=v[0]&&"close"!=v[0]||Jf(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Jf(t,7):QM(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}tE()}catch{}}function vL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function yq(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function _q(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(He=iE.prototype).setTimeout=function(n){this.P=n},He.nb=function(n){n=n.target;const e=this.M;e&&3==ou(n)?e.l():this.Pa(n)},He.Pa=function(n){try{if(n==this.g)e:{const T=ou(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||w0||this.g&&(this.h.h||this.g.ja()||LL(this.g)))){this.J||4!=T||7==e||tE(),oA(this);var t=this.g.da();this.ca=t;t:if(mL(this)){var r=LL(this.g);n="";var i=r.length,u=4==ou(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yf(this),oE(this);var l="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function hq(n,e,t,r,i,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nd(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Ji(12),Yf(this),oE(this);break e}S0(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,GM(this,t)}this.S?(_L(this,T,l),w0&&this.i&&3==T&&(sL(this.U,this.V,"tick",this.mb),this.V.start())):(S0(this.j,this.m,l,null),GM(this,l)),4==T&&Yf(this),this.i&&!this.J&&(4==T?HL(this.l,this):(this.i=!1,sE(this)))}else(function Fq(n){const e={};n=(n.g&&2<=ou(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Nd(n[r]))continue;var t=Et(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[i]||[];e[i]=u,u.push(t)}!function nL(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ji(12)):(this.o=0,Ji(13)),Yf(this),oE(this)}}}catch{}},He.mb=function(){if(this.g){var n=ou(this.g),e=this.g.ja();this.C<e.length&&(oA(this),_L(this,n,e),this.i&&4!=n&&sE(this))}},He.cancel=function(){this.J=!0,Yf(this)},He.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function fq(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(tE(),Ji(17)),Yf(this),this.o=2,oE(this)):yL(this,this.Y-n)};var EL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Qf){this.h=n.h,aA(this,n.j),this.s=n.s,this.g=n.g,uA(this,n.m),this.l=n.l;var e=n.i,t=new cE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),IL(this,t),this.o=n.o}else n&&(e=String(n).match(EL))?(this.h=!1,aA(this,e[1]||"",!0),this.s=aE(e[2]||""),this.g=aE(e[3]||"",!0),uA(this,e[4]),this.l=aE(e[5]||"",!0),IL(this,e[6]||"",!0),this.o=aE(e[7]||"")):(this.h=!1,this.i=new cE(null,this.h))}function Pc(n){return new Qf(n)}function aA(n,e,t){n.j=t?aE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function uA(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function IL(n,e,t){e instanceof cE?(n.i=e,function bq(n,e){e&&!n.j&&(Rd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(CL(this,r),bL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=uE(e,Cq)),n.i=new cE(e,n.h))}function bn(n,e,t){n.i.set(e,t)}function cA(n){return bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function aE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function uE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Eq),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Eq(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(uE(e,wL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(uE(e,wL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(uE(t,"/"==t.charAt(0)?wq:Iq,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",uE(t,Tq)),n.join("")};var wL=/[#\/\?@]/g,Iq=/[#\?:]/g,wq=/[#\?]/g,Cq=/[#\?@]/g,Tq=/#/g;function cE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Rd(n){n.g||(n.g=new Map,n.h=0,n.i&&function vq(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function CL(n,e){Rd(n),e=x0(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function TL(n,e){return Rd(n),e=x0(n,e),n.g.has(e)}function bL(n,e,t){CL(n,e),0<t.length&&(n.i=null,n.g.set(x0(n,e),H4(t)),n.h+=t.length)}function x0(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function AL(n){this.l=n||Dq,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ka&&bt.g.Ka()&&bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=cE.prototype).add=function(n,e){Rd(this),this.i=null,n=x0(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},He.forEach=function(n,e){Rd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},He.ta=function(){Rd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},He.Z=function(n){Rd(this);let e=[];if("string"==typeof n)TL(this,n)&&(e=e.concat(this.g.get(x0(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},He.set=function(n,e){return Rd(this),this.i=null,TL(this,n=x0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},He.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=u;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var Dq=10;function DL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function SL(n){return n.h?1:n.g?n.g.size:0}function zM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function WM(n,e){n.g?n.g.add(e):n.h=e}function xL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ML(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return H4(n.i)}AL.prototype.cancel=function(){if(this.i=ML(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Sq=class{stringify(n){return bt.JSON.stringify(n,void 0)}parse(n){return bt.JSON.parse(n,void 0)}};function xq(){this.g=new Sq}function Mq(n,e,t){const r=t||"";try{vL(n,function(i,u){let l=i;zf(i)&&(l=H(i)),e.push(r+u+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function lA(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lE(n){this.l=n.fc||null,this.j=n.ob||!1}function dA(n,e){S.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=KM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vr(lE,VM),lE.prototype.g=function(){return new dA(this.l,this.j)},lE.prototype.i=function(n){return function(){return n}}({}),vr(dA,S);var KM=0;function NL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function dE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hE(n)}function hE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=dA.prototype).open=function(n,e){if(this.readyState!=KM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hE(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dE(this)),this.readyState=KM},He.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hE(this)),this.g&&(this.readyState=3,hE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},He.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dE(this):hE(this),3==this.readyState&&NL(this)}},He.Za=function(n){this.g&&(this.response=this.responseText=n,dE(this))},He.Ya=function(n){this.g&&(this.response=n,dE(this))},He.ka=function(){this.g&&dE(this)},He.setRequestHeader=function(n,e){this.v.append(n,e)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Rq=bt.JSON.parse;function tr(n){S.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=RL,this.L=this.M=!1}vr(tr,S);var RL="",Pq=/^https?$/i,Oq=["POST","PUT"];function PL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,OL(n),hA(n)}function OL(n){n.F||(n.F=!0,N(n,"complete"),N(n,"error"))}function kL(n){if(n.h&&typeof _0<"u"&&(!n.C[1]||4!=ou(n)||2!=n.da()))if(n.v&&4==ou(n))BM(n.La,0,n);else if(N(n,"readystatechange"),4==ou(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(EL)[1]||null;!i&&bt.self&&bt.self.location&&(i=bt.self.location.protocol.slice(0,-1)),r=!Pq.test(i?i.toLowerCase():"")}t=r}if(t)N(n,"complete"),N(n,"success");else{n.m=6;try{var u=2<ou(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",OL(n)}}finally{hA(n)}}}function hA(n,e){if(n.g){FL(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||N(n,"ready");try{t.onreadystatechange=r}catch{}}}function FL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function ou(n){return n.g?n.g.readyState:0}function LL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case RL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function UL(n){let e="";return Yb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function YM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=UL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):bn(n,e,t))}function fE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function BL(n){this.Ga=0,this.j=[],this.l=new tA,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fE("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fE("baseRetryDelayMs",5e3,n),this.hb=fE("retryDelaySeedMs",1e4,n),this.eb=fE("forwardChannelMaxRetries",2,n),this.xa=fE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new AL(n&&n.concurrentRequestLimit),this.Ja=new xq,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function QM(n){if(VL(n),3==n.H){var e=n.W++,t=Pc(n.I);if(bn(t,"SID",n.K),bn(t,"RID",e),bn(t,"TYPE","terminate"),pE(n,t),(e=new iE(n,n.l,e)).L=2,e.v=cA(Pc(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon)try{t=bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=KL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),sE(e)}zL(n)}function fA(n){n.g&&(XM(n),n.g.cancel(),n.g=null)}function VL(n){fA(n),n.u&&(bt.clearTimeout(n.u),n.u=null),gA(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function pA(n){if(!DL(n.i)&&!n.m){n.m=!0;var e=n.Na;$t||Rc(),Er||($t(),Er=!0),js.add(e,n),n.C=0}}function ZL(n,e){var t;t=e?e.m:n.W++;const r=Pc(n.I);bn(r,"SID",n.K),bn(r,"RID",t),bn(r,"AID",n.V),pE(n,r),n.o&&n.s&&YM(r,n.o,n.s),t=new iE(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=qL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),WM(n.i,t),HM(t,r,e)}function pE(n,e){n.na&&Yb(n.na,function(t,r){bn(e,r,t)}),n.h&&vL({},function(t,r){bn(e,r,t)})}function qL(n,e,t){t=Math.min(n.j.length,t);var r=n.h?yr(n.h.Va,n.h,n):null;e:{var i=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=i[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let f=!0;for(let g=0;g<t;g++){let v=i[g].g;const T=i[g].map;if(v-=u,0>v)u=Math.max(0,i[g].g-100),f=!1;else try{Mq(T,l,"req"+v+"_")}catch{r&&r(T)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function jL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;$t||Rc(),Er||($t(),Er=!0),js.add(e,n),n.A=0}}function JM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=nE(yr(n.Ma,n),GL(n,n.A)),n.A++,0))}function XM(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function $L(n){n.g=new iE(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Pc(n.wa);bn(e,"RID","rpc"),bn(e,"SID",n.K),bn(e,"AID",n.V),bn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&bn(e,"TO",n.qa),bn(e,"TYPE","xmlhttp"),pE(n,e),n.o&&n.s&&YM(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=cA(Pc(e)),t.s=null,t.S=!0,gL(t,n)}function gA(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function HL(n,e){var t=null;if(n.g==e){gA(n),XM(n),n.g=null;var r=2}else{if(!zM(n.i,e))return;t=e.F,xL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;N(r=nA(),new lL(r,t)),pA(n)}else jL(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Lq(n,e){return!(SL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=nE(yr(n.Na,n,e),GL(n,n.C)),n.C++,0)))}(n,e)||2==r&&JM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Jf(n,5);break;case 4:Jf(n,10);break;case 3:Jf(n,6);break;default:Jf(n,2)}}function GL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Jf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=yr(n.pb,n);t||(t=new Qf("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||aA(t,"https"),cA(t)),function Nq(n,e){const t=new tA;if(bt.Image){const r=new Image;r.onload=v0(lA,t,r,"TestLoadImage: loaded",!0,e),r.onerror=v0(lA,t,r,"TestLoadImage: error",!1,e),r.onabort=v0(lA,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=v0(lA,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ji(2);n.H=0,n.h&&n.h.za(e),zL(n),VL(n)}function zL(n){if(n.H=0,n.ma=[],n.h){const e=ML(n.i);(0!=e.length||0!=n.j.length)&&(Hb(n.ma,e),Hb(n.ma,n.j),n.i.i.length=0,H4(n.j),n.j.length=0),n.h.ya()}}function WL(n,e,t){var r=t instanceof Qf?Pc(t):new Qf(t);if(""!=r.g)e&&(r.g=e+"."+r.g),uA(r,r.m);else{var i=bt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Qf(null);r&&aA(u,r),e&&(u.g=e),i&&uA(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&bn(r,t,e),bn(r,"VER",n.ra),pE(n,r),r}function KL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tr(t&&n.Ha&&!n.va?new lE({ob:!0}):n.va)).Oa(n.J),e}function YL(){}function mA(){if(su&&!(10<=Number(OM)))throw Error("Environmental error: no available transport.")}function $s(n,e){S.call(this),this.g=new BL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Nd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new M0(this)}function QL(n){ZM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function JL(){qM.call(this),this.status=1}function M0(n){this.g=n}function la(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function eN(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=u+((l=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function dn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(He=tr.prototype).Oa=function(n){this.M=n},He.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jM.g(),this.C=function hL(n){return n.h||(n.h=n.i())}(this.u?this.u:jM),this.g.onreadystatechange=yr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void PL(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=bt.FormData&&n instanceof bt.FormData,!(0<=$b(Oq,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{FL(this),0<this.B&&((this.L=function kq(n){return su&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.ua,this)):this.A=BM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){PL(this,u)}},He.ua=function(){typeof _0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,N(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,N(this,"complete"),N(this,"abort"),hA(this))},He.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hA(this,!0)),tr.$.N.call(this)},He.La=function(){this.s||(this.G||this.v||this.l?kL(this):this.kb())},He.kb=function(){kL(this)},He.isActive=function(){return!!this.g},He.da=function(){try{return 2<ou(this)?this.g.status:-1}catch{return-1}},He.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},He.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Rq(e)}},He.Ia=function(){return this.m},He.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=BL.prototype).ra=8,He.H=1,He.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new iE(this,this.l,n);let u=this.s;if(this.U&&(u?(u=FM(u),LM(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qL(this,i,e),bn(t=Pc(this.I),"RID",n),bn(t,"CVER",22),this.F&&bn(t,"X-HTTP-Session-Id",this.F),pE(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(UL(u)))+"&"+e:this.o&&YM(t,this.o,u)),WM(this.i,i),this.bb&&bn(t,"TYPE","init"),this.P?(bn(t,"$req",e),bn(t,"SID","null"),i.aa=!0,HM(i,t,null)):HM(i,t,e),this.H=2}}else 3==this.H&&(n?ZL(this,n):0==this.j.length||DL(this.i)||ZL(this))},He.Ma=function(){if(this.u=null,$L(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=nE(yr(this.jb,this),n)}},He.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ji(10),fA(this),$L(this))},He.ib=function(){null!=this.v&&(this.v=null,fA(this),JM(this),Ji(19))},He.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ji(2)):(this.l.info("Failed to ping google.com"),Ji(1))},He.isActive=function(){return!!this.h&&this.h.isActive(this)},(He=YL.prototype).Ba=function(){},He.Aa=function(){},He.za=function(){},He.ya=function(){},He.isActive=function(){return!0},He.Va=function(){},mA.prototype.g=function(n,e){return new $s(n,e)},vr($s,S),$s.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ji(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=WL(n,null,n.Y),pA(n)},$s.prototype.close=function(){QM(this.g)},$s.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=H(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&pA(e)},$s.prototype.N=function(){this.g.h=null,delete this.j,QM(this.g),delete this.g,$s.$.N.call(this)},vr(QL,ZM),vr(JL,qM),vr(M0,YL),M0.prototype.Ba=function(){N(this.g,"a")},M0.prototype.Aa=function(n){N(this.g,new QL(n))},M0.prototype.za=function(n){N(this.g,new JL)},M0.prototype.ya=function(){N(this.g,"b")},vr(la,function Uq(){this.blockSize=-1}),la.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},la.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)eN(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){eN(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){eN(this,r),i=0;break}}this.h=i,this.i+=e},la.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Bq={};function tN(n){return-128<=n&&128>n?function XF(n,e){var t=Bq;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new dn([0|e],0>e?-1:0)}):new dn([0|n],0>n?-1:0)}function au(n){if(isNaN(n)||!isFinite(n))return N0;if(0>n)return Ii(au(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=nN;return new dn(e,0)}var nN=4294967296,N0=tN(0),rN=tN(1),eU=tN(16777216);function Oc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function wo(n){return-1==n.h}function Ii(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new dn(t,~n.h).add(rN)}function _A(n,e){return n.add(Ii(e))}function yA(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function gE(n,e){this.g=n,this.h=e}function vA(n,e){if(Oc(e))throw Error("division by zero");if(Oc(n))return new gE(N0,N0);if(wo(n))return e=vA(Ii(n),e),new gE(Ii(e.g),Ii(e.h));if(wo(e))return e=vA(n,Ii(e)),new gE(Ii(e.g),e.h);if(30<n.g.length){if(wo(n)||wo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=rN,r=e;0>=r.X(n);)t=tU(t),r=tU(r);var i=R0(t,1),u=R0(r,1);for(r=R0(r,2),t=R0(t,2);!Oc(r);){var l=u.add(r);0>=l.X(n)&&(i=i.add(t),u=l),r=R0(r,1),t=R0(t,1)}return e=_A(n,i.R(e)),new gE(i,e)}for(i=N0;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=au(t)).R(e);wo(l)||0<l.X(n);)l=(u=au(t-=r)).R(e);Oc(u)&&(u=rN),i=i.add(u),n=_A(n,l)}return new gE(i,n)}function tU(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new dn(t,n.h)}function R0(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new dn(i,n.h)}(He=dn.prototype).ea=function(){if(wo(this))return-Ii(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:nN+r)*e,e*=nN}return n},He.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Oc(this))return"0";if(wo(this))return"-"+Ii(this).toString(n);for(var e=au(Math.pow(n,6)),t=this,r="";;){var i=vA(t,e).g,u=((0<(t=_A(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Oc(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},He.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},He.X=function(n){return wo(n=_A(this,n))?-1:Oc(n)?0:1},He.abs=function(){return wo(this)?Ii(this):this},He.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),l=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(u&=65535)}return new dn(t,-2147483648&t[t.length-1]?-1:0)},He.R=function(n){if(Oc(this)||Oc(n))return N0;if(wo(this))return wo(n)?Ii(this).R(Ii(n)):Ii(Ii(this).R(n));if(wo(n))return Ii(this.R(Ii(n)));if(0>this.X(eU)&&0>n.X(eU))return au(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,g=65535&n.D(i);t[2*r+2*i]+=l*g,yA(t,2*r+2*i),t[2*r+2*i+1]+=u*g,yA(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,yA(t,2*r+2*i+1),t[2*r+2*i+2]+=u*f,yA(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new dn(t,0)},He.gb=function(n){return vA(this,n).h},He.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new dn(t,this.h&n.h)},He.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new dn(t,this.h|n.h)},He.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new dn(t,this.h^n.h)},mA.prototype.createWebChannel=mA.prototype.g,$s.prototype.send=$s.prototype.u,$s.prototype.open=$s.prototype.m,$s.prototype.close=$s.prototype.close,rA.NO_ERROR=0,rA.TIMEOUT=8,rA.HTTP_ERROR=6,dL.COMPLETE="complete",fL.EventType=rE,rE.OPEN="a",rE.CLOSE="b",rE.ERROR="c",rE.MESSAGE="d",S.prototype.listen=S.prototype.O,tr.prototype.listenOnce=tr.prototype.P,tr.prototype.getLastError=tr.prototype.Sa,tr.prototype.getLastErrorCode=tr.prototype.Ia,tr.prototype.getStatus=tr.prototype.da,tr.prototype.getResponseJson=tr.prototype.Wa,tr.prototype.getResponseText=tr.prototype.ja,tr.prototype.send=tr.prototype.ha,tr.prototype.setWithCredentials=tr.prototype.Oa,la.prototype.digest=la.prototype.l,la.prototype.reset=la.prototype.reset,la.prototype.update=la.prototype.j,dn.prototype.add=dn.prototype.add,dn.prototype.multiply=dn.prototype.R,dn.prototype.modulo=dn.prototype.gb,dn.prototype.compare=dn.prototype.X,dn.prototype.toNumber=dn.prototype.ea,dn.prototype.toString=dn.prototype.toString,dn.prototype.getBits=dn.prototype.D,dn.fromNumber=au,dn.fromString=function XL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ii(XL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=au(Math.pow(e,8)),r=N0,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+u),e);8>u?(u=au(Math.pow(e,u)),r=r.R(u).add(au(l))):r=(r=r.R(t)).add(au(l))}return r};var Vq=Zs.createWebChannelTransport=function(){return new mA},Zq=Zs.getStatEventTarget=function(){return nA()},iN=Zs.ErrorCode=rA,qq=Zs.EventType=dL,jq=Zs.Event=Kf,nU=Zs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$q=Zs.FetchXmlHttpFactory=lE,EA=Zs.WebChannel=fL,Hq=Zs.XhrIo=tr,Gq=Zs.Md5=la,P0=Zs.Integer=dn;const rU="@firebase/firestore";class ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");let O0="9.23.0";const Pd=new Wr.Yd("@firebase/firestore");function sN(){return Pd.logLevel}function De(n,...e){if(Pd.logLevel<=Wr.in.DEBUG){const t=e.map(oN);Pd.debug(`Firestore (${O0}): ${n}`,...t)}}function ur(n,...e){if(Pd.logLevel<=Wr.in.ERROR){const t=e.map(oN);Pd.error(`Firestore (${O0}): ${n}`,...t)}}function da(n,...e){if(Pd.logLevel<=Wr.in.WARN){const t=e.map(oN);Pd.warn(`Firestore (${O0}): ${n}`,...t)}}function oN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${O0}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function it(n,e){n||Xe()}function Ge(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ei.UNAUTHENTICATED))}shutdown(){}}class Wq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Kq{constructor(e){this.t=e,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Lr,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,R.Z)(function*(){yield v.promise,yield u(r.currentUser)}))},g=v=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Lr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it("string"==typeof r.accessToken),new iU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(null===e||"string"==typeof e),new ei(e)}}class Yq{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ei.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Qq{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Yq(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jq{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it("string"==typeof t.token),this.T=t.token,new sU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xq(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class oU{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Xq(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[u]%62))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function k0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new zn(0,0))}static max(){return new ot(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mE{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===mE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mE?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),l=t.get(i);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends mE{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const ej=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends mE{construct(e,t,r){return new cr(e,t,r)}static isValidIdentifier(e){return ej.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ie(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ie(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(u(),i++)}if(u(),l)throw new Ie(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(t)}static emptyPath(){return new cr([])}}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Wt.fromString(e))}static fromName(e){return new $e(Wt.fromString(e).popFirst(5))}static empty(){return new $e(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Wt(e.slice()))}}function cU(n){return new Hs(n.readTime,n.key,-1)}class Hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hs(ot.min(),$e.empty(),-1)}static max(){return new Hs(ot.max(),$e.empty(),-1)}}function uN(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const lU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Od(n){return cN.apply(this,arguments)}function cN(){return cN=(0,R.Z)(function*(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==lU)throw n;De("LocalStore","Unexpectedly lost primary lease")}),cN.apply(this,arguments)}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,r)=>{t(e)})}static reject(e){return new z((t,r)=>{r(e)})}static waitFor(e){return new z((t,r)=>{let i=0,u=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++u,l&&u===i&&t()},g=>r(g))}),l=!0,u===i&&t()})}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next(i=>i?z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new z((r,i)=>{const u=e.length,l=new Array(u);let f=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next(T=>{l[v]=T,++f,f===u&&r(l)},T=>i(T))}})}static doWhile(e,t){return new z((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function kd(n){return"IndexedDbTransactionError"===n.name}let Gs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function vE(n){return null==n}function EE(n){return 0===n&&1/n==-1/0}function vU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class wn{constructor(e,t){this.comparator=e,this.root=t||wi.EMPTY}insert(e,t){return new wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bA(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bA(this.root,e,this.comparator,!1)}getReverseIterator(){return new bA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bA(this.root,e,this.comparator,!0)}}class bA{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wi{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??wi.RED,this.left=i??wi.EMPTY,this.right=u??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new wi(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1,wi.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new wi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class An{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IU(this.data.getIterator())}getIteratorFrom(e){return new IU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new An(this.comparator);return t.data=e,t}}class IU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _s{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new _s([])}unionWith(e){let t=new An(cr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return k0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wU("Invalid base64 string: "+i):i}}(e);return new Ur(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const Aj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ld(n){if(it(!!n),"string"==typeof n){let e=0;const t=Aj.exec(n);if(it(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nr(n.seconds),nanos:nr(n.nanos)}}function nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function kc(n){return"string"==typeof n?Ur.fromBase64String(n):Ur.fromUint8Array(n)}function AA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function DA(n){const e=n.mapValue.fields.__previous_value__;return AA(e)?DA(e):e}function IE(n){const e=Ld(n.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}class Dj{constructor(e,t,r,i,u,l,f,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v}}class tp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new tp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof tp&&e.projectId===this.projectId&&e.database===this.database}}const Ud={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?AA(n)?4:AU(n)?9007199254740991:10:Xe()}function cu(n,e){if(n===e)return!0;const t=Bd(n);if(t!==Bd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return IE(n).isEqual(IE(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Ld(r.timestampValue),l=Ld(i.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,kc(n.bytesValue).isEqual(kc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return nr(r.geoPointValue.latitude)===nr(i.geoPointValue.latitude)&&nr(r.geoPointValue.longitude)===nr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nr(r.integerValue)===nr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=nr(r.doubleValue),l=nr(i.doubleValue);return u===l?EE(u)===EE(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return k0(n.arrayValue.values||[],e.arrayValue.values||[],cu);case 10:return function(r,i){const u=r.mapValue.fields||{},l=i.mapValue.fields||{};if(vU(u)!==vU(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===l[f]||!cu(u[f],l[f])))return!1;return!0}(n,e);default:return Xe()}var i}function wE(n,e){return void 0!==(n.values||[]).find(t=>cu(t,e))}function Vd(n,e){if(n===e)return 0;const t=Bd(n),r=Bd(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const l=nr(i.integerValue||i.doubleValue),f=nr(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return CU(n.timestampValue,e.timestampValue);case 4:return CU(IE(n),IE(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(i,u){const l=kc(i),f=kc(u);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const l=i.split("/"),f=u.split("/");for(let g=0;g<l.length&&g<f.length;g++){const v=xt(l[g],f[g]);if(0!==v)return v}return xt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const l=xt(nr(i.latitude),nr(u.latitude));return 0!==l?l:xt(nr(i.longitude),nr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const l=i.values||[],f=u.values||[];for(let g=0;g<l.length&&g<f.length;++g){const v=Vd(l[g],f[g]);if(v)return v}return xt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Ud.mapValue&&u===Ud.mapValue)return 0;if(i===Ud.mapValue)return 1;if(u===Ud.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),g=u.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let T=0;T<f.length&&T<v.length;++T){const A=xt(f[T],v[T]);if(0!==A)return A;const M=Vd(l[f[T]],g[v[T]]);if(0!==M)return M}return xt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function CU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=Ld(n),r=Ld(e),i=xt(t.seconds,r.seconds);return 0!==i?i:xt(t.nanos,r.nanos)}function L0(n){return hN(n)}function hN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ld(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?kc(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const l of r.values||[])u?u=!1:i+=",",i+=hN(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const f of i)l?l=!1:u+=",",u+=`${f}:${hN(r.fields[f])}`;return u+"}"}(n.mapValue):Xe();var e}function np(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fN(n){return!!n&&"integerValue"in n}function CE(n){return!!n&&"arrayValue"in n}function TU(n){return!!n&&"nullValue"in n}function bU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function MA(n){return!!n&&"mapValue"in n}function TE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=TE(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=TE(n.arrayValue.values[t]);return e}return Object.assign({},n)}function AU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!MA(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=TE(t)}setAll(e){let t=cr.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=TE(l):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());MA(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];MA(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fd(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Ci(TE(this.value))}}function xU(n){const e=[];return Fd(n.fields,(t,r)=>{const i=new cr([t]);if(MA(r)){const u=xU(r.mapValue).fields;if(0===u.length)e.push(i);else for(const l of u)e.push(i.child(l))}else e.push(i)}),new _s(e)}class Dn{constructor(e,t,r,i,u,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Dn(e,0,ot.min(),ot.min(),ot.min(),Ci.empty(),0)}static newFoundDocument(e,t,r,i){return new Dn(e,1,t,ot.min(),r,i,0)}static newNoDocument(e,t){return new Dn(e,2,t,ot.min(),ot.min(),Ci.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,ot.min(),ot.min(),Ci.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ot.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zd{constructor(e,t){this.position=e,this.inclusive=t}}function MU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],l=n.position[i];if(r=u.field.isKeyField()?$e.comparator($e.fromName(l.referenceValue),t.key):Vd(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function NU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cu(n.position[t],e.position[t]))return!1;return!0}class U0{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class RU{}class qt extends RU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Nj(e,t,r):"array-contains"===t?new Oj(e,r):"in"===t?new UU(e,r):"not-in"===t?new kj(e,r):"array-contains-any"===t?new Fj(e,r):new qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Rj(e,r):new Pj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vd(t,this.value)):null!==t&&Bd(this.value)===Bd(t)&&this.matchesComparison(Vd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class hn extends RU{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new hn(e,t)}matches(e){return B0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function B0(n){return"and"===n.op}function gN(n){return function PU(n){for(const e of n.filters)if(e instanceof hn)return!1;return!0}(n)&&B0(n)}function mN(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+L0(n.value);if(gN(n))return n.filters.map(e=>mN(e)).join(",");{const e=n.filters.map(t=>mN(t)).join(",");return`${n.op}(${e})`}}function OU(n,e){return n instanceof qt?(t=n,(r=e)instanceof qt&&t.op===r.op&&t.field.isEqual(r.field)&&cu(t.value,r.value)):n instanceof hn?function(t,r){return r instanceof hn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,l)=>i&&OU(u,r.filters[l]),!0)}(n,e):void Xe();var t,r}function FU(n){return n instanceof qt?`${(e=n).field.canonicalString()} ${e.op} ${L0(e.value)}`:n instanceof hn?function(e){return e.op.toString()+" {"+e.getFilters().map(FU).join(" ,")+"}"}(n):"Filter";var e}class Nj extends qt{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rj extends qt{constructor(e,t){super(e,"in",t),this.keys=LU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Pj extends qt{constructor(e,t){super(e,"not-in",t),this.keys=LU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class Oj extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return CE(t)&&wE(t.arrayValue,this.value)}}class UU extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wE(this.value.arrayValue,t)}}class kj extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wE(this.value.arrayValue,t)}}class Fj extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!CE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wE(this.value.arrayValue,r))}}class Lj{constructor(e,t=null,r=[],i=[],u=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=l,this.endAt=f,this.dt=null}}function _N(n,e=null,t=[],r=[],i=null,u=null,l=null){return new Lj(n,e,t,r,i,u,l)}function rp(n){const e=Ge(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mN(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),vE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>L0(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>L0(r)).join(",")),e.dt=t}return e.dt}function bE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Mj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NU(n.startAt,e.startAt)&&NU(n.endAt,e.endAt)}function NA(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Fc{constructor(e,t=null,r=[],i=[],u=null,l="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=l,this.startAt=f,this.endAt=g,this.wt=null,this._t=null}}function V0(n){return new Fc(n)}function qU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function PA(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function vN(n){return null!==n.collectionGroup}function ip(n){const e=Ge(n);if(null===e.wt){e.wt=[];const t=PA(e),r=yN(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new U0(t)),e.wt.push(new U0(cr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new U0(cr.keyField(),u))}}}return e.wt}function Xi(n){const e=Ge(n);if(!e._t)if("F"===e.limitType)e._t=_N(e.path,e.collectionGroup,ip(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of ip(e))t.push(new U0(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Zd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Zd(e.startAt.position,e.startAt.inclusive):null;e._t=_N(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function EN(n,e){e.getFirstInequalityField(),PA(n);const t=n.filters.concat([e]);return new Fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function OA(n,e,t){return new Fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function AE(n,e){return bE(Xi(n),Xi(e))&&n.limitType===e.limitType}function jU(n){return`${rp(Xi(n))}|lt:${n.limitType}`}function IN(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>FU(r)).join(", ")}]`),vE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>L0(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>L0(r)).join(",")),`Target(${t})`}(Xi(n))}; limitType=${n.limitType})`}function DE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$e.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of ip(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,l){const f=MU(i,u,l);return i.inclusive?f<=0:f<0}(t.startAt,ip(t),r)||t.endAt&&!function(i,u,l){const f=MU(i,u,l);return i.inclusive?f>=0:f>0}(t.endAt,ip(t),r)));var t,r}function HU(n){return(e,t)=>{let r=!1;for(const i of ip(n)){const u=Uj(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function Uj(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(i,u,l){const f=u.data.field(i),g=l.data.field(i);return null!==f&&null!==g?Vd(f,g):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class Lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fd(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return EU(this.inner)}size(){return this.innerSize}}const Bj=new wn($e.comparator);function ys(){return Bj}const GU=new wn($e.comparator);function SE(...n){let e=GU;for(const t of n)e=e.insert(t.key,t);return e}function zU(n){let e=GU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function lu(){return xE()}function WU(){return xE()}function xE(){return new Lc(n=>n.toString(),(n,e)=>n.isEqual(e))}const Vj=new wn($e.comparator),Zj=new An($e.comparator);function Pt(...n){let e=Zj;for(const t of n)e=e.add(t);return e}const qj=new An(xt);function KU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:EE(e)?"-0":e}}function YU(n){return{integerValue:""+n}}function QU(n,e){return function hU(n){return"number"==typeof n&&Number.isInteger(n)&&!EE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?YU(e):KU(n,e)}class kA{constructor(){this._=void 0}}function jj(n,e,t){return n instanceof Z0?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&AA(i)&&(i=DA(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof sp?XU(n,e):n instanceof op?e5(n,e):function(r,i){const u=JU(r,i),l=t5(u)+t5(r.gt);return fN(u)&&fN(r.gt)?YU(l):KU(r.serializer,l)}(n,e)}function $j(n,e,t){return n instanceof sp?XU(n,e):n instanceof op?e5(n,e):t}function JU(n,e){return n instanceof q0?fN(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Z0 extends kA{}class sp extends kA{constructor(e){super(),this.elements=e}}function XU(n,e){const t=n5(e);for(const r of n.elements)t.some(i=>cu(i,r))||t.push(r);return{arrayValue:{values:t}}}class op extends kA{constructor(e){super(),this.elements=e}}function e5(n,e){let t=n5(e);for(const r of n.elements)t=t.filter(i=>!cu(i,r));return{arrayValue:{values:t}}}class q0 extends kA{constructor(e,t){super(),this.serializer=e,this.gt=t}}function t5(n){return nr(n.integerValue||n.doubleValue)}function n5(n){return CE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gj{constructor(e,t){this.version=e,this.transformResults=t}}class Pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function FA(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class LA{}function r5(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $0(n.key,Pn.none()):new j0(n.key,n.data,Pn.none());{const t=n.data,r=Ci.empty();let i=new An(cr.comparator);for(let u of e.fields)if(!i.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),i=i.add(u)}return new Uc(n.key,r,new _s(i.toArray()),Pn.none())}}function zj(n,e,t){n instanceof j0?function(r,i,u){const l=r.value.clone(),f=o5(r.fieldTransforms,i,u.transformResults);l.setAll(f),i.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Uc?function(r,i,u){if(!FA(r.precondition,i))return void i.convertToUnknownDocument(u.version);const l=o5(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(s5(r)),f.setAll(l),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function NE(n,e,t,r){return n instanceof j0?function(i,u,l,f){if(!FA(i.precondition,u))return l;const g=i.value.clone(),v=a5(i.fieldTransforms,f,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof Uc?function(i,u,l,f){if(!FA(i.precondition,u))return l;const g=a5(i.fieldTransforms,f,u),v=u.data;return v.setAll(s5(i)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,FA(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function Wj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=JU(r.transform,i||null);null!=u&&(null===t&&(t=Ci.empty()),t.set(r.field,u))}return t||null}function i5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&k0(t,r,(i,u)=>function Hj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof sp&&r instanceof sp||t instanceof op&&r instanceof op?k0(t.elements,r.elements,cu):t instanceof q0&&r instanceof q0?cu(t.gt,r.gt):t instanceof Z0&&r instanceof Z0);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class j0 extends LA{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uc extends LA{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function s5(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function o5(n,e,t){const r=new Map;it(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],l=u.transform,f=e.data.field(u.field);r.set(u.field,$j(l,f,t[i]))}return r}function a5(n,e,t){const r=new Map;for(const i of n){const u=i.transform,l=t.data.field(i.field);r.set(i.field,jj(u,l,e))}return r}class $0 extends LA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CN extends LA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&zj(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=NE(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=NE(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=WU();return this.mutations.forEach(i=>{const u=e.get(i.key),l=u.overlayedDocument;let f=this.applyToLocalView(l,u.mutatedFields);f=t.has(i.key)?null:f;const g=r5(l,f);null!==g&&r.set(i.key,g),l.isValidDocument()||l.convertToNoDocument(ot.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pt())}isEqual(e){return this.batchId===e.batchId&&k0(this.mutations,e.mutations,(t,r)=>i5(t,r))&&k0(this.baseMutations,e.baseMutations,(t,r)=>i5(t,r))}}class bN{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){it(e.mutations.length===r.length);let i=Vj;const u=e.mutations;for(let l=0;l<u.length;l++)i=i.insert(u[l].key,r[l].version);return new bN(e,t,r,i)}}class AN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yj{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ir,Kt;function c5(n){if(void 0===n)return ur("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Ir.OK:return ne.OK;case Ir.CANCELLED:return ne.CANCELLED;case Ir.UNKNOWN:return ne.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return ne.INTERNAL;case Ir.UNAVAILABLE:return ne.UNAVAILABLE;case Ir.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ir.NOT_FOUND:return ne.NOT_FOUND;case Ir.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ir.ABORTED:return ne.ABORTED;case Ir.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ir.DATA_LOSS:return ne.DATA_LOSS;default:return Xe()}}(Kt=Ir||(Ir={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class DN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return UA}static getOrCreateInstance(){return null===UA&&(UA=new DN),UA}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let UA=null;const Qj=new P0([4294967295,4294967295],0);function d5(n){const e=function l5(){return new TextEncoder}().encode(n),t=new Gq;return t.update(e),new Uint8Array(t.digest())}function h5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new P0([t,r],0),new P0([i,u],0)]}class SN{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new RE(`Invalid padding: ${t}`);if(r<0)throw new RE(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new RE(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new RE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=P0.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(P0.fromNumber(r)));return 1===i.compare(Qj)&&(i=new P0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=d5(e),[r,i]=h5(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new SN(u,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=d5(e),[r,i]=h5(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class RE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class PE{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,OE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new PE(ot.min(),i,new wn(xt),ys(),Pt())}}class OE{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new OE(r,t,Pt(),Pt(),Pt())}}class BA{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class f5{constructor(e,t){this.targetId=e,this.Vt=t}}class p5{constructor(e,t,r=Ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class g5{constructor(){this.St=0,this.Dt=_5(),this.Ct=Ur.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Pt(),t=Pt(),r=Pt();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new OE(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=_5()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Jj{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ys(),this.zt=m5(),this.Wt=new wn(xt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(NA(l))if(0===i){const f=new $e(l.path);this.Yt(r,f,Dn.newNoDocument(f,ot.min()))}else it(1===i);else{const f=this.ie(r);if(f!==i){const g=this.re(e,f);0!==g&&(this.ee(r),this.Wt=this.Wt.insert(r,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=DN.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,T,A){var M,O,q,G,X,Ce;const Fe={localCacheCount:T,existenceFilterCount:A.count},ke=A.unchangedNames;return ke&&(Fe.bloomFilter={applied:0===v,hashCount:null!==(M=ke?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(G=null===(q=null===(O=ke?.bits)||void 0===O?void 0:O.bitmap)||void 0===q?void 0:q.length)&&void 0!==G?G:0,padding:null!==(Ce=null===(X=ke?.bits)||void 0===X?void 0:X.padding)&&void 0!==Ce?Ce:0}),Fe}(g,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:f=0}=r;let g,v;try{g=kc(u).toUint8Array()}catch(T){if(T instanceof wU)return da("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{v=new SN(g,l,f)}catch(T){return da(T instanceof RE?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===v.It?1:i!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(f)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const f=this.se(l);if(f){if(u.current&&NA(f.target)){const g=new $e(f.target.path);null!==this.jt.get(g)||this.ae(l,g)||this.Yt(l,g,Dn.newNoDocument(g,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Pt();this.zt.forEach((u,l)=>{let f=!0;l.forEachWhile(g=>{const v=this.se(g);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const i=new PE(e,t,this.Wt,this.jt,r);return this.jt=ys(),this.zt=m5(),this.Wt=new wn(xt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new g5,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new An(xt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||De("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new g5),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function m5(){return new wn($e.comparator)}function _5(){return new wn($e.comparator)}const Xj={asc:"ASCENDING",desc:"DESCENDING"},e$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t$={and:"AND",or:"OR"};class n${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xN(n,e){return n.useProto3Json||vE(e)?e:{value:e}}function H0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y5(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function r$(n,e){return H0(n,e.toTimestamp())}function lr(n){return it(!!n),ot.fromTimestamp(function(e){const t=Ld(e);return new zn(t.seconds,t.nanos)}(n))}function MN(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function v5(n){const e=Wt.fromString(n);return it(S5(e)),e}function kE(n,e){return MN(n.databaseId,e.path)}function du(n,e){const t=v5(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(I5(t))}function NN(n,e){return MN(n.databaseId,e)}function FE(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function I5(n){return it(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function w5(n,e,t){return{name:kE(n,e),fields:t.value.mapValue.fields}}function T5(n,e){return{documents:[NN(n,e.path)]}}function PN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=NN(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=NN(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0!==g.length)return D5(hn.create(g,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(g){if(0!==g.length)return g.map(v=>{return{field:qd((T=v).field),direction:u$(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=xN(n,e.limit);var f,g;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function b5(n){let e=function E5(n){const e=v5(n);return 4===e.length?Wt.emptyPath():I5(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){it(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const A=A5(T);return A instanceof hn&&gN(A)?A.getFilters():[A]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new U0(G0((A=T).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,vE(A)?null:A}(t.limit));let g=null;var T;t.startAt&&(g=new Zd((T=t.startAt).values||[],!!T.before));let v=null;return t.endAt&&(v=function(T){return new Zd(T.values||[],!T.before)}(t.endAt)),function ZU(n,e,t,r,i,u,l,f){return new Fc(n,e,t,r,i,u,l,f)}(e,i,l,u,f,"F",g,v)}function A5(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=G0(e.unaryFilter.field);return qt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=G0(e.unaryFilter.field);return qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=G0(e.unaryFilter.field);return qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=G0(e.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):void 0!==n.fieldFilter?qt.create(G0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return hn.create(e.compositeFilter.filters.map(t=>A5(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Xe()}}(e.compositeFilter.op))}(n):Xe();var e}function u$(n){return Xj[n]}function c$(n){return e$[n]}function l$(n){return t$[n]}function qd(n){return{fieldPath:n.canonicalString()}}function G0(n){return cr.fromServerFormat(n.fieldPath)}function D5(n){return n instanceof qt?function(e){if("=="===e.op){if(bU(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NAN"}};if(TU(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bU(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NAN"}};if(TU(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(e.field),op:c$(e.op),value:e.value}}}(n):n instanceof hn?function(e){const t=e.getFilters().map(r=>D5(r));return 1===t.length?t[0]:{compositeFilter:{op:l$(e.op),filters:t}}}(n):Xe()}function d$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function S5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Bc{constructor(e,t,r,i,u=ot.min(),l=ot.min(),f=Ur.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Bc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class x5{constructor(e){this.fe=e}}function ON(n){const e=b5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?OA(e,e.limit,"L"):e}class lp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(nr(e.integerValue));else if("doubleValue"in e){const r=nr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),EE(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(kc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?AU(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Xe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),$e.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}lp.Ve=new lp;class E${constructor(){this.rn=new VN}addToCollectionParentIndex(e,t){return this.rn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(Hs.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class VN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new An(Wt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new An(Wt.comparator)).toArray()}}new Uint8Array(0);class Ui{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ui(e,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ui.DEFAULT_COLLECTION_PERCENTILE=10,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ui.DEFAULT=new Ui(41943040,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ui.DISABLED=new Ui(-1,0,0);class hp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new hp(0)}static Mn(){return new hp(-1)}}class A${constructor(){this.changes=new Lc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class x${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class t6{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&NE(r.mutation,i,_s.empty(),zn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pt()){const i=lu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let l=SE();return u.forEach((f,g)=>{l=l.insert(f,g.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=lu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let u=ys();const l=xE(),f=xE();return t.forEach((g,v)=>{const T=r.get(v.key);i.has(v.key)&&(void 0===T||T.mutation instanceof Uc)?u=u.insert(v.key,v):void 0!==T?(l.set(v.key,T.mutation.getFieldMask()),NE(T.mutation,v,T.mutation.getFieldMask(),zn.now())):l.set(v.key,_s.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,T)=>l.set(v,T)),t.forEach((v,T)=>{var A;return f.set(v,new x$(T,null!==(A=l.get(v))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=xE();let i=new wn((l,f)=>l-f),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let T=r.get(g)||_s.empty();T=f.applyToLocalView(v,T),r.set(g,T);const A=(i.get(f.batchId)||Pt()).add(g);i=i.insert(f.batchId,A)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,T=g.value,A=WU();T.forEach(M=>{if(!u.has(M)){const O=r5(t.get(M),r.get(M));null!==O&&A.set(M,O),u=u.add(M)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,A))}return z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return $e.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const l=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):z.resolve(lu());let f=-1,g=u;return l.next(v=>z.forEach(v,(T,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),u.get(T)?z.resolve():this.remoteDocumentCache.getEntry(e,T).next(M=>{g=g.insert(T,M)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Pt())).next(T=>({batchId:f,changes:zU(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let i=SE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=SE();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,f=>{const g=(v=t,T=f.child(i),new Fc(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,T;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(v=>{v.forEach((T,A)=>{u=u.insert(T,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((f,g)=>{const v=g.getKey();null===u.get(v)&&(u=u.insert(v,Dn.newInvalidDocument(v)))});let l=SE();return u.forEach((f,g)=>{const v=i.get(f);void 0!==v&&NE(v.mutation,g,_s.empty(),zn.now()),DE(t,g)&&(l=l.insert(f,g))}),l})}}class M${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return z.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:lr(r.createTime)}),z.resolve()}getNamedQuery(e,t){return z.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:ON(r.bundledQuery),readTime:lr(r.readTime)}),z.resolve();var r}}class N${constructor(){this.overlays=new wn($e.comparator),this.ls=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=lu();return z.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const i=lu(),u=t.length+1,l=new $e(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>r&&i.set(g.getKey(),g)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new wn((v,T)=>v-T);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let T=u.get(v.largestBatchId);null===T&&(T=lu(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const f=lu(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,T)=>f.set(v,T)),!(f.size()>=i)););return z.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new AN(t,r));let u=this.ls.get(t);void 0===u&&(u=Pt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class ZN{constructor(){this.fs=new An(ni.ds),this.ws=new An(ni._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ni(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ni(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new $e(new Wt([])),r=new ni(t,e),i=new ni(t,e+1),u=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new $e(new Wt([])),r=new ni(t,e),i=new ni(t,e+1);let u=Pt();return this.ws.forEachInRange([r,i],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new ni(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ni{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return $e.comparator(e.key,t.key)||xt(e.As,t.As)}static _s(e,t){return xt(e.As,t.As)||$e.comparator(e.key,t.key)}}class R${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new An(ni.ds)}checkEmpty(e){return z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const l=new TN(u,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new ni(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return z.resolve(l)}lookupMutationBatch(e,t){return z.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ni(t,0),i=new ni(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);u.push(f)}),z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new An(xt);return t.forEach(i=>{const u=new ni(i,0),l=new ni(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],f=>{r=r.add(f.As)})}),z.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;$e.isDocumentKey(u)||(u=u.child(""));const l=new ni(new $e(u),0);let f=new An(xt);return this.Rs.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(g.As)),!0)},l),z.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){it(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return z.forEach(t.mutations,i=>{const u=new ni(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ni(t,0),i=this.Rs.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return z.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class P${constructor(e){this.Ds=e,this.docs=new wn($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=ys();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Dn.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=ys();const l=t.path,f=new $e(l.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||uN(cU(T),r)<=0||(i.has(T.key)||DE(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return z.resolve(u)}getAllFromCollectionGroup(e,t,r,i){Xe()}Cs(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new O$(this)}getSize(e){return z.resolve(this.size)}}class O$ extends A${constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class k${constructor(e){this.persistence=e,this.xs=new Lc(t=>rp(t),bE),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ZN,this.targetCount=0,this.Ms=hp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),z.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new hp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Fn(t),z.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),z.waitFor(u).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(l=>{u.push(i.markPotentiallyOrphaned(e,l))}),z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.ks.containsKey(t))}}class qN{constructor(e,t){this.$s={},this.overlays={},this.Os=new Gs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new k$(this),this.indexManager=new E$,this.remoteDocumentCache=new P$(r=>this.referenceDelegate.Ls(r)),this.serializer=new x5(t),this.qs=new M$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new N$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new R$(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){De("MemoryPersistence","Starting transaction:",e);const i=new F$(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return z.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class F$ extends rj{constructor(e){super(),this.currentSequenceNumber=e}}class WA{constructor(e){this.persistence=e,this.Qs=new ZN,this.js=null}static zs(e){return new WA(e)}get Ws(){if(this.js)return this.js;throw Xe()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),z.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Ws,r=>{const i=$e.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,ot.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return z.or([()=>z.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class GN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Pt(),i=Pt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new GN(e,t.fromCache,r,i)}}class r6{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(qU(t))return z.resolve(null);let r=Xi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=OA(t,null,"F"),r=Xi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Pt(...u);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(g=>{const v=this.ji(t,f);return this.zi(t,v,l,g.readTime)?this.Ki(e,OA(t,null,"F")):this.Wi(e,v,t,g)}))})))}Gi(e,t,r,i){return qU(t)||i.isEqual(ot.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,i)?this.Qi(e,t):(sN()<=Wr.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),IN(t)),this.Wi(e,l,t,function uU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(1e9===r?new zn(t+1,0):new zn(t,r));return new Hs(i,$e.empty(),e)}(i,-1)))})}ji(e,t){let r=new An(HU(e));return t.forEach((i,u)=>{DE(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return sN()<=Wr.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",IN(t)),this.Ui.getDocumentsMatchingQuery(e,t,Hs.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class U${constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new wn(xt),this.Yi=new Lc(u=>rp(u),bE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t6(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function s6(n,e){return zN.apply(this,arguments)}function zN(){return zN=(0,R.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],f=[];let g=Pt();for(const v of i){l.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of u){f.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return t.localDocuments.getDocuments(r,g).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),zN.apply(this,arguments)}function o6(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Z$(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y0(n,e,t){return WN.apply(this,arguments)}function WN(){return WN=(0,R.Z)(function*(n,e,t){const r=Ge(n),i=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!kd(l))throw l;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),WN.apply(this,arguments)}function QA(n,e,t){const r=Ge(n);let i=ot.min(),u=Pt();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,g,v){const T=Ge(f),A=T.Yi.get(v);return void 0!==A?z.resolve(T.Ji.get(A)):T.Bs.getTargetData(g,v)}(r,l,Xi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(g=>{u=g})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:ot.min(),t?u:Pt())).next(f=>(function l6(n,e,t){let r=n.Xi.get(e)||ot.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function $U(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:u})))}class XN{constructor(){this.activeTargetIds=function wN(){return qj}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f6{constructor(){this.Hr=new XN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new XN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $${Yr(e){}shutdown(){}}class p6{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let e3=null;function tR(){return null===e3?e3=268435456+Math.round(2147483648*Math.random()):e3++,"0x"+e3.toString(16)}const H$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G${constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Bi="WebChannelConnection";class z$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const l=tR(),f=this.To(e,t);De("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const g={};return this.Eo(g,i,u),this.Ao(e,f,g,r).then(v=>(De("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw da("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,i,u,l){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+O0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${H$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=tR();return new Promise((l,f)=>{const g=new Hq;g.setWithCredentials(!0),g.listenOnce(qq.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case iN.NO_ERROR:const T=g.getResponseJson();De(Bi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),l(T);break;case iN.TIMEOUT:De(Bi,`RPC '${e}' ${u} timed out`),f(new Ie(ne.DEADLINE_EXCEEDED,"Request time out"));break;case iN.HTTP_ERROR:const A=g.getStatus();if(De(Bi,`RPC '${e}' ${u} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const O=M?.error;if(O&&O.status&&O.message){const q=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN}(O.status);f(new Ie(q,O.message))}else f(new Ie(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new Ie(ne.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{De(Bi,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(i);De(Bi,`RPC '${e}' ${u} sending request:`,i),g.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=tR(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Vq(),f=Zq(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.xmlHttpFactory=new $q({})),this.Eo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const T=u.join("");De(Bi,`Creating RPC '${e}' stream ${i}: ${T}`,g);const A=l.createWebChannel(T,g);let M=!1,O=!1;const q=new G$({ro:X=>{O?De(Bi,`Not sending because RPC '${e}' stream ${i} is closed:`,X):(M||(De(Bi,`Opening RPC '${e}' stream ${i} transport.`),A.open(),M=!0),De(Bi,`RPC '${e}' stream ${i} sending:`,X),A.send(X))},oo:()=>A.close()}),G=(X,Ce,Fe)=>{X.listen(Ce,ke=>{try{Fe(ke)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return G(A,EA.EventType.OPEN,()=>{O||De(Bi,`RPC '${e}' stream ${i} transport opened.`)}),G(A,EA.EventType.CLOSE,()=>{O||(O=!0,De(Bi,`RPC '${e}' stream ${i} transport closed`),q.wo())}),G(A,EA.EventType.ERROR,X=>{O||(O=!0,da(Bi,`RPC '${e}' stream ${i} transport errored:`,X),q.wo(new Ie(ne.UNAVAILABLE,"The operation could not be completed")))}),G(A,EA.EventType.MESSAGE,X=>{var Ce;if(!O){const Fe=X.data[0];it(!!Fe);const Ye=Fe.error||(null===(Ce=Fe[0])||void 0===Ce?void 0:Ce.error);if(Ye){De(Bi,`RPC '${e}' stream ${i} received error:`,Ye);const _t=Ye.status;let pt=function(Ar){const Vi=Ir[Ar];if(void 0!==Vi)return c5(Vi)}(_t),Yt=Ye.message;void 0===pt&&(pt=ne.INTERNAL,Yt="Unknown error status: "+_t+" with message "+Ye.message),O=!0,q.wo(new Ie(pt,Yt)),A.close()}else De(Bi,`RPC '${e}' stream ${i} received:`,Fe),q._o(Fe)}}),G(f,jq.STAT_EVENT,X=>{X.stat===nU.PROXY?De(Bi,`RPC '${e}' stream ${i} detected buffering proxy`):X.stat===nU.NOPROXY&&De(Bi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{q.fo()},0),q}}function t3(){return typeof document<"u"?document:null}function GE(n){return new n$(n,!0)}class nR{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class m6{constructor(e,t,r,i,u,l,f,g){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new nR(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,R.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,R.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,R.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ie(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,R.Z)(function*(){e.state=0,e.start()}))}tu(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W$ extends m6{constructor(e,t,r,i,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function s$(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Xe(),i=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(it(void 0===v||"string"==typeof v),Ur.fromBase64String(v||"")):(it(void 0===v||v instanceof Uint8Array),Ur.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(g){const v=void 0===g.code?ne.UNKNOWN:c5(g.code);return new Ie(v,g.message||"")}(l);t=new p5(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=du(n,r.document.name),u=lr(r.document.updateTime),l=r.document.createTime?lr(r.document.createTime):ot.min(),f=new Ci({mapValue:{fields:r.document.fields}}),g=Dn.newFoundDocument(i,u,l,f);t=new BA(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=du(n,r.document),u=r.readTime?lr(r.readTime):ot.min(),l=Dn.newNoDocument(i,u);t=new BA([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=du(n,r.document);t=new BA([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:i=0,unchangedNames:u}=r,l=new Yj(i,u);t=new f5(r.targetId,l)}}var g;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return ot.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?ot.min():u.readTime?lr(u.readTime):ot.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=FE(this.serializer),t.addTarget=function(i,u){let l;const f=u.target;if(l=NA(f)?{documents:T5(i,f)}:{query:PN(i,f)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=y5(i,u.resumeToken);const g=xN(i,u.expectedCount);null!==g&&(l.expectedCount=g)}else if(u.snapshotVersion.compareTo(ot.min())>0){l.readTime=H0(i,u.snapshotVersion.toTimestamp());const g=xN(i,u.expectedCount);null!==g&&(l.expectedCount=g)}return l}(this.serializer,e);const r=function a$(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=FE(this.serializer),t.removeTarget=e,this.Wo(t)}}class K$ extends m6{constructor(e,t,r,i,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function o$(n,e){return n&&n.length>0?(it(void 0!==e),n.map(t=>function(r,i){let u=lr(r.updateTime?r.updateTime:i);return u.isEqual(ot.min())&&(u=lr(i)),new Gj(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.cu(r,t)}return it(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=FE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function LE(n,e){let t;if(e instanceof j0)t={update:w5(n,e.key,e.value)};else if(e instanceof $0)t={delete:kE(n,e.key)};else if(e instanceof Uc)t={update:w5(n,e.key,e.data),updateMask:d$(e.fieldMask)};else{if(!(e instanceof CN))return Xe();t={verify:kE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const l=u.transform;if(l instanceof Z0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof op)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof q0)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:r$(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Xe()),t;var i}(this.serializer,r))};this.Wo(t)}}class Y$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ie(ne.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(ne.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class J${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ur(t),this.mu=!1):De("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class X${constructor(e,t,r,i,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(f=>{r.enqueueAndForget((0,R.Z)(function*(){var g;Gd(l)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,R.Z)(function*(v){const T=Ge(v);T.vu.add(4),yield Q0(T),T.bu.set("Unknown"),T.vu.delete(4),yield zE(T)}),function(v){return g.apply(this,arguments)})(l))}))}),this.bu=new J$(r,i)}}function zE(n){return iR.apply(this,arguments)}function iR(){return iR=(0,R.Z)(function*(n){if(Gd(n))for(const e of n.Ru)yield e(!0)}),iR.apply(this,arguments)}function Q0(n){return sR.apply(this,arguments)}function sR(){return sR=(0,R.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),sR.apply(this,arguments)}function n3(n,e){const t=Ge(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),uR(t)?aR(t):X0(t).Ko()&&oR(t,e))}function WE(n,e){const t=Ge(n),r=X0(t);t.Au.delete(e),r.Ko()&&_6(t,e),0===t.Au.size&&(r.Ko()?r.jo():Gd(t)&&t.bu.set("Unknown"))}function oR(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}X0(n).su(e)}function _6(n,e){n.Vu.qt(e),X0(n).iu(e)}function aR(n){n.Vu=new Jj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),X0(n).start(),n.bu.gu()}function uR(n){return Gd(n)&&!X0(n).Uo()&&n.Au.size>0}function Gd(n){return 0===Ge(n).vu.size}function y6(n){n.Vu=void 0}function eH(n){return cR.apply(this,arguments)}function cR(){return cR=(0,R.Z)(function*(n){n.Au.forEach((e,t)=>{oR(n,e)})}),cR.apply(this,arguments)}function tH(n,e){return lR.apply(this,arguments)}function lR(){return lR=(0,R.Z)(function*(n,e){y6(n),uR(n)?(n.bu.Iu(e),aR(n)):n.bu.set("Unknown")}),lR.apply(this,arguments)}function nH(n,e,t){return dR.apply(this,arguments)}function dR(){return dR=(0,R.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof p5&&2===e.state&&e.cause)try{yield(r=(0,R.Z)(function*(i,u){const l=u.cause;for(const f of u.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield r3(n,r)}else if(e instanceof BA?n.Vu.Ht(e):e instanceof f5?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ot.min()))try{const r=yield o6(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const l=i.Vu.ce(u);return l.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(g);v&&i.Au.set(g,v.withResumeToken(f.resumeToken,u))}}),l.targetMismatches.forEach((f,g)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(Ur.EMPTY_BYTE_STRING,v.snapshotVersion)),_6(i,f);const T=new Bc(v.target,f,g,v.sequenceNumber);oR(i,T)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){De("RemoteStore","Failed to raise snapshot:",r),yield r3(n,r)}var r}),dR.apply(this,arguments)}function r3(n,e,t){return hR.apply(this,arguments)}function hR(){return hR=(0,R.Z)(function*(n,e,t){if(!kd(e))throw e;n.vu.add(1),yield Q0(n),n.bu.set("Offline"),t||(t=()=>o6(n.localStore)),n.asyncQueue.enqueueRetryable((0,R.Z)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield zE(n)}))}),hR.apply(this,arguments)}function v6(n,e){return e().catch(t=>r3(n,t,e))}function J0(n){return fR.apply(this,arguments)}function fR(){return fR=(0,R.Z)(function*(n){const e=Ge(n),t=zd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;rH(e);)try{const i=yield Z$(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,iH(e,i)}catch(i){yield r3(e,i)}E6(e)&&I6(e)}),fR.apply(this,arguments)}function rH(n){return Gd(n)&&n.Eu.length<10}function iH(n,e){n.Eu.push(e);const t=zd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function E6(n){return Gd(n)&&!zd(n).Uo()&&n.Eu.length>0}function I6(n){zd(n).start()}function sH(n){return pR.apply(this,arguments)}function pR(){return pR=(0,R.Z)(function*(n){zd(n).hu()}),pR.apply(this,arguments)}function oH(n){return gR.apply(this,arguments)}function gR(){return gR=(0,R.Z)(function*(n){const e=zd(n);for(const t of n.Eu)e.uu(t.mutations)}),gR.apply(this,arguments)}function aH(n,e,t){return mR.apply(this,arguments)}function mR(){return mR=(0,R.Z)(function*(n,e,t){const r=n.Eu.shift(),i=bN.from(r,e,t);yield v6(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield J0(n)}),mR.apply(this,arguments)}function uH(n,e){return _R.apply(this,arguments)}function _R(){return _R=(0,R.Z)(function*(n,e){var t;e&&zd(n).ou&&(yield(t=(0,R.Z)(function*(r,i){if(function u5(n){switch(n){default:return Xe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}(u=i.code)&&u!==ne.ABORTED){const l=r.Eu.shift();zd(r).Qo(),yield v6(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield J0(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),E6(n)&&I6(n)}),_R.apply(this,arguments)}function w6(n,e){return yR.apply(this,arguments)}function yR(){return yR=(0,R.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=Gd(t);t.vu.add(3),yield Q0(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield zE(t)}),yR.apply(this,arguments)}function ER(){return ER=(0,R.Z)(function*(n,e){const t=Ge(n);e?(t.vu.delete(2),yield zE(t)):e||(t.vu.add(2),yield Q0(t),t.bu.set("Unknown"))}),ER.apply(this,arguments)}function X0(n){return n.Su||(n.Su=function(e,t,r){const i=Ge(e);return i.fu(),new W$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:eH.bind(null,n),ao:tH.bind(null,n),nu:nH.bind(null,n)}),n.Ru.push(function(){var e=(0,R.Z)(function*(t){t?(n.Su.Qo(),uR(n)?aR(n):n.bu.set("Unknown")):(yield n.Su.stop(),y6(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function zd(n){return n.Du||(n.Du=function(e,t,r){const i=Ge(e);return i.fu(),new K$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:sH.bind(null,n),ao:uH.bind(null,n),au:oH.bind(null,n),cu:aH.bind(null,n)}),n.Ru.push(function(){var e=(0,R.Z)(function*(t){t?(n.Du.Qo(),yield J0(n)):(yield n.Du.stop(),n.Eu.length>0&&(De("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class IR{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,u){const l=Date.now()+r,f=new IR(e,t,l,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e_(n,e){if(ur("AsyncQueue",`${e}: ${n}`),kd(n))return new Ie(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class t_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=SE(),this.sortedSet=new wn(this.comparator)}static emptySet(e){return new t_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof t_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new t_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class C6{constructor(){this.Cu=new wn($e.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Xe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class n_{constructor(e,t,r,i,u,l,f,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,u){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new n_(e,t,t_.emptySet(t),l,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&AE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class cH{constructor(){this.Nu=void 0,this.listeners=[]}}class lH{constructor(){this.queries=new Lc(e=>jU(e),AE),this.onlineState="Unknown",this.ku=new Set}}function wR(n,e){return CR.apply(this,arguments)}function CR(){return CR=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new cH),i)try{u.Nu=yield t.onListen(r)}catch(l){const f=e_(l,`Initialization of query '${IN(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&AR(t)}),CR.apply(this,arguments)}function TR(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),bR.apply(this,arguments)}function dH(n,e){const t=Ge(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&AR(t)}function hH(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function AR(n){n.ku.forEach(e=>{e.next()})}class DR{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new n_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=n_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class A6{constructor(e){this.key=e}}class D6{constructor(e){this.key=e}}class S6{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Pt(),this.mutatedKeys=Pt(),this.tc=HU(e),this.ec=new t_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new C6,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const M=i.get(T),O=DE(this.query,A)?A:null,q=!!M&&this.mutatedKeys.has(M.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let X=!1;M&&O?M.data.isEqual(O.data)?q!==G&&(r.track({type:3,doc:O}),X=!0):this.rc(M,O)||(r.track({type:2,doc:O}),X=!0,(g&&this.tc(O,g)>0||v&&this.tc(O,v)<0)&&(f=!0)):!M&&O?(r.track({type:0,doc:O}),X=!0):M&&!O&&(r.track({type:1,doc:M}),X=!0,(g||v)&&(f=!0)),X&&(O?(l=l.add(O),u=G?u.add(T):u.delete(T)):(l=l.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:f,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((v,T)=>function(A,M){const O=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return O(A)-O(M)}(v.type,T.type)||this.tc(v.doc,T.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,g=f!==this.Xu;return this.Xu=f,0!==u.length||g?{snapshot:new n_(this.query,e.ec,i,u,e.mutatedKeys,0===f,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new C6,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Pt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new D6(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new A6(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Pt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return n_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class gH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mH{constructor(e){this.key=e,this.fc=!1}}class _H{constructor(e,t,r,i,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Lc(f=>jU(f),AE),this._c=new Map,this.mc=new Set,this.gc=new wn($e.comparator),this.yc=new Map,this.Ic=new ZN,this.Tc={},this.Ec=new Map,this.Ac=hp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function yH(n,e){return SR.apply(this,arguments)}function SR(){return SR=(0,R.Z)(function*(n,e){const t=function QR(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=x6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IH.bind(null,e),e.dc.nu=dH.bind(null,e.eventManager),e.dc.Pc=hH.bind(null,e.eventManager),e}(n);let r,i;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.lc();else{const l=yield function K0(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,z.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Bc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Xi(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield function xR(n,e,t,r,i){return MR.apply(this,arguments)}(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&n3(t.remoteStore,l)}return i}),SR.apply(this,arguments)}function MR(){return MR=(0,R.Z)(function*(n,e,t,r,i){n.Rc=(A,M,O)=>{return(q=(0,R.Z)(function*(G,X,Ce,Fe){let ke=X.view.sc(Ce);ke.zi&&(ke=yield QA(G.localStore,X.query,!1).then(({documents:pt})=>X.view.sc(pt,ke)));const Ye=Fe&&Fe.targetChanges.get(X.targetId),_t=X.view.applyChanges(ke,G.isPrimaryClient,Ye);return VR(G,X.targetId,_t.cc),_t.snapshot}),function(G,X,Ce,Fe){return q.apply(this,arguments)})(n,A,M,O);var q};const u=yield QA(n.localStore,e,!0),l=new S6(e,u.ir),f=l.sc(u.documents),g=OE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=l.applyChanges(f,n.isPrimaryClient,g);VR(n,t,v.cc);const T=new gH(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),MR.apply(this,arguments)}function vH(n,e){return NR.apply(this,arguments)}function NR(){return NR=(0,R.Z)(function*(n,e){const t=Ge(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!AE(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Y0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),WE(t.remoteStore,r.targetId),r_(t,r.targetId)}).catch(Od))):(r_(t,r.targetId),yield Y0(t.localStore,r.targetId,!0))}),NR.apply(this,arguments)}function RR(){return RR=(0,R.Z)(function*(n,e,t){const r=function JR(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CH.bind(null,e),e}(n);try{const i=yield function(u,l){const f=Ge(u),g=zn.now(),v=l.reduce((M,O)=>M.add(O.key),Pt());let T,A;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=ys(),q=Pt();return f.Zi.getEntries(M,v).next(G=>{O=G,O.forEach((X,Ce)=>{Ce.isValidDocument()||(q=q.add(X))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,O)).next(G=>{T=G;const X=[];for(const Ce of l){const Fe=Wj(Ce,T.get(Ce.key).overlayedDocument);null!=Fe&&X.push(new Uc(Ce.key,Fe,xU(Fe.value.mapValue),Pn.exists(!0)))}return f.mutationQueue.addMutationBatch(M,g,X,l)}).next(G=>{A=G;const X=G.applyToLocalDocumentSet(T,q);return f.documentOverlayCache.saveOverlays(M,G.batchId,X)})}).then(()=>({batchId:A.batchId,changes:zU(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,f){let g=u.Tc[u.currentUser.toKey()];g||(g=new wn(xt)),g=g.insert(l,f),u.Tc[u.currentUser.toKey()]=g}(r,i.batchId,t),yield Vc(r,i.changes),yield J0(r.remoteStore)}catch(i){const u=e_(i,"Failed to persist write");t.reject(u)}}),RR.apply(this,arguments)}function x6(n,e){return PR.apply(this,arguments)}function PR(){return PR=(0,R.Z)(function*(n,e){const t=Ge(n);try{const r=yield function V$(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((T,A)=>{const M=i.get(A);if(!M)return;f.push(t.Bs.removeMatchingKeys(u,T.removedDocuments,A).next(()=>t.Bs.addMatchingKeys(u,T.addedDocuments,A)));let O=M.withSequenceNumber(u.currentSequenceNumber);var q,G,X;null!==e.targetMismatches.get(A)?O=O.withResumeToken(Ur.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,r)),i=i.insert(A,O),G=O,X=T,(0===(q=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(u,O))});let g=ys(),v=Pt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),f.push(function a6(n,e,t){let r=Pt(),i=Pt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=ys();return t.forEach((f,g)=>{const v=u.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),g.isNoDocument()&&g.version.isEqual(ot.min())?(e.removeEntry(f,g.readTime),l=l.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),l=l.insert(f,g)):De("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{nr:l,sr:i}})}(u,l,e.documentUpdates).next(T=>{g=T.nr,v=T.sr})),!r.isEqual(ot.min())){const T=t.Bs.getLastRemoteSnapshotVersion(u).next(A=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(T)}return z.waitFor(f).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(t.Ji=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const l=t.yc.get(u);l&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?it(l.fc):i.removedDocuments.size>0&&(it(l.fc),l.fc=!1))}),yield Vc(t,r,e)}catch(r){yield Od(r)}}),PR.apply(this,arguments)}function M6(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(u,l){const f=Ge(u);f.onlineState=l;let g=!1;f.queries.forEach((v,T)=>{for(const A of T.listeners)A.Mu(l)&&(g=!0)}),g&&AR(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function IH(n,e,t){return OR.apply(this,arguments)}function OR(){return OR=(0,R.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),u=i&&i.key;if(u){let l=new wn($e.comparator);l=l.insert(u,Dn.newNoDocument(u,ot.min()));const f=Pt().add(u),g=new PE(ot.min(),new Map,new wn(xt),l,f);yield x6(r,g),r.gc=r.gc.remove(u),r.yc.delete(e),ZR(r)}else yield Y0(r.localStore,e,!1).then(()=>r_(r,e,t)).catch(Od)}),OR.apply(this,arguments)}function wH(n,e){return kR.apply(this,arguments)}function kR(){return kR=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield function B$(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,g,v){const T=g.batch,A=T.keys();let M=z.resolve();return A.forEach(O=>{M=M.next(()=>v.getEntry(f,O)).next(q=>{const G=g.docVersions.get(O);it(null!==G),q.version.compareTo(G)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))})}),M.next(()=>l.mutationQueue.removeMutationBatch(f,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=Pt();for(let g=0;g<l.mutationResults.length;++g)l.mutationResults[g].transformResults.length>0&&(f=f.add(l.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);BR(t,r,null),UR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(t,i)}catch(i){yield Od(i)}}),kR.apply(this,arguments)}function CH(n,e,t){return FR.apply(this,arguments)}function FR(){return FR=(0,R.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(u,l){const f=Ge(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,l).next(T=>(it(null!==T),v=T.keys(),f.mutationQueue.removeMutationBatch(g,T))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(r.localStore,e);BR(r,e,t),UR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(r,i)}catch(i){yield Od(i)}}),FR.apply(this,arguments)}function UR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function BR(n,e,t){const r=Ge(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function r_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||N6(n,r)})}function N6(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(WE(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ZR(n))}function VR(n,e,t){for(const r of t)r instanceof A6?(n.Ic.addReference(r.key,e),bH(n,r)):r instanceof D6?(De("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||N6(n,r.key)):Xe()}function bH(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(De("SyncEngine","New document in limbo: "+t),n.mc.add(r),ZR(n))}function ZR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new $e(Wt.fromString(e)),r=n.Ac.next();n.yc.set(r,new mH(t)),n.gc=n.gc.insert(t,r),n3(n.remoteStore,new Bc(Xi(V0(t.path)),r,"TargetPurposeLimboResolution",Gs.ct))}}function Vc(n,e,t){return qR.apply(this,arguments)}function qR(){return qR=(0,R.Z)(function*(n,e,t){const r=Ge(n),i=[],u=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,g)=>{l.push(r.Rc(g,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const T=GN.Li(g.targetId,v);u.push(T)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,R.Z)(function*(g,v){const T=Ge(g);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>z.forEach(v,M=>z.forEach(M.Fi,O=>T.persistence.referenceDelegate.addReference(A,M.targetId,O)).next(()=>z.forEach(M.Bi,O=>T.persistence.referenceDelegate.removeReference(A,M.targetId,O)))))}catch(A){if(!kd(A))throw A;De("LocalStore","Failed to update sequence numbers: "+A)}for(const A of v){const M=A.targetId;if(!A.fromCache){const O=T.Ji.get(M),G=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);T.Ji=T.Ji.insert(M,G)}}}),function(g,v){return f.apply(this,arguments)})(r.localStore,u))}),qR.apply(this,arguments)}function AH(n,e){return jR.apply(this,arguments)}function jR(){return jR=(0,R.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const r=yield s6(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Ie(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(t,r.er)}var i}),jR.apply(this,arguments)}function DH(n,e){const t=Ge(n),r=t.yc.get(e);if(r&&r.fc)return Pt().add(r.key);{let i=Pt();const u=t._c.get(e);if(!u)return i;for(const l of u){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}class i3{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,R.Z)(function*(){t.serializer=GE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function i6(n,e,t,r){return new U$(n,e,t,r)}(this.persistence,new r6,e.initialUser,this.serializer)}createPersistence(e){return new qN(WA.zs,this.serializer)}createSharedClientState(e){return new f6}terminate(){var e=this;return(0,R.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class i_{initialize(e,t){var r=this;return(0,R.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>M6(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=AH.bind(null,r.syncEngine),yield function vR(n,e){return ER.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lH}createDatastore(e){const t=GE(e.databaseInfo.databaseId),r=new z$(e.databaseInfo);return new Y$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>M6(this.syncEngine,f,0),l=p6.D()?new p6:new $$,new X$(t,r,i,u,l);var t,r,i,u,l}createSyncEngine(e,t){return function(r,i,u,l,f,g,v){const T=new _H(r,i,u,l,f,g);return v&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,R.Z)(function*(t){const r=Ge(t);De("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Q0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class s3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class VH{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ei.UNAUTHENTICATED,this.clientId=oU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,R.Z)(function*(f){De("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(De("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,R.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,R.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=e_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function o3(n,e){return XR.apply(this,arguments)}function XR(){return XR=(0,R.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,R.Z)(function*(u){r.isEqual(u)||(yield s6(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),XR.apply(this,arguments)}function eP(n,e){return tP.apply(this,arguments)}function tP(){return tP=(0,R.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function nP(n){return rP.apply(this,arguments)}(n);De("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>w6(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>w6(e.remoteStore,u)),n._onlineComponents=e}),tP.apply(this,arguments)}function rP(){return rP=(0,R.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{yield o3(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function L6(n){return"FirebaseError"===n.name?n.code===ne.FAILED_PRECONDITION||n.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;da("Error using user provided cache. Falling back to memory cache: "+t),yield o3(n,new i3)}}else De("FirestoreClient","Using default OfflineComponentProvider"),yield o3(n,new i3);return n._offlineComponents}),rP.apply(this,arguments)}function a3(n){return iP.apply(this,arguments)}function iP(){return iP=(0,R.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),yield eP(n,n._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),yield eP(n,new i_))),n._onlineComponents}),iP.apply(this,arguments)}function s_(n){return oP.apply(this,arguments)}function oP(){return oP=(0,R.Z)(function*(n){const e=yield a3(n),t=e.eventManager;return t.onListen=yH.bind(null,e.syncEngine),t.onUnlisten=vH.bind(null,e.syncEngine),t}),oP.apply(this,arguments)}function j6(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const $6=new Map;function aP(n,e,t){if(!t)throw new Ie(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function H6(n){if(!$e.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function G6(n){if($e.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function c3(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function Ht(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=c3(n);throw new Ie(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class W6{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ie(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ie(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function KH(n,e,t,r){if(!0===e&&!0===r)throw new Ie(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=j6(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class KE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ie(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W6(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zq;switch(t.type){case"firstParty":return new Qq(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ie(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$6.get(e);t&&(De("ComponentProvider","Removing Datastore"),$6.delete(e),t.terminate())}(this),Promise.resolve()}}class dr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class Ti{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ti(this.firestore,e,this._query)}}class hu extends Ti{constructor(e,t,r){super(e,t,V0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new $e(e))}withConverter(e){return new hu(this.firestore,e,this._path)}}function QH(n,e,...t){if(n=(0,_e.m9)(n),aP("collection","path",e),n instanceof KE){const r=Wt.fromString(e,...t);return G6(r),new hu(n,null,r)}{if(!(n instanceof dr||n instanceof hu))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return G6(r),new hu(n.firestore,null,r)}}function K6(n,e,...t){if(n=(0,_e.m9)(n),1===arguments.length&&(e=oU.A()),aP("doc","path",e),n instanceof KE){const r=Wt.fromString(e,...t);return H6(r),new dr(n,null,new $e(r))}{if(!(n instanceof dr||n instanceof hu))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return H6(r),new dr(n.firestore,n instanceof hu?n.converter:null,new $e(r))}}class JH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new nR(this,"async_queue_retry"),this.Xc=()=>{const t=t3();t&&De("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=t3();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=t3();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Lr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,R.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!kd(t))throw t;De("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=IR.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}sa(){var e=this;return(0,R.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Sn extends KE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new JH,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Q6(this),this._firestoreClient.terminate()}}function e8(n,e){const t="object"==typeof n?n:(0,yi.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,yi._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,_e.P0)("firestore");u&&function YH(n,e,t,r={}){var i;const u=(n=Ht(n,KE))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let f,g;if("string"==typeof r.mockUserToken)f=r.mockUserToken,g=ei.MOCK_USER;else{f=(0,_e.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ie(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ei(v)}n._authCredentials=new Wq(new iU(f,g))}}(i,...u)}return i}function wr(n){return n._firestoreClient||Q6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Q6(n){var e,t,r;const i=n._freezeSettings(),u=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Dj(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,j6(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new VH(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class pp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pp(Ur.fromBase64String(e))}catch(t){throw new Ie(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pp(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class o_{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ie(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cP{constructor(e){this._methodName=e}}class lP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const n8=/^__.*__$/;class r8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms):new j0(e,this.data,t,this.fieldTransforms)}}class eB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class l3{constructor(e,t,r,i,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new l3(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return h3(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(tB(this.ca)&&n8.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class i8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||GE(e)}ya(e,t,r,i=!1){return new l3({ca:e,methodName:t,ga:r,path:cr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a_(n){const e=n._freezeSettings(),t=GE(n._databaseId);return new i8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dP(n,e,t,r,i,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,i);fP("Data must be an object, but it was:",l,r);const f=oB(r,l);let g,v;if(u.merge)g=new _s(l.fieldMask),v=l.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const M=JE(e,A,t);if(!l.contains(M))throw new Ie(ne.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);uB(T,M)||T.push(M)}g=new _s(T),v=l.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,v=l.fieldTransforms;return new r8(new Ci(f),g,v)}class QE extends cP{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof QE}}function gp(n,e){if(aB(n=(0,_e.m9)(n)))return fP("Unsupported field value:",e,n),oB(n,e);if(n instanceof cP)return function(t,r){if(!tB(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const l of t){let f=gp(l,r.wa(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return QU(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=zn.fromDate(t);return{timestampValue:H0(r.serializer,i)}}if(t instanceof zn){const i=new zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:H0(r.serializer,i)}}if(t instanceof lP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pp)return{bytesValue:y5(r.serializer,t._byteString)};if(t instanceof dr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:MN(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${c3(t)}`)}(n,e)}function oB(n,e){const t={};return EU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fd(n,(r,i)=>{const u=gp(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function aB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zn||n instanceof lP||n instanceof pp||n instanceof dr||n instanceof cP)}function fP(n,e,t){if(!aB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=c3(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function JE(n,e,t){if((e=(0,_e.m9)(e))instanceof o_)return e._internalPath;if("string"==typeof e)return d3(n,e);throw h3("Field path arguments must be of type string or ",n,!1,void 0,t)}const u8=new RegExp("[~\\*/\\[\\]]");function d3(n,e,t){if(e.search(u8)>=0)throw h3(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new o_(...e.split("."))._internalPath}catch{throw h3(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function h3(n,e,t,r,i){const u=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||l)&&(g+=" (found",u&&(g+=` in field ${r}`),l&&(g+=` in document ${i}`),g+=")"),new Ie(ne.INVALID_ARGUMENT,f+n+g)}function uB(n,e){return n.some(t=>t.isEqual(e))}class pP{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new c8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(f3("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class c8 extends pP{data(){return super.data()}}function f3(n,e){return"string"==typeof e?d3(n,e):e instanceof o_?e._internalPath:e._delegate._internalPath}class gP{}class l8 extends gP{}function d8(n,e,...t){let r=[];e instanceof gP&&r.push(e),r=r.concat(t),function(i){const u=i.filter(f=>f instanceof u_).length,l=i.filter(f=>f instanceof XE).length;if(u>1||u>0&&l>0)throw new Ie(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class XE extends l8{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new XE(e,t,r)}_apply(e){const t=this._parse(e);return fB(e._query,t),new Ti(e.firestore,e.converter,EN(e._query,t))}_parse(e){const t=a_(e.firestore);return function(i,u,l,f,g,v,T){let A;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ie(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){hB(T,v);const M=[];for(const O of T)M.push(dB(f,i,O));A={arrayValue:{values:M}}}else A=dB(f,i,T)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||hB(T,v),A=function sB(n,e,t,r=!1){return gp(t,n.ya(r?4:3,e))}(l,"where",T,"in"===v||"not-in"===v);return qt.create(g,v,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function h8(n,e,t){const r=e,i=f3("where",n);return XE._create(i,r,t)}class u_ extends gP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new u_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const l=i.getFlattenedFilters();for(const f of l)fB(u,f),u=EN(u,f)}(e._query,t),new Ti(e.firestore,e.converter,EN(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function dB(n,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new Ie(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vN(e)&&-1!==t.indexOf("/"))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!$e.isDocumentKey(r))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return np(n,new $e(r))}if(t instanceof dr)return np(n,t._key);throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c3(t)}.`)}function hB(n,e){if(!Array.isArray(n)||0===n.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fB(n,e){if(e.isInequality()){const r=PA(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=yN(n);null!==u&&function pB(n,e,t){if(!t.isEqual(e))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,u)}const t=function(r,i){for(const u of r)for(const l of u.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ie(ne.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class f8{convertValue(e,t="none"){switch(Bd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Fd(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new lP(nr(e.latitude),nr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=DA(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(IE(e));default:return null}}convertTimestamp(e){const t=Ld(e);return new zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);it(S5(r));const i=new tp(r.get(1),r.get(3)),u=new $e(r.popFirst(5));return i.isEqual(t)||ur(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function _P(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class mp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class c_ extends pP{constructor(e,t,r,i,u,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(f3("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _3 extends c_{data(e={}){return super.data(e)}}class l_{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new mp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _3(this._firestore,this._userDataWriter,r.key,r,new mp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new _3(r._firestore,r._userDataWriter,l.doc.key,l.doc,new mp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new _3(r._firestore,r._userDataWriter,l.doc.key,l.doc,new mp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,v=-1;return 0!==l.type&&(g=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),v=u.indexOf(l.doc.key)),{type:g8(l.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function g8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function m8(n){n=Ht(n,dr);const e=Ht(n.firestore,Sn);return function Z6(n,e,t={}){const r=new Lr;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function(i,u,l,f,g){const v=new s3({next:A=>{u.enqueueAndForget(()=>TR(i,T));const M=A.docs.has(l);!M&&A.fromCache?g.reject(new Ie(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&f&&"server"===f.source?g.reject(new Ie(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new DR(V0(l.path),v,{includeMetadataChanges:!0,Ku:!0});return wR(i,T)}(yield s_(n),n.asyncQueue,e,t,r)})),r.promise}(wr(e),n._key).then(t=>function yP(n,e,t){const r=t.docs.get(e._key),i=new Wd(n);return new c_(n,i,e._key,r,new mp(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Wd extends f8{constructor(e){super(),this.firestore=e}convertBytes(e){return new pp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}function _8(n){n=Ht(n,Ti);const e=Ht(n.firestore,Sn),t=wr(e),r=new Wd(e);return function cB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function q6(n,e,t={}){const r=new Lr;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function(i,u,l,f,g){const v=new s3({next:A=>{u.enqueueAndForget(()=>TR(i,T)),A.fromCache&&"server"===f.source?g.reject(new Ie(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new DR(l,v,{includeMetadataChanges:!0,Ku:!0});return wR(i,T)}(yield s_(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new l_(e,r,n,i))}function y8(n,e,t){n=Ht(n,dr);const r=Ht(n.firestore,Sn),i=_P(n.converter,e,t);return eI(r,[dP(a_(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Pn.none())])}function v8(n,e,t,...r){n=Ht(n,dr);const i=Ht(n.firestore,Sn),u=a_(i);let l;return l="string"==typeof(e=(0,_e.m9)(e))||e instanceof o_?function iB(n,e,t,r,i,u){const l=n.ya(1,e,t),f=[JE(e,r,t)],g=[i];if(u.length%2!=0)throw new Ie(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<u.length;M+=2)f.push(JE(e,u[M])),g.push(u[M+1]);const v=[],T=Ci.empty();for(let M=f.length-1;M>=0;--M)if(!uB(v,f[M])){const O=f[M];let q=g[M];q=(0,_e.m9)(q);const G=l.da(O);if(q instanceof QE)v.push(O);else{const X=gp(q,G);null!=X&&(v.push(O),T.set(O,X))}}const A=new _s(v);return new eB(T,A,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function rB(n,e,t,r){const i=n.ya(1,e,t);fP("Data must be an object, but it was:",i,r);const u=[],l=Ci.empty();Fd(r,(g,v)=>{const T=d3(e,g,t);v=(0,_e.m9)(v);const A=i.da(T);if(v instanceof QE)u.push(T);else{const M=gp(v,A);null!=M&&(u.push(T),l.set(T,M))}});const f=new _s(u);return new eB(l,f,i.fieldTransforms)}(u,"updateDoc",n._key,e),eI(i,[l.toMutation(n._key,Pn.exists(!0))])}function E8(n){return eI(Ht(n.firestore,Sn),[new $0(n._key,Pn.none())])}function I8(n,e){const t=Ht(n.firestore,Sn),r=K6(n),i=_P(n.converter,e);return eI(t,[dP(a_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function eI(n,e){return function(t,r){const i=new Lr;return t.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function EH(n,e,t){return RR.apply(this,arguments)}(yield function sP(n){return a3(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(wr(n),e)}!function(n,e=!0){O0=yi.SDK_VERSION,(0,yi._registerComponent)(new gn.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),l=new Sn(new Kq(t.getProvider("auth-internal")),new Jq(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tp(f.options.projectId,g)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,yi.registerVersion)(rU,"3.13.0",n),(0,yi.registerVersion)(rU,"3.13.0","esm2017")}();class Cr{constructor(e){return e}}const _B="firestore",vP=new s.OlP("angularfire2.firestore-instances");function k8(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Cr(r)}}const F8={provide:class P8{constructor(){return bd(_B)}},deps:[[new s.FiY,vP]]},L8={provide:Cr,useFactory:function O8(n,e){const t=function Xm(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(l=>l.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(_B,n,e);return t&&new Cr(t)},deps:[[new s.FiY,vP],Sc]};let U8=(()=>{class n{constructor(){(0,yi.registerVersion)("angularfire",Ym.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[L8,F8]}),n})();function B8(n,...e){return{ngModule:U8,providers:[{provide:vP,useFactory:k8(n),multi:!0,deps:[s.R0b,s.zs3,e0,t0,[new s.FiY,xc],[new s.FiY,q4],...e]}]}}const v3=Fi(I8,!0),fu=Fi(QH,!0),V8=Fi(E8,!0),es=Fi(K6,!0),Zc=Fi(m8,!0),d_=Fi(_8,!0),Z8=Fi(e8,!0),yB=Fi(d8,!0),q8=Fi(y8,!0),E3=Fi(v8,!0),vB=Fi(h8,!0);vi("firebase","10.5.2","app");const I3_firebaseConfig={apiKey:"AIzaSyBqXpKb2qj9VKAYX_DOaOyGV6e-lsUhxG8",authDomain:"chefs-talks.firebaseapp.com",projectId:"chefs-talks",storageBucket:"chefs-talks.appspot.com",messagingSenderId:"821574305127",appId:"1:821574305127:web:1ec43d2f164a6f2c151bc2",measurementId:"G-96713DEB05"},I3_cloudinaryConfig_cloudName="dsla98vyk",I3_cloudinaryConfig_uploadPreset="chefs_talks";yC(I3_firebaseConfig);let tI=(()=>{class n{constructor(){this.cloudName=I3_cloudinaryConfig_cloudName,this.uploadPreset=I3_cloudinaryConfig_uploadPreset,this.imageUploaded=new s.vpe}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(t,r)=>{!t&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(t){this.imageUploaded.emit(t)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:3,vars:0,consts:[["id","upload_widget",1,"cloudinary-button","button",3,"click"]],template:function(r,i){1&r&&(s.TgZ(0,"div")(1,"button",0),s.NdJ("click",function(){return i.openWidget()}),s._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()())},styles:[".cloudinary-button[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);text-decoration:none;font-size:16px;line-height:28px;cursor:pointer;font-weight:400;display:block;border-radius:4px;padding:10px 14px}.cloudinary-button[_ngcontent-%COMP%]:hover{background-color:var(--secondColor)}"]})}return n})();function H8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"p",11),s._uU(2,"\u0412\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s._UZ(3,"input",20),s.TgZ(4,"button",21),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.removeImage())}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()()}}function G8(n,e){1&n&&(s.TgZ(0,"div",23),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),s.qZA())}function z8(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,G8,2,0,"div",22),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.categoryForm.get("name"))||null==r.errors?null:r.errors.required)}}function W8(n,e){1&n&&(s.TgZ(0,"div",23),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u044e! "),s.qZA())}function K8(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,W8,2,0,"div",22),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.categoryForm.get("menu"))||null==r.errors?null:r.errors.required)}}let Y8=(()=>{class n{constructor(t,r){this.fb=t,this.firestore=r,this.categoryForm=this.fb.group({name:["",[Ke.required]],is_active:[!1],menu:["",[Ke.required]],order_index:[0],note:[""],image:[""]})}onSubmit(){this.categoryForm.valid?(this.addCategory(this.categoryForm.value),this.categoryForm.reset()):console.log(this.categoryForm.errors)}removeImage(){this.categoryForm.get("image")?.setValue("")}addImageToForm(t){this.categoryForm.get("image")?.setValue(t)}get image(){return this.categoryForm.get("image")}addCategory(t){v3(fu(this.firestore,"Category"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Yo),s.Y36(Cr))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-category-form"]],decls:41,vars:4,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup","ngSubmit"],[3,"imageUploaded"],[4,"ngIf"],[1,"checkbox-wrapper"],["type","checkbox","formControlName","is_active",1,"sc-gJwTLC","ikxBAC"],[1,"checkbox-label","hint"],["type","text","formControlName","name","required",""],["for","menu"],[1,"hint"],["id","menu","formControlName","menu"],["value","\u041e\u0441\u043d\u043e\u0432\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0437\u043e\u043d\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0422\u0435\u0441\u0442\u043e\u0432\u043e \u041c\u0435\u043d\u044e"],["formControlName","note"],["type","number","formControlName","order_index"],["type","submit"],["type","text","id","image","formControlName","image"],["type","button",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),s.qZA(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(5,"app-image-upload",4),s.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),s.qZA(),s.YNc(6,H8,6,0,"div",5),s.TgZ(7,"div",6),s._UZ(8,"input",7),s.TgZ(9,"label",8),s._uU(10,"\u0429\u0435 \u0431\u044a\u0434\u0435 \u043b\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430 \u0432\u0438\u0434\u0438\u043c\u0430 \u0432\u044a\u0432 \u0441\u0430\u0439\u0442\u0430?"),s.qZA()(),s.TgZ(11,"label"),s._uU(12," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s._UZ(13,"input",9),s.qZA(),s.YNc(14,z8,2,1,"div",5),s.TgZ(15,"label",10),s._uU(16,"\u041c\u0435\u043d\u044e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(17,"p",11),s._uU(18,"\u041a\u044a\u043c \u043a\u043e\u0435 \u043c\u0435\u043d\u044e \u0441\u043f\u0430\u0434\u0430 \u0442\u0430\u0437\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f?"),s.qZA(),s.TgZ(19,"select",12)(20,"option",13),s._uU(21,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e"),s.qZA(),s.TgZ(22,"option",14),s._uU(23,"\u0421\u0435\u0437\u043e\u043d\u043d\u043e"),s.qZA(),s.TgZ(24,"option",15),s._uU(25,"\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u043e"),s.qZA(),s.TgZ(26,"option",16),s._uU(27,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e"),s.qZA()(),s.YNc(28,K8,2,1,"div",5),s.TgZ(29,"label"),s._uU(30," \u0411\u0435\u043b\u0435\u0436\u043a\u0430: "),s.TgZ(31,"span",11),s._uU(32,"\u041d\u044f\u043a\u043e\u043b\u043a\u043e \u0434\u0443\u043c\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),s.qZA(),s._UZ(33,"textarea",17),s.qZA(),s.TgZ(34,"label"),s._uU(35," \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),s.TgZ(36,"span",11),s._uU(37,"\u0420\u0435\u0434 \u043d\u0430 \u043f\u043e\u0434\u0440\u0435\u0434\u0431\u0430 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\u0442\u0435"),s.qZA(),s._UZ(38,"input",18),s.qZA(),s.TgZ(39,"button",19),s._uU(40,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),s.qZA()()()()),2&r){let u,l,f;s.xp6(4),s.Q6J("formGroup",i.categoryForm),s.xp6(2),s.Q6J("ngIf",""!==(null==(u=i.categoryForm.get("image"))?null:u.value)),s.xp6(8),s.Q6J("ngIf",null==(l=i.categoryForm.get("name"))?null:l.touched),s.xp6(14),s.Q6J("ngIf",null==(f=i.categoryForm.get("menu"))?null:f.touched)}},dependencies:[Qn,Fs,ja,Wo,Hn,Ls,dc,go,lo,ho,nm,Us,Bs,tI]})}return n})();var EB=P(7582);const Q8=function IB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wB=new _e.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),w3=new Wr.Yd("@firebase/auth");function C3(n,...e){w3.logLevel<=Wr.in.ERROR&&w3.error(`Auth (${sd}): ${n}`,...e)}function vs(n,...e){throw EP(n,...e)}function pu(n,...e){return EP(n,...e)}function EP(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return wB.create(n,...e)}function Ve(n,e,...t){if(!n)throw EP(e,...t)}function gu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw C3(e),new Error(e)}function Kd(n,e){n||gu(e)}function nI(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function TB(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class rI{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kd(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,_e.uI)()||(0,_e.b$)()}get(){return function X8(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function IP(){return"http:"===TB()||"https:"===TB()}()||(0,_e.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wP(n,e){Kd(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class bB{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void gu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void gu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void gu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const t7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},n7=new rI(3e4,6e4);function On(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wn(n,e,t,r){return CP.apply(this,arguments)}function CP(){return CP=(0,R.Z)(function*(n,e,t,r,i={}){return AB(n,i,(0,R.Z)(function*(){let u={},l={};r&&("GET"===e?l=r:u={body:JSON.stringify(r)});const f=(0,_e.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),g=yield n._getAdditionalHeaders();return g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode),bB.fetch()(DB(n,n.config.apiHost,t,f),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},u))}))}),CP.apply(this,arguments)}function AB(n,e,t){return TP.apply(this,arguments)}function TP(){return TP=(0,R.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},t7),e);try{const i=new i7(n),u=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield u.json();if("needConfirmation"in l)throw iI(n,"account-exists-with-different-credential",l);if(u.ok&&!("errorMessage"in l))return l;{const f=u.ok?l.errorMessage:l.error.message,[g,v]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===g)throw iI(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===g)throw iI(n,"email-already-in-use",l);if("USER_DISABLED"===g)throw iI(n,"user-disabled",l);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw function CB(n,e,t){const r=Object.assign(Object.assign({},Q8()),{[e]:t});return new _e.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,T,v);vs(n,T)}}catch(i){if(i instanceof _e.ZR)throw i;vs(n,"network-request-failed",{message:String(i)})}}),TP.apply(this,arguments)}function qc(n,e,t,r){return bP.apply(this,arguments)}function bP(){return bP=(0,R.Z)(function*(n,e,t,r,i={}){const u=yield Wn(n,e,t,r,i);return"mfaPendingCredential"in u&&vs(n,"multi-factor-auth-required",{_serverResponse:u}),u}),bP.apply(this,arguments)}function DB(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?wP(n.config,i):`${n.config.apiScheme}://${i}`}function r7(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(pu(this.auth,"network-request-failed")),n7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function iI(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=pu(n,e,r);return i.customData._tokenResponse=t,i}function xB(n){return void 0!==n&&void 0!==n.enterprise}class MB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return r7(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function DP(){return DP=(0,R.Z)(function*(n,e){return Wn(n,"GET","/v2/recaptchaConfig",On(n,e))}),DP.apply(this,arguments)}function SP(){return SP=(0,R.Z)(function*(n,e){return Wn(n,"POST","/v1/accounts:delete",e)}),SP.apply(this,arguments)}function MP(){return MP=(0,R.Z)(function*(n,e){return Wn(n,"POST","/v1/accounts:lookup",e)}),MP.apply(this,arguments)}function sI(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function NP(){return NP=(0,R.Z)(function*(n,e=!1){const t=(0,_e.m9)(n),r=yield t.getIdToken(e),i=T3(r);Ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const u="object"==typeof i.firebase?i.firebase:void 0,l=u?.sign_in_provider;return{claims:i,token:r,authTime:sI(RP(i.auth_time)),issuedAtTime:sI(RP(i.iat)),expirationTime:sI(RP(i.exp)),signInProvider:l||null,signInSecondFactor:u?.sign_in_second_factor||null}}),NP.apply(this,arguments)}function RP(n){return 1e3*Number(n)}function T3(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return C3("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,_e.tV)(t);return i?JSON.parse(i):(C3("Failed to decode base64 JWT payload"),null)}catch(i){return C3("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jc(n,e){return PP.apply(this,arguments)}function PP(){return PP=(0,R.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof _e.ZR&&function d7({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),PP.apply(this,arguments)}class h7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,R.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,R.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class RB{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sI(this.lastLoginAt),this.creationTime=sI(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oI(n){return OP.apply(this,arguments)}function OP(){return OP=(0,R.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield jc(n,function u7(n,e){return MP.apply(this,arguments)}(t,{idToken:r}));Ve(i?.users.length,t,"internal-error");const u=i.users[0];n._notifyReloadListener(u);const l=null!==(e=u.providerUserInfo)&&void 0!==e&&e.length?function g7(n){return n.map(e=>{var{providerId:t}=e,r=(0,EB._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(u.providerUserInfo):[],f=function p7(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),T=!!n.isAnonymous&&!(n.email&&u.passwordHash||f?.length),A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new RB(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(n,A)}),OP.apply(this,arguments)}function kP(){return kP=(0,R.Z)(function*(n){const e=(0,_e.m9)(n);yield oI(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),kP.apply(this,arguments)}function FP(){return FP=(0,R.Z)(function*(n,e){const t=yield AB(n,{},(0,R.Z)(function*(){const r=(0,_e.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:u}=n.config,l=DB(n,i,"/v1/token",`key=${u}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",bB.fetch()(l,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),FP.apply(this,arguments)}class aI{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function l7(n){const e=T3(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,R.Z)(function*(){return Ve(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,R.Z)(function*(){const{accessToken:i,refreshToken:u,expiresIn:l}=yield function m7(n,e){return FP.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,u,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:u}=t,l=new aI;return r&&(Ve("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(Ve("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),u&&(Ve("number"==typeof u,"internal-error",{appName:e}),l.expirationTime=u),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aI,this.toJSON())}_performRefresh(){return gu("not implemented")}}function Yd(n,e){Ve("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class _p{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,u=(0,EB._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new RB(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,R.Z)(function*(){const r=yield jc(t,t.stsTokenManager.getToken(t.auth,e));return Ve(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function c7(n){return NP.apply(this,arguments)}(this,e)}reload(){return function f7(n){return kP.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _p(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,R.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield oI(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,R.Z)(function*(){const t=yield e.getIdToken();return yield jc(e,function o7(n,e){return SP.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,u,l,f,g,v,T;const A=null!==(r=t.displayName)&&void 0!==r?r:void 0,M=null!==(i=t.email)&&void 0!==i?i:void 0,O=null!==(u=t.phoneNumber)&&void 0!==u?u:void 0,q=null!==(l=t.photoURL)&&void 0!==l?l:void 0,G=null!==(f=t.tenantId)&&void 0!==f?f:void 0,X=null!==(g=t._redirectEventId)&&void 0!==g?g:void 0,Ce=null!==(v=t.createdAt)&&void 0!==v?v:void 0,Fe=null!==(T=t.lastLoginAt)&&void 0!==T?T:void 0,{uid:ke,emailVerified:Ye,isAnonymous:_t,providerData:pt,stsTokenManager:Yt}=t;Ve(ke&&Yt,e,"internal-error");const Ar=aI.fromJSON(this.name,Yt);Ve("string"==typeof ke,e,"internal-error"),Yd(A,e.name),Yd(M,e.name),Ve("boolean"==typeof Ye,e,"internal-error"),Ve("boolean"==typeof _t,e,"internal-error"),Yd(O,e.name),Yd(q,e.name),Yd(G,e.name),Yd(X,e.name),Yd(Ce,e.name),Yd(Fe,e.name);const Vi=new _p({uid:ke,auth:e,email:M,emailVerified:Ye,displayName:A,isAnonymous:_t,photoURL:q,phoneNumber:O,tenantId:G,stsTokenManager:Ar,createdAt:Ce,lastLoginAt:Fe});return pt&&Array.isArray(pt)&&(Vi.providerData=pt.map(pa=>Object.assign({},pa))),X&&(Vi._redirectEventId=X),Vi}static _fromIdTokenResponse(e,t,r=!1){return(0,R.Z)(function*(){const i=new aI;i.updateFromServerResponse(t);const u=new _p({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield oI(u),u})()}}const PB=new Map;function $c(n){Kd(n instanceof Function,"Expected a class definition");let e=PB.get(n);return e?(Kd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,PB.set(n,e),e)}const OB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,R.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,R.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,R.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function b3(n,e,t){return`firebase:${n}:${e}:${t}`}class f_{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:u}=this.auth;this.fullUserKey=b3(this.userKey,i.apiKey,u),this.fullPersistenceKey=b3("persistence",i.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,R.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?_p._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,R.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,R.Z)(function*(){if(!t.length)return new f_($c(OB),e,r);const i=(yield Promise.all(t.map(function(){var v=(0,R.Z)(function*(T){if(yield T._isAvailable())return T});return function(T){return v.apply(this,arguments)}}()))).filter(v=>v);let u=i[0]||$c(OB);const l=b3(r,e.config.apiKey,e.name);let f=null;for(const v of t)try{const T=yield v._get(l);if(T){const A=_p._fromJSON(e,T);v!==u&&(f=A),u=v;break}}catch{}const g=i.filter(v=>v._shouldAllowMigration);return u._shouldAllowMigration&&g.length?(u=g[0],f&&(yield u._set(l,f.toJSON())),yield Promise.all(t.map(function(){var v=(0,R.Z)(function*(T){if(T!==u)try{yield T._remove(l)}catch{}});return function(T){return v.apply(this,arguments)}}())),new f_(u,e,r)):new f_(u,e,r)})()}}function kB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VB(e))return"Blackberry";if(ZB(e))return"Webos";if(LP(e))return"Safari";if((e.includes("chrome/")||LB(e))&&!e.includes("edge/"))return"Chrome";if(BB(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function FB(n=(0,_e.z$)()){return/firefox\//i.test(n)}function LP(n=(0,_e.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LB(n=(0,_e.z$)()){return/crios\//i.test(n)}function UB(n=(0,_e.z$)()){return/iemobile/i.test(n)}function BB(n=(0,_e.z$)()){return/android/i.test(n)}function VB(n=(0,_e.z$)()){return/blackberry/i.test(n)}function ZB(n=(0,_e.z$)()){return/webos/i.test(n)}function A3(n=(0,_e.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qB(n=(0,_e.z$)()){return A3(n)||BB(n)||ZB(n)||VB(n)||/windows phone/i.test(n)||UB(n)}function jB(n,e=[]){let t;switch(n){case"Browser":t=kB((0,_e.z$)());break;case"Worker":t=`${kB((0,_e.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sd}/${r}`}class E7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((l,f)=>{try{l(e(u))}catch(g){f(g)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,R.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const u of r)try{u()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function UP(){return UP=(0,R.Z)(function*(n,e={}){return Wn(n,"GET","/v2/passwordPolicy",On(n,e))}),UP.apply(this,arguments)}class C7{constructor(e){var t,r,i,u;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=l.minPasswordLength)&&void 0!==t?t:6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),void 0!==l.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),void 0!==l.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),void 0!==l.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),void 0!==l.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(u=e.forceUpgradeOnSignin)&&void 0!==u&&u,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,u,l,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=null===(t=g.meetsMinPasswordLength)||void 0===t||t),g.isValid&&(g.isValid=null===(r=g.meetsMaxPasswordLength)||void 0===r||r),g.isValid&&(g.isValid=null===(i=g.containsLowercaseLetter)||void 0===i||i),g.isValid&&(g.isValid=null===(u=g.containsUppercaseLetter)||void 0===u||u),g.isValid&&(g.isValid=null===(l=g.containsNumericCharacter)||void 0===l||l),g.isValid&&(g.isValid=null===(f=g.containsNonAlphanumericCharacter)||void 0===f||f),g}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class T7{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $B(this),this.idTokenSubscription=new $B(this),this.beforeStateQueue=new E7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=$c(t)),this._initializationPromise=this.queue((0,R.Z)(function*(){var i,u;if(!r._deleted&&(r.persistenceManager=yield f_.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,R.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,R.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let u=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const f=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,g=u?._redirectEventId,v=yield t.tryRedirectSignIn(e);(!f||f===g)&&v?.user&&(u=v.user,l=!0)}if(!u)return t.directlySetCurrentUser(null);if(!u._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(u)}catch(f){u=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(f))}return u?t.reloadAndSetCurrentUserOrClear(u):t.directlySetCurrentUser(null)}return Ve(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===u._redirectEventId?t.directlySetCurrentUser(u):t.reloadAndSetCurrentUserOrClear(u)})()}tryRedirectSignIn(e){var t=this;return(0,R.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,R.Z)(function*(){try{yield oI(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function e7(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,R.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,R.Z)(function*(){const r=e?(0,_e.m9)(e):null;return r&&Ve(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,R.Z)(function*(){if(!r._deleted)return e&&Ve(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,R.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,R.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,R.Z)(function*(){yield t.assertedPersistence.setPersistence($c(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,R.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,R.Z)(function*(){const t=yield function I7(n){return UP.apply(this,arguments)}(e),r=new C7(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _e.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,R.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,R.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&$c(e)||t._popupRedirectResolver;Ve(r,t,"argument-error"),t.redirectPersistenceManager=yield f_.create(t,[$c(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,R.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,R.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,R.Z)(function*(){if(e===t.currentUser)return t.queue((0,R.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const u="function"==typeof t?t:t.next.bind(t);let l=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{l||u(this.currentUser)}),"function"==typeof t){const g=e.addObserver(t,r,i);return()=>{l=!0,g()}}{const g=e.addObserver(t);return()=>{l=!0,g()}}}directlySetCurrentUser(e){var t=this;return(0,R.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,R.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const u=yield e._getAppCheckToken();return u&&(r["X-Firebase-AppCheck"]=u),r})()}_getAppCheckToken(){var e=this;return(0,R.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function J8(n,...e){w3.logLevel<=Wr.in.WARN&&w3.warn(`Auth (${sd}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Tr(n){return(0,_e.m9)(n)}class $B{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,_e.ne)(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function BP(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const u=pu("internal-error");u.customData=i,t(u)},r.type="text/javascript",r.charset="UTF-8",function b7(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function HB(n){return`__${n}${Math.floor(1e6*Math.random())}`}class GB{constructor(e){this.type="recaptcha-enterprise",this.auth=Tr(e)}verify(e="verify",t=!1){var r=this;return(0,R.Z)(function*(){function u(){return u=(0,R.Z)(function*(f){if(!t){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var g=(0,R.Z)(function*(v,T){(function NB(n,e){return DP.apply(this,arguments)})(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(void 0!==A.recaptchaKey){const M=new MB(A);return null==f.tenantId?f._agentRecaptchaConfig=M:f._tenantRecaptchaConfigs[f.tenantId]=M,v(M.siteKey)}T(new Error("recaptcha Enterprise site key undefined"))}).catch(A=>{T(A)})});return function(v,T){return g.apply(this,arguments)}}())}),u.apply(this,arguments)}function l(f,g,v){const T=window.grecaptcha;xB(T)?T.enterprise.ready(()=>{T.enterprise.execute(f,{action:e}).then(A=>{g(A)}).catch(()=>{g("NO_RECAPTCHA")})}):v(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,g)=>{(function i(f){return u.apply(this,arguments)})(r.auth).then(v=>{if(!t&&xB(window.grecaptcha))l(v,f,g);else{if(typeof window>"u")return void g(new Error("RecaptchaVerifier is only supported in browser"));BP("https://www.google.com/recaptcha/enterprise.js?render="+v).then(()=>{l(v,f,g)}).catch(T=>{g(T)})}}).catch(v=>{g(v)})})})()}}function zB(n,e,t){return VP.apply(this,arguments)}function VP(){return VP=(0,R.Z)(function*(n,e,t,r=!1){const i=new GB(n);let u;try{u=yield i.verify(t)}catch{u=yield i.verify(t,!0)}const l=Object.assign({},e);return Object.assign(l,r?{captchaResp:u}:{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}),VP.apply(this,arguments)}function D3(n,e,t,r){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,R.Z)(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=yield zB(n,e,t,"getOobCode"===t);return r(n,u)}return r(n,e).catch(function(){var u=(0,R.Z)(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=yield zB(n,e,t,"getOobCode"===t);return r(n,f)}return Promise.reject(l)});return function(l){return u.apply(this,arguments)}}())}),ZP.apply(this,arguments)}function WB(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KB(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class YB{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gu("not implemented")}_getIdTokenResponse(e){return gu("not implemented")}_linkToIdToken(e,t){return gu("not implemented")}_getReauthenticationResolver(e){return gu("not implemented")}}function $P(){return $P=(0,R.Z)(function*(n,e){return Wn(n,"POST","/v1/accounts:update",e)}),$P.apply(this,arguments)}function F7(n,e){return GP.apply(this,arguments)}function GP(){return GP=(0,R.Z)(function*(n,e){return qc(n,"POST","/v1/accounts:signInWithPassword",On(n,e))}),GP.apply(this,arguments)}function zP(){return zP=(0,R.Z)(function*(n,e){return Wn(n,"POST","/v1/accounts:sendOobCode",On(n,e))}),zP.apply(this,arguments)}function U7(n,e){return KP.apply(this,arguments)}function KP(){return KP=(0,R.Z)(function*(n,e){return function S3(n,e){return zP.apply(this,arguments)}(n,e)}),KP.apply(this,arguments)}function JP(){return JP=(0,R.Z)(function*(n,e){return qc(n,"POST","/v1/accounts:signInWithEmailLink",On(n,e))}),JP.apply(this,arguments)}function XP(){return XP=(0,R.Z)(function*(n,e){return qc(n,"POST","/v1/accounts:signInWithEmailLink",On(n,e))}),XP.apply(this,arguments)}class uI extends YB{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new uI(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new uI(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,R.Z)(function*(){switch(t.signInMethod){case"password":return D3(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",F7);case"emailLink":return function Z7(n,e){return JP.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:vs(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,R.Z)(function*(){switch(r.signInMethod){case"password":return function JB(n,e){return $P.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function q7(n,e){return XP.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:vs(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Hc(n,e){return eO.apply(this,arguments)}function eO(){return eO=(0,R.Z)(function*(n,e){return qc(n,"POST","/v1/accounts:signInWithIdp",On(n,e))}),eO.apply(this,arguments)}class dI{constructor(e){var t,r,i,u,l,f;const g=(0,_e.zd)((0,_e.pd)(e)),v=null!==(t=g.apiKey)&&void 0!==t?t:null,T=null!==(r=g.oobCode)&&void 0!==r?r:null,A=function K7(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=g.mode)&&void 0!==i?i:null);Ve(v&&T&&A,"argument-error"),this.apiKey=v,this.operation=A,this.code=T,this.continueUrl=null!==(u=g.continueUrl)&&void 0!==u?u:null,this.languageCode=null!==(l=g.languageCode)&&void 0!==l?l:null,this.tenantId=null!==(f=g.tenantId)&&void 0!==f?f:null}static parseLink(e){const t=function Y7(n){const e=(0,_e.zd)((0,_e.pd)(n)).link,t=e?(0,_e.zd)((0,_e.pd)(e)).deep_link_id:null,r=(0,_e.zd)((0,_e.pd)(n)).deep_link_id;return(r?(0,_e.zd)((0,_e.pd)(r)).link:null)||r||t||e||n}(e);try{return new dI(t)}catch{return null}}}let XB=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return uI._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=dI.parseLink(r);return Ve(i,"argument-error"),uI._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Qd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Q7 extends Qd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function eV(n,e){return oO.apply(this,arguments)}function oO(){return oO=(0,R.Z)(function*(n,e){return qc(n,"POST","/v1/accounts:signUp",On(n,e))}),oO.apply(this,arguments)}class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,R.Z)(function*(){const u=yield _p._fromIdTokenResponse(e,r,i),l=tV(r);return new Co({user:u,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,R.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=tV(r);return new Co({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function tV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class M3 extends _e.ZR{constructor(e,t,r,i){var u;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,M3.prototype),this.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new M3(e,t,r,i)}}function nV(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw"auth/multi-factor-auth-required"===u.code?M3._fromErrorAndOperation(n,u,e,r):u})}function lO(){return lO=(0,R.Z)(function*(n,e,t=!1){const r=yield jc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Co._forOperation(n,"link",r)}),lO.apply(this,arguments)}function hO(){return hO=(0,R.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const u=yield jc(n,nV(r,i,e,n),t);Ve(u.idToken,r,"internal-error");const l=T3(u.idToken);Ve(l,r,"internal-error");const{sub:f}=l;return Ve(n.uid===f,r,"user-mismatch"),Co._forOperation(n,i,u)}catch(u){throw"auth/user-not-found"===u?.code&&vs(r,"user-mismatch"),u}}),hO.apply(this,arguments)}function sV(n,e){return fO.apply(this,arguments)}function fO(){return fO=(0,R.Z)(function*(n,e,t=!1){const r="signIn",i=yield nV(n,r,e),u=yield Co._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(u.user)),u}),fO.apply(this,arguments)}function gO(){return gO=(0,R.Z)(function*(n,e){return sV(Tr(n),e)}),gO.apply(this,arguments)}function CO(n){return TO.apply(this,arguments)}function TO(){return TO=(0,R.Z)(function*(n){const e=Tr(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())}),TO.apply(this,arguments)}function bO(){return bO=(0,R.Z)(function*(n,e,t){const r=Tr(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&function R3(n,e,t){var r;Ve((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),Ve(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ve(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ve(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}(r,i,t),yield D3(r,i,"getOobCode",U7)}),bO.apply(this,arguments)}function MO(){return MO=(0,R.Z)(function*(n,e,t){const r=Tr(n),l=yield D3(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eV).catch(g=>{throw"auth/password-does-not-meet-requirements"===g.code&&CO(n),g}),f=yield Co._fromIdTokenResponse(r,"signIn",l);return yield r._updateCurrentUser(f.user),f}),MO.apply(this,arguments)}const P3="__sak";class aV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(P3,"1"),this.storage.removeItem(P3),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TG=(()=>{class n extends aV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function IG(){const n=(0,_e.z$)();return LP(n)||A3(n)}()&&function v7(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qB(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),u=this.localCache[r];i!==u&&t(r,u,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((f,g,v)=>{this.notifyListeners(f,v)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(t.newValue!==f)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const u=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},l=this.storage.getItem(i);!function y7(){return(0,_e.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?u():setTimeout(u,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,u=this;return(0,R.Z)(function*(){yield i().call(u,t,r),u.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,R.Z)(function*(){const u=yield r().call(i,t);return i.localCache[t]=JSON.stringify(u),u})()}_remove(t){var r=()=>super._remove,i=this;return(0,R.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),uV=(()=>{class n extends aV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let AG=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,R.Z)(function*(){const i=t,{eventId:u,eventType:l,data:f}=i.data,g=r.handlersMap[l];if(!g?.size)return;i.ports[0].postMessage({status:"ack",eventId:u,eventType:l});const v=Array.from(g).map(function(){var A=(0,R.Z)(function*(M){return M(i.origin,f)});return function(M){return A.apply(this,arguments)}}()),T=yield function bG(n){return Promise.all(n.map(function(){var e=(0,R.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(v);i.ports[0].postMessage({status:"done",eventId:u,eventType:l,response:T})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function GO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class DG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,R.Z)(function*(){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let l,f;return new Promise((g,v)=>{const T=GO("",20);u.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:u,onMessage(M){const O=M;if(O.data.eventId===T)switch(O.data.status){case"ack":clearTimeout(A),l=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),g(O.data.response);break;default:clearTimeout(A),clearTimeout(l),v(new Error("invalid_response"))}}},i.handlers.add(f),u.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:e,eventId:T,data:t},[u.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function br(){return window}function zO(){return typeof br().WorkerGlobalScope<"u"&&"function"==typeof br().importScripts}function WO(){return(WO=(0,R.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cV="firebaseLocalStorageDb",O3="firebaseLocalStorage",lV="fbase_key";class fI{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function k3(n,e){return n.transaction([O3],e?"readwrite":"readonly").objectStore(O3)}function KO(){const n=indexedDB.open(cV,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(O3,{keyPath:lV})}catch(i){t(i)}}),n.addEventListener("success",(0,R.Z)(function*(){const r=n.result;r.objectStoreNames.contains(O3)?e(r):(r.close(),yield function PG(){const n=indexedDB.deleteDatabase(cV);return new fI(n).toPromise()}(),e(yield KO()))}))})}function dV(n,e,t){return YO.apply(this,arguments)}function YO(){return YO=(0,R.Z)(function*(n,e,t){const r=k3(n,!0).put({[lV]:e,value:t});return new fI(r).toPromise()}),YO.apply(this,arguments)}function QO(){return QO=(0,R.Z)(function*(n,e){const t=k3(n,!1).get(e),r=yield new fI(t).toPromise();return void 0===r?null:r.value}),QO.apply(this,arguments)}function hV(n,e){const t=k3(n,!0).delete(e);return new fI(t).toPromise()}const LG=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,R.Z)(function*(){return t.db||(t.db=yield KO()),t.db})()}_withRetries(t){var r=this;return(0,R.Z)(function*(){let i=0;for(;;)try{const u=yield r._openDb();return yield t(u)}catch(u){if(i++>3)throw u;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,R.Z)(function*(){return zO()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,R.Z)(function*(){t.receiver=AG._getInstance(function NG(){return zO()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,R.Z)(function*(i,u){return{keyProcessed:(yield t._poll()).includes(u.key)}});return function(i,u){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,R.Z)(function*(i,u){return["keyChanged"]});return function(i,u){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,R.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function xG(){return WO.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new DG(t.activeServiceWorker);const u=yield t.sender._send("ping",{},800);u&&null!==(r=u[0])&&void 0!==r&&r.fulfilled&&null!==(i=u[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,R.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function MG(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.Z)(function*(){try{if(!indexedDB)return!1;const t=yield KO();return yield dV(t,P3,"1"),yield hV(t,P3),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,R.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,R.Z)(function*(){return i._withPendingWrite((0,R.Z)(function*(){return yield i._withRetries(u=>dV(u,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,R.Z)(function*(){const i=yield r._withRetries(u=>function OG(n,e){return QO.apply(this,arguments)}(u,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,R.Z)(function*(){return r._withPendingWrite((0,R.Z)(function*(){return yield r._withRetries(i=>hV(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,R.Z)(function*(){const r=yield t._withRetries(l=>{const f=k3(l,!1).getAll();return new fI(f).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],u=new Set;for(const{fbase_key:l,value:f}of r)u.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(f)&&(t.notifyListeners(l,f),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!u.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,R.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();HB("rcb"),new rI(3e4,6e4);class o2 extends YB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XG(n){return sV(n.auth,new o2(n),n.bypassAuthState)}function ez(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),function iV(n,e){return hO.apply(this,arguments)}(t,new o2(n),n.bypassAuthState)}function tz(n){return a2.apply(this,arguments)}function a2(){return a2=(0,R.Z)(function*(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),function cO(n,e){return lO.apply(this,arguments)}(t,new o2(n),n.bypassAuthState)}),a2.apply(this,arguments)}class nz{constructor(e,t,r,i,u=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,R.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(u){e.reject(u)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,R.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:u,tenantId:l,error:f,type:g}=e;if(f)return void t.reject(f);const v={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:u||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(g)(v))}catch(T){t.reject(T)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XG;case"linkViaPopup":case"linkViaRedirect":return tz;case"reauthViaPopup":case"reauthViaRedirect":return ez;default:vs(this.auth,"internal-error")}}resolve(e){Kd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new rI(2e3,1e4);const rz="pendingRedirect",pI=new Map;class iz extends nz{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,R.Z)(function*(){let r=pI.get(t.auth._key());if(!r){try{const u=(yield function sz(n,e){return h2.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(u)}catch(i){r=()=>Promise.reject(i)}pI.set(t.auth._key(),r)}return t.bypassAuthState||pI.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,R.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,R.Z)(function*(){})()}cleanUp(){}}function h2(){return h2=(0,R.Z)(function*(n,e){const t=function gV(n){return b3(rz,n.config.apiKey,n.name)}(e),r=function pV(n){return $c(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),h2.apply(this,arguments)}function oz(n,e){pI.set(n._key(),e)}function mV(n,e){return v2.apply(this,arguments)}function v2(){return v2=(0,R.Z)(function*(n,e,t=!1){const r=Tr(n),i=function vp(n,e){return e?$c(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new iz(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l}),v2.apply(this,arguments)}class dz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function hz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vV(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(pu(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yV(e))}saveEventToCache(e){this.cachedEventUids.add(yV(e)),this.lastProcessedEventTime=Date.now()}}function yV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vV({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function I2(){return I2=(0,R.Z)(function*(n,e={}){return Wn(n,"GET","/v1/projects",e)}),I2.apply(this,arguments)}const pz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gz=/^https?/;function w2(){return w2=(0,R.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function fz(n){return I2.apply(this,arguments)}(n);for(const t of e)try{if(_z(t))return}catch{}vs(n,"unauthorized-domain")}),w2.apply(this,arguments)}function _z(n){const e=nI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!gz.test(t))return!1;if(pz.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yz=new rI(3e4,6e4);function EV(){const n=br().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let L3=null;const Iz=new rI(5e3,15e3),wz="__/auth/iframe",Cz="emulator/auth/iframe",Tz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Az(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wP(e,Cz):`https://${n.config.authDomain}/${wz}`,r={apiKey:e.apiKey,appName:n.name,v:sd},i=bz.get(n.config.apiHost);i&&(r.eid=i);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${(0,_e.xO)(r).slice(1)}`}function C2(){return C2=(0,R.Z)(function*(n){const e=yield function Ez(n){return L3=L3||function vz(n){return new Promise((e,t)=>{var r,i,u;function l(){EV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EV(),t(pu(n,"network-request-failed"))},timeout:yz.get()})}if(null!==(i=null===(r=br().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(u=br().gapi)||void 0===u||!u.load){const f=HB("iframefcb");return br()[f]=()=>{gapi.load?l():t(pu(n,"network-request-failed"))},BP(`https://apis.google.com/js/api.js?onload=${f}`).catch(g=>t(g))}l()}}).catch(e=>{throw L3=null,e})}(n),L3}(n),t=br().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:Az(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tz,dontclear:!0},r=>new Promise(function(){var i=(0,R.Z)(function*(u,l){yield r.restyle({setHideOnLeave:!1});const f=pu(n,"network-request-failed"),g=br().setTimeout(()=>{l(f)},Iz.get());function v(){br().clearTimeout(g),u(r)}r.ping(v).then(v,()=>{l(f)})});return function(u,l){return i.apply(this,arguments)}}()))}),C2.apply(this,arguments)}const Sz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class IV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const kz="__/auth/handler",Fz="emulator/auth/handler",Lz=encodeURIComponent("fac");function wV(n,e,t,r,i,u){return T2.apply(this,arguments)}function T2(){return T2=(0,R.Z)(function*(n,e,t,r,i,u){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:sd,eventId:i};if(e instanceof Qd){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,_e.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries(u||{}))l[T]=A}if(e instanceof Q7){const T=e.getScopes().filter(A=>""!==A);T.length>0&&(l.scopes=T.join(","))}n.tenantId&&(l.tid=n.tenantId);const f=l;for(const T of Object.keys(f))void 0===f[T]&&delete f[T];const g=yield n._getAppCheckToken(),v=g?`#${Lz}=${encodeURIComponent(g)}`:"";return`${function Uz({config:n}){return n.emulator?wP(n,Fz):`https://${n.authDomain}/${kz}`}(n)}?${(0,_e.xO)(f).slice(1)}${v}`}),T2.apply(this,arguments)}const b2="webStorageSupport",Vz=class Bz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uV,this._completeRedirectFn=mV,this._overrideRedirectResult=oz}_openPopup(e,t,r,i){var u=this;return(0,R.Z)(function*(){var l;Kd(null===(l=u.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const f=yield wV(e,t,r,nI(),i);return function Pz(n,e,t,r=500,i=600){const u=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const g=Object.assign(Object.assign({},Sz),{width:r.toString(),height:i.toString(),top:u,left:l}),v=(0,_e.z$)().toLowerCase();t&&(f=LB(v)?"_blank":t),FB(v)&&(e=e||"http://localhost",g.scrollbars="yes");const T=Object.entries(g).reduce((M,[O,q])=>`${M}${O}=${q},`,"");if(function _7(n=(0,_e.z$)()){var e;return A3(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(v)&&"_self"!==f)return function Oz(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",f),new IV(null);const A=window.open(e||"",f,T);Ve(A,n,"popup-blocked");try{A.focus()}catch{}return new IV(A)}(e,f,GO())})()}_openRedirect(e,t,r,i){var u=this;return(0,R.Z)(function*(){return yield u._originValidation(e),function SG(n){br().location.href=n}(yield wV(e,t,r,nI(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:u}=this.eventManagers[t];return i?Promise.resolve(i):(Kd(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,R.Z)(function*(){const r=yield function Dz(n){return C2.apply(this,arguments)}(e),i=new dz(e);return r.register("authEvent",u=>(Ve(u?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(b2,{type:b2},i=>{var u;const l=null===(u=i?.[0])||void 0===u?void 0:u[b2];void 0!==l&&t(!!l),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function mz(n){return w2.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qB()||LP()||A3()}};var bV="@firebase/auth";class Zz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,R.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Hz=(0,_e.Pz)("authIdTokenMaxAge")||300;let DV=null;const Gz=n=>function(){var e=(0,R.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Hz)return;const u=r?.token;DV!==u&&(DV=u,yield fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function B3(n=function vC(n=Ha){const e=Ga.get(n);if(!e&&n===Ha&&(0,_e.aH)())return yC();if(!e)throw Xo.create("no-app",{appName:n});return e}()){const e=yf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function M7(n,e){const t=yf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),u=t.getOptions();if((0,_e.vZ)(u,e??{}))return i;vs(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Vz,persistence:[LG,TG,uV]}),r=(0,_e.Pz)("authTokenSyncURL");if(r){const u=Gz(r);(function gG(n,e,t){(0,_e.m9)(n).beforeAuthStateChanged(e,t)})(t,u,()=>u(t.currentUser)),function pG(n,e,t,r){(0,_e.m9)(n).onIdTokenChanged(e,t,r)}(t,l=>u(l))}const i=(0,_e.q4)("auth");return i&&function R7(n,e,t){const r=Tr(n);Ve(r._canInitEmulator,r,"emulator-config-failed"),Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,u=WB(e),{host:l,port:f}=function P7(n){const e=WB(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const u=i[1];return{host:u,port:KB(r.substr(u.length+1))}}{const[u,l]=r.split(":");return{host:u,port:KB(l)}}}(e);r.config.emulator={url:`${u}//${l}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function O7(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function jz(n){_r(new gn.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=r.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:l,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jB(n)},v=new T7(r,i,u,g);return function N7(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map($c);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_r(new gn.wA("auth-internal",e=>{const t=Tr(e.getProvider("auth").getImmediate());return new Zz(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(bV,"1.3.2",function qz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),vi(bV,"1.3.2","esm2017")}("Browser");let mu=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r,this.userDataSubject=new sr.X(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const u=JSON.parse(i);this.userDataSubject.next(u)}}registerUser(t,r,i){var u=this;return(0,R.Z)(function*(){try{const l=yield u.createUserWithEmailAndPassword(t,r),f=l.user.uid;yield u.addAdditionalAuthData(f,i),yield u.saveUserData(l.user,i),u.router.navigate(["categories"])}catch(l){u.handleError(l)}})()}loginUser(t,r){var i=this;return(0,R.Z)(function*(){try{const u=yield i.signInWithEmailAndPassword(t,r),l=u.user.uid,f=yield i.getAdditionalAuthDataById(l);yield i.saveUserData(u.user,f),i.router.navigate(["categories"])}catch(u){i.handleError(u)}})()}logoutUser(){var t=this;return(0,R.Z)(function*(){try{yield t.signOutAuth(),yield t.clearUserData(),t.router.navigate(["sign-in"])}catch(r){t.handleError(r)}})()}forgotPassword(t){var r=this;return(0,R.Z)(function*(){try{yield r.sendPasswordResetEmail(t),window.alert("Password reset email sent, check your inbox."),r.router.navigate(["sign-in"])}catch(i){r.handleError(i),window.alert(i)}})()}sendPasswordResetEmail(t){return function rG(n,e,t){return bO.apply(this,arguments)}(B3(),t)}createUserWithEmailAndPassword(t,r){return function sG(n,e,t){return MO.apply(this,arguments)}(B3(),t,r)}signInWithEmailAndPassword(t,r){return function oG(n,e,t){return function pO(n,e){return gO.apply(this,arguments)}((0,_e.m9)(n),XB.credential(e,t)).catch(function(){var r=(0,R.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&CO(n),i});return function(i){return r.apply(this,arguments)}}())}(B3(),t,r)}signOutAuth(){return function mG(n){return(0,_e.m9)(n).signOut()}(B3())}addAdditionalAuthData(t,r){return q8(es(this.firestore,"Auth",t),r)}getAdditionalAuthDataById(t){var r=this;return(0,R.Z)(function*(){const i=es(r.firestore,"Auth",t),u=yield Zc(i);return u.exists()?u.data():null})()}saveUserData(t,r){return new Promise((i,u)=>{if(t&&r){const l={...t,...r};localStorage.setItem("user",JSON.stringify(l)),this.userDataSubject.next(l),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),u()})}clearUserData(){return new Promise((t,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),t()})}handleError(t){if(t instanceof Error){const i=t.message;console.error(`Error (${t.name}): ${i}`),alert(i)}else console.error("Unknown error:",t),alert(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Cr),s.LFG(In))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zz(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"a",7)(2,"div",8)(3,"div",9),s._UZ(4,"img",10),s.qZA(),s.TgZ(5,"p",11),s._uU(6),s.qZA()()(),s.BQk()),2&n){const t=s.oxw().$implicit,r=s.oxw();s.xp6(1),s.Q6J("routerLink",r.getRecipeLink(t)),s.xp6(3),s.s9C("alt",t.title),s.Q6J("src",t.image_recipe,s.LSH),s.xp6(2),s.Oqu(t.title)}}function Wz(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,zz,7,4,"ng-container",6),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.userData)}}let Kz=(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.authService=i,this.recipes=[],this.category=null,this.firestore=(0,s.f3M)(Cr),this.authService.userData$.subscribe(u=>{this.userData=u})}getRecipeLink(t){return this.userData?.isCook?["/recipe",t.id]:["/recipe-waiters",t.id]}ngOnInit(){var t=this;this.route.params.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.id,f=fu(t.firestore,"Recipe"),g=es(t.firestore,"Category",u),v=yield Zc(g);v.exists()&&(t.category=v.data());const T=yB(f,vB("category","==",u));d_(T).then(A=>{const M=[];A.forEach(O=>{const q=O.data();M.push({title:q.title,image_recipe:q.image_recipe[0]?q.image_recipe[0].image_recipe:null,order_index:q.order_index,id:O.id})}),t.recipes=M.sort((O,q)=>Number(O.order_index)-Number(q.order_index))}).catch(A=>{console.error("Error retrieving recipes: ",A)})});return function(i){return r.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(kr),s.Y36(In),s.Y36(mu))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-category"]],decls:8,vars:3,consts:[[1,"mainLong"],[1,"category"],[1,"category-title"],[1,"category-subtitle"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3),s.qZA(),s.TgZ(4,"h4",3),s._uU(5),s.qZA(),s.TgZ(6,"div",4),s.YNc(7,Wz,2,1,"div",5),s.qZA()()()),2&r&&(s.xp6(3),s.hij(" ",null==i.category?null:i.category.name," "),s.xp6(2),s.hij(" ",null==i.category?null:i.category.note," "),s.xp6(2),s.Q6J("ngForOf",i.recipes))},dependencies:[oi,Qn,_i],styles:[".category[_ngcontent-%COMP%]{width:1200px;margin:0 auto;position:relative}.category-title[_ngcontent-%COMP%]{text-align:center;font-family:var(--titleFont)}.category-subtitle[_ngcontent-%COMP%]{font-style:italic;text-align:center;font-weight:200;margin-bottom:20px}.recipe-list[_ngcontent-%COMP%]{position:relative;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{border:1px solid var(--mainWhiteColor);margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--backgroundColor);color:var(--mainBlackColor);font-weight:600;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:capitalize;top:70%;height:30%;font-family:var(--titleFont);display:flex;align-items:center;justify-content:center}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(.95);transition:1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:2%;height:30%;color:var(--mainBlackColor);background:var(--mainMagnoliaColor);transition:1s ease-in-out}@media (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px;height:25%;top:75%}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 10%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:20%;top:79%}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return n})(),Ep=(()=>{class n{constructor(t){this.firestore=t}getBaseRecipe(){const r=fu(this.firestore,"BaseRecipe");return new ir.y(i=>{d_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}getBaseById(t){var r=this;return(0,R.Z)(function*(){const i=es(r.firestore,"BaseRecipe",t),u=yield Zc(i);return u.exists()?u.data():null})()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Cr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D2=(()=>{class n{constructor(t){this.firestore=t}getCategories(){const r=fu(this.firestore,"Category");return new ir.y(i=>{d_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Cr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jd=(()=>{class n{constructor(t){this.firestore=t}getAllergens(){const r=fu(this.firestore,"Allergens");return new ir.y(i=>{d_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Cr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SV=(()=>{class n{constructor(t){this.firestore=t}getPlates(){const r=fu(this.firestore,"Plates");return new ir.y(i=>{d_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Cr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yz(n,e){1&n&&(s.TgZ(0,"div",44),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),s.qZA())}function Qz(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,Yz,2,0,"div",43),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function Jz(n,e){if(1&n&&(s.TgZ(0,"option",45),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.name," ")}}function Xz(n,e){1&n&&(s.TgZ(0,"div",44),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),s.qZA())}function e9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,Xz,2,0,"div",43),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("category"))||null==r.errors?null:r.errors.required)}}function t9(n,e){1&n&&(s.TgZ(0,"div",44),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),s.qZA())}function n9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,t9,2,0,"div",43),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function r9(n,e){1&n&&(s.TgZ(0,"div",44),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0435\u0437\u043e\u043d! "),s.qZA())}function i9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,r9,2,0,"div",43),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("season"))||null==r.errors?null:r.errors.required)}}function s9(n,e){1&n&&(s.TgZ(0,"div",44),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function o9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,s9,2,0,"div",43),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("unit"))||null==r.errors?null:r.errors.required)}}function a9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",46)(1,"input",47),s.NdJ("change",function(){const u=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.toggleAllergenSelection(u.id))}),s.qZA(),s.TgZ(2,"label",48),s._uU(3),s.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=s.oxw();s.xp6(1),s.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),s.xp6(1),s.s9C("for","allergen"+r),s.xp6(1),s.Oqu(t.name)}}function u9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",49)(1,"p",7),s._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s._UZ(3,"input",50),s.TgZ(4,"button",36),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeImage(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function c9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",49)(1,"p",7),s._uU(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),s.qZA(),s._UZ(3,"input",51),s.TgZ(4,"button",36),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeVideo(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function l9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",49)(1,"p",7),s._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),s.qZA(),s._UZ(3,"input",52),s.TgZ(4,"button",36),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removePreparation(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function d9(n,e){if(1&n&&(s.TgZ(0,"option",45),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.name," ")}}function h9(n,e){1&n&&(s.TgZ(0,"div",44),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0447\u0438\u043d\u0438\u044f! "),s.qZA())}function f9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,h9,2,0,"div",43),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("food_plate"))||null==r.errors?null:r.errors.required)}}function p9(n,e){1&n&&(s.TgZ(0,"div",44),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function g9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,p9,2,0,"div",43),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function m9(n,e){1&n&&(s.TgZ(0,"div",44),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function _9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,m9,2,0,"div",43),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function y9(n,e){1&n&&(s.TgZ(0,"div",44),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function v9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,y9,2,0,"div",43),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function E9(n,e){if(1&n&&(s.TgZ(0,"option",45),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.title," ")}}function I9(n,e){if(1&n&&(s.TgZ(0,"div",49)(1,"div",53),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s.TgZ(6,"label",54),s._uU(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(8,"input",55),s.YNc(9,g9,2,1,"div",5),s.TgZ(10,"label",56),s._uU(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(12,"input",57),s.YNc(13,_9,2,1,"div",5),s.TgZ(14,"label",24),s._uU(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(16,"p",7),s._uU(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),s.qZA(),s.TgZ(18,"select",58)(19,"option",26),s._uU(20,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(21,"option",27),s._uU(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(23,"option",28),s._uU(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(25,"option",29),s._uU(26,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(27,v9,2,1,"div",5),s.TgZ(28,"label",59),s._uU(29,"\u0411\u0440\u043e\u0439\u043a\u0430: "),s.qZA(),s.TgZ(30,"p",7),s._uU(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),s.qZA(),s._UZ(32,"input",60),s.TgZ(33,"label",61),s._uU(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),s.qZA(),s.TgZ(35,"p",7),s._uU(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),s._UZ(37,"br"),s._uU(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),s.qZA(),s._UZ(39,"input",62),s.TgZ(40,"label",63),s._uU(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),s.qZA(),s.TgZ(42,"p",7),s._uU(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),s.qZA(),s.TgZ(44,"select",64),s.YNc(45,E9,2,2,"option",9),s.qZA(),s.TgZ(46,"label",40),s._uU(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),s.qZA(),s.TgZ(48,"p",7),s._uU(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),s.qZA(),s._UZ(50,"input",65),s.qZA()),2&n){const t=e.index,r=s.oxw();let i,u,l;s.Q6J("formGroupName",t),s.xp6(9),s.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".name"))?null:i.touched),s.xp6(4),s.Q6J("ngIf",null==(u=r.recipeForm.get("ingredients."+t+".amount"))?null:u.touched),s.xp6(14),s.Q6J("ngIf",null==(l=r.recipeForm.get("ingredients."+t+".unit"))?null:l.touched),s.xp6(18),s.Q6J("ngForOf",r.baseRecipes)}}let w9=(()=>{class n{constructor(t,r,i,u,l,f){this.fb=r,this.baseRecipeService=i,this.categoriesService=u,this.allergenService=l,this.platesService=f,this.allergens=[],this.plates=[],this.baseRecipes=[],this.categories=[],this.currentOrderIndex=1,this.firestore=t,this.recipeForm=this.fb.group({title:["",[Ke.required]],category:this.fb.control([null,[Ke.required]]),description:["",[Ke.required]],season:["",[Ke.required]],unit:["",[Ke.required]],summary:[""],release_time:[0],serving_value:[0],order_index:[0],allergens:this.fb.array([]),food_plate:this.fb.control([null,[Ke.required]]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[Ke.required]],amount:[null,[Ke.required]],base:this.fb.control(null),unit:["",[Ke.required]],order_index:[0],preparation_method:[""],quantity:[0]})])}),this.getAllergens(),this.getPlates()}ngOnInit(){this.getBaseRecipe(),this.getCategory()}addImage(){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(t){this.recipeForm.get("image_recipe").removeAt(t)}addImageToForm(t){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.recipeForm.get("video_recipe").removeAt(t)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.recipeForm.get("preparation_method").removeAt(t)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[Ke.required]],amount:[null,[Ke.required]],base:this.fb.control(null),unit:["",[Ke.required]],order_index:this.currentOrderIndex,preparation_method:[""],quantity:[0]})),this.currentOrderIndex++}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Go(t)):this.added_allergens.removeAt(r)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}get added_allergens(){return this.recipeForm.get("allergens")}onSubmit(){this.recipeForm.valid&&(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}getCategory(){this.categoriesService.getCategories().subscribe({next:t=>{this.categories=t},error:t=>{console.error("Error fetching recipes:",t)}})}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getPlates(){this.platesService.getPlates().subscribe({next:t=>{this.plates=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addRecipe(t){v3(fu(this.firestore,"Recipe"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Cr),s.Y36(Yo),s.Y36(Ep),s.Y36(D2),s.Y36(Jd),s.Y36(SV))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-recipe-form"]],decls:105,vars:14,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","category"],[1,"hint"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["id","ingredient_unit","formControlName","unit"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["type","text","id","ingredient_preparation_method","formControlName","preparation_method"],["for","base"],["id","base","formControlName","base"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(4,"form",3)(5,"label"),s._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s._UZ(7,"input",4),s.qZA(),s.YNc(8,Qz,2,1,"div",5),s.TgZ(9,"label",6),s._uU(10,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(11,"p",7),s._uU(12,"\u041a\u044a\u043c \u043a\u043e\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043f\u0440\u0435\u043d\u0430\u0434\u043b\u0435\u0436\u0438 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s.TgZ(13,"select",8),s.YNc(14,Jz,2,2,"option",9),s.qZA(),s.YNc(15,e9,2,1,"div",5),s.TgZ(16,"div")(17,"label",10),s._uU(18,"\u0420\u0435\u0437\u044e\u043c\u0435:"),s.qZA(),s.TgZ(19,"p",7),s._uU(20,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(21,"input",11),s.qZA(),s.TgZ(22,"div")(23,"label",12),s._uU(24,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(25,"textarea",13),s.qZA(),s.YNc(26,n9,2,1,"div",5),s.TgZ(27,"div")(28,"label",14),s._uU(29,"\u0421\u0435\u0437\u043e\u043d (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(30,"p",7),s._uU(31,"\u0412 \u043a\u043e\u0439 \u0441\u0435\u0437\u043e\u043d \u0449\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s.TgZ(32,"select",15)(33,"option",16),s._uU(34,"\u041f\u0440\u043e\u043b\u0435\u0442"),s.qZA(),s.TgZ(35,"option",17),s._uU(36,"\u041b\u044f\u0442\u043e"),s.qZA(),s.TgZ(37,"option",18),s._uU(38,"\u0415\u0441\u0435\u043d"),s.qZA(),s.TgZ(39,"option",19),s._uU(40,"\u0417\u0438\u043c\u0430"),s.qZA()()(),s.YNc(41,i9,2,1,"div",5),s.TgZ(42,"div")(43,"label",20),s._uU(44,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435: "),s.qZA(),s.TgZ(45,"p",7),s._uU(46,"\u0417\u0430 \u043a\u043e\u043b\u043a\u043e \u0432\u0440\u0435\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s._UZ(47,"input",21),s.qZA(),s.TgZ(48,"div")(49,"label",22),s._uU(50,"\u0413\u043e\u0442\u043e\u0432\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: "),s.qZA(),s.TgZ(51,"p",7),s._uU(52,"\u041a\u043e\u043b\u043a\u043e \u0442\u0435\u0436\u0438 \u0433\u043e\u0442\u043e\u0432\u043e\u0442\u043e \u044f\u0441\u0442\u0438\u0435?"),s.qZA(),s._UZ(53,"input",23),s.qZA(),s._UZ(54,"br"),s.TgZ(55,"label",24),s._uU(56,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(57,"p",7),s._uU(58,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),s.qZA(),s.TgZ(59,"select",25)(60,"option",26),s._uU(61,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(62,"option",27),s._uU(63,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(64,"option",28),s._uU(65,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(66,"option",29),s._uU(67,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(68,o9,2,1,"div",5),s.TgZ(69,"div",30)(70,"label"),s._uU(71,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),s.qZA(),s.YNc(72,a9,4,5,"div",31),s.qZA(),s.TgZ(73,"div")(74,"app-image-upload",32),s.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),s.qZA(),s.TgZ(75,"div",33),s.YNc(76,u9,6,1,"div",34),s.qZA(),s.TgZ(77,"div",35),s.YNc(78,c9,6,1,"div",34),s.TgZ(79,"button",36),s.NdJ("click",function(){return i.addVideo()}),s._uU(80," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),s.qZA()(),s.TgZ(81,"div",37),s.YNc(82,l9,6,1,"div",34),s.TgZ(83,"button",36),s.NdJ("click",function(){return i.addPreparation()}),s._uU(84," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),s.qZA()(),s.TgZ(85,"label",38),s._uU(86,"\u0427\u0438\u043d\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(87,"p",7),s._uU(88,"\u0412 \u043a\u043e\u044f \u0447\u0438\u043d\u0438\u044f \u0449\u0435 \u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0440\u0430 \u044f\u0441\u0442\u0438\u0435\u0442\u043e?"),s.qZA(),s.TgZ(89,"select",39),s.YNc(90,d9,2,2,"option",9),s.qZA(),s.YNc(91,f9,2,1,"div",5),s.TgZ(92,"div")(93,"label",40),s._uU(94,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),s.qZA(),s.TgZ(95,"p",7),s._uU(96,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u0438\u0442\u0435 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),s.qZA(),s._UZ(97,"input",41),s.qZA()(),s.TgZ(98,"div",42),s.YNc(99,I9,51,5,"div",34),s.qZA(),s._UZ(100,"br"),s.TgZ(101,"button",36),s.NdJ("click",function(){return i.addIngredient()}),s._uU(102," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),s.qZA(),s.TgZ(103,"button",36),s.NdJ("click",function(){return i.onSubmit()}),s._uU(104,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA()()()()),2&r){let u,l,f,g,v,T;s.xp6(4),s.Q6J("formGroup",i.recipeForm),s.xp6(4),s.Q6J("ngIf",null==(u=i.recipeForm.get("title"))?null:u.touched),s.xp6(6),s.Q6J("ngForOf",i.categories),s.xp6(1),s.Q6J("ngIf",null==(l=i.recipeForm.get("category"))?null:l.touched),s.xp6(11),s.Q6J("ngIf",null==(f=i.recipeForm.get("description"))?null:f.touched),s.xp6(15),s.Q6J("ngIf",null==(g=i.recipeForm.get("season"))?null:g.touched),s.xp6(27),s.Q6J("ngIf",null==(v=i.recipeForm.get("unit"))?null:v.touched),s.xp6(4),s.Q6J("ngForOf",i.allergens),s.xp6(4),s.Q6J("ngForOf",i.image_recipe.controls),s.xp6(2),s.Q6J("ngForOf",i.video_recipe.controls),s.xp6(4),s.Q6J("ngForOf",i.preparation_method.controls),s.xp6(8),s.Q6J("ngForOf",i.plates),s.xp6(1),s.Q6J("ngIf",null==(T=i.recipeForm.get("food_plate"))?null:T.touched),s.xp6(8),s.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[oi,Qn,Fs,ja,Wo,Hn,Ls,go,lo,ho,Us,Bs,qa,po,tI]})}return n})(),S2=(()=>{class n{constructor(t){this.firestore=t}getRecipeById(t){var r=this;return(0,R.Z)(function*(){const i=es(r.firestore,"Recipe",t),u=yield Zc(i);return u.exists()?u.data():null})()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Cr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),V3=(()=>{class n{constructor(t){this.firestore=t,this.commentAddedSubject=new ls.x}getCommentsForRecipe(t){var r=this;return(0,R.Z)(function*(){try{const i=fu(r.firestore,"Comments"),u=yB(i,vB("recipeId","==",t)),l=yield d_(u),f=[];return l.forEach(g=>{const v=g.data();f.push({create_time:v.create_time,name:v.name,recipeId:v.recipeId,text:v.text,uid:v.uid,id:g.id})}),f.sort((g,v)=>{const T=g.create_time.toDate();return v.create_time.toDate()-T}),f}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(t){var r=this;return(0,R.Z)(function*(){try{const i="Comments",u=yield v3(fu(r.firestore,i),t);return r.commentAddedSubject.next(),u.id}catch(i){return console.error("Error adding comment:",i),null}})()}deleteComment(t){var r=this;return(0,R.Z)(function*(){try{const u=es(r.firestore,"Comments",t);yield V8(u),console.log("Comment deleted successfully:",t)}catch(i){console.error("Error deleting comment:",i)}})()}getCommentById(t){var r=this;return(0,R.Z)(function*(){const i=es(r.firestore,"Comments",t),u=yield Zc(i);if(u.exists()){const l=u.data();return console.log(l.recipeId),u.data()}return null})()}editComment(t,r){var i=this;return(0,R.Z)(function*(){try{const l=es(i.firestore,"Comments",t);yield E3(l,r),console.log("Comment edited successfully:",t)}catch(u){console.error("Error editing comment:",u)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Cr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C9(n,e){1&n&&(s.TgZ(0,"div",9),s._uU(1," \u041c\u043e\u043b\u044f \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440! "),s.qZA())}function T9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,C9,2,0,"div",8),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let xV=(()=>{class n{constructor(t,r,i,u){this.fb=t,this.commentService=i,this.authService=u,this.timestamp=new Date,this.fullName="",this.userData=null,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",Ke.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.authService.userData$.subscribe({next:t=>{t?(this.userData=t,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d"},error:t=>{}})}onSubmit(){var t=this;return(0,R.Z)(function*(){if(t.timestamp=new Date,t.commentForm.valid){t.commentForm.patchValue({name:t.fullName}),t.commentForm.patchValue({recipeId:t.recipeId}),t.commentForm.patchValue({create_time:t.timestamp}),t.commentForm.patchValue({uid:t.userData.uid});try{(yield t.commentService.addComment(t.commentForm.value))?(alert("\u0412\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"),t.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Yo),s.Y36(Cr),s.Y36(V3),s.Y36(mu))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:14,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"form",1),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(2,"div",2),s._UZ(3,"hr"),s.TgZ(4,"p"),s._uU(5,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0439\u0442\u0435\xa0\xa0"),s.qZA(),s._UZ(6,"hr"),s.qZA(),s.TgZ(7,"div",3)(8,"label",4),s._uU(9,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(10,"textarea",5),s.qZA(),s.YNc(11,T9,2,1,"div",6),s.TgZ(12,"button",7),s._uU(13,"\u041f\u0443\u0431\u043b\u0438\u043a\u0443\u0432\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"),s.qZA()()()),2&r){let u;s.xp6(1),s.Q6J("formGroup",i.commentForm),s.xp6(10),s.Q6J("ngIf",null==(u=i.commentForm.get("text"))?null:u.touched)}},dependencies:[Qn,Fs,Hn,lo,ho,Us,Bs],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return n})(),Z3=(()=>{class n{constructor(t){this.sanitizer=t}transform(t){let r;if(t.startsWith("https://m."))r=new URLSearchParams(t.split("?")[1]).get("v")||"";else{const u=t.split("/");r=u[u.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Uu,16))};static#t=this.\u0275pipe=s.Yjl({name:"safeUrl",type:n,pure:!0})}return n})();function b9(n,e){if(1&n&&(s.TgZ(0,"div",23),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.hij(" ",null==t.recipe?null:t.recipe.summary," ")}}function A9(n,e){1&n&&(s.TgZ(0,"div"),s._UZ(1,"br"),s.qZA())}function D9(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"img",26),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",t.image_recipe,s.LSH)}}function S9(n,e){if(1&n&&(s.TgZ(0,"ul",24),s.YNc(1,D9,2,1,"li",25),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",null==t.recipe?null:t.recipe.image_recipe)}}function x9(n,e){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("\xa0",null==t.recipe?null:t.recipe.unit,"")}}function M9(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",11),s._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),s.qZA()(),s.TgZ(4,"td")(5,"span",12),s._uU(6),s.YNc(7,x9,2,1,"span",27),s.qZA()()()),2&n){const t=s.oxw();s.xp6(6),s.hij("",null==t.recipe?null:t.recipe.serving_value," "),s.xp6(1),s.Q6J("ngIf",null==t.recipe?null:t.recipe.unit)}}function N9(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",11),s._uU(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),s.qZA()(),s.TgZ(4,"td")(5,"span",12),s._uU(6),s.qZA()()()),2&n){const t=s.oxw();s.xp6(6),s.hij("",null==t.recipe?null:t.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function R9(n,e){1&n&&(s.ynx(0),s._uU(1,", "),s.BQk())}function P9(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"span",12),s._uU(2),s.qZA(),s.YNc(3,R9,2,0,"ng-container",4),s.BQk()),2&n){const t=e.$implicit,r=e.last;s.xp6(2),s.Oqu(t.name),s.xp6(1),s.Q6J("ngIf",!r)}}function O9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,P9,4,2,"ng-container",25),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",t.allergens)}}function k9(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",11),s._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),s.qZA()(),s.TgZ(4,"td"),s.YNc(5,O9,2,1,"div",4),s.qZA()()),2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngIf",t.allergens.length>0)}}function F9(n,e){1&n&&(s.TgZ(0,"div",13),s._UZ(1,"hr"),s.TgZ(2,"p"),s._uU(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),s.qZA(),s._UZ(4,"hr"),s.qZA())}function L9(n,e){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.hij("(",t.quantity," \u0431\u0440.)")}}const U9=function(n){return["/base",n]};function B9(n,e){if(1&n&&(s.TgZ(0,"span",12)(1,"a",6),s._uU(2," \xa0\xa0"),s._UZ(3,"i",30),s._uU(4," \xa0\xa0"),s._UZ(5,"i",31),s._uU(6," \xa0\xa0"),s._UZ(7,"i",32),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.Q6J("routerLink",s.VKq(1,U9,t.base))}}function V9(n,e){if(1&n&&(s.TgZ(0,"span",11)(1,"i"),s._uU(2),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",t.preparation_method,"")}}function Z9(n,e){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.YNc(2,L9,2,1,"span",4),s.YNc(3,B9,8,3,"span",27),s._UZ(4,"br"),s.YNc(5,V9,3,1,"span",29),s.qZA()),2&n){const t=s.oxw().$implicit;s.xp6(1),s.lnq(" ",t.name," - ",t.amount," ",t.unit," "),s.xp6(1),s.Q6J("ngIf",t.quantity),s.xp6(1),s.Q6J("ngIf",t.base),s.xp6(2),s.Q6J("ngIf",t.preparation_method)}}function q9(n,e){if(1&n&&(s.TgZ(0,"ul",28),s.YNc(1,Z9,6,6,"li",4),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",null==t.recipe?null:t.recipe.ingredients)}}function j9(n,e){1&n&&(s.TgZ(0,"div",13),s._UZ(1,"hr"),s.TgZ(2,"p"),s._uU(3,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),s.qZA(),s._UZ(4,"hr"),s.qZA())}function $9(n,e){if(1&n&&(s.TgZ(0,"ul",33)(1,"li"),s._uU(2),s.qZA()()),2&n){const t=e.$implicit;s.xp6(2),s.Oqu(t.preparation_method)}}function H9(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"iframe",35),s.ALo(2,"safeUrl"),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",s.lcZ(2,1,t.video_recipe),s.uOi)}}function G9(n,e){if(1&n&&(s.TgZ(0,"div",34)(1,"div",13),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"ul"),s.YNc(8,H9,3,3,"li",25),s.qZA()()),2&n){const t=s.oxw();s.xp6(8),s.Q6J("ngForOf",null==t.recipe?null:t.recipe.video_recipe)}}function z9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.navigateToRecipeEdit())}),s._uU(1," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439\u0442\u0435 "),s.qZA()}}function W9(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"app-comment-form",36),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("recipeId",t.recipeId)}}function K9(n,e){1&n&&(s.TgZ(0,"div",13),s._UZ(1,"hr"),s.TgZ(2,"p"),s._uU(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),s.qZA(),s._UZ(4,"hr"),s.qZA())}function Y9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",19),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,u=s.oxw(2);return s.KtG(u.deleteComment(i.id))}),s._UZ(1,"i",40),s.qZA()}}function Q9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",19),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,u=s.oxw(2);return s.KtG(u.navigateToCommentEdit(i.id))}),s._UZ(1,"i",41),s.qZA()}}function J9(n,e){if(1&n&&(s.TgZ(0,"ul")(1,"li"),s._uU(2),s.qZA(),s.TgZ(3,"li"),s._uU(4),s.qZA(),s.TgZ(5,"li",38)(6,"p"),s._uU(7),s.ALo(8,"date"),s.qZA(),s.TgZ(9,"div",39),s.YNc(10,Y9,2,0,"span",21),s.YNc(11,Q9,2,0,"span",21),s.qZA()()()),2&n){const t=e.$implicit,r=s.oxw(2);s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.text),s.xp6(3),s.hij(" ",s.xi3(8,5,t.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),s.xp6(3),s.Q6J("ngIf",t.uid==r.userData.uid),s.xp6(1),s.Q6J("ngIf",t.uid==r.userData.uid)}}function X9(n,e){if(1&n&&(s.TgZ(0,"section",37),s.YNc(1,J9,12,8,"ul",25),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.comments)}}const eW=function(n){return["/category",n]};let tW=(()=>{class n{constructor(t,r,i,u,l,f,g){var v=this;this.route=t,this.recipeService=r,this.firestore=i,this.commentService=u,this.allergenService=l,this.authService=f,this.router=g,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.allergens=[],this.route.paramMap.subscribe(function(){var T=(0,R.Z)(function*(A){const M=A.get("id");if(v.recipeId=M,M)try{v.recipe=yield v.recipeService.getRecipeById(M),v.comments=yield u.getCommentsForRecipe(M),v.recipe?yield v.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(O){console.error("An error occurred while retrieving the recipe:",O)}else console.error("Recipe ID not provided.")});return function(A){return T.apply(this,arguments)}}()),u.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}navigateToRecipeEdit(){this.router.navigate(["/recipe-edit",this.recipeId])}navigateToCommentEdit(t){this.router.navigate(["/comment-edit",t])}ngOnInit(){this.getAllergens(),this.authService.userData$.subscribe(t=>{this.userData=t})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}deleteComment(t){this.commentService.deleteComment(t),this.loadCommentsForRecipe()}loadCommentsForRecipe(){var t=this;return(0,R.Z)(function*(){t.recipeId&&(t.comments=yield t.commentService.getCommentsForRecipe(t.recipeId))})()}loadCategoryAndPlateData(){var t=this;return(0,R.Z)(function*(){const r=t.recipe?.food_plate,i=t.recipe?.category;if(r){const u=es(t.firestore,"Plates/"+r),l=yield Zc(u);l.exists()&&(t.plate=l.data())}if(i){const u=es(t.firestore,"Category/"+i),l=yield Zc(u);l.exists()&&(t.category=l.data())}})()}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{const i=(this.recipe?.allergens||[]).filter(Boolean);t.forEach(u=>{const l=u.id;i.filter(g=>g===l).length>0&&this.allergens.push(u)})},error:t=>{console.error("Error fetching recipes:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(kr),s.Y36(S2),s.Y36(Cr),s.Y36(V3),s.Y36(Jd),s.Y36(mu),s.Y36(In))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-recipe"]],decls:55,vars:23,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],[3,"click"],["href","javascript:history.back()",1,"btn"],[3,"click",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3),s.qZA(),s.YNc(4,b9,2,1,"div",3),s.YNc(5,A9,2,0,"div",4),s.TgZ(6,"div",5)(7,"a",6),s._UZ(8,"i",7),s._uU(9),s.qZA()(),s.TgZ(10,"div",8),s.YNc(11,S9,2,1,"ul",9),s.TgZ(12,"table",10)(13,"tr")(14,"td")(15,"span",11),s._uU(16,"\u0421\u0435\u0437\u043e\u043d"),s.qZA()(),s.TgZ(17,"td")(18,"span",12),s._uU(19),s.qZA()()(),s.YNc(20,M9,8,2,"tr",4),s.YNc(21,N9,7,1,"tr",4),s.TgZ(22,"tr")(23,"td")(24,"span",11),s._uU(25,"\u0427\u0438\u043d\u0438\u044f"),s.qZA()(),s.TgZ(26,"td")(27,"span",12),s._uU(28),s.qZA()()(),s.YNc(29,k9,6,1,"tr",4),s.qZA(),s.TgZ(30,"div",13),s._UZ(31,"hr"),s.TgZ(32,"p"),s._uU(33,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),s.qZA(),s._UZ(34,"hr"),s.qZA(),s._UZ(35,"br"),s.TgZ(36,"p",14),s._uU(37),s.qZA(),s._UZ(38,"br"),s.YNc(39,F9,5,0,"div",15),s._UZ(40,"br"),s.YNc(41,q9,2,1,"ul",16),s.YNc(42,j9,5,0,"div",15),s._UZ(43,"br"),s.YNc(44,$9,3,1,"ul",17),s.YNc(45,G9,9,1,"div",18),s.TgZ(46,"button",19),s.NdJ("click",function(){return i.toggleCommentForm()}),s._uU(47,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),s.qZA(),s.TgZ(48,"a",20),s._UZ(49,"i",7),s._uU(50,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA(),s.YNc(51,z9,2,0,"button",21),s.YNc(52,W9,2,1,"div",4),s.YNc(53,K9,5,0,"div",15),s.YNc(54,X9,2,1,"section",22),s.qZA()()()),2&r&&(s.xp6(3),s.Oqu(null==i.recipe?null:i.recipe.title),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.summary),s.xp6(1),s.Q6J("ngIf",!(null!=i.recipe&&i.recipe.summary)),s.xp6(2),s.Q6J("routerLink",s.VKq(21,eW,null==i.recipe?null:i.recipe.category)),s.xp6(2),s.hij(" ",null==i.category?null:i.category.name," "),s.xp6(2),s.Q6J("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),s.xp6(8),s.Oqu(null==i.recipe?null:i.recipe.season),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.serving_value),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.release_time),s.xp6(7),s.Oqu(null==i.plate?null:i.plate.name),s.xp6(1),s.Q6J("ngIf",(null==i.recipe||null==i.recipe.allergens?null:i.recipe.allergens.length)>0),s.xp6(8),s.hij(" ",null==i.recipe?null:i.recipe.description," "),s.xp6(2),s.Q6J("ngIf",null==i.recipe?null:i.recipe.ingredients),s.xp6(2),s.Q6J("ngForOf",null==i.recipe?null:i.recipe.ingredients),s.xp6(1),s.Q6J("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),s.xp6(2),s.Q6J("ngForOf",null==i.recipe?null:i.recipe.preparation_method),s.xp6(1),s.Q6J("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),s.xp6(6),s.Q6J("ngIf",i.userData&&i.userData.isAdmin),s.xp6(1),s.Q6J("ngIf",i.showCommentForm),s.xp6(1),s.Q6J("ngIf",i.comments.length>0),s.xp6(1),s.Q6J("ngIf",i.comments.length>0))},dependencies:[oi,Qn,_i,xV,tl,Z3],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.fa-regular[_ngcontent-%COMP%], .fa-solid[_ngcontent-%COMP%]{cursor:pointer;color:var(--mainColor)}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]})}return n})();function nW(n,e){1&n&&(s.TgZ(0,"div",33),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),s.qZA())}function rW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,nW,2,0,"div",32),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseForm.get("title"))||null==r.errors?null:r.errors.required)}}function iW(n,e){1&n&&(s.TgZ(0,"div",33),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),s.qZA())}function sW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,iW,2,0,"div",32),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseForm.get("base_type"))||null==r.errors?null:r.errors.required)}}function oW(n,e){1&n&&(s.TgZ(0,"div",33),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),s.qZA())}function aW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,oW,2,0,"div",32),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseForm.get("description"))||null==r.errors?null:r.errors.required)}}function uW(n,e){1&n&&(s.TgZ(0,"div",33),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),s.qZA())}function cW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,uW,2,0,"div",32),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseForm.get("base_yield"))||null==r.errors?null:r.errors.required)}}function lW(n,e){1&n&&(s.TgZ(0,"div",33),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function dW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,lW,2,0,"div",32),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseForm.get("unit"))||null==r.errors?null:r.errors.required)}}function hW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",34)(1,"input",35),s.NdJ("change",function(){const u=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.toggleAllergenSelection(u.id))}),s.qZA(),s.TgZ(2,"label",36),s._uU(3),s.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=s.oxw();s.xp6(1),s.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),s.xp6(1),s.s9C("for","allergen"+r),s.xp6(1),s.Oqu(t.name)}}function fW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",37)(1,"p",7),s._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s._UZ(3,"input",38),s.TgZ(4,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeImage(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function pW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",37)(1,"p",7),s._uU(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),s.qZA(),s._UZ(3,"input",39),s.TgZ(4,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeVideo(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function gW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",37)(1,"p",7),s._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),s.qZA(),s._UZ(3,"input",40),s.TgZ(4,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removePreparation(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function mW(n,e){1&n&&(s.TgZ(0,"div",33),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function _W(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,mW,2,0,"div",32),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function yW(n,e){1&n&&(s.TgZ(0,"div",33),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function vW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,yW,2,0,"div",32),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function EW(n,e){1&n&&(s.TgZ(0,"div",33),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function IW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,EW,2,0,"div",32),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function wW(n,e){if(1&n&&(s.TgZ(0,"option",56),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.title," ")}}function CW(n,e){if(1&n&&(s.TgZ(0,"div",37)(1,"div",41),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s.TgZ(6,"label",42),s._uU(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(8,"input",43),s.YNc(9,_W,2,1,"div",5),s.TgZ(10,"label",44),s._uU(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(12,"input",45),s.YNc(13,vW,2,1,"div",5),s.TgZ(14,"label",15),s._uU(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(16,"p",7),s._uU(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),s.qZA(),s.TgZ(18,"select",46)(19,"option",17),s._uU(20,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(21,"option",18),s._uU(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(23,"option",19),s._uU(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(25,"option",20),s._uU(26,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(27,IW,2,1,"div",5),s.TgZ(28,"label",47),s._uU(29,"\u0411\u0440\u043e\u0439\u043a\u0430:"),s.qZA(),s.TgZ(30,"p",7),s._uU(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),s.qZA(),s._UZ(32,"input",48),s.TgZ(33,"label",49),s._uU(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),s.qZA(),s.TgZ(35,"p",7),s._uU(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),s._UZ(37,"br"),s._uU(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),s.qZA(),s._UZ(39,"input",50),s.TgZ(40,"label",51),s._uU(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),s.qZA(),s.TgZ(42,"p",7),s._uU(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),s.qZA(),s.TgZ(44,"select",52),s.YNc(45,wW,2,2,"option",53),s.qZA(),s.TgZ(46,"label",54),s._uU(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),s.qZA(),s.TgZ(48,"p",7),s._uU(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),s.qZA(),s._UZ(50,"input",55),s.qZA()),2&n){const t=e.index,r=s.oxw();let i,u,l;s.Q6J("formGroupName",t),s.xp6(9),s.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".name"))?null:i.touched),s.xp6(4),s.Q6J("ngIf",null==(u=r.baseForm.get("ingredients."+t+".amount"))?null:u.touched),s.xp6(14),s.Q6J("ngIf",null==(l=r.baseForm.get("ingredients."+t+".unit"))?null:l.touched),s.xp6(18),s.Q6J("ngForOf",r.baseRecipes)}}let TW=(()=>{class n{constructor(t,r,i,u){this.fb=r,this.baseRecipeService=i,this.allergenService=u,this.allergens=[],this.baseRecipes=[],this.currentOrderIndex=1,this.firestore=t,this.baseForm=this.fb.group({title:["",[Ke.required]],base_type:["",[Ke.required]],summary:[""],description:["",[Ke.required]],base_yield:["",[Ke.required]],unit:["",[Ke.required]],base_recipe_portions:[0],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[Ke.required]],amount:[null,[Ke.required]],base:this.fb.control(null),unit:["",[Ke.required]],order_index:[0],preparation_method:"",quantity:[0]})])})}ngOnInit(){this.getBaseRecipe(),this.getAllergens()}addImage(){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(t){this.baseForm.get("image_recipe").removeAt(t)}addImageToForm(t){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}addVideo(){this.baseForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.baseForm.get("video_recipe").removeAt(t)}addPreparation(){this.baseForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.baseForm.get("preparation_method").removeAt(t)}addIngredient(){this.baseForm.get("ingredients").push(this.fb.group({name:["",[Ke.required]],amount:[null,[Ke.required]],base:this.fb.control(null),order_index:this.currentOrderIndex,preparation_method:"",quantity:[0],unit:["",[Ke.required]]})),this.currentOrderIndex++}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Go(t)):this.added_allergens.removeAt(r)}get ingredients(){return this.baseForm.get("ingredients")}get image_recipe(){return this.baseForm.get("image_recipe")}get video_recipe(){return this.baseForm.get("video_recipe")}get preparation_method(){return this.baseForm.get("preparation_method")}get added_allergens(){return this.baseForm.get("allergens")}onSubmit(){this.baseForm.valid&&(this.addBaseRecipe(this.baseForm.value),this.baseForm.reset())}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addBaseRecipe(t){v3(fu(this.firestore,"BaseRecipe"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Cr),s.Y36(Yo),s.Y36(Ep),s.Y36(Jd))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-base-form"]],decls:77,vars:11,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","base_recipe_portions"],["type","number","id","base_recipe_portions","formControlName","base_recipe_portions"],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["id","ingredient_unit","formControlName","unit"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["type","text","id","ingredient_preparation_method","formControlName","preparation_method"],["for","base"],["id","base","formControlName","base"],[3,"value",4,"ngFor","ngForOf"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],[3,"value"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(4,"form",3)(5,"label"),s._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s._UZ(7,"input",4),s.qZA(),s.YNc(8,rW,2,1,"div",5),s.TgZ(9,"div")(10,"label",6),s._uU(11,"\u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(12,"p",7),s._uU(13,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),s.qZA(),s._UZ(14,"input",8),s.qZA(),s.YNc(15,sW,2,1,"div",5),s.TgZ(16,"div")(17,"label",9),s._uU(18,"\u0420\u0435\u0437\u044e\u043c\u0435:"),s.qZA(),s.TgZ(19,"p",7),s._uU(20,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(21,"input",10),s.qZA(),s.TgZ(22,"div")(23,"label",11),s._uU(24,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(25,"textarea",12),s.qZA(),s.YNc(26,aW,2,1,"div",5),s.TgZ(27,"div")(28,"label",13),s._uU(29,"\u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(30,"p",7),s._uU(31,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f"),s.qZA(),s._UZ(32,"input",14),s.qZA(),s.YNc(33,cW,2,1,"div",5),s.TgZ(34,"label",15),s._uU(35,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(36,"p",7),s._uU(37,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),s.qZA(),s.TgZ(38,"select",16)(39,"option",17),s._uU(40,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(41,"option",18),s._uU(42,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(43,"option",19),s._uU(44,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(45,"option",20),s._uU(46,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(47,dW,2,1,"div",5),s.TgZ(48,"div")(49,"label",21),s._uU(50,"\u041f\u043e\u0440\u0446\u0438\u0439: "),s.qZA(),s.TgZ(51,"p",7),s._uU(52,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(53,"input",22),s.qZA(),s.TgZ(54,"div")(55,"div",23)(56,"label"),s._uU(57,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),s.qZA(),s.YNc(58,hW,4,5,"div",24),s.qZA(),s.TgZ(59,"app-image-upload",25),s.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),s.qZA(),s.TgZ(60,"div",26),s.YNc(61,fW,6,1,"div",27),s.qZA(),s.TgZ(62,"div",28),s.YNc(63,pW,6,1,"div",27),s.TgZ(64,"button",29),s.NdJ("click",function(){return i.addVideo()}),s._uU(65," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),s.qZA()(),s.TgZ(66,"div",30),s.YNc(67,gW,6,1,"div",27),s.TgZ(68,"button",29),s.NdJ("click",function(){return i.addPreparation()}),s._uU(69," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),s.qZA()()(),s.TgZ(70,"div",31),s.YNc(71,CW,51,5,"div",27),s.qZA(),s._UZ(72,"br"),s.TgZ(73,"button",29),s.NdJ("click",function(){return i.addIngredient()}),s._uU(74," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),s.qZA(),s.TgZ(75,"button",29),s.NdJ("click",function(){return i.onSubmit()}),s._uU(76," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 "),s.qZA()()()()),2&r){let u,l,f,g,v;s.xp6(4),s.Q6J("formGroup",i.baseForm),s.xp6(4),s.Q6J("ngIf",null==(u=i.baseForm.get("title"))?null:u.touched),s.xp6(7),s.Q6J("ngIf",null==(l=i.baseForm.get("base_type"))?null:l.touched),s.xp6(11),s.Q6J("ngIf",null==(f=i.baseForm.get("description"))?null:f.touched),s.xp6(7),s.Q6J("ngIf",null==(g=i.baseForm.get("base_yield"))?null:g.touched),s.xp6(14),s.Q6J("ngIf",null==(v=i.baseForm.get("unit"))?null:v.touched),s.xp6(11),s.Q6J("ngForOf",i.allergens),s.xp6(3),s.Q6J("ngForOf",i.image_recipe.controls),s.xp6(2),s.Q6J("ngForOf",i.video_recipe.controls),s.xp6(4),s.Q6J("ngForOf",i.preparation_method.controls),s.xp6(4),s.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[oi,Qn,Fs,ja,Wo,Hn,Ls,go,lo,ho,Us,Bs,qa,po,tI]})}return n})();function bW(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",13),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"div",14),s._uU(8),s.qZA()()),2&n){const t=s.oxw();s.xp6(8),s.Oqu(null==t.base?null:t.base.summary)}}function AW(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"img",17),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",t.image_recipe,s.LSH)}}function DW(n,e){if(1&n&&(s.TgZ(0,"ul",15),s.YNc(1,AW,2,1,"li",16),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",null==t.base?null:t.base.image_recipe)}}function SW(n,e){if(1&n&&(s.TgZ(0,"div",18)(1,"div",13),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"p",19),s._uU(8),s.qZA()()),2&n){const t=s.oxw();s.xp6(8),s.Oqu(null==t.base?null:t.base.description)}}function xW(n,e){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.hij("(",t.quantity," \u0431\u0440.)")}}const MW=function(n){return["/base",n]};function NW(n,e){if(1&n&&(s.TgZ(0,"span",8)(1,"a",24),s._uU(2," \xa0\xa0"),s._UZ(3,"i",25),s._uU(4," \xa0\xa0"),s._UZ(5,"i",26),s._uU(6," \xa0\xa0"),s._UZ(7,"i",27),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.Q6J("routerLink",s.VKq(1,MW,t.base))}}function RW(n,e){if(1&n&&(s.TgZ(0,"span",7)(1,"i"),s._uU(2),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",t.preparation_method,"")}}function PW(n,e){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.YNc(2,xW,2,1,"span",3),s.YNc(3,NW,8,3,"span",22),s._UZ(4,"br"),s.YNc(5,RW,3,1,"span",23),s.qZA()),2&n){const t=s.oxw().$implicit;s.xp6(1),s.lnq(" ",t.name," - ",t.amount," ",t.unit," "),s.xp6(1),s.Q6J("ngIf",t.quantity),s.xp6(1),s.Q6J("ngIf",t.base),s.xp6(2),s.Q6J("ngIf",t.preparation_method)}}function OW(n,e){if(1&n&&(s.TgZ(0,"ul",21),s.YNc(1,PW,6,6,"li",3),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==t.base?null:t.base.ingredients)}}function kW(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",13),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.YNc(7,OW,2,1,"ul",20),s.qZA()),2&n){const t=s.oxw();s.xp6(7),s.Q6J("ngForOf",null==t.base?null:t.base.ingredients)}}function FW(n,e){if(1&n&&(s.TgZ(0,"ul",29)(1,"li"),s._uU(2),s.qZA()()),2&n){const t=e.$implicit;s.xp6(2),s.Oqu(t.preparation_method)}}function LW(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",13),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.YNc(7,FW,3,1,"ul",28),s.qZA()),2&n){const t=s.oxw();s.xp6(7),s.Q6J("ngForOf",null==t.base?null:t.base.preparation_method)}}function UW(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",7),s._uU(3,"\u041f\u043e\u0440\u0446\u0438\u0439"),s.qZA()(),s.TgZ(4,"td")(5,"span",8),s._uU(6),s.qZA()()()),2&n){const t=s.oxw();s.xp6(6),s.hij("",null==t.base?null:t.base.base_recipe_portions,"\xa0\u0431\u0440. ")}}function BW(n,e){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("\xa0",null==t.base?null:t.base.unit,"")}}function VW(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",7),s._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),s.qZA()(),s.TgZ(4,"td")(5,"span",8),s._uU(6),s.YNc(7,BW,2,1,"span",22),s.qZA()()()),2&n){const t=s.oxw();s.xp6(6),s.Oqu(null==t.base?null:t.base.base_yield),s.xp6(1),s.Q6J("ngIf",null==t.base?null:t.base.unit)}}function ZW(n,e){1&n&&(s.ynx(0),s._uU(1,", "),s.BQk())}function qW(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"span",8),s._uU(2),s.qZA(),s.YNc(3,ZW,2,0,"ng-container",3),s.BQk()),2&n){const t=e.$implicit,r=e.last;s.xp6(2),s.Oqu(t.name),s.xp6(1),s.Q6J("ngIf",!r)}}function jW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,qW,4,2,"ng-container",16),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",t.allergens)}}function $W(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",7),s._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),s.qZA()(),s.TgZ(4,"td"),s.YNc(5,jW,2,1,"div",3),s.qZA()()),2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngIf",t.allergens.length>0)}}function HW(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"iframe",31),s.ALo(2,"safeUrl"),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",s.lcZ(2,1,t.video_recipe),s.uOi)}}function GW(n,e){if(1&n&&(s.TgZ(0,"div",30)(1,"div",13),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"ul"),s.YNc(8,HW,3,3,"li",16),s.qZA()()),2&n){const t=s.oxw();s.xp6(8),s.Q6J("ngForOf",null==t.base?null:t.base.video_recipe)}}function zW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.navigateToEdit())}),s._uU(1," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439\u0442\u0435 "),s.qZA()}}let WW=(()=>{class n{constructor(t,r,i,u,l){var f=this;this.route=t,this.router=r,this.baseRecipeService=i,this.authService=u,this.allergenService=l,this.base=null,this.baseId="",this.allergens=[],this.route.paramMap.subscribe(function(){var g=(0,R.Z)(function*(v){const T=v.get("id");if(f.baseId=T,T)try{f.base=yield f.baseRecipeService.getBaseById(T)}catch(A){console.error("An error occurred while retrieving the recipe:",A)}else console.error("Recipe ID not provided.")});return function(v){return g.apply(this,arguments)}}()),this.authService.userData$.subscribe(g=>{this.userData=g})}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}ngOnInit(){this.getAllergens()}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{const i=(this.base?.allergens||[]).filter(Boolean);t.forEach(u=>{const l=u.id;i.filter(g=>g===l).length>0&&this.allergens.push(u)})},error:t=>{console.error("Error fetching recipes:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(kr),s.Y36(In),s.Y36(Ep),s.Y36(mu),s.Y36(Jd))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-base-recipe"]],decls:27,vars:12,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title-black"],[4,"ngIf"],["class","recipe-image",4,"ngIf"],["class","recipe-description",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["class","recipe-videos",4,"ngIf"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],[3,"click",4,"ngIf"],[1,"divider"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-description"],[1,"recipe-description-text"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],["class","value",4,"ngIf"],["class","key",4,"ngIf"],[3,"routerLink"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"click"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3),s.qZA(),s.YNc(4,bW,9,1,"div",3),s.YNc(5,DW,2,1,"ul",4),s.YNc(6,SW,9,1,"div",5),s.YNc(7,kW,8,1,"div",3),s.YNc(8,LW,8,1,"div",3),s.TgZ(9,"table",6)(10,"tr")(11,"td")(12,"span",7),s._uU(13,"\u0422\u0438\u043f"),s.qZA()(),s.TgZ(14,"td")(15,"span",8),s._uU(16),s.qZA()()(),s.YNc(17,UW,7,1,"tr",3),s.YNc(18,VW,8,2,"tr",3),s.YNc(19,$W,6,1,"tr",3),s.qZA(),s.YNc(20,GW,9,1,"div",9),s._UZ(21,"br"),s.TgZ(22,"a",10),s._UZ(23,"i",11),s._uU(24,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA(),s.YNc(25,zW,2,0,"button",12),s.qZA(),s._UZ(26,"br"),s.qZA()),2&r&&(s.xp6(3),s.Oqu(null==i.base?null:i.base.title),s.xp6(1),s.Q6J("ngIf",null==i.base?null:i.base.summary),s.xp6(1),s.Q6J("ngIf",(null==i.base?null:i.base.image_recipe)&&(null==i.base||null==i.base.image_recipe?null:i.base.image_recipe.length)>0),s.xp6(1),s.Q6J("ngIf",null==i.base?null:i.base.description),s.xp6(1),s.Q6J("ngIf",null==i.base?null:i.base.ingredients),s.xp6(1),s.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),s.xp6(8),s.Oqu(null==i.base?null:i.base.base_type),s.xp6(1),s.Q6J("ngIf",null==i.base?null:i.base.base_recipe_portions),s.xp6(1),s.Q6J("ngIf",null==i.base?null:i.base.base_yield),s.xp6(1),s.Q6J("ngIf",(null==i.base||null==i.base.allergens?null:i.base.allergens.length)>0),s.xp6(1),s.Q6J("ngIf",(null==i.base?null:i.base.video_recipe)&&(null==i.base||null==i.base.video_recipe?null:i.base.video_recipe.length)>0),s.xp6(5),s.Q6J("ngIf",i.userData&&i.userData.isAdmin))},dependencies:[oi,Qn,_i,Z3],styles:[".recipe-container[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;white-space:pre-wrap}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return n})();function KW(n,e){if(1&n&&(s.TgZ(0,"div")(1,"a",5)(2,"div",6)(3,"h3"),s._uU(4),s.qZA()()()()),2&n){const t=e.$implicit,r=s.oxw();s.xp6(1),s.Q6J("routerLink",r.getBaseRecipeLink(t)),s.xp6(3),s.Oqu(t.title)}}let YW=(()=>{class n{constructor(t,r){this.baseRecipeService=t,this.authService=r,this.baseRecipes=[],this.authService.userData$.subscribe(i=>{this.userData=i})}ngOnInit(){this.getBaseRecipes()}getBaseRecipes(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t.sort((r,i)=>r.title.localeCompare(i.title))},error:t=>{console.error("Error fetching categories:",t)}})}getBaseRecipeLink(t){return this.userData?.isCook?["/base",t.id]:["/base-waiters",t.id]}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Ep),s.Y36(mu))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-base-list"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"card"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0411\u0430\u0437\u043e\u0432\u0438 \u0420\u0435\u0446\u0435\u043f\u0442\u0438"),s.qZA(),s.TgZ(4,"div",3),s.YNc(5,KW,5,2,"div",4),s.qZA()()()),2&r&&(s.xp6(5),s.Q6J("ngForOf",i.baseRecipes))},dependencies:[oi,_i],styles:['.recipe-list[_ngcontent-%COMP%]{width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);column-gap:20px}.card[_ngcontent-%COMP%]{border-radius:5px;margin:10px 0;text-align:center;padding:20px;transition:transform .2s;position:relative;background:var(--mainColor);color:var(--mainWhiteColor);display:flex;align-items:center;justify-content:center;cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:scale(.96)}.card[_ngcontent-%COMP%]:before, .card[_ngcontent-%COMP%]:after{position:absolute;content:"";width:20%;height:20%;display:flex;align-items:center;justify-content:center;font-weight:700;background-color:var(--secondColor);transition:all .5s}.card[_ngcontent-%COMP%]:before{top:0;right:0;border-radius:0 15px 0 100%}.card[_ngcontent-%COMP%]:after{bottom:0;left:0;border-radius:0 100% 0 15px}.card[_ngcontent-%COMP%]:hover:before, .card[_ngcontent-%COMP%]:hover:after{width:100%;height:100%;border-radius:5px;transition:all .5s}.card[_ngcontent-%COMP%]:hover:after{content:"\\41f\\43e\\43a\\430\\436\\438"}@media (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}.wrapper[_ngcontent-%COMP%]{padding:0 20px}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);width:100%}}']})}return n})();function QW(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),s.qZA())}function JW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,QW,2,0,"div",35),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseFormEdit.get("title"))||null==r.errors?null:r.errors.required)}}function XW(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),s.qZA())}function eK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,XW,2,0,"div",35),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseFormEdit.get("base_type"))||null==r.errors?null:r.errors.required)}}function tK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),s.qZA())}function nK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,tK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseFormEdit.get("description"))||null==r.errors?null:r.errors.required)}}function rK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),s.qZA())}function iK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,rK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseFormEdit.get("base_yield"))||null==r.errors?null:r.errors.required)}}function sK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function oK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,sK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseFormEdit.get("unit"))||null==r.errors?null:r.errors.required)}}function aK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",37)(1,"input",38),s.NdJ("change",function(){const u=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.toggleAllergenSelection(u.id))}),s.qZA(),s.TgZ(2,"label",39),s._uU(3),s.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=s.oxw();s.xp6(1),s.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),s.xp6(1),s.s9C("for","allergen"+r),s.xp6(1),s.Oqu(t.name)}}function uK(n,e){if(1&n&&s._UZ(0,"img",44),2&n){const t=s.oxw().index,r=s.oxw();let i;s.Q6J("src",null==(i=r.image_recipe.controls[t].get("image_recipe"))?null:i.value,s.LSH)}}function cK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",40)(1,"p",8),s._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s.TgZ(3,"label",41),s._uU(4,"\u0421\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s._UZ(5,"input",42),s.YNc(6,uK,1,1,"img",43),s.TgZ(7,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeImage(u))}),s._uU(8," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i;s.Q6J("formGroupName",t),s.xp6(3),s.Q6J("for","image_recipe"+t),s.xp6(2),s.Q6J("id","image_recipe"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.image_recipe.controls[t].get("image_recipe"))?null:i.value)}}function lK(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"iframe",46),s.ALo(2,"safeUrl"),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("src",s.lcZ(2,1,null==(i=r.video_recipe.controls[t].get("video_recipe"))?null:i.value),s.uOi)}}function dK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",40)(1,"label",41),s._uU(2,"\u0412\u0438\u0434\u0435\u043e"),s.qZA(),s._UZ(3,"input",45),s.YNc(4,lK,3,3,"div",6),s.TgZ(5,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeVideo(u))}),s._uU(6," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","video_recipe"+t),s.xp6(2),s.Q6J("id","video_recipe"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.video_recipe.controls[t].get("video_recipe"))?null:i.value)}}function hK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",40)(1,"label",41),s._uU(2,"\u041c\u0435\u0442\u043e\u0434"),s.qZA(),s._UZ(3,"input",48),s.TgZ(4,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw(2);return s.KtG(l.removePreparation(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),s.qZA()()}if(2&n){const t=e.index;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","method"+t),s.xp6(2),s.Q6J("id","method"+t)}}function fK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",47)(1,"p",8),s._uU(2,"\u041c\u0435\u0442\u043e\u0434\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438:"),s.qZA(),s.YNc(3,hK,6,3,"div",27),s.TgZ(4,"button",29),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addPreparation())}),s._uU(5," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(3),s.Q6J("ngForOf",t.preparation_method.controls)}}function pK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function gK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,pK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function mK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function _K(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,mK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function yK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function vK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,yK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function EK(n,e){if(1&n&&(s.TgZ(0,"option",56),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.title," ")}}function IK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",40)(1,"label",41),s._uU(2,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(3,"input",49),s.YNc(4,gK,2,1,"div",6),s.TgZ(5,"label",41),s._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(7,"input",50),s.YNc(8,_K,2,1,"div",6),s.TgZ(9,"label",41),s._uU(10,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(11,"p",8),s._uU(12,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),s.qZA(),s.TgZ(13,"select",51)(14,"option",18),s._uU(15,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(16,"option",19),s._uU(17,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(18,"option",20),s._uU(19,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(20,"option",21),s._uU(21,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(22,vK,2,1,"div",6),s.TgZ(23,"label",41),s._uU(24,"\u0411\u0440\u043e\u0439\u043a\u0430:"),s.qZA(),s.TgZ(25,"p",8),s._uU(26," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),s.qZA(),s._UZ(27,"input",52),s.TgZ(28,"label",41),s._uU(29,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),s.qZA(),s.TgZ(30,"p",8),s._uU(31," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),s._UZ(32,"br"),s._uU(33," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),s.qZA(),s._UZ(34,"input",48),s.TgZ(35,"label",41),s._uU(36,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),s.qZA(),s.TgZ(37,"p",8),s._uU(38," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),s.qZA(),s.TgZ(39,"select",53),s.YNc(40,EK,2,2,"option",54),s.qZA(),s.TgZ(41,"label",41),s._uU(42,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),s.qZA(),s.TgZ(43,"p",8),s._uU(44,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),s.qZA(),s._UZ(45,"input",55),s.TgZ(46,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeIngredient(u))}),s._uU(47," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i,u,l;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","name"+t),s.xp6(2),s.Q6J("id","name"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".name"))?null:i.touched),s.xp6(1),s.Q6J("for","amount"+t),s.xp6(2),s.Q6J("id","amount"+t),s.xp6(1),s.Q6J("ngIf",null==(u=r.baseFormEdit.get("ingredients."+t+".amount"))?null:u.touched),s.xp6(1),s.Q6J("for","unit"+t),s.xp6(4),s.Q6J("id","unit"+t),s.xp6(9),s.Q6J("ngIf",null==(l=r.baseFormEdit.get("ingredients."+t+".unit"))?null:l.touched),s.xp6(1),s.Q6J("for","quantity"+t),s.xp6(4),s.Q6J("id","quantity"+t),s.xp6(1),s.Q6J("for","preparation_method"+t),s.xp6(6),s.Q6J("id","preparation_method"+t),s.xp6(1),s.Q6J("for","base"+t),s.xp6(4),s.Q6J("id","base"+t),s.xp6(1),s.Q6J("ngForOf",r.baseRecipes),s.xp6(1),s.Q6J("for","order_index"+t),s.xp6(4),s.Q6J("id","order_index"+t)}}let wK=(()=>{class n{constructor(t,r,i,u,l,f){this.route=t,this.router=r,this.fb=i,this.baseRecipeService=u,this.allergenService=l,this.base=null,this.baseId="",this.baseRecipes=[],this.allergens=[],this.firestore=f}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}ngOnInit(){var t=this;return(0,R.Z)(function*(){t.initializeForm(),yield t.loadData(),t.getBaseRecipe(),t.getAllergens()})()}initializeForm(){this.baseFormEdit=this.fb.group({title:["",[Ke.required]],base_type:["",[Ke.required]],description:["",[Ke.required]],base_yield:["",[Ke.required]],unit:["",[Ke.required]],summary:[""],base_recipe_portions:[0],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var t=this;return(0,R.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.get("id");if(t.baseId=u,u)try{t.base=yield t.baseRecipeService.getBaseById(u),t.patchFormWithBaseData()}catch(l){throw console.error("An error occurred while retrieving the recipe:",l),l}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithBaseData(){if(this.base&&this.baseFormEdit){const t=this.baseFormEdit.get("ingredients"),r=this.baseFormEdit.get("image_recipe"),i=this.baseFormEdit.get("video_recipe"),u=this.baseFormEdit.get("preparation_method"),l=this.baseFormEdit.get("allergens");t.clear(),r.clear(),i.clear(),u.clear(),l.clear(),this.base.ingredients.forEach(f=>{t.push(this.fb.group({name:[f.name,[Ke.required]],amount:[f.amount,[Ke.required]],base:[f.base],unit:[f.unit,[Ke.required]],order_index:[f.order_index],preparation_method:[f.preparation_method],quantity:[f.quantity]}))}),this.base.image_recipe&&this.base.image_recipe.length>0&&this.base.image_recipe.forEach(f=>{r.push(this.fb.group({image_recipe:[f.image_recipe]}))}),this.base.video_recipe&&this.base.video_recipe.length>0&&this.base.video_recipe.forEach(f=>{i.push(this.fb.group({video_recipe:[f.video_recipe]}))}),this.base.preparation_method&&this.base.preparation_method.length>0&&this.base.preparation_method.forEach(f=>{u.push(this.fb.group({preparation_method:[f.preparation_method]}))}),this.base.allergens&&this.base.allergens.length>0&&this.base.allergens.forEach(f=>{l.push(this.fb.control(f))}),this.baseFormEdit.patchValue({title:this.base.title,base_type:this.base.base_type,summary:this.base.summary,description:this.base.description,base_yield:this.base.base_yield,unit:this.base.unit,selectedAllergen:this.base.selectedAllergen,selectedAllergenNames:this.base.selectedAllergenNames,base_recipe_portions:this.base.base_recipe_portions})}}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Go(t)):this.added_allergens.removeAt(r)}addIngredient(){this.baseFormEdit.get("ingredients").push(this.fb.group({name:["",[Ke.required]],amount:["",[Ke.required]],base:this.fb.control(""),unit:["",[Ke.required]],order_index:[0],preparation_method:"",quantity:[0]}))}removeIngredient(t){this.baseFormEdit.get("ingredients").removeAt(t)}get ingredients(){return this.baseFormEdit.get("ingredients")}get image_recipe(){return this.baseFormEdit.get("image_recipe")}get video_recipe(){return this.baseFormEdit.get("video_recipe")}get preparation_method(){return this.baseFormEdit.get("preparation_method")}get added_allergens(){return this.baseFormEdit.get("allergens")}onSubmit(){this.baseFormEdit.valid&&(this.addBaseRecipe(this.baseFormEdit.value),this.baseFormEdit.reset())}addPreparation(){this.baseFormEdit.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.baseFormEdit.get("preparation_method").removeAt(t)}addVideo(){this.baseFormEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.baseFormEdit.get("video_recipe").removeAt(t)}removeImage(t){this.baseFormEdit.get("image_recipe").removeAt(t)}addImageToForm(t){this.baseFormEdit.get("image_recipe").push(this.fb.group({image_recipe:t}))}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addBaseRecipe(t){const i=es(this.firestore,"BaseRecipe",this.baseId);E3(i,t),this.router.navigate(["/base",this.baseId])}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(kr),s.Y36(In),s.Y36(Yo),s.Y36(Ep),s.Y36(Jd),s.Y36(Cr))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-base-form-edit"]],decls:75,vars:11,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["id","summary","formControlName","summary"],["for","description"],["rows","10","id","description","formControlName","description"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["type","text","id","base_recipe_portions","formControlName","base_recipe_portions"],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method",4,"ngIf"],[1,"divider"],["formArrayName","ingredients"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["class","errors",4,"ngIf"],[1,"errors"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","formControlName","video_recipe",3,"id"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],["formArrayName","preparation_method"],["type","text","formControlName","preparation_method",3,"id"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["type","number","formControlName","quantity",3,"id"],["formControlName","base",3,"id"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","order_index",3,"id"],[3,"value"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(4,"form",3)(5,"label",4),s._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s._UZ(7,"input",5),s.YNc(8,JW,2,1,"div",6),s.TgZ(9,"label",7),s._uU(10," \u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s.TgZ(11,"p",8),s._uU(12,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),s.qZA(),s._UZ(13,"input",9),s.YNc(14,eK,2,1,"div",6),s.TgZ(15,"label",10),s._uU(16," \u0420\u0435\u0437\u044e\u043c\u0435: "),s.qZA(),s.TgZ(17,"p",8),s._uU(18,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(19,"textarea",11),s.TgZ(20,"label",12),s._uU(21," \u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s._UZ(22,"textarea",13),s.YNc(23,nK,2,1,"div",6),s.TgZ(24,"label",14),s._uU(25," \u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s.TgZ(26,"p",8),s._uU(27,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f"),s.qZA(),s._UZ(28,"input",15),s.YNc(29,iK,2,1,"div",6),s.TgZ(30,"label",16),s._uU(31," \u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s.TgZ(32,"p",8),s._uU(33,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),s.qZA(),s.TgZ(34,"select",17)(35,"option",18),s._uU(36,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(37,"option",19),s._uU(38,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(39,"option",20),s._uU(40,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(41,"option",21),s._uU(42,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(43,oK,2,1,"div",6),s.TgZ(44,"label",16),s._uU(45," \u041f\u043e\u0440\u0446\u0438\u0439: "),s.qZA(),s.TgZ(46,"p",8),s._uU(47,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(48,"input",22),s.TgZ(49,"div",23)(50,"label"),s._uU(51,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),s.qZA(),s.YNc(52,aK,4,5,"div",24),s.qZA(),s.TgZ(53,"app-image-upload",25),s.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),s.qZA(),s.TgZ(54,"div",26),s.YNc(55,cK,9,4,"div",27),s.qZA(),s.TgZ(56,"div",28),s.YNc(57,dK,7,4,"div",27),s.TgZ(58,"button",29),s.NdJ("click",function(){return i.addVideo()}),s._uU(59," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),s.qZA()(),s.YNc(60,fK,6,1,"div",30),s.TgZ(61,"div",31),s._UZ(62,"hr"),s.TgZ(63,"p"),s._uU(64,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),s.qZA(),s._UZ(65,"hr"),s.qZA(),s.TgZ(66,"div",32),s.YNc(67,IK,48,19,"div",27),s.qZA(),s.TgZ(68,"button",29),s.NdJ("click",function(){return i.addIngredient()}),s._uU(69," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),s.qZA(),s.TgZ(70,"button",29),s.NdJ("click",function(){return i.onSubmit()}),s._uU(71,"\u0417\u0430\u043f\u0430\u0437\u0435\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435"),s.qZA(),s.TgZ(72,"a",33),s._UZ(73,"i",34),s._uU(74,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA()()()()),2&r){let u,l,f,g,v;s.xp6(4),s.Q6J("formGroup",i.baseFormEdit),s.xp6(4),s.Q6J("ngIf",null==(u=i.baseFormEdit.get("title"))?null:u.touched),s.xp6(6),s.Q6J("ngIf",null==(l=i.baseFormEdit.get("base_type"))?null:l.touched),s.xp6(9),s.Q6J("ngIf",null==(f=i.baseFormEdit.get("description"))?null:f.touched),s.xp6(6),s.Q6J("ngIf",null==(g=i.baseFormEdit.get("base_yield"))?null:g.touched),s.xp6(14),s.Q6J("ngIf",null==(v=i.baseFormEdit.get("unit"))?null:v.touched),s.xp6(9),s.Q6J("ngForOf",i.allergens),s.xp6(3),s.Q6J("ngForOf",i.image_recipe.controls),s.xp6(2),s.Q6J("ngForOf",i.video_recipe.controls),s.xp6(3),s.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),s.xp6(7),s.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[oi,Qn,Fs,ja,Wo,Hn,Ls,go,lo,ho,Us,Bs,qa,po,tI,Z3]})}return n})();function CK(n,e){1&n&&(s.TgZ(0,"div",14),s._uU(1," \u0418\u043c\u0435\u0439\u043b\u044a\u0442 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u0435\u043d! "),s.qZA())}function TK(n,e){1&n&&(s.TgZ(0,"div",14),s._uU(1," \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b! "),s.qZA())}function bK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,CK,2,0,"div",15),s.YNc(2,TK,2,0,"div",15),s.qZA()),2&n){const t=s.oxw();let r,i;s.xp6(1),s.Q6J("ngIf",null==(r=t.signInForm.get("email"))||null==r.errors?null:r.errors.required),s.xp6(1),s.Q6J("ngIf",null==(i=t.signInForm.get("email"))||null==i.errors?null:i.errors.email)}}function AK(n,e){1&n&&(s.TgZ(0,"div",14),s._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430! "),s.qZA())}function DK(n,e){1&n&&(s.TgZ(0,"div",14),s._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430! "),s.qZA())}function SK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,AK,2,0,"div",15),s.YNc(2,DK,2,0,"div",15),s.qZA()),2&n){const t=s.oxw();let r,i;s.xp6(1),s.Q6J("ngIf",null==(r=t.signInForm.get("password"))||null==r.errors?null:r.errors.required),s.xp6(1),s.Q6J("ngIf",null==(i=t.signInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function xK(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Oqu(t.loginError)}}let MK=(()=>{class n{constructor(t,r){this.authService=t,this.fb=r,this.loginError=null,this.signInForm=this.fb.group({email:["",[Ke.required,Ke.email]],password:["",[Ke.required,Ke.minLength(6)]]})}submitSignInForm(){var t=this;return(0,R.Z)(function*(){if(t.signInForm.valid){const{email:r,password:i}=t.signInForm.value;try{yield t.authService.loginUser(r,i)}catch(u){console.log(u)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(mu),s.Y36(Yo))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-in"]],decls:26,vars:4,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[3,"formGroup","ngSubmit"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit"],["href","#","routerLink","/sign-up"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0412\u0445\u043e\u0434"),s.qZA(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return i.submitSignInForm()}),s.TgZ(5,"div",4)(6,"label",5),s._uU(7,"\u0418\u043c\u0435\u0439\u043b"),s.qZA(),s._UZ(8,"input",6),s.YNc(9,bK,3,2,"div",7),s.qZA(),s.TgZ(10,"div",4)(11,"label",8),s._uU(12,"\u041f\u0430\u0440\u043e\u043b\u0430"),s.qZA(),s._UZ(13,"input",9),s.YNc(14,SK,3,2,"div",7),s.qZA(),s.TgZ(15,"div",4)(16,"button",10),s._uU(17,"\u0412\u043b\u0435\u0437\u0442\u0435"),s.qZA()(),s.YNc(18,xK,2,1,"div",7),s.TgZ(19,"div")(20,"a",11)(21,"div",12),s._uU(22,"\u0412\u0441\u0435 \u043e\u0449\u0435 \u043d\u044f\u043c\u0430\u0442\u0435 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f?"),s.qZA()(),s.TgZ(23,"a",13)(24,"div",14),s._uU(25,"\u0417\u0430\u0431\u0440\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430?"),s.qZA()()()()()()),2&r){let u,l;s.xp6(4),s.Q6J("formGroup",i.signInForm),s.xp6(5),s.Q6J("ngIf",(null==(u=i.signInForm.get("email"))?null:u.invalid)&&(null==(u=i.signInForm.get("email"))?null:u.touched)),s.xp6(5),s.Q6J("ngIf",(null==(l=i.signInForm.get("password"))?null:l.invalid)&&(null==(l=i.signInForm.get("password"))?null:l.touched)),s.xp6(4),s.Q6J("ngIf",i.loginError)}},dependencies:[Qn,Fs,Hn,lo,ho,Us,Bs,_i]})}return n})();function NK(n,e){1&n&&(s.TgZ(0,"div",27),s._uU(1,"\u0418\u043c\u0435\u0439\u043b\u044a\u0442 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u0435\u043d!"),s.qZA())}function RK(n,e){1&n&&(s.TgZ(0,"div",27),s._uU(1,"\u041c\u043e\u043b\u044f \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441!"),s.qZA())}function PK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,NK,2,0,"div",26),s.YNc(2,RK,2,0,"div",26),s.qZA()),2&n){const t=s.oxw();let r,i;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("email"))||null==r.errors?null:r.errors.required),s.xp6(1),s.Q6J("ngIf",null==(i=t.signUpForm.get("email"))||null==i.errors?null:i.errors.email)}}function OK(n,e){1&n&&(s.TgZ(0,"div",27),s._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430!"),s.qZA())}function kK(n,e){1&n&&(s.TgZ(0,"div",27),s._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430!"),s.qZA())}function FK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,OK,2,0,"div",26),s.YNc(2,kK,2,0,"div",26),s.qZA()),2&n){const t=s.oxw();let r,i;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("password"))||null==r.errors?null:r.errors.required),s.xp6(1),s.Q6J("ngIf",null==(i=t.signUpForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function LK(n,e){1&n&&(s.TgZ(0,"div",27),s._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430!"),s.qZA())}function UK(n,e){1&n&&(s.TgZ(0,"div",27),s._uU(1,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430!"),s.qZA())}function BK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,LK,2,0,"div",26),s.YNc(2,UK,2,0,"div",26),s.qZA()),2&n){const t=s.oxw();let r,i;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),s.xp6(1),s.Q6J("ngIf",null==(i=t.signUpForm.get("repeatPassword"))||null==i.errors?null:i.errors.minlength)}}function VK(n,e){1&n&&(s.TgZ(0,"div",27),s._uU(1,"\u0418\u043c\u0435\u0442\u043e \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e!"),s.qZA())}function ZK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,VK,2,0,"div",26),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("firstName"))||null==r.errors?null:r.errors.required)}}function qK(n,e){1&n&&(s.TgZ(0,"div",27),s._uU(1,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430!"),s.qZA())}function jK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,qK,2,0,"div",26),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("lastName"))||null==r.errors?null:r.errors.required)}}function $K(n,e){1&n&&(s.TgZ(0,"div",27),s._uU(1,"\u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0432 \u043a\u043e\u0439 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442 \u0440\u0430\u0431\u043e\u0442\u0438\u0442\u0435!"),s.qZA())}function HK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,$K,2,0,"div",26),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("fromRestaurant"))||null==r.errors?null:r.errors.required)}}let GK=(()=>{class n{constructor(t,r,i){this.authService=t,this.fb=r,this.router=i,this.signUpForm=this.fb.group({email:["",[Ke.required,Ke.email]],password:["",[Ke.required,Ke.minLength(6)]],repeatPassword:["",Ke.required],firstName:["",Ke.required],lastName:["",Ke.required],fromRestaurant:["",Ke.required],isActive:[!0,Ke.required],isAdmin:[!1,Ke.required],isCook:[!0,Ke.required]})}submitSignUpForm(){var t=this;return(0,R.Z)(function*(){if(t.signUpForm.valid){const{email:r,password:i,repeatPassword:u,...l}=t.signUpForm.value;if(i!==u)return void alert("Password do not match!");try{yield t.authService.registerUser(r,i,l)}catch(f){alert(f)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(mu),s.Y36(Yo),s.Y36(In))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-up"]],decls:46,vars:7,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],[1,"form-group"],["for","fromRestaurant"],["id","fromRestaurant","name","fromRestaurant","formControlName","fromRestaurant"],["value","Romance-1"],["value","Romance-2"],["value","Romance-3"],["value","Romance-5"],["type","checkbox","formControlName","isCook"],["type","submit"],["href","#","routerLink","/sign-in"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),s.qZA(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return i.submitSignUpForm()}),s.TgZ(5,"label",4),s._uU(6,"\u0418\u043c\u0435\u0439\u043b:"),s.qZA(),s._UZ(7,"input",5),s.YNc(8,PK,3,2,"div",6),s.TgZ(9,"label",7),s._uU(10,"\u041f\u0430\u0440\u043e\u043b\u0430:"),s.qZA(),s._UZ(11,"input",8),s.YNc(12,FK,3,2,"div",6),s.TgZ(13,"label",9),s._uU(14,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438 \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430:"),s.qZA(),s._UZ(15,"input",10),s.YNc(16,BK,3,2,"div",6),s.TgZ(17,"label",11),s._uU(18,"\u0418\u043c\u0435:"),s.qZA(),s._UZ(19,"input",12),s.YNc(20,ZK,2,1,"div",6),s.TgZ(21,"label",13),s._uU(22,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),s.qZA(),s._UZ(23,"input",14),s.YNc(24,jK,2,1,"div",6),s.TgZ(25,"div",15)(26,"label",16),s._uU(27,"\u041e\u0442 \u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442:"),s.qZA(),s.TgZ(28,"select",17)(29,"option",18),s._uU(30,"Romance 1"),s.qZA(),s.TgZ(31,"option",19),s._uU(32,"Romance 2"),s.qZA(),s.TgZ(33,"option",20),s._uU(34,"Romance 3"),s.qZA(),s.TgZ(35,"option",21),s._uU(36,"Romance 5"),s.qZA()()(),s.YNc(37,HK,2,1,"div",6),s.TgZ(38,"label"),s._uU(39," \u0413\u043e\u0442\u0432\u0430\u0447 \u043b\u0438 \u0441\u0438? "),s._UZ(40,"input",22),s.qZA(),s.TgZ(41,"button",23),s._uU(42,"\u0418\u0437\u043f\u0440\u0430\u0442\u0438"),s.qZA(),s.TgZ(43,"a",24)(44,"div",25),s._uU(45,"\u0412\u0435\u0447\u0435 \u0438\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f?"),s.qZA()()()()()),2&r){let u,l,f,g,v,T;s.xp6(4),s.Q6J("formGroup",i.signUpForm),s.xp6(4),s.Q6J("ngIf",(null==(u=i.signUpForm.get("email"))?null:u.invalid)&&(null==(u=i.signUpForm.get("email"))?null:u.touched)),s.xp6(4),s.Q6J("ngIf",(null==(l=i.signUpForm.get("password"))?null:l.invalid)&&(null==(l=i.signUpForm.get("password"))?null:l.touched)),s.xp6(4),s.Q6J("ngIf",(null==(f=i.signUpForm.get("repeatPassword"))?null:f.invalid)&&(null==(f=i.signUpForm.get("repeatPassword"))?null:f.touched)),s.xp6(4),s.Q6J("ngIf",(null==(g=i.signUpForm.get("firstName"))?null:g.invalid)&&(null==(g=i.signUpForm.get("firstName"))?null:g.touched)),s.xp6(4),s.Q6J("ngIf",(null==(v=i.signUpForm.get("lastName"))?null:v.invalid)&&(null==(v=i.signUpForm.get("lastName"))?null:v.touched)),s.xp6(13),s.Q6J("ngIf",(null==(T=i.signUpForm.get("fromRestaurant"))?null:T.invalid)&&(null==(T=i.signUpForm.get("fromRestaurant"))?null:T.touched))}},dependencies:[Qn,Fs,ja,Wo,Hn,dc,go,lo,ho,Us,Bs,_i]})}return n})(),zK=(()=>{class n{transform(t){return new Date(parseInt(t,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=s.Yjl({name:"timestampFormat",type:n,pure:!0})}return n})();function WK(n,e){1&n&&(s.TgZ(0,"div",4)(1,"span"),s._uU(2,"\u0420\u043e\u043b\u044f:"),s.qZA(),s.TgZ(3,"span"),s._uU(4,"\u0413\u043e\u0442\u0432\u0430\u0447"),s.qZA()())}function KK(n,e){1&n&&(s.TgZ(0,"div",4)(1,"span"),s._uU(2,"\u0420\u043e\u043b\u044f:"),s.qZA(),s.TgZ(3,"span"),s._uU(4,"\u0421\u0435\u0440\u0432\u0438\u0442\u044c\u043e\u0440"),s.qZA()())}let YK=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.authService.userData$.subscribe(t=>{this.user=t})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(mu))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],decls:39,vars:12,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"user-details"],[1,"detail"],["class","detail",4,"ngIf"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0437\u0430 \u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f"),s.qZA(),s.TgZ(4,"div",3)(5,"div",4)(6,"span"),s._uU(7,"\u0418\u043c\u0435\u0439\u043b:"),s.qZA(),s.TgZ(8,"span"),s._uU(9),s.qZA()(),s.TgZ(10,"div",4)(11,"span"),s._uU(12,"\u0418\u043c\u0435:"),s.qZA(),s.TgZ(13,"span"),s._uU(14),s.qZA()(),s.TgZ(15,"div",4)(16,"span"),s._uU(17,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),s.qZA(),s.TgZ(18,"span"),s._uU(19),s.qZA()(),s.TgZ(20,"div",4)(21,"span"),s._uU(22,"\u0412\u0440\u0435\u043c\u0435 \u043d\u0430 \u0421\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435:"),s.qZA(),s.TgZ(23,"span"),s._uU(24),s.ALo(25,"timestampFormat"),s.qZA()(),s.TgZ(26,"div",4)(27,"span"),s._uU(28,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u043e \u0412\u043b\u0438\u0437\u0430\u043d\u0435:"),s.qZA(),s.TgZ(29,"span"),s._uU(30),s.ALo(31,"timestampFormat"),s.qZA()(),s.YNc(32,WK,5,0,"div",5),s.YNc(33,KK,5,0,"div",5),s.TgZ(34,"div",4)(35,"span"),s._uU(36,"\u041e\u0442 \u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442:"),s.qZA(),s.TgZ(37,"span"),s._uU(38),s.qZA()()()()()),2&r&&(s.xp6(9),s.Oqu(i.user.email),s.xp6(5),s.Oqu(i.user.firstName),s.xp6(5),s.Oqu(i.user.lastName),s.xp6(5),s.Oqu(s.lcZ(25,8,i.user.metadata.createdAt)),s.xp6(6),s.Oqu(s.lcZ(31,10,i.user.metadata.lastLoginAt)),s.xp6(2),s.Q6J("ngIf",i.user.isCook),s.xp6(1),s.Q6J("ngIf",!i.user.isCook),s.xp6(5),s.Oqu(i.user.fromRestaurant))},dependencies:[Qn,zK],styles:[".user-details[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--borderColor);border-radius:8px;box-shadow:0 2px 4px #0000001a}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}"]})}return n})();const QK=function(n){return["/category/",n]};function JK(n,e){if(1&n&&(s.TgZ(0,"ul",5)(1,"li",6)(2,"a",7)(3,"div",8)(4,"div",9),s._UZ(5,"img",10),s.qZA(),s.TgZ(6,"h3",11),s._uU(7),s.qZA()()()()()),2&n){const t=e.$implicit;s.xp6(2),s.Q6J("routerLink",s.VKq(3,QK,t.id)),s.xp6(3),s.Q6J("src",t.image,s.LSH),s.xp6(2),s.Oqu(t.name)}}let XK=(()=>{class n{constructor(t){this.categoryService=t,this.categories=[]}ngOnInit(){this.getCategory()}getCategory(){this.categoryService.getCategories().subscribe({next:t=>{this.categories=t.sort((r,i)=>r.order_index-i.order_index).filter(r=>r.is_active)},error:t=>{console.error("Error fetching categories:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(D2))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-categories-list"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"categories-list"],[1,"title-white"],[1,"wrapper"],["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[1,"card-item"],[3,"routerLink"],["tabindex","0",1,"card"],[1,"card-image"],["alt","category.name",3,"src"],[1,"card-title"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"section",1)(2,"h1",2),s._uU(3,"\u041c\u0435\u043d\u044e"),s.qZA(),s.TgZ(4,"section",3),s.YNc(5,JK,8,5,"ul",4),s.qZA()()()),2&r&&(s.xp6(5),s.Q6J("ngForOf",i.categories))},dependencies:[oi,_i],styles:[".categories-list[_ngcontent-%COMP%]{margin:0 auto 50px;max-width:1200px}.category-title[_ngcontent-%COMP%]{color:var(--mainWhiteColor);margin:30px 0;text-align:center;font-size:32px;font-family:var(--titleFont)}.wrapper[_ngcontent-%COMP%]{place-self:center;margin:0 auto 50px 0;display:grid;grid-template-columns:repeat(4,1fr);gap:30px}.cards[_ngcontent-%COMP%]{display:grid;flex-wrap:wrap;list-style:none;margin:0;padding:0;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.card-item[_ngcontent-%COMP%]{display:flex;background-color:var(--backgroundColor)}.card[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:5px 25px 5px 50px;transition:transform .1s linear,box-shadow .2s}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}.card-title[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:90%;height:auto;color:var(--mainWhiteColor);padding:.5rem;border-radius:5px 0 0 5px;transform:rotate(-3.3deg);transform-origin:left top;overflow:hidden;z-index:1;background-color:var(--animatedTitleBackground);animation:0s 0s _ngcontent-%COMP%_fly-in 0 reverse both;font-family:var(--titleFont)}@media (min-width: 535px){.card-title[_ngcontent-%COMP%]{animation:.5s .25s fly-out 1 both}}.card[_ngcontent-%COMP%]:focus   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{animation:.5s ease-in 0s _ngcontent-%COMP%_fly-in 1 both}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 5px -5px #0003}@keyframes _ngcontent-%COMP%_fly-in{0%{top:0;right:0;font-size:1.325rem}25%{top:0;right:-200%;font-size:1.325rem}26%{font-size:2rem}to{top:2rem;right:0;font-size:2rem}}@media (max-width: 460px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:80%}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;display:flex;flex-direction:column}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;grid-template-columns:repeat(3,1fr)}}"]})}return n})();function eY(n,e){if(1&n&&(s.TgZ(0,"div",19),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.hij(" ",null==t.recipe?null:t.recipe.summary," ")}}function tY(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"img",22),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",t.image_recipe,s.LSH)}}function nY(n,e){if(1&n&&(s.TgZ(0,"ul",20),s.YNc(1,tY,2,1,"li",21),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",null==t.recipe?null:t.recipe.image_recipe)}}function rY(n,e){if(1&n&&(s.TgZ(0,"span",11),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("\xa0",null==t.recipe?null:t.recipe.unit,"")}}function iY(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",10),s._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),s.qZA()(),s.TgZ(4,"td")(5,"span",11),s._uU(6),s.YNc(7,rY,2,1,"span",23),s.qZA()()()),2&n){const t=s.oxw();s.xp6(6),s.hij("",null==t.recipe?null:t.recipe.serving_value," "),s.xp6(1),s.Q6J("ngIf",null==t.recipe?null:t.recipe.unit)}}function sY(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",10),s._uU(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),s.qZA()(),s.TgZ(4,"td")(5,"span",11),s._uU(6),s.qZA()()()),2&n){const t=s.oxw();s.xp6(6),s.hij("",null==t.recipe?null:t.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function oY(n,e){1&n&&(s.ynx(0),s._uU(1,","),s.BQk())}function aY(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"span",11),s._uU(2),s.qZA(),s.YNc(3,oY,2,0,"ng-container",12),s.BQk()),2&n){const t=e.$implicit,r=e.last;s.xp6(2),s.Oqu(t.name),s.xp6(1),s.Q6J("ngIf",!r)}}function uY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,aY,4,2,"ng-container",21),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",t.allergens)}}function cY(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",10),s._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),s.qZA()(),s.TgZ(4,"td"),s.YNc(5,uY,2,1,"div",12),s.qZA()()),2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngIf",t.allergens.length>0)}}function lY(n,e){1&n&&(s.TgZ(0,"div",24),s._UZ(1,"hr"),s.TgZ(2,"p"),s._uU(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),s.qZA(),s._UZ(4,"hr"),s.qZA())}function dY(n,e){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.hij("(",t.quantity," \u0431\u0440.)")}}const hY=function(n){return["/base-waiters",n]};function fY(n,e){if(1&n&&(s.TgZ(0,"span",11)(1,"a",5),s._uU(2," \xa0\xa0"),s._UZ(3,"i",27),s._uU(4," \xa0\xa0"),s._UZ(5,"i",28),s._uU(6," \xa0\xa0"),s._UZ(7,"i",29),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.Q6J("routerLink",s.VKq(1,hY,t.base))}}function pY(n,e){if(1&n&&(s.TgZ(0,"span",10)(1,"i"),s._uU(2),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",t.preparation_method,"")}}function gY(n,e){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.YNc(2,dY,2,1,"span",12),s.YNc(3,fY,8,3,"span",23),s._UZ(4,"br")(5,"br"),s.YNc(6,pY,3,1,"span",26),s.qZA()),2&n){const t=s.oxw().$implicit;s.xp6(1),s.hij(" ",t.name," "),s.xp6(1),s.Q6J("ngIf",t.quantity),s.xp6(1),s.Q6J("ngIf",t.base),s.xp6(3),s.Q6J("ngIf",t.preparation_method)}}function mY(n,e){if(1&n&&(s.TgZ(0,"ul",25),s.YNc(1,gY,7,4,"li",12),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",null==t.recipe?null:t.recipe.ingredients)}}function _Y(n,e){1&n&&(s.TgZ(0,"div",24),s._UZ(1,"hr"),s.TgZ(2,"p"),s._uU(3,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),s.qZA(),s._UZ(4,"hr"),s.qZA())}function yY(n,e){if(1&n&&(s.TgZ(0,"ul",30)(1,"li"),s._uU(2),s.qZA()()),2&n){const t=e.$implicit;s.xp6(2),s.Oqu(t.preparation_method)}}function vY(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"app-comment-form",31),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("recipeId",t.recipeId)}}function EY(n,e){1&n&&(s.TgZ(0,"div",24),s._UZ(1,"hr"),s.TgZ(2,"p"),s._uU(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),s.qZA(),s._UZ(4,"hr"),s.qZA())}function IY(n,e){if(1&n&&(s.TgZ(0,"ul")(1,"li"),s._uU(2),s.qZA(),s.TgZ(3,"li"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.ALo(7,"date"),s.qZA()()),2&n){const t=e.$implicit;s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.text),s.xp6(2),s.hij(" ",s.xi3(7,3,t.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function wY(n,e){if(1&n&&(s.TgZ(0,"section",32),s.YNc(1,IY,8,6,"ul",21),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.comments)}}const CY=function(n){return["/category",n]};let TY=(()=>{class n{constructor(t,r,i,u,l){var f=this;this.route=t,this.recipeService=r,this.firestore=i,this.commentService=u,this.allergenService=l,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.allergens=[],this.route.paramMap.subscribe(function(){var g=(0,R.Z)(function*(v){const T=v.get("id");if(f.recipeId=T,T)try{f.recipe=yield f.recipeService.getRecipeById(T),f.comments=yield u.getCommentsForRecipe(T),f.recipe?yield f.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(A){console.error("An error occurred while retrieving the recipe:",A)}else console.error("Recipe ID not provided.")});return function(v){return g.apply(this,arguments)}}()),u.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}ngOnInit(){this.getAllergens()}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var t=this;return(0,R.Z)(function*(){t.recipeId&&(t.comments=yield t.commentService.getCommentsForRecipe(t.recipeId))})()}loadCategoryAndPlateData(){var t=this;return(0,R.Z)(function*(){const r=t.recipe?.food_plate,i=t.recipe?.category;if(r){const u=es(t.firestore,"Plates/"+r),l=yield Zc(u);l.exists()&&(t.plate=l.data())}if(i){const u=es(t.firestore,"Category/"+i),l=yield Zc(u);l.exists()&&(t.category=l.data())}})()}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{const i=(this.recipe?.allergens||[]).filter(Boolean);t.forEach(u=>{const l=u.id;i.filter(g=>g===l).length>0&&this.allergens.push(u)})},error:t=>{console.error("Error fetching recipes:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(kr),s.Y36(S2),s.Y36(Cr),s.Y36(V3),s.Y36(Jd))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-recipe-waiters"]],decls:43,vars:19,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],[4,"ngIf"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[3,"click"],["href","javascript:history.back()",1,"btn"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"divider"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],[1,"recipe-preparation-method"],[3,"recipeId"],[1,"comments"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3),s.qZA(),s.YNc(4,eY,2,1,"div",3),s.TgZ(5,"div",4)(6,"a",5),s._UZ(7,"i",6),s._uU(8),s.qZA()(),s.TgZ(9,"div",7),s.YNc(10,nY,2,1,"ul",8),s.TgZ(11,"table",9)(12,"tr")(13,"td")(14,"span",10),s._uU(15,"\u0421\u0435\u0437\u043e\u043d"),s.qZA()(),s.TgZ(16,"td")(17,"span",11),s._uU(18),s.qZA()()(),s.YNc(19,iY,8,2,"tr",12),s.YNc(20,sY,7,1,"tr",12),s.TgZ(21,"tr")(22,"td")(23,"span",10),s._uU(24,"\u0427\u0438\u043d\u0438\u044f"),s.qZA()(),s.TgZ(25,"td")(26,"span",11),s._uU(27),s.qZA()()(),s.YNc(28,cY,6,1,"tr",12),s.qZA(),s.YNc(29,lY,5,0,"div",13),s._UZ(30,"br"),s.YNc(31,mY,2,1,"ul",14),s.YNc(32,_Y,5,0,"div",13),s._UZ(33,"br"),s.YNc(34,yY,3,1,"ul",15),s.TgZ(35,"button",16),s.NdJ("click",function(){return i.toggleCommentForm()}),s._uU(36,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),s.qZA(),s.TgZ(37,"a",17),s._UZ(38,"i",6),s._uU(39,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA(),s.YNc(40,vY,2,1,"div",12),s.YNc(41,EY,5,0,"div",13),s.YNc(42,wY,2,1,"section",18),s.qZA()()()),2&r&&(s.xp6(3),s.Oqu(null==i.recipe?null:i.recipe.title),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.summary),s.xp6(2),s.Q6J("routerLink",s.VKq(17,CY,null==i.recipe?null:i.recipe.category)),s.xp6(2),s.hij(" ",null==i.category?null:i.category.name," "),s.xp6(2),s.Q6J("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),s.xp6(8),s.Oqu(null==i.recipe?null:i.recipe.season),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.serving_value),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.release_time),s.xp6(7),s.Oqu(null==i.plate?null:i.plate.name),s.xp6(1),s.Q6J("ngIf",(null==i.recipe||null==i.recipe.allergens?null:i.recipe.allergens.length)>0),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.ingredients),s.xp6(2),s.Q6J("ngForOf",null==i.recipe?null:i.recipe.ingredients),s.xp6(1),s.Q6J("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),s.xp6(2),s.Q6J("ngForOf",null==i.recipe?null:i.recipe.preparation_method),s.xp6(6),s.Q6J("ngIf",i.showCommentForm),s.xp6(1),s.Q6J("ngIf",i.comments.length>0),s.xp6(1),s.Q6J("ngIf",i.comments.length>0))},dependencies:[oi,Qn,_i,xV,tl],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}"]})}return n})();function bY(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",9),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"div",10),s._uU(8),s.qZA()()),2&n){const t=s.oxw();s.xp6(8),s.Oqu(null==t.base?null:t.base.summary)}}function AY(n,e){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.hij("(",t.quantity," \u0431\u0440.)")}}const DY=function(n){return["/base-waiters",n]};function SY(n,e){if(1&n&&(s.TgZ(0,"span",6)(1,"a",15),s._uU(2," \xa0\xa0"),s._UZ(3,"i",16),s._uU(4," \xa0\xa0"),s._UZ(5,"i",17),s._uU(6," \xa0\xa0"),s._UZ(7,"i",18),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.Q6J("routerLink",s.VKq(1,DY,t.base))}}function xY(n,e){if(1&n&&(s.TgZ(0,"span",5)(1,"i"),s._uU(2),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",t.preparation_method,"")}}function MY(n,e){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.YNc(2,AY,2,1,"span",3),s.YNc(3,SY,8,3,"span",13),s._UZ(4,"br"),s.YNc(5,xY,3,1,"span",14),s.qZA()),2&n){const t=s.oxw().$implicit;s.xp6(1),s.hij(" ",t.name," "),s.xp6(1),s.Q6J("ngIf",t.quantity),s.xp6(1),s.Q6J("ngIf",t.base),s.xp6(2),s.Q6J("ngIf",t.preparation_method)}}function NY(n,e){if(1&n&&(s.TgZ(0,"ul",12),s.YNc(1,MY,6,4,"li",3),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==t.base?null:t.base.ingredients)}}function RY(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",9),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.YNc(7,NY,2,1,"ul",11),s.qZA()),2&n){const t=s.oxw();s.xp6(7),s.Q6J("ngForOf",null==t.base?null:t.base.ingredients)}}function PY(n,e){if(1&n&&(s.TgZ(0,"ul",20)(1,"li"),s._uU(2),s.qZA()()),2&n){const t=e.$implicit;s.xp6(2),s.Oqu(t.preparation_method)}}function OY(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",9),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.YNc(7,PY,3,1,"ul",19),s.qZA()),2&n){const t=s.oxw();s.xp6(7),s.Q6J("ngForOf",null==t.base?null:t.base.preparation_method)}}function kY(n,e){1&n&&(s.ynx(0),s._uU(1,","),s.BQk())}function FY(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"span",6),s._uU(2),s.qZA(),s.YNc(3,kY,2,0,"ng-container",3),s.BQk()),2&n){const t=e.$implicit,r=e.last;s.xp6(2),s.Oqu(t.name),s.xp6(1),s.Q6J("ngIf",!r)}}function LY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,FY,4,2,"ng-container",21),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",t.allergens)}}function UY(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",5),s._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),s.qZA()(),s.TgZ(4,"td"),s.YNc(5,LY,2,1,"div",3),s.qZA()()),2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngIf",t.allergens.length>0)}}let BY=(()=>{class n{constructor(t,r,i,u){var l=this;this.route=t,this.router=r,this.baseRecipeService=i,this.allergenService=u,this.base=null,this.baseId="",this.allergens=[],this.route.paramMap.subscribe(function(){var f=(0,R.Z)(function*(g){const v=g.get("id");if(l.baseId=v,v)try{l.base=yield l.baseRecipeService.getBaseById(v)}catch(T){console.error("An error occurred while retrieving the recipe:",T)}else console.error("Recipe ID not provided.")});return function(g){return f.apply(this,arguments)}}())}ngOnInit(){this.getAllergens()}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{const i=(this.base?.allergens||[]).filter(Boolean);t.forEach(u=>{const l=u.id;i.filter(g=>g===l).length>0&&this.allergens.push(u)})},error:t=>{console.error("Error fetching recipes:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(kr),s.Y36(In),s.Y36(Ep),s.Y36(Jd))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-base-recipe-waiters"]],decls:21,vars:6,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title-black"],[4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"divider"],[1,"recipe-summary"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],["class","value",4,"ngIf"],["class","key",4,"ngIf"],[3,"routerLink"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-preparation-method"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3),s.qZA(),s.YNc(4,bY,9,1,"div",3),s.YNc(5,RY,8,1,"div",3),s.YNc(6,OY,8,1,"div",3),s.TgZ(7,"table",4)(8,"tr")(9,"td")(10,"span",5),s._uU(11,"\u0422\u0438\u043f"),s.qZA()(),s.TgZ(12,"td")(13,"span",6),s._uU(14),s.qZA()()(),s.YNc(15,UY,6,1,"tr",3),s.qZA(),s._UZ(16,"br"),s.TgZ(17,"a",7),s._UZ(18,"i",8),s._uU(19,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA()(),s._UZ(20,"br"),s.qZA()),2&r&&(s.xp6(3),s.Oqu(null==i.base?null:i.base.title),s.xp6(1),s.Q6J("ngIf",null==i.base?null:i.base.summary),s.xp6(1),s.Q6J("ngIf",null==i.base?null:i.base.ingredients),s.xp6(1),s.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),s.xp6(8),s.Oqu(null==i.base?null:i.base.base_type),s.xp6(1),s.Q6J("ngIf",(null==i.base||null==i.base.allergens?null:i.base.allergens.length)>0))},dependencies:[oi,Qn,_i],styles:[".recipe-container[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return n})(),VY=(()=>{class n{constructor(t){this.authService=t}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(mu))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","\u0418\u043c\u0435\u0439\u043b \u0410\u0434\u0440\u0435\u0441","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u0438\u043c\u0435\u0439\u043b",1,"btn",3,"click"],["href","#","routerLink","/sign-in"],[1,"btn"]],template:function(r,i){if(1&r){const u=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),s._uU(3,"\u0417\u0430\u0431\u0440\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"),s.qZA(),s.TgZ(4,"p",3),s._uU(5," \u041c\u043e\u043b\u044f, \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441, \u0437\u0430 \u0434\u0430 \u0438\u0437\u043f\u0440\u0430\u0442\u0438\u043c \u0438\u043c\u0435\u0439\u043b \u0437\u0430 \u0441\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430. "),s.qZA(),s.TgZ(6,"div",4),s._UZ(7,"input",5,6),s.qZA(),s.TgZ(9,"p",7),s._uU(10,"\u0410\u043a\u043e \u043d\u0435 \u043d\u0430\u043c\u0438\u0440\u0430\u0442\u0435 \u0438\u043c\u0435\u0439\u043b\u044a\u0442 \u043c\u043e\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u0442\u0435 \u0432 \u0441\u043f\u0430\u043c \u043f\u0430\u043f\u043a\u0430\u0442\u0430!"),s.qZA(),s._UZ(11,"br"),s.TgZ(12,"div",8)(13,"input",9),s.NdJ("click",function(){s.CHM(u);const f=s.MAs(8);return s.KtG(i.authService.forgotPassword(f.value))}),s.qZA(),s.TgZ(14,"a",10)(15,"div",11),s._uU(16,"\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043a\u044a\u043c \u0412\u0445\u043e\u0434"),s.qZA()()()()()}},dependencies:[_i],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]})}return n})();function ZY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),s.qZA())}function qY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,ZY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("title"))||null==r.errors?null:r.errors.required)}}function jY(n,e){if(1&n&&(s.TgZ(0,"option",49),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.name," ")}}function $Y(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),s.qZA())}function HY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,$Y,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("category"))||null==r.errors?null:r.errors.required)}}function GY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),s.qZA())}function zY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,GY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("description"))||null==r.errors?null:r.errors.required)}}function WY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0435\u0437\u043e\u043d! "),s.qZA())}function KY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,WY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("season"))||null==r.errors?null:r.errors.required)}}function YY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function QY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,YY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("unit"))||null==r.errors?null:r.errors.required)}}function JY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",50)(1,"input",51),s.NdJ("change",function(){const u=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.toggleAllergenSelection(u.id))}),s.qZA(),s.TgZ(2,"label",52),s._uU(3),s.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=s.oxw();s.xp6(1),s.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),s.xp6(1),s.s9C("for","allergen"+r),s.xp6(1),s.Oqu(t.name)}}function XY(n,e){if(1&n&&s._UZ(0,"img",57),2&n){const t=s.oxw().index,r=s.oxw();let i;s.Q6J("src",null==(i=r.image_recipe.controls[t].get("image_recipe"))?null:i.value,s.LSH)}}function eQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",53)(1,"p",8),s._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s.TgZ(3,"label",54),s._uU(4,"\u0421\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s._UZ(5,"input",55),s.YNc(6,XY,1,1,"img",56),s.TgZ(7,"button",37),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeImage(u))}),s._uU(8," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i;s.Q6J("formGroupName",t),s.xp6(3),s.Q6J("for","image_recipe"+t),s.xp6(2),s.Q6J("id","image_recipe"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.image_recipe.controls[t].get("image_recipe"))?null:i.value)}}function tQ(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"iframe",59),s.ALo(2,"safeUrl"),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("src",s.lcZ(2,1,null==(i=r.video_recipe.controls[t].get("video_recipe"))?null:i.value),s.uOi)}}function nQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",53)(1,"label",54),s._uU(2,"\u0412\u0438\u0434\u0435\u043e"),s.qZA(),s._UZ(3,"input",58),s.YNc(4,tQ,3,3,"div",6),s.TgZ(5,"button",37),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeVideo(u))}),s._uU(6," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","video_recipe"+t),s.xp6(2),s.Q6J("id","video_recipe"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.video_recipe.controls[t].get("video_recipe"))?null:i.value)}}function rQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",53)(1,"label",54),s._uU(2,"\u041c\u0435\u0442\u043e\u0434"),s.qZA(),s._UZ(3,"input",61),s.TgZ(4,"button",37),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw(2);return s.KtG(l.removePreparation(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),s.qZA()()}if(2&n){const t=e.index;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","method"+t),s.xp6(2),s.Q6J("id","method"+t)}}function iQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",60)(1,"p",8),s._uU(2,"\u041c\u0435\u0442\u043e\u0434\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438:"),s.qZA(),s.YNc(3,rQ,6,3,"div",35),s.TgZ(4,"button",37),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addPreparation())}),s._uU(5," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(3),s.Q6J("ngForOf",t.preparation_method.controls)}}function sQ(n,e){if(1&n&&(s.TgZ(0,"option",49),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.name," ")}}function oQ(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0447\u0438\u043d\u0438\u044f! "),s.qZA())}function aQ(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,oQ,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("food_plate"))||null==r.errors?null:r.errors.required)}}function uQ(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function cQ(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,uQ,2,0,"div",47),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeFormEdit.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function lQ(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function dQ(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,lQ,2,0,"div",47),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeFormEdit.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function hQ(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function fQ(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,hQ,2,0,"div",47),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeFormEdit.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function pQ(n,e){if(1&n&&(s.TgZ(0,"option",49),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.title," ")}}function gQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",53)(1,"label",54),s._uU(2,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(3,"input",62),s.YNc(4,cQ,2,1,"div",6),s.TgZ(5,"label",54),s._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(7,"input",63),s.YNc(8,dQ,2,1,"div",6),s.TgZ(9,"label",54),s._uU(10,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(11,"p",8),s._uU(12,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),s.qZA(),s.TgZ(13,"select",64)(14,"option",27),s._uU(15,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(16,"option",28),s._uU(17,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(18,"option",29),s._uU(19,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(20,"option",30),s._uU(21,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(22,fQ,2,1,"div",6),s.TgZ(23,"label",54),s._uU(24,"\u0411\u0440\u043e\u0439\u043a\u0430:"),s.qZA(),s.TgZ(25,"p",8),s._uU(26," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),s.qZA(),s._UZ(27,"input",65),s.TgZ(28,"label",54),s._uU(29,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),s.qZA(),s.TgZ(30,"p",8),s._uU(31," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),s._UZ(32,"br"),s._uU(33," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),s.qZA(),s._UZ(34,"input",61),s.TgZ(35,"label",54),s._uU(36,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),s.qZA(),s.TgZ(37,"p",8),s._uU(38," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),s.qZA(),s.TgZ(39,"select",66),s.YNc(40,pQ,2,2,"option",10),s.qZA(),s.TgZ(41,"label",54),s._uU(42,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),s.qZA(),s.TgZ(43,"p",8),s._uU(44,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),s.qZA(),s._UZ(45,"input",67),s.TgZ(46,"button",37),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeIngredient(u))}),s._uU(47," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i,u,l;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","name"+t),s.xp6(2),s.Q6J("id","name"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeFormEdit.get("ingredients."+t+".name"))?null:i.touched),s.xp6(1),s.Q6J("for","amount"+t),s.xp6(2),s.Q6J("id","amount"+t),s.xp6(1),s.Q6J("ngIf",null==(u=r.recipeFormEdit.get("ingredients."+t+".amount"))?null:u.touched),s.xp6(1),s.Q6J("for","unit"+t),s.xp6(4),s.Q6J("id","unit"+t),s.xp6(9),s.Q6J("ngIf",null==(l=r.recipeFormEdit.get("ingredients."+t+".unit"))?null:l.touched),s.xp6(1),s.Q6J("for","quantity"+t),s.xp6(4),s.Q6J("id","quantity"+t),s.xp6(1),s.Q6J("for","preparation_method"+t),s.xp6(6),s.Q6J("id","preparation_method"+t),s.xp6(1),s.Q6J("for","base"+t),s.xp6(4),s.Q6J("id","base"+t),s.xp6(1),s.Q6J("ngForOf",r.baseRecipes),s.xp6(1),s.Q6J("for","order_index"+t),s.xp6(4),s.Q6J("id","order_index"+t)}}let mQ=(()=>{class n{constructor(t,r,i,u,l,f,g,v,T){this.route=t,this.router=r,this.fb=i,this.recipeService=u,this.baseRecipeService=l,this.allergenService=f,this.categoryService=g,this.plateService=v,this.recipe=null,this.recipeId="",this.baseRecipes=[],this.categories=[],this.plates=[],this.allergens=[],this.firestore=T}ngOnInit(){var t=this;return(0,R.Z)(function*(){t.initializeForm(),yield t.loadData(),t.getBaseRecipe(),t.getAllergens(),t.getCategories(),t.getPlates()})()}initializeForm(){this.recipeFormEdit=this.fb.group({title:["",[Ke.required]],description:["",[Ke.required]],unit:["",[Ke.required]],summary:[""],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),season:["",[Ke.required]],release_time:[0],serving_value:[0],order_index:[0],category:["",[Ke.required]],food_plate:["",[Ke.required]],ingredients:this.fb.array([])})}loadData(){var t=this;return(0,R.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.get("id");if(t.recipeId=u,u)try{t.recipe=yield t.recipeService.getRecipeById(u),t.patchFormWithRecipeData()}catch(l){throw console.error("An error occurred while retrieving the recipe:",l),l}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithRecipeData(){if(this.recipe&&this.recipeFormEdit){const t=this.recipeFormEdit.get("ingredients"),r=this.recipeFormEdit.get("image_recipe"),i=this.recipeFormEdit.get("video_recipe"),u=this.recipeFormEdit.get("preparation_method"),l=this.recipeFormEdit.get("allergens");t.clear(),r.clear(),i.clear(),u.clear(),l.clear(),this.recipe.ingredients.forEach(f=>{t.push(this.fb.group({name:[f.name,[Ke.required]],amount:[f.amount,[Ke.required]],base:[f.base],unit:[f.unit,[Ke.required]],order_index:[f.order_index],preparation_method:[f.preparation_method],quantity:[f.quantity]}))}),this.recipe.image_recipe&&this.recipe.image_recipe.length>0&&this.recipe.image_recipe.forEach(f=>{r.push(this.fb.group({image_recipe:[f.image_recipe]}))}),this.recipe.video_recipe&&this.recipe.video_recipe.length>0&&this.recipe.video_recipe.forEach(f=>{i.push(this.fb.group({video_recipe:[f.video_recipe]}))}),this.recipe.preparation_method&&this.recipe.preparation_method.length>0&&this.recipe.preparation_method.forEach(f=>{u.push(this.fb.group({preparation_method:[f.preparation_method]}))}),this.recipe.allergens&&this.recipe.allergens.length>0&&this.recipe.allergens.forEach(f=>{l.push(this.fb.control(f))}),this.recipeFormEdit.patchValue({title:this.recipe.title,season:this.recipe.season,summary:this.recipe.summary,description:this.recipe.description,category:this.recipe.category,food_plate:this.recipe.food_plate,unit:this.recipe.unit,release_time:this.recipe.release_time,serving_value:this.recipe.serving_value,order_index:this.recipe.order_index})}}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Go(t)):this.added_allergens.removeAt(r)}addIngredient(){this.recipeFormEdit.get("ingredients").push(this.fb.group({name:["",[Ke.required]],amount:["",[Ke.required]],base:this.fb.control(""),unit:["",[Ke.required]],order_index:[0],preparation_method:"",quantity:[0]}))}removeIngredient(t){this.recipeFormEdit.get("ingredients").removeAt(t)}get ingredients(){return this.recipeFormEdit.get("ingredients")}get image_recipe(){return this.recipeFormEdit.get("image_recipe")}get video_recipe(){return this.recipeFormEdit.get("video_recipe")}get preparation_method(){return this.recipeFormEdit.get("preparation_method")}get added_allergens(){return this.recipeFormEdit.get("allergens")}onSubmit(){this.recipeFormEdit.valid?(this.addRecipe(this.recipeFormEdit.value),this.recipeFormEdit.reset()):console.log("form invalid")}addPreparation(){this.recipeFormEdit.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.recipeFormEdit.get("preparation_method").removeAt(t)}addVideo(){this.recipeFormEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.recipeFormEdit.get("video_recipe").removeAt(t)}removeImage(t){this.recipeFormEdit.get("image_recipe").removeAt(t)}addImageToForm(t){this.recipeFormEdit.get("image_recipe").push(this.fb.group({image_recipe:t}))}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}getCategories(){this.categoryService.getCategories().subscribe({next:t=>{this.categories=t},error:t=>{console.error("Error fetching categories:",t)}})}getPlates(){this.plateService.getPlates().subscribe({next:t=>{this.plates=t},error:t=>{console.error("Error fetching plates:",t)}})}addRecipe(t){const i=es(this.firestore,"Recipe",this.recipeId);E3(i,t),this.router.navigate(["/recipe",this.recipeId])}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(kr),s.Y36(In),s.Y36(Yo),s.Y36(S2),s.Y36(Ep),s.Y36(Jd),s.Y36(D2),s.Y36(SV),s.Y36(Cr))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-recipe-form-edit"]],decls:101,vars:14,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","category"],[1,"hint"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","summary"],["rows","10","id","summary","formControlName","summary"],["for","description"],["rows","10","id","description","formControlName","description"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method",4,"ngIf"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["for","order_index"],["type","text","id","order_index","formControlName","order_index"],[1,"divider"],["formArrayName","ingredients"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","formControlName","video_recipe",3,"id"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],["formArrayName","preparation_method"],["type","text","formControlName","preparation_method",3,"id"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["type","number","formControlName","quantity",3,"id"],["formControlName","base",3,"id"],["type","number","formControlName","order_index",3,"id"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(4,"form",3)(5,"label",4),s._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s._UZ(7,"input",5),s.YNc(8,qY,2,1,"div",6),s.TgZ(9,"label",7),s._uU(10,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(11,"p",8),s._uU(12,"\u041a\u044a\u043c \u043a\u043e\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043f\u0440\u0435\u043d\u0430\u0434\u043b\u0435\u0436\u0438 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s.TgZ(13,"select",9),s.YNc(14,jY,2,2,"option",10),s.qZA(),s.YNc(15,HY,2,1,"div",6),s.TgZ(16,"label",11),s._uU(17," \u0420\u0435\u0437\u044e\u043c\u0435: "),s.qZA(),s.TgZ(18,"p",8),s._uU(19,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(20,"textarea",12),s.TgZ(21,"label",13),s._uU(22," \u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s._UZ(23,"textarea",14),s.YNc(24,zY,2,1,"div",6),s.TgZ(25,"label",15),s._uU(26,"\u0421\u0435\u0437\u043e\u043d (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(27,"p",8),s._uU(28,"\u0412 \u043a\u043e\u0439 \u0441\u0435\u0437\u043e\u043d \u0449\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s.TgZ(29,"select",16)(30,"option",17),s._uU(31,"\u041f\u0440\u043e\u043b\u0435\u0442"),s.qZA(),s.TgZ(32,"option",18),s._uU(33,"\u041b\u044f\u0442\u043e"),s.qZA(),s.TgZ(34,"option",19),s._uU(35,"\u0415\u0441\u0435\u043d"),s.qZA(),s.TgZ(36,"option",20),s._uU(37,"\u0417\u0438\u043c\u0430"),s.qZA()(),s.YNc(38,KY,2,1,"div",6),s.TgZ(39,"label",21),s._uU(40,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435: "),s.qZA(),s.TgZ(41,"p",8),s._uU(42,"\u0417\u0430 \u043a\u043e\u043b\u043a\u043e \u0432\u0440\u0435\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s._UZ(43,"input",22),s.TgZ(44,"label",23),s._uU(45,"\u0413\u043e\u0442\u043e\u0432\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: "),s.qZA(),s.TgZ(46,"p",8),s._uU(47,"\u041a\u043e\u043b\u043a\u043e \u0442\u0435\u0436\u0438 \u0433\u043e\u0442\u043e\u0432\u043e\u0442\u043e \u044f\u0441\u0442\u0438\u0435?"),s.qZA(),s._UZ(48,"input",24),s.TgZ(49,"label",25),s._uU(50," \u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s.TgZ(51,"p",8),s._uU(52,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),s.qZA(),s.TgZ(53,"select",26)(54,"option",27),s._uU(55,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(56,"option",28),s._uU(57,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(58,"option",29),s._uU(59,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(60,"option",30),s._uU(61,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(62,QY,2,1,"div",6),s.TgZ(63,"div",31)(64,"label"),s._uU(65,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),s.qZA(),s.YNc(66,JY,4,5,"div",32),s.qZA(),s.TgZ(67,"app-image-upload",33),s.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),s.qZA(),s.TgZ(68,"div",34),s.YNc(69,eQ,9,4,"div",35),s.qZA(),s.TgZ(70,"div",36),s.YNc(71,nQ,7,4,"div",35),s.TgZ(72,"button",37),s.NdJ("click",function(){return i.addVideo()}),s._uU(73," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),s.qZA()(),s.YNc(74,iQ,6,1,"div",38),s.TgZ(75,"label",39),s._uU(76,"\u0427\u0438\u043d\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(77,"p",8),s._uU(78,"\u0412 \u043a\u043e\u044f \u0447\u0438\u043d\u0438\u044f \u0449\u0435 \u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0440\u0430 \u044f\u0441\u0442\u0438\u0435\u0442\u043e?"),s.qZA(),s.TgZ(79,"select",40),s.YNc(80,sQ,2,2,"option",10),s.qZA(),s.YNc(81,aQ,2,1,"div",6),s.TgZ(82,"label",41),s._uU(83,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),s.qZA(),s.TgZ(84,"p",8),s._uU(85,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u0438\u0442\u0435 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),s.qZA(),s._UZ(86,"input",42),s.TgZ(87,"div",43),s._UZ(88,"hr"),s.TgZ(89,"p"),s._uU(90,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),s.qZA(),s._UZ(91,"hr"),s.qZA(),s.TgZ(92,"div",44),s.YNc(93,gQ,48,19,"div",35),s.qZA(),s.TgZ(94,"button",37),s.NdJ("click",function(){return i.addIngredient()}),s._uU(95," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),s.qZA(),s.TgZ(96,"button",37),s.NdJ("click",function(){return i.onSubmit()}),s._uU(97,"\u0417\u0430\u043f\u0430\u0437\u0435\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435"),s.qZA(),s.TgZ(98,"a",45),s._UZ(99,"i",46),s._uU(100,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA()()()()),2&r){let u,l,f,g,v,T;s.xp6(4),s.Q6J("formGroup",i.recipeFormEdit),s.xp6(4),s.Q6J("ngIf",null==(u=i.recipeFormEdit.get("title"))?null:u.touched),s.xp6(6),s.Q6J("ngForOf",i.categories),s.xp6(1),s.Q6J("ngIf",null==(l=i.recipeFormEdit.get("category"))?null:l.touched),s.xp6(9),s.Q6J("ngIf",null==(f=i.recipeFormEdit.get("description"))?null:f.touched),s.xp6(14),s.Q6J("ngIf",null==(g=i.recipeFormEdit.get("season"))?null:g.touched),s.xp6(24),s.Q6J("ngIf",null==(v=i.recipeFormEdit.get("unit"))?null:v.touched),s.xp6(4),s.Q6J("ngForOf",i.allergens),s.xp6(3),s.Q6J("ngForOf",i.image_recipe.controls),s.xp6(2),s.Q6J("ngForOf",i.video_recipe.controls),s.xp6(3),s.Q6J("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),s.xp6(6),s.Q6J("ngForOf",i.plates),s.xp6(1),s.Q6J("ngIf",null==(T=i.recipeFormEdit.get("food_plate"))?null:T.touched),s.xp6(12),s.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[oi,Qn,Fs,ja,Wo,Hn,Ls,go,lo,ho,Us,Bs,qa,po,tI,Z3]})}return n})();function _Q(n,e){1&n&&(s.TgZ(0,"div",9),s._uU(1," \u041c\u043e\u043b\u044f \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440! "),s.qZA())}function yQ(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,_Q,2,0,"div",8),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.commentFormEdit.get("text"))||null==r.errors?null:r.errors.required)}}const vQ=[{path:"",redirectTo:"/categories",pathMatch:"full"},{path:"categories",component:XK},{path:"recipe-waiters/:id",component:TY},{path:"add-category",component:Y8},{path:"add-recipe",component:w9},{path:"add-base",component:TW},{path:"base/:id",component:WW},{path:"base-waiters/:id",component:BY},{path:"base",component:YW},{path:"category/:id",component:Kz},{path:"recipe/:id",component:tW},{path:"base-edit/:id",component:wK},{path:"recipe-edit/:id",component:mQ},{path:"comment-edit/:id",component:(()=>{class n{constructor(t,r,i,u,l){this.route=t,this.commentService=r,this.fb=i,this.router=u,this.comment=null,this.commentId="",this.firestore=l}ngOnInit(){var t=this;return(0,R.Z)(function*(){t.initializeForm(),yield t.loadData()})()}loadData(){var t=this;return(0,R.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.get("id");if(t.commentId=u,u)try{t.comment=yield t.commentService.getCommentById(u),t.patchFormWithCommentData()}catch(l){throw console.error("An error occurred while retrieving the comment:",l),l}else console.error("Comment ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}initializeForm(){this.commentFormEdit=this.fb.group({name:[""],text:["",Ke.required],recipeId:[""],create_time:[""],uid:[""]})}patchFormWithCommentData(){this.commentFormEdit.patchValue({name:this.comment?.name,text:this.comment?.text,recipeId:this.comment?.recipeId,create_time:this.comment?.create_time,uid:this.comment?.uid,id:this.comment?.id})}onSubmit(){this.commentFormEdit.valid?(this.editComment(this.commentFormEdit.value),this.commentFormEdit.reset()):console.log("form invalid")}editComment(t){const i=es(this.firestore,"Comments",this.commentId);E3(i,t),this.router.navigate(["/recipe",this.comment?.recipeId])}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(kr),s.Y36(V3),s.Y36(Yo),s.Y36(In),s.Y36(Cr))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-comment-form-edit"]],decls:14,vars:2,consts:[[1,"commentWrapper"],["id","commentFormEdit",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"form",1),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(2,"div",2),s._UZ(3,"hr"),s.TgZ(4,"p"),s._uU(5,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0439\u0442\u0435\xa0\xa0"),s.qZA(),s._UZ(6,"hr"),s.qZA(),s.TgZ(7,"div",3)(8,"label",4),s._uU(9,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(10,"textarea",5),s.qZA(),s.YNc(11,yQ,2,1,"div",6),s.TgZ(12,"button",7),s._uU(13,"\u041f\u0443\u0431\u043b\u0438\u043a\u0443\u0432\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"),s.qZA()()()),2&r){let u;s.xp6(1),s.Q6J("formGroup",i.commentFormEdit),s.xp6(10),s.Q6J("ngIf",null==(u=i.commentFormEdit.get("text"))?null:u.touched)}},dependencies:[Qn,Fs,Hn,lo,ho,Us,Bs]})}return n})()},{path:"sign-in",component:MK},{path:"sign-up",component:GK},{path:"dashboard",component:YK},{path:"forgot-password",component:VY}];let EQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[qo.forRoot(vQ,{useHash:!0}),qo]})}return n})();function IQ(n,e){1&n&&(s.TgZ(0,"li")(1,"a",10),s._uU(2,"\u0411\u0430\u0437\u0438"),s.qZA()())}function wQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",14),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.closeMenu())}),s.TgZ(1,"a",15),s._uU(2,"\u041c\u0435\u043d\u044e"),s.qZA(),s.TgZ(3,"a",16),s._uU(4,"\u0420\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(5,"a",17),s._uU(6,"\u0411\u0430\u0437\u0430"),s.qZA()()}}function CQ(n,e){if(1&n){const t=s.EpF();s.ynx(0),s.TgZ(1,"div",11)(2,"button",12),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.toggleMenu())}),s._uU(3," \u0414\u043e\u0431\u0430\u0432\u0438 "),s.qZA(),s.YNc(4,wQ,7,0,"div",13),s.qZA(),s.BQk()}if(2&n){const t=s.oxw();s.xp6(4),s.Q6J("ngIf",t.isMenuOpen)}}function TQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",14),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.closeMenu())}),s.TgZ(1,"a",18),s._uU(2,"\u041f\u0440\u043e\u0444\u0438\u043b"),s.qZA(),s.TgZ(3,"a",19),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.logout())}),s._uU(4,"\u0418\u0437\u0445\u043e\u0434"),s.qZA()()}}function bQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",11)(1,"button",12),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.toggleMenu())}),s.TgZ(2,"span"),s._uU(3),s.qZA()(),s.YNc(4,TQ,5,0,"div",13),s.qZA()}if(2&n){const t=s.oxw();s.xp6(3),s.Oqu(t.getUserDisplayName()),s.xp6(1),s.Q6J("ngIf",t.isMenuOpen)}}function AQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",14),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.closeMenu())}),s.TgZ(1,"a",22),s._uU(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),s.qZA(),s.TgZ(3,"a",23),s._uU(4,"\u0412\u0445\u043e\u0434"),s.qZA()()}}function DQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",11)(1,"button",12),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.toggleMenu())}),s.TgZ(2,"span"),s._UZ(3,"i",20),s.qZA(),s._UZ(4,"i",21),s.qZA(),s.YNc(5,AQ,5,0,"div",13),s.qZA()}if(2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngIf",t.isMenuOpen)}}let SQ=(()=>{class n{constructor(t){this.authService=t,this.isMenuOpen=!1,this.userData=null,this.userDataSubject=new sr.X(null),this.userDataSubscription=this.userDataSubject.subscribe(r=>{this.userData=r})}ngOnInit(){this.authService.userData$.subscribe({next:t=>{t?(this.userDataSubject.next(t),console.log("\u0418\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b:",t)):(this.userDataSubject.next(null),console.log("\u041d\u044f\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b."))},error:t=>{}})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.authService.logoutUser()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(mu))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:16,vars:4,consts:[[1,"header"],[1,"wrapper"],[1,"logo"],["src","../../../assets/ChefsTalksLast.png","alt",""],[1,"navigation"],["routerLink","/categories"],[4,"ngIf"],[1,"dropdown-menu"],["class","dropdown",4,"ngIf","ngIfElse"],["anonymousUser",""],["routerLink","/base"],[1,"dropdown"],[1,"dropBtn",3,"click"],["class","dropdown-content",3,"click",4,"ngIf"],[1,"dropdown-content",3,"click"],["href","#","routerLink","/add-category"],["href","#","routerLink","/add-recipe"],["href","#","routerLink","/add-base"],["routerLink","/dashboard"],[3,"click"],[1,"fa-regular","fa-user","fa-flip"],[1,"fa","fa-caret-down"],["routerLink","/sign-up"],["routerLink","/sign-in"]],template:function(r,i){if(1&r&&(s.TgZ(0,"header",0)(1,"div",1)(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"nav",4)(5,"ul")(6,"li")(7,"a",5),s._uU(8,"\u041c\u0435\u043d\u044e"),s.qZA()(),s.YNc(9,IQ,3,0,"li",6),s.qZA(),s.TgZ(10,"div",7),s.YNc(11,CQ,5,1,"ng-container",6),s.TgZ(12,"div"),s.YNc(13,bQ,5,2,"div",8),s.YNc(14,DQ,6,1,"ng-template",null,9,s.W1O),s.qZA()()()()()),2&r){const u=s.MAs(15);s.xp6(9),s.Q6J("ngIf",i.userData),s.xp6(2),s.Q6J("ngIf",i.userData&&i.userData.isAdmin),s.xp6(2),s.Q6J("ngIf",i.userData)("ngIfElse",u)}},dependencies:[Qn,_i],styles:[".header[_ngcontent-%COMP%]{height:8dvh;background-color:var(--mainColor);color:var(--mainWhiteColor)}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1200px;display:flex;justify-content:space-between;align-items:center;margin:0 auto}.logo[_ngcontent-%COMP%]{font-size:32px;font-weight:900;text-decoration:underline}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}.navigation[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:var(--titleFont);border:1px solid var(--mainWhiteColor);padding:10px 15px;font-weight:700;text-transform:uppercase;background-color:var(--mainWhiteColor);border-radius:5px;color:var(--mainColor);transition:.6s ease,color .3s ease}.dropdown-menu[_ngcontent-%COMP%]{display:flex;gap:10px}.dropdown[_ngcontent-%COMP%]{position:relative;display:flex;z-index:2}.dropBtn[_ngcontent-%COMP%]{font-family:var(--titleFont);border:1px solid var(--mainWhiteColor);padding:7px 10px;font-weight:700;text-transform:uppercase;background-color:var(--mainWhiteColor);color:var(--mainColor);border-radius:5px;transition:.6s ease,color .3s ease;margin:unset}.fa.fa-caret-down[_ngcontent-%COMP%]{padding-left:5px}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:-3px;min-width:120px;z-index:1;text-align:center}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainBlackColor);text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--mainWhiteColor)}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column;padding-top:50px}.dropdown[_ngcontent-%COMP%]:hover   .dropBtn[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--secondColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.header[_ngcontent-%COMP%]{height:25dvh}.wrapper[_ngcontent-%COMP%]{display:flex;justify-items:center;flex-direction:column;justify-content:space-evenly}.navigation[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto auto;justify-items:stretch;justify-content:space-evenly}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}button[_ngcontent-%COMP%]{width:100%;margin:unset}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:7px 10px}.dropdown-menu[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}.dropdown-content[_ngcontent-%COMP%]{padding-top:10px}}@media (min-width: 461px) and (max-width: 767px){.header[_ngcontent-%COMP%]{height:17dvh}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1200px;display:flex;flex-direction:column;justify-content:center;gap:10px}.logo[_ngcontent-%COMP%]{font-size:26px;font-weight:600}button[_ngcontent-%COMP%]{width:100%;margin:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{padding:0 5%}button[_ngcontent-%COMP%]{width:100%;margin:unset}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{padding:0 5%}button[_ngcontent-%COMP%]{width:100%;margin:unset}}"]})}return n})(),xQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(r,i){1&r&&(s.TgZ(0,"footer",0)(1,"p"),s._uU(2,"\xa9 2023 Chefs Talks"),s.qZA()())},styles:[".footer[_ngcontent-%COMP%]{height:5dvh;background-color:var(--secondColor);color:var(--mainWhiteColor);text-align:center;padding:10px}"]})}return n})(),MQ=(()=>{class n{constructor(){this.title="chefs-talks"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&s._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[$l,SQ,xQ]})}return n})(),NQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[tn,qo]})}return n})();class q3{}class j3{}class _u{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof _u?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new _u;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof _u?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===u.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class RQ{encodeKey(e){return MV(e)}encodeValue(e){return MV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const OQ=/%(\d[a-f0-9])/gi,kQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MV(n){return encodeURIComponent(n).replace(OQ,(e,t)=>kQ[t]??e)}function $3(n){return`${n}`}class Xd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new RQ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function PQ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[l,f]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],g=t.get(l)||[];g.push(f),t.set(l,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map($3):[$3(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Xd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push($3(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf($3(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class FQ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function NV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function RV(n){return typeof Blob<"u"&&n instanceof Blob}function PV(n){return typeof FormData<"u"&&n instanceof FormData}class gI{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function LQ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new _u),this.context||(this.context=new FQ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new Xd,this.urlWithParams=t}serializeBody(){return null===this.body?null:NV(this.body)||RV(this.body)||PV(this.body)||function UQ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||PV(this.body)?null:RV(this.body)?this.body.type||null:NV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((A,M)=>A.set(M,e.setHeaders[M]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((A,M)=>A.set(M,e.setParams[M]),v)),new gI(t,r,u,{params:v,headers:g,context:T,reportProgress:f,responseType:i,withCredentials:l})}}var p_=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(p_||{});class x2{constructor(e,t=200,r="OK"){this.headers=e.headers||new _u,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class M2 extends x2{constructor(e={}){super(e),this.type=p_.ResponseHeader}clone(e={}){return new M2({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class g_ extends x2{constructor(e={}){super(e),this.type=p_.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new g_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class OV extends x2{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function N2(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let BQ=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof gI)u=t;else{let g,v;g=i.headers instanceof _u?i.headers:new _u(i.headers),i.params&&(v=i.params instanceof Xd?i.params:new Xd({fromObject:i.params})),u=new gI(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,ut.of)(u).pipe(ko(g=>this.handler.handle(g)));if(t instanceof gI||"events"===i.observe)return l;const f=l.pipe(Hr(g=>g instanceof g_));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return f.pipe((0,gt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,gt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,gt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,gt.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Xd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,N2(i,r))}post(t,r,i={}){return this.request("POST",t,N2(i,r))}put(t,r,i={}){return this.request("PUT",t,N2(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(q3))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();function LV(n,e){return e(n)}function ZQ(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const jQ=new s.OlP(""),mI=new s.OlP(""),UV=new s.OlP("");function $Q(){let n=null;return(e,t)=>{null===n&&(n=((0,s.f3M)(jQ,{optional:!0})??[]).reduceRight(ZQ,LV));const r=(0,s.f3M)(s.HDt),i=r.add();return n(e,t).pipe(Sa(()=>r.remove(i)))}}let BV=(()=>{class n extends q3{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,s.f3M)(s.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(mI),...this.injector.get(UV,[])]));this.chain=i.reduceRight((u,l)=>function qQ(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(u,l,this.injector),LV)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Sa(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(j3),s.LFG(s.lqb))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const WQ=/^\)\]\}',?\n/;let ZV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new s.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Tn.D)(r.\u0275loadImpl()):(0,ut.of)(null)).pipe((0,Mn.w)(()=>new ir.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((G,X)=>l.setRequestHeader(G,X.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&l.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();l.responseType="json"!==G?G:"text"}const f=t.serializeBody();let g=null;const v=()=>{if(null!==g)return g;const G=l.statusText||"OK",X=new _u(l.getAllResponseHeaders()),Ce=function KQ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return g=new M2({headers:X,status:l.status,statusText:G,url:Ce}),g},T=()=>{let{headers:G,status:X,statusText:Ce,url:Fe}=v(),ke=null;204!==X&&(ke=typeof l.response>"u"?l.responseText:l.response),0===X&&(X=ke?200:0);let Ye=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof ke){const _t=ke;ke=ke.replace(WQ,"");try{ke=""!==ke?JSON.parse(ke):null}catch(pt){ke=_t,Ye&&(Ye=!1,ke={error:pt,text:ke})}}Ye?(u.next(new g_({body:ke,headers:G,status:X,statusText:Ce,url:Fe||void 0})),u.complete()):u.error(new OV({error:ke,headers:G,status:X,statusText:Ce,url:Fe||void 0}))},A=G=>{const{url:X}=v(),Ce=new OV({error:G,status:l.status||0,statusText:l.statusText||"Unknown Error",url:X||void 0});u.error(Ce)};let M=!1;const O=G=>{M||(u.next(v()),M=!0);let X={type:p_.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(X.total=G.total),"text"===t.responseType&&l.responseText&&(X.partialText=l.responseText),u.next(X)},q=G=>{let X={type:p_.UploadProgress,loaded:G.loaded};G.lengthComputable&&(X.total=G.total),u.next(X)};return l.addEventListener("load",T),l.addEventListener("error",A),l.addEventListener("timeout",A),l.addEventListener("abort",A),t.reportProgress&&(l.addEventListener("progress",O),null!==f&&l.upload&&l.upload.addEventListener("progress",q)),l.send(f),u.next({type:p_.Sent}),()=>{l.removeEventListener("error",A),l.removeEventListener("abort",A),l.removeEventListener("load",T),l.removeEventListener("timeout",A),t.reportProgress&&(l.removeEventListener("progress",O),null!==f&&l.upload&&l.upload.removeEventListener("progress",q)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(xo))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const R2=new s.OlP("XSRF_ENABLED"),qV=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),jV=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $V{}let JQ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Iu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye),s.LFG(s.Lbi),s.LFG(qV))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();function XQ(n,e){const t=n.url.toLowerCase();if(!(0,s.f3M)(R2)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,s.f3M)($V).getToken(),i=(0,s.f3M)(jV);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var eh=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(eh||{});function eJ(...n){const e=[BQ,ZV,BV,{provide:q3,useExisting:BV},{provide:j3,useExisting:ZV},{provide:mI,useValue:XQ,multi:!0},{provide:R2,useValue:!0},{provide:$V,useClass:JQ}];for(const t of n)e.push(...t.\u0275providers);return(0,s.MR2)(e)}const HV=new s.OlP("LEGACY_INTERCEPTOR_FN");function tJ(){return function Ip(n,e){return{\u0275kind:n,\u0275providers:e}}(eh.LegacyInterceptors,[{provide:HV,useFactory:$Q},{provide:mI,useExisting:HV,multi:!0}])}let nJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({providers:[eJ(tJ())]})}return n})(),GV=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[tn]})}return n})(),uJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[tn,Xy,GV]})}return n})(),cJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[]]}),n})();class zV{}class lJ{}const Gc="*";function WV(n,e=null){return{type:2,steps:n,options:e}}function KV(n){return{type:6,styles:n,offset:null}}class _I{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class YV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==u&&this._onFinish()}),l.onDestroy(()=>{++r==u&&this._onDestroy()}),l.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function QV(n){return new s.vHH(3e3,!1)}function th(n){switch(n.length){case 0:return new _I;case 1:return n[0];default:return new YV(n)}}function JV(n,e,t=new Map,r=new Map){const i=[],u=[];let l=-1,f=null;if(e.forEach(g=>{const v=g.get("offset"),T=v==l,A=T&&f||new Map;g.forEach((M,O)=>{let q=O,G=M;if("offset"!==O)switch(q=n.normalizePropertyName(q,i),G){case"!":G=t.get(O);break;case Gc:G=r.get(O);break;default:G=n.normalizeStyleValue(O,q,G,i)}A.set(q,G)}),T||u.push(A),f=A,l=v}),i.length)throw function PJ(n){return new s.vHH(3502,!1)}();return u}function O2(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&k2(t,"start",n)));break;case"done":n.onDone(()=>r(t&&k2(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&k2(t,"destroy",n)))}}function k2(n,e,t){const u=F2(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function F2(n,e,t,r,i="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!l}}function zs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function XV(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const HJ=(()=>typeof document>"u"?null:document.documentElement)();function L2(n){const e=n.parentNode||n.host||null;return e===HJ?null:e}let wp=null,eZ=!1;function tZ(n,e){for(;e;){if(e===n)return!0;e=L2(e)}return!1}function nZ(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let rZ=(()=>{class n{validateStyleProperty(t){return function zJ(n){wp||(wp=function WJ(){return typeof document<"u"?document.body:null}()||{},eZ=!!wp.style&&"WebkitAppearance"in wp.style);let e=!0;return wp.style&&!function GJ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in wp.style,!e&&eZ&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return tZ(t,r)}getParentElement(t){return L2(t)}query(t,r,i){return nZ(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,l,f=[],g){return new _I(i,u)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})(),U2=(()=>{class n{static#e=this.NOOP=new rZ}return n})();const KJ=1e3,B2="ng-enter",G3="ng-leave",z3="ng-trigger",W3=".ng-trigger",sZ="ng-animating",V2=".ng-animating";function zc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Z2(parseFloat(e[1]),e[2])}function Z2(n,e){return"s"===e?n*KJ:n}function K3(n,e,t){return n.hasOwnProperty("duration")?n:function QJ(n,e,t){let i,u=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(QV()),{duration:0,delay:0,easing:""};i=Z2(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(u=Z2(parseFloat(g),f[4]));const v=f[5];v&&(l=v)}else i=n;if(!t){let f=!1,g=e.length;i<0&&(e.push(function dJ(){return new s.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function hJ(){return new s.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,QV())}return{duration:i,delay:u,easing:l}}(n,e,t)}function yI(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function oZ(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function nh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function yu(n,e,t){e.forEach((r,i)=>{const u=j2(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r})}function Cp(n,e){e.forEach((t,r)=>{const i=j2(r);n.style[i]=""})}function vI(n){return Array.isArray(n)?1==n.length?n[0]:WV(n):n}const q2=new RegExp("{{\\s*(.+?)\\s*}}","g");function uZ(n){let e=[];if("string"==typeof n){let t;for(;t=q2.exec(n);)e.push(t[1]);q2.lastIndex=0}return e}function EI(n,e,t){const r=n.toString(),i=r.replace(q2,(u,l)=>{let f=e[l];return null==f&&(t.push(function pJ(n){return new s.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function Y3(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const eX=/-+([a-z0-9])/g;function j2(n){return n.replace(eX,(...e)=>e[1].toUpperCase())}function Ws(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gJ(n){return new s.vHH(3004,!1)}()}}function cZ(n,e){return window.getComputedStyle(n)[e]}const Q3="*";function rX(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function iX(n,e,t){if(":"==n[0]){const g=function sX(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function xJ(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function SJ(n){return new s.vHH(3015,!1)}()),e;const i=r[1],u=r[2],l=r[3];e.push(lZ(i,l));"<"==u[0]&&!(i==Q3&&l==Q3)&&e.push(lZ(l,i))}(r,t,e)):t.push(n),t}const J3=new Set(["true","1"]),X3=new Set(["false","0"]);function lZ(n,e){const t=J3.has(n)||X3.has(n),r=J3.has(e)||X3.has(e);return(i,u)=>{let l=n==Q3||n==i,f=e==Q3||e==u;return!l&&t&&"boolean"==typeof i&&(l=i?J3.has(n):X3.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?J3.has(e):X3.has(e)),l&&f}}const oX=new RegExp("s*:selfs*,?","g");function $2(n,e,t,r){return new aX(n).build(e,t,r)}class aX{constructor(e){this._driver=e}build(e,t,r){const i=new lX(t);return this._resetContextStyleTimingState(i),Ws(this,vI(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function _J(){return new s.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(T=>{g.name=T,u.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);r+=g.queryCount,i+=g.depCount,l.push(g)}else t.errors.push(function yJ(){return new s.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{uZ(g).forEach(v=>{l.hasOwnProperty(v)||u.add(v)})})}),u.size&&(Y3(u.values()),t.errors.push(function vJ(n,e){return new s.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ws(this,vI(e.animation),t);return{type:1,matchers:rX(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Tp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ws(this,r,t)),options:Tp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(l=>{t.currentTime=r;const f=Ws(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Tp(e.options)}}visitAnimate(e,t){const r=function hX(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return H2(K3(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=H2(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=K3(t,e);return H2(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:KV({});if(5==u.type)i=this.visitKeyframes(u,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=KV(v)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(l,t);g.isEmptyStep=f,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Gc?r.push(f):t.errors.push(new s.vHH(3002,!1)):r.push(oZ(f));let u=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!u))for(let g of f.values())if(g.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),T=v.get(g);let A=!0;T&&(u!=i&&u>=T.startTime&&i<=T.endTime&&(t.errors.push(function IJ(n,e,t,r,i){return new s.vHH(3010,!1)}()),A=!1),u=T.startTime),A&&v.set(g,{startTime:u,endTime:i}),t.options&&function XJ(n,e,t){const r=e.params||{},i=uZ(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function fJ(n){return new s.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function wJ(){return new s.vHH(3011,!1)}()),r;let u=0;const l=[];let f=!1,g=!1,v=0;const T=e.steps.map(Ce=>{const Fe=this._makeStyleAst(Ce,t);let ke=null!=Fe.offset?Fe.offset:function dX(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Fe.styles),Ye=0;return null!=ke&&(u++,Ye=Fe.offset=ke),g=g||Ye<0||Ye>1,f=f||Ye<v,v=Ye,l.push(Ye),Fe});g&&t.errors.push(function CJ(){return new s.vHH(3012,!1)}()),f&&t.errors.push(function TJ(){return new s.vHH(3200,!1)}());const A=e.steps.length;let M=0;u>0&&u<A?t.errors.push(function bJ(){return new s.vHH(3202,!1)}()):0==u&&(M=1/(A-1));const O=A-1,q=t.currentTime,G=t.currentAnimateTimings,X=G.duration;return T.forEach((Ce,Fe)=>{const ke=M>0?Fe==O?1:M*Fe:l[Fe],Ye=ke*X;t.currentTime=q+G.delay+Ye,G.duration=Ye,this._validateStyleAst(Ce,t),Ce.offset=ke,r.styles.push(Ce)}),r}visitReference(e,t){return{type:8,animation:Ws(this,vI(e.animation),t),options:Tp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Tp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Tp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function uX(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(oX,"")),n=n.replace(/@\*/g,W3).replace(/@\w+/g,t=>W3+"-"+t.slice(1)).replace(/:animating/g,V2),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,zs(t.collectedStyles,t.currentQuerySelector,new Map);const f=Ws(this,vI(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Tp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function AJ(){return new s.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:K3(e.timings,t.errors,!0);return{type:12,animation:Ws(this,vI(e.animation),t),timings:r,options:null}}}class lX{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Tp(n){return n?(n=yI(n)).params&&(n.params=function cX(n){return n?yI(n):null}(n.params)):n={},n}function H2(n,e,t){return{duration:n,delay:e,easing:t}}function G2(n,e,t,r,i,u,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:l,subTimeline:f}}class eD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const gX=new RegExp(":enter","g"),_X=new RegExp(":leave","g");function z2(n,e,t,r,i,u=new Map,l=new Map,f,g,v=[]){return(new yX).buildKeyframes(n,e,t,r,i,u,l,f,g,v)}class yX{buildKeyframes(e,t,r,i,u,l,f,g,v,T=[]){v=v||new eD;const A=new W2(e,t,v,i,u,T,[]);A.options=g;const M=g.delay?zc(g.delay):0;A.currentTimeline.delayNextStep(M),A.currentTimeline.setStyles([l],null,A.errors,g),Ws(this,r,A);const O=A.timelines.filter(q=>q.containsAnimation());if(O.length&&f.size){let q;for(let G=O.length-1;G>=0;G--){const X=O[G];if(X.element===t){q=X;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,A.errors,g)}return O.length?O.map(q=>q.buildKeyframes()):[G2(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const l="number"==typeof u?u:zc(EI(u,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?zc(r.duration):null,f=null!=r.delay?zc(r.delay):null;return 0!==l&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,l,f);u=Math.max(u,v.duration+v.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Ws(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=tD);const l=zc(u.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ws(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?zc(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),Ws(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return K3(t.params?EI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*u),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?zc(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tD);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,v);u&&A.delayNextStep(u),v===t.element&&(g=A.currentTimeline),Ws(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),f=l*(t.currentQueryTotal-1);let g=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":g=f-g;break;case"full":g=r.currentStaggerTime}const T=t.currentTimeline;g&&T.delayNextStep(g);const A=T.currentTime;Ws(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const tD={};class W2{constructor(e,t,r,i,u,l,f,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new nD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=zc(r.duration)),null!=r.delay&&(i.delay=zc(r.delay));const u=r.params;if(u){let l=i.params;l||(l=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=EI(u[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new W2(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=tD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new vX(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(gX,"."+this._enterClassName)).replace(_X,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!u&&0==f.length&&l.push(function DJ(n){return new s.vHH(3014,!1)}()),f}}class nD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Gc),this._currentKeyframe.set(t,Gc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},l=function EX(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,Gc)}else nh(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of l){const v=EI(g,u,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Gc),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,g)=>{const v=nh(f,new Map,this._backFill);v.forEach((T,A)=>{"!"===T?e.add(A):T===Gc&&t.add(A)}),r||v.set("offset",g/this.duration),i.push(v)});const u=e.size?Y3(e.values()):[],l=t.size?Y3(t.values()):[];if(r){const f=i[0],g=new Map(f);f.set("offset",0),g.set("offset",1),i=[f,g]}return G2(this.element,i,u,l,this.duration,this.startTime,this.easing,!1)}}class vX extends nD{constructor(e,t,r,i,u,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,f=t/l,g=nh(e[0]);g.set("offset",0),u.push(g);const v=nh(e[0]);v.set("offset",fZ(f)),u.push(v);const T=e.length-1;for(let A=1;A<=T;A++){let M=nh(e[A]);const O=M.get("offset");M.set("offset",fZ((t+O*r)/l)),u.push(M)}r=l,t=0,i="",e=u}return G2(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function fZ(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class K2{}const IX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wX extends K2{normalizePropertyName(e,t){return j2(e)}normalizeStyleValue(e,t,r,i){let u="";const l=r.toString().trim();if(IX.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function mJ(n,e){return new s.vHH(3005,!1)}())}return l+u}}function pZ(n,e,t,r,i,u,l,f,g,v,T,A,M){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:T,totalTime:A,errors:M}}const Y2={};class gZ{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function CX(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,l,f,g,v,T){const A=[],M=this.ast.options&&this.ast.options.params||Y2,q=this.buildStyles(r,f&&f.params||Y2,A),G=g&&g.params||Y2,X=this.buildStyles(i,G,A),Ce=new Set,Fe=new Map,ke=new Map,Ye="void"===i,_t={params:TX(G,M),delay:this.ast.options?.delay},pt=T?[]:z2(e,t,this.ast.animation,u,l,q,X,_t,v,A);let Yt=0;if(pt.forEach(Vi=>{Yt=Math.max(Vi.duration+Vi.delay,Yt)}),A.length)return pZ(t,this._triggerName,r,i,Ye,q,X,[],[],Fe,ke,Yt,A);pt.forEach(Vi=>{const pa=Vi.element,PZ=zs(Fe,pa,new Set);Vi.preStyleProps.forEach(bp=>PZ.add(bp));const wI=zs(ke,pa,new Set);Vi.postStyleProps.forEach(bp=>wI.add(bp)),pa!==t&&Ce.add(pa)});const Ar=Y3(Ce.values());return pZ(t,this._triggerName,r,i,Ye,q,X,pt,Ar,Fe,ke,Yt)}}function TX(n,e){const t=yI(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class bX{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=yI(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!==l&&(i[u]=l)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((l,f)=>{l&&(l=EI(l,i,t));const g=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,g,l,t),r.set(f,l)})}),r}}class DX{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new bX(i.style,i.options&&i.options.params||{},r))}),mZ(this.states,"true","1"),mZ(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new gZ(e,i,this.states))}),this.fallbackTransition=function SX(n,e,t){return new gZ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function mZ(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const xX=new eD;class MX{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=$2(this._driver,t,r,[]);if(r.length)throw function OJ(n){return new s.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=JV(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let l;const f=new Map;if(u?(l=z2(this._driver,t,u,B2,G3,new Map,new Map,r,xX,i),l.forEach(T=>{const A=zs(f,T.element,new Map);T.postStyleProps.forEach(M=>A.set(M,null))})):(i.push(function kJ(){return new s.vHH(3300,!1)}()),l=[]),i.length)throw function FJ(n){return new s.vHH(3504,!1)}();f.forEach((T,A)=>{T.forEach((M,O)=>{T.set(O,this._driver.computeStyle(A,O,Gc))})});const v=th(l.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,new Map,A)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function LJ(n){return new s.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=F2(t,"","","");return O2(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const _Z="ng-animate-queued",Q2="ng-animate-disabled",kX=[],yZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},FX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fa="__ng_removed";class J2{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function VX(n){return n??null}(r?e.value:e),r){const u=yI(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const II="void",X2=new J2(II);class LX{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,To(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function UJ(n,e){return new s.vHH(3302,!1)}();if(null==r||0==r.length)throw function BJ(n){return new s.vHH(3303,!1)}();if(!function ZX(n){return"start"==n||"done"==n}(r))throw function VJ(n,e){return new s.vHH(3400,!1)}();const u=zs(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};u.push(l);const f=zs(this._engine.statesByElement,e,new Map);return f.has(t)||(To(e,z3),To(e,z3+"-"+t),f.set(t,X2)),()=>{this._engine.afterFlush(()=>{const g=u.indexOf(l);g>=0&&u.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function ZJ(n){return new s.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),l=new ek(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(To(e,z3),To(e,z3+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const v=new J2(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f.set(t,v),g||(g=X2),v.value!==II&&g.value===v.value){if(!function $X(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(g.params,v.params)){const G=[],X=u.matchStyles(g.value,g.params,G),Ce=u.matchStyles(v.value,v.params,G);G.length?this._engine.reportError(G):this._engine.afterFlush(()=>{Cp(e,X),yu(e,Ce)})}return}const M=zs(this._engine.playersByElement,e,[]);M.forEach(G=>{G.namespaceId==this.id&&G.triggerName==t&&G.queued&&G.destroy()});let O=u.matchTransition(g.value,v.value,e,v.params),q=!1;if(!O){if(!i)return;O=u.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:O,fromState:g,toState:v,player:l,isFallbackTransition:q}),q||(To(e,_Z),l.onStart(()=>{m_(e,_Z)})),l.onDone(()=>{let G=this.players.indexOf(l);G>=0&&this.players.splice(G,1);const X=this._engine.playersByElement.get(e);if(X){let Ce=X.indexOf(l);Ce>=0&&X.splice(Ce,1)}}),this.players.push(l),M.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,W3,!0);r.forEach(i=>{if(i[fa])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),l=new Map;if(u){const f=[];if(u.forEach((g,v)=>{if(l.set(v,g.value),this._triggers.has(v)){const T=this.trigger(e,v,II,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&th(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const l=u.name;if(i.has(l))return;i.add(l);const g=this._triggers.get(l).fallbackTransition,v=r.get(l)||X2,T=new J2(II),A=new ek(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:g,fromState:v,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[fa];(!u||u===yZ)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){To(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(f=>{if(f.name==r.triggerName){const g=F2(u,r.triggerName,r.fromState.value,r.toState.value);g._data=e,O2(r.player,f.phase,g,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class UX{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new LX(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const g=i.get(f);if(g){const v=r.indexOf(g);r.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(rD(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!rD(t))return;const u=t[fa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),To(e,Q2)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),m_(e,Q2))}removeNode(e,t,r){if(rD(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[fa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return rD(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,W3,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,V2,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return th(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[fa];if(t&&t.setForRemoval){if(e[fa]=yZ,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Q2)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)To(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?th(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function qJ(n){return new s.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new eD,i=[],u=new Map,l=[],f=new Map,g=new Map,v=new Map,T=new Set;this.disabledNodes.forEach(rt=>{T.add(rt);const lt=this.driver.query(rt,".ng-animate-queued",!0);for(let It=0;It<lt.length;It++)T.add(lt[It])});const A=this.bodyNode,M=Array.from(this.statesByElement.keys()),O=IZ(M,this.collectedEnterElements),q=new Map;let G=0;O.forEach((rt,lt)=>{const It=B2+G++;q.set(lt,It),rt.forEach(en=>To(en,It))});const X=[],Ce=new Set,Fe=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const lt=this.collectedLeaveElements[rt],It=lt[fa];It&&It.setForRemoval&&(X.push(lt),Ce.add(lt),It.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(en=>Ce.add(en)):Fe.add(lt))}const ke=new Map,Ye=IZ(M,Array.from(Ce));Ye.forEach((rt,lt)=>{const It=G3+G++;ke.set(lt,It),rt.forEach(en=>To(en,It))}),e.push(()=>{O.forEach((rt,lt)=>{const It=q.get(lt);rt.forEach(en=>m_(en,It))}),Ye.forEach((rt,lt)=>{const It=ke.get(lt);rt.forEach(en=>m_(en,It))}),X.forEach(rt=>{this.processLeaveNode(rt)})});const _t=[],pt=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(t).forEach(It=>{const en=It.player,ri=It.element;if(_t.push(en),this.collectedEnterElements.length){const Zi=ri[fa];if(Zi&&Zi.setForMove){if(Zi.previousTriggersValues&&Zi.previousTriggersValues.has(It.triggerName)){const Ap=Zi.previousTriggersValues.get(It.triggerName),bo=this.statesByElement.get(It.element);if(bo&&bo.has(It.triggerName)){const oD=bo.get(It.triggerName);oD.value=Ap,bo.set(It.triggerName,oD)}}return void en.destroy()}}const vu=!A||!this.driver.containsElement(A,ri),Ks=ke.get(ri),rh=q.get(ri),Kn=this._buildInstruction(It,r,rh,Ks,vu);if(Kn.errors&&Kn.errors.length)return void pt.push(Kn);if(vu)return en.onStart(()=>Cp(ri,Kn.fromStyles)),en.onDestroy(()=>yu(ri,Kn.toStyles)),void i.push(en);if(It.isFallbackTransition)return en.onStart(()=>Cp(ri,Kn.fromStyles)),en.onDestroy(()=>yu(ri,Kn.toStyles)),void i.push(en);const FZ=[];Kn.timelines.forEach(Zi=>{Zi.stretchStartingKeyframe=!0,this.disabledNodes.has(Zi.element)||FZ.push(Zi)}),Kn.timelines=FZ,r.append(ri,Kn.timelines),l.push({instruction:Kn,player:en,element:ri}),Kn.queriedElements.forEach(Zi=>zs(f,Zi,[]).push(en)),Kn.preStyleProps.forEach((Zi,Ap)=>{if(Zi.size){let bo=g.get(Ap);bo||g.set(Ap,bo=new Set),Zi.forEach((oD,rk)=>bo.add(rk))}}),Kn.postStyleProps.forEach((Zi,Ap)=>{let bo=v.get(Ap);bo||v.set(Ap,bo=new Set),Zi.forEach((oD,rk)=>bo.add(rk))})});if(pt.length){const rt=[];pt.forEach(lt=>{rt.push(function jJ(n,e){return new s.vHH(3505,!1)}())}),_t.forEach(lt=>lt.destroy()),this.reportError(rt)}const Yt=new Map,Ar=new Map;l.forEach(rt=>{const lt=rt.element;r.has(lt)&&(Ar.set(lt,lt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,Yt))}),i.forEach(rt=>{const lt=rt.element;this._getPreviousPlayers(lt,!1,rt.namespaceId,rt.triggerName,null).forEach(en=>{zs(Yt,lt,[]).push(en),en.destroy()})});const Vi=X.filter(rt=>CZ(rt,g,v)),pa=new Map;EZ(pa,this.driver,Fe,v,Gc).forEach(rt=>{CZ(rt,g,v)&&Vi.push(rt)});const wI=new Map;O.forEach((rt,lt)=>{EZ(wI,this.driver,new Set(rt),g,"!")}),Vi.forEach(rt=>{const lt=pa.get(rt),It=wI.get(rt);pa.set(rt,new Map([...lt?.entries()??[],...It?.entries()??[]]))});const bp=[],OZ=[],kZ={};l.forEach(rt=>{const{element:lt,player:It,instruction:en}=rt;if(r.has(lt)){if(T.has(lt))return It.onDestroy(()=>yu(lt,en.toStyles)),It.disabled=!0,It.overrideTotalTime(en.totalTime),void i.push(It);let ri=kZ;if(Ar.size>1){let Ks=lt;const rh=[];for(;Ks=Ks.parentNode;){const Kn=Ar.get(Ks);if(Kn){ri=Kn;break}rh.push(Ks)}rh.forEach(Kn=>Ar.set(Kn,ri))}const vu=this._buildAnimation(It.namespaceId,en,Yt,u,wI,pa);if(It.setRealPlayer(vu),ri===kZ)bp.push(It);else{const Ks=this.playersByElement.get(ri);Ks&&Ks.length&&(It.parentPlayer=th(Ks)),i.push(It)}}else Cp(lt,en.fromStyles),It.onDestroy(()=>yu(lt,en.toStyles)),OZ.push(It),T.has(lt)&&i.push(It)}),OZ.forEach(rt=>{const lt=u.get(rt.element);if(lt&&lt.length){const It=th(lt);rt.setRealPlayer(It)}}),i.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<X.length;rt++){const lt=X[rt],It=lt[fa];if(m_(lt,G3),It&&It.hasAnimation)continue;let en=[];if(f.size){let vu=f.get(lt);vu&&vu.length&&en.push(...vu);let Ks=this.driver.query(lt,V2,!0);for(let rh=0;rh<Ks.length;rh++){let Kn=f.get(Ks[rh]);Kn&&Kn.length&&en.push(...Kn)}}const ri=en.filter(vu=>!vu.destroyed);ri.length?qX(this,lt,ri):this.processLeaveNode(lt)}return X.length=0,bp.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const lt=this.players.indexOf(rt);this.players.splice(lt,1)}),rt.play()}),bp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const g=!u||u==II;f.forEach(v=>{v.queued||!g&&v.triggerName!=i||l.push(v)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,T=v!==u,A=zs(r,v,[]);this._getPreviousPlayers(v,T,l,f,t.toState).forEach(O=>{const q=O.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),O.destroy(),A.push(O)})}Cp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,l){const f=t.triggerName,g=t.element,v=[],T=new Set,A=new Set,M=t.timelines.map(q=>{const G=q.element;T.add(G);const X=G[fa];if(X&&X.removedBeforeQueried)return new _I(q.duration,q.delay);const Ce=G!==g,Fe=function jX(n){const e=[];return wZ(n,e),e}((r.get(G)||kX).map(Yt=>Yt.getRealPlayer())).filter(Yt=>!!Yt.element&&Yt.element===G),ke=u.get(G),Ye=l.get(G),_t=JV(this._normalizer,q.keyframes,ke,Ye),pt=this._buildPlayer(q,_t,Fe);if(q.subTimeline&&i&&A.add(G),Ce){const Yt=new ek(e,f,G);Yt.setRealPlayer(pt),v.push(Yt)}return pt});v.forEach(q=>{zs(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function BX(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,q.element,q))}),T.forEach(q=>To(q,sZ));const O=th(M);return O.onDestroy(()=>{T.forEach(q=>m_(q,sZ)),yu(g,t.toStyles)}),A.forEach(q=>{zs(i,q,[]).push(O)}),O}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new _I(e.duration,e.delay)}}class ek{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new _I,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>O2(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){zs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function rD(n){return n&&1===n.nodeType}function vZ(n,e){const t=n.style.display;return n.style.display=e??"none",t}function EZ(n,e,t,r,i){const u=[];t.forEach(g=>u.push(vZ(g)));const l=[];r.forEach((g,v)=>{const T=new Map;g.forEach(A=>{const M=e.computeStyle(v,A,i);T.set(A,M),(!M||0==M.length)&&(v[fa]=FX,l.push(v))}),n.set(v,T)});let f=0;return t.forEach(g=>vZ(g,u[f++])),l}function IZ(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function l(f){if(!f)return 1;let g=u.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:i.has(v)?1:l(v),u.set(f,g),g}return e.forEach(f=>{const g=l(f);1!==g&&t.get(g).push(f)}),t}function To(n,e){n.classList?.add(e)}function m_(n,e){n.classList?.remove(e)}function qX(n,e,t){th(t).onDone(()=>n.processLeaveNode(e))}function wZ(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof YV?wZ(r.players,e):e.push(r)}}function CZ(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class iD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new UX(e,t,r),this._timelineEngine=new MX(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const g=[],T=$2(this._driver,u,g,[]);if(g.length)throw function RJ(n,e){return new s.vHH(3404,!1)}();f=function AX(n,e,t){return new DX(n,e,t)}(i,T,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,l]=XV(r);this._timelineEngine.command(u,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[l,f]=XV(r);return this._timelineEngine.listen(l,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let GX=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&yu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yu(this._element,this._initialStyles),this._endStyles&&(yu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cp(this._element,this._endStyles),this._endStyles=null),yu(this._element,this._initialStyles),this._state=3)}}return n})();function tk(n){let e=null;return n.forEach((t,r)=>{(function zX(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class TZ{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:cZ(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class WX{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return tZ(e,t)}getParentElement(e){return L2(e)}query(e,t,r){return nZ(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,l=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(g.easing=u);const v=new Map,T=l.filter(O=>O instanceof TZ);(function tX(n,e){return 0===n||0===e})(r,i)&&T.forEach(O=>{O.currentSnapshot.forEach((q,G)=>v.set(G,q))});let A=function JJ(n){return n.length?n[0]instanceof Map?n:n.map(e=>oZ(e)):[]}(t).map(O=>nh(O));A=function nX(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,l)=>{r.has(l)||i.push(l),r.set(l,u)}),i.length)for(let u=1;u<e.length;u++){let l=e[u];i.forEach(f=>l.set(f,cZ(n,f)))}}return e}(e,A,v);const M=function HX(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=tk(e[0]),e.length>1&&(r=tk(e[e.length-1]))):e instanceof Map&&(t=tk(e)),t||r?new GX(n,t,r):null}(e,A);return new TZ(e,A,g,M)}}let KX=(()=>{class n extends zV{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?WV(t):t;return bZ(this._renderer,null,r,"register",[i]),new YX(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(s.FYo),s.LFG(ye))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();class YX extends lJ{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new QX(this._id,e,t||{},this._renderer)}}class QX{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return bZ(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function bZ(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const AZ="@.disabled";let JX=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(u,l)=>{const f=l?.parentNode(u);f&&l.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(u);return T||(T=new DZ("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,T)),T}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=T=>{Array.isArray(T)?T.forEach(g):this.engine.registerTrigger(l,f,t,T.name,T)};return r.data.animation.forEach(g),new XX(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,f]=u;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(s.FYo),s.LFG(iD),s.LFG(s.R0b))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();class DZ{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==AZ?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class XX extends DZ{constructor(e,t,r,i,u){super(t,r,i,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==AZ?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function eee(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),l="";return"@"!=u.charAt(0)&&([u,l]=function tee(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let nee=(()=>{class n extends iD{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye),s.LFG(U2),s.LFG(K2),s.LFG(s.z2F))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const SZ=[{provide:zV,useClass:KX},{provide:K2,useFactory:function ree(){return new wX}},{provide:iD,useClass:nee},{provide:s.FYo,useFactory:function iee(n,e,t){return new JX(n,e,t)},deps:[bh,iD,s.R0b]}],nk=[{provide:U2,useFactory:()=>new WX},{provide:s.QbO,useValue:"BrowserAnimations"},...SZ],xZ=[{provide:U2,useClass:rZ},{provide:s.QbO,useValue:"NoopAnimations"},...SZ];let see=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xZ:nk}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({providers:nk,imports:[Ta]})}return n})();var oee=P(3019);class aee extends ls.x{constructor(e=1/0,t=1/0,r=Ac){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!i&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const l=t.now();let f=0;for(let g=1;g<r.length&&r[g]<=l;g+=2)f=g;f&&r.splice(0,f+1)}}}var uee=P(3020);function MZ(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,uee.B)({connector:()=>new aee(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function NZ(n,e){return(0,As.m)(e)?(0,Mn.w)(()=>n,e):(0,Mn.w)(()=>n)}var __=P(6304),cee=P(120);const dee=new s.OlP("angularfire2.auth.use-emulator"),hee=new s.OlP("angularfire2.auth.settings"),fee=new s.OlP("angularfire2.auth.tenant-id"),pee=new s.OlP("angularfire2.auth.langugage-code"),gee=new s.OlP("angularfire2.auth.use-device-language"),mee=new s.OlP("angularfire.auth.persistence");let RZ=(()=>{class n{constructor(t,r,i,u,l,f,g,v,T,A,M,O){const q=new ls.x,G=(0,ut.of)(void 0).pipe((0,wd.Q)(l.outsideAngular),(0,Mn.w)(()=>u.runOutsideAngular(()=>P.e(661).then(P.bind(P,8661)))),(0,gt.U)(()=>(0,__.on)(t,u,r)),(0,gt.U)(X=>((n,e,t,r,i,u,l,f)=>(0,__.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,u&&g.useDeviceLanguage(),l)for(const[v,T]of Object.entries(l))g.settings[v]=T;return f&&g.setPersistence(f),g},[t,r,i,u,l,f]))(X,u,f,v,T,A,g,M)),MZ({bufferSize:1,refCount:!1}));if($r(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ut.of)(null);else{G.pipe(hi()).subscribe();const Ce=G.pipe((0,Mn.w)(Ye=>Ye.getRedirectResult().then(_t=>_t,()=>null)),lb,MZ({bufferSize:1,refCount:!1})),Fe=G.pipe((0,Mn.w)(Ye=>new ir.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ye.onAuthStateChanged(pt=>_t.next(pt),pt=>_t.error(pt),()=>_t.complete()))})))),ke=G.pipe((0,Mn.w)(Ye=>new ir.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ye.onIdTokenChanged(pt=>_t.next(pt),pt=>_t.error(pt),()=>_t.complete()))}))));this.authState=Ce.pipe(NZ(Fe),(0,Bf.R)(l.outsideAngular),(0,wd.Q)(l.insideAngular)),this.user=Ce.pipe(NZ(ke),(0,Bf.R)(l.outsideAngular),(0,wd.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Mn.w)(Ye=>Ye?(0,Tn.D)(Ye.getIdToken()):(0,ut.of)(null))),this.idTokenResult=this.user.pipe((0,Mn.w)(Ye=>Ye?(0,Tn.D)(Ye.getIdTokenResult()):(0,ut.of)(null))),this.credential=(0,oee.T)(Ce,q,this.authState.pipe(Hr(Ye=>!Ye))).pipe((0,gt.U)(Ye=>Ye?.user?Ye:null),(0,Bf.R)(l.outsideAngular),(0,wd.Q)(l.insideAngular))}return(0,__.pX)(this,G,u,{spy:{apply:(X,Ce,Fe)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&Fe.then(ke=>q.next(ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(__.Dh),s.LFG(__.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(e0),s.LFG(dee,8),s.LFG(hee,8),s.LFG(fee,8),s.LFG(pee,8),s.LFG(gee,8),s.LFG(mee,8),s.LFG(q4,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yee=(()=>{class n{constructor(){cee.Z.registerVersion("angularfire",Ym.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[RZ]}),n})(),vee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[tn,Jy,Xy,qo]})}return n})(),Eee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n,bootstrap:[MQ]});static#n=this.\u0275inj=s.cJS({providers:[{provide:Oe,useClass:Be}],imports:[Ta,yee,EQ,NQ,GV,uJ,qo,nJ,Xy,vee,fb(()=>qx(I3_firebaseConfig)),B8(()=>Z8()),cJ,see]})}return n})();zp().bootstrapModule(Eee).catch(n=>console.error(n))},5619:(st,Ee,P)=>{P.d(Ee,{X:()=>L});var s=P(8645);class L extends s.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const he=super._subscribe(se);return!he.closed&&se.next(this._value),he}getValue(){const{hasError:se,thrownError:he,_value:ye}=this;if(se)throw he;return this._throwIfClosed(),ye}next(se){super.next(this._value=se)}}},5592:(st,Ee,P)=>{P.d(Ee,{y:()=>Ue});var s=P(305),L=P(7394),ie=P(4850),se=P(8407),he=P(2653),ye=P(4674),Re=P(1441);let Ue=(()=>{class re{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const Qe=new re;return Qe.source=this,Qe.operator=ue,Qe}subscribe(ue,Qe,Be){const xe=function Z(re){return re&&re instanceof s.Lv||function B(re){return re&&(0,ye.m)(re.next)&&(0,ye.m)(re.error)&&(0,ye.m)(re.complete)}(re)&&(0,L.Nn)(re)}(ue)?ue:new s.Hp(ue,Qe,Be);return(0,Re.x)(()=>{const{operator:Ae,source:Je}=this;xe.add(Ae?Ae.call(xe,Je):Je?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Qe){ue.error(Qe)}}forEach(ue,Qe){return new(Qe=Se(Qe))((Be,xe)=>{const Ae=new s.Hp({next:Je=>{try{ue(Je)}catch(we){xe(we),Ae.unsubscribe()}},error:xe,complete:Be});this.subscribe(Ae)})}_subscribe(ue){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(ue)}[ie.L](){return this}pipe(...ue){return(0,se.U)(ue)(this)}toPromise(ue){return new(ue=Se(ue))((Qe,Be)=>{let xe;this.subscribe(Ae=>xe=Ae,Ae=>Be(Ae),()=>Qe(xe))})}}return re.create=Oe=>new re(Oe),re})();function Se(re){var Oe;return null!==(Oe=re??he.config.Promise)&&void 0!==Oe?Oe:Promise}},8645:(st,Ee,P)=>{P.d(Ee,{x:()=>Re});var s=P(5592),L=P(7394);const se=(0,P(2306).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=P(9039),ye=P(1441);let Re=(()=>{class Se extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const re=new Ue(this,this);return re.operator=Z,re}_throwIfClosed(){if(this.closed)throw new se}next(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(Z)}})}error(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:re}=this;for(;re.length;)re.shift().error(Z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:re,isStopped:Oe,observers:ue}=this;return re||Oe?L.Lc:(this.currentObservers=null,ue.push(Z),new L.w0(()=>{this.currentObservers=null,(0,he.P)(ue,Z)}))}_checkFinalizedStatuses(Z){const{hasError:re,thrownError:Oe,isStopped:ue}=this;re?Z.error(Oe):ue&&Z.complete()}asObservable(){const Z=new s.y;return Z.source=this,Z}}return Se.create=(B,Z)=>new Ue(B,Z),Se})();class Ue extends Re{constructor(B,Z){super(),this.destination=B,this.source=Z}next(B){var Z,re;null===(re=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===re||re.call(Z,B)}error(B){var Z,re;null===(re=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===re||re.call(Z,B)}complete(){var B,Z;null===(Z=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===Z||Z.call(B)}_subscribe(B){var Z,re;return null!==(re=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(B))&&void 0!==re?re:L.Lc}}},305:(st,Ee,P)=>{P.d(Ee,{Hp:()=>Be,Lv:()=>re});var s=P(4674),L=P(7394),ie=P(2653),se=P(3894),he=P(2420);const ye=Se("C",void 0,void 0);function Se(Te,ce,ve){return{kind:Te,value:ce,error:ve}}var B=P(7599),Z=P(1441);class re extends L.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,L.Nn)(ce)&&ce.add(this)):this.destination=we}static create(ce,ve,Me){return new Be(ce,ve,Me)}next(ce){this.isStopped?Je(function Ue(Te){return Se("N",Te,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?Je(function Re(Te){return Se("E",void 0,Te)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?Je(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function ue(Te,ce){return Oe.call(Te,ce)}class Qe{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:ve}=this;if(ve.next)try{ve.next(ce)}catch(Me){xe(Me)}}error(ce){const{partialObserver:ve}=this;if(ve.error)try{ve.error(ce)}catch(Me){xe(Me)}else xe(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(ve){xe(ve)}}}class Be extends re{constructor(ce,ve,Me){let K;if(super(),(0,s.m)(ce)||!ce)K={next:ce??void 0,error:ve??void 0,complete:Me??void 0};else{let k;this&&ie.config.useDeprecatedNextContext?(k=Object.create(ce),k.unsubscribe=()=>this.unsubscribe(),K={next:ce.next&&ue(ce.next,k),error:ce.error&&ue(ce.error,k),complete:ce.complete&&ue(ce.complete,k)}):K=ce}this.destination=new Qe(K)}}function xe(Te){ie.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Te):(0,se.h)(Te)}function Je(Te,ce){const{onStoppedNotification:ve}=ie.config;ve&&B.z.setTimeout(()=>ve(Te,ce))}const we={closed:!0,next:he.Z,error:function Ae(Te){throw Te},complete:he.Z}},7394:(st,Ee,P)=>{P.d(Ee,{Lc:()=>ye,w0:()=>he,Nn:()=>Re});var s=P(4674);const ie=(0,P(2306).d)(Se=>function(Z){Se(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((re,Oe)=>`${Oe+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var se=P(9039);class he{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const ue of Z)ue.remove(this);else Z.remove(this);const{initialTeardown:re}=this;if((0,s.m)(re))try{re()}catch(ue){B=ue instanceof ie?ue.errors:[ue]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const ue of Oe)try{Ue(ue)}catch(Qe){B=B??[],Qe instanceof ie?B=[...B,...Qe.errors]:B.push(Qe)}}if(B)throw new ie(B)}}add(B){var Z;if(B&&B!==this)if(this.closed)Ue(B);else{if(B instanceof he){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(B)}}_hasParent(B){const{_parentage:Z}=this;return Z===B||Array.isArray(Z)&&Z.includes(B)}_addParent(B){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(B),Z):Z?[Z,B]:B}_removeParent(B){const{_parentage:Z}=this;Z===B?this._parentage=null:Array.isArray(Z)&&(0,se.P)(Z,B)}remove(B){const{_finalizers:Z}=this;Z&&(0,se.P)(Z,B),B instanceof he&&B._removeParent(this)}}he.EMPTY=(()=>{const Se=new he;return Se.closed=!0,Se})();const ye=he.EMPTY;function Re(Se){return Se instanceof he||Se&&"closed"in Se&&(0,s.m)(Se.remove)&&(0,s.m)(Se.add)&&(0,s.m)(Se.unsubscribe)}function Ue(Se){(0,s.m)(Se)?Se():Se.unsubscribe()}},2653:(st,Ee,P)=>{P.d(Ee,{config:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(st,Ee,P)=>{P.d(Ee,{E:()=>L});const L=new(P(5592).y)(he=>he.complete())},2459:(st,Ee,P)=>{P.d(Ee,{D:()=>ce});var s=P(4829),L=P(3093),ie=P(5137),ye=P(5592),Ue=P(4971),Se=P(4674),B=P(7103);function re(ve,Me){if(!ve)throw new Error("Iterable cannot be null");return new ye.y(K=>{(0,B.f)(K,Me,()=>{const k=ve[Symbol.asyncIterator]();(0,B.f)(K,Me,()=>{k.next().then(W=>{W.done?K.complete():K.next(W.value)})},0,!0)})})}var Oe=P(8382),ue=P(4026),Qe=P(4266),Be=P(3664),xe=P(5726),Ae=P(9853),Je=P(541);function ce(ve,Me){return Me?function Te(ve,Me){if(null!=ve){if((0,Oe.c)(ve))return function se(ve,Me){return(0,s.Xf)(ve).pipe((0,ie.R)(Me),(0,L.Q)(Me))}(ve,Me);if((0,Qe.z)(ve))return function Re(ve,Me){return new ye.y(K=>{let k=0;return Me.schedule(function(){k===ve.length?K.complete():(K.next(ve[k++]),K.closed||this.schedule())})})}(ve,Me);if((0,ue.t)(ve))return function he(ve,Me){return(0,s.Xf)(ve).pipe((0,ie.R)(Me),(0,L.Q)(Me))}(ve,Me);if((0,xe.D)(ve))return re(ve,Me);if((0,Be.T)(ve))return function Z(ve,Me){return new ye.y(K=>{let k;return(0,B.f)(K,Me,()=>{k=ve[Ue.h](),(0,B.f)(K,Me,()=>{let W,pe;try{({value:W,done:pe}=k.next())}catch(Mt){return void K.error(Mt)}pe?K.complete():K.next(W)},0,!0)}),()=>(0,Se.m)(k?.return)&&k.return()})}(ve,Me);if((0,Je.L)(ve))return function we(ve,Me){return re((0,Je.Q)(ve),Me)}(ve,Me)}throw(0,Ae.z)(ve)}(ve,Me):(0,s.Xf)(ve)}},4829:(st,Ee,P)=>{P.d(Ee,{Xf:()=>Oe});var s=P(7582),L=P(4266),ie=P(4026),se=P(5592),he=P(8382),ye=P(5726),Re=P(9853),Ue=P(3664),Se=P(541),B=P(4674),Z=P(3894),re=P(4850);function Oe(Te){if(Te instanceof se.y)return Te;if(null!=Te){if((0,he.c)(Te))return function ue(Te){return new se.y(ce=>{const ve=Te[re.L]();if((0,B.m)(ve.subscribe))return ve.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,L.z)(Te))return function Qe(Te){return new se.y(ce=>{for(let ve=0;ve<Te.length&&!ce.closed;ve++)ce.next(Te[ve]);ce.complete()})}(Te);if((0,ie.t)(Te))return function Be(Te){return new se.y(ce=>{Te.then(ve=>{ce.closed||(ce.next(ve),ce.complete())},ve=>ce.error(ve)).then(null,Z.h)})}(Te);if((0,ye.D)(Te))return Ae(Te);if((0,Ue.T)(Te))return function xe(Te){return new se.y(ce=>{for(const ve of Te)if(ce.next(ve),ce.closed)return;ce.complete()})}(Te);if((0,Se.L)(Te))return function Je(Te){return Ae((0,Se.Q)(Te))}(Te)}throw(0,Re.z)(Te)}function Ae(Te){return new se.y(ce=>{(function we(Te,ce){var ve,Me,K,k;return(0,s.mG)(this,void 0,void 0,function*(){try{for(ve=(0,s.KL)(Te);!(Me=yield ve.next()).done;)if(ce.next(Me.value),ce.closed)return}catch(W){K={error:W}}finally{try{Me&&!Me.done&&(k=ve.return)&&(yield k.call(ve))}finally{if(K)throw K.error}}ce.complete()})})(Te,ce).catch(ve=>ce.error(ve))})}},3019:(st,Ee,P)=>{P.d(Ee,{T:()=>ye});var s=P(7537),L=P(4829),ie=P(6232),se=P(4564),he=P(2459);function ye(...Re){const Ue=(0,se.yG)(Re),Se=(0,se._6)(Re,1/0),B=Re;return B.length?1===B.length?(0,L.Xf)(B[0]):(0,s.J)(Se)((0,he.D)(B,Ue)):ie.E}},2096:(st,Ee,P)=>{P.d(Ee,{of:()=>ie});var s=P(4564),L=P(2459);function ie(...se){const he=(0,s.yG)(se);return(0,L.D)(se,he)}},8251:(st,Ee,P)=>{P.d(Ee,{x:()=>L});var s=P(305);function L(se,he,ye,Re,Ue){return new ie(se,he,ye,Re,Ue)}class ie extends s.Lv{constructor(he,ye,Re,Ue,Se,B){super(he),this.onFinalize=Se,this.shouldUnsubscribe=B,this._next=ye?function(Z){try{ye(Z)}catch(re){he.error(re)}}:super._next,this._error=Ue?function(Z){try{Ue(Z)}catch(re){he.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(Z){he.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},7398:(st,Ee,P)=>{P.d(Ee,{U:()=>ie});var s=P(9360),L=P(8251);function ie(se,he){return(0,s.e)((ye,Re)=>{let Ue=0;ye.subscribe((0,L.x)(Re,Se=>{Re.next(se.call(he,Se,Ue++))}))})}},7537:(st,Ee,P)=>{P.d(Ee,{J:()=>ie});var s=P(1631),L=P(2737);function ie(se=1/0){return(0,s.z)(L.y,se)}},1631:(st,Ee,P)=>{P.d(Ee,{z:()=>Ue});var s=P(7398),L=P(4829),ie=P(9360),se=P(7103),he=P(8251),Re=P(4674);function Ue(Se,B,Z=1/0){return(0,Re.m)(B)?Ue((re,Oe)=>(0,s.U)((ue,Qe)=>B(re,ue,Oe,Qe))((0,L.Xf)(Se(re,Oe))),Z):("number"==typeof B&&(Z=B),(0,ie.e)((re,Oe)=>function ye(Se,B,Z,re,Oe,ue,Qe,Be){const xe=[];let Ae=0,Je=0,we=!1;const Te=()=>{we&&!xe.length&&!Ae&&B.complete()},ce=Me=>Ae<re?ve(Me):xe.push(Me),ve=Me=>{ue&&B.next(Me),Ae++;let K=!1;(0,L.Xf)(Z(Me,Je++)).subscribe((0,he.x)(B,k=>{Oe?.(k),ue?ce(k):B.next(k)},()=>{K=!0},void 0,()=>{if(K)try{for(Ae--;xe.length&&Ae<re;){const k=xe.shift();Qe?(0,se.f)(B,Qe,()=>ve(k)):ve(k)}Te()}catch(k){B.error(k)}}))};return Se.subscribe((0,he.x)(B,ce,()=>{we=!0,Te()})),()=>{Be?.()}}(re,Oe,Se,Z)))}},3093:(st,Ee,P)=>{P.d(Ee,{Q:()=>se});var s=P(7103),L=P(9360),ie=P(8251);function se(he,ye=0){return(0,L.e)((Re,Ue)=>{Re.subscribe((0,ie.x)(Ue,Se=>(0,s.f)(Ue,he,()=>Ue.next(Se),ye),()=>(0,s.f)(Ue,he,()=>Ue.complete(),ye),Se=>(0,s.f)(Ue,he,()=>Ue.error(Se),ye)))})}},3020:(st,Ee,P)=>{P.d(Ee,{B:()=>he});var s=P(4829),L=P(8645),ie=P(305),se=P(9360);function he(Re={}){const{connector:Ue=(()=>new L.x),resetOnError:Se=!0,resetOnComplete:B=!0,resetOnRefCountZero:Z=!0}=Re;return re=>{let Oe,ue,Qe,Be=0,xe=!1,Ae=!1;const Je=()=>{ue?.unsubscribe(),ue=void 0},we=()=>{Je(),Oe=Qe=void 0,xe=Ae=!1},Te=()=>{const ce=Oe;we(),ce?.unsubscribe()};return(0,se.e)((ce,ve)=>{Be++,!Ae&&!xe&&Je();const Me=Qe=Qe??Ue();ve.add(()=>{Be--,0===Be&&!Ae&&!xe&&(ue=ye(Te,Z))}),Me.subscribe(ve),!Oe&&Be>0&&(Oe=new ie.Hp({next:K=>Me.next(K),error:K=>{Ae=!0,Je(),ue=ye(we,Se,K),Me.error(K)},complete:()=>{xe=!0,Je(),ue=ye(we,B),Me.complete()}}),(0,s.Xf)(ce).subscribe(Oe))})(re)}}function ye(Re,Ue,...Se){if(!0===Ue)return void Re();if(!1===Ue)return;const B=new ie.Hp({next:()=>{B.unsubscribe(),Re()}});return(0,s.Xf)(Ue(...Se)).subscribe(B)}},5137:(st,Ee,P)=>{P.d(Ee,{R:()=>L});var s=P(9360);function L(ie,se=0){return(0,s.e)((he,ye)=>{ye.add(ie.schedule(()=>he.subscribe(ye),se))})}},4664:(st,Ee,P)=>{P.d(Ee,{w:()=>se});var s=P(4829),L=P(9360),ie=P(8251);function se(he,ye){return(0,L.e)((Re,Ue)=>{let Se=null,B=0,Z=!1;const re=()=>Z&&!Se&&Ue.complete();Re.subscribe((0,ie.x)(Ue,Oe=>{Se?.unsubscribe();let ue=0;const Qe=B++;(0,s.Xf)(he(Oe,Qe)).subscribe(Se=(0,ie.x)(Ue,Be=>Ue.next(ye?ye(Oe,Be,Qe,ue++):Be),()=>{Se=null,re()}))},()=>{Z=!0,re()}))})}},7599:(st,Ee,P)=>{P.d(Ee,{z:()=>s});const s={setTimeout(L,ie,...se){const{delegate:he}=s;return he?.setTimeout?he.setTimeout(L,ie,...se):setTimeout(L,ie,...se)},clearTimeout(L){const{delegate:ie}=s;return(ie?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(st,Ee,P)=>{P.d(Ee,{h:()=>L});const L=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(st,Ee,P)=>{P.d(Ee,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(st,Ee,P)=>{P.d(Ee,{_6:()=>ye,jO:()=>se,yG:()=>he});var s=P(4674);function ie(Re){return Re[Re.length-1]}function se(Re){return(0,s.m)(ie(Re))?Re.pop():void 0}function he(Re){return function L(Re){return Re&&(0,s.m)(Re.schedule)}(ie(Re))?Re.pop():void 0}function ye(Re,Ue){return"number"==typeof ie(Re)?Re.pop():Ue}},9039:(st,Ee,P)=>{function s(L,ie){if(L){const se=L.indexOf(ie);0<=se&&L.splice(se,1)}}P.d(Ee,{P:()=>s})},2306:(st,Ee,P)=>{function s(L){const se=L(he=>{Error.call(he),he.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Ee,{d:()=>s})},1441:(st,Ee,P)=>{P.d(Ee,{O:()=>se,x:()=>ie});var s=P(2653);let L=null;function ie(he){if(s.config.useDeprecatedSynchronousErrorHandling){const ye=!L;if(ye&&(L={errorThrown:!1,error:null}),he(),ye){const{errorThrown:Re,error:Ue}=L;if(L=null,Re)throw Ue}}else he()}function se(he){s.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=he)}},7103:(st,Ee,P)=>{function s(L,ie,se,he=0,ye=!1){const Re=ie.schedule(function(){se(),ye?L.add(this.schedule(null,he)):this.unsubscribe()},he);if(L.add(Re),!ye)return Re}P.d(Ee,{f:()=>s})},2737:(st,Ee,P)=>{function s(L){return L}P.d(Ee,{y:()=>s})},4266:(st,Ee,P)=>{P.d(Ee,{z:()=>s});const s=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(st,Ee,P)=>{P.d(Ee,{D:()=>L});var s=P(4674);function L(ie){return Symbol.asyncIterator&&(0,s.m)(ie?.[Symbol.asyncIterator])}},4674:(st,Ee,P)=>{function s(L){return"function"==typeof L}P.d(Ee,{m:()=>s})},8382:(st,Ee,P)=>{P.d(Ee,{c:()=>ie});var s=P(4850),L=P(4674);function ie(se){return(0,L.m)(se[s.L])}},3664:(st,Ee,P)=>{P.d(Ee,{T:()=>ie});var s=P(4971),L=P(4674);function ie(se){return(0,L.m)(se?.[s.h])}},4026:(st,Ee,P)=>{P.d(Ee,{t:()=>L});var s=P(4674);function L(ie){return(0,s.m)(ie?.then)}},541:(st,Ee,P)=>{P.d(Ee,{L:()=>se,Q:()=>ie});var s=P(7582),L=P(4674);function ie(he){return(0,s.FC)(this,arguments,function*(){const Re=he.getReader();try{for(;;){const{value:Ue,done:Se}=yield(0,s.qq)(Re.read());if(Se)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(Ue)}}finally{Re.releaseLock()}})}function se(he){return(0,L.m)(he?.getReader)}},9360:(st,Ee,P)=>{P.d(Ee,{A:()=>L,e:()=>ie});var s=P(4674);function L(se){return(0,s.m)(se?.lift)}function ie(se){return he=>{if(L(he))return he.lift(function(ye){try{return se(ye,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(st,Ee,P)=>{function s(){}P.d(Ee,{Z:()=>s})},8407:(st,Ee,P)=>{P.d(Ee,{U:()=>ie,z:()=>L});var s=P(2737);function L(...se){return ie(se)}function ie(se){return 0===se.length?s.y:1===se.length?se[0]:function(ye){return se.reduce((Re,Ue)=>Ue(Re),ye)}}},3894:(st,Ee,P)=>{P.d(Ee,{h:()=>ie});var s=P(2653),L=P(7599);function ie(se){L.z.setTimeout(()=>{const{onUnhandledError:he}=s.config;if(!he)throw se;he(se)})}},9853:(st,Ee,P)=>{function s(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ee,{z:()=>s})},8926:(st,Ee,P)=>{P.d(Ee,{QbO:()=>Ow,tb:()=>Sd,AFp:()=>Dy,ip1:()=>r0,hGG:()=>H4,z2F:()=>ca,Ojb:()=>kw,sBO:()=>HF,Sil:()=>cM,EJc:()=>a0,Xts:()=>tf,SBq:()=>fc,lqb:()=>Hn,qLn:()=>$o,vpe:()=>Ho,XFs:()=>yt,OlP:()=>Nt,zs3:()=>ks,ZZ4:()=>$4,aQg:()=>yr,soG:()=>o0,YKP:()=>JT,h0i:()=>oa,PXZ:()=>k4,R0b:()=>Xn,FiY:()=>or,Lbi:()=>Bg,g9A:()=>Sy,Qsj:()=>h1,FYo:()=>Hg,JOm:()=>$l,q3G:()=>lc,tp0:()=>zi,Rgc:()=>Km,dDg:()=>M4,eoX:()=>h0,q4F:()=>lf,GfV:()=>Oy,s_b:()=>bd,ifc:()=>Is,VuI:()=>kM,MMx:()=>jm,Lck:()=>r4,eFA:()=>L4,Gpc:()=>Je,f3M:()=>Xt,X6Q:()=>Fb,$WT:()=>jr,MR2:()=>wy,_c5:()=>$b,qFp:()=>Q4,rg0:()=>U_,c2e:()=>vb,zSh:()=>by,HDt:()=>Ib,wAp:()=>nu,vHH:()=>K,lri:()=>d0,rWj:()=>Db,JZr:()=>Me,EiD:()=>yy,mCW:()=>In,qzn:()=>Kl,JVY:()=>$D,pB0:()=>Qh,eBb:()=>HD,L6k:()=>kg,LAX:()=>GD,cg1:()=>Vv,kL8:()=>IT,dqk:()=>mn,Z0I:()=>si,eJc:()=>pb,QGY:()=>Im,F4k:()=>_v,RDi:()=>ZD,AaK:()=>Be,z3N:()=>Bo,qOj:()=>EC,Xq5:()=>sv,TTD:()=>wl,_Bn:()=>QT,jDz:()=>$m,xp6:()=>go,uIk:()=>av,ekj:()=>bv,Suo:()=>Vx,Xpm:()=>Xc,lG2:()=>tl,Yz7:()=>wt,cJS:()=>Zr,oAB:()=>Au,Yjl:()=>nl,Y36:()=>rd,_UZ:()=>Cf,BQk:()=>vm,ynx:()=>pd,qZA:()=>fd,TgZ:()=>Ic,EpF:()=>Em,n5z:()=>ag,LFG:()=>an,$8M:()=>oo,$Z:()=>Gy,NdJ:()=>yv,CRH:()=>Zx,oxw:()=>ZC,ALo:()=>Sx,lcZ:()=>sb,xi3:()=>Lf,Q6J:()=>na,s9C:()=>bf,VKq:()=>vx,iGM:()=>fb,MAs:()=>FC,KtG:()=>H_,CHM:()=>Qp,uOi:()=>Iw,LSH:()=>vy,P3R:()=>Ey,YNc:()=>hv,W1O:()=>E4,_uU:()=>sT,Oqu:()=>Mf,hij:()=>Nm,lnq:()=>Sv});var s=P(8645),L=P(7394),ie=P(5592),se=P(3019),he=P(5619),ye=P(2096),Re=P(3020),Ue=P(4664),Se=P(2737),B=P(9360),Z=P(8251);function Oe(o,a){return o===a}function ue(o){for(let a in o)if(o[a]===ue)return a;throw Error("Could not find renamed property on target object.")}function Qe(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function Be(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Be).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function xe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Ae=ue({__forward_ref__:ue});function Je(o){return o.__forward_ref__=Je,o.toString=function(){return Be(this())},o}function we(o){return Te(o)?o():o}function Te(o){return"function"==typeof o&&o.hasOwnProperty(Ae)&&o.__forward_ref__===Je}function ce(o){return o&&!!o.\u0275providers}const Me="https://g.co/ng/security#xss";class K extends Error{constructor(a,c){super(function k(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function W(o){return"string"==typeof o?o:null==o?"":String(o)}function ln(o,a){throw new K(-201,!1)}function At(o,a){null==o&&function Ze(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function wt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Zr(o){return{providers:o.providers||[],imports:o.imports||[]}}function qi(o){return ga(o,Yn)||ga(o,Ot)}function si(o){return null!==qi(o)}function ga(o,a){return o.hasOwnProperty(a)?o[a]:null}function ts(o){return o&&(o.hasOwnProperty(Ct)||o.hasOwnProperty(qr))?o[Ct]:null}const Yn=ue({\u0275prov:ue}),Ct=ue({\u0275inj:ue}),Ot=ue({ngInjectableDef:ue}),qr=ue({ngInjectorDef:ue});var yt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(yt||{});let hr;function Vt(o){const a=hr;return hr=o,a}function rs(o,a,c){const d=qi(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&yt.Optional?null:void 0!==a?a:void ln(Be(o))}const mn=globalThis;class Nt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=wt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const F={},$="__NG_DI_FLAG__",le="ngTempTokenPath",et=/\n/gm,Jt="__source";let Fn;function Un(o){const a=Fn;return Fn=o,a}function jt(o,a=yt.Default){if(void 0===Fn)throw new K(-203,!1);return null===Fn?rs(o,void 0,a):Fn.get(o,a&yt.Optional?null:void 0,a)}function an(o,a=yt.Default){return(function ns(){return hr}()||jt)(we(o),a)}function Xt(o,a=yt.Default){return an(o,Eu(a))}function Eu(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ih(o){const a=[];for(let c=0;c<o.length;c++){const d=we(o[c]);if(Array.isArray(d)){if(0===d.length)throw new K(900,!1);let h,p=yt.Default;for(let y=0;y<d.length;y++){const E=d[y],C=Dp(E);"number"==typeof C?-1===C?h=E.token:p|=C:h=E}a.push(an(h,p))}else a.push(an(d))}return a}function Es(o,a){return o[$]=a,o.prototype[$]=a,o}function Dp(o){return o[$]}function Ai(o){return{toString:o}.toString()}var Ao=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Ao||{}),Is=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(Is||{});const Di={},Zt=[],Iu=ue({\u0275cmp:ue}),wu=ue({\u0275dir:ue}),Kc=ue({\u0275pipe:ue}),oh=ue({\u0275mod:ue}),fr=ue({\u0275fac:ue}),Qs=ue({__NG_ELEMENT_ID__:ue}),xp=ue({__NG_ENV_ID__:ue});function oi(o,a,c){let d=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||o.charCodeAt(h+p)<=32)return h}c=h+1}}function _n(o,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const p=c[d++],y=c[d++],E=c[d++];o.setAttribute(a,y,E,p)}else{const p=h,y=c[++d];Qn(p)?o.setProperty(a,p,y):o.setAttribute(a,p,y),d++}}return d}function Mp(o){return 3===o||4===o||6===o}function Qn(o){return 64===o.charCodeAt(0)}function Cu(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Yc(o,c,h,null,-1===c||2===c?a[++d]:null)}}return o}function Yc(o,a,c,d,h){let p=0,y=o.length;if(-1===a)y=-1;else for(;p<o.length;){const E=o[p++];if("number"==typeof E){if(E===a){y=-1;break}if(E>a){y=p-1;break}}}for(;p<o.length;){const E=o[p];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(o[p+1]=h));if(d===o[p+1])return void(o[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(o.splice(y,0,a),p=y+1),o.splice(p++,0,c),null!==d&&o.splice(p++,0,d),null!==h&&o.splice(p++,0,h)}const Tu="ng-template";function ah(o,a,c){let d=0,h=!0;for(;d<o.length;){let p=o[d++];if("string"==typeof p&&h){const y=o[d++];if(c&&"class"===p&&-1!==oi(y.toLowerCase(),a,0))return!0}else{if(1===p){for(;d<o.length&&"string"==typeof(p=o[d++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function uh(o){return 4===o.type&&o.value!==Tu}function y_(o,a,c){return a===(4!==o.type||c?o.value:Tu)}function bu(o,a,c){let d=4;const h=o.attrs||[],p=function CI(o){for(let a=0;a<o.length;a++)if(Mp(o[a]))return a;return o.length}(h);let y=!1;for(let E=0;E<a.length;E++){const C=a[E];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!y_(o,C,c)||""===C&&1===a.length){if(ai(d))return!1;y=!0}}else{const b=8&d?C:a[++E];if(8&d&&null!==o.attrs){if(!ah(o.attrs,b,c)){if(ai(d))return!1;y=!0}continue}const N=Np(8&d?"class":C,h,uh(o),c);if(-1===N){if(ai(d))return!1;y=!0;continue}if(""!==b){let V;V=N>p?"":h[N+1].toLowerCase();const H=8&d?V:null;if(H&&-1!==oi(H,b,0)||2&d&&b!==V){if(ai(d))return!1;y=!0}}}}else{if(!y&&!ai(d)&&!ai(C))return!1;if(y&&ai(C))continue;y=!1,d=C|1&d}}return ai(d)||y}function ai(o){return 0==(1&o)}function Np(o,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let p=!1;for(;h<a.length;){const y=a[h];if(y===o)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=a[++h];for(;"string"==typeof E;)E=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function ui(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function Rp(o,a,c=!1){for(let d=0;d<a.length;d++)if(bu(o,a[d],c))return!0;return!1}function Qc(o,a){return o?":not("+a.trim()+")":a}function Jc(o){let a=o[0],c=1,d=2,h="",p=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&d){const E=o[++c];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!ai(y)&&(a+=Qc(p,h),h=""),d=y,p=p||!ai(d);c++}return""!==h&&(a+=Qc(p,h)),a}function Xc(o){return Ai(()=>{const a=ph(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Ao.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||Is.Emulated,styles:o.styles||Zt,_:null,schemas:o.schemas||null,tView:null,id:""};ji(c);const d=o.dependencies;return c.directiveDefs=rl(d,!1),c.pipeDefs=rl(d,!0),c.id=function mh(o){let a=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function hh(o){return Lt(o)||Bn(o)}function fh(o){return null!==o}function Au(o){return Ai(()=>({type:o.type,bootstrap:o.bootstrap||Zt,declarations:o.declarations||Zt,imports:o.imports||Zt,exports:o.exports||Zt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function el(o,a){if(null==o)return Di;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,a&&(a[h]=p)}return c}function tl(o){return Ai(()=>{const a=ph(o);return ji(a),a})}function nl(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Lt(o){return o[Iu]||null}function Bn(o){return o[wu]||null}function Vn(o){return o[Kc]||null}function jr(o){const a=Lt(o)||Bn(o)||Vn(o);return null!==a&&a.standalone}function Sr(o,a){const c=o[oh]||null;if(!c&&!0===a)throw new Error(`Type ${Be(o)} does not have '\u0275mod' property.`);return c}function ph(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||Di,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Zt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:el(o.inputs,a),outputs:el(o.outputs)}}function ji(o){o.features?.forEach(a=>a(o))}function rl(o,a){if(!o)return null;const c=a?Vn:hh;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(fh)}const un=0,ze=1,Tt=2,tn=3,Si=4,Do=5,En=6,_a=7,xn=8,$r=9,il=10,mt=11,xi=12,So=13,os=14,Cn=15,sl=16,xo=17,ws=18,Mi=19,I_=20,$i=21,Cs=22,Js=23,as=24,ht=25,_h=1,ol=2,Ni=7,Mo=9,Zn=11;function xr(o){return Array.isArray(o)&&"object"==typeof o[_h]}function Jn(o){return Array.isArray(o)&&!0===o[_h]}function Su(o){return 0!=(4&o.flags)}function Xs(o){return o.componentOffset>-1}function xu(o){return 1==(1&o.flags)}function Hi(o){return!!o.template}function Mu(o){return 0!=(512&o[Tt])}function ya(o,a){return o.hasOwnProperty(fr)?o[fr]:null}let pr=null,hl=!1;function Mr(o){const a=pr;return pr=o,a}const R_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Eh(o){if(!va(o)||o.dirty){if(!o.producerMustRecompute(o)&&!gl(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function k_(o){o.dirty=!0,function O_(o){if(void 0===o.liveConsumerNode)return;const a=hl;hl=!0;try{for(const c of o.liveConsumerNode)c.dirty||k_(c)}finally{hl=a}}(o),o.consumerMarkedDirty?.(o)}function pl(o){return o&&(o.nextProducerIndex=0),Mr(o)}function Lp(o,a){if(Mr(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(va(o))for(let c=o.nextProducerIndex;c<o.producerNode.length;c++)_l(o.producerNode[c],o.producerIndexOfThis[c]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function gl(o){Ru(o);for(let a=0;a<o.producerNode.length;a++){const c=o.producerNode[a],d=o.producerLastReadVersion[a];if(d!==c.version||(Eh(c),d!==c.version))return!0}return!1}function F_(o){if(Ru(o),va(o))for(let a=0;a<o.producerNode.length;a++)_l(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function _l(o,a){if(function Ih(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Ru(o),1===o.liveConsumerNode.length)for(let d=0;d<o.producerNode.length;d++)_l(o.producerNode[d],o.producerIndexOfThis[d]);const c=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[c],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[c],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const d=o.liveConsumerIndexOfThis[a],h=o.liveConsumerNode[a];Ru(h),h.producerIndexOfThis[d]=a}}function va(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Ru(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let Bp=null;function U_(o){const a=Mr(null);try{return o()}finally{Mr(a)}}const Ch=()=>{},Il=(()=>({...R_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Ch}))();class Pu{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function wl(){return jp}function jp(o){return o.type.prototype.ngOnChanges&&(o.setInput=NI),V_}function V_(){const o=Hp(this),a=o?.current;if(a){const c=o.previous;if(c===Di)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function NI(o,a,c,d){const h=this.declaredInputs[c],p=Hp(o)||function Th(o,a){return o[$p]=a}(o,{previous:Di,current:null}),y=p.current||(p.current={}),E=p.previous,C=E[h];y[h]=new Pu(C&&C.currentValue,a,E===Di),o[d]=a}wl.ngInherit=!0;const $p="__ngSimpleChanges__";function Hp(o){return o[$p]||null}const Nr=function(o,a,c){};function sn(o){for(;Array.isArray(o);)o=o[un];return o}function Ou(o,a){return sn(a[o])}function gr(o,a){return sn(a[o.index])}function ku(o,a){return o.data[a]}function wa(o,a){return o[a]}function ci(o,a){const c=a[o];return xr(c)?c:c[un]}function Ts(o,a){return null==a?null:o[a]}function Sh(o){o[xo]=0}function q_(o){1024&o[Tt]||(o[Tt]|=1024,Gp(o,1))}function Cl(o){1024&o[Tt]&&(o[Tt]&=-1025,Gp(o,-1))}function Gp(o,a){let c=o[tn];if(null===c)return;c[Do]+=a;let d=c;for(c=c[tn];null!==c&&(1===a&&1===d[Do]||-1===a&&0===d[Do]);)c[Do]+=a,d=c,c=c[tn]}const ft={lFrame:Dl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Nh(){return ft.bindingsEnabled}function ge(){return ft.lFrame.lView}function Ut(){return ft.lFrame.tView}function Qp(o){return ft.lFrame.contextLView=o,o[xn]}function H_(o){return ft.lFrame.contextLView=null,o}function mr(){let o=Jp();for(;null!==o&&64===o.type;)o=o.parent;return o}function Jp(){return ft.lFrame.currentTNode}function bs(o,a){const c=ft.lFrame;c.currentTNode=o,c.isParent=a}function Lu(){return ft.lFrame.isParent}function Xp(){ft.lFrame.isParent=!1}function Rr(){const o=ft.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Bu(){return ft.lFrame.bindingIndex++}function to(o){const a=ft.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function kI(o,a){const c=ft.lFrame;c.bindingIndex=c.bindingRootIndex=o,Al(a)}function Al(o){ft.lFrame.currentDirectiveIndex=o}function As(){return ft.lFrame.currentQueryIndex}function Ph(o){ft.lFrame.currentQueryIndex=o}function Tn(o){const a=o[ze];return 2===a.type?a.declTNode:1===a.type?o[En]:null}function ut(o,a,c){if(c&yt.SkipSelf){let h=a,p=o;for(;!(h=h.parent,null!==h||c&yt.Host||(h=Tn(p),null===h||(p=p[os],10&h.type))););if(null===h)return!1;a=h,o=p}const d=ft.lFrame=Vu();return d.currentTNode=a,d.lView=o,!0}function sr(o){const a=Vu(),c=o[ze];ft.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Vu(){const o=ft.lFrame,a=null===o?null:o.child;return null===a?Dl(o):a}function Dl(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function eg(){const o=ft.lFrame;return ft.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Sl=eg;function xl(){const o=eg();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function gt(){return ft.lFrame.selectedIndex}function Oo(o){ft.lFrame.selectedIndex=o}function vn(){const o=ft.lFrame;return ku(o.tView,o.selectedIndex)}let Rl=!0;function Aa(){return Rl}function Ds(o){Rl=o}function Ss(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:S}=p;y&&(o.contentHooks??=[]).push(-c,y),E&&((o.contentHooks??=[]).push(c,E),(o.contentCheckHooks??=[]).push(c,E)),C&&(o.viewHooks??=[]).push(-c,C),b&&((o.viewHooks??=[]).push(c,b),(o.viewCheckHooks??=[]).push(c,b)),null!=S&&(o.destroyHooks??=[]).push(c,S)}}function no(o,a,c){qu(o,a,3,c)}function ro(o,a,c,d){(3&o[Tt])===c&&qu(o,a,c,d)}function Zu(o,a){let c=o[Tt];(3&c)===a&&(c&=8191,c+=1,o[Tt]=c)}function qu(o,a,c,d){const p=d??-1,y=a.length-1;let E=0;for(let C=void 0!==d?65535&o[xo]:0;C<y;C++)if("number"==typeof a[C+1]){if(E=a[C],null!=d&&E>=d)break}else a[C]<0&&(o[xo]+=65536),(E<p||-1==p)&&(kh(o,c,a,C),o[xo]=(4294901760&o[xo])+C+2),C++}function ju(o,a){Nr(4,o,a);const c=Mr(null);try{a.call(o)}finally{Mr(c),Nr(5,o,a)}}function kh(o,a,c,d){const h=c[d]<0,p=c[d+1],E=o[h?-c[d]:c[d]];h?o[Tt]>>13<o[xo]>>16&&(3&o[Tt])===a&&(o[Tt]+=8192,ju(E,p)):ju(E,p)}const Ri=-1;class Pi{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Hr(o){return o!==Ri}function jn(o){return 32767&o}function io(o,a){let c=function Pl(o){return o>>16}(o),d=a;for(;c>0;)d=d[os],c--;return d}let Fh=!0;function hi(o){const a=Fh;return Fh=o,a}const Nn=255,xs=5;let Lh=0;const ds={};function Gu(o,a){const c=Sa(o,a);if(-1!==c)return c;const d=a[ze];d.firstCreatePass&&(o.injectorIndex=a.length,kl(d.data,o),kl(a,null),kl(d.blueprint,null));const h=zu(o,a),p=o.injectorIndex;if(Hr(h)){const y=jn(h),E=io(h,a),C=E[ze].data;for(let b=0;b<8;b++)a[p+b]=E[y+b]|C[y+b]}return a[p+8]=h,p}function kl(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Sa(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function zu(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=Yu(h),null===d)return Ri;if(c++,h=h[os],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Ri}function Wu(o,a,c){!function Ol(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Qs)&&(d=c[Qs]),null==d&&(d=c[Qs]=Lh++);const h=d&Nn;a.data[o+(h>>xs)]|=1<<h}(o,a,c)}function xa(o,a,c){if(c&yt.Optional||void 0!==o)return o;ln()}function ng(o,a,c,d){if(c&yt.Optional&&void 0===d&&(d=null),!(c&(yt.Self|yt.Host))){const h=o[$r],p=Vt(void 0);try{return h?h.get(a,d,c&yt.Optional):rs(a,d,c&yt.Optional)}finally{Vt(p)}}return xa(d,0,c)}function Ms(o,a,c,d=yt.Default,h){if(null!==o){if(2048&a[Tt]&&!(d&yt.Self)){const y=function Ll(o,a,c,d,h){let p=o,y=a;for(;null!==p&&null!==y&&2048&y[Tt]&&!(512&y[Tt]);){const E=rg(p,y,c,d|yt.Self,ds);if(E!==ds)return E;let C=p.parent;if(!C){const b=y[I_];if(b){const S=b.get(c,ds,d);if(S!==ds)return S}C=Yu(y),y=y[os]}p=C}return h}(o,a,c,d,ds);if(y!==ds)return y}const p=rg(o,a,c,d,ds);if(p!==ds)return p}return ng(a,c,d,h)}function rg(o,a,c,d,h){const p=function Ku(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Qs)?o[Qs]:void 0;return"number"==typeof a?a>=0?a&Nn:og:a}(c);if("function"==typeof p){if(!ut(a,o,d))return d&yt.Host?xa(h,0,d):ng(a,c,d,h);try{let y;if(y=p(d),null!=y||d&yt.Optional)return y;ln()}finally{Sl()}}else if("number"==typeof p){let y=null,E=Sa(o,a),C=Ri,b=d&yt.Host?a[Cn][En]:null;for((-1===E||d&yt.SkipSelf)&&(C=-1===E?zu(o,a):a[E+8],C!==Ri&&ig(d,!1)?(y=a[ze],E=jn(C),a=io(C,a)):E=-1);-1!==E;){const S=a[ze];if(Ns(p,E,S.data)){const N=K_(E,a,c,y,d,b);if(N!==ds)return N}C=a[E+8],C!==Ri&&ig(d,a[ze].data[E+8]===b)&&Ns(p,E,a)?(y=S,E=jn(C),a=io(C,a)):E=-1}}return h}function K_(o,a,c,d,h,p){const y=a[ze],E=y.data[o+8],S=Gr(E,y,c,null==d?Xs(E)&&Fh:d!=y&&0!=(3&E.type),h&yt.Host&&p===E);return null!==S?so(a,y,S,E):ds}function Gr(o,a,c,d,h){const p=o.providerIndexes,y=a.data,E=1048575&p,C=o.directiveStart,S=p>>20,V=h?E+S:o.directiveEnd;for(let H=d?E:E+S;H<V;H++){const ae=y[H];if(H<C&&c===ae||H>=C&&ae.type===c)return H}if(h){const H=y[C];if(H&&Hi(H)&&H.type===c)return C}return null}function so(o,a,c,d){let h=o[c];const p=a.data;if(function $u(o){return o instanceof Pi}(h)){const y=h;y.resolving&&function Mt(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new K(-200,`Circular dependency in DI detected for ${o}${c}`)}(function pe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():W(o)}(p[c]));const E=hi(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?Vt(y.injectImpl):null;ut(o,d,yt.Default);try{h=o[c]=y.factory(void 0,p,o,d),a.firstCreatePass&&c>=d.directiveStart&&function Oh(o,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const y=jp(a);(c.preOrderHooks??=[]).push(o,y),(c.preOrderCheckHooks??=[]).push(o,y)}h&&(c.preOrderHooks??=[]).push(0-o,h),p&&((c.preOrderHooks??=[]).push(o,p),(c.preOrderCheckHooks??=[]).push(o,p))}(c,p[c],a)}finally{null!==b&&Vt(b),hi(E),y.resolving=!1,Sl()}}return h}function Ns(o,a,c){return!!(c[a+(o>>xs)]&1<<o)}function ig(o,a){return!(o&yt.Self||o&yt.Host&&a)}class Pr{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Ms(this._tNode,this._lView,a,Eu(d),c)}}function og(){return new Pr(mr(),ge())}function ag(o){return Ai(()=>{const a=o.prototype.constructor,c=a[fr]||Fl(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const p=h[fr]||Fl(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Fl(o){return Te(o)?()=>{const a=Fl(we(o));return a&&a()}:ya(o)}function Yu(o){const a=o[ze],c=a.type;return 2===c?a.declTNode:1===c?o[En]:null}function oo(o){return function Dt(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Mp(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(mr(),o)}const hs="__parameters__";function fs(o,a,c){return Ai(()=>{const d=function Uh(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(C,b,S){const N=C.hasOwnProperty(hs)?C[hs]:Object.defineProperty(C,hs,{value:[]})[hs];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(y),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function Lo(o,a){o.forEach(c=>Array.isArray(c)?Lo(c,a):a(c))}function qh(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Vl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function fi(o,a,c){let d=I(o,a);return d>=0?o[1|d]=c:(d=~d,function hg(o,a,c,d){let h=o.length;if(h==a)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function ao(o,a){const c=I(o,a);if(c>=0)return o[1|c]}function I(o,a){return function _(o,a,c){let d=0,h=o.length>>c;for(;h!==d;){const p=d+(h-d>>1),y=o[p<<c];if(a===y)return p<<c;y>a?h=p:d=p+1}return~(h<<c)}(o,a,1)}const or=Es(fs("Optional"),8),zi=Es(fs("SkipSelf"),4);function ql(o){return 128==(128&o.flags)}var $l=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}($l||{});const vD=/^>|^->|<!--|-->|--!>|<!-$/g,Eg=/(<|>)/g,KI="\u200b$1\u200b";const nc=new Map;let ED=0;const XI="__ngContext__";function mi(o,a){xr(a)?(o[XI]=a[Mi],function ny(o){nc.set(o[Mi],o)}(a)):o[XI]=a}let iy;function sy(o,a){return iy(o,a)}function La(o){const a=o[tn];return Jn(a)?a[tn]:a}function rc(o){return iw(o[xi])}function Hl(o){return iw(o[Si])}function iw(o){for(;null!==o&&!Jn(o);)o=o[Si];return o}function Gl(o,a,c,d,h){if(null!=d){let p,y=!1;Jn(d)?p=d:xr(d)&&(y=!0,d=d[un]);const E=sn(d);0===o&&null!==c?null==h?ow(a,c,E):sc(a,c,E,h||null,!0):1===o&&null!==c?sc(a,c,E,h||null,!0):2===o?function zh(o,a,c){const d=bg(o,a);d&&function OD(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}(a,E,y):3===o&&a.destroyNode(E),null!=p&&function LD(o,a,c,d,h){const p=c[Ni];p!==sn(c)&&Gl(a,o,d,p,h);for(let E=Zn;E<c.length;E++){const C=c[E];Wh(C[ze],C,o,a,d,p)}}(a,o,p,c,h)}}function oy(o,a){return o.createComment(function YI(o){return o.replace(vD,a=>a.replace(Eg,KI))}(a))}function Tg(o,a,c){return o.createElement(a,c)}function ay(o,a){const c=o[Mo],d=c.indexOf(a);Cl(a),c.splice(d,1)}function ic(o,a){if(o.length<=Zn)return;const c=Zn+a,d=o[c];if(d){const h=d[sl];null!==h&&h!==o&&ay(h,d),a>0&&(o[c-1][Si]=d[Si]);const p=Vl(o,Zn+a);!function DD(o,a){Wh(o,a,a[mt],2,null,null),a[un]=null,a[En]=null}(d[ze],d);const y=p[ws];null!==y&&y.detachView(p[ze]),d[tn]=null,d[Si]=null,d[Tt]&=-129}return d}function Ba(o,a){if(!(256&a[Tt])){const c=a[mt];a[Js]&&F_(a[Js]),a[as]&&F_(a[as]),c.destroyNode&&Wh(o,a,c,3,null,null),function MD(o){let a=o[xi];if(!a)return uy(o[ze],o);for(;a;){let c=null;if(xr(a))c=a[xi];else{const d=a[Zn];d&&(c=d)}if(!c){for(;a&&!a[Si]&&a!==o;)xr(a)&&uy(a[ze],a),a=a[tn];null===a&&(a=o),xr(a)&&uy(a[ze],a),c=a&&a[Si]}a=c}}(a)}}function uy(o,a){if(!(256&a[Tt])){a[Tt]&=-129,a[Tt]|=256,function PD(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Pi)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],C=p[y+1];Nr(4,E,C);try{C.call(E)}finally{Nr(5,E,C)}}else{Nr(4,h,p);try{p.call(h)}finally{Nr(5,h,p)}}}}}(o,a),function RD(o,a){const c=o.cleanup,d=a[_a];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+3];y>=0?d[y]():d[-y].unsubscribe(),p+=2}else c[p].call(d[c[p+1]]);null!==d&&(a[_a]=null);const h=a[$i];if(null!==h){a[$i]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(o,a),1===a[ze].type&&a[mt].destroy();const c=a[sl];if(null!==c&&Jn(a[tn])){c!==a[tn]&&ay(c,a);const d=a[ws];null!==d&&d.detachView(o)}!function QI(o){nc.delete(o[Mi])}(a)}}function cy(o,a,c){return function sw(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[un];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=o.data[d.directiveStart+h];if(p===Is.None||p===Is.Emulated)return null}return gr(d,c)}}(o,a.parent,c)}function sc(o,a,c,d,h){o.insertBefore(a,c,d,h)}function ow(o,a,c){o.appendChild(a,c)}function aw(o,a,c,d,h){null!==d?sc(o,a,c,d,h):ow(o,a,c)}function bg(o,a){return o.parentNode(a)}let hy,Sg,py,Mg,dy=function oc(o,a,c){return 40&o.type?gr(o,c):null};function Dg(o,a,c,d){const h=cy(o,d,a),p=a[mt],E=function ly(o,a,c){return dy(o,a,c)}(d.parent||a[En],d,a);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)aw(p,h,c[C],E,!1);else aw(p,h,c,E,!1);void 0!==hy&&hy(p,d,a,c,h)}function ac(o,a){if(null!==a){const c=a.type;if(3&c)return gr(a,o);if(4&c)return Gh(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return ac(o,d);{const h=o[a.index];return Jn(h)?Gh(-1,h):sn(h)}}if(32&c)return sy(a,o)()||sn(o[a.index]);{const d=cw(o,a);return null!==d?Array.isArray(d)?d[0]:ac(La(o[Cn]),d):ac(o,a.next)}}return null}function cw(o,a){return null!==a?o[Cn][En].projection[a.projection]:null}function Gh(o,a){const c=Zn+o+1;if(c<a.length){const d=a[c],h=d[ze].firstChild;if(null!==h)return ac(d,h)}return a[Ni]}function fy(o,a,c,d,h,p,y){for(;null!=c;){const E=d[c.index],C=c.type;if(y&&0===a&&(E&&mi(sn(E),d),c.flags|=2),32!=(32&c.flags))if(8&C)fy(o,a,c.child,d,h,p,!1),Gl(a,o,h,E,p);else if(32&C){const b=sy(c,d);let S;for(;S=b();)Gl(a,o,h,S,p);Gl(a,o,h,E,p)}else 16&C?Kh(o,a,d,c,h,p):Gl(a,o,h,E,p);c=y?c.projectionNext:c.next}}function Wh(o,a,c,d,h,p){fy(c,d,o.firstChild,a,h,p,!1)}function Kh(o,a,c,d,h,p){const y=c[Cn],C=y[En].projection[d.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)Gl(a,o,h,C[b],p);else{let b=C;const S=y[tn];ql(d)&&(b.flags|=128),fy(o,a,b,S,h,p,!0)}}function dw(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function hw(o,a,c){const{mergedAttrs:d,classes:h,styles:p}=c;null!==d&&_n(o,a,d),null!==h&&dw(o,a,h),null!==p&&function BD(o,a,c){o.setAttribute(a,"style",c)}(o,a,p)}function Yh(o){return function xg(){if(void 0===Sg&&(Sg=null,mn.trustedTypes))try{Sg=mn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Sg}()?.createHTML(o)||o}function ZD(o){py=o}function Pg(o){return function Ng(){if(void 0===Mg&&(Mg=null,mn.trustedTypes))try{Mg=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Mg}()?.createScriptURL(o)||o}class cc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}class qD extends cc{getTypeName(){return"HTML"}}class gw extends cc{getTypeName(){return"Style"}}class Og extends cc{getTypeName(){return"Script"}}class mw extends cc{getTypeName(){return"URL"}}class _w extends cc{getTypeName(){return"ResourceURL"}}function Bo(o){return o instanceof cc?o.changingThisBreaksApplicationSecurity:o}function Kl(o,a){const c=function jD(o){return o instanceof cc&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Me})`)}return c===a}function $D(o){return new qD(o)}function kg(o){return new gw(o)}function HD(o){return new Og(o)}function GD(o){return new mw(o)}function Qh(o){return new _w(o)}class zD{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Yh(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class WD{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Yh(a),c}}const YD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function In(o){return(o=String(o)).match(YD)?o:"unsafe:"+o}function Vo(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Yl(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const _i=Vo("area,br,col,hr,img,wbr"),yw=Vo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vw=Vo("rp,rt"),my=Yl(_i,Yl(yw,Vo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yl(vw,Vo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yl(vw,yw)),Jh=Vo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_y=Yl(Jh,Vo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zo=Vo("script,style,template");class XD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!my.hasOwnProperty(c))return this.sanitizedSomething=!0,!Zo.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,E=y.toLowerCase();if(!_y.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=p.value;Jh[E]&&(C=In(C)),this.buf.push(" ",y,'="',e1(C),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();my.hasOwnProperty(c)&&!_i.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(e1(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const dk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hk=/([^\#-~ |!])/g;function e1(o){return o.replace(/&/g,"&amp;").replace(dk,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(hk,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xh;function yy(o,a){let c=null;try{Xh=Xh||function gy(o){const a=new WD(o);return function KD(){try{return!!(new window.DOMParser).parseFromString(Yh(""),"text/html")}catch{return!1}}()?new zD(a):a}(o);let d=a?String(a):"";c=Xh.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=Xh.getInertBodyElement(d)}while(d!==p);return Yh((new XD).sanitizeChildren(ef(c)||c))}finally{if(c){const d=ef(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ef(o){return"content"in o&&function t1(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var lc=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(lc||{});function vy(o){const a=qo();return a?a.sanitize(lc.URL,o)||"":Kl(o,"URL")?Bo(o):In(W(o))}function Iw(o){const a=qo();if(a)return Pg(a.sanitize(lc.RESOURCE_URL,o)||"");if(Kl(o,"ResourceURL"))return Pg(Bo(o));throw new K(904,!1)}function Ey(o,a,c){return function mk(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?Iw:vy}(a,c)(o)}function qo(){const o=ge();return o&&o[il].sanitizer}const tf=new Nt("ENVIRONMENT_INITIALIZER"),ww=new Nt("INJECTOR",-1),Cw=new Nt("INJECTOR_DEF_TYPES");class Iy{get(a,c=F){if(c===F){const d=new Error(`NullInjectorError: No provider for ${Be(a)}!`);throw d.name="NullInjectorError",d}return c}}function wy(o){return{\u0275providers:o}}function Tw(...o){return{\u0275providers:bw(0,o),\u0275fromNgModule:!0}}function bw(o,...a){const c=[],d=new Set;let h;const p=y=>{c.push(y)};return Lo(a,y=>{const E=y;Cy(E,p,[],d)&&(h||=[],h.push(E))}),void 0!==h&&r1(h,p),c}function r1(o,a){for(let c=0;c<o.length;c++){const{ngModule:d,providers:h}=o[c];Aw(h,p=>{a(p,d)})}}function Cy(o,a,c,d){if(!(o=we(o)))return!1;let h=null,p=ts(o);const y=!p&&Lt(o);if(p||y){if(y&&!y.standalone)return!1;h=o}else{const C=o.ngModule;if(p=ts(C),!p)return!1;h=C}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const b of C)Cy(b,a,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let b;d.add(h);try{Lo(p.imports,S=>{Cy(S,a,c,d)&&(b||=[],b.push(S))})}finally{}void 0!==b&&r1(b,a)}if(!E){const b=ya(h)||(()=>new h);a({provide:h,useFactory:b,deps:Zt},h),a({provide:Cw,useValue:h,multi:!0},h),a({provide:tf,useValue:()=>an(h),multi:!0},h)}const C=p.providers;if(null!=C&&!E){const b=o;Aw(C,S=>{a(S,b)})}}}return h!==o&&void 0!==o.providers}function Aw(o,a){for(let c of o)ce(c)&&(c=c.\u0275providers),Array.isArray(c)?Aw(c,a):a(c)}const vk=ue({provide:String,useValue:ue});function Dw(o){return null!==o&&"object"==typeof o&&vk in o}function Yi(o){return"function"==typeof o}const by=new Nt("Set Injector scope."),dc={},i1={};let Ay;function Fg(){return void 0===Ay&&(Ay=new Iy),Ay}class Hn{}class Qi extends Hn{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ug(a,y=>this.processProvider(y)),this.records.set(ww,Ke(void 0,this)),h.has("environment")&&this.records.set(Hn,Ke(void 0,this));const p=this.records.get(by);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Cw.multi,Zt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=Un(this),d=Vt(void 0);try{return a()}finally{Un(c),Vt(d)}}get(a,c=F,d=yt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(xp))return a[xp](this);d=Eu(d);const p=Un(this),y=Vt(void 0);try{if(!(d&yt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const b=function Rw(o){return"function"==typeof o||"object"==typeof o&&o instanceof Nt}(a)&&qi(a);C=b&&this.injectableDefInScope(b)?Ke(Lg(a),dc):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&yt.Self?Fg():this.parent).get(a,c=d&yt.Optional&&c===F?null:c)}catch(E){if("NullInjectorError"===E.name){if((E[le]=E[le]||[]).unshift(Be(a)),p)throw E;return function sh(o,a,c,d){const h=o[le];throw a[Jt]&&h.unshift(a[Jt]),o.message=function Sp(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=Be(a);if(Array.isArray(a))h=a.map(Be).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let E=a[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):Be(E)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(et,"\n  ")}`}("\n"+o.message,h,c,d),o.ngTokenPath=h,o[le]=null,o}(E,a,"R3InjectorError",this.source)}throw E}finally{Vt(y),Un(p)}}resolveInjectorInitializers(){const a=Un(this),c=Vt(void 0);try{const h=this.get(tf.multi,Zt,yt.Self);for(const p of h)p()}finally{Un(a),Vt(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(Be(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(a){let c=Yi(a=we(a))?a:we(a&&a.provide);const d=function Va(o){return Dw(o)?Ke(void 0,o.useValue):Ke(xw(o),dc)}(a);if(Yi(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Ke(void 0,dc,!0),h.factory=()=>ih(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===dc&&(c.value=i1,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Nw(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=we(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Lg(o){const a=qi(o),c=null!==a?a.factory:ya(o);if(null!==c)return c;if(o instanceof Nt)throw new K(204,!1);if(o instanceof Function)return function zr(o){const a=o.length;if(a>0)throw function Qu(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}(a,"?"),new K(204,!1);const c=function Ys(o){return o&&(o[Yn]||o[Ot])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new K(204,!1)}function xw(o,a,c){let d;if(Yi(o)){const h=we(o);return ya(h)||Lg(h)}if(Dw(o))d=()=>we(o.useValue);else if(function Ty(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...ih(o.deps||[]));else if(function Sw(o){return!(!o||!o.useExisting)}(o))d=()=>an(we(o.useExisting));else{const h=we(o&&(o.useClass||o.provide));if(!function Mw(o){return!!o.deps}(o))return ya(h)||Lg(h);d=()=>new h(...ih(o.deps))}return d}function Ke(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Ug(o,a){for(const c of o)Array.isArray(c)?Ug(c,a):c&&ce(c)?Ug(c.\u0275providers,a):a(c)}const Dy=new Nt("AppId",{providedIn:"root",factory:()=>Pw}),Pw="ng",Sy=new Nt("Platform Initializer"),Bg=new Nt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ow=new Nt("AnimationModuleType"),kw=new Nt("CSP nonce",{providedIn:"root",factory:()=>function Wl(){if(void 0!==py)return py;if(typeof document<"u")return document;throw new K(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let o1=(o,a,c)=>null;function af(o,a,c=!1){return o1(o,a,c)}class c1{}class Py{}class cf{resolveComponentFactory(a){throw function bk(o){const a=Error(`No component factory found for ${Be(o)}.`);return a.ngComponent=o,a}(a)}}let hc=(()=>{class o{static#e=this.NULL=new cf}return o})();function ed(){return fo(mr(),ge())}function fo(o,a){return new fc(gr(o,a))}let fc=(()=>{class o{constructor(c){this.nativeElement=c}static#e=this.__NG_ELEMENT_ID__=ed}return o})();function d1(o){return o instanceof fc?o.nativeElement:o}class Hg{}let h1=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Gg(){const o=ge(),c=ci(mr().index,o);return(xr(c)?c:o)[mt]}()}return o})(),Vw=(()=>{class o{static#e=this.\u0275prov=wt({token:o,providedIn:"root",factory:()=>null})}return o})();class Oy{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const lf=new Oy("16.2.11"),pc={};function Yg(o,a=null,c=null,d){const h=df(o,a,c,d);return h.resolveInjectorInitializers(),h}function df(o,a=null,c=null,d,h=new Set){const p=[c||Zt,Tw(o)];return d=d||("object"==typeof o?void 0:Be(o)),new Qi(p,a||Fg(),d||null,h)}let ks=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=F;static#t=this.NULL=new Iy;static create(c,d){if(Array.isArray(c))return Yg({name:""},d,c,"");{const h=c.name??"";return Yg({name:h},c.parent,c.providers,h)}}static#n=this.\u0275prov=wt({token:o,providedIn:"any",factory:()=>an(ww)});static#r=this.__NG_ELEMENT_ID__=-1}return o})();function Fy(o){return o.ngOriginalError}class $o{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Fy(a);for(;c&&Fy(c);)c=Fy(c);return c||null}}function jw(o){return a=>{setTimeout(o,void 0,a)}}const Ho=class Uy extends s.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,p=c||(()=>null),y=d;if(a&&"object"==typeof a){const C=a;h=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=jw(p),h&&(h=jw(h)),y&&(y=jw(y)));const E=super.subscribe({next:h,error:p,complete:y});return a instanceof L.w0&&a.add(E),E}};function Qg(...o){}class Xn{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ho(!1),this.onMicrotaskEmpty=new Ho(!1),this.onStable=new Ho(!1),this.onError=new Ho(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function p1(){const o="function"==typeof mn.requestAnimationFrame;let a=mn[o?"requestAnimationFrame":"setTimeout"],c=mn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function hf(o){const a=()=>{!function _1(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(mn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ff(o),o.isCheckStableRunning=!0,$w(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ff(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,y,E)=>{if(function Gw(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(E))return c.invokeTask(h,p,y,E);try{return By(o),c.invokeTask(h,p,y,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),Vy(o)}},onInvoke:(c,d,h,p,y,E,C)=>{try{return By(o),c.invoke(h,p,y,E,C)}finally{o.shouldCoalesceRunChangeDetection&&a(),Vy(o)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,ff(o),$w(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xn.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(Xn.isInAngularZone())throw new K(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,a,m1,Qg,Qg);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const m1={};function $w(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ff(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function By(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Vy(o){o._nesting--,$w(o)}class Go{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ho,this.onMicrotaskEmpty=new Ho,this.onStable=new Ho,this.onError=new Ho}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const y1=new Nt("",{providedIn:"root",factory:Hw});function Hw(){const o=Xt(Xn);let a=!0;const c=new ie.y(h=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{h.next(a),h.complete()})}),d=new ie.y(h=>{let p;o.runOutsideAngular(()=>{p=o.onStable.subscribe(()=>{Xn.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const y=o.onUnstable.subscribe(()=>{Xn.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,se.T)(c,d.pipe((0,Re.B)()))}function zo(o){return o instanceof Function?o():o}let qy=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=wt({token:o,providedIn:"root",factory:()=>new o})}return o})();function Ls(o){for(;o;){o[Tt]|=64;const a=La(o);if(Mu(o)&&!a)return o;o=a}return null}const jy=new Nt("",{providedIn:"root",factory:()=>!1});let po=null;function $y(o,a){return o[a]??Hy()}function Jw(o,a){const c=Hy();c.producerNode?.length&&(o[a]=po,c.lView=o,po=Xw())}const Bs={...R_,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Ls(o.lView)},lView:null};function Xw(){return Object.create(Bs)}function Hy(){return po??=Xw(),po}const St={};function go(o){ja(Ut(),ge(),gt()+o,!1)}function ja(o,a,c,d){if(!d)if(3==(3&a[Tt])){const p=o.preOrderCheckHooks;null!==p&&no(a,p,c)}else{const p=o.preOrderHooks;null!==p&&ro(a,p,0,c)}Oo(c)}function rd(o,a=yt.Default){const c=ge();return null===c?an(o,a):Ms(mr(),c,we(o),a)}function Gy(){throw new Error("invalid")}function zy(o,a,c,d,h,p,y,E,C,b,S){const N=a.blueprint.slice();return N[un]=h,N[Tt]=140|d,(null!==b||o&&2048&o[Tt])&&(N[Tt]|=2048),Sh(N),N[tn]=N[os]=o,N[xn]=c,N[il]=y||o&&o[il],N[mt]=E||o&&o[mt],N[$r]=C||o&&o[$r]||null,N[En]=p,N[Mi]=function ID(){return ED++}(),N[Cs]=S,N[I_]=b,N[Cn]=2==a.type?o[Cn]:N,N}function $a(o,a,c,d,h){let p=o.data[a];if(null===p)p=function Wo(o,a,c,d,h){const p=Jp(),y=Lu(),C=o.data[a]=function nC(o,a,c,d,h,p){let y=a?a.injectorIndex:-1,E=0;return function No(){return null!==ft.skipHydrationRootTNode}()&&(E|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,d,h);return null===o.firstChild&&(o.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C,C.prev=p)),C}(o,a,c,d,h),function G_(){return ft.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const y=function bl(){const o=ft.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return bs(p,!0),p}function id(o,a,c,d){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function Wy(o,a,c,d,h){const p=$y(a,Js),y=gt(),E=2&d;try{Oo(-1),E&&a.length>ht&&ja(o,a,ht,!1),Nr(E?2:0,h);const b=E?p:null,S=pl(b);try{null!==b&&(b.dirty=!1),c(d,h)}finally{Lp(b,S)}}finally{E&&null===a[Js]&&Jw(a,Js),Oo(y),Nr(E?3:1,h)}}function Ko(o,a,c){if(Su(a)){const d=Mr(null);try{const p=a.directiveEnd;for(let y=a.directiveStart;y<p;y++){const E=o.data[y];E.contentQueries&&E.contentQueries(1,c[y],y)}}finally{Mr(d)}}}function Ky(o,a,c){Nh()&&(function Yo(o,a,c,d){const h=c.directiveStart,p=c.directiveEnd;Xs(c)&&function R(o,a,c){const d=gr(a,o),h=eC(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const E=gf(o,zy(o,h,null,y,d,a,null,o[il].rendererFactory.createRenderer(d,c),null,null,null));o[a.index]=E}(a,c,o.data[h+c.componentOffset]),o.firstCreatePass||Gu(c,a),mi(d,a);const y=c.initialInputs;for(let E=h;E<p;E++){const C=o.data[E],b=so(a,o,E,c);mi(b,a),null!==y&&_e(0,E-h,b,C,0,y),Hi(C)&&(ci(c.index,a)[xn]=so(a,o,E,c))}}(o,a,c,gr(c,a)),64==(64&c.flags)&&R1(o,a,c))}function em(o,a,c=gr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],E=-1===y?c(a,o):o[y];o[h++]=E}}}function eC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=tm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function tm(o,a,c,d,h,p,y,E,C,b,S){const N=ht+d,V=N+h,H=function b1(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:St);return c}(N,V),ae="function"==typeof b?b():b;return H[ze]={type:o,blueprint:H,template:c,queries:null,viewQuery:E,declTNode:a,data:H.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ae,incompleteFirstPass:!1,ssrId:S}}let Yy=o=>null;function rC(o,a,c,d){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const p=o[h];null===d?Qy(c,a,h,p):d.hasOwnProperty(h)&&Qy(c,a,d[h],p)}return c}function Qy(o,a,c,d){o.hasOwnProperty(c)?o[c].push(a,d):o[c]=[a,d]}function gs(o,a,c,d,h,p,y,E){const C=gr(a,c);let S,b=a.inputs;!E&&null!=b&&(S=b[d])?(ev(o,c,S,d,h),Xs(a)&&function kk(o,a){const c=ci(a,o);16&c[Tt]||(c[Tt]|=64)}(c,a.index)):3&a.type&&(d=function iC(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=y?y(h,a.value||"",d):h,p.setProperty(C,d,h))}function rm(o,a,c,d){if(Nh()){const h=null===d?null:{"":-1},p=function Bk(o,a){const c=o.directiveRegistry;let d=null,h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];if(Rp(a,y.selectors,!1))if(d||(d=[]),Hi(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),Jy(o,a,E.length)}else d.unshift(y),Jy(o,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(o,c);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&N1(o,a,c,y,h,E),h&&function Xy(o,a,c){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new K(-301,!1);d.push(a[h],p)}}}(c,d,h)}c.mergedAttrs=Cu(c.mergedAttrs,c.attrs)}function N1(o,a,c,d,h,p){for(let b=0;b<d.length;b++)Wu(Gu(c,a),o,d[b].type);!function P1(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,d.length);for(let b=0;b<d.length;b++){const S=d[b];S.providersResolver&&S.providersResolver(S)}let y=!1,E=!1,C=id(o,a,d.length,null);for(let b=0;b<d.length;b++){const S=d[b];c.mergedAttrs=Cu(c.mergedAttrs,S.hostAttrs),O1(o,c,a,C,S),yi(C,S,h),null!==S.contentQueries&&(c.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(c.flags|=64);const N=S.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),y=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),E=!0),C++}!function x1(o,a,c){const h=a.directiveEnd,p=o.data,y=a.attrs,E=[];let C=null,b=null;for(let S=a.directiveStart;S<h;S++){const N=p[S],V=c?c.get(N):null,ae=V?V.outputs:null;C=rC(N.inputs,S,C,V?V.inputs:null),b=rC(N.outputs,S,b,ae);const be=null===C||null===y||uh(a)?null:k1(C,S,y);E.push(be)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=8),C.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=C,a.outputs=b}(o,c,p)}function R1(o,a,c){const d=c.directiveStart,h=c.directiveEnd,p=c.index,y=function FI(){return ft.lFrame.currentDirectiveIndex}();try{Oo(p);for(let E=d;E<h;E++){const C=o.data[E],b=a[E];Al(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Uk(C,b)}}finally{Oo(-1),Al(y)}}function Uk(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Jy(o,a,c){a.componentOffset=c,(o.components??=[]).push(a.index)}function yi(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;Hi(a)&&(c[""]=o)}}function O1(o,a,c,d,h){o.data[d]=h;const p=h.factory||(h.factory=ya(h.type)),y=new Pi(p,Hi(h),rd);o.blueprint[d]=y,c[d]=y,function Lk(o,a,c,d,h){const p=h.hostBindings;if(p){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const E=~a.index;(function sC(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=E&&y.push(E),y.push(c,d,p)}}(o,a,d,id(o,c,h.hostVars,St),h)}function gn(o,a,c,d,h,p){const y=gr(o,a);!function Wr(o,a,c,d,h,p,y){if(null==p)o.removeAttribute(a,h,c);else{const E=null==y?W(p):y(p,d||"",h);o.setAttribute(a,h,E,c)}}(a[mt],y,p,o.value,c,d,h)}function _e(o,a,c,d,h,p){const y=p[a];if(null!==y)for(let E=0;E<y.length;)oC(d,c,y[E++],y[E++],y[E++])}function oC(o,a,c,d,h){const p=Mr(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(d)&&(h=y[d].call(a,h)),null!==o.setInput?o.setInput(a,h,c,d):a[d]=h}finally{Mr(p)}}function k1(o,a,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===d&&(d=[]);const y=o[p];for(let E=0;E<y.length;E+=2)if(y[E]===a){d.push(p,y[E+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function aC(o,a,c,d){return[o,!0,!1,a,null,0,d,c,null,null,null]}function im(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d+1];if(-1!==p){const y=o.data[p];Ph(c[d]),y.contentQueries(2,a[p],p)}}}function gf(o,a){return o[xi]?o[So][Si]=a:o[xi]=a,o[So]=a,a}function Qo(o,a,c){Ph(0);const d=Mr(null);try{a(o,c)}finally{Mr(d)}}function uC(o){return o[_a]||(o[_a]=[])}function cC(o){return o.cleanup||(o.cleanup=[])}function dC(o,a){const c=o[$r],d=c?c.get($o,null):null;d&&d.handleError(a)}function ev(o,a,c,d,h){for(let p=0;p<c.length;){const y=c[p++],E=c[p++];oC(o.data[y],a[y],d,E,h)}}function Jo(o,a,c){const d=Ou(a,o);!function zl(o,a,c){o.setValue(a,c)}(o[mt],d,c)}function F1(o,a){const c=ci(a,o),d=c[ze];!function L1(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])}(d,c);const h=c[un];null!==h&&null===c[Cs]&&(c[Cs]=af(h,c[$r])),tv(d,c,c[xn])}function tv(o,a,c){sr(a);try{const d=o.viewQuery;null!==d&&Qo(1,d,c);const h=o.template;null!==h&&Wy(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&im(o,a),o.staticViewQueries&&Qo(2,o.viewQuery,c);const p=o.components;null!==p&&function U1(o,a){for(let c=0;c<a.length;c++)F1(o,a[c])}(a,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[Tt]&=-5,xl()}}let hC=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(c,d,h){const p=typeof Zone>"u"?null:Zone.current,y=function B_(o,a,c){const d=Object.create(Il);c&&(d.consumerAllowSignalWrites=!0),d.fn=o,d.schedule=a;const h=y=>{d.cleanupFn=y};return d.ref={notify:()=>k_(d),run:()=>{if(d.dirty=!1,d.hasRun&&!gl(d))return;d.hasRun=!0;const y=pl(d);try{d.cleanupFn(),d.cleanupFn=Ch,d.fn(h)}finally{Lp(d,y)}},cleanup:()=>d.cleanupFn()},d.ref}(c,b=>{this.all.has(b)&&this.queue.set(b,p)},h);let E;this.all.add(y),y.notify();const C=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=d?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=wt({token:o,providedIn:"root",factory:()=>new o})}return o})();function sm(o,a,c){let d=c?o.styles:null,h=c?o.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?p=E:1==p?h=xe(h,E):2==p&&(d=xe(d,E+": "+a[++y]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}function mf(o,a,c,d,h=!1){for(;null!==c;){const p=a[c.index];null!==p&&d.push(sn(p)),Jn(p)&&fC(p,d);const y=c.type;if(8&y)mf(o,a,c.child,d);else if(32&y){const E=sy(c,a);let C;for(;C=E();)d.push(C)}else if(16&y){const E=cw(a,c);if(Array.isArray(E))d.push(...E);else{const C=La(a[Cn]);mf(C[ze],C,E,d,!0)}}c=h?c.projectionNext:c.next}return d}function fC(o,a){for(let c=Zn;c<o.length;c++){const d=o[c],h=d[ze].firstChild;null!==h&&mf(d[ze],d,h,a)}o[Ni]!==o[un]&&a.push(o[Ni])}function om(o,a,c,d=!0){const h=a[il],p=h.rendererFactory,y=h.afterRenderEventManager;p.begin?.(),y?.begin();try{pC(o,a,o.template,c)}catch(C){throw d&&dC(a,C),C}finally{p.end?.(),h.effectManager?.flush(),y?.end()}}function pC(o,a,c,d){const h=a[Tt];if(256!=(256&h)){a[il].effectManager?.flush(),sr(a);try{Sh(a),function Rh(o){return ft.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Wy(o,a,c,2,d);const y=3==(3&h);if(y){const b=o.preOrderCheckHooks;null!==b&&no(a,b,null)}else{const b=o.preOrderHooks;null!==b&&ro(a,b,0,null),Zu(a,0)}if(function Z1(o){for(let a=rc(o);null!==a;a=Hl(a)){if(!a[ol])continue;const c=a[Mo];for(let d=0;d<c.length;d++){q_(c[d])}}}(a),gC(a,2),null!==o.contentQueries&&im(o,a),y){const b=o.contentCheckHooks;null!==b&&no(a,b)}else{const b=o.contentHooks;null!==b&&ro(a,b,1),Zu(a,1)}!function T1(o,a){const c=o.hostBindingOpCodes;if(null===c)return;const d=$y(a,as);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Oo(~p);else{const y=p,E=c[++h],C=c[++h];kI(E,y),d.dirty=!1;const b=pl(d);try{C(2,a[y])}finally{Lp(d,b)}}}}finally{null===a[as]&&Jw(a,as),Oo(-1)}}(o,a);const E=o.components;null!==E&&_C(a,E,0);const C=o.viewQuery;if(null!==C&&Qo(2,C,d),y){const b=o.viewCheckHooks;null!==b&&no(a,b)}else{const b=o.viewHooks;null!==b&&ro(a,b,2),Zu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Tt]&=-73,Cl(a)}finally{xl()}}}function gC(o,a){for(let c=rc(o);null!==c;c=Hl(c))for(let d=Zn;d<c.length;d++)mC(c[d],a)}function q1(o,a,c){mC(ci(a,o),c)}function mC(o,a){if(!function PI(o){return 128==(128&o[Tt])}(o))return;const c=o[ze],d=o[Tt];if(80&d&&0===a||1024&d||2===a)pC(c,o,c.template,o[xn]);else if(o[Do]>0){gC(o,1);const h=c.components;null!==h&&_C(o,h,1)}}function _C(o,a,c){for(let d=0;d<a.length;d++)q1(o,a[d],c)}class Ha{get rootNodes(){const a=this._lView,c=a[ze];return mf(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(a){this._lView[xn]=a}get destroyed(){return 256==(256&this._lView[Tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[tn];if(Jn(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(ic(a,d),Vl(c,d))}this._attachedToViewContainer=!1}Ba(this._lView[ze],this._lView)}onDestroy(a){!function xh(o,a){if(256==(256&o[Tt]))throw new K(911,!1);null===o[$i]&&(o[$i]=[]),o[$i].push(a)}(this._lView,a)}markForCheck(){Ls(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tt]&=-129}reattach(){this._lView[Tt]|=128}detectChanges(){om(this._lView[ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xD(o,a){Wh(o,a,a[mt],2,null,null)}(this._lView[ze],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=a}}class j1 extends Ha{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;om(a[ze],a,a[xn],!1)}checkNoChanges(){}get context(){return null}}class Ga extends hc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Lt(a);return new _r(c,this.ngModule)}}function _f(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class qk{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=Eu(d);const h=this.injector.get(a,pc,d);return h!==pc||c===pc?h:this.parentInjector.get(a,c,d)}}class _r extends Py{get inputs(){const a=this.componentDef,c=a.inputTransforms,d=_f(a.inputs);if(null!==c)for(const h of d)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return d}get outputs(){return _f(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function lh(o){return o.map(Jc).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let p=(h=h||this.ngModule)instanceof Hn?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new qk(a,p):a,E=y.get(Hg,null);if(null===E)throw new K(407,!1);const N={rendererFactory:E,sanitizer:y.get(Vw,null),effectManager:y.get(hC,null),afterRenderEventManager:y.get(qy,null)},V=E.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",ae=d?function A1(o,a,c,d){const p=d.get(jy,!1)||c===Is.ShadowDom,y=o.selectRootElement(a,p);return function nm(o){Yy(o)}(y),y}(V,d,this.componentDef.encapsulation,y):Tg(V,H,function $1(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(H)),nt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let me=null;null!==ae&&(me=af(ae,y,!0));const Et=tm(0,null,null,1,0,null,null,null,null,null,null),Rt=zy(null,Et,null,nt,null,null,N,V,y,null,me);let $t,Er;sr(Rt);try{const js=this.componentDef;let Rc,J4=null;js.findHostDirectiveDefs?(Rc=[],J4=new Map,js.findHostDirectiveDefs(js,Rc,J4),Rc.push(js)):Rc=[js];const D0=function jk(o,a){const c=o[ze],d=ht;return o[d]=a,$a(c,d,2,"#host",null)}(Rt,ae),X4=function $k(o,a,c,d,h,p,y){const E=h[ze];!function H1(o,a,c,d){for(const h of o)a.mergedAttrs=Cu(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(sm(a,a.mergedAttrs,!0),null!==c&&hw(d,c,a))}(d,o,a,y);let C=null;null!==a&&(C=af(a,h[$r]));const b=p.rendererFactory.createRenderer(a,c);let S=16;c.signals?S=4096:c.onPush&&(S=64);const N=zy(h,eC(c),null,S,h[o.index],o,p,b,null,null,C);return E.firstCreatePass&&Jy(E,o,d.length-1),gf(h,N),h[o.index]=N}(D0,ae,js,Rc,Rt,N,V);Er=ku(Et,ht),ae&&function G1(o,a,c,d){if(d)_n(o,c,["ng-version",lf.full]);else{const{attrs:h,classes:p}=function v_(o){const a=[],c=[];let d=1,h=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===h?""!==p&&a.push(p,o[++d]):8===h&&c.push(p);else{if(!ai(h))break;h=p}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&_n(o,c,h),p&&p.length>0&&dw(o,c,p.join(" "))}}(V,js,ae,d),void 0!==c&&function sd(o,a,c){const d=o.projection=[];for(let h=0;h<a.length;h++){const p=c[h];d.push(null!=p?Array.from(p):null)}}(Er,this.ngContentSelectors,c),$t=function Xo(o,a,c,d,h,p){const y=mr(),E=h[ze],C=gr(y,h);N1(E,h,y,c,null,d);for(let S=0;S<c.length;S++)mi(so(h,E,y.directiveStart+S,y),h);R1(E,h,y),C&&mi(C,h);const b=so(h,E,y.directiveStart+y.componentOffset,y);if(o[xn]=h[xn]=b,null!==p)for(const S of p)S(b,a);return Ko(E,y,o),b}(X4,js,Rc,J4,Rt,[yC]),tv(Et,Rt,null)}finally{xl()}return new yf(this.componentType,$t,fo(Er,Rt),Rt,Er)}}class yf extends c1{constructor(a,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new j1(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const p=this._rootLView;ev(p[ze],p,h,a,c),this.previousInputValues.set(a,c),Ls(ci(this._tNode.index,p))}}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function yC(){const o=mr();Ss(ge()[ze],o)}function EC(o){let a=function vC(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let h;if(Hi(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new K(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const y=o;y.inputs=od(o.inputs),y.inputTransforms=od(o.inputTransforms),y.declaredInputs=od(o.declaredInputs),y.outputs=od(o.outputs);const E=h.hostBindings;E&&zk(o,E);const C=h.viewQuery,b=h.contentQueries;if(C&&vi(o,C),b&&Gk(o,b),Qe(o.inputs,h.inputs),Qe(o.declaredInputs,h.declaredInputs),Qe(o.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),Qe(y.inputTransforms,h.inputTransforms)),Hi(h)&&h.data.animation){const S=o.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(o),E===EC&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Hk(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Cu(h.hostAttrs,c=Cu(c,h.hostAttrs))}}(d)}function od(o){return o===Di?{}:o===Zt?[]:o}function vi(o,a){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function Gk(o,a){const c=o.contentQueries;o.contentQueries=c?(d,h,p)=>{a(d,h,p),c(d,h,p)}:a}function zk(o,a){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function sv(o){const a=o.inputConfig,c={};for(const d in a)if(a.hasOwnProperty(d)){const h=a[d];Array.isArray(h)&&h[2]&&(c[d]=h[2])}o.inputTransforms=c}function um(o){return!!ov(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function ov(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Vs(o,a,c){return o[a]=c}function Kr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function za(o,a,c,d){const h=Kr(o,a,c);return Kr(o,a+1,d)||h}function av(o,a,c,d){const h=ge();return Kr(h,Bu(),a)&&(Ut(),gn(vn(),h,o,a,c,d)),av}function Wa(o,a,c,d){return Kr(o,Bu(),c)?a+W(c)+d:St}function Ka(o,a,c,d,h,p,y,E){const b=function If(o,a,c,d,h){const p=za(o,a,c,d);return Kr(o,a+2,h)||p}(o,function cs(){return ft.lFrame.bindingIndex}(),c,h,y);return to(3),b?a+W(c)+d+W(h)+p+W(y)+E:St}function hv(o,a,c,d,h,p,y,E){const C=ge(),b=Ut(),S=o+ht,N=b.firstCreatePass?function cS(o,a,c,d,h,p,y,E,C){const b=a.consts,S=$a(a,o,4,y||null,Ts(b,E));rm(a,c,S,Ts(b,C)),Ss(a,S);const N=S.tView=tm(2,S,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,b,null);return null!==a.queries&&(a.queries.template(a,S),N.queries=a.queries.embeddedTView(S)),S}(S,b,C,a,c,d,h,p,y):b.data[S];bs(N,!1);const V=PC(b,C,N,o);Aa()&&Dg(b,C,V,N),mi(V,C),gf(C,C[S]=aC(V,C,V,N)),xu(N)&&Ky(b,C,N),null!=y&&em(C,N,E)}let PC=function Xa(o,a,c,d){return Ds(!0),a[mt].createComment("")};function FC(o){return wa(function OI(){return ft.lFrame.contextLView}(),ht+o)}function na(o,a,c){const d=ge();return Kr(d,Bu(),a)&&gs(Ut(),vn(),d,o,a,d[mt],c,!1),na}function wf(o,a,c,d,h){const y=h?"class":"style";ev(o,c,a.inputs[y],y,d)}function Ic(o,a,c,d){const h=ge(),p=Ut(),y=ht+o,E=h[mt],C=p.firstCreatePass?function fv(o,a,c,d,h,p){const y=a.consts,C=$a(a,o,2,d,Ts(y,h));return rm(a,c,C,Ts(y,p)),null!==C.attrs&&sm(C,C.attrs,!1),null!==C.mergedAttrs&&sm(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(y,p,h,a,c,d):p.data[y],b=ym(p,h,C,E,a,o);h[y]=b;const S=xu(C);return bs(C,!0),hw(E,b,C),32!=(32&C.flags)&&Aa()&&Dg(p,h,b,C),0===function Ta(){return ft.lFrame.elementDepthCount}()&&mi(b,h),function Mh(){ft.lFrame.elementDepthCount++}(),S&&(Ky(p,h,C),Ko(p,C,h)),null!==d&&em(h,C),Ic}function fd(){let o=mr();Lu()?Xp():(o=o.parent,bs(o,!1));const a=o;(function Tl(o){return ft.skipHydrationRootTNode===o})(a)&&function $_(){ft.skipHydrationRootTNode=null}(),function j_(){ft.lFrame.elementDepthCount--}();const c=Ut();return c.firstCreatePass&&(Ss(c,o),Su(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function ls(o){return 0!=(8&o.flags)}(a)&&wf(c,a,ge(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Mn(o){return 0!=(16&o.flags)}(a)&&wf(c,a,ge(),a.stylesWithoutHost,!1),fd}function Cf(o,a,c,d){return Ic(o,a,c,d),fd(),Cf}let ym=(o,a,c,d,h,p)=>(Ds(!0),Tg(d,h,function Nl(){return ft.lFrame.currentNamespace}()));function pd(o,a,c){const d=ge(),h=Ut(),p=o+ht,y=h.firstCreatePass?function gv(o,a,c,d,h){const p=a.consts,y=Ts(p,d),E=$a(a,o,8,"ng-container",y);return null!==y&&sm(E,y,!0),rm(a,c,E,Ts(p,h)),null!==a.queries&&a.queries.elementStart(a,E),E}(p,h,d,a,c):h.data[p];bs(y,!0);const E=UC(h,d,y,o);return d[p]=E,Aa()&&Dg(h,d,E,y),mi(E,d),xu(y)&&(Ky(h,d,y),Ko(h,y,d)),null!=c&&em(d,y),pd}function vm(){let o=mr();const a=Ut();return Lu()?Xp():(o=o.parent,bs(o,!1)),a.firstCreatePass&&(Ss(a,o),Su(o)&&a.queries.elementEnd(o)),vm}let UC=(o,a,c,d)=>(Ds(!0),oy(a[mt],""));function Em(){return ge()}function Im(o){return!!o&&"function"==typeof o.then}function _v(o){return!!o&&"function"==typeof o.subscribe}function yv(o,a,c,d){const h=ge(),p=Ut(),y=mr();return function VC(o,a,c,d,h,p,y){const E=xu(d),b=o.firstCreatePass&&cC(o),S=a[xn],N=uC(a);let V=!0;if(3&d.type||y){const be=gr(d,a),qe=y?y(be):be,nt=N.length,me=y?Rt=>y(sn(Rt[d.index])):d.index;let Et=null;if(!y&&E&&(Et=function vv(o,a,c,d){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===d){const E=a[_a],C=h[p+2];return E.length>C?E[C]:null}"string"==typeof y&&(p+=2)}return null}(o,a,h,d.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,V=!1;else{p=Cm(d,a,S,p,!1);const Rt=c.listen(qe,h,p);N.push(p,Rt),b&&b.push(h,me,nt,nt+1)}}else p=Cm(d,a,S,p,!1);const H=d.outputs;let ae;if(V&&null!==H&&(ae=H[h])){const be=ae.length;if(be)for(let qe=0;qe<be;qe+=2){const $t=a[ae[qe]][ae[qe+1]].subscribe(p),Er=N.length;N.push(p,$t),b&&b.push(h,d.index,Er,-(Er+1))}}}(p,h,h[mt],y,o,a,d),yv}function wm(o,a,c,d){try{return Nr(6,a,c),!1!==c(d)}catch(h){return dC(o,h),!1}finally{Nr(7,a,c)}}function Cm(o,a,c,d,h){return function p(y){if(y===Function)return d;Ls(o.componentOffset>-1?ci(o.index,a):a);let C=wm(a,c,d,y),b=p.__ngNextListenerFn__;for(;b;)C=wm(a,c,b,y)&&C,b=b.__ngNextListenerFn__;return h&&!1===C&&y.preventDefault(),C}}function ZC(o=1){return function Ro(o){return(ft.lFrame.contextLView=function Po(o,a){for(;o>0;)a=a[os],o--;return a}(o,ft.lFrame.contextLView))[xn]}(o)}function bf(o,a,c){return Tm(o,"",a,"",c),bf}function Tm(o,a,c,d,h){const p=ge(),y=Wa(p,a,c,d);return y!==St&&gs(Ut(),vn(),p,o,y,p[mt],h,!1),Tm}function Dm(o,a){return o<<17|a<<2}function mo(o){return o>>17&32767}function wv(o){return 2|o}function gd(o){return(131068&o)>>2}function Af(o,a){return-131069&o|a<<2}function KC(o){return 1|o}function JC(o,a,c,d,h){const p=o[c+1],y=null===a;let E=d?mo(p):gd(p),C=!1;for(;0!==E&&(!1===C||y);){const S=o[E+1];gS(o[E],a)&&(C=!0,o[E+1]=d?KC(S):wv(S)),E=d?mo(S):gd(S)}C&&(o[c+1]=d?wv(p):KC(p))}function gS(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&I(o,a)>=0}function bv(o,a){return function yo(o,a,c,d){const h=ge(),p=Ut(),y=to(2);p.firstUpdatePass&&function ES(o,a,c,d){const h=o.data;if(null===h[c+1]){const p=h[gt()],y=function Df(o,a){return a>=o.expandoStartIndex}(o,c);(function iT(o,a){return 0!=(o.flags&(a?8:16))})(p,d)&&null===a&&!y&&(a=!1),a=function IS(o,a,c,d){const h=function ir(o){const a=ft.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=Sf(c=Dv(null,o,a,c,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==h)if(c=Dv(h,o,a,c,d),null===p){let C=function wS(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==gd(d))return o[mo(d)]}(o,a,d);void 0!==C&&Array.isArray(C)&&(C=Dv(null,o,a,C[1],d),C=Sf(C,a.attrs,d),function CS(o,a,c,d){o[mo(c?a.classBindings:a.styleBindings)]=d}(o,a,d,C))}else p=function TS(o,a,c){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=Sf(d,o[p].hostAttrs,c);return Sf(d,a.attrs,c)}(o,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,d),function QC(o,a,c,d,h,p){let y=p?a.classBindings:a.styleBindings,E=mo(y),C=gd(y);o[d]=c;let S,b=!1;if(Array.isArray(c)?(S=c[1],(null===S||I(c,S)>0)&&(b=!0)):S=c,h)if(0!==C){const V=mo(o[E+1]);o[d+1]=Dm(V,E),0!==V&&(o[V+1]=Af(o[V+1],d)),o[E+1]=function Iv(o,a){return 131071&o|a<<17}(o[E+1],d)}else o[d+1]=Dm(E,0),0!==E&&(o[E+1]=Af(o[E+1],d)),E=d;else o[d+1]=Dm(C,0),0===E?E=d:o[C+1]=Af(o[C+1],d),C=d;b&&(o[d+1]=wv(o[d+1])),JC(o,S,d,!0),JC(o,S,d,!1),function pS(o,a,c,d,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&I(p,a)>=0&&(c[d+1]=KC(c[d+1]))}(a,S,o,d,p),y=Dm(E,C),p?a.classBindings=y:a.styleBindings=y}(h,p,a,c,y,d)}}(p,o,y,d),a!==St&&Kr(h,y,a)&&function xf(o,a,c,d,h,p,y,E){if(!(3&a.type))return;const C=o.data,b=C[E+1],S=function Qk(o){return 1==(1&o)}(b)?eu(C,a,c,h,gd(b),y):void 0;Mm(S)||(Mm(p)||function fS(o){return 2==(2&o)}(b)&&(p=eu(C,null,c,h,E,y)),function UD(o,a,c,d,h){if(a)h?o.addClass(c,d):o.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:$l.DashCase;null==h?o.removeStyle(c,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=$l.Important),o.setStyle(c,d,h,p))}}(d,y,Ou(gt(),c),h,p))}(p,p.data[gt()],h,h[mt],o,h[y+1]=function SS(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Be(Bo(o)))),o}(a,c),d,y)}(o,a,null,!0),bv}function Dv(o,a,c,d,h){let p=null;const y=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<y&&(p=a[E],d=Sf(d,p.hostAttrs,h),p!==o);)E++;return null!==o&&(c.directiveStylingLast=E),d}function Sf(o,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?h=y:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),fi(o,y,!!c||a[++p]))}return void 0===o?null:o}function eu(o,a,c,d,h,p){const y=null===a;let E;for(;h>0;){const C=o[h],b=Array.isArray(C),S=b?C[1]:C,N=null===S;let V=c[h+1];V===St&&(V=N?Zt:void 0);let H=N?ao(V,d):S===d?V:void 0;if(b&&!Mm(H)&&(H=ao(C,d)),Mm(H)&&(E=H,y))return E;const ae=o[h+1];h=y?mo(ae):gd(ae)}if(null!==a){let C=p?a.residualClasses:a.residualStyles;null!=C&&(E=ao(C,d))}return E}function Mm(o){return void 0!==o}function sT(o,a=""){const c=ge(),d=Ut(),h=o+ht,p=d.firstCreatePass?$a(d,h,1,a,null):d.data[h],y=oT(d,c,p,a,o);c[h]=y,Aa()&&Dg(d,c,y,p),bs(p,!1)}let oT=(o,a,c,d,h)=>(Ds(!0),function Ua(o,a){return o.createText(a)}(a[mt],d));function Mf(o){return Nm("",o,""),Mf}function Nm(o,a,c){const d=ge(),h=Wa(d,o,a,c);return h!==St&&Jo(d,gt(),h),Nm}function Sv(o,a,c,d,h,p,y){const E=ge(),C=Ka(E,o,a,c,d,h,p,y);return C!==St&&Jo(E,gt(),C),Sv}const sa=void 0;var vT=["en",[["a","p"],["AM","PM"],sa],[["AM","PM"],sa,sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sa,"{1} 'at' {0}",sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function US(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let _d={};function Vv(o){const a=function CT(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=tu(a);if(c)return c;const d=a.split("-")[0];if(c=tu(d),c)return c;if("en"===d)return vT;throw new K(701,!1)}function IT(o){return Vv(o)[nu.PluralCase]}function tu(o){return o in _d||(_d[o]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[o]),_d[o]}var nu=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(nu||{});const ru="en-US";let TT=ru;function e4(o,a,c,d,h){if(o=we(o),Array.isArray(o))for(let p=0;p<o.length;p++)e4(o[p],a,c,d,h);else{const p=Ut(),y=ge(),E=mr();let C=Yi(o)?o:we(o.provide);const b=xw(o),S=1048575&E.providerIndexes,N=E.directiveStart,V=E.providerIndexes>>20;if(Yi(o)||!o.multi){const H=new Pi(b,h,rd),ae=kf(C,a,h?S:S+V,N);-1===ae?(Wu(Gu(E,y),p,C),Of(p,o,a.length),a.push(C),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(H),y.push(H)):(c[ae]=H,y[ae]=H)}else{const H=kf(C,a,S+V,N),ae=kf(C,a,S,S+V),qe=ae>=0&&c[ae];if(h&&!qe||!h&&!(H>=0&&c[H])){Wu(Gu(E,y),p,C);const nt=function px(o,a,c,d,h){const p=new Pi(o,c,rd);return p.multi=[],p.index=a,p.componentProviders=0,KT(p,h,d&&!c),p}(h?t4:YT,c.length,h,d,b);!h&&qe&&(c[ae].providerFactory=nt),Of(p,o,a.length,0),a.push(C),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(nt),y.push(nt)}else Of(p,o,H>-1?H:ae,KT(c[h?ae:H],b,!h&&d));!h&&d&&qe&&c[ae].componentProviders++}}}function Of(o,a,c,d){const h=Yi(a),p=function uo(o){return!!o.useClass}(a);if(h||p){const C=(p?we(a.useClass):a).prototype.ngOnDestroy;if(C){const b=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const S=b.indexOf(c);-1===S?b.push(c,[d,C]):b[S+1].push(d,C)}else b.push(c,C)}}}function KT(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function kf(o,a,c,d){for(let h=c;h<d;h++)if(a[h]===o)return h;return-1}function YT(o,a,c,d){return n4(this.multi,[])}function t4(o,a,c,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=so(c,c[ze],this.providerFactory.index,d);p=E.slice(0,y),n4(h,p);for(let C=y;C<E.length;C++)p.push(E[C])}else p=[],n4(h,p);return p}function n4(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function QT(o,a=[]){return c=>{c.providersResolver=(d,h)=>function fx(o,a,c){const d=Ut();if(d.firstCreatePass){const h=Hi(o);e4(c,d.data,d.blueprint,h,!0),e4(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class oa{}class JT{}function r4(o,a){return new Ff(o,a??null,[])}class Ff extends oa{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ga(this);const h=Sr(a);this._bootstrapComponents=zo(h.bootstrap),this._r3Injector=df(a,c,[{provide:oa,useValue:this},{provide:hc,useValue:this.componentFactoryResolver},...d],Be(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class i4 extends JT{constructor(a){super(),this.moduleType=a}create(a){return new Ff(this.moduleType,a,[])}}class XT extends oa{constructor(a){super(),this.componentFactoryResolver=new Ga(this),this.instance=null;const c=new Qi([...a.providers,{provide:oa,useValue:this},{provide:hc,useValue:this.componentFactoryResolver}],a.parent||Fg(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function jm(o,a,c=null){return new XT({providers:o,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let gx=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=bw(0,c.type),h=d.length>0?jm([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=wt({token:o,providedIn:"environment",factory:()=>new o(an(Hn))})}return o})();function $m(o){o.getStandaloneInjector=a=>a.get(gx).getOrCreateStandaloneInjector(o)}function vx(o,a,c,d){return Tx(ge(),Rr(),o,a,c,d)}function bc(o,a){const c=o[a];return c===St?void 0:c}function Tx(o,a,c,d,h,p){const y=a+c;return Kr(o,y,h)?Vs(o,y+1,p?d.call(p,h):d(h)):bc(o,y+1)}function Sx(o,a){const c=Ut();let d;const h=o+ht;c.firstCreatePass?(d=function ib(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks??=[]).push(h,d.onDestroy)):d=c.data[h];const p=d.factory||(d.factory=ya(d.type)),E=Vt(rd);try{const C=hi(!1),b=p();return hi(C),function lS(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,ge(),h,b),b}finally{Vt(E)}}function sb(o,a,c){const d=o+ht,h=ge(),p=wa(h,d);return Ac(h,d)?Tx(h,Rr(),a,p.transform,c,p):p.transform(c)}function Lf(o,a,c,d){const h=o+ht,p=ge(),y=wa(p,h);return Ac(p,h)?function bx(o,a,c,d,h,p,y){const E=a+c;return za(o,E,h,p)?Vs(o,E+2,y?d.call(y,h,p):d(h,p)):bc(o,E+2)}(p,Rr(),a,y.transform,c,d,y):y.transform(c,d)}function Ac(o,a){return o[ze].data[a].pure}function Uf(){return this._results[Symbol.iterator]()}class Wm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ho)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Wm.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=Uf)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function Or(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Bl(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],p=a[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function hF(o,a,c,d=!0){const h=a[ze];if(function ck(o,a,c,d){const h=Zn+d,p=c.length;d>0&&(c[h-1][Si]=a),d<p-Zn?(a[Si]=c[h],qh(c,Zn+d,a)):(c.push(a),a[Si]=null),a[tn]=c;const y=a[sl];null!==y&&c!==y&&function ND(o,a){const c=o[Mo];a[Cn]!==a[tn][tn][Cn]&&(o[ol]=!0),null===c?o[Mo]=[a]:c.push(a)}(y,a);const E=a[ws];null!==E&&E.insertView(o),a[Tt]|=128}(h,a,o,c),d){const p=Gh(c,o),y=a[mt],E=bg(y,o[Ni]);null!==E&&function SD(o,a,c,d,h,p){d[un]=h,d[En]=a,Wh(o,d,c,1,h,p)}(h,o[En],y,a,E,p)}}let Km=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Ym}return o})();const Bf=Km,wd=class extends Bf{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,d){const h=function Rx(o,a,c,d){const h=a.tView,E=zy(o,h,c,4096&o[Tt]?4096:16,null,a,null,null,null,d?.injector??null,d?.hydrationInfo??null);E[sl]=o[a.index];const b=o[ws];return null!==b&&(E[ws]=b.createEmbeddedView(h)),tv(h,E,c),E}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:d});return new Ha(h)}};function Ym(){return Cd(mr(),ge())}function Cd(o,a){return 4&o.type?new wd(a,o,fo(o,a)):null}let bd=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Ad}return o})();function Ad(){return cb(mr(),ge())}const ab=bd,ub=class extends ab{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return fo(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){const a=zu(this._hostTNode,this._hostLView);if(Hr(a)){const c=io(a,this._hostLView),d=jn(a);return new Pr(c[ze].data[d+8],c)}return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=e0(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Zn}createEmbeddedView(a,c,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const E=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(E,h,false),E}createComponent(a,c,d,h,p){const y=a&&!function Fo(o){return"function"==typeof o}(a);let E;if(y)E=c;else{const be=c||{};E=be.index,d=be.injector,h=be.projectableNodes,p=be.environmentInjector||be.ngModuleRef}const C=y?a:new _r(Lt(a)),b=d||this.parentInjector;if(!p&&null==C.ngModule){const qe=(y?b:this.parentInjector).get(Hn,null);qe&&(p=qe)}Lt(C.componentType??{});const H=C.create(b,h,null,p);return this.insertImpl(H.hostView,E,false),H}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const h=a._lView;if(function qn(o){return Jn(o[tn])}(h)){const C=this.indexOf(a);if(-1!==C)this.detach(C);else{const b=h[tn],S=new ub(b,b[En],b[tn]);S.detach(S.indexOf(a))}}const y=this._adjustIndex(c),E=this._lContainer;return hF(E,h,y,!d),a.attachToViewContainerRef(),qh(ua(E),y,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=e0(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=ic(this._lContainer,c);d&&(Vl(ua(this._lContainer),c),Ba(d[ze],d))}detach(a){const c=this._adjustIndex(a,-1),d=ic(this._lContainer,c);return d&&null!=Vl(ua(this._lContainer),c)?new Ha(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function e0(o){return o[8]}function ua(o){return o[8]||(o[8]=[])}function cb(o,a){let c;const d=a[o.index];return Jn(d)?c=d:(c=aC(d,a,null,o),a[o.index]=c,gf(a,c)),Ox(c,a,o,d),new ub(c,o,a)}let Ox=function kx(o,a,c,d){if(o[Ni])return;let h;h=8&c.type?sn(d):function Dc(o,a){const c=o[mt],d=c.createComment(""),h=gr(a,o);return sc(c,bg(c,h),d,function Ag(o,a){return o.nextSibling(a)}(c,h),!1),d}(a,c),o[Ni]=h};class _4{constructor(a){this.queryList=a,this.matches=null}clone(){return new _4(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fi{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Fi(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Hx(a,c).matches&&this.queries[c].setDirty()}}class Sc{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class t0{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new t0(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class db{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new db(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,c,Lx(c,p)),this.matchTNodeWithReadOption(a,c,Gr(c,a,p,!1,!1))}else d===Km?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Gr(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===fc||h===bd||h===Km&&4&c.type)this.addMatch(c.index,-2);else{const p=Gr(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Lx(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function Ux(o,a,c,d){return-1===c?function y4(o,a){return 11&o.type?fo(o,a):4&o.type?Cd(o,a):null}(a,o):-2===c?function Bx(o,a,c){return c===fc?fo(a,o):c===Km?Cd(a,o):c===bd?cb(a,o):void 0}(o,a,d):so(o,o[ze],c,a)}function hb(o,a,c,d){const h=a[ws].queries[d];if(null===h.matches){const p=o.data,y=c.matches,E=[];for(let C=0;C<y.length;C+=2){const b=y[C];E.push(b<0?null:Ux(a,p[b],y[C+1],c.metadata.read))}h.matches=E}return h.matches}function v4(o,a,c,d){const h=o.queries.getByIndex(c),p=h.matches;if(null!==p){const y=hb(o,a,h,c);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)d.push(y[E/2]);else{const b=p[E+1],S=a[-C];for(let N=Zn;N<S.length;N++){const V=S[N];V[sl]===V[tn]&&v4(V[ze],V,b,d)}if(null!==S[Mo]){const N=S[Mo];for(let V=0;V<N.length;V++){const H=N[V];v4(H[ze],H,b,d)}}}}}return d}function fb(o){const a=ge(),c=Ut(),d=As();Ph(d+1);const h=Hx(c,d);if(o.dirty&&function Fu(o){return 4==(4&o[Tt])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?v4(c,a,d,[]):hb(c,a,h,d);o.reset(p,d1),o.notifyOnChanges()}return!0}return!1}function Vx(o,a,c,d){const h=Ut();if(h.firstCreatePass){const p=mr();(function $x(o,a,c){null===o.queries&&(o.queries=new t0),o.queries.track(new db(a,c))})(h,new Sc(a,c,d),p.index),function _F(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}!function jx(o,a,c){const d=new Wm(4==(4&c));(function S1(o,a,c,d){const h=uC(a);h.push(c),o.firstCreatePass&&cC(o).push(d,h.length-1)})(o,a,d,d.destroy),null===a[ws]&&(a[ws]=new Fi),a[ws].queries.push(new _4(d))}(h,ge(),c)}function Zx(){return function qx(o,a){return o[ws].queries[a].queryList}(ge(),As())}function Hx(o,a){return o.queries.getByIndex(a)}function E4(o,a){return Cd(o,a)}function pb(o){return!!Sr(o)}const r0=new Nt("Application Initializer");let s0=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=Xt(r0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const p=h();if(Im(p))c.push(p);else if(_v(p)){const y=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});c.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),vb=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const o0=new Nt("LocaleId",{providedIn:"root",factory:()=>Xt(o0,yt.Optional|yt.SkipSelf)||function Rn(){return typeof $localize<"u"&&$localize.locale||ru}()}),a0=new Nt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ib=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class wb{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let cM=(()=>{class o{compileModuleSync(c){return new i4(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=zo(Sr(c).declarations).reduce((y,E)=>{const C=Lt(E);return C&&y.push(new _r(C)),y},[]);return new wb(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const d0=new Nt(""),Db=new Nt("");let jf,M4=(()=>{class o{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jf||(function N4(o){jf=o}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}static#e=this.\u0275fac=function(d){return new(d||o)(an(Xn),an(h0),an(Db))};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac})}return o})(),h0=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return jf?.findTestabilityInTree(this,c,d)??null}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),iu=null;const Sb=new Nt("AllowMultipleToken"),R4=new Nt("PlatformDestroyListeners"),Sd=new Nt("appBootstrapListener");class k4{constructor(a,c){this.name=a,this.token=c}}function L4(o,a,c=[]){const d=`Platform: ${a}`,h=new Nt(d);return(p=[])=>{let y=U4();if(!y||y.injector.get(Sb,!1)){const E=[...c,...p,{provide:h,useValue:!0}];o?o(E):function xb(o){if(iu&&!iu.get(Sb,!1))throw new K(400,!1);(function f0(){!function SI(o){Bp=o}(()=>{throw new K(600,!1)})})(),iu=o;const a=o.get(Nb);(function F4(o){o.get(Sy,null)?.forEach(c=>c())})(o)}(function Mb(o=[],a){return ks.create({name:a,providers:[{provide:by,useValue:"platform"},{provide:R4,useValue:new Set([()=>iu=null])},...o]})}(E,d))}return function IM(o){const a=U4();if(!a)throw new K(401,!1);return a}()}}function U4(){return iu?.get(Nb)??null}let Nb=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function wM(o="zone.js",a){return"noop"===o?new Go:"zone.js"===o?new Xn(a):o}(d?.ngZone,function Rb(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function s4(o,a,c){return new Ff(o,a,c)}(c.moduleType,this.injector,function V4(o){return[{provide:Xn,useFactory:o},{provide:tf,multi:!0,useFactory:()=>{const a=Xt(TM,{optional:!0});return()=>a.initialize()}},{provide:p0,useFactory:CM},{provide:y1,useFactory:Hw}]}(()=>h)),y=p.injector.get($o,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:C=>{y.handleError(C)}});p.onDestroy(()=>{Hf(this._modules,p),E.unsubscribe()})}),function Pb(o,a,c){try{const d=c();return Im(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(y,h,()=>{const E=p.injector.get(s0);return E.runInitializers(),E.donePromise.then(()=>(function Om(o){At(o,"Expected localeId to be defined"),"string"==typeof o&&(TT=o.toLowerCase().replace(/_/g,"-"))}(p.injector.get(o0,ru)||ru),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,d=[]){const h=Ob({},d);return function P4(o,a,c){const d=new i4(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(ca);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new K(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(R4,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||o)(an(ks))};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function Ob(o,a){return Array.isArray(a)?a.reduce(Ob,o):{...o,...a}}let ca=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xt(p0),this.zoneIsStable=Xt(y1),this.componentTypes=[],this.components=[],this.isStable=Xt(Ib).hasPendingTasks.pipe((0,Ue.w)(c=>c?(0,ye.of)(!1):this.zoneIsStable),function re(o,a=Se.y){return o=o??Oe,(0,B.e)((c,d)=>{let h,p=!0;c.subscribe((0,Z.x)(d,y=>{const E=a(y);(p||!o(h,E))&&(p=!1,h=E,d.next(y))}))})}(),(0,Re.B)()),this._injector=Xt(Hn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof Py;if(!this._injector.get(s0).done)throw!h&&jr(c),new K(405,!1);let y;y=h?c:this._injector.get(hc).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const E=function O4(o){return o.isBoundToModule}(y)?void 0:this._injector.get(oa),b=y.create(ks.NULL,[],d||y.selector,E),S=b.location.nativeElement,N=b.injector.get(d0,null);return N?.registerApplication(S),b.onDestroy(()=>{this.detachView(b.hostView),Hf(this.components,b),N?.unregisterApplication(S)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Hf(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Sd,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Hf(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new K(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Hf(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}const p0=new Nt("",{providedIn:"root",factory:()=>Xt($o).handleError.bind(void 0)});function CM(){const o=Xt(Xn),a=Xt($o);return c=>o.runOutsideAngular(()=>a.handleError(c))}let TM=(()=>{class o{constructor(){this.zone=Xt(Xn),this.applicationRef=Xt(ca)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Fb(){return!1}let HF=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=GF}return o})();function GF(o){return function Z4(o,a,c){if(Xs(o)&&!c){const d=ci(o.index,a);return new Ha(d,d)}return 47&o.type?new Ha(a[Cn],a):null}(mr(),ge(),16==(16&o))}class xM{constructor(){}supports(a){return um(a)}create(a){return new MM(a)}}const YF=(o,a)=>a;class MM{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||YF}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<bt(d,h,p)?c:d,E=bt(y,h,p),C=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const b=E-h,S=C-h;if(b!=S){for(let V=0;V<b;V++){const H=V<p.length?p[V]:p[V]=0,ae=H+V;S<=ae&&ae<b&&(p[V]=H+1)}p[y.previousIndex]=S-b}}E!==C&&a(y,E,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!um(a))throw new K(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],y=this._trackByFn(E,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,E)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,E),d=!0),c=c._next}else h=0,function wC(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,E=>{y=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,E,y,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new Zs(c,d),p,h),a}_verifyReinsertion(a,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new _0),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _0),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Zs{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class He{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class _0{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new He,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bt(o,a,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class Gf{constructor(){}supports(a){return a instanceof Map||ov(a)}create(){return new zf}}class zf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||ov(a)))throw new K(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new NM(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class NM{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function y0(){return new $4([new xM])}let $4=(()=>{class o{static#e=this.\u0275prov=wt({token:o,providedIn:"root",factory:y0});constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||y0()),deps:[[o,new zi,new or]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new K(901,!1)}}return o})();function jb(){return new yr([new Gf])}let yr=(()=>{class o{static#e=this.\u0275prov=wt({token:o,providedIn:"root",factory:jb});constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||jb()),deps:[[o,new zi,new or]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new K(901,!1)}}return o})();const $b=L4(null,"core",[]);let H4=(()=>{class o{constructor(c){}static#e=this.\u0275fac=function(d){return new(d||o)(an(ca))};static#t=this.\u0275mod=Au({type:o});static#n=this.\u0275inj=Zr({})}return o})();function kM(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function Q4(o){const a=Lt(o);if(!a)return null;const c=new _r(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(st,Ee,P)=>{P.d(Ee,{Z:()=>Qe});var s=P(9058),L=P(4537),ie=P(7592),se=P(7879);class he{constructor(xe,Ae){this._delegate=xe,this.firebase=Ae,(0,ie._addComponent)(xe,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(xe,Ae=ie._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(xe);return!we.isInitialized()&&"EXPLICIT"===(null===(Je=we.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&we.initialize(),we.getImmediate({identifier:Ae})}_removeServiceInstance(xe,Ae=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Ae)}_addComponent(xe){(0,ie._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,ie._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function Se(){const Be=function Ue(Be){const xe={},Ae={__esModule:!0,initializeApp:function Te(K,k={}){const W=ie.initializeApp(K,k);if((0,s.r3)(xe,W.name))return xe[W.name];const pe=new Be(W,Ae);return xe[W.name]=pe,pe},app:we,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function ve(K){const k=K.name,W=k.replace("-compat","");if(ie._registerComponent(K)&&"PUBLIC"===K.type){const pe=(Mt=we())=>{if("function"!=typeof Mt[W])throw Re.create("invalid-app-argument",{appName:k});return Mt[W]()};void 0!==K.serviceProps&&(0,s.ZB)(pe,K.serviceProps),Ae[W]=pe,Be.prototype[W]=function(...Mt){return this._getService.bind(this,k).apply(this,K.multipleInstances?Mt:[])}}return"PUBLIC"===K.type?Ae[W]:null},removeApp:function Je(K){delete xe[K]},useAsService:function Me(K,k){return"serverAuth"===k?null:k},modularAPIs:ie}};function we(K){if(!(0,s.r3)(xe,K=K||ie._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:K});return xe[K]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ce(){return Object.keys(xe).map(K=>xe[K])}}),we.App=Be,Ae}(he);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function xe(Ae){(0,s.ZB)(Be,Ae)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Be}(),Z=new se.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=B;!function ue(Be){(0,ie.registerVersion)("@firebase/app-compat","0.2.13",Be)}()},7592:(st,Ee,P)=>{P.r(Ee),P.d(Ee,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Br,_DEFAULT_ENTRY_NAME:()=>Y,_addComponent:()=>de,_addOrOverwriteComponent:()=>Ne,_apps:()=>oe,_clearComponents:()=>dt,_components:()=>J,_getProvider:()=>Ft,_registerComponent:()=>at,_removeServiceInstance:()=>on,deleteApp:()=>Zr,getApp:()=>wt,getApps:()=>Dr,initializeApp:()=>Vr,onLog:()=>ga,registerVersion:()=>si,setLogLevel:()=>Ys});var s=P(5861),L=P(4537),ie=P(7879),se=P(9058),he=P(1878);class ye{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function Re(je){const fe=je.getComponent();return"VERSION"===fe?.type}(We)){const ct=We.getImmediate();return`${ct.library}/${ct.version}`}return null}).filter(We=>We).join(" ")}}const Ue="@firebase/app",B=new ie.Yd("@firebase/app"),Y="[DEFAULT]",te={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oe=new Map,J=new Map;function de(je,fe){try{je.container.addComponent(fe)}catch(We){B.debug(`Component ${fe.name} failed to register with FirebaseApp ${je.name}`,We)}}function Ne(je,fe){je.container.addOrOverwriteComponent(fe)}function at(je){const fe=je.name;if(J.has(fe))return B.debug(`There were multiple attempts to register component ${fe}.`),!1;J.set(fe,je);for(const We of oe.values())de(We,je);return!0}function Ft(je,fe){const We=je.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),je.container.getProvider(fe)}function on(je,fe,We=Y){Ft(je,fe).clearInstance(We)}function dt(){J.clear()}const Ze=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nn{constructor(fe,We,ct){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}}const Br="9.23.0";function Vr(je,fe={}){let We=je;"object"!=typeof fe&&(fe={name:fe});const ct=Object.assign({name:Y,automaticDataCollectionEnabled:!1},fe),zt=ct.name;if("string"!=typeof zt||!zt)throw Ze.create("bad-app-name",{appName:String(zt)});if(We||(We=(0,se.aH)()),!We)throw Ze.create("no-options");const Qt=oe.get(zt);if(Qt){if((0,se.vZ)(We,Qt.options)&&(0,se.vZ)(ct,Qt.config))return Qt;throw Ze.create("duplicate-app",{appName:zt})}const rr=new L.H0(zt);for(const F of J.values())rr.addComponent(F);const U=new nn(We,ct,rr);return oe.set(zt,U),U}function wt(je=Y){const fe=oe.get(je);if(!fe&&je===Y&&(0,se.aH)())return Vr();if(!fe)throw Ze.create("no-app",{appName:je});return fe}function Dr(){return Array.from(oe.values())}function Zr(je){return qi.apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(je){const fe=je.name;oe.has(fe)&&(oe.delete(fe),yield Promise.all(je.container.getProviders().map(We=>We.delete())),je.isDeleted=!0)})).apply(this,arguments)}function si(je,fe,We){var ct;let zt=null!==(ct=te[je])&&void 0!==ct?ct:je;We&&(zt+=`-${We}`);const Qt=zt.match(/\s|\//),rr=fe.match(/\s|\//);if(Qt||rr){const U=[`Unable to register library "${zt}" with version "${fe}":`];return Qt&&U.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Qt&&rr&&U.push("and"),rr&&U.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void B.warn(U.join(" "))}at(new L.wA(`${zt}-version`,()=>({library:zt,version:fe}),"VERSION"))}function ga(je,fe){if(null!==je&&"function"!=typeof je)throw Ze.create("invalid-log-argument");(0,ie.Am)(je,fe)}function Ys(je){(0,ie.Ub)(je)}const ts="firebase-heartbeat-database",Yn=1,Ct="firebase-heartbeat-store";let Ot=null;function qr(){return Ot||(Ot=(0,he.X3)(ts,Yn,{upgrade:(je,fe)=>{0===fe&&je.createObjectStore(Ct)}}).catch(je=>{throw Ze.create("idb-open",{originalErrorMessage:je.message})})),Ot}function hr(){return(hr=(0,s.Z)(function*(je){try{return yield(yield qr()).transaction(Ct).objectStore(Ct).get(rs(je))}catch(fe){if(fe instanceof se.ZR)B.warn(fe.message);else{const We=Ze.create("idb-get",{originalErrorMessage:fe?.message});B.warn(We.message)}}})).apply(this,arguments)}function ns(je,fe){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(je,fe){try{const ct=(yield qr()).transaction(Ct,"readwrite");yield ct.objectStore(Ct).put(fe,rs(je)),yield ct.done}catch(We){if(We instanceof se.ZR)B.warn(We.message);else{const ct=Ze.create("idb-set",{originalErrorMessage:We?.message});B.warn(ct.message)}}})).apply(this,arguments)}function rs(je){return`${je.name}!${je.options.appId}`}class Gt{constructor(fe){this.container=fe,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new ma(We),this._heartbeatsCachePromise=this._storage.read().then(ct=>(this._heartbeatsCache=ct,ct))}triggerHeartbeat(){var fe=this;return(0,s.Z)(function*(){const ct=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=Wc();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==zt&&!fe._heartbeatsCache.heartbeats.some(Qt=>Qt.date===zt))return fe._heartbeatsCache.heartbeats.push({date:zt,agent:ct}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(Qt=>{const rr=new Date(Qt.date).valueOf();return Date.now()-rr<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,s.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const We=Wc(),{heartbeatsToSend:ct,unsentEntries:zt}=function Nt(je,fe=1024){const We=[];let ct=je.slice();for(const zt of je){const Qt=We.find(rr=>rr.agent===zt.agent);if(Qt){if(Qt.dates.push(zt.date),bi(We)>fe){Qt.dates.pop();break}}else if(We.push({agent:zt.agent,dates:[zt.date]}),bi(We)>fe){We.pop();break}ct=ct.slice(1)}return{heartbeatsToSend:We,unsentEntries:ct}}(fe._heartbeatsCache.heartbeats),Qt=(0,se.L)(JSON.stringify({version:2,heartbeats:ct}));return fe._heartbeatsCache.lastSentHeartbeatDate=We,zt.length>0?(fe._heartbeatsCache.heartbeats=zt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),Qt})()}}function Wc(){return(new Date).toISOString().substring(0,10)}class ma{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,s.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function yt(je){return hr.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var We=this;return(0,s.Z)(function*(){var ct;if(yield We._canUseIndexedDBPromise){const Qt=yield We.read();return ns(We.app,{lastSentHeartbeatDate:null!==(ct=fe.lastSentHeartbeatDate)&&void 0!==ct?ct:Qt.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var We=this;return(0,s.Z)(function*(){var ct;if(yield We._canUseIndexedDBPromise){const Qt=yield We.read();return ns(We.app,{lastSentHeartbeatDate:null!==(ct=fe.lastSentHeartbeatDate)&&void 0!==ct?ct:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...fe.heartbeats]})}})()}}function bi(je){return(0,se.L)(JSON.stringify({version:2,heartbeats:je})).length}!function is(je){at(new L.wA("platform-logger",fe=>new ye(fe),"PRIVATE")),at(new L.wA("heartbeat",fe=>new Gt(fe),"PRIVATE")),si(Ue,"0.9.13",je),si(Ue,"0.9.13","esm2017"),si("fire-js","")}("")},120:(st,Ee,P)=>{P.d(Ee,{Z:()=>s.Z});var s=P(3399);s.Z.registerVersion("firebase","9.23.0","app-compat")},4537:(st,Ee,P)=>{P.d(Ee,{H0:()=>Ue,wA:()=>ie});var s=P(5861),L=P(9058);class ie{constructor(B,Z,re){this.name=B,this.instanceFactory=Z,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const se="[DEFAULT]";class he{constructor(B,Z){this.name=B,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const Z=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(Z)){const re=new L.BH;if(this.instancesDeferred.set(Z,re),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:Z});Oe&&re.resolve(Oe)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(B){var Z;const re=this.normalizeInstanceIdentifier(B?.identifier),Oe=null!==(Z=B?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(ue){if(Oe)return null;throw ue}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function Re(Se){return"EAGER"===Se.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Z,re]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(Z);try{const ue=this.getOrInitializeService({instanceIdentifier:Oe});re.resolve(ue)}catch{}}}}clearInstance(B=se){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,s.Z)(function*(){const Z=Array.from(B.instances.values());yield Promise.all([...Z.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...Z.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=se){return this.instances.has(B)}getOptions(B=se){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:Z={}}=B,re=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:re,options:Z});for(const[ue,Qe]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(ue)&&Qe.resolve(Oe);return Oe}onInit(B,Z){var re;const Oe=this.normalizeInstanceIdentifier(Z),ue=null!==(re=this.onInitCallbacks.get(Oe))&&void 0!==re?re:new Set;ue.add(B),this.onInitCallbacks.set(Oe,ue);const Qe=this.instances.get(Oe);return Qe&&B(Qe,Oe),()=>{ue.delete(B)}}invokeOnInitCallbacks(B,Z){const re=this.onInitCallbacks.get(Z);if(re)for(const Oe of re)try{Oe(B,Z)}catch{}}getOrInitializeService({instanceIdentifier:B,options:Z={}}){let re=this.instances.get(B);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=B,Se===se?void 0:Se),options:Z}),this.instances.set(B,re),this.instancesOptions.set(B,Z),this.invokeOnInitCallbacks(re,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,re)}catch{}var Se;return re||null}normalizeInstanceIdentifier(B=se){return this.component?this.component.multipleInstances?B:se:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const Z=this.getProvider(B.name);if(Z.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);Z.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const Z=new he(B,this);return this.providers.set(B,Z),Z}getProviders(){return Array.from(this.providers.values())}}},7879:(st,Ee,P)=>{P.d(Ee,{Am:()=>Se,Ub:()=>Ue,Yd:()=>Re,in:()=>L});const s=[];var L=function(B){return B[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B}(L||{});const ie={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},se=L.INFO,he={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ye=(B,Z,...re)=>{if(Z<B.logLevel)return;const Oe=(new Date).toISOString(),ue=he[Z];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[ue](`[${Oe}]  ${B.name}:`,...re)};class Re{constructor(Z){this.name=Z,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in L))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?ie[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...Z),this._logHandler(this,L.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...Z),this._logHandler(this,L.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,L.INFO,...Z),this._logHandler(this,L.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,L.WARN,...Z),this._logHandler(this,L.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...Z),this._logHandler(this,L.ERROR,...Z)}}function Ue(B){s.forEach(Z=>{Z.setLogLevel(B)})}function Se(B,Z){for(const re of s){let Oe=null;Z&&Z.level&&(Oe=ie[Z.level]),re.userLogHandler=null===B?null:(ue,Qe,...Be)=>{const xe=Be.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Qe>=(Oe??ue.logLevel)&&B({level:L[Qe].toLowerCase(),message:xe,args:Be,type:ue.name})}}}},1878:(st,Ee,P)=>{P.d(Ee,{X3:()=>we});var s=P(5861);const L=(k,W)=>W.some(pe=>k instanceof pe);let ie,se;const Re=new WeakMap,Ue=new WeakMap,Se=new WeakMap,B=new WeakMap,Z=new WeakMap;let ue={get(k,W,pe){if(k instanceof IDBTransaction){if("done"===W)return Ue.get(k);if("objectStoreNames"===W)return k.objectStoreNames||Se.get(k);if("store"===W)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return Ae(k[W])},set:(k,W,pe)=>(k[W]=pe,!0),has:(k,W)=>k instanceof IDBTransaction&&("done"===W||"store"===W)||W in k};function xe(k){return"function"==typeof k?function Be(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...W){return k.apply(Je(this),W),Ae(Re.get(this))}:function(...W){return Ae(k.apply(Je(this),W))}:function(W,...pe){const Mt=k.call(Je(this),W,...pe);return Se.set(Mt,W.sort?W.sort():[W]),Ae(Mt)}}(k):(k instanceof IDBTransaction&&function Oe(k){if(Ue.has(k))return;const W=new Promise((pe,Mt)=>{const cn=()=>{k.removeEventListener("complete",kn),k.removeEventListener("error",ln),k.removeEventListener("abort",ln)},kn=()=>{pe(),cn()},ln=()=>{Mt(k.error||new DOMException("AbortError","AbortError")),cn()};k.addEventListener("complete",kn),k.addEventListener("error",ln),k.addEventListener("abort",ln)});Ue.set(k,W)}(k),L(k,function he(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,ue):k)}function Ae(k){if(k instanceof IDBRequest)return function re(k){const W=new Promise((pe,Mt)=>{const cn=()=>{k.removeEventListener("success",kn),k.removeEventListener("error",ln)},kn=()=>{pe(Ae(k.result)),cn()},ln=()=>{Mt(k.error),cn()};k.addEventListener("success",kn),k.addEventListener("error",ln)});return W.then(pe=>{pe instanceof IDBCursor&&Re.set(pe,k)}).catch(()=>{}),Z.set(W,k),W}(k);if(B.has(k))return B.get(k);const W=xe(k);return W!==k&&(B.set(k,W),Z.set(W,k)),W}const Je=k=>Z.get(k);function we(k,W,{blocked:pe,upgrade:Mt,blocking:cn,terminated:kn}={}){const ln=indexedDB.open(k,W),fn=Ae(ln);return Mt&&ln.addEventListener("upgradeneeded",pn=>{Mt(Ae(ln.result),pn.oldVersion,pn.newVersion,Ae(ln.transaction),pn)}),pe&&ln.addEventListener("blocked",pn=>pe(pn.oldVersion,pn.newVersion,pn)),fn.then(pn=>{kn&&pn.addEventListener("close",()=>kn()),cn&&pn.addEventListener("versionchange",ii=>cn(ii.oldVersion,ii.newVersion,ii))}).catch(()=>{}),fn}const ce=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Me=new Map;function K(k,W){if(!(k instanceof IDBDatabase)||W in k||"string"!=typeof W)return;if(Me.get(W))return Me.get(W);const pe=W.replace(/FromIndex$/,""),Mt=W!==pe,cn=ve.includes(pe);if(!(pe in(Mt?IDBIndex:IDBObjectStore).prototype)||!cn&&!ce.includes(pe))return;const kn=function(){var ln=(0,s.Z)(function*(fn,...pn){const ii=this.transaction(fn,cn?"readwrite":"readonly");let Y=ii.store;return Mt&&(Y=Y.index(pn.shift())),(yield Promise.all([Y[pe](...pn),cn&&ii.done]))[0]});return function(pn){return ln.apply(this,arguments)}}();return Me.set(W,kn),kn}!function Qe(k){ue=k(ue)}(k=>({...k,get:(W,pe,Mt)=>K(W,pe)||k.get(W,pe,Mt),has:(W,pe)=>!!K(W,pe)||k.has(W,pe)}))},5861:(st,Ee,P)=>{function s(ie,se,he,ye,Re,Ue,Se){try{var B=ie[Ue](Se),Z=B.value}catch(re){return void he(re)}B.done?se(Z):Promise.resolve(Z).then(ye,Re)}function L(ie){return function(){var se=this,he=arguments;return new Promise(function(ye,Re){var Ue=ie.apply(se,he);function Se(Z){s(Ue,ye,Re,Se,B,"next",Z)}function B(Z){s(Ue,ye,Re,Se,B,"throw",Z)}Se(void 0)})}}P.d(Ee,{Z:()=>L})},7582:(st,Ee,P)=>{function se(Y,te){var oe={};for(var J in Y)Object.prototype.hasOwnProperty.call(Y,J)&&te.indexOf(J)<0&&(oe[J]=Y[J]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(J=Object.getOwnPropertySymbols(Y);de<J.length;de++)te.indexOf(J[de])<0&&Object.prototype.propertyIsEnumerable.call(Y,J[de])&&(oe[J[de]]=Y[J[de]])}return oe}function re(Y,te,oe,J){return new(oe||(oe=Promise))(function(Ne,at){function Ft(At){try{dt(J.next(At))}catch(Ze){at(Ze)}}function on(At){try{dt(J.throw(At))}catch(Ze){at(Ze)}}function dt(At){At.done?Ne(At.value):function de(Ne){return Ne instanceof oe?Ne:new oe(function(at){at(Ne)})}(At.value).then(Ft,on)}dt((J=J.apply(Y,te||[])).next())})}function Te(Y){return this instanceof Te?(this.v=Y,this):new Te(Y)}function ce(Y,te,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,J=oe.apply(Y,te||[]),Ne=[];return de={},at("next"),at("throw"),at("return"),de[Symbol.asyncIterator]=function(){return this},de;function at(nn){J[nn]&&(de[nn]=function(Br){return new Promise(function(Vr,wt){Ne.push([nn,Br,Vr,wt])>1||Ft(nn,Br)})})}function Ft(nn,Br){try{!function on(nn){nn.value instanceof Te?Promise.resolve(nn.value.v).then(dt,At):Ze(Ne[0][2],nn)}(J[nn](Br))}catch(Vr){Ze(Ne[0][3],Vr)}}function dt(nn){Ft("next",nn)}function At(nn){Ft("throw",nn)}function Ze(nn,Br){nn(Br),Ne.shift(),Ne.length&&Ft(Ne[0][0],Ne[0][1])}}function Me(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,te=Y[Symbol.asyncIterator];return te?te.call(Y):(Y=function Be(Y){var te="function"==typeof Symbol&&Symbol.iterator,oe=te&&Y[te],J=0;if(oe)return oe.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&J>=Y.length&&(Y=void 0),{value:Y&&Y[J++],done:!Y}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),oe={},J("next"),J("throw"),J("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function J(Ne){oe[Ne]=Y[Ne]&&function(at){return new Promise(function(Ft,on){!function de(Ne,at,Ft,on){Promise.resolve(on).then(function(dt){Ne({value:dt,done:Ft})},at)}(Ft,on,(at=Y[Ne](at)).done,at.value)})}}}P.d(Ee,{FC:()=>ce,KL:()=>Me,_T:()=>se,mG:()=>re,qq:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},st=>{st(st.s=9464)}]);