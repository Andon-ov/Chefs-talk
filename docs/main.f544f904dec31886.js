"use strict";(self.webpackChunkchefs_talks=self.webpackChunkchefs_talks||[]).push([[179],{764:()=>{function Fe(t){return"function"==typeof t}function Lc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Yh=Lc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Aa(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Nn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof Yh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{cS(s)}catch(o){e=e??[],o instanceof Yh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Yh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cS(e);else{if(e instanceof Nn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Aa(n,e)}remove(e){const{_finalizers:n}=this;n&&Aa(n,e),e instanceof Nn&&e._removeParent(this)}}Nn.EMPTY=(()=>{const t=new Nn;return t.closed=!0,t})();const aS=Nn.EMPTY;function uS(t){return t instanceof Nn||t&&"closed"in t&&Fe(t.remove)&&Fe(t.add)&&Fe(t.unsubscribe)}function cS(t){Fe(t)?t():t.unsubscribe()}const co={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xh={setTimeout(t,e,...n){const{delegate:r}=Xh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lS(t){Xh.setTimeout(()=>{const{onUnhandledError:e}=co;if(!e)throw t;e(t)})}function cy(){}const DU=ly("C",void 0,void 0);function ly(t,e,n){return{kind:t,value:e,error:n}}let lo=null;function Jh(t){if(co.useDeprecatedSynchronousErrorHandling){const e=!lo;if(e&&(lo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=lo;if(lo=null,n)throw r}}else t()}class dy extends Nn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uS(e)&&e.add(this)):this.destination=RU}static create(e,n,r){return new Vc(e,n,r)}next(e){this.isStopped?fy(function AU(t){return ly("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?fy(function TU(t){return ly("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fy(DU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const MU=Function.prototype.bind;function hy(t,e){return MU.call(t,e)}class xU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zh(r)}else Zh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zh(n)}}}class Vc extends dy{constructor(e,n,r){let i;if(super(),Fe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&co.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hy(e.next,s),error:e.error&&hy(e.error,s),complete:e.complete&&hy(e.complete,s)}):i=e}this.destination=new xU(i)}}function Zh(t){co.useDeprecatedSynchronousErrorHandling?function SU(t){co.useDeprecatedSynchronousErrorHandling&&lo&&(lo.errorThrown=!0,lo.error=t)}(t):lS(t)}function fy(t,e){const{onStoppedNotification:n}=co;n&&Xh.setTimeout(()=>n(t,e))}const RU={closed:!0,next:cy,error:function NU(t){throw t},complete:cy},py="function"==typeof Symbol&&Symbol.observable||"@@observable";function gs(t){return t}function dS(t){return 0===t.length?gs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function OU(t){return t&&t instanceof dy||function PU(t){return t&&Fe(t.next)&&Fe(t.error)&&Fe(t.complete)}(t)&&uS(t)}(n)?n:new Vc(n,r,i);return Jh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=hS(r))((i,s)=>{const o=new Vc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[py](){return this}pipe(...n){return dS(n)(this)}toPromise(n){return new(n=hS(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function hS(t){var e;return null!==(e=t??co.Promise)&&void 0!==e?e:Promise}const FU=Lc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let dr=(()=>{class t extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new fS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new FU}next(n){Jh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Jh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?aS:(this.currentObservers=null,s.push(n),new Nn(()=>{this.currentObservers=null,Aa(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Le;return n.source=this,n}}return t.create=(e,n)=>new fS(e,n),t})();class fS extends dr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:aS}}function pS(t){return Fe(t?.lift)}function At(t){return e=>{if(pS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Et(t,e,n,r,i){return new LU(t,e,n,r,i)}class LU extends dy{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Te(t,e){return At((n,r)=>{let i=0;n.subscribe(Et(r,s=>{r.next(t.call(e,s,i++))}))})}function yy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ms(t){return this instanceof ms?(this.v=t,this):new ms(t)}function _S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function vy(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const vS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function ES(t){return Fe(t?.then)}function wS(t){return Fe(t[py])}function CS(t){return Symbol.asyncIterator&&Fe(t?.[Symbol.asyncIterator])}function bS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const IS=function ij(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function DS(t){return Fe(t?.[IS])}function TS(t){return function yS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,y){s.push([h,f,p,y])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ms?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ms(n.read());if(i)return yield ms(void 0);yield yield ms(r)}}finally{n.releaseLock()}})}function AS(t){return Fe(t?.getReader)}function Hn(t){if(t instanceof Le)return t;if(null!=t){if(wS(t))return function sj(t){return new Le(e=>{const n=t[py]();if(Fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(vS(t))return function oj(t){return new Le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(ES(t))return function aj(t){return new Le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lS)})}(t);if(CS(t))return SS(t);if(DS(t))return function uj(t){return new Le(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(AS(t))return function cj(t){return SS(TS(t))}(t)}throw bS(t)}function SS(t){return new Le(e=>{(function lj(t,e){var n,r,i,s;return function gS(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=_S(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Di(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Gt(t,e,n=1/0){return Fe(e)?Gt((r,i)=>Te((s,o)=>e(r,s,i,o))(Hn(t(r,i))),n):("number"==typeof e&&(n=e),At((r,i)=>function dj(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=y=>c<r?p(y):u.push(y),p=y=>{s&&e.next(y),c++;let _=!1;Hn(n(y,l++)).subscribe(Et(e,C=>{i?.(C),s?f(C):e.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const C=u.shift();o?Di(e,o,()=>p(C)):p(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(Et(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Sa(t=1/0){return Gt(gs,t)}const Kr=new Le(t=>t.complete());function Ey(t){return t[t.length-1]}function MS(t){return Fe(Ey(t))?t.pop():void 0}function Bc(t){return function fj(t){return t&&Fe(t.schedule)}(Ey(t))?t.pop():void 0}function ef(t,e=0){return At((n,r)=>{n.subscribe(Et(r,i=>Di(r,t,()=>r.next(i),e),()=>Di(r,t,()=>r.complete(),e),i=>Di(r,t,()=>r.error(i),e)))})}function tf(t,e=0){return At((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xS(t,e){if(!t)throw new Error("Iterable cannot be null");return new Le(n=>{Di(n,e,()=>{const r=t[Symbol.asyncIterator]();Di(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function St(t,e){return e?function Ej(t,e){if(null!=t){if(wS(t))return function gj(t,e){return Hn(t).pipe(tf(e),ef(e))}(t,e);if(vS(t))return function yj(t,e){return new Le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(ES(t))return function mj(t,e){return Hn(t).pipe(tf(e),ef(e))}(t,e);if(CS(t))return xS(t,e);if(DS(t))return function _j(t,e){return new Le(n=>{let r;return Di(n,e,()=>{r=t[IS](),Di(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(t,e);if(AS(t))return function vj(t,e){return xS(TS(t),e)}(t,e)}throw bS(t)}(t,e):Hn(t)}class hr extends dr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ee(...t){return St(t,Bc(t))}function NS(t={}){const{connector:e=(()=>new dr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const y=o;f(),y?.unsubscribe()};return At((y,_)=>{c++,!d&&!l&&h();const C=u=u??e();_.add(()=>{c--,0===c&&!d&&!l&&(a=wy(p,i))}),C.subscribe(_),!o&&c>0&&(o=new Vc({next:w=>C.next(w),error:w=>{d=!0,h(),a=wy(f,n,w),C.error(w)},complete:()=>{l=!0,h(),a=wy(f,r),C.complete()}}),Hn(y).subscribe(o))})(s)}}function wy(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Vc({next:()=>{r.unsubscribe(),t()}});return Hn(e(...n)).subscribe(r)}function Nr(t,e){return At((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Et(r,u=>{i?.unsubscribe();let c=0;const l=s++;Hn(t(u,l)).subscribe(i=Et(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function bj(t,e){return t===e}function Ne(t){for(let e in t)if(t[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function nf(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Cy(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Ij=Ne({__forward_ref__:Ne});function Ue(t){return t.__forward_ref__=Ue,t.toString=function(){return Mt(this())},t}function re(t){return by(t)?t():t}function by(t){return"function"==typeof t&&t.hasOwnProperty(Ij)&&t.__forward_ref__===Ue}function Iy(t){return t&&!!t.\u0275providers}const RS="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function rf(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function oe(t){return"string"==typeof t?t:null==t?"":String(t)}function Dy(t,e){throw new T(-201,!1)}function fr(t,e){null==t&&function te(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pt(t){return{providers:t.providers||[],imports:t.imports||[]}}function sf(t){return kS(t,uf)||kS(t,PS)}function kS(t,e){return t.hasOwnProperty(e)?t[e]:null}function af(t){return t&&(t.hasOwnProperty(Ty)||t.hasOwnProperty(Rj))?t[Ty]:null}const uf=Ne({\u0275prov:Ne}),Ty=Ne({\u0275inj:Ne}),PS=Ne({ngInjectableDef:Ne}),Rj=Ne({ngInjectorDef:Ne});var ge=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ge||{});let Ay;function Rn(t){const e=Ay;return Ay=t,e}function FS(t,e,n){const r=sf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ge.Optional?null:void 0!==e?e:void Dy(Mt(t))}const je=globalThis;class j{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Uc={},Ry="__NG_DI_FLAG__",cf="ngTempTokenPath",Oj=/\n/gm,VS="__source";let Ma;function ys(t){const e=Ma;return Ma=t,e}function Vj(t,e=ge.Default){if(void 0===Ma)throw new T(-203,!1);return null===Ma?FS(t,void 0,e):Ma.get(t,e&ge.Optional?null:void 0,e)}function B(t,e=ge.Default){return(function OS(){return Ay}()||Vj)(re(t),e)}function H(t,e=ge.Default){return B(t,lf(e))}function lf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ky(t){const e=[];for(let n=0;n<t.length;n++){const r=re(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=ge.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Bj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function jc(t,e){return t[Ry]=e,t.prototype[Ry]=e,t}function Bj(t){return t[Ry]}function Ti(t){return{toString:t}.toString()}var df=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(df||{}),pr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(pr||{});const Qr={},De=[],hf=Ne({\u0275cmp:Ne}),Py=Ne({\u0275dir:Ne}),Oy=Ne({\u0275pipe:Ne}),US=Ne({\u0275mod:Ne}),Ai=Ne({\u0275fac:Ne}),$c=Ne({__NG_ELEMENT_ID__:Ne}),jS=Ne({__NG_ENV_ID__:Ne});function $S(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Fy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];GS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function HS(t){return 3===t||4===t||6===t}function GS(t){return 64===t.charCodeAt(0)}function Hc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||zS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function zS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const qS="ng-template";function $j(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==$S(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function WS(t){return 4===t.type&&t.value!==qS}function Hj(t,e,n){return e===(4!==t.type||n?t.value:qS)}function Gj(t,e,n){let r=4;const i=t.attrs||[],s=function Wj(t){for(let e=0;e<t.length;e++)if(HS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Hj(t,u,n)||""===u&&1===e.length){if(Rr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!$j(t.attrs,c,n)){if(Rr(r))return!1;o=!0}continue}const d=zj(8&r?"class":u,i,WS(t),n);if(-1===d){if(Rr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==$S(f,c,0)||2&r&&c!==h){if(Rr(r))return!1;o=!0}}}}else{if(!o&&!Rr(r)&&!Rr(u))return!1;if(o&&Rr(u))continue;o=!1,r=u|1&r}}return Rr(r)||o}function Rr(t){return 0==(1&t)}function zj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Kj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function KS(t,e,n=!1){for(let r=0;r<e.length;r++)if(Gj(t,e[r],n))return!0;return!1}function QS(t,e){return t?":not("+e.trim()+")":e}function Yj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Rr(o)&&(e+=QS(s,i),i=""),r=o,s=s||!Rr(r);n++}return""!==i&&(e+=QS(s,i)),e}function Ot(t){return Ti(()=>{const e=XS(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===df.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||pr.Emulated,styles:t.styles||De,_:null,schemas:t.schemas||null,tView:null,id:""};JS(n);const r=t.dependencies;return n.directiveDefs=ff(r,!1),n.pipeDefs=ff(r,!0),n.id=function i$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function e$(t){return ve(t)||qt(t)}function t$(t){return null!==t}function zt(t){return Ti(()=>({type:t.type,bootstrap:t.bootstrap||De,declarations:t.declarations||De,imports:t.imports||De,exports:t.exports||De,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YS(t,e){if(null==t)return Qr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function ie(t){return Ti(()=>{const e=XS(t);return JS(e),e})}function _n(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ve(t){return t[hf]||null}function qt(t){return t[Py]||null}function vn(t){return t[Oy]||null}function zn(t,e){const n=t[US]||null;if(!n&&!0===e)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return n}function XS(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||De,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YS(t.inputs,e),outputs:YS(t.outputs)}}function JS(t){t.features?.forEach(e=>e(t))}function ff(t,e){if(!t)return null;const n=e?vn:e$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(t$)}const at=0,$=1,de=2,Xe=3,kr=4,Gc=5,an=6,Na=7,ft=8,_s=9,Ra=10,ae=11,zc=12,ZS=13,ka=14,pt=15,qc=16,Pa=17,Yr=18,Wc=19,e3=20,vs=21,Si=22,Kc=23,Qc=24,me=25,Ly=1,t3=2,Xr=7,Oa=9,Wt=11;function kn(t){return Array.isArray(t)&&"object"==typeof t[Ly]}function En(t){return Array.isArray(t)&&!0===t[Ly]}function Vy(t){return 0!=(4&t.flags)}function fo(t){return t.componentOffset>-1}function gf(t){return 1==(1&t.flags)}function Pr(t){return!!t.template}function By(t){return 0!=(512&t[de])}function po(t,e){return t.hasOwnProperty(Ai)?t[Ai]:null}let Kt=null,mf=!1;function gr(t){const e=Kt;return Kt=t,e}const i3={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function o3(t){if(!Xc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!c3(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function u3(t){t.dirty=!0,function a3(t){if(void 0===t.liveConsumerNode)return;const e=mf;mf=!0;try{for(const n of t.liveConsumerNode)n.dirty||u3(n)}finally{mf=e}}(t),t.consumerMarkedDirty?.(t)}function jy(t){return t&&(t.nextProducerIndex=0),gr(t)}function $y(t,e){if(gr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Xc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)yf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function c3(t){Fa(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(o3(n),r!==n.version))return!0}return!1}function l3(t){if(Fa(t),Xc(t))for(let e=0;e<t.producerNode.length;e++)yf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yf(t,e){if(function h3(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Fa(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)yf(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Fa(i),i.producerIndexOfThis[r]=e}}function Xc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let f3=null;const y3=()=>{},y$=(()=>({...i3,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:y3}))();class _${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function mr(){return _3}function _3(t){return t.type.prototype.ngOnChanges&&(t.setInput=E$),v$}function v$(){const t=E3(this),e=t?.current;if(e){const n=t.previous;if(n===Qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function E$(t,e,n,r){const i=this.declaredInputs[n],s=E3(t)||function w$(t,e){return t[v3]=e}(t,{previous:Qr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new _$(u&&u.currentValue,e,a===Qr),t[r]=e}mr.ngInherit=!0;const v3="__ngSimpleChanges__";function E3(t){return t[v3]||null}const Jr=function(t,e,n){};function $e(t){for(;Array.isArray(t);)t=t[at];return t}function _f(t,e){return $e(e[t])}function Pn(t,e){return $e(e[t.index])}function b3(t,e){return t.data[e]}function La(t,e){return t[e]}function qn(t,e){const n=e[t];return kn(n)?n:n[at]}function ws(t,e){return null==e?null:t[e]}function I3(t){t[Pa]=0}function A$(t){1024&t[de]||(t[de]|=1024,T3(t,1))}function D3(t){1024&t[de]&&(t[de]&=-1025,T3(t,-1))}function T3(t,e){let n=t[Xe];if(null===n)return;n[Gc]+=e;let r=n;for(n=n[Xe];null!==n&&(1===e&&1===r[Gc]||-1===e&&0===r[Gc]);)n[Gc]+=e,r=n,n=n[Xe]}const ne={lFrame:L3(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function M3(){return ne.bindingsEnabled}function x(){return ne.lFrame.lView}function Ee(){return ne.lFrame.tView}function yr(t){return ne.lFrame.contextLView=t,t[ft]}function _r(t){return ne.lFrame.contextLView=null,t}function Qt(){let t=x3();for(;null!==t&&64===t.type;)t=t.parent;return t}function x3(){return ne.lFrame.currentTNode}function Zr(t,e){const n=ne.lFrame;n.currentTNode=t,n.isParent=e}function Wy(){return ne.lFrame.isParent}function wn(){const t=ne.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ba(){return ne.lFrame.bindingIndex++}function xi(t){const e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function B$(t,e){const n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,Qy(e)}function Qy(t){ne.lFrame.currentDirectiveIndex=t}function Xy(t){ne.lFrame.currentQueryIndex=t}function j$(t){const e=t[$];return 2===e.type?e.declTNode:1===e.type?t[an]:null}function O3(t,e,n){if(n&ge.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ge.Host||(i=j$(s),null===i||(s=s[ka],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ne.lFrame=F3();return r.currentTNode=e,r.lView=t,!0}function Jy(t){const e=F3(),n=t[$];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function F3(){const t=ne.lFrame,e=null===t?null:t.child;return null===e?L3(t):e}function L3(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function V3(){const t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const B3=V3;function Zy(){const t=V3();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Cn(){return ne.lFrame.selectedIndex}function go(t){ne.lFrame.selectedIndex=t}function tt(){const t=ne.lFrame;return b3(t.tView,t.selectedIndex)}let $3=!0;function vf(){return $3}function Cs(t){$3=t}function Ef(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function wf(t,e,n){H3(t,e,3,n)}function Cf(t,e,n,r){(3&t[de])===n&&H3(t,e,n,r)}function e_(t,e){let n=t[de];(3&n)===e&&(n&=8191,n+=1,t[de]=n)}function H3(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Pa]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Pa]+=65536),(a<s||-1==s)&&(K$(t,n,e,u),t[Pa]=(4294901760&t[Pa])+u+2),u++}function G3(t,e){Jr(4,t,e);const n=gr(null);try{e.call(t)}finally{gr(n),Jr(5,t,e)}}function K$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[de]>>13<t[Pa]>>16&&(3&t[de])===e&&(t[de]+=8192,G3(a,s)):G3(a,s)}const Ua=-1;class Zc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function n_(t){return t!==Ua}function el(t){return 32767&t}function tl(t,e){let n=function J$(t){return t>>16}(t),r=e;for(;n>0;)r=r[ka],n--;return r}let r_=!0;function bf(t){const e=r_;return r_=t,e}const z3=255,q3=5;let Z$=0;const ei={};function If(t,e){const n=W3(t,e);if(-1!==n)return n;const r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,i_(r.data,t),i_(e,null),i_(r.blueprint,null));const i=Df(t,e),s=t.injectorIndex;if(n_(i)){const o=el(i),a=tl(i,e),u=a[$].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function i_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function W3(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Df(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=e2(i),null===r)return Ua;if(n++,i=i[ka],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ua}function s_(t,e,n){!function eH(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($c)&&(r=n[$c]),null==r&&(r=n[$c]=Z$++);const i=r&z3;e.data[t+(i>>q3)]|=1<<i}(t,e,n)}function K3(t,e,n){if(n&ge.Optional||void 0!==t)return t;Dy()}function Q3(t,e,n,r){if(n&ge.Optional&&void 0===r&&(r=null),!(n&(ge.Self|ge.Host))){const i=t[_s],s=Rn(void 0);try{return i?i.get(e,r,n&ge.Optional):FS(e,r,n&ge.Optional)}finally{Rn(s)}}return K3(r,0,n)}function Y3(t,e,n,r=ge.Default,i){if(null!==t){if(2048&e[de]&&!(r&ge.Self)){const o=function oH(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[de]&&!(512&o[de]);){const a=X3(s,o,n,r|ge.Self,ei);if(a!==ei)return a;let u=s.parent;if(!u){const c=o[e3];if(c){const l=c.get(n,ei,r);if(l!==ei)return l}u=e2(o),o=o[ka]}s=u}return i}(t,e,n,r,ei);if(o!==ei)return o}const s=X3(t,e,n,r,ei);if(s!==ei)return s}return Q3(e,n,r,i)}function X3(t,e,n,r,i){const s=function rH(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($c)?t[$c]:void 0;return"number"==typeof e?e>=0?e&z3:sH:e}(n);if("function"==typeof s){if(!O3(e,t,r))return r&ge.Host?K3(i,0,r):Q3(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ge.Optional)return o;Dy()}finally{B3()}}else if("number"==typeof s){let o=null,a=W3(t,e),u=Ua,c=r&ge.Host?e[pt][an]:null;for((-1===a||r&ge.SkipSelf)&&(u=-1===a?Df(t,e):e[a+8],u!==Ua&&Z3(r,!1)?(o=e[$],a=el(u),e=tl(u,e)):a=-1);-1!==a;){const l=e[$];if(J3(s,a,l.data)){const d=nH(a,e,n,o,r,c);if(d!==ei)return d}u=e[a+8],u!==Ua&&Z3(r,e[$].data[a+8]===c)&&J3(s,a,e)?(o=l,a=el(u),e=tl(u,e)):a=-1}}return i}function nH(t,e,n,r,i,s){const o=e[$],a=o.data[t+8],l=function Tf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Pr(f)&&f.type===n)return u}return null}(a,o,n,null==r?fo(a)&&r_:r!=o&&0!=(3&a.type),i&ge.Host&&s===a);return null!==l?mo(e,o,l,a):ei}function mo(t,e,n,r){let i=t[n];const s=e.data;if(function Q$(t){return t instanceof Zc}(i)){const o=i;o.resolving&&function Dj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():oe(t)}(s[n]));const a=bf(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Rn(o.injectImpl):null;O3(t,r,ge.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function W$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=_3(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Rn(c),bf(a),o.resolving=!1,B3()}}return i}function J3(t,e,n){return!!(n[e+(t>>q3)]&1<<t)}function Z3(t,e){return!(t&ge.Self||t&ge.Host&&e)}class bn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Y3(this._tNode,this._lView,e,lf(r),n)}}function sH(){return new bn(Qt(),x())}function Yt(t){return Ti(()=>{const e=t.prototype.constructor,n=e[Ai]||o_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ai]||o_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function o_(t){return by(t)?()=>{const e=o_(re(t));return e&&e()}:po(t)}function e2(t){const e=t[$],n=e.type;return 2===n?e.declTNode:1===n?t[an]:null}const $a="__parameters__";function Ga(t,e,n){return Ti(()=>{const r=function a_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty($a)?u[$a]:Object.defineProperty(u,$a,{value:[]})[$a];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function qa(t,e){t.forEach(n=>Array.isArray(n)?qa(n,e):e(n))}function n2(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Sf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Wn(t,e,n){let r=Wa(t,e);return r>=0?t[1|r]=n:(r=~r,function fH(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function u_(t,e){const n=Wa(t,e);if(n>=0)return t[1|n]}function Wa(t,e){return function r2(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const On=jc(Ga("Optional"),8),xf=jc(Ga("SkipSelf"),4);function Of(t){return 128==(128&t.flags)}var bs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bs||{});const f_=new Map;let LH=0;const g_="__ngContext__";function un(t,e){kn(e)?(t[g_]=e[Wc],function BH(t){f_.set(t[Wc],t)}(e)):t[g_]=e}let m_;function y_(t,e){return m_(t,e)}function al(t){const e=t[Xe];return En(e)?e[Xe]:e}function b2(t){return D2(t[zc])}function I2(t){return D2(t[kr])}function D2(t){for(;null!==t&&!En(t);)t=t[kr];return t}function Ya(t,e,n,r,i){if(null!=r){let s,o=!1;En(r)?s=r:kn(r)&&(o=!0,r=r[at]);const a=$e(r);0===t&&null!==n?null==i?M2(e,n,a):yo(e,n,a,i||null,!0):1===t&&null!==n?yo(e,n,a,i||null,!0):2===t?function $f(t,e,n){const r=Uf(t,e);r&&function iG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function aG(t,e,n,r,i){const s=n[Xr];s!==$e(n)&&Ya(e,t,r,s,i);for(let a=Wt;a<n.length;a++){const u=n[a];cl(u[$],u,t,e,r,s)}}(e,t,s,n,i)}}function Vf(t,e,n){return t.createElement(e,n)}function A2(t,e){const n=t[Oa],r=n.indexOf(e);D3(e),n.splice(r,1)}function Bf(t,e){if(t.length<=Wt)return;const n=Wt+e,r=t[n];if(r){const i=r[qc];null!==i&&i!==t&&A2(i,r),e>0&&(t[n-1][kr]=r[kr]);const s=Sf(t,Wt+e);!function YH(t,e){cl(t,e,e[ae],2,null,null),e[at]=null,e[an]=null}(r[$],r);const o=s[Yr];null!==o&&o.detachView(s[$]),r[Xe]=null,r[kr]=null,r[de]&=-129}return r}function v_(t,e){if(!(256&e[de])){const n=e[ae];e[Kc]&&l3(e[Kc]),e[Qc]&&l3(e[Qc]),n.destroyNode&&cl(t,e,n,3,null,null),function ZH(t){let e=t[zc];if(!e)return E_(t[$],t);for(;e;){let n=null;if(kn(e))n=e[zc];else{const r=e[Wt];r&&(n=r)}if(!n){for(;e&&!e[kr]&&e!==t;)kn(e)&&E_(e[$],e),e=e[Xe];null===e&&(e=t),kn(e)&&E_(e[$],e),n=e&&e[kr]}e=n}}(e)}}function E_(t,e){if(!(256&e[de])){e[de]&=-129,e[de]|=256,function rG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Zc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Jr(4,a,u);try{u.call(a)}finally{Jr(5,a,u)}}else{Jr(4,i,s);try{s.call(i)}finally{Jr(5,i,s)}}}}}(t,e),function nG(t,e){const n=t.cleanup,r=e[Na];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Na]=null);const i=e[vs];if(null!==i){e[vs]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[$].type&&e[ae].destroy();const n=e[qc];if(null!==n&&En(e[Xe])){n!==e[Xe]&&A2(n,e);const r=e[Yr];null!==r&&r.detachView(t)}!function UH(t){f_.delete(t[Wc])}(e)}}function w_(t,e,n){return function S2(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[at];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===pr.None||s===pr.Emulated)return null}return Pn(r,n)}}(t,e.parent,n)}function yo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function M2(t,e,n){t.appendChild(e,n)}function x2(t,e,n,r,i){null!==r?yo(t,e,n,r,i):M2(t,e,n)}function Uf(t,e){return t.parentNode(e)}let C_,Hf,T_,Gf,k2=function R2(t,e,n){return 40&t.type?Pn(t,n):null};function jf(t,e,n,r){const i=w_(t,r,e),s=e[ae],a=function N2(t,e,n){return k2(t,e,n)}(r.parent||e[an],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)x2(s,i,n[u],a,!1);else x2(s,i,n,a,!1);void 0!==C_&&C_(s,r,e,n,i)}function ul(t,e){if(null!==e){const n=e.type;if(3&n)return Pn(e,t);if(4&n)return b_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ul(t,r);{const i=t[e.index];return En(i)?b_(-1,i):$e(i)}}if(32&n)return y_(e,t)()||$e(t[e.index]);{const r=O2(t,e);return null!==r?Array.isArray(r)?r[0]:ul(al(t[pt]),r):ul(t,e.next)}}return null}function O2(t,e){return null!==e?t[pt][an].projection[e.projection]:null}function b_(t,e){const n=Wt+t+1;if(n<e.length){const r=e[n],i=r[$].firstChild;if(null!==i)return ul(r,i)}return e[Xr]}function I_(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&un($e(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)I_(t,e,n.child,r,i,s,!1),Ya(e,t,i,a,s);else if(32&u){const c=y_(n,r);let l;for(;l=c();)Ya(e,t,i,l,s);Ya(e,t,i,a,s)}else 16&u?L2(t,e,r,n,i,s):Ya(e,t,i,a,s);n=o?n.projectionNext:n.next}}function cl(t,e,n,r,i,s){I_(n,r,t.firstChild,e,i,s,!1)}function L2(t,e,n,r,i,s){const o=n[pt],u=o[an].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ya(e,t,i,u[c],s);else{let c=u;const l=o[Xe];Of(r)&&(c.flags|=128),I_(t,e,c,l,i,s,!0)}}function V2(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function B2(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Fy(t,e,r),null!==i&&V2(t,e,i),null!==s&&function cG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Xa(t){return function D_(){if(void 0===Hf&&(Hf=null,je.trustedTypes))try{Hf=je.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hf}()?.createHTML(t)||t}function $2(t){return function A_(){if(void 0===Gf&&(Gf=null,je.trustedTypes))try{Gf=je.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gf}()?.createScriptURL(t)||t}class _o{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RS})`}}class pG extends _o{getTypeName(){return"HTML"}}class gG extends _o{getTypeName(){return"Style"}}class mG extends _o{getTypeName(){return"Script"}}class yG extends _o{getTypeName(){return"URL"}}class _G extends _o{getTypeName(){return"ResourceURL"}}function Kn(t){return t instanceof _o?t.changingThisBreaksApplicationSecurity:t}function ti(t,e){const n=function vG(t){return t instanceof _o&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${RS})`)}return n===e}class DG{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Xa(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class TG{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Xa(e),n}}const SG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zf(t){return(t=String(t)).match(SG)?t:"unsafe:"+t}function Ni(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ll(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const G2=Ni("area,br,col,hr,img,wbr"),z2=Ni("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),q2=Ni("rp,rt"),S_=ll(G2,ll(z2,Ni("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ll(q2,Ni("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ll(q2,z2)),M_=Ni("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),W2=ll(M_,Ni("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ni("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),MG=Ni("script,style,template");class xG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!S_.hasOwnProperty(n))return this.sanitizedSomething=!0,!MG.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!W2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;M_[a]&&(u=zf(u)),this.buf.push(" ",o,'="',K2(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();S_.hasOwnProperty(n)&&!G2.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(K2(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const NG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RG=/([^\#-~ |!])/g;function K2(t){return t.replace(/&/g,"&amp;").replace(NG,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(RG,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qf;function Q2(t,e){let n=null;try{qf=qf||function H2(t){const e=new TG(t);return function AG(){try{return!!(new window.DOMParser).parseFromString(Xa(""),"text/html")}catch{return!1}}()?new DG(e):e}(t);let r=e?String(e):"";n=qf.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=qf.getInertBodyElement(r)}while(r!==s);return Xa((new xG).sanitizeChildren(x_(n)||n))}finally{if(n){const r=x_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function x_(t){return"content"in t&&function kG(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Er=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Er||{});function Za(t){const e=dl();return e?e.sanitize(Er.URL,t)||"":ti(t,"URL")?Kn(t):zf(oe(t))}function Wf(t){const e=dl();if(e)return $2(e.sanitize(Er.RESOURCE_URL,t)||"");if(ti(t,"ResourceURL"))return $2(Kn(t));throw new T(904,!1)}function dl(){const t=x();return t&&t[Ra].sanitizer}const hl=new j("ENVIRONMENT_INITIALIZER"),X2=new j("INJECTOR",-1),J2=new j("INJECTOR_DEF_TYPES");class N_{get(e,n=Uc){if(n===Uc){const r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return n}}function UG(...t){return{\u0275providers:Z2(0,t),\u0275fromNgModule:!0}}function Z2(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return qa(e,o=>{const a=o;Kf(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&eM(i,s),n}function eM(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];k_(i,s=>{e(s,r)})}}function Kf(t,e,n,r){if(!(t=re(t)))return!1;let i=null,s=af(t);const o=!s&&ve(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=af(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Kf(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{qa(s.imports,l=>{Kf(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&eM(c,e)}if(!a){const c=po(i)||(()=>new i);e({provide:i,useFactory:c,deps:De},i),e({provide:J2,useValue:i,multi:!0},i),e({provide:hl,useValue:()=>B(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;k_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function k_(t,e){for(let n of t)Iy(n)&&(n=n.\u0275providers),Array.isArray(n)?k_(n,e):e(n)}const jG=Ne({provide:String,useValue:Ne});function P_(t){return null!==t&&"object"==typeof t&&jG in t}function vo(t){return"function"==typeof t}const O_=new j("Set Injector scope."),Qf={},HG={};let F_;function Yf(){return void 0===F_&&(F_=new N_),F_}class Qn{}class eu extends Qn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,V_(e,o=>this.processProvider(o)),this.records.set(X2,tu(void 0,this)),i.has("environment")&&this.records.set(Qn,tu(void 0,this));const s=this.records.get(O_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(J2.multi,De,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ys(this),r=Rn(void 0);try{return e()}finally{ys(n),Rn(r)}}get(e,n=Uc,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jS))return e[jS](this);r=lf(r);const s=ys(this),o=Rn(void 0);try{if(!(r&ge.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function KG(t){return"function"==typeof t||"object"==typeof t&&t instanceof j}(e)&&sf(e);u=c&&this.injectableDefInScope(c)?tu(L_(e),Qf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ge.Self?Yf():this.parent).get(e,n=r&ge.Optional&&n===Uc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[cf]=a[cf]||[]).unshift(Mt(e)),s)throw a;return function Uj(t,e,n,r){const i=t[cf];throw e[VS]&&i.unshift(e[VS]),t.message=function jj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Mt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Oj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[cf]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Rn(o),ys(s)}}resolveInjectorInitializers(){const e=ys(this),n=Rn(void 0);try{const i=this.get(hl.multi,De,ge.Self);for(const s of i)s()}finally{ys(e),Rn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=vo(e=re(e))?e:re(e&&e.provide);const r=function zG(t){return P_(t)?tu(void 0,t.useValue):tu(rM(t),Qf)}(e);if(vo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=tu(void 0,Qf,!0),i.factory=()=>ky(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Qf&&(n.value=HG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function WG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=re(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function L_(t){const e=sf(t),n=null!==e?e.factory:po(t);if(null!==n)return n;if(t instanceof j)throw new T(204,!1);if(t instanceof Function)return function GG(t){const e=t.length;if(e>0)throw function il(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function Nj(t){return t&&(t[uf]||t[PS])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function rM(t,e,n){let r;if(vo(t)){const i=re(t);return po(i)||L_(i)}if(P_(t))r=()=>re(t.useValue);else if(function nM(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ky(t.deps||[]));else if(function tM(t){return!(!t||!t.useExisting)}(t))r=()=>B(re(t.useExisting));else{const i=re(t&&(t.useClass||t.provide));if(!function qG(t){return!!t.deps}(t))return po(i)||L_(i);r=()=>new i(...ky(t.deps))}return r}function tu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function V_(t,e){for(const n of t)Array.isArray(n)?V_(n,e):n&&Iy(n)?V_(n.\u0275providers,e):e(n)}const Xf=new j("AppId",{providedIn:"root",factory:()=>QG}),QG="ng",iM=new j("Platform Initializer"),Ri=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sM=new j("AnimationModuleType"),oM=new j("CSP nonce",{providedIn:"root",factory:()=>function Ja(){if(void 0!==T_)return T_;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let aM=(t,e,n)=>null;function q_(t,e,n=!1){return aM(t,e,n)}class sz{}class lM{}class az{resolveComponentFactory(e){throw function oz(t){const e=Error(`No component factory found for ${Mt(t)}.`);return e.ngComponent=t,e}(e)}}let rp=(()=>{class t{static#e=this.NULL=new az}return t})();function uz(){return iu(Qt(),x())}function iu(t,e){return new Yn(Pn(t,e))}let Yn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=uz}return t})();class gl{}let ki=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function lz(){const t=x(),n=qn(Qt().index,t);return(kn(n)?n:t)[ae]}()}return t})(),dz=(()=>{class t{static#e=this.\u0275prov=W({token:t,providedIn:"root",factory:()=>null})}return t})();class su{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Q_=new su("16.2.11"),Y_={};function gM(t,e=null,n=null,r){const i=mM(t,e,n,r);return i.resolveInjectorInitializers(),i}function mM(t,e=null,n=null,r,i=new Set){const s=[n||De,UG(t)];return r=r||("object"==typeof t?void 0:Mt(t)),new eu(s,e||Yf(),r||null,i)}let cn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Uc;static#t=this.NULL=new N_;static create(n,r){if(Array.isArray(n))return gM({name:""},r,n,"");{const i=n.name??"";return gM({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=W({token:t,providedIn:"any",factory:()=>B(X2)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function J_(t){return t.ngOriginalError}class Pi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&J_(e);for(;n&&J_(n);)n=J_(n);return n||null}}function ev(t){return e=>{setTimeout(t,void 0,e)}}const nt=class _z extends dr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=ev(s),i&&(i=ev(i)),o&&(o=ev(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Nn&&e.add(a),a}};function _M(...t){}class Ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function vz(){const t="function"==typeof je.requestAnimationFrame;let e=je[t?"requestAnimationFrame":"setTimeout"],n=je[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Cz(t){const e=()=>{!function wz(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(je,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nv(t),t.isCheckStableRunning=!0,tv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function Iz(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return vM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),EM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return vM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),EM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,nv(t),tv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ez,_M,_M);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Ez={};function tv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function EM(t){t._nesting--,tv(t)}class bz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const wM=new j("",{providedIn:"root",factory:CM});function CM(){const t=H(Ae);let e=!0;return function wj(...t){const e=Bc(t),n=function pj(t,e){return"number"==typeof Ey(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Hn(r[0]):Sa(n)(St(r,e)):Kr}(new Le(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Le(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(NS()))}function Oi(t){return t instanceof Function?t():t}let rv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})();function ml(t){for(;t;){t[de]|=64;const e=al(t);if(By(t)&&!e)return t;t=e}return null}const AM=new j("",{providedIn:"root",factory:()=>!1});let sp=null;function NM(t,e){return t[e]??PM()}function RM(t,e){const n=PM();n.producerNode?.length&&(t[e]=sp,n.lView=t,sp=kM())}const Pz={...i3,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ml(t.lView)},lView:null};function kM(){return Object.create(Pz)}function PM(){return sp??=kM(),sp}const ce={};function b(t){OM(Ee(),x(),Cn()+t,!1)}function OM(t,e,n,r){if(!r)if(3==(3&e[de])){const s=t.preOrderCheckHooks;null!==s&&wf(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Cf(e,s,0,n)}go(n)}function M(t,e=ge.Default){const n=x();return null===n?B(t,e):Y3(Qt(),n,re(t),e)}function op(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[at]=i,d[de]=140|r,(null!==c||t&&2048&t[de])&&(d[de]|=2048),I3(d),d[Xe]=d[ka]=t,d[ft]=n,d[Ra]=o||t&&t[Ra],d[ae]=a||t&&t[ae],d[_s]=u||t&&t[_s]||null,d[an]=s,d[Wc]=function VH(){return LH++}(),d[Si]=l,d[e3]=c,d[pt]=2==e.type?t[pt]:d,d}function uu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function iv(t,e,n,r,i){const s=x3(),o=Wy(),u=t.data[e]=function $z(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Va(){return null!==ne.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function V$(){return ne.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Jc(){const t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Zr(s,!0),s}function yl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function LM(t,e,n,r,i){const s=NM(e,Kc),o=Cn(),a=2&r;try{go(-1),a&&e.length>me&&OM(t,e,me,!1),Jr(a?2:0,i);const c=a?s:null,l=jy(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{$y(c,l)}}finally{a&&null===e[Kc]&&RM(e,Kc),go(o),Jr(a?3:1,i)}}function sv(t,e,n){if(Vy(e)){const r=gr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{gr(r)}}}function ov(t,e,n){M3()&&(function Qz(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;fo(n)&&function nq(t,e,n){const r=Pn(e,t),i=VM(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=ap(t,op(t,i,null,o,r,e,null,t[Ra].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||If(n,e),un(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=mo(e,t,a,n);un(c,e),null!==o&&rq(0,a-i,c,u,0,o),Pr(u)&&(qn(n.index,e)[ft]=mo(e,t,a,n))}}(t,e,n,Pn(n,e)),64==(64&n.flags)&&HM(t,e,n))}function av(t,e,n=Pn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function VM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=uv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function uv(t,e,n,r,i,s,o,a,u,c,l){const d=me+r,h=d+i,f=function Fz(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ce);return n}(d,h),p="function"==typeof c?c():c;return f[$]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let BM=t=>null;function UM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?jM(n,e,i,s):r.hasOwnProperty(i)&&jM(n,e,r[i],s)}return n}function jM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Xn(t,e,n,r,i,s,o,a){const u=Pn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(fv(t,n,l,r,i),fo(e)&&function zz(t,e){const n=qn(e,t);16&n[de]||(n[de]|=64)}(n,e.index)):3&e.type&&(r=function Gz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function cv(t,e,n,r){if(M3()){const i=null===r?null:{"":-1},s=function Xz(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(KS(e,o.selectors,!1))if(r||(r=[]),Pr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),lv(t,e,a.length)}else r.unshift(o),lv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&$M(t,e,n,o,i,a),i&&function Jz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Hc(n.mergedAttrs,n.attrs)}function $M(t,e,n,r,i,s){for(let c=0;c<r.length;c++)s_(If(n,e),t,r[c].type);!function eq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=yl(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Hc(n.mergedAttrs,l.hostAttrs),tq(t,n,e,u,l),Zz(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function Hz(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=UM(d.inputs,l,u,h?h.inputs:null),c=UM(d.outputs,l,c,p);const y=null===u||null===o||WS(e)?null:iq(u,l,o);a.push(y)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function HM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function U$(){return ne.lFrame.currentDirectiveIndex}();try{go(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Qy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Yz(u,c)}}finally{go(-1),Qy(o)}}function Yz(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function lv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Zz(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pr(e)&&(n[""]=t)}}function tq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=po(i.type)),o=new Zc(s,Pr(i),M);t.blueprint[r]=o,n[r]=o,function Wz(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Kz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,yl(t,n,i.hostVars,ce),i)}function ni(t,e,n,r,i,s){const o=Pn(t,e);!function dv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?oe(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[ae],o,s,t.value,n,r,i)}function rq(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)GM(r,n,o[a++],o[a++],o[a++])}function GM(t,e,n,r,i){const s=gr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{gr(s)}}function iq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function zM(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function qM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Xy(n[r]),o.contentQueries(2,e[s],s)}}}function ap(t,e){return t[zc]?t[ZS][kr]=e:t[zc]=e,t[ZS]=e,e}function hv(t,e,n){Xy(0);const r=gr(null);try{e(t,n)}finally{gr(r)}}function YM(t,e){const n=t[_s],r=n?n.get(Pi,null):null;r&&r.handleError(e)}function fv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];GM(t.data[o],e[o],r,a,i)}}function Fi(t,e,n){const r=_f(e,t);!function T2(t,e,n){t.setValue(e,n)}(t[ae],r,n)}function sq(t,e){const n=qn(e,t),r=n[$];!function oq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[at];null!==i&&null===n[Si]&&(n[Si]=q_(i,n[_s])),pv(r,n,n[ft])}function pv(t,e,n){Jy(e);try{const r=t.viewQuery;null!==r&&hv(1,r,n);const i=t.template;null!==i&&LM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qM(t,e),t.staticViewQueries&&hv(2,t.viewQuery,n);const s=t.components;null!==s&&function aq(t,e){for(let n=0;n<e.length;n++)sq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[de]&=-5,Zy()}}let XM=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function m$(t,e,n){const r=Object.create(y$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>u3(r),run:()=>{if(r.dirty=!1,r.hasRun&&!c3(r))return;r.hasRun=!0;const o=jy(r);try{r.cleanupFn(),r.cleanupFn=y3,r.fn(i)}finally{$y(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})();function up(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Cy(i,a):2==s&&(r=Cy(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function _l(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push($e(s)),En(s)&&JM(s,r);const o=n.type;if(8&o)_l(t,e,n.child,r);else if(32&o){const a=y_(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=O2(e,n);if(Array.isArray(a))r.push(...a);else{const u=al(e[pt]);_l(u[$],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function JM(t,e){for(let n=Wt;n<t.length;n++){const r=t[n],i=r[$].firstChild;null!==i&&_l(r[$],r,i,e)}t[Xr]!==t[at]&&e.push(t[Xr])}function cp(t,e,n,r=!0){const i=e[Ra],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{ZM(t,e,t.template,n)}catch(u){throw r&&YM(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function ZM(t,e,n,r){const i=e[de];if(256!=(256&i)){e[Ra].effectManager?.flush(),Jy(e);try{I3(e),function R3(t){return ne.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&LM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&wf(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Cf(e,c,0,null),e_(e,0)}if(function lq(t){for(let e=b2(t);null!==e;e=I2(e)){if(!e[t3])continue;const n=e[Oa];for(let r=0;r<n.length;r++){A$(n[r])}}}(e),ex(e,2),null!==t.contentQueries&&qM(t,e),o){const c=t.contentCheckHooks;null!==c&&wf(e,c)}else{const c=t.contentHooks;null!==c&&Cf(e,c,1),e_(e,1)}!function Oz(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=NM(e,Qc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)go(~s);else{const o=s,a=n[++i],u=n[++i];B$(a,o),r.dirty=!1;const c=jy(r);try{u(2,e[o])}finally{$y(r,c)}}}}finally{null===e[Qc]&&RM(e,Qc),go(-1)}}(t,e);const a=t.components;null!==a&&nx(e,a,0);const u=t.viewQuery;if(null!==u&&hv(2,u,r),o){const c=t.viewCheckHooks;null!==c&&wf(e,c)}else{const c=t.viewHooks;null!==c&&Cf(e,c,2),e_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[de]&=-73,D3(e)}finally{Zy()}}}function ex(t,e){for(let n=b2(t);null!==n;n=I2(n))for(let r=Wt;r<n.length;r++)tx(n[r],e)}function dq(t,e,n){tx(qn(e,t),n)}function tx(t,e){if(!function D$(t){return 128==(128&t[de])}(t))return;const n=t[$],r=t[de];if(80&r&&0===e||1024&r||2===e)ZM(n,t,n.template,t[ft]);else if(t[Gc]>0){ex(t,1);const i=n.components;null!==i&&nx(t,i,1)}}function nx(t,e,n){for(let r=0;r<e.length;r++)dq(t,e[r],n)}class vl{get rootNodes(){const e=this._lView,n=e[$];return _l(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ft]}set context(e){this._lView[ft]=e}get destroyed(){return 256==(256&this._lView[de])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Xe];if(En(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Bf(e,r),Sf(n,r))}this._attachedToViewContainer=!1}v_(this._lView[$],this._lView)}onDestroy(e){!function A3(t,e){if(256==(256&t[de]))throw new T(911,!1);null===t[vs]&&(t[vs]=[]),t[vs].push(e)}(this._lView,e)}markForCheck(){ml(this._cdRefInjectingView||this._lView)}detach(){this._lView[de]&=-129}reattach(){this._lView[de]|=128}detectChanges(){cp(this._lView[$],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JH(t,e){cl(t,e,e[ae],2,null,null)}(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class hq extends vl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;cp(e[$],e,e[ft],!1)}checkNoChanges(){}get context(){return null}}class rx extends rp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ve(e);return new El(n,this.ngModule)}}function ix(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class pq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=lf(r);const i=this.injector.get(e,Y_,r);return i!==Y_||n===Y_?i:this.parentInjector.get(e,n,r)}}class El extends lM{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=ix(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ix(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Xj(t){return t.map(Yj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Qn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new pq(e,s):e,a=o.get(gl,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:o.get(dz,null),effectManager:o.get(XM,null),afterRenderEventManager:o.get(rv,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function Lz(t,e,n,r){const s=r.get(AM,!1)||n===pr.ShadowDom,o=t.selectRootElement(e,s);return function Vz(t){BM(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Vf(h,f,function fq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==p&&(w=q_(p,o,!0));const S=uv(0,null,null,1,0,null,null,null,null,null,null),O=op(null,S,null,C,null,null,d,h,o,null,w);let G,X;Jy(O);try{const le=this.componentDef;let Be,Tt=null;le.findHostDirectiveDefs?(Be=[],Tt=new Map,le.findHostDirectiveDefs(le,Be,Tt),Be.push(le)):Be=[le];const cr=function mq(t,e){const n=t[$],r=me;return t[r]=e,uu(n,r,2,"#host",null)}(O,p),ay=function yq(t,e,n,r,i,s,o){const a=i[$];!function _q(t,e,n,r){for(const i of t)e.mergedAttrs=Hc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(up(e,e.mergedAttrs,!0),null!==n&&B2(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=q_(e,i[_s]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=op(i,VM(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&lv(a,t,r.length-1),ap(i,d),i[t.index]=d}(cr,p,le,Be,O,d,h);X=b3(S,me),p&&function Eq(t,e,n,r){if(r)Fy(t,n,["ng-version",Q_.full]);else{const{attrs:i,classes:s}=function Jj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Rr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Fy(t,n,i),s&&s.length>0&&V2(t,n,s.join(" "))}}(h,le,p,r),void 0!==n&&function wq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(X,this.ngContentSelectors,n),G=function vq(t,e,n,r,i,s){const o=Qt(),a=i[$],u=Pn(o,i);$M(a,i,o,n,null,r);for(let l=0;l<n.length;l++)un(mo(i,a,o.directiveStart+l,o),i);HM(a,i,o),u&&un(u,i);const c=mo(i,a,o.directiveStart+o.componentOffset,o);if(t[ft]=i[ft]=c,null!==s)for(const l of s)l(c,e);return sv(a,o,t),c}(ay,le,Be,Tt,O,[Cq]),pv(S,O,null)}finally{Zy()}return new gq(this.componentType,G,iu(X,O),O,X)}}class gq extends sz{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new hq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;fv(s[$],s,i,e,n),this.previousInputValues.set(e,n),ml(qn(this._tNode.index,s))}}get injector(){return new bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Cq(){const t=Qt();Ef(x()[$],t)}function Re(t){let e=function sx(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=lp(t.inputs),o.inputTransforms=lp(t.inputTransforms),o.declaredInputs=lp(t.declaredInputs),o.outputs=lp(t.outputs);const a=i.hostBindings;a&&Tq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Iq(t,u),c&&Dq(t,c),nf(t.inputs,i.inputs),nf(t.declaredInputs,i.declaredInputs),nf(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),nf(o.inputTransforms,i.inputTransforms)),Pr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Re&&(n=!1)}}e=Object.getPrototypeOf(e)}!function bq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hc(i.hostAttrs,n=Hc(n,i.hostAttrs))}}(r)}function lp(t){return t===Qr?{}:t===De?[]:t}function Iq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Dq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Tq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function cx(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function dp(t){return!!function gv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ri(t,e,n){return t[e]=n}function ln(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Eo(t,e,n,r){const i=ln(t,e,n);return ln(t,e+1,r)||i}function ii(t,e,n,r){const i=x();return ln(i,Ba(),e)&&(Ee(),ni(tt(),i,t,e,n,r)),ii}function lu(t,e,n,r){return ln(t,Ba(),n)?e+oe(n)+r:ce}function hu(t,e,n,r,i,s,o,a){const c=function hp(t,e,n,r,i){const s=Eo(t,e,n,r);return ln(t,e+2,i)||s}(t,function Mi(){return ne.lFrame.bindingIndex}(),n,i,o);return xi(3),c?e+oe(n)+r+oe(i)+s+oe(o)+a:ce}function R(t,e,n,r,i,s,o,a){const u=x(),c=Ee(),l=t+me,d=c.firstCreatePass?function Xq(t,e,n,r,i,s,o,a,u){const c=e.consts,l=uu(e,t,4,o||null,ws(c,a));cv(e,n,l,ws(c,u)),Ef(e,l);const d=l.tView=uv(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Zr(d,!1);const h=Cx(c,u,d,t);vf()&&jf(c,u,h,d),un(h,u),ap(u,u[l]=zM(h,u,h,d)),gf(d)&&ov(c,u,d),null!=o&&av(u,d,a)}let Cx=function bx(t,e,n,r){return Cs(!0),e[ae].createComment("")};function A(t,e,n){const r=x();return ln(r,Ba(),e)&&Xn(Ee(),tt(),r,t,e,r[ae],n,!1),A}function wv(t,e,n,r,i){const o=i?"class":"style";fv(t,n,e.inputs[o],o,r)}function m(t,e,n,r){const i=x(),s=Ee(),o=me+t,a=i[ae],u=s.firstCreatePass?function nW(t,e,n,r,i,s){const o=e.consts,u=uu(e,t,2,r,ws(o,i));return cv(e,n,u,ws(o,s)),null!==u.attrs&&up(u,u.attrs,!1),null!==u.mergedAttrs&&up(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=Ix(s,i,u,a,e,t);i[o]=c;const l=gf(u);return Zr(u,!0),B2(a,c,u),32!=(32&u.flags)&&vf()&&jf(s,i,c,u),0===function M$(){return ne.lFrame.elementDepthCount}()&&un(c,i),function x$(){ne.lFrame.elementDepthCount++}(),l&&(ov(s,i,u),sv(s,u,i)),null!==r&&av(i,u),m}function g(){let t=Qt();Wy()?function Ky(){ne.lFrame.isParent=!1}():(t=t.parent,Zr(t,!1));const e=t;(function R$(t){return ne.skipHydrationRootTNode===t})(e)&&function F$(){ne.skipHydrationRootTNode=null}(),function N$(){ne.lFrame.elementDepthCount--}();const n=Ee();return n.firstCreatePass&&(Ef(n,t),Vy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Y$(t){return 0!=(8&t.flags)}(e)&&wv(n,e,x(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function X$(t){return 0!=(16&t.flags)}(e)&&wv(n,e,x(),e.stylesWithoutHost,!1),g}function k(t,e,n,r){return m(t,e,n,r),g(),k}let Ix=(t,e,n,r,i,s)=>(Cs(!0),Vf(r,i,function j3(){return ne.lFrame.currentNamespace}()));function Li(){return x()}function Dl(t){return!!t&&"function"==typeof t.then}function Ax(t){return!!t&&"function"==typeof t.subscribe}function pe(t,e,n,r){const i=x(),s=Ee(),o=Qt();return function Mx(t,e,n,r,i,s,o){const a=gf(r),c=t.firstCreatePass&&function KM(t){return t.cleanup||(t.cleanup=[])}(t),l=e[ft],d=function WM(t){return t[Na]||(t[Na]=[])}(e);let h=!0;if(3&r.type||o){const y=Pn(r,e),_=o?o(y):y,C=d.length,w=o?O=>o($e(O[r.index])):r.index;let S=null;if(!o&&a&&(S=function uW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Na],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,h=!1;else{s=Nx(r,e,l,s,!1);const O=n.listen(_,i,s);d.push(s,O),c&&c.push(i,w,C,C+1)}}else s=Nx(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const y=p.length;if(y)for(let _=0;_<y;_+=2){const G=e[p[_]][p[_+1]].subscribe(s),X=d.length;d.push(s,G),c&&c.push(i,r.index,X,-(X+1))}}}(s,i,i[ae],o,t,e,r),pe}function xx(t,e,n,r){try{return Jr(6,e,n),!1!==n(r)}catch(i){return YM(t,i),!1}finally{Jr(7,e,n)}}function Nx(t,e,n,r,i){return function s(o){if(o===Function)return r;ml(t.componentOffset>-1?qn(t.index,e):e);let u=xx(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=xx(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function z(t=1){return function $$(t){return(ne.lFrame.contextLView=function H$(t,e){for(;t>0;)e=e[ka],t--;return e}(t,ne.lFrame.contextLView))[ft]}(t)}function Iv(t,e,n){return Dv(t,"",e,"",n),Iv}function Dv(t,e,n,r,i){const s=x(),o=lu(s,e,n,r);return o!==ce&&Xn(Ee(),tt(),s,t,o,s[ae],i,!1),Dv}function mp(t,e){return t<<17|e<<2}function Is(t){return t>>17&32767}function Tv(t){return 2|t}function wo(t){return(131068&t)>>2}function Av(t,e){return-131069&t|e<<2}function Sv(t){return 1|t}function Ux(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Is(s):wo(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];yW(t[a],e)&&(u=!0,t[a+1]=r?Sv(l):Tv(l)),a=r?Is(l):wo(l)}u&&(t[n+1]=r?Tv(s):Sv(s))}function yW(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Wa(t,e)>=0}function yp(t,e){return function Or(t,e,n,r){const i=x(),s=Ee(),o=xi(2);s.firstUpdatePass&&function Qx(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Cn()],o=function Kx(t,e){return e>=t.expandoStartIndex}(t,n);(function Zx(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function TW(t,e,n,r){const i=function Yy(t){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Tl(n=Mv(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Mv(i,t,e,n,r),null===s){let u=function AW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==wo(r))return t[Is(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Mv(null,t,e,u[1],r),u=Tl(u,e.attrs,r),function SW(t,e,n,r){t[Is(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function MW(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Tl(r,t[s].hostAttrs,n);return Tl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function gW(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Is(o),u=wo(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Wa(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Is(t[a+1]);t[r+1]=mp(h,a),0!==h&&(t[h+1]=Av(t[h+1],r)),t[a+1]=function fW(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=mp(a,0),0!==a&&(t[a+1]=Av(t[a+1],r)),a=r;else t[r+1]=mp(u,0),0===a?a=r:t[u+1]=Av(t[u+1],r),u=r;c&&(t[r+1]=Tv(t[r+1])),Ux(t,l,r,!0),Ux(t,l,r,!1),function mW(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Wa(s,e)>=0&&(n[r+1]=Sv(n[r+1]))}(e,l,t,r,s),o=mp(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ce&&ln(i,o,e)&&function Xx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function pW(t){return 1==(1&t)}(c)?Jx(u,e,n,i,wo(c),o):void 0;_p(l)||(_p(s)||function hW(t){return 2==(2&t)}(c)&&(s=Jx(u,null,n,i,a,o)),function uG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:bs.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bs.Important),t.setStyle(n,r,i,s))}}(r,o,_f(Cn(),n),i,s))}(s,s.data[Cn()],i,i[ae],t,i[o+1]=function kW(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Mt(Kn(t)))),t}(e,n),r,o)}(t,e,null,!0),yp}function Mv(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Tl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Tl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Wn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Jx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ce&&(h=d?De:void 0);let f=d?u_(h,r):l===r?h:void 0;if(c&&!_p(f)&&(f=u_(u,r)),_p(f)&&(a=f,o))return a;const p=t[i+1];i=o?Is(p):wo(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=u_(u,r))}return a}function _p(t){return void 0!==t}function v(t,e=""){const n=x(),r=Ee(),i=t+me,s=r.firstCreatePass?uu(r,i,1,e,null):r.data[i],o=eN(r,n,s,e,t);n[i]=o,vf()&&jf(r,n,o,s),Zr(s,!1)}let eN=(t,e,n,r,i)=>(Cs(!0),function Lf(t,e){return t.createText(e)}(e[ae],r));function rt(t){return Je("",t,""),rt}function Je(t,e,n){const r=x(),i=lu(r,t,e,n);return i!==ce&&Fi(r,Cn(),i),Je}function vp(t,e,n,r,i,s,o){const a=x(),u=hu(a,t,e,n,r,i,s,o);return u!==ce&&Fi(a,Cn(),u),vp}const Co=void 0;var tK=["en",[["a","p"],["AM","PM"],Co],[["AM","PM"],Co,Co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Co,"{1} 'at' {0}",Co],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eK(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let vu={};function In(t){const e=function nK(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=EN(e);if(n)return n;const r=e.split("-")[0];if(n=EN(r),n)return n;if("en"===r)return tK;throw new T(701,!1)}function EN(t){return t in vu||(vu[t]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[t]),vu[t]}var He=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(He||{});const Eu="en-US";let wN=Eu;function Rv(t,e,n,r,i){if(t=re(t),Array.isArray(t))for(let s=0;s<t.length;s++)Rv(t[s],e,n,r,i);else{const s=Ee(),o=x(),a=Qt();let u=vo(t)?t:re(t.provide);const c=rM(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(vo(t)||!t.multi){const f=new Zc(c,i,M),p=Pv(u,e,i?l:l+h,d);-1===p?(s_(If(a,o),s,u),kv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Pv(u,e,l+h,d),p=Pv(u,e,l,l+h),_=p>=0&&n[p];if(i&&!_||!i&&!(f>=0&&n[f])){s_(If(a,o),s,u);const C=function eQ(t,e,n,r,i){const s=new Zc(t,n,M);return s.multi=[],s.index=e,s.componentProviders=0,qN(s,i,r&&!n),s}(i?ZK:JK,n.length,i,r,c);!i&&_&&(n[p].providerFactory=C),kv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else kv(s,t,f>-1?f:p,qN(n[i?p:f],c,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function kv(t,e,n,r){const i=vo(e),s=function $G(t){return!!t.useClass}(e);if(i||s){const u=(s?re(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function qN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Pv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function JK(t,e,n,r){return Ov(this.multi,[])}function ZK(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=mo(n,n[$],this.providerFactory.index,r);s=a.slice(0,o),Ov(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ov(i,s);return s}function Ov(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ze(t,e=[]){return n=>{n.providersResolver=(r,i)=>function XK(t,e,n){const r=Ee();if(r.firstCreatePass){const i=Pr(t);Rv(n,r.data,r.blueprint,i,!0),Rv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class bo{}class WN{}class Fv extends bo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rx(this);const i=zn(e);this._bootstrapComponents=Oi(i.bootstrap),this._r3Injector=mM(e,n,[{provide:bo,useValue:this},{provide:rp,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Lv extends WN{constructor(e){super(),this.moduleType=e}create(e){return new Fv(this.moduleType,e,[])}}class KN extends bo{constructor(e){super(),this.componentFactoryResolver=new rx(this),this.instance=null;const n=new eu([...e.providers,{provide:bo,useValue:this},{provide:rp,useValue:this.componentFactoryResolver}],e.parent||Yf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Vv(t,e,n=null){return new KN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let rQ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Z2(0,n.type),i=r.length>0?Vv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(B(Qn))})}return t})();function QN(t){t.getStandaloneInjector=e=>e.get(rQ).getOrCreateStandaloneInjector(t)}function Io(t,e,n,r){return nR(x(),wn(),t,e,n,r)}function Rl(t,e){const n=t[e];return n===ce?void 0:n}function nR(t,e,n,r,i,s){const o=e+n;return ln(t,o,i)?ri(t,o+1,s?r.call(s,i):r(i)):Rl(t,o+1)}function Ip(t,e){const n=Ee();let r;const i=t+me;n.firstCreatePass?(r=function wQ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=po(r.type)),a=Rn(M);try{const u=bf(!1),c=s();return bf(u),function eW(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,x(),i,c),c}finally{Rn(a)}}function Uv(t,e,n){const r=t+me,i=x(),s=La(i,r);return kl(i,r)?nR(i,wn(),e,s.transform,n,s):s.transform(n)}function aR(t,e,n,r){const i=t+me,s=x(),o=La(s,i);return kl(s,i)?function rR(t,e,n,r,i,s,o){const a=e+n;return Eo(t,a,i,s)?ri(t,a+2,o?r.call(o,i,s):r(i,s)):Rl(t,a+2)}(s,wn(),e,o.transform,n,r,o):o.transform(n,r)}function kl(t,e){return t[$].data[e].pure}function AQ(t,e,n,r=!0){const i=e[$];if(function eG(t,e,n,r){const i=Wt+r,s=n.length;r>0&&(n[i-1][kr]=e),r<s-Wt?(e[kr]=n[i],n2(n,Wt+r,e)):(n.push(e),e[kr]=null),e[Xe]=n;const o=e[qc];null!==o&&n!==o&&function tG(t,e){const n=t[Oa];e[pt]!==e[Xe][Xe][pt]&&(t[t3]=!0),null===n?t[Oa]=[e]:n.push(e)}(o,e);const a=e[Yr];null!==a&&a.insertView(t),e[de]|=128}(i,e,t,n),r){const s=b_(n,t),o=e[ae],a=Uf(o,t[Xr]);null!==a&&function XH(t,e,n,r,i,s){r[at]=i,r[an]=e,cl(t,r,n,1,i,s)}(i,t[an],o,e,a,s)}}Symbol;let Vi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=xQ}return t})();const SQ=Vi,MQ=class extends SQ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function TQ(t,e,n,r){const i=e.tView,a=op(t,i,n,4096&t[de]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[qc]=t[e.index];const c=t[Yr];return null!==c&&(a[Yr]=c.createEmbeddedView(i)),pv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new vl(i)}};function xQ(){return function Dp(t,e){return 4&t.type?new MQ(e,t,iu(t,e)):null}(Qt(),x())}let Lr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=FQ}return t})();function FQ(){return function pR(t,e){let n;const r=e[t.index];return En(r)?n=r:(n=zM(r,e,null,t),e[t.index]=n,ap(e,n)),gR(n,e,t,r),new hR(n,t,e)}(Qt(),x())}const LQ=Lr,hR=class extends LQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return iu(this._hostTNode,this._hostLView)}get injector(){return new bn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Df(this._hostTNode,this._hostLView);if(n_(e)){const n=tl(e,this._hostLView),r=el(e);return new bn(n[$].data[r+8],n)}return new bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=fR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function rl(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}const u=o?e:new El(ve(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const _=(o?c:this.parentInjector).get(Qn,null);_&&(s=_)}ve(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function T$(t){return En(t[Xe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Xe],l=new hR(c,c[an],c[Xe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return AQ(a,i,o,!r),e.attachToViewContainerRef(),n2($v(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=fR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Bf(this._lContainer,n);r&&(Sf($v(this._lContainer),n),v_(r[$],r))}detach(e){const n=this._adjustIndex(e,-1),r=Bf(this._lContainer,n);return r&&null!=Sf($v(this._lContainer),n)?new vl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function fR(t){return t[8]}function $v(t){return t[8]||(t[8]=[])}let gR=function mR(t,e,n,r){if(t[Xr])return;let i;i=8&n.type?$e(r):function VQ(t,e){const n=t[ae],r=n.createComment(""),i=Pn(e,t);return yo(n,Uf(n,i),r,function sG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Xr]=i};const Zv=new j("Application Initializer");let e4=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=H(Zv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Dl(s))n.push(s);else if(Ax(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jR=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Bi=new j("LocaleId",{providedIn:"root",factory:()=>H(Bi,ge.Optional|ge.SkipSelf)||function gY(){return typeof $localize<"u"&&$localize.locale||Eu}()});let Sp=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class _Y{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let $R=(()=>{class t{compileModuleSync(n){return new Lv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Oi(zn(n).declarations).reduce((o,a)=>{const u=ve(a);return u&&o.push(new El(u)),o},[]);return new _Y(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qR=new j(""),xp=new j("");let s4,r4=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,s4||(function UY(t){s4=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ae),B(i4),B(xp))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),i4=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return s4?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ds=null;const WR=new j("AllowMultipleToken"),o4=new j("PlatformDestroyListeners"),a4=new j("appBootstrapListener");class QR{constructor(e,n){this.name=e,this.token=n}}function XR(t,e,n=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=u4();if(!o||o.injector.get(WR,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function HY(t){if(Ds&&!Ds.get(WR,!1))throw new T(400,!1);(function KR(){!function d$(t){f3=t}(()=>{throw new T(600,!1)})})(),Ds=t;const e=t.get(ZR);(function YR(t){t.get(iM,null)?.forEach(n=>n())})(t)}(function JR(t=[],e){return cn.create({name:e,providers:[{provide:O_,useValue:"platform"},{provide:o4,useValue:new Set([()=>Ds=null])},...t]})}(a,r))}return function zY(t){const e=u4();if(!e)throw new T(401,!1);return e}()}}function u4(){return Ds?.get(ZR)??null}let ZR=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function qY(t="zone.js",e){return"noop"===t?new bz:"zone.js"===t?new Ae(e):t}(r?.ngZone,function ek(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function nQ(t,e,n){return new Fv(t,e,n)}(n.moduleType,this.injector,function sk(t){return[{provide:Ae,useFactory:t},{provide:hl,multi:!0,useFactory:()=>{const e=H(KY,{optional:!0});return()=>e.initialize()}},{provide:ik,useFactory:WY},{provide:wM,useFactory:CM}]}(()=>i)),o=s.injector.get(Pi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Np(this._modules,s),a.unsubscribe()})}),function tk(t,e,n){try{const r=n();return Dl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(e4);return a.runInitializers(),a.donePromise.then(()=>(function CN(t){fr(t,"Expected localeId to be defined"),"string"==typeof t&&(wN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Bi,Eu)||Eu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=nk({},r);return function jY(t,e,n){const r=new Lv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Do);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(o4,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(B(cn))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function nk(t,e){return Array.isArray(e)?e.reduce(nk,t):{...t,...e}}let Do=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(ik),this.zoneIsStable=H(wM),this.componentTypes=[],this.components=[],this.isStable=H(Sp).hasPendingTasks.pipe(Nr(n=>n?ee(!1):this.zoneIsStable),function Cj(t,e=gs){return t=t??bj,At((n,r)=>{let i,s=!0;n.subscribe(Et(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),NS()),this._injector=H(Qn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof lM;if(!this._injector.get(e4).done)throw!i&&function xa(t){const e=ve(t)||qt(t)||vn(t);return null!==e&&e.standalone}(n),new T(405,!1);let o;o=i?n:this._injector.get(rp).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function $Y(t){return t.isBoundToModule}(o)?void 0:this._injector.get(bo),c=o.create(cn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(qR,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Np(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Np(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(a4,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Np(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Np(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ik=new j("",{providedIn:"root",factory:()=>H(Pi).handleError.bind(void 0)});function WY(){const t=H(Ae),e=H(Pi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let KY=(()=>{class t{constructor(){this.zone=H(Ae),this.applicationRef=H(Do)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Rp=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=YY}return t})();function YY(t){return function XY(t,e,n){if(fo(t)&&!n){const r=qn(t.index,e);return new vl(r,r)}return 47&t.type?new vl(e[pt],e):null}(Qt(),x(),16==(16&t))}class ck{constructor(){}supports(e){return dp(e)}create(e){return new rX(e)}}const nX=(t,e)=>e;class rX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<dk(r,i,s)?n:r,a=dk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!dp(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function kq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new iX(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new lk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class iX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class lk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new sX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function fk(){return new Op([new ck])}let Op=(()=>{class t{static#e=this.\u0275prov=W({token:t,providedIn:"root",factory:fk});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||fk()),deps:[[t,new xf,new On]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t})();const lX=XR(null,"core",[]);let dX=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(B(Do))};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({})}return t})();function bu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let p4=null;function Ts(){return p4}class DX{}const Xt=new j("DocumentToken");let g4=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return H(AX)},providedIn:"platform"})}return t})();const TX=new j("Location Initialized");let AX=(()=>{class t extends g4{constructor(){super(),this._doc=H(Xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ts().getBaseHref(this._doc)}onPopState(n){const r=Ts().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ts().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function m4(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function bk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ui(t){return t&&"?"!==t[0]?"?"+t:t}let Ao=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return H(Dk)},providedIn:"root"})}return t})();const Ik=new j("appBaseHref");let Dk=(()=>{class t extends Ao{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??H(Xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return m4(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ui(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ui(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(g4),B(Ik,8))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SX=(()=>{class t extends Ao{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=m4(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(g4),B(Ik,8))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),y4=(()=>{class t{constructor(n){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function NX(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(bk(Tk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ui(r))}normalize(n){return t.stripTrailingSlash(function xX(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Tk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ui;static#t=this.joinWithSlash=m4;static#n=this.stripTrailingSlash=bk;static#r=this.\u0275fac=function(r){return new(r||t)(B(Ao))};static#i=this.\u0275prov=W({token:t,factory:function(){return function MX(){return new y4(B(Ao))}()},providedIn:"root"})}return t})();function Tk(t){return t.replace(/\/index.html$/,"")}var Tn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Tn||{}),Ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ve||{}),Jn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Jn||{}),gt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(gt||{});function Vp(t,e){return br(In(t)[He.DateFormat],e)}function Bp(t,e){return br(In(t)[He.TimeFormat],e)}function Up(t,e){return br(In(t)[He.DateTimeFormat],e)}function Cr(t,e){const n=In(t),r=n[He.NumberSymbols][e];if(typeof r>"u"){if(e===gt.CurrencyDecimal)return n[He.NumberSymbols][gt.Decimal];if(e===gt.CurrencyGroup)return n[He.NumberSymbols][gt.Group]}return r}function Sk(t){if(!t[He.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[He.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function br(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function v4(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const zX=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ll={},qX=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ji=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(ji||{}),Se=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Se||{}),Me=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Me||{});function WX(t,e,n,r){let i=function nJ(t){if(Nk(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return jp(i,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(zX))return function rJ(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(t);if(!Nk(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=$i(n,e)||e;let a,o=[];for(;e;){if(a=qX.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=xk(r,u),i=function tJ(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function eJ(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(xk(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function ZX(t){if(w4[t])return w4[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ge(Me.Eras,Ve.Abbreviated);break;case"GGGG":e=Ge(Me.Eras,Ve.Wide);break;case"GGGGG":e=Ge(Me.Eras,Ve.Narrow);break;case"y":e=wt(Se.FullYear,1,0,!1,!0);break;case"yy":e=wt(Se.FullYear,2,0,!0,!0);break;case"yyy":e=wt(Se.FullYear,3,0,!1,!0);break;case"yyyy":e=wt(Se.FullYear,4,0,!1,!0);break;case"Y":e=zp(1);break;case"YY":e=zp(2,!0);break;case"YYY":e=zp(3);break;case"YYYY":e=zp(4);break;case"M":case"L":e=wt(Se.Month,1,1);break;case"MM":case"LL":e=wt(Se.Month,2,1);break;case"MMM":e=Ge(Me.Months,Ve.Abbreviated);break;case"MMMM":e=Ge(Me.Months,Ve.Wide);break;case"MMMMM":e=Ge(Me.Months,Ve.Narrow);break;case"LLL":e=Ge(Me.Months,Ve.Abbreviated,Tn.Standalone);break;case"LLLL":e=Ge(Me.Months,Ve.Wide,Tn.Standalone);break;case"LLLLL":e=Ge(Me.Months,Ve.Narrow,Tn.Standalone);break;case"w":e=E4(1);break;case"ww":e=E4(2);break;case"W":e=E4(1,!0);break;case"d":e=wt(Se.Date,1);break;case"dd":e=wt(Se.Date,2);break;case"c":case"cc":e=wt(Se.Day,1);break;case"ccc":e=Ge(Me.Days,Ve.Abbreviated,Tn.Standalone);break;case"cccc":e=Ge(Me.Days,Ve.Wide,Tn.Standalone);break;case"ccccc":e=Ge(Me.Days,Ve.Narrow,Tn.Standalone);break;case"cccccc":e=Ge(Me.Days,Ve.Short,Tn.Standalone);break;case"E":case"EE":case"EEE":e=Ge(Me.Days,Ve.Abbreviated);break;case"EEEE":e=Ge(Me.Days,Ve.Wide);break;case"EEEEE":e=Ge(Me.Days,Ve.Narrow);break;case"EEEEEE":e=Ge(Me.Days,Ve.Short);break;case"a":case"aa":case"aaa":e=Ge(Me.DayPeriods,Ve.Abbreviated);break;case"aaaa":e=Ge(Me.DayPeriods,Ve.Wide);break;case"aaaaa":e=Ge(Me.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":e=Ge(Me.DayPeriods,Ve.Abbreviated,Tn.Standalone,!0);break;case"bbbb":e=Ge(Me.DayPeriods,Ve.Wide,Tn.Standalone,!0);break;case"bbbbb":e=Ge(Me.DayPeriods,Ve.Narrow,Tn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(Me.DayPeriods,Ve.Abbreviated,Tn.Format,!0);break;case"BBBB":e=Ge(Me.DayPeriods,Ve.Wide,Tn.Format,!0);break;case"BBBBB":e=Ge(Me.DayPeriods,Ve.Narrow,Tn.Format,!0);break;case"h":e=wt(Se.Hours,1,-12);break;case"hh":e=wt(Se.Hours,2,-12);break;case"H":e=wt(Se.Hours,1);break;case"HH":e=wt(Se.Hours,2);break;case"m":e=wt(Se.Minutes,1);break;case"mm":e=wt(Se.Minutes,2);break;case"s":e=wt(Se.Seconds,1);break;case"ss":e=wt(Se.Seconds,2);break;case"S":e=wt(Se.FractionalSeconds,1);break;case"SS":e=wt(Se.FractionalSeconds,2);break;case"SSS":e=wt(Se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Hp(ji.Short);break;case"ZZZZZ":e=Hp(ji.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Hp(ji.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Hp(ji.Long);break;default:return null}return w4[t]=e,e}(l);c+=d?d(i,n,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function jp(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function $i(t,e){const n=function kX(t){return In(t)[He.LocaleId]}(t);if(Ll[n]=Ll[n]||{},Ll[n][e])return Ll[n][e];let r="";switch(e){case"shortDate":r=Vp(t,Jn.Short);break;case"mediumDate":r=Vp(t,Jn.Medium);break;case"longDate":r=Vp(t,Jn.Long);break;case"fullDate":r=Vp(t,Jn.Full);break;case"shortTime":r=Bp(t,Jn.Short);break;case"mediumTime":r=Bp(t,Jn.Medium);break;case"longTime":r=Bp(t,Jn.Long);break;case"fullTime":r=Bp(t,Jn.Full);break;case"short":const i=$i(t,"shortTime"),s=$i(t,"shortDate");r=$p(Up(t,Jn.Short),[i,s]);break;case"medium":const o=$i(t,"mediumTime"),a=$i(t,"mediumDate");r=$p(Up(t,Jn.Medium),[o,a]);break;case"long":const u=$i(t,"longTime"),c=$i(t,"longDate");r=$p(Up(t,Jn.Long),[u,c]);break;case"full":const l=$i(t,"fullTime"),d=$i(t,"fullDate");r=$p(Up(t,Jn.Full),[l,d])}return r&&(Ll[n][e]=r),r}function $p(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Vr(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function wt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function QX(t,e){switch(t){case Se.FullYear:return e.getFullYear();case Se.Month:return e.getMonth();case Se.Date:return e.getDate();case Se.Hours:return e.getHours();case Se.Minutes:return e.getMinutes();case Se.Seconds:return e.getSeconds();case Se.FractionalSeconds:return e.getMilliseconds();case Se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Se.Hours)0===a&&-12===n&&(a=12);else if(t===Se.FractionalSeconds)return function KX(t,e){return Vr(t,3).substring(0,e)}(a,e);const u=Cr(o,gt.MinusSign);return Vr(a,e,u,r,i)}}function Ge(t,e,n=Tn.Format,r=!1){return function(i,s){return function YX(t,e,n,r,i,s){switch(n){case Me.Months:return function FX(t,e,n){const r=In(t),s=br([r[He.MonthsFormat],r[He.MonthsStandalone]],e);return br(s,n)}(e,i,r)[t.getMonth()];case Me.Days:return function OX(t,e,n){const r=In(t),s=br([r[He.DaysFormat],r[He.DaysStandalone]],e);return br(s,n)}(e,i,r)[t.getDay()];case Me.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const c=function UX(t){const e=In(t);return Sk(e),(e[He.ExtraData][2]||[]).map(r=>"string"==typeof r?v4(r):[v4(r[0]),v4(r[1])])}(e),l=function jX(t,e,n){const r=In(t);Sk(r);const s=br([r[He.ExtraData][0],r[He.ExtraData][1]],e)||[];return br(s,n)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,y=o>=f.hours&&a>=f.minutes,_=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(y&&_)return!0}else if(y||_)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function PX(t,e,n){const r=In(t),s=br([r[He.DayPeriodsFormat],r[He.DayPeriodsStandalone]],e);return br(s,n)}(e,i,r)[o<12?0:1];case Me.Eras:return function LX(t,e){return br(In(t)[He.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function Hp(t){return function(e,n,r){const i=-1*r,s=Cr(n,gt.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case ji.Short:return(i>=0?"+":"")+Vr(o,2,s)+Vr(Math.abs(i%60),2,s);case ji.ShortGMT:return"GMT"+(i>=0?"+":"")+Vr(o,1,s);case ji.Long:return"GMT"+(i>=0?"+":"")+Vr(o,2,s)+":"+Vr(Math.abs(i%60),2,s);case ji.Extended:return 0===r?"Z":(i>=0?"+":"")+Vr(o,2,s)+":"+Vr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const XX=0,Gp=4;function Mk(t){return jp(t.getFullYear(),t.getMonth(),t.getDate()+(Gp-t.getDay()))}function E4(t,e=!1){return function(n,r){let i;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=Mk(n),o=function JX(t){const e=jp(t,XX,1).getDay();return jp(t,0,1+(e<=Gp?Gp:Gp+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Vr(i,t,Cr(r,gt.MinusSign))}}function zp(t,e=!1){return function(n,r){return Vr(Mk(n).getFullYear(),t,Cr(r,gt.MinusSign),e)}}const w4={};function xk(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Nk(t){return t instanceof Date&&!isNaN(t.valueOf())}function Ok(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class yJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let As=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new yJ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Vk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Vk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(M(Lr),M(Vi),M(Op))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function Vk(t,e){t.context.$implicit=e.item}let Hi=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new _J,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Bk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Bk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(M(Lr),M(Vi))};static#t=this.\u0275dir=ie({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class _J{constructor(){this.$implicit=null,this.ngIf=null}}function Bk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Mt(e)}'.`)}const NJ=new j("DATE_PIPE_DEFAULT_TIMEZONE"),RJ=new j("DATE_PIPE_DEFAULT_OPTIONS");let jk=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(null==n||""===n||n!=n)return null;try{return WX(n,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Br(t,e){return new T(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||t)(M(Bi,16),M(NJ,24),M(RJ,24))};static#t=this.\u0275pipe=_n({name:"date",type:t,pure:!0,standalone:!0})}return t})(),R4=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({})}return t})();function Gk(t){return"server"===t}let zJ=(()=>{class t{static#e=this.\u0275prov=W({token:t,providedIn:"root",factory:()=>new qJ(B(Xt),window)})}return t})();class qJ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function WJ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zk{}class mZ extends DX{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O4 extends mZ{static makeCurrent(){!function IX(t){p4||(p4=t)}(new O4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function yZ(){return Ul=Ul||document.querySelector("base"),Ul?Ul.getAttribute("href"):null}();return null==n?null:function _Z(t){Qp=Qp||document.createElement("a"),Qp.setAttribute("href",t);const e=Qp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ok(document.cookie,e)}}let Qp,Ul=null,EZ=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const F4=new j("EventManagerPlugins");let Yk=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(B(F4),B(Ae))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();class Xk{constructor(e){this._doc=e}}const L4="ng-app-id";let Jk=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gk(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${L4}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(L4),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(L4,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt),B(Xf),B(oM,8),B(Ri))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const V4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},B4=/%COMP%/g,IZ=new j("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function eP(t,e){return e.map(n=>n.replace(B4,t))}let U4=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Gk(a),this.defaultRenderer=new j4(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===pr.ShadowDom&&(r={...r,encapsulation:pr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof nP?i.applyToHost(n):i instanceof $4&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case pr.Emulated:s=new nP(u,c,r,this.appId,l,o,a,d);break;case pr.ShadowDom:return new SZ(u,c,n,r,o,a,this.nonce,d);default:s=new $4(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(B(Yk),B(Jk),B(Xf),B(IZ),B(Xt),B(Ri),B(Ae),B(oM))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();class j4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(V4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(tP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=V4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=V4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(bs.DashCase|bs.Important)?e.style.setProperty(n,r,i&bs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&bs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ts().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function tP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class SZ extends j4{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=eP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $4 extends j4{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?eP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nP extends $4{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function DZ(t){return"_ngcontent-%COMP%".replace(B4,t)}(c),this.hostAttr=function TZ(t){return"_nghost-%COMP%".replace(B4,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let MZ=(()=>{class t extends Xk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const rP=["alt","control","meta","shift"],xZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NZ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let RZ=(()=>{class t extends Xk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ts().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),rP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=xZ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),rP.forEach(o=>{o!==i&&(0,NZ[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const sP=[{provide:Ri,useValue:"browser"},{provide:iM,useValue:function kZ(){O4.makeCurrent()},multi:!0},{provide:Xt,useFactory:function OZ(){return function fG(t){T_=t}(document),document},deps:[]}],FZ=XR(lX,"browser",sP),LZ=new j(""),oP=[{provide:xp,useClass:class vZ{addToWindow(e){je.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},je.getAllAngularTestabilities=()=>e.getAllTestabilities(),je.getAllAngularRootElements=()=>e.getAllRootElements(),je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(r=>{const i=je.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ts().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:qR,useClass:r4,deps:[Ae,i4,xp]},{provide:r4,useClass:r4,deps:[Ae,i4,xp]}],aP=[{provide:O_,useValue:"root"},{provide:Pi,useFactory:function PZ(){return new Pi},deps:[]},{provide:F4,useClass:MZ,multi:!0,deps:[Xt,Ae,Ri]},{provide:F4,useClass:RZ,multi:!0,deps:[Xt]},U4,Jk,Yk,{provide:gl,useExisting:U4},{provide:zk,useClass:EZ,deps:[]},[]];let uP=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Xf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(LZ,12))};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({providers:[...aP,...oP],imports:[R4,dX]})}return t})(),cP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt))};static#t=this.\u0275prov=W({token:t,factory:function(r){let i=null;return i=r?new r:function BZ(){return new cP(B(Xt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let hP=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(r){let i=null;return i=r?new(r||t):B(fP),i},providedIn:"root"})}return t})(),fP=(()=>{class t extends hP{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Er.NONE:return r;case Er.HTML:return ti(r,"HTML")?Kn(r):Q2(this._doc,String(r)).toString();case Er.STYLE:return ti(r,"Style")?Kn(r):r;case Er.SCRIPT:if(ti(r,"Script"))return Kn(r);throw new T(5200,!1);case Er.URL:return ti(r,"URL")?Kn(r):zf(String(r));case Er.RESOURCE_URL:if(ti(r,"ResourceURL"))return Kn(r);throw new T(5201,!1);default:throw new T(5202,!1)}}bypassSecurityTrustHtml(n){return function EG(t){return new pG(t)}(n)}bypassSecurityTrustStyle(n){return function wG(t){return new gG(t)}(n)}bypassSecurityTrustScript(n){return function CG(t){return new mG(t)}(n)}bypassSecurityTrustUrl(n){return function bG(t){return new yG(t)}(n)}bypassSecurityTrustResourceUrl(n){return function IG(t){return new _G(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt))};static#t=this.\u0275prov=W({token:t,factory:function(r){let i=null;return i=r?new r:function HZ(t){return new fP(t.get(Xt))}(B(cn)),i},providedIn:"root"})}return t})();const{isArray:zZ}=Array,{getPrototypeOf:qZ,prototype:WZ,keys:KZ}=Object;function gP(t){if(1===t.length){const e=t[0];if(zZ(e))return{args:e,keys:null};if(function QZ(t){return t&&"object"==typeof t&&qZ(t)===WZ}(e)){const n=KZ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:YZ}=Array;function mP(t){return Te(e=>function XZ(t,e){return YZ(e)?t(...e):t(e)}(t,e))}function yP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function G4(...t){const e=Bc(t),n=MS(t),{args:r,keys:i}=gP(t);if(0===r.length)return St([],e);const s=new Le(function JZ(t,e,n=gs){return r=>{_P(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)_P(e,()=>{const c=St(t[u],e);let l=!1;c.subscribe(Et(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>yP(i,o):gs));return n?s.pipe(mP(n)):s}function _P(t,e,n){t?Di(n,t,e):e()}const Yp=Lc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function z4(...t){return function ZZ(){return Sa(1)}()(St(t,Bc(t)))}function vP(t){return new Le(e=>{Hn(t()).subscribe(e)})}function jl(t,e){const n=Fe(t)?t:()=>t,r=i=>i.error(n());return new Le(e?i=>e.schedule(r,0,i):r)}function q4(){return At((t,e)=>{let n=null;t._refCount++;const r=Et(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class EP extends Le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Nn;const n=this.getSubject();e.add(this.source.subscribe(Et(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Nn.EMPTY)}return e}refCount(){return q4()(this)}}function Du(t){return t<=0?()=>Kr:At((e,n)=>{let r=0;e.subscribe(Et(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Gi(t,e){return At((n,r)=>{let i=0;n.subscribe(Et(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Xp(t){return At((e,n)=>{let r=!1;e.subscribe(Et(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wP(t=tee){return At((e,n)=>{let r=!1;e.subscribe(Et(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tee(){return new Yp}function So(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gi((i,s)=>t(i,s,r)):gs,Du(1),n?Xp(e):wP(()=>new Yp))}function Tu(t,e){return Fe(e)?Gt(t,e,1):Gt(t,1)}function Jt(t,e,n){const r=Fe(t)||e||n?{next:t,error:e,complete:n}:t;return r?At((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Et(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):gs}function Mo(t){return At((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Et(n,void 0,void 0,o=>{s=Hn(t(o,Mo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function W4(t){return t<=0?()=>Kr:At((e,n)=>{let r=[];e.subscribe(Et(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $l(t){return At((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const he="primary",Hl=Symbol("RouteTitle");class aee{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Au(t){return new aee(t)}function uee(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ai(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!CP(t[i],e[i]))return!1;return!0}function CP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function bP(t){return t.length>0?t[t.length-1]:null}function Ms(t){return function GZ(t){return!!t&&(t instanceof Le||Fe(t.lift)&&Fe(t.subscribe))}(t)?t:Dl(t)?St(Promise.resolve(t)):ee(t)}const lee={exact:function TP(t,e,n){if(!xo(t.segments,e.segments)||!Jp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!TP(t.children[r],e.children[r],n))return!1;return!0},subset:AP},IP={exact:function dee(t,e){return ai(t,e)},subset:function hee(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>CP(t[n],e[n]))},ignored:()=>!0};function DP(t,e,n){return lee[n.paths](t.root,e.root,n.matrixParams)&&IP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function AP(t,e,n){return SP(t,e,e.segments,n)}function SP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!xo(i,n)||e.hasChildren()||!Jp(i,n,r))}if(t.segments.length===n.length){if(!xo(t.segments,n)||!Jp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!AP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(xo(t.segments,i)&&Jp(t.segments,i,r)&&t.children[he])&&SP(t.children[he],e,s,r)}}function Jp(t,e,n){return e.every((r,i)=>IP[n](t[i].parameters,r.parameters))}class Su{constructor(e=new ke([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return gee.serialize(this)}}class ke{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zp(this)}}class Gl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Au(this.parameters)),this._parameterMap}toString(){return NP(this)}}function xo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let zl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return new K4},providedIn:"root"})}return t})();class K4{parse(e){const n=new Tee(e);return new Su(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ql(e.root,!0)}`,r=function _ee(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${eg(n)}=${eg(i)}`).join("&"):`${eg(n)}=${eg(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function mee(t){return encodeURI(t)}(e.fragment)}`:""}`}}const gee=new K4;function Zp(t){return t.segments.map(e=>NP(e)).join("/")}function ql(t,e){if(!t.hasChildren())return Zp(t);if(e){const n=t.children[he]?ql(t.children[he],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==he&&r.push(`${i}:${ql(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function pee(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===he&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==he&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===he?[ql(t.children[he],!1)]:[`${i}:${ql(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[he]?`${Zp(t)}/${n[0]}`:`${Zp(t)}/(${n.join("//")})`}}function MP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eg(t){return MP(t).replace(/%3B/gi,";")}function Q4(t){return MP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tg(t){return decodeURIComponent(t)}function xP(t){return tg(t.replace(/\+/g,"%20"))}function NP(t){return`${Q4(t.path)}${function yee(t){return Object.keys(t).map(e=>`;${Q4(e)}=${Q4(t[e])}`).join("")}(t.parameters)}`}const vee=/^[^\/()?;#]+/;function Y4(t){const e=t.match(vee);return e?e[0]:""}const Eee=/^[^\/()?;=#]+/,Cee=/^[^=?&#]+/,Iee=/^[^&#]+/;class Tee{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[he]=new ke(e,n)),r}parseSegment(){const e=Y4(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Gl(tg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function wee(t){const e=t.match(Eee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Y4(this.remaining);i&&(r=i,this.capture(r))}e[tg(n)]=tg(r)}parseQueryParam(e){const n=function bee(t){const e=t.match(Cee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Dee(t){const e=t.match(Iee);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=xP(n),s=xP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Y4(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=he);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[he]:new ke([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function RP(t){return t.segments.length>0?new ke([],{[he]:t}):t}function kP(t){const e={};for(const r of Object.keys(t.children)){const s=kP(t.children[r]);if(r===he&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Aee(t){if(1===t.numberOfChildren&&t.children[he]){const e=t.children[he];return new ke(t.segments.concat(e.segments),e.children)}return t}(new ke(t.segments,e))}function No(t){return t instanceof Su}function PP(t){let e;const i=RP(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new ke(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function OP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return X4(i,i,i,n,r);const s=function Mee(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new LP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new LP(n,e,r)}(e);if(s.toRoot())return X4(i,i,new ke([],{}),n,r);const o=function xee(t,e,n){if(t.isAbsolute)return new rg(e,!0,0);if(!n)return new rg(e,!1,NaN);if(null===n.parent)return new rg(n,!0,0);const r=ng(t.commands[0])?0:1;return function Nee(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new rg(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Kl(o.segmentGroup,o.index,s.commands):VP(o.segmentGroup,o.index,s.commands);return X4(i,o.segmentGroup,a,n,r)}function ng(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Wl(t){return"object"==typeof t&&null!=t&&t.outlets}function X4(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:FP(t,e,n);const a=RP(kP(o));return new Su(a,s,i)}function FP(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:FP(s,e,n)}),new ke(t.segments,r)}class LP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ng(r[0]))throw new T(4003,!1);const i=r.find(Wl);if(i&&i!==bP(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rg{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function VP(t,e,n){if(t||(t=new ke([],{})),0===t.segments.length&&t.hasChildren())return Kl(t,e,n);const r=function kee(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Wl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!UP(u,c,o))return s;r+=2}else{if(!UP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ke(t.segments.slice(0,r.pathIndex),{});return s.children[he]=new ke(t.segments.slice(r.pathIndex),t.children),Kl(s,0,i)}return r.match&&0===i.length?new ke(t.segments,{}):r.match&&!t.hasChildren()?J4(t,e,n):r.match?Kl(t,0,i):J4(t,e,n)}function Kl(t,e,n){if(0===n.length)return new ke(t.segments,{});{const r=function Ree(t){return Wl(t[0])?t[0].outlets:{[he]:t}}(n),i={};if(Object.keys(r).some(s=>s!==he)&&t.children[he]&&1===t.numberOfChildren&&0===t.children[he].segments.length){const s=Kl(t.children[he],e,n);return new ke(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=VP(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new ke(t.segments,i)}}function J4(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Wl(s)){const u=Pee(s.outlets);return new ke(r,u)}if(0===i&&ng(n[0])){r.push(new Gl(t.segments[e].path,BP(n[0]))),i++;continue}const o=Wl(s)?s.outlets[he]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ng(a)?(r.push(new Gl(o,BP(a))),i+=2):(r.push(new Gl(o,{})),i++)}return new ke(r,{})}function Pee(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=J4(new ke([],{}),0,r))}),e}function BP(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function UP(t,e,n){return t==n.path&&ai(e,n.parameters)}const Ql="imperative";class ui{constructor(e,n){this.id=e,this.url=n}}class ig extends ui{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xs extends ui{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yl extends ui{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mu extends ui{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class sg extends ui{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jP extends ui{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oee extends ui{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fee extends ui{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lee extends ui{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vee extends ui{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bee{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uee{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jee{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $ee{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hee{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gee{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $P{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Z4{}class eE{constructor(e){this.url=e}}class zee{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xl,this.attachRef=null}}let Xl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new zee,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class HP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=tE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=tE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=nE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nE(e,this._root).map(n=>n.value)}}function tE(t,e){if(t===e.value)return e;for(const n of e.children){const r=tE(t,n);if(r)return r}return null}function nE(t,e){if(t===e.value)return[e];for(const n of e.children){const r=nE(t,n);if(r.length)return r.unshift(e),r}return[]}class zi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function xu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class GP extends HP{constructor(e,n){super(e),this.snapshot=n,rE(this,e)}toString(){return this.snapshot.toString()}}function zP(t,e){const n=function qee(t,e){const o=new og([],{},{},"",{},he,e,null,{});return new WP("",new zi(o,[]))}(0,e),r=new hr([new Gl("",{})]),i=new hr({}),s=new hr({}),o=new hr({}),a=new hr(""),u=new qi(r,i,o,a,s,he,e,n.root);return u.snapshot=n.root,new GP(new zi(u,[]),n)}class qi{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Te(c=>c[Hl]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>Au(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>Au(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qP(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Wee(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class og{get title(){return this.data?.[Hl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Au(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class WP extends HP{constructor(e,n){super(n),this.url=e,rE(this,n)}toString(){return KP(this._root)}}function rE(t,e){e.value._routerState=t,e.children.forEach(n=>rE(t,n))}function KP(t){const e=t.children.length>0?` { ${t.children.map(KP).join(", ")} } `:"";return`${t.value}${e}`}function iE(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ai(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ai(e.params,n.params)||t.paramsSubject.next(n.params),function cee(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ai(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ai(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function sE(t,e){const n=ai(t.params,e.params)&&function fee(t,e){return xo(t,e)&&t.every((n,r)=>ai(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||sE(t.parent,e.parent))}let oE=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=H(Xl),this.location=H(Lr),this.changeDetector=H(Rp),this.environmentInjector=H(Qn),this.inputBinder=H(ag,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Kee(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ie({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mr]})}return t})();class Kee{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===qi?this.route:e===Xl?this.childContexts:this.parent.get(e,n)}}const ag=new j("");let QP=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=G4([r.queryParams,r.params,r.data]).pipe(Nr(([s,o,a],u)=>(a={...s,...o,...a},0===u?ee(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function bX(t){const e=ve(t);if(!e)return null;const n=new El(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function Jl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Yee(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Jl(t,r,i);return Jl(t,r)})}(t,e,n);return new zi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Jl(t,a)),o}}const r=function Xee(t){return new qi(new hr(t.url),new hr(t.params),new hr(t.queryParams),new hr(t.fragment),new hr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Jl(t,s));return new zi(r,i)}}const aE="ngNavigationCancelingError";function YP(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=No(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XP(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function XP(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[aE]=!0,r.cancellationCode=e,n&&(r.url=n),r}function JP(t){return t&&t[aE]}let ZP=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ot({type:t,selectors:[["ng-component"]],standalone:!0,features:[QN],decls:1,vars:0,template:function(r,i){1&r&&k(0,"router-outlet")},dependencies:[oE],encapsulation:2})}return t})();function uE(t){const e=t.children&&t.children.map(uE),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==he&&(n.component=ZP),n}function Ur(t){return t.outlet||he}function Zl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ste{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),iE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=xu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=xu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=xu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=xu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Gee(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $ee(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(iE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),iE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Zl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class eO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ug{constructor(e,n){this.component=e,this.route=n}}function ote(t,e,n){const r=t._root;return ed(r,e?e._root:null,n,[r.value])}function Nu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function xj(t){return null!==sf(t)}(t)?e.get(t):t:r}function ed(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xu(e);return t.children.forEach(o=>{(function ute(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function cte(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!xo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xo(t.url,e.url)||!ai(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sE(t,e)||!ai(t.queryParams,e.queryParams);default:return!sE(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new eO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ed(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ug(a.outlet.component,o))}else o&&td(e,a,i),i.canActivateChecks.push(new eO(r)),ed(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>td(a,n.getContext(o),i)),i}function td(t,e,n){const r=xu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{td(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new ug(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function nd(t){return"function"==typeof t}function tO(t){return t instanceof Yp||"EmptyError"===t?.name}const cg=Symbol("INITIAL_VALUE");function Ru(){return Nr(t=>G4(t.map(e=>e.pipe(Du(1),function eee(...t){const e=Bc(t);return At((n,r)=>{(e?z4(t,n,e):z4(t,n)).subscribe(r)})}(cg)))).pipe(Te(e=>{for(const n of e)if(!0!==n){if(n===cg)return cg;if(!1===n||n instanceof Su)return n}return!0}),Gi(e=>e!==cg),Du(1)))}function nO(t){return function kU(...t){return dS(t)}(Jt(e=>{if(No(e))throw YP(0,e)}),Te(e=>!0===e))}class lg{constructor(e){this.segmentGroup=e||null}}class rO{constructor(e){this.urlTree=e}}function ku(t){return jl(new lg(t))}function iO(t){return jl(new rO(t))}class Mte{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[he])return jl(new T(4e3,!1));i=i.children[he]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Su(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ke(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const cE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xte(t,e,n,r,i){const s=lE(t,e,n);return s.matched?(r=function Zee(t,e){return t.providers&&!t._injector&&(t._injector=Vv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Tte(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(o=>{const a=Nu(o,t);return Ms(function gte(t){return t&&nd(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ru(),nO()):ee(!0)}(r,e,n).pipe(Te(o=>!0===o?s:{...cE}))):ee(s)}function lE(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...cE}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||uee)(n,t,e);if(!i)return{...cE};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function sO(t,e,n,r){return n.length>0&&function kte(t,e,n){return n.some(r=>dg(t,e,r)&&Ur(r)!==he)}(t,n,r)?{segmentGroup:new ke(e,Rte(r,new ke(n,t.children))),slicedSegments:[]}:0===n.length&&function Pte(t,e,n){return n.some(r=>dg(t,e,r))}(t,n,r)?{segmentGroup:new ke(t.segments,Nte(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ke(t.segments,t.children),slicedSegments:n}}function Nte(t,e,n,r,i){const s={};for(const o of r)if(dg(t,n,o)&&!i[Ur(o)]){const a=new ke([],{});s[Ur(o)]=a}return{...i,...s}}function Rte(t,e){const n={};n[he]=e;for(const r of t)if(""===r.path&&Ur(r)!==he){const i=new ke([],{});n[Ur(r)]=i}return n}function dg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Vte{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Mte(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=sO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,he).pipe(Mo(n=>{if(n instanceof rO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof lg?this.noMatchError(n):n}),Te(n=>{const r=new og([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),i=new zi(r,n),s=new WP("",i),o=function See(t,e,n=null,r=null){return OP(PP(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,he).pipe(Mo(r=>{throw r instanceof lg?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=qP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return St(i).pipe(Tu(s=>{const o=r.children[s],a=function rte(t,e){const n=t.filter(r=>Ur(r)===e);return n.push(...t.filter(r=>Ur(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function ree(t,e){return At(function nee(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Et(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Xp(null),function iee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gi((i,s)=>t(i,s,r)):gs,W4(1),n?Xp(e):wP(()=>new Yp))}(),Gt(s=>{if(null===s)return ku(r);const o=oO(s);return function Bte(t){t.sort((e,n)=>e.value.outlet===he?-1:n.value.outlet===he?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ee(o)}))}processSegment(e,n,r,i,s,o){return St(n).pipe(Tu(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Mo(u=>{if(u instanceof lg)return ee(null);throw u}))),So(a=>!!a),Mo(a=>{if(tO(a))return function Fte(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ee([]):ku(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Ote(t,e,n,r){return!!(Ur(t)===r||r!==he&&dg(e,n,t))&&("**"===t.path||lE(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ku(i):ku(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?iO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Gt(o=>{const a=new ke(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=lE(n,i,s);if(!a)return ku(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?iO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Gt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?bP(i).parameters:{};a=ee({snapshot:new og(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aO(r),Ur(r),r.component??r._loadedComponent??null,r,uO(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=xte(n,r,i,e).pipe(Te(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new og(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aO(r),Ur(r),r.component??r._loadedComponent??null,r,uO(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Nr(u=>null===u?ku(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Nr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:y}=sO(n,h,f,c);if(0===y.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Te(C=>null===C?null:[new zi(d,C)]));if(0===c.length&&0===y.length)return ee([new zi(d,[])]);const _=Ur(r)===s;return this.processSegment(l,c,p,y,_?he:s,!0).pipe(Te(C=>[new zi(d,C)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function Dte(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(o=>{const a=Nu(o,t);return Ms(function dte(t){return t&&nd(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ru(),nO())}(e,n,r).pipe(Gt(i=>i?this.configLoader.loadChildren(e,n).pipe(Jt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Ste(t){return jl(XP(!1,3))}())):ee({routes:[],injector:e})}}function Ute(t){const e=t.value.routeConfig;return e&&""===e.path}function oO(t){const e=[],n=new Set;for(const r of t){if(!Ute(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=oO(r.children);e.push(new zi(r.value,i))}return e.filter(r=>!n.has(r))}function aO(t){return t.data||{}}function uO(t){return t.resolve||{}}function cO(t){return"string"==typeof t.title||null===t.title}function dE(t){return Nr(e=>{const n=t(e);return n?St(n).pipe(Te(()=>e)):ee(e)})}const Pu=new j("ROUTES");let hE=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H($R)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ms(n.loadComponent()).pipe(Te(lO),Jt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),$l(()=>{this.componentLoaders.delete(n)})),i=new EP(r,()=>new dr).pipe(q4());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Wte(t,e,n,r){return Ms(t.loadChildren()).pipe(Te(lO),Gt(i=>i instanceof WN||Array.isArray(i)?ee(i):St(e.compileModuleAsync(i))),Te(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Pu,[],{optional:!0,self:!0}).flat()),{routes:o.map(uE),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe($l(()=>{this.childrenLoaders.delete(r)})),o=new EP(s,()=>new dr).pipe(q4());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lO(t){return function Kte(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let hg=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dr,this.transitionAbortSubject=new dr,this.configLoader=H(hE),this.environmentInjector=H(Qn),this.urlSerializer=H(zl),this.rootContexts=H(Xl),this.inputBindingEnabled=null!==H(ag,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Uee(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Bee(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new hr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ql,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gi(s=>0!==s.id),Te(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Nr(s=>{this.currentTransition=s;let o=!1,a=!1;return ee(s).pipe(Jt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Mu(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Kr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(Nr(h=>{const f=this.transitions?.getValue();return this.events.next(new ig(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Kr:Promise.resolve(h)}),function jte(t,e,n,r,i,s){return Gt(o=>function Lte(t,e,n,r,i,s,o="emptyOnly"){return new Vte(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Te(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Jt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new jP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:y,extras:_}=u,C=new ig(h,this.urlSerializer.serialize(f),p,y);this.events.next(C);const w=zP(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:w,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},ee(s)}{const h="";return this.events.next(new Mu(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Kr}}),Jt(u=>{const c=new Oee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Te(u=>(this.currentTransition=s={...u,guards:ote(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function yte(t,e){return Gt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee({...n,guardsResult:!0}):function _te(t,e,n,r){return St(t).pipe(Gt(i=>function Ite(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=Zl(e)??i,c=Nu(a,u);return Ms(function pte(t){return t&&nd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(So())})).pipe(Ru()):ee(!0)}(i.component,i.route,n,e,r)),So(i=>!0!==i,!0))}(o,r,i,t).pipe(Gt(a=>a&&function lte(t){return"boolean"==typeof t}(a)?function vte(t,e,n,r){return St(e).pipe(Tu(i=>z4(function wte(t,e){return null!==t&&e&&e(new jee(t)),ee(!0)}(i.route.parent,r),function Ete(t,e){return null!==t&&e&&e(new Hee(t)),ee(!0)}(i.route,r),function bte(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function ate(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>vP(()=>ee(o.guards.map(u=>{const c=Zl(o.node)??n,l=Nu(u,c);return Ms(function fte(t){return t&&nd(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(So())})).pipe(Ru())));return ee(s).pipe(Ru())}(t,i.path,n),function Cte(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>vP(()=>{const o=Zl(e)??n,a=Nu(s,o);return Ms(function hte(t){return t&&nd(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(So())}));return ee(i).pipe(Ru())}(t,i.route,n))),So(i=>!0!==i,!0))}(r,s,t,e):ee(a)),Te(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Jt(u=>{if(s.guardsResult=u.guardsResult,No(u.guardsResult))throw YP(0,u.guardsResult);const c=new Fee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Gi(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),dE(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(Jt(c=>{const l=new Lee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Nr(c=>{let l=!1;return ee(c).pipe(function $te(t,e){return Gt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return St(i).pipe(Tu(o=>function Hte(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!cO(i)&&(s[Hl]=i.title),function Gte(t,e,n,r){const i=function zte(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const s={};return St(i).pipe(Gt(o=>function qte(t,e,n,r){const i=Zl(e)??r,s=Nu(t,i);return Ms(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(So(),Jt(a=>{s[o]=a}))),W4(1),function see(t){return Te(()=>t)}(s),Mo(o=>tO(o)?Kr:jl(o)))}(s,t,e,r).pipe(Te(o=>(t._resolvedData=o,t.data=qP(t,n).resolve,i&&cO(i)&&(t.data[Hl]=i.title),null)))}(o.route,r,t,e)),Jt(()=>s++),W4(1),Gt(o=>s===i.length?ee(n):Kr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Jt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Jt(c=>{const l=new Vee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),dE(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Jt(h=>{l.component=h}),Te(()=>{})));for(const h of l.children)d.push(...c(h));return d};return G4(c(u.targetSnapshot.root)).pipe(Xp(),Du(1))}),dE(()=>this.afterPreactivation()),Te(u=>{const c=function Qee(t,e,n){const r=Jl(t,e._root,n?n._root:void 0);return new GP(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),Jt(()=>{this.events.next(new Z4)}),((t,e,n,r)=>Te(i=>(new ste(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Du(1),Jt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function oee(t){return At((e,n)=>{Hn(t).subscribe(Et(n,()=>n.complete(),cy)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Jt(u=>{throw u}))),$l(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Mo(u=>{if(a=!0,JP(u))this.events.next(new Yl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function Jee(t){return JP(t)&&No(t.url)}(u)?this.events.next(new eE(u.url)):s.resolve(!1);else{this.events.next(new sg(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return Kr}))}))}cancelNavigationTransition(n,r,i){const s=new Yl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dO(t){return t!==Ql}let hO=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===he);return r}getResolvedTitleForRoute(n){return n.data[Hl]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return H(Qte)},providedIn:"root"})}return t})(),Qte=(()=>{class t extends hO{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(B(cP))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return H(Jte)},providedIn:"root"})}return t})();class Xte{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Jte=(()=>{class t extends Xte{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const fg=new j("",{providedIn:"root",factory:()=>({})});let Zte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:function(){return H(ene)},providedIn:"root"})}return t})(),ene=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(rd||{});function fO(t,e){t.events.pipe(Gi(n=>n instanceof xs||n instanceof Yl||n instanceof sg||n instanceof Mu),Te(n=>n instanceof xs||n instanceof Mu?rd.COMPLETE:n instanceof Yl&&(0===n.code||1===n.code)?rd.REDIRECTING:rd.FAILED),Gi(n=>n!==rd.REDIRECTING),Du(1)).subscribe(()=>{e()})}function tne(t){throw t}function nne(t,e,n){return e.parse("/")}const rne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ine={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=H(jR),this.isNgZoneEnabled=!1,this._events=new dr,this.options=H(fg,{optional:!0})||{},this.pendingTasks=H(Sp),this.errorHandler=this.options.errorHandler||tne,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nne,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=H(Zte),this.routeReuseStrategy=H(Yte),this.titleStrategy=H(hO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=H(Pu,{optional:!0})?.flat()??[],this.navigationTransitions=H(hg),this.urlSerializer=H(zl),this.location=H(y4),this.componentInputBindingEnabled=!!H(ag,{optional:!0}),this.eventsSubscription=new Nn,this.isNgZoneEnabled=H(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Su,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zP(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(pO(r)&&this._events.next(r));if(r instanceof ig)dO(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Mu)this.rawUrlTree=i.rawUrl;else if(r instanceof jP){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Z4)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Yl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof eE){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dO(i.source)};this.scheduleNavigation(s,Ql,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof sg&&this.restoreHistory(i,!0),r instanceof xs&&(this.navigated=!0),pO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ql,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(uE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=PP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return OP(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=No(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ql,null,r)}navigate(n,r={skipLocationChange:!1}){return function sne(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...rne}:!1===r?{...ine}:r,No(n))return DP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return DP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return fO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pO(t){return!(t instanceof Z4||t instanceof eE)}let Wi=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new dr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof xs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Y2(t,e,n){return function BG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Wf:Za}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(M(Zn),M(qi),function Af(t){return function tH(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(HS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Qt(),t)}("tabindex"),M(ki),M(Yn),M(Ao))};static#t=this.\u0275dir=ie({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&pe("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&ii("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",bu],skipLocationChange:["skipLocationChange","skipLocationChange",bu],replaceUrl:["replaceUrl","replaceUrl",bu],routerLink:"routerLink"},standalone:!0,features:[cx,mr]})}return t})();class gO{}let une=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Gi(n=>n instanceof xs),Tu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Vv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return St(i).pipe(Sa())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ee(null);const s=i.pipe(Gt(o=>null===o?ee(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?St([s,this.loader.loadComponent(r)]).pipe(Sa()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(B(Zn),B($R),B(Qn),B(gO),B(hE))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const fE=new j("");let mO=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ig?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Mu&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $P&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $P(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function FM(){throw new Error("invalid")}()};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function Ki(t,e){return{\u0275kind:t,\u0275providers:e}}function _O(){const t=H(cn);return e=>{const n=t.get(Do);if(e!==n.components[0])return;const r=t.get(Zn),i=t.get(vO);1===t.get(pE)&&r.initialNavigation(),t.get(EO,null,ge.Optional)?.setUpPreloading(),t.get(fE,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const vO=new j("",{factory:()=>new dr}),pE=new j("",{providedIn:"root",factory:()=>1}),EO=new j("");function hne(t){return Ki(0,[{provide:EO,useExisting:une},{provide:gO,useExisting:t}])}const wO=new j("ROUTER_FORROOT_GUARD"),pne=[y4,{provide:zl,useClass:K4},Zn,Xl,{provide:qi,useFactory:function yO(t){return t.routerState.root},deps:[Zn]},hE,[]];function gne(){return new QR("Router",Zn)}let pg=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[pne,[],{provide:Pu,multi:!0,useValue:n},{provide:wO,useFactory:vne,deps:[[Zn,new On,new xf]]},{provide:fg,useValue:r||{}},r?.useHash?{provide:Ao,useClass:SX}:{provide:Ao,useClass:Dk},{provide:fE,useFactory:()=>{const t=H(zJ),e=H(Ae),n=H(fg),r=H(hg),i=H(zl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new mO(i,r,t,e,n)}},r?.preloadingStrategy?hne(r.preloadingStrategy).\u0275providers:[],{provide:QR,multi:!0,useFactory:gne},r?.initialNavigation?Ene(r):[],r?.bindToComponentInputs?Ki(8,[QP,{provide:ag,useExisting:QP}]).\u0275providers:[],[{provide:CO,useFactory:_O},{provide:a4,multi:!0,useExisting:CO}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Pu,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(wO,8))};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({})}return t})();function vne(t){return"guarded"}function Ene(t){return["disabled"===t.initialNavigation?Ki(3,[{provide:Zv,multi:!0,useFactory:()=>{const e=H(Zn);return()=>{e.setUpLocationChangeListener()}}},{provide:pE,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ki(2,[{provide:pE,useValue:0},{provide:Zv,multi:!0,deps:[cn],useFactory:e=>{const n=e.get(TX,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Zn),s=e.get(vO);fO(i,()=>{r(!0)}),e.get(hg).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const CO=new j("");let Cne=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-main"]],decls:38,vars:0,consts:[[1,"main"],[1,"logo"],["viewBox","0 0 320 360","height","360","width","320",1,"logo"],["xmlns","http://www.w3.org/2000/svg","d","M20.961 227.22l3.726 4.658-1.863-6.056c-0.466-2.795-3.726 0.466-1.863 1.398M25.153 224.425c1.397 2.329 2.795 4.658 2.795 6.987 0 3.261 2.795 4.658 5.123 5.589-3.261-3.726-5.124-13.974-7.918-12.576M204.017 26.929c7.918 0 15.371-0.932 23.756 0.931 20.495 5.124 37.729 15.371 49.374 29.811l32.606 52.169c1.397 13.042 4.192 27.482 3.726 43.319 3.261 0 2.795-4.658 6.521-5.59-3.726 9.316-5.59 20.961-6.521 34.469-2.329-7.453 0-18.632 0.466-24.687-3.261 5.124-5.124 1.397-5.124-0.932 0.466-3.726-1.397-3.261-2.795-4.658-5.124-4.658-8.384-9.782-12.11-17.7 2.329-6.055 2.795-14.905-4.658-19.563-2.329-1.397-5.124-3.726-6.521-7.453-1.863-5.124-5.124-11.179-4.193-19.097 0.466-2.329-6.987 5.124-11.179 1.863-18.166-12.576-36.332-27.016-58.224-39.127-11.645 0-20.029-4.192-24.221-9.316-3.726-4.658-0.932-10.713 4.658-11.179 3.261 0 6.987-0.932 9.782 0.932 0.466-1.863 2.329-4.192 4.657-4.192M157.904 16.215l0.932 0.466c4.658 0.932 6.987 7.453 12.11 5.124 0 3.261 0.466 6.521-0.466 8.85-1.397 3.726-5.59 3.726-8.85 3.726-31.208-1.863-49.374 11.179-68.471 22.358-5.124 3.261-10.713 5.59-14.906 9.782-20.029 18.632-41.921 35.866-47.045 70.335l-4.192 38.195c-0.466 4.192-5.124 8.384-4.192 13.508l3.26 22.824c-3.261-3.261-5.124 0.932-4.192 2.795 0.466 1.397 2.329 6.055 5.124 1.863 3.726 6.987 7.453 20.495 12.576 26.55 15.837 18.632 36.332 35.4 53.101 52.169 4.192-0.932 7.453-0.932 8.384-3.727 1.397 2.795-1.397 5.59-3.726 6.056 7.453 4.658 15.837 8.85 27.016 9.781 14.44 0.932 27.948 3.261 40.524 6.522 6.521-1.863 13.042-2.795 20.029-3.261 2.329 0 3.726-3.726 6.521-4.658l0.466-4.658c2.795 4.192 2.329-1.397 0.466-4.192 3.261 2.795 4.192 5.124 5.589 6.987 0-1.397 3.726-6.521 3.727-0.466l0.931-6.055c1.397-0.932 1.863 5.124 3.261 0.931 1.397-4.192 4.192-0.932 6.987-2.329-0.932 1.863-0.466 5.59 2.794 3.261l3.727-3.261c2.329 5.59 6.055 3.261 7.918 2.329 20.495-13.042 40.99-28.413 60.553-43.784l-0.466 6.055 2.329-7.453c2.329 2.329 4.192 0.466 5.124-0.931 2.795-4.658 6.521-9.316 12.577-13.508-7.453 20.029-16.303 35.866-27.482 48.908l-4.658 5.59c0 3.261-0.932 7.453-4.658 7.918-1.863 0.466-5.59-0.932-8.384 1.863-1.397 1.863 3.261 5.59-0.466 2.795-3.261-2.329-6.521 0-10.248 0.932-2.795 0.932 1.863 3.726 2.795 5.589 0.932 1.863 1.863 3.726 1.398 6.056l-5.124-5.59c-6.055 3.261-9.782 9.316-14.906 13.974-2.329 1.863-1.397 5.124-1.397 7.918-3.261 0-6.987-0.932-8.85 0.932-1.397 1.863-0.932 4.658-0.932 7.453-4.658-0.466-5.124-7.453-9.315-6.056-4.192 0.932-8.85 1.397-12.577 3.727 2.795 5.59-4.658 2.329-3.726 3.26-6.987-4.192-13.042-7.453-20.495-4.658-15.837-5.124-35.4-2.795-49.84-0.931 0-2.329 0.466-4.658-0.466-5.124-0.932 2.329-3.726 1.397-3.26 1.397-8.85-6.055-17.7-9.782-27.016-14.905-8.384 0.932-16.303-3.261-18.632-5.59-6.521-6.055-13.974-2.795-20.029-4.192-13.042-3.261-17.7-16.769-19.098-26.084-0.932-4.658-4.658-6.521-6.055-6.056-6.055-19.563-15.371-37.263-22.824-55.429-1.863-4.658-1.397-9.316-1.397-14.44 2.329 0.932 4.658 0.466 4.192-2.794-2.329-15.371-7.918-27.016-13.974-38.195 3.261-15.837 3.726-34.469 11.179-48.443 6.521-12.576 18.632-19.098 27.016-29.811 2.795-3.726 2.795-8.85 5.59-12.11 9.316-9.316 18.632-19.098 28.879-27.482 4.658-3.726 10.247 0 17.234-1.397 2.329-8.384 11.645-15.837 20.495-13.508 3.726 0.932 11.179-8.85 13.508-9.782 3.726-1.397 1.863 3.726 1.863 6.987 8.85-6.987 20.961-10.713 32.14-14.906","fill","#ffffff","fill-rule","nonzero","stroke","none","stroke-width","1","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","stroke-dasharray","","stroke-dashoffset","0","font-family","none","font-weight","none","font-size","none","text-anchor","none","data-fill-palette-color","tertiary",2,"mix-blend-mode","normal"],["transform","matrix(1,0,0,1,64,100.74523665202226)"],["viewBox","0 0 192 158.5095266959555","height","158.5095266959555","width","192"],["transform","matrix(1,0,0,1,0,116.51177957641397)"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192"],["id","textblocktransform"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192","id","textblock"],["viewBox","0 0 192 27.968648441980502","height","27.968648441980502","width","192"],["transform","matrix(1,0,0,1,0,0)"],["width","192","viewBox","3.25 -37.599998474121094 261.5199890136719 38.099998474121094","height","27.968648441980502","data-palette-color","#ffffff"],["d","M18.9-37.6L18.9-37.6Q21.4-37.6 23.73-36.77 26.05-35.95 27.9-34.55 29.75-33.15 30.95-31.3 32.15-29.45 32.45-27.35L32.45-27.35Q32.55-26.9 32.48-26.75 32.4-26.6 32.1-26.6L32.1-26.6 28.35-26.3Q28.1-26.25 28-26.4 27.9-26.55 27.85-26.8L27.85-26.8Q27.15-30 24.83-31.98 22.5-33.95 19.05-33.95L19.05-33.95Q13.85-33.95 11.05-30.1 8.25-26.25 8.25-18.5L8.25-18.5Q8.25-11 11-7.15 13.75-3.3 19.3-3.3L19.3-3.3Q22.85-3.3 25.23-5 27.6-6.7 29.05-10.45L29.05-10.45Q29.2-10.75 29.65-10.65L29.65-10.65 32.6-9.95Q32.75-9.9 32.85-9.75 32.95-9.6 32.85-9.25L32.85-9.25Q32.45-7.8 31.63-6.4 30.8-5 29.6-3.78 28.4-2.55 26.8-1.58 25.2-0.6 23.28-0.05 21.35 0.5 19.1 0.5L19.1 0.5Q14.15 0.5 10.58-1.8 7-4.1 5.13-8.4 3.25-12.7 3.25-18.6L3.25-18.6Q3.25-24.5 5.13-28.78 7-33.05 10.53-35.33 14.05-37.6 18.9-37.6L18.9-37.6ZM39.9 0L39.9 0Q39.25 0 39.25-0.65L39.25-0.65 39.25-36.45Q39.25-37.1 39.8-37.1L39.8-37.1 42.75-37.1Q43.3-37.1 43.3-36.5L43.3-36.5 43.3-23.15Q43.3-22.9 43.4-22.85 43.5-22.8 43.75-23L43.75-23Q45.5-24.35 46.97-25.25 48.45-26.15 49.87-26.58 51.3-27 53-27L53-27Q56.9-27 58.95-24.93 61-22.85 61-19.4L61-19.4 61-0.8Q61 0 60.25 0L60.25 0 57.45 0Q57.1 0 56.95-0.18 56.8-0.35 56.8-0.65L56.8-0.65 56.8-18.5Q56.8-20.95 55.55-22.33 54.3-23.7 51.6-23.7L51.6-23.7Q50.15-23.7 48.87-23.23 47.6-22.75 46.3-21.88 45-21 43.45-19.65L43.45-19.65 43.45-0.75Q43.45 0 42.65 0L42.65 0 39.9 0ZM71.2-11.6L71.2-11.6Q71.2-9.15 72.37-7.13 73.55-5.1 75.52-3.9 77.5-2.7 79.95-2.7L79.95-2.7Q82.45-2.7 84.4-3.73 86.35-4.75 87.75-6.85L87.75-6.85Q87.95-7.05 88.07-7.08 88.2-7.1 88.45-7L88.45-7 90.55-5.95Q91-5.7 90.65-5.25L90.65-5.25Q89.3-3.25 87.67-1.98 86.05-0.7 84.05-0.1 82.05 0.5 79.55 0.5L79.55 0.5Q75.85 0.5 73-1.2 70.15-2.9 68.5-5.95 66.85-9 66.85-13L66.85-13Q66.85-17.35 68.52-20.48 70.2-23.6 73.07-25.3 75.95-27 79.5-27L79.5-27Q83.15-27 85.85-25.4 88.55-23.8 90.05-20.75 91.55-17.7 91.55-13.4L91.55-13.4Q91.55-13.05 91.47-12.7 91.4-12.35 90.8-12.35L90.8-12.35 71.65-12.35Q71.45-12.35 71.32-12.13 71.2-11.9 71.2-11.6L71.2-11.6ZM71.3-15.1L86.5-15.1Q87.05-15.1 87.2-15.23 87.35-15.35 87.35-15.8L87.35-15.8Q87.35-17.95 86.42-19.83 85.5-21.7 83.77-22.85 82.05-24 79.6-24L79.6-24Q76.9-24 75.05-22.73 73.2-21.45 72.25-19.4 71.3-17.35 71.3-15.1L71.3-15.1ZM110.19-26.5L110.19-26.5Q110.44-26.5 110.57-26.35 110.69-26.2 110.69-26L110.69-26 110.69-23.85Q110.69-23.35 110.19-23.35L110.19-23.35 104.49-23.35Q104.09-23.35 104.09-22.95L104.09-22.95 104.09-0.7Q104.09 0 103.49 0L103.49 0 100.44 0Q99.89 0 99.89-0.65L99.89-0.65 99.89-23Q99.89-23.35 99.54-23.35L99.54-23.35 94.64-23.35Q94.14-23.35 94.14-23.85L94.14-23.85 94.14-26Q94.14-26.2 94.27-26.35 94.39-26.5 94.69-26.5L94.69-26.5 99.44-26.5Q99.89-26.5 99.89-27L99.89-27 99.89-30.65Q99.89-33.8 101.44-35.45 102.99-37.1 106.14-37.1L106.14-37.1 110.29-37.1Q110.94-37.1 110.94-36.5L110.94-36.5 110.94-34.55Q110.94-34.3 110.82-34.18 110.69-34.05 110.39-34.05L110.39-34.05 106.89-34.05Q105.34-34.05 104.67-33.08 103.99-32.1 103.99-30.45L103.99-30.45 103.99-26.95Q103.99-26.5 104.44-26.5L104.44-26.5 110.19-26.5ZM130.99-20.65L130.99-20.65Q129.99-22.15 128.19-23.1 126.39-24.05 123.89-24.05L123.89-24.05Q121.19-24.05 119.42-22.9 117.64-21.75 117.64-19.8L117.64-19.8Q117.64-18.75 118.44-17.82 119.24-16.9 121.69-16.1L121.69-16.1 128.04-14.2Q131.49-13.25 133.02-11.45 134.54-9.65 134.54-7.3L134.54-7.3Q134.54-4.95 133.14-3.2 131.74-1.45 129.29-0.48 126.84 0.5 123.74 0.5L123.74 0.5Q119.79 0.5 116.84-1.07 113.89-2.65 112.64-5L112.64-5Q112.49-5.25 112.49-5.45 112.49-5.65 112.74-5.8L112.74-5.8 114.69-6.9Q114.94-7.05 115.14-7.03 115.34-7 115.44-6.85L115.44-6.85Q116.29-5.55 117.42-4.6 118.54-3.65 120.12-3.1 121.69-2.55 123.79-2.55L123.79-2.55Q125.69-2.6 127.24-3.1 128.79-3.6 129.69-4.58 130.59-5.55 130.59-6.85L130.59-6.85Q130.59-8.2 129.49-9.18 128.39-10.15 125.69-10.9L125.69-10.9 120.54-12.35Q116.79-13.35 115.27-15.05 113.74-16.75 113.69-19.05L113.69-19.05Q113.69-21.45 114.99-23.23 116.29-25 118.62-26 120.94-27 123.94-27L123.94-27Q127.29-27 129.92-25.73 132.54-24.45 133.89-22.35L133.89-22.35Q134.04-22.15 134.04-21.98 134.04-21.8 133.84-21.65L133.84-21.65 131.74-20.5Q131.54-20.4 131.37-20.43 131.19-20.45 130.99-20.65L130.99-20.65ZM149.63-33.95L149.63-36.55Q149.63-36.8 149.76-36.95 149.88-37.1 150.23-37.1L150.23-37.1 177.13-37.1Q177.44-37.1 177.59-36.95 177.74-36.8 177.74-36.55L177.74-36.55 177.74-33.95Q177.74-33.45 177.13-33.45L177.13-33.45 166.99-33.45Q166.44-33.45 166.44-32.95L166.44-32.95 166.44-0.65Q166.44 0 165.84 0L165.84 0 162.23 0Q161.63 0 161.63-0.65L161.63-0.65 161.63-32.9Q161.63-33.45 161.13-33.45L161.13-33.45 150.23-33.45Q149.63-33.45 149.63-33.95L149.63-33.95ZM194.68-3.2L194.68-3.2Q192.83-1.4 190.66-0.45 188.48 0.5 185.78 0.5L185.78 0.5Q181.88 0.5 179.66-1.5 177.43-3.5 177.43-6.75L177.43-6.75Q177.43-9.4 178.93-11.33 180.43-13.25 183.38-14.38 186.33-15.5 190.63-15.75L190.63-15.75 194.53-16.05Q194.83-16.1 195.08-16.25 195.33-16.4 195.33-16.8L195.33-16.8 195.33-18.15Q195.33-20.85 193.66-22.43 191.98-24 189.13-24L189.13-24Q186.93-24 185.16-23 183.38-22 181.98-20L181.98-20Q181.78-19.75 181.66-19.68 181.53-19.6 181.23-19.7L181.23-19.7 178.53-20.6Q178.38-20.7 178.31-20.85 178.23-21 178.43-21.4L178.43-21.4Q179.93-24 182.66-25.5 185.38-27 189.33-27L189.33-27Q192.68-27 194.91-25.98 197.13-24.95 198.26-23.03 199.38-21.1 199.38-18.45L199.38-18.45 199.38-0.75Q199.38-0.3 199.23-0.15 199.08 0 198.73 0L198.73 0 196.18 0Q195.83 0 195.68-0.23 195.53-0.45 195.48-0.8L195.48-0.8 195.43-3.1Q195.28-3.8 194.68-3.2L194.68-3.2ZM195.33-12.7L195.33-12.7Q195.33-13.55 194.63-13.5L194.63-13.5 191.33-13.2Q189.03-13.1 187.23-12.63 185.43-12.15 184.18-11.4 182.93-10.65 182.28-9.63 181.63-8.6 181.63-7.25L181.63-7.25Q181.63-5.05 183.16-3.83 184.68-2.6 187.28-2.6L187.28-2.6Q188.88-2.6 190.36-3.18 191.83-3.75 192.93-4.65L192.93-4.65Q194.08-5.6 194.71-6.6 195.33-7.6 195.33-8.55L195.33-8.55 195.33-12.7ZM211.08-36.45L211.08-0.85Q211.08-0.35 210.88-0.18 210.68 0 210.18 0L210.18 0 207.58 0Q206.83 0 206.83-0.7L206.83-0.7 206.88-36.4Q206.88-37.1 207.48-37.1L207.48-37.1 210.48-37.1Q211.08-37.1 211.08-36.45L211.08-36.45ZM241.68-0.8L241.68-0.8Q241.88-0.5 241.78-0.25 241.68 0 241.23 0L241.23 0 237.73 0Q237.43 0 237.2-0.15 236.98-0.3 236.83-0.6L236.83-0.6 229.28-13.55Q229.18-13.75 229.05-13.83 228.93-13.9 228.68-13.65L228.68-13.65 223.38-8.3Q223.18-8.1 223.1-7.88 223.03-7.65 223.03-7.3L223.03-7.3 223.03-0.85Q223.03-0.35 222.85-0.18 222.68 0 222.13 0L222.13 0 219.58 0Q219.08 0 218.95-0.15 218.83-0.3 218.83-0.7L218.83-0.7 218.83-36.4Q218.83-37.1 219.38-37.1L219.38-37.1 222.43-37.1Q223.03-37.1 223.03-36.45L223.03-36.45 223.03-13.25Q223.03-12.85 223.13-12.78 223.23-12.7 223.53-13.05L223.53-13.05 235.88-25.9Q236.43-26.5 236.93-26.5L236.93-26.5 239.98-26.5Q240.48-26.5 240.55-26.23 240.63-25.95 240.23-25.55L240.23-25.55 232.33-17.5Q232.18-17.35 232.15-17.15 232.13-16.95 232.28-16.65L232.28-16.65 241.68-0.8ZM261.23-20.65L261.23-20.65Q260.23-22.15 258.43-23.1 256.63-24.05 254.13-24.05L254.13-24.05Q251.42-24.05 249.65-22.9 247.88-21.75 247.88-19.8L247.88-19.8Q247.88-18.75 248.67-17.82 249.47-16.9 251.92-16.1L251.92-16.1 258.27-14.2Q261.73-13.25 263.25-11.45 264.77-9.65 264.77-7.3L264.77-7.3Q264.77-4.95 263.38-3.2 261.98-1.45 259.52-0.48 257.07 0.5 253.97 0.5L253.97 0.5Q250.03 0.5 247.07-1.07 244.13-2.65 242.88-5L242.88-5Q242.72-5.25 242.72-5.45 242.72-5.65 242.97-5.8L242.97-5.8 244.92-6.9Q245.17-7.05 245.38-7.03 245.57-7 245.67-6.85L245.67-6.85Q246.53-5.55 247.65-4.6 248.78-3.65 250.35-3.1 251.92-2.55 254.03-2.55L254.03-2.55Q255.92-2.6 257.48-3.1 259.02-3.6 259.93-4.58 260.82-5.55 260.82-6.85L260.82-6.85Q260.82-8.2 259.73-9.18 258.63-10.15 255.92-10.9L255.92-10.9 250.78-12.35Q247.03-13.35 245.5-15.05 243.97-16.75 243.92-19.05L243.92-19.05Q243.92-21.45 245.22-23.23 246.53-25 248.85-26 251.17-27 254.17-27L254.17-27Q257.52-27 260.15-25.73 262.77-24.45 264.13-22.35L264.13-22.35Q264.27-22.15 264.27-21.98 264.27-21.8 264.07-21.65L264.07-21.65 261.98-20.5Q261.77-20.4 261.6-20.43 261.43-20.45 261.23-20.65L261.23-20.65Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,36.672,34.57137509156949)"],["viewBox","0 0 118.656 7.426372027972029","height","7.426372027972029","width","118.656"],["width","118.656","viewBox","0 -35.79999923706055 571.9600219726562 35.79999923706055","height","7.426372027972029","data-palette-color","#ffffff"],["d","M40.35-2.15L52.4-2.15 52.4 0 33.75 0 26.4-23.95 26-23.95 18.65 0 0 0 0-2.15 12.05-2.15 0.6-34.95 6.95-34.95 15.75-9.8 23.55-34.95 28.85-34.95 36.65-9.8 45.45-34.95 51.8-34.95 40.35-2.15ZM52.4-2.15L57.25-2.15 57.25-34.95 81.8-34.95 81.8-29.4 63.15-29.4 63.15-20.15 79.9-20.15 79.9-14.9 63.15-14.9 63.15-5.55 82.4-5.55 82.4-2.15 87.25-2.15 87.25 0 52.4 0 52.4-2.15ZM85.1-2.15L98.8-2.15 98.8 0 85.1 0 85.1-2.15ZM129.04-2.15L135.59-2.15 135.59 0 98.79 0 98.79-2.15 109.89-2.15Q105.94-4.5 103.67-8.55 101.39-12.6 101.39-17.7L101.39-17.7Q101.39-25.4 106.72-30.6 112.04-35.8 120.17-35.8 128.29-35.8 133.74-29.8L133.74-29.8 129.99-25.7Q127.49-28.1 125.27-29.05 123.04-30 120.04-30L120.04-30Q114.74-30 111.14-26.58 107.54-23.15 107.54-17.82 107.54-12.5 111.12-8.93 114.69-5.35 119.59-5.35L119.59-5.35Q122.64-5.35 124.84-6.38 127.04-7.4 129.44-9.65L129.44-9.65 133.24-5.75Q131.04-3.35 129.04-2.15L129.04-2.15ZM166.14-2.15L177.59-2.15 177.59 0 135.59 0 135.59-2.15 147.04-2.15Q142.94-4.5 140.57-8.6 138.19-12.7 138.19-17.75L138.19-17.75Q138.19-25.45 143.49-30.63 148.79-35.8 156.59-35.8 164.39-35.8 169.69-30.63 174.99-25.45 174.99-17.75L174.99-17.75Q174.99-12.75 172.62-8.6 170.24-4.45 166.14-2.15L166.14-2.15ZM165.37-26.7Q161.79-30.4 156.59-30.4 151.39-30.4 147.82-26.7 144.24-23 144.24-17.73 144.24-12.45 147.82-8.75 151.39-5.05 156.59-5.05 161.79-5.05 165.37-8.75 168.94-12.45 168.94-17.73 168.94-23 165.37-26.7ZM208.14-2.15L219.59-2.15 219.59 0 177.59 0 177.59-2.15 189.04-2.15Q184.94-4.5 182.56-8.6 180.19-12.7 180.19-17.75L180.19-17.75Q180.19-25.45 185.49-30.63 190.79-35.8 198.59-35.8 206.39-35.8 211.69-30.63 216.99-25.45 216.99-17.75L216.99-17.75Q216.99-12.75 214.61-8.6 212.24-4.45 208.14-2.15L208.14-2.15ZM207.36-26.7Q203.79-30.4 198.59-30.4 193.39-30.4 189.81-26.7 186.24-23 186.24-17.73 186.24-12.45 189.81-8.75 193.39-5.05 198.59-5.05 203.79-5.05 207.36-8.75 210.94-12.45 210.94-17.73 210.94-23 207.36-26.7ZM219.59-2.15L224.44-2.15 224.44-34.95 230.34-34.95 230.34-17.9 246.34-34.95 253.84-34.95 239.79-19.65 252.49-2.1 252.49-2.15 257.34-2.15 257.34 0 247.04 0 235.44-15.3 230.34-9.8 230.34 0 219.59 0 219.59-2.15ZM254.78-2.15L268.48-2.15 268.48 0 254.78 0 254.78-2.15ZM308.83-2.15L320.88-2.15 320.88 0 302.23 0 294.88-23.95 294.48-23.95 287.13 0 268.48 0 268.48-2.15 280.53-2.15 269.08-34.95 275.43-34.95 284.23-9.8 292.03-34.95 297.33-34.95 305.13-9.8 313.93-34.95 320.28-34.95 308.83-2.15ZM320.88-2.15L325.73-2.15 325.73-34.95 331.63-34.95 331.63-2.15 336.48-2.15 336.48 0 320.88 0 320.88-2.15ZM354.53-2.15L366.68-2.15 366.68 0 336.48 0 336.48-2.15 348.63-2.15 348.63-29.55 338.03-29.55 338.03-34.95 365.13-34.95 365.13-29.55 354.53-29.55 354.53-2.15ZM405.52 0L405.52-2.15 400.67-2.15 400.67-34.95 394.77-34.95 394.77-19.8 377.42-19.8 377.42-34.95 371.52-34.95 371.52 0 377.42 0 377.42-14.3 394.77-14.3 394.77 0 405.52 0ZM366.67-2.15L371.52-2.15 371.52 0 366.67 0 366.67-2.15ZM405.52-2.15L419.22-2.15 419.22 0 405.52 0 405.52-2.15ZM445.92-2.15L450.77-2.15 450.77 0 419.22 0 419.22-2.15 424.07-2.15 424.07-34.95 429.97-34.95 429.97-5.6 445.92-5.6 445.92-2.15ZM478.07-2.15L489.52-2.15 489.52 0 447.52 0 447.52-2.15 458.97-2.15Q454.87-4.5 452.49-8.6 450.12-12.7 450.12-17.75L450.12-17.75Q450.12-25.45 455.42-30.63 460.72-35.8 468.52-35.8 476.32-35.8 481.62-30.63 486.92-25.45 486.92-17.75L486.92-17.75Q486.92-12.75 484.54-8.6 482.17-4.45 478.07-2.15L478.07-2.15ZM477.29-26.7Q473.72-30.4 468.52-30.4 463.32-30.4 459.74-26.7 456.17-23 456.17-17.73 456.17-12.45 459.74-8.75 463.32-5.05 468.52-5.05 473.72-5.05 477.29-8.75 480.87-12.45 480.87-17.73 480.87-23 477.29-26.7ZM511.16-2.15L524.51-2.15 524.51 0 489.51 0 489.51-2.15 502.81-2.15 489.66-34.95 496.26-34.95 507.01-8.85 517.76-34.95 524.36-34.95 511.16-2.15ZM524.51-2.15L529.36-2.15 529.36-34.95 553.91-34.95 553.91-29.4 535.26-29.4 535.26-20.15 552.01-20.15 552.01-14.9 535.26-14.9 535.26-5.55 554.51-5.55 554.51-2.15 559.36-2.15 559.36 0 524.51 0 524.51-2.15ZM561.11-28.5L561.11-34.95 568.11-34.95 568.11-28.5 566.61-10.95 562.61-10.95 561.11-28.5ZM567.21-2.15L571.96-2.15 571.96 0 557.21 0 557.21-2.15 562.06-2.15Q560.91-3.2 560.91-4.78 560.91-6.35 562.01-7.45 563.11-8.55 564.63-8.55 566.16-8.55 567.26-7.45 568.36-6.35 568.36-4.78 568.36-3.2 567.21-2.15L567.21-2.15Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","secondary","id","text-1",1,"slogan-text-1"],["transform","matrix(1,0,0,1,44.346836861382,0)"],["viewBox","0 0 103.306326277236 103.306326277236","height","103.306326277236","width","103.306326277236"],["id","icon-0"],["d","M0 51.653c0-28.527 23.126-51.653 51.653-51.653 28.527 0 51.653 23.126 51.653 51.653 0 28.527-23.126 51.653-51.653 51.653-28.527 0-51.653-23.126-51.653-51.653zM51.653 100.784c27.134 0 49.131-21.997 49.131-49.131 0-27.134-21.997-49.131-49.131-49.131-27.134 0-49.131 21.997-49.131 49.131 0 27.134 21.997 49.131 49.131 49.131z","data-fill-palette-color","accent","fill","#ffffff","stroke","transparent"],["rx","51.13663150723182","ry","51.13663150723182","cx","51.653163138618","cy","51.653163138618","fill","#ffffff","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,20.799678473042622,21.56674460107238)"],["viewBox","0 0 61.70696933115075 60.17283707509124","height","60.17283707509124","width","61.70696933115075"],["xmlns","http://www.w3.org/2000/svg","version","1.1","x","0","y","0","viewBox","4.642358779907227 7.340823173522949 90.00060272216797 87.76304626464844","enable-background","new 0 0 100 100","height","60.17283707509124","width","61.70696933115075","data-fill-palette-color","quaternary","id","y-0",1,"icon-y-0"],["d","M34.065 95.103c0 0-5.908 0.268-6.441-8.623l-4.313-27.253c0 0-17.724-3.09-18.628-18.685 0 0-1.49-14.747 13.574-20.441 0 0 2.29-1.809 10.115-1.704 0 0 7.187-11.871 21.397-10.965 0 0 10.968-1.81 21.08 10.699 0 0 14.211-1.011 21.345 11.604 0 0 8.251 13.468-5.537 24.752 0 0-3.46 3.087-9.847 4.578l-3.565 29.33c0 0 0.21 4.95-3.779 5.909l0.212-43.862c0 0-0.638-3.62-4.151-3.568 0 0-3.355-0.158-4.045 3.568V76.42h2.767v18.683h-8.782V66.41c0 0 2.874-0.462 3.246-3.185V47.887c0 0 0.238-1.146-0.831-1.083-1.072 0.063-0.926 0.42-0.926 1.029 0 0.608 0 11.062 0 11.062h-1.679V47.75c0 0-0.042-1.008-0.796-0.797 0 0-0.86-0.19-0.902 0.818-0.042 1.006 0 11.04 0 11.04h-1.679V47.853c0 0 0.125-1.069-0.735-1.048-0.861 0.021-0.925 0.672-0.925 1.134 0 0.461 0 10.894 0 10.894h-1.615V47.434c0 0 0.083-0.755-0.841-0.65-0.921 0.106-0.902 0.629-0.902 0.86 0 0.232 0 15.389 0 15.389s-0.273 2.853 3.359 3.146v28.924H39.071V68.363c0 0 6.467-3.529 5.795-10.58 0 0 0.504-8.649-7.223-10.831 0 0-8.06-0.505-9.235 9.571 0 0-0.841 8.73 5.542 11.672L34.065 95.103z","fill","#8abe53","data-fill-palette-color","quaternary"]],template:function(r,i){1&r&&(m(0,"main",0)(1,"div",1),function U3(){ne.lFrame.currentNamespace="svg"}(),m(2,"svg",2)(3,"g"),k(4,"path",3),g(),m(5,"g",4)(6,"svg",5)(7,"g")(8,"svg",5)(9,"g",6)(10,"svg",7)(11,"g",8)(12,"svg",9)(13,"g")(14,"svg",10)(15,"g",11)(16,"svg",12),k(17,"path",13),g()()()(),m(18,"g",14)(19,"svg",15)(20,"g",11)(21,"svg",16),k(22,"path",17),g()()()()()()()(),m(23,"g",18)(24,"svg",19)(25,"g"),k(26,"svg"),g(),m(27,"g",20)(28,"svg",19)(29,"g"),k(30,"path",21)(31,"ellipse",22),g(),m(32,"g",23)(33,"svg",24)(34,"g")(35,"svg",25),k(36,"path",26),g()()()()()()()(),k(37,"g"),g()()()()()()())},styles:[".logo[_ngcontent-%COMP%]{width:250px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return t})();function bO(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function E(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){bO(s,r,i,o,a,"next",u)}function a(u){bO(s,r,i,o,a,"throw",u)}o(void 0)})}}const IO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},mE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Tne;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ou=function(t){return function(t){const e=IO(t);return mE.encodeByteArray(e,!0)}(t).replace(/\./g,"")},gg=function(t){try{return mE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},mg=()=>{try{return function Mne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},yE=()=>{var t;return null===(t=mg())||void 0===t?void 0:t.config};class yg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function er(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _E(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ns(){try{return"object"==typeof indexedDB}catch{return!1}}function Fu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function vE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}}class jr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function jne(t,e){return t.replace($ne,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new tr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const $ne=/\{\$([^}]+)}/g;function id(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(AO(s)&&AO(o)){if(!id(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function AO(t){return null!==t&&"object"==typeof t}function SO(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Gne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function zne(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=EE),void 0===i.error&&(i.error=EE),void 0===i.complete&&(i.complete=EE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EE(){}const qne=1e3,Wne=2,Kne=144e5,Qne=.5;function CE(t,e=qne,n=Wne){const r=e*Math.pow(n,t),i=Math.round(Qne*r*(Math.random()-.5)*2);return Math.min(Kne,r+i)}function Ir(t){return t&&t._delegate?t._delegate:t}class Ct{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ro="[DEFAULT]";class Xne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Zne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return E(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ro?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class MO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const bE=[];var be=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(be||{});const xO={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},ere=be.INFO,tre={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},nre=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=tre[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ko{constructor(e){this.name=e,this._logLevel=ere,this._logHandler=nre,this._userLogHandler=null,bE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?xO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const rre=(t,e)=>e.some(n=>t instanceof n);let NO,RO;const kO=new WeakMap,IE=new WeakMap,PO=new WeakMap,DE=new WeakMap,TE=new WeakMap;let AE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return IE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||PO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lre(t){return"function"==typeof t?function cre(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sre(){return RO||(RO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(SE(this),e),Rs(kO.get(this))}:function(...e){return Rs(t.apply(SE(this),e))}:function(e,...n){const r=t.call(SE(this),e,...n);return PO.set(r,e.sort?e.sort():[e]),Rs(r)}}(t):(t instanceof IDBTransaction&&function are(t){if(IE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});IE.set(t,e)}(t),rre(t,function ire(){return NO||(NO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,AE):t)}function Rs(t){if(t instanceof IDBRequest)return function ore(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Rs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kO.set(n,t)}).catch(()=>{}),TE.set(e,t),e}(t);if(DE.has(t))return DE.get(t);const e=lre(t);return e!==t&&(DE.set(t,e),TE.set(e,t)),e}const SE=t=>TE.get(t);function OO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Rs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Rs(o.result),u.oldVersion,u.newVersion,Rs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const dre=["get","getKey","getAll","getAllKeys","count"],hre=["put","add","delete","clear"],ME=new Map;function FO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ME.get(e))return ME.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!dre.includes(n))return;const s=function(){var o=E(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return ME.set(e,s),s}!function ure(t){AE=t(AE)}(t=>({...t,get:(e,n,r)=>FO(e,n)||t.get(e,n,r),has:(e,n)=>!!FO(e,n)||t.has(e,n)}));class fre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function pre(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const xE="@firebase/app",Po=new ko("@firebase/app"),vg="[DEFAULT]",Ure={[xE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oo=new Map,Eg=new Map;function jre(t,e){try{t.container.addComponent(e)}catch(n){Po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lu(t){const e=t.name;if(Eg.has(e))return Po.debug(`There were multiple attempts to register component ${e}.`),!1;Eg.set(e,t);for(const n of Oo.values())jre(n,t);return!0}const Qi=new jr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hre{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}const wg="9.23.0";function BO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:vg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Qi.create("bad-app-name",{appName:String(i)});if(n||(n=yE()),!n)throw Qi.create("no-options");const s=Oo.get(i);if(s){if(id(n,s.options)&&id(r,s.config))return s;throw Qi.create("duplicate-app",{appName:i})}const o=new MO(i);for(const u of Eg.values())o.addComponent(u);const a=new Hre(n,r,o);return Oo.set(i,a),a}function UO(t=vg){const e=Oo.get(t);if(!e&&t===vg&&yE())return BO();if(!e)throw Qi.create("no-app",{appName:t});return e}function jO(){return Array.from(Oo.values())}function Dr(t,e,n){var r;let i=null!==(r=Ure[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Po.warn(a.join(" "))}Lu(new Ct(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Gre="firebase-heartbeat-database",zre=1,sd="firebase-heartbeat-store";let RE=null;function $O(){return RE||(RE=OO(Gre,zre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(sd)}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),RE}function kE(){return(kE=E(function*(t){try{return yield(yield $O()).transaction(sd).objectStore(sd).get(GO(t))}catch(e){if(e instanceof tr)Po.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e?.message});Po.warn(n.message)}}})).apply(this,arguments)}function HO(t,e){return PE.apply(this,arguments)}function PE(){return(PE=E(function*(t,e){try{const r=(yield $O()).transaction(sd,"readwrite");yield r.objectStore(sd).put(e,GO(t)),yield r.done}catch(n){if(n instanceof tr)Po.warn(n.message);else{const r=Qi.create("idb-set",{originalErrorMessage:n?.message});Po.warn(r.message)}}})).apply(this,arguments)}function GO(t){return`${t.name}!${t.options.appId}`}class Qre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return E(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=zO(),{heartbeatsToSend:r,unsentEntries:i}=function Yre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ou(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function zO(){return(new Date).toISOString().substring(0,10)}class Xre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!Ns()&&Fu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function qre(t){return kE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return HO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return HO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function qO(t){return Ou(JSON.stringify({version:2,heartbeats:t})).length}!function Jre(t){Lu(new Ct("platform-logger",e=>new fre(e),"PRIVATE")),Lu(new Ct("heartbeat",e=>new Qre(e),"PRIVATE")),Dr(xE,"0.9.13",t),Dr(xE,"0.9.13","esm2017"),Dr("fire-js","")}(""),Dr("firebase","9.23.0","app");class tie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function nie(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const OE="@firebase/app",Fo=new ko("@firebase/app"),Sie={[OE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lo=new Map,bg=new Map;function Mie(t,e){try{t.container.addComponent(e)}catch(n){Fo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tr(t){const e=t.name;if(bg.has(e))return Fo.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,t);for(const n of Lo.values())Mie(n,t);return!0}function FE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Yi=new jr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}function nr(t,e,n){var r;let i=null!==(r=Sie[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Fo.warn(a.join(" "))}Tr(new Ct(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const kie="firebase-heartbeat-database",Pie=1,od="firebase-heartbeat-store";let VE=null;function QO(){return VE||(VE=OO(kie,Pie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(od)}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),VE}function BE(){return(BE=E(function*(t){try{return yield(yield QO()).transaction(od).objectStore(od).get(XO(t))}catch(e){if(e instanceof tr)Fo.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e?.message});Fo.warn(n.message)}}})).apply(this,arguments)}function YO(t,e){return UE.apply(this,arguments)}function UE(){return(UE=E(function*(t,e){try{const r=(yield QO()).transaction(od,"readwrite");yield r.objectStore(od).put(e,XO(t)),yield r.done}catch(n){if(n instanceof tr)Fo.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n?.message});Fo.warn(r.message)}}})).apply(this,arguments)}function XO(t){return`${t.name}!${t.options.appId}`}class Vie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=JO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return E(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=JO(),{heartbeatsToSend:r,unsentEntries:i}=function Bie(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ZO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ou(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function JO(){return(new Date).toISOString().substring(0,10)}class Uie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!Ns()&&Fu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Oie(t){return BE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return YO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return YO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function ZO(t){return Ou(JSON.stringify({version:2,heartbeats:t})).length}!function jie(t){Tr(new Ct("platform-logger",e=>new tie(e),"PRIVATE")),Tr(new Ct("heartbeat",e=>new Vie(e),"PRIVATE")),nr(OE,"0.9.22",t),nr(OE,"0.9.22","esm2017"),nr("fire-js","")}("");const $ie=(t,e)=>e.some(n=>t instanceof n);let eF,tF;const nF=new WeakMap,jE=new WeakMap,rF=new WeakMap,$E=new WeakMap,HE=new WeakMap;let GE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return jE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||rF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Qie(t){return"function"==typeof t?function Kie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gie(){return tF||(tF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(zE(this),e),ks(nF.get(this))}:function(...e){return ks(t.apply(zE(this),e))}:function(e,...n){const r=t.call(zE(this),e,...n);return rF.set(r,e.sort?e.sort():[e]),ks(r)}}(t):(t instanceof IDBTransaction&&function qie(t){if(jE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jE.set(t,e)}(t),$ie(t,function Hie(){return eF||(eF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,GE):t)}function ks(t){if(t instanceof IDBRequest)return function zie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ks(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nF.set(n,t)}).catch(()=>{}),HE.set(e,t),e}(t);if($E.has(t))return $E.get(t);const e=Qie(t);return e!==t&&($E.set(t,e),HE.set(e,t)),e}const zE=t=>HE.get(t),Xie=["get","getKey","getAll","getAllKeys","count"],Jie=["put","add","delete","clear"],qE=new Map;function iF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(qE.get(e))return qE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xie.includes(n))return;const s=function(){var o=E(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return qE.set(e,s),s}!function Wie(t){GE=t(GE)}(t=>({...t,get:(e,n,r)=>iF(e,n)||t.get(e,n,r),has:(e,n)=>!!iF(e,n)||t.has(e,n)}));const sF="@firebase/installations",WE="0.6.4",oF=1e4,aF=`w:${WE}`,uF="FIS_v2",Zie="https://firebaseinstallations.googleapis.com/v1",ese=36e5,Xi=new jr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cF(t){return t instanceof tr&&t.code.includes("request-failed")}function KE({projectId:t}){return`${Zie}/projects/${t}/installations`}function lF(t){return{token:t.token,requestStatus:2,expiresIn:ise(t.expiresIn),creationTime:Date.now()}}function QE(t,e){return YE.apply(this,arguments)}function YE(){return(YE=E(function*(t,e){const r=(yield e.json()).error;return Xi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function dF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function XE(t){return JE.apply(this,arguments)}function JE(){return(JE=E(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ise(t){return Number(t.replace("s","000"))}function ZE(){return(ZE=E(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=KE(t),i=dF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:uF,appId:t.appId,sdkVersion:aF})},u=yield XE(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:lF(c.authToken)}}throw yield QE("Create Installation",u)})).apply(this,arguments)}function fF(t){return new Promise(e=>{setTimeout(e,t)})}const use=/^[cdef][\w-]{21}$/,ew="";function cse(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function lse(t){return function ase(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return use.test(n)?n:ew}catch{return ew}}function Vu(t){return`${t.appName}!${t.appId}`}const Bu=new Map;function pF(t,e){const n=Vu(t);gF(n,e),function fse(t,e){const n=function mF(){return!Vo&&"BroadcastChannel"in self&&(Vo=new BroadcastChannel("[Firebase] FID Change"),Vo.onmessage=t=>{gF(t.data.key,t.data.fid)}),Vo}();n&&n.postMessage({key:t,fid:e}),function yF(){0===Bu.size&&Vo&&(Vo.close(),Vo=null)}()}(n,e)}function gF(t,e){const n=Bu.get(t);if(n)for(const r of n)r(e)}let Vo=null;const pse="firebase-installations-database",gse=1,Bo="firebase-installations-store";let tw=null;function nw(){return tw||(tw=function Yie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ks(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ks(o.result),u.oldVersion,u.newVersion,ks(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(pse,gse,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Bo)}})),tw}function Ig(t,e){return rw.apply(this,arguments)}function rw(){return(rw=E(function*(t,e){const n=Vu(t),i=(yield nw()).transaction(Bo,"readwrite"),s=i.objectStore(Bo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&pF(t,e.fid),e})).apply(this,arguments)}function iw(t){return sw.apply(this,arguments)}function sw(){return(sw=E(function*(t){const e=Vu(t),r=(yield nw()).transaction(Bo,"readwrite");yield r.objectStore(Bo).delete(e),yield r.done})).apply(this,arguments)}function ad(t,e){return ow.apply(this,arguments)}function ow(){return(ow=E(function*(t,e){const n=Vu(t),i=(yield nw()).transaction(Bo,"readwrite"),s=i.objectStore(Bo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&pF(t,a.fid),a})).apply(this,arguments)}function aw(t){return uw.apply(this,arguments)}function uw(){return uw=E(function*(t){let e;const n=yield ad(t.appConfig,r=>{const i=function mse(t){return vF(t||{fid:cse(),registrationStatus:0})}(r),s=function yse(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Xi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function _se(t,e){return cw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:vse(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ew?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),uw.apply(this,arguments)}function cw(){return cw=E(function*(t,e){try{const n=yield function ose(t,e){return ZE.apply(this,arguments)}(t,e);return Ig(t.appConfig,n)}catch(n){throw cF(n)&&409===n.customData.serverCode?yield iw(t.appConfig):yield Ig(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),cw.apply(this,arguments)}function vse(t){return lw.apply(this,arguments)}function lw(){return(lw=E(function*(t){let e=yield _F(t.appConfig);for(;1===e.registrationStatus;)yield fF(100),e=yield _F(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield aw(t);return r||n}return e})).apply(this,arguments)}function _F(t){return ad(t,e=>{if(!e)throw Xi.create("installation-not-found");return vF(e)})}function vF(t){return function Ese(t){return 1===t.registrationStatus&&t.registrationTime+oF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function dw(){return(dw=E(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Cse(t,{fid:e}){return`${KE(t)}/${e}/authTokens:generate`}(t,n),i=function hF(t,{refreshToken:e}){const n=dF(t);return n.append("Authorization",function sse(t){return`${uF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:aF,appId:t.appId}})},u=yield XE(()=>fetch(r,a));if(u.ok)return lF(yield u.json());throw yield QE("Generate Auth Token",u)})).apply(this,arguments)}function hw(t){return fw.apply(this,arguments)}function fw(){return fw=E(function*(t,e=!1){let n;const r=yield ad(t.appConfig,s=>{if(!wF(s))throw Xi.create("not-registered");const o=s.authToken;if(!e&&function Dse(t){return 2===t.requestStatus&&!function Tse(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ese}(t)}(o))return s;if(1===o.requestStatus)return n=function bse(t,e){return pw.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Xi.create("app-offline");const a=function Ase(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Ise(t,e){return gw.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),fw.apply(this,arguments)}function pw(){return(pw=E(function*(t,e){let n=yield EF(t.appConfig);for(;1===n.authToken.requestStatus;)yield fF(100),n=yield EF(t.appConfig);const r=n.authToken;return 0===r.requestStatus?hw(t,e):r})).apply(this,arguments)}function EF(t){return ad(t,e=>{if(!wF(e))throw Xi.create("not-registered");return function Sse(t){return 1===t.requestStatus&&t.requestTime+oF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function gw(){return gw=E(function*(t,e){try{const n=yield function wse(t,e){return dw.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Ig(t.appConfig,r),n}catch(n){if(!cF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ig(t.appConfig,r)}else yield iw(t.appConfig);throw n}}),gw.apply(this,arguments)}function wF(t){return void 0!==t&&2===t.registrationStatus}function mw(){return(mw=E(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield aw(e);return r?r.catch(console.error):hw(e).catch(console.error),n.fid})).apply(this,arguments)}function yw(){return yw=E(function*(t,e=!1){const n=t;return yield function Nse(t){return _w.apply(this,arguments)}(n),(yield hw(n,e)).token}),yw.apply(this,arguments)}function _w(){return(_w=E(function*(t){const{registrationPromise:e}=yield aw(t);e&&(yield e)})).apply(this,arguments)}function ww(t){return Xi.create("missing-app-config-values",{valueName:t})}const CF="installations",Fse=t=>{const e=t.getProvider("app").getImmediate(),n=function Pse(t){if(!t||!t.options)throw ww("App Configuration");if(!t.name)throw ww("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ww(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:FE(e,"heartbeat"),_delete:()=>Promise.resolve()}},Lse=t=>{const n=FE(t.getProvider("app").getImmediate(),CF).getImmediate();return{getId:()=>function Mse(t){return mw.apply(this,arguments)}(n),getToken:i=>function xse(t){return yw.apply(this,arguments)}(n,i)}};(function Vse(){Tr(new Ct(CF,Fse,"PUBLIC")),Tr(new Ct("installations-internal",Lse,"PRIVATE"))})(),nr(sF,WE),nr(sF,WE,"esm2017");const Cw="@firebase/remote-config",Bn=new jr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qse{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return E(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Yse(t=navigator){return t.languages&&t.languages[0]||t.language}class Xse{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return E(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Yse()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((C,w)=>{e.signal.addEventListener(()=>{const S=new Error("The operation was aborted.");S.name="AbortError",w(S)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(C){let w="fetch-client-network";throw"AbortError"===C?.name&&(w="fetch-timeout"),Bn.create(w,{originalErrorMessage:C?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let y,_;if(200===h.status){let C;try{C=yield h.json()}catch(w){throw Bn.create("fetch-client-parse",{originalErrorMessage:w?.message})}y=C.entries,_=C.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(y={}),304!==f&&200!==f)throw Bn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:y}})()}}class eoe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return E(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return E(function*(){yield function Jse(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Zse(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+CE(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class roe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tg(t,e){const n=t.target.error||void 0;return Bn.create(e,{originalErrorMessage:n&&n?.message})}const Uo="app_namespace_store";class aoe{constructor(e,n,r,i=function ooe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Tg(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Uo,{keyPath:"compositeKey"})}}catch(n){e(Bn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return E(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Uo],"readonly").objectStore(Uo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Tg(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Bn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return E(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Uo],"readwrite").objectStore(Uo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Tg(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Bn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return E(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Uo],"readwrite").objectStore(Uo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Tg(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Bn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class uoe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return E(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function loe(){return Aw.apply(this,arguments)}function Aw(){return(Aw=E(function*(){if(!Ns())return!1;try{return yield Fu()}catch{return!1}})).apply(this,arguments)}!function coe(){Tr(new Ct("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Bn.create("registration-window");if(!Ns())throw Bn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Bn.create("registration-project-id");if(!o)throw Bn.create("registration-api-key");if(!a)throw Bn.create("registration-app-id");const u=new aoe(a,r.name,n=n||"firebase"),c=new uoe(u),l=new ko(Cw);l.logLevel=be.ERROR;const d=new Xse(i,"10.5.2",n,s,o,a),h=new eoe(d,u),f=new Qse(h,u,c,l),p=new roe(r,f,c,u,l);return function qse(t){const e=Ir(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),nr(Cw,"0.4.4"),nr(Cw,"0.4.4","esm2017")}();const doe=(t,e)=>e.some(n=>t instanceof n);let TF,AF;const SF=new WeakMap,Sw=new WeakMap,MF=new WeakMap,Mw=new WeakMap,xw=new WeakMap;let Nw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Sw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||MF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _oe(t){return"function"==typeof t?function yoe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function foe(){return AF||(AF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Rw(this),e),Ji(SF.get(this))}:function(...e){return Ji(t.apply(Rw(this),e))}:function(e,...n){const r=t.call(Rw(this),e,...n);return MF.set(r,e.sort?e.sort():[e]),Ji(r)}}(t):(t instanceof IDBTransaction&&function goe(t){if(Sw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sw.set(t,e)}(t),doe(t,function hoe(){return TF||(TF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Nw):t)}function Ji(t){if(t instanceof IDBRequest)return function poe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SF.set(n,t)}).catch(()=>{}),xw.set(e,t),e}(t);if(Mw.has(t))return Mw.get(t);const e=_oe(t);return e!==t&&(Mw.set(t,e),xw.set(e,t)),e}const Rw=t=>xw.get(t);function xF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ji(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ji(o.result),u.oldVersion,u.newVersion,Ji(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function kw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ji(n).then(()=>{})}const voe=["get","getKey","getAll","getAllKeys","count"],Eoe=["put","add","delete","clear"],Pw=new Map;function NF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Pw.get(e))return Pw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Eoe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!voe.includes(n))return;const s=function(){var o=E(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Pw.set(e,s),s}!function moe(t){Nw=t(Nw)}(t=>({...t,get:(e,n,r)=>NF(e,n)||t.get(e,n,r),has:(e,n)=>!!NF(e,n)||t.has(e,n)}));const woe="/firebase-messaging-sw.js",Coe="/firebase-cloud-messaging-push-scope",RF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",boe="https://fcmregistrations.googleapis.com/v1",kF="google.c.a.c_id",Ioe="google.c.a.c_l",Doe="google.c.a.ts";var Ag=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Ag||{});function Zi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Soe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Ow="fcm_token_details_db",Moe=5,PF="fcm_token_object_Store";function Fw(){return Fw=E(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Ow))return null;let e=null;return(yield xF(Ow,Moe,{upgrade:(r=E(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(PF))return;const c=a.objectStore(PF),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Zi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Zi(d.auth),p256dh:Zi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Zi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Zi(d.auth),p256dh:Zi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Zi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield kw(Ow),yield kw("fcm_vapid_details_db"),yield kw("undefined"),function Noe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Fw.apply(this,arguments)}const Roe="firebase-messaging-database",koe=1,jo="firebase-messaging-store";let Lw=null;function Vw(){return Lw||(Lw=xF(Roe,koe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(jo)}})),Lw}function OF(t){return Bw.apply(this,arguments)}function Bw(){return Bw=E(function*(t){const e=Hw(t),r=yield(yield Vw()).transaction(jo).objectStore(jo).get(e);if(r)return r;{const i=yield function xoe(t){return Fw.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield Uw(t,i),i}}),Bw.apply(this,arguments)}function Uw(t,e){return jw.apply(this,arguments)}function jw(){return(jw=E(function*(t,e){const n=Hw(t),i=(yield Vw()).transaction(jo,"readwrite");return yield i.objectStore(jo).put(e,n),yield i.done,e})).apply(this,arguments)}function $w(){return($w=E(function*(t){const e=Hw(t),r=(yield Vw()).transaction(jo,"readwrite");yield r.objectStore(jo).delete(e),yield r.done})).apply(this,arguments)}function Hw({appConfig:t}){return t.appId}const Zt=new jr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Foe(t,e){return Gw.apply(this,arguments)}function Gw(){return(Gw=E(function*(t,e){const n=yield Kw(t),r=LF(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Ww(t.appConfig),i)).json()}catch(o){throw Zt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Zt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function zw(){return(zw=E(function*(t,e){const n=yield Kw(t),r=LF(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Ww(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Zt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Zt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-update-no-token");return s.token})).apply(this,arguments)}function FF(t,e){return qw.apply(this,arguments)}function qw(){return(qw=E(function*(t,e){const r={method:"DELETE",headers:yield Kw(t)};try{const s=yield(yield fetch(`${Ww(t.appConfig)}/${e}`,r)).json();if(s.error)throw Zt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Zt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Ww({projectId:t}){return`${boe}/projects/${t}/registrations`}function Kw(t){return Qw.apply(this,arguments)}function Qw(){return(Qw=E(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function LF({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==RF&&(i.web.applicationPubKey=r),i}const Voe=6048e5;function Yw(){return Yw=E(function*(t){const e=yield function joe(t,e){return e1.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Zi(e.getKey("auth")),p256dh:Zi(e.getKey("p256dh"))},r=yield OF(t.firebaseDependencies);if(r){if(function $oe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Voe?function Uoe(t,e){return Jw.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield FF(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return BF(t.firebaseDependencies,n)}return BF(t.firebaseDependencies,n)}),Yw.apply(this,arguments)}function Xw(){return Xw=E(function*(t){const e=yield OF(t.firebaseDependencies);e&&(yield FF(t.firebaseDependencies,e.token),yield function Poe(t){return $w.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Xw.apply(this,arguments)}function Jw(){return Jw=E(function*(t,e){try{const n=yield function Loe(t,e){return zw.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Uw(t.firebaseDependencies,r),n}catch(n){throw yield function VF(t){return Xw.apply(this,arguments)}(t),n}}),Jw.apply(this,arguments)}function BF(t,e){return Zw.apply(this,arguments)}function Zw(){return(Zw=E(function*(t,e){const r={token:yield Foe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Uw(t,r),r.token})).apply(this,arguments)}function e1(){return(e1=E(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Soe(e)})})).apply(this,arguments)}function UF(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Hoe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Goe(t,e){e.data&&(t.data=e.data)}(e,t),function zoe(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function jF(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function t1(t){return Zt.create("missing-app-config-values",{valueName:t})}jF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Koe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Woe(t){if(!t||!t.options)throw t1("App Configuration Object");if(!t.name)throw t1("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw t1(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function n1(){return(n1=E(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(woe,{scope:Coe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Zt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function r1(){return(r1=E(function*(t,e){if(!e&&!t.swRegistration&&(yield function $F(t){return n1.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Zt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function i1(){return(i1=E(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=RF)})).apply(this,arguments)}function s1(){return s1=E(function*(t,e){if(!navigator)throw Zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zt.create("permission-blocked");return yield function Yoe(t,e){return i1.apply(this,arguments)}(t,e?.vapidKey),yield function Qoe(t,e){return r1.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Boe(t){return Yw.apply(this,arguments)}(t)}),s1.apply(this,arguments)}function o1(){return(o1=E(function*(t,e,n){const r=function Joe(t){switch(t){case Ag.NOTIFICATION_CLICKED:return"notification_open";case Ag.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[kF],message_name:n[Ioe],message_time:n[Doe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function a1(){return a1=E(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ag.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(UF(n)):t.onMessageHandler.next(UF(n)));const r=n.data;(function qoe(t){return"object"==typeof t&&!!t&&kF in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Xoe(t,e,n){return o1.apply(this,arguments)}(t,n.messageType,r))}),a1.apply(this,arguments)}const GF="@firebase/messaging",eae=t=>{const e=new Koe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Zoe(t,e){return a1.apply(this,arguments)}(e,n)),e},tae=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function HF(t,e){return s1.apply(this,arguments)}(e,r)}};function qF(){return u1.apply(this,arguments)}function u1(){return(u1=E(function*(){try{yield Fu()}catch{return!1}return typeof window<"u"&&Ns()&&vE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nae(){Tr(new Ct("messaging",eae,"PUBLIC")),Tr(new Ct("messaging-internal",tae,"PRIVATE")),nr(GF,"0.12.4"),nr(GF,"0.12.4","esm2017")}();const Sg="analytics",sae="firebase_id",oae="origin",aae=6e4,uae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",d1="https://www.googletagmanager.com/gtag/js",Ft=new ko("@firebase/analytics"),An=new jr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lae(t){if(!t.startsWith(d1)){const e=An.create("invalid-gtag-resource",{gtagURL:t});return Ft.warn(e.message),""}return t}function WF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function h1(){return(h1=E(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield WF(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ft.error(a)}t("config",i,s)})).apply(this,arguments)}function f1(){return(f1=E(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield WF(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Ft.error(s)}})).apply(this,arguments)}const vae=30,KF=new class wae{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Cae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function p1(){return(p1=E(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Cae(r)},s=uae.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function g1(){return(g1=E(function*(t,e=KF,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw An.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw An.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Aae;return setTimeout(E(function*(){a.abort()}),void 0!==n?n:aae),QF({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function QF(t,e,n){return m1.apply(this,arguments)}function m1(){return m1=E(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=KF){var s;const{appId:o,measurementId:a}=t;try{yield function Dae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function bae(t){return p1.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Tae(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?CE(n,i.intervalMillis,vae):CE(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ft.debug(`Calling attemptFetch again in ${l} millis`),QF(t,d,r,i)}}),m1.apply(this,arguments)}class Aae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let y1,I1;function _1(){return(_1=E(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function D1(){return(D1=E(function*(){if(!Ns())return Ft.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Fu()}catch(t){return Ft.warn(An.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function T1(){return T1=E(function*(t,e,n,r,i,s,o){var a;const u=function Iae(t){return g1.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ft.error(f)),e.push(u);const c=function Pae(){return D1.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function _ae(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(d1)&&n.src.includes(t))return n;return null})(s)||function hae(t,e){const n=function dae(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:lae}),r=document.createElement("script"),i=`${d1}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),I1&&(i("consent","default",I1),function YF(t){I1=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[oae]="firebase",h.update=!0,null!=d&&(h[sae]=d),i("config",l.measurementId,h),y1&&(i("set",y1),function XF(t){y1=t}(void 0)),l.measurementId}),T1.apply(this,arguments)}class Fae{constructor(e){this.app=e}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},JF=[];const ZF={};let t5,li,Mg="dataLayer",A1=!1;function Vae(t,e,n){!function Lae(){const t=[];if(_E()&&t.push("This is a browser extension environment."),vE()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:e});Ft.warn(n.message)}}();const r=t.options.appId;if(!r)throw An.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw An.create("no-api-key");Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[r])throw An.create("already-exists",{id:r});if(!A1){!function fae(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Mg);const{wrappedGtag:s,gtagCore:o}=function yae(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function mae(t,e,n,r){function s(){return s=E(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function gae(t,e,n,r,i){return f1.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function pae(t,e,n,r,i,s){return h1.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Ft.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ci,JF,ZF,Mg,"gtag");li=s,t5=o,A1=!0}return ci[r]=function Oae(t,e,n,r,i,s,o){return T1.apply(this,arguments)}(t,JF,ZF,e,t5,Mg,n),new Fae(t)}function Uae(){return S1.apply(this,arguments)}function S1(){return(S1=E(function*(){if(_E()||!vE()||!Ns())return!1;try{return yield Fu()}catch{return!1}})).apply(this,arguments)}const n5="@firebase/analytics";!function $ae(){Tr(new Ct(Sg,(e,{options:n})=>Vae(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Tr(new Ct("analytics-internal",function t(e){try{const n=e.getProvider(Sg).getImmediate();return{logEvent:(r,i,s)=>function jae(t,e,n,r){t=Ir(t),function Sae(t,e,n,r,i){return _1.apply(this,arguments)}(li,ci[t.app.options.appId],e,n,r).catch(i=>Ft.error(i))}(n,r,i,s)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),nr(n5,"0.10.0"),nr(n5,"0.10.0","esm2017")}();class Hae extends Nn{constructor(e,n){super()}schedule(e,n=0){return this}}const xg={setInterval(t,e,...n){const{delegate:r}=xg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=xg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class i5 extends Hae{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return xg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&xg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Aa(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const s5={now:()=>(s5.delegate||Date).now(),delegate:void 0};class ud{constructor(e,n=ud.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ud.now=s5.now;class o5 extends ud{constructor(e,n=ud.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const qae=new class zae extends o5{}(class Gae extends i5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Wae=new o5(i5),x1=new su("7.6.1"),N1="__angularfire_symbol__analyticsIsSupportedValue",R1="__angularfire_symbol__analyticsIsSupported",k1="__angularfire_symbol__remoteConfigIsSupportedValue",P1="__angularfire_symbol__remoteConfigIsSupported",O1="__angularfire_symbol__messagingIsSupportedValue",F1="__angularfire_symbol__messagingIsSupported";globalThis[R1]||(globalThis[R1]=Uae().then(t=>globalThis[N1]=t).catch(()=>globalThis[N1]=!1)),globalThis[F1]||(globalThis[F1]=qF().then(t=>globalThis[O1]=t).catch(()=>globalThis[O1]=!1)),globalThis[P1]||(globalThis[P1]=loe().then(t=>globalThis[k1]=t).catch(()=>globalThis[k1]=!1));const B1=(t,e)=>{const n=e?[e]:jO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Uu(){}class a5{constructor(e,n=qae){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Kae{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uu,{},Uu,Uu)),n.pipe(Jt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let u5=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new a5(Zone.current)),this.insideAngular=n.run(()=>new a5(Zone.current,Wae)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(B(Ae))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $o(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ho(t){return $o().ngZone.run(()=>t())}function Yae(t){return $o(),function Xae(t){return function(n){return(n=n.lift(new Kae(t.ngZone))).pipe(tf(t.outsideAngular),ef(t.insideAngular))}}($o())(t)}const Jae=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ho(()=>t.apply(void 0,r))},es=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uu,{},Uu,Uu)))),r[s]=Jae(r[s],n));const i=function Qae(t){return $o().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Le){const s=$o();return i.pipe(tf(s.outsideAngular),ef(s.insideAngular))}return Ho(()=>i)}return i instanceof Le?i.pipe(Yae):i instanceof Promise?Ho(()=>new Promise((s,o)=>i.then(a=>Ho(()=>s(a)),a=>Ho(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ho(()=>i)};class ju{constructor(e){return e}}class c5{constructor(){return jO()}}const U1=new j("angularfire2._apps"),eue={provide:ju,useFactory:function Zae(t){return t&&1===t.length?t[0]:new ju(UO())},deps:[[new On,U1]]},tue={provide:c5,deps:[[new On,U1]]};function nue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ju(r)}}let rue=(()=>{class t{constructor(n){Dr("angularfire",x1.full,"core"),Dr("angularfire",x1.full,"app"),Dr("angular",Q_.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(B(Ri))},t.\u0275mod=zt({type:t}),t.\u0275inj=Pt({providers:[eue,tue]}),t})();function iue(t,...e){return{ngModule:rue,providers:[{provide:U1,useFactory:nue(t),multi:!0,deps:[Ae,cn,u5,...e]}]}}const sue=es(BO,!0);const oue=function l5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},d5=new jr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ng=new ko("@firebase/auth");function Rg(t,...e){Ng.logLevel<=be.ERROR&&Ng.error(`Auth (${wg}): ${t}`,...e)}function Un(t,...e){throw j1(t,...e)}function di(t,...e){return j1(t,...e)}function j1(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d5.create(t,...e)}function F(t,e,...n){if(!t)throw j1(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rg(e),new Error(e)}function Ps(t,e){t||hi(e)}function f5(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ld{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=function Lne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}()||function Bne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function uue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $1(){return"http:"===f5()||"https:"===f5()}()||_E()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class p5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},due=new ld(3e4,6e4);function ct(t,e,n,r){return G1.apply(this,arguments)}function G1(){return(G1=E(function*(t,e,n,r,i={}){return g5(t,i,E(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=SO(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),p5.fetch()(m5(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function g5(t,e,n){return z1.apply(this,arguments)}function z1(){return(z1=E(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lue),e);try{const i=new hue(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw dd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw dd(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw dd(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw dd(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function h5(t,e,n){const r=Object.assign(Object.assign({},oue()),{[e]:n});return new jr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Un(t,l)}}catch(i){if(i instanceof tr)throw i;Un(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function m5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function H1(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class hue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"network-request-failed")),due.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=di(t,e,r);return i.customData._tokenResponse=n,i}function W1(){return(W1=E(function*(t,e){return ct(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Q1(){return(Q1=E(function*(t,e){return ct(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function hd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Y1(){return(Y1=E(function*(t,e=!1){const n=Ir(t),r=yield n.getIdToken(e),i=kg(r);F(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:hd(X1(i.auth_time)),issuedAtTime:hd(X1(i.iat)),expirationTime:hd(X1(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function X1(t){return 1e3*Number(t)}function kg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Rg("JWT malformed, contained fewer than 3 sections"),null;try{const i=gg(n);return i?JSON.parse(i):(Rg("Failed to decode base64 JWT payload"),null)}catch(i){return Rg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ns(t,e){return J1.apply(this,arguments)}function J1(){return(J1=E(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof tr&&function _ue({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class vue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield n.iteration()}),r)}iteration(){var e=this;return E(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class y5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hd(this.lastLoginAt),this.creationTime=hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fd(t){return Z1.apply(this,arguments)}function Z1(){return Z1=E(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ns(t,function gue(t,e){return Q1.apply(this,arguments)}(n,{idToken:r}));F(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Cue(t){return t.map(e=>{var{providerId:n}=e,r=yy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function wue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new y5(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Z1.apply(this,arguments)}function eC(){return(eC=E(function*(t){const e=Ir(t);yield fd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function tC(){return(tC=E(function*(t,e){const n=yield g5(t,{},E(function*(){const r=SO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=m5(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",p5.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class pd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,"internal-error"),F(typeof e.idToken<"u","internal-error"),F(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function yue(t){const e=kg(t);return F(e,"internal-error"),F(typeof e.exp<"u","internal-error"),F(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return E(function*(){return F(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return E(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function bue(t,e){return tC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pd;return r&&(F("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(F("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(F("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pd,this.toJSON())}_performRefresh(){return hi("not implemented")}}function Os(t,e){F("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Go{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new y5(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return E(function*(){const r=yield ns(n,n.stsTokenManager.getToken(n.auth,e));return F(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function mue(t){return Y1.apply(this,arguments)}(this,e)}reload(){return function Eue(t){return eC.apply(this,arguments)}(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Go(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return E(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield fd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return E(function*(){const n=yield e.getIdToken();return yield ns(e,function fue(t,e){return W1.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,C=null!==(c=n.createdAt)&&void 0!==c?c:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:S,emailVerified:O,isAnonymous:G,providerData:X,stsTokenManager:le}=n;F(S&&le,e,"internal-error");const Be=pd.fromJSON(this.name,le);F("string"==typeof S,e,"internal-error"),Os(d,e.name),Os(h,e.name),F("boolean"==typeof O,e,"internal-error"),F("boolean"==typeof G,e,"internal-error"),Os(f,e.name),Os(p,e.name),Os(y,e.name),Os(_,e.name),Os(C,e.name),Os(w,e.name);const Tt=new Go({uid:S,auth:e,email:h,emailVerified:O,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:f,tenantId:y,stsTokenManager:Be,createdAt:C,lastLoginAt:w});return X&&Array.isArray(X)&&(Tt.providerData=X.map(cr=>Object.assign({},cr))),_&&(Tt._redirectEventId=_),Tt}static _fromIdTokenResponse(e,n,r=!1){return E(function*(){const i=new pd;i.updateFromServerResponse(n);const s=new Go({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fd(s),s})()}}const _5=new Map;function rs(t){Ps(t instanceof Function,"Expected a class definition");let e=_5.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_5.set(t,e),e)}const v5=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(n,r){var i=this;return E(function*(){i.storage[n]=r})()}_get(n){var r=this;return E(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return E(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Pg(t,e,n){return`firebase:${t}:${e}:${n}`}class Hu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Pg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Go._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return E(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(function*(){if(!n.length)return new Hu(rs(v5),e,r);const i=(yield Promise.all(n.map(function(){var c=E(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||rs(v5);const o=Pg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Go._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=E(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Hu(s,e,r)):new Hu(s,e,r)})()}}function E5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function b5(t=er()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function w5(t=er()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function D5(t=er()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function T5(t=er()){return/webos/i.test(t)}(e))return"Webos";if(function nC(t=er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function C5(t=er()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function I5(t=er()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function A5(t,e=[]){let n;switch(t){case"Browser":n=E5(er());break;case"Worker":n=`${E5(er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wg}/${r}`}function S5(t,e){return iC.apply(this,arguments)}function iC(){return(iC=E(function*(t,e){return ct(t,"GET","/v2/recaptchaConfig",function it(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function x5(t){return void 0!==t&&void 0!==t.enterprise}class N5{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class k5{constructor(e){this.type="recaptcha-enterprise",this.auth=Lt(e)}verify(e="verify",n=!1){var r=this;return E(function*(){function s(){return s=E(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=E(function*(c,l){S5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new N5(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;x5(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&x5(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function sC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=di("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Aue(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Nue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return E(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Rue{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P5(this),this.idTokenSubscription=new P5(this),this.beforeStateQueue=new Nue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(E(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Hu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return E(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return F(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return E(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return E(function*(){try{yield fd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function cue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return E(function*(){const r=e?Ir(e):null;return r&&F(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return E(function*(){if(!r._deleted)return e&&F(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(E(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return E(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(E(function*(){yield n.assertedPersistence.setPersistence(rs(e))}))}initializeRecaptchaConfig(){var e=this;return E(function*(){const n=yield S5(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new N5(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new k5(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return E(function*(){if(!n.redirectPersistenceManager){const r=e&&rs(e)||n._popupRedirectResolver;F(r,n,"argument-error"),n.redirectPersistenceManager=yield Hu.create(n,[rs(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return E(function*(){var r,i;return n._isInitialized&&(yield n.queue(E(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return E(function*(){if(e===n.currentUser)return n.queue(E(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return F(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return E(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return E(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return E(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function aue(t,...e){Ng.logLevel<=be.WARN&&Ng.warn(`Auth (${wg}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Lt(t){return Ir(t)}class P5{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Hne(t,e){const n=new Gne(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function R5(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new ld(3e4,6e4),new ld(2e3,1e4),new ld(3e4,6e4),new ld(5e3,15e3),encodeURIComponent("fac");var cL="@firebase/auth";class Ile{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return E(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}mg(),function Tle(t){Lu(new Ct("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;F(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A5(t)},c=new Rue(r,i,s,u);return function Pue(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(rs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lu(new Ct("auth-internal",e=>{const n=Lt(e.getProvider("auth").getImmediate());return new Ile(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(cL,"0.23.2",function Dle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Dr(cL,"0.23.2","esm2017")}("Browser");class fL{constructor(){return B1("auth")}}const Wb=new Map,pL={activated:!1,tokenObservers:[]},kle={initialized:!1,enabled:!1};function lt(t){return Wb.get(t)||Object.assign({},pL)}function Wg(){return kle}const Kb="https://content-firebaseappcheck.googleapis.com/v1",Lle="exchangeDebugToken",gL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ble{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return E(function*(){n.stop();try{n.pending=new yg,yield function Ule(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new yg,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const en=new jr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qb(t){if(!lt(t).activated)throw en.create("use-before-activation",{appName:t.name})}function Yg(t,e){return Xb.apply(this,arguments)}function Xb(){return Xb=E(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw en.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw en.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw en.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw en.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),Xb.apply(this,arguments)}function mL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Kb}/projects/${n}/apps/${r}:${Lle}?key=${i}`,body:{debug_token:e}}}const Gle="firebase-app-check-database",zle=1,vd="firebase-app-check-store";let Xg=null;function Jb(){return Jb=E(function*(t,e){const r=(yield function _L(){return Xg||(Xg=new Promise((t,e)=>{try{const n=indexedDB.open(Gle,zle);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(en.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(vd,{keyPath:"compositeKey"})}}catch(n){e(en.create("storage-open",{originalErrorMessage:n?.message}))}}),Xg)}()).transaction(vd,"readwrite"),s=r.objectStore(vd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(en.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),Jb.apply(this,arguments)}const Ed=new ko("@firebase/app-check");function tI(t,e){return Ns()?function Wle(t,e){return function vL(t,e){return Jb.apply(this,arguments)}(function wL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ed.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function rI(){return Wg().enabled}function iI(){return sI.apply(this,arguments)}function sI(){return sI=E(function*(){const t=Wg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),sI.apply(this,arguments)}const Zle={error:"UNKNOWN_ERROR"};function ede(t){return mE.encodeString(JSON.stringify(t),!1)}function Jg(t){return oI.apply(this,arguments)}function oI(){return oI=E(function*(t,e=!1){const n=t.app;Qb(n);const r=lt(n);let s,i=r.token;if(i&&!zu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(zu(u)?i=u:yield tI(n,void 0))}if(!e&&i&&zu(i))return{token:i.token};let a,o=!1;if(rI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Yg(mL(n,yield iI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield tI(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield lt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Ed.warn(u.message):Ed.error(u),s=u}return i?s?a=zu(i)?{token:i.token,internalError:s}:DL(s):(a={token:i.token},r.token=i,yield tI(n,i)):a=DL(s),o&&function IL(t,e){const n=lt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),oI.apply(this,arguments)}function aI(){return aI=E(function*(t){const e=t.app;Qb(e);const{provider:n}=lt(e);if(rI()){const r=yield iI(),{token:i}=yield Yg(mL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),aI.apply(this,arguments)}function cI(t,e){const n=lt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function bL(t){const{app:e}=t,n=lt(e);let r=n.tokenRefresher;r||(r=function tde(t){const{app:e}=t;return new Ble(E(function*(){let r;if(r=lt(e).token?yield Jg(t,!0):yield Jg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=lt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},gL.RETRIAL_MIN_WAIT,gL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zu(t){return t.expireTimeMillis-Date.now()>0}function DL(t){return{token:ede(Zle),error:t}}class nde{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=lt(this.app);for(const n of e)cI(this.app,n.next);return Promise.resolve()}}const kL="app-check-internal";!function mde(){Tr(new Ct("app-check",t=>function rde(t,e){return new nde(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(kL).initialize()})),Tr(new Ct(kL,t=>function ide(t){return{getToken:e=>Jg(t,e),getLimitedUseToken:()=>function CL(t){return aI.apply(this,arguments)}(t),addTokenListener:e=>function uI(t,e,n,r){const{app:i}=t,s=lt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&zu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),bL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>bL(t))}(t,"INTERNAL",e),removeTokenListener:e=>cI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),nr("@firebase/app-check","0.8.0")}();class OL{constructor(){return B1("app-check")}}typeof window<"u"&&window;var U,wde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$r={},pI=pI||{},ue=wde||self;function em(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function wd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var gI="closure_uid_"+(1e9*Math.random()>>>0),bde=0;function Ide(t,e,n){return t.call.apply(t.bind,arguments)}function Dde(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dn(t,e,n){return(dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ide:Dde).apply(null,arguments)}function tm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ls(){this.s=this.s,this.o=this.o}Ls.prototype.s=!1,Ls.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Cde(t){Object.prototype.hasOwnProperty.call(t,gI)&&t[gI]||(t[gI]=++bde)}(this)},Ls.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function mI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function LL(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(em(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function hn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var Ade=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ue.addEventListener("test",()=>{},e),ue.removeEventListener("test",()=>{},e)}catch{}return t}();function Cd(t){return/^[\s\xa0]*$/.test(t)}function nm(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function fi(t){return-1!=nm().indexOf(t)}function yI(t){return yI[" "](t),t}yI[" "]=function(){};var vI,Mde=fi("Opera"),qu=fi("Trident")||fi("MSIE"),VL=fi("Edge"),_I=VL||qu,BL=fi("Gecko")&&!(-1!=nm().toLowerCase().indexOf("webkit")&&!fi("Edge"))&&!(fi("Trident")||fi("MSIE"))&&!fi("Edge"),xde=-1!=nm().toLowerCase().indexOf("webkit")&&!fi("Edge");function UL(){var t=ue.document;return t?t.documentMode:void 0}e:{var EI="",wI=function(){var t=nm();return BL?/rv:([^\);]+)(\)|;)/.exec(t):VL?/Edge\/([\d\.]+)/.exec(t):qu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):xde?/WebKit\/(\S+)/.exec(t):Mde?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(wI&&(EI=wI?wI[1]:""),qu){var CI=UL();if(null!=CI&&CI>parseFloat(EI)){vI=String(CI);break e}}vI=EI}var Nde=ue.document&&qu&&(UL()||parseInt(vI,10))||void 0;function bd(t,e){if(hn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(BL){e:{try{yI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Rde[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bd.$.h.call(this)}}Vt(bd,hn);var Rde={2:"touch",3:"pen",4:"mouse"};bd.prototype.h=function(){bd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Id="closure_listenable_"+(1e6*Math.random()|0),kde=0;function Pde(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++kde,this.fa=this.ia=!1}function rm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function II(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $L(t){const e={};for(const n in t)e[n]=t[n];return e}const HL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<HL.length;s++)n=HL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function im(t){this.src=t,this.g={},this.h=0}function DI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=FL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(rm(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function TI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}im.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=TI(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Pde(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var AI="closure_lm_"+(1e6*Math.random()|0),SI={};function zL(t,e,n,r,i){if(r&&r.once)return WL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zL(t,e[s],n,r,i);return null}return n=RI(n),t&&t[Id]?t.O(e,n,wd(r)?!!r.capture:!!r,i):qL(t,e,n,!1,r,i)}function qL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=wd(i)?!!i.capture:!!i,a=xI(t);if(a||(t[AI]=a=new im(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Fde(){const e=Lde;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ade||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(QL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function WL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WL(t,e[s],n,r,i);return null}return n=RI(n),t&&t[Id]?t.P(e,n,wd(r)?!!r.capture:!!r,i):qL(t,e,n,!0,r,i)}function KL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)KL(t,e[s],n,r,i);else r=wd(r)?!!r.capture:!!r,n=RI(n),t&&t[Id]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=TI(s=t.g[e],n,r,i))&&(rm(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=xI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=TI(e,n,r,i)),(n=-1<t?e[t]:null)&&MI(n))}function MI(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Id])DI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(QL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xI(e))?(DI(n,t),0==n.h&&(n.src=null,e[AI]=null)):rm(t)}}}function QL(t){return t in SI?SI[t]:SI[t]="on"+t}function Lde(t,e){if(t.fa)t=!0;else{e=new bd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&MI(t),t=n.call(r,e)}return t}function xI(t){return(t=t[AI])instanceof im?t:null}var NI="__closure_events_fn_"+(1e9*Math.random()>>>0);function RI(t){return"function"==typeof t?t:(t[NI]||(t[NI]=function(e){return t.handleEvent(e)}),t[NI])}function Bt(){Ls.call(this),this.i=new im(this),this.S=this,this.J=null}function tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new hn(e,t);else if(e instanceof hn)e.target=e.target||t;else{var i=e;GL(e=new hn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=sm(o,r,!0,e)&&i}if(i=sm(o=e.g=t,r,!0,e)&&i,i=sm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=sm(o=e.g=n[s],r,!1,e)&&i}function sm(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&DI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vt(Bt,Ls),Bt.prototype[Id]=!0,Bt.prototype.removeEventListener=function(t,e,n,r){KL(this,t,e,n,r)},Bt.prototype.N=function(){if(Bt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rm(n[r]);delete t.g[e],t.h--}}this.J=null},Bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Bt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var kI=ue.JSON.stringify;function Bde(){var t=PI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var YL=new class Vde{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new jde,t=>t.reset());class jde{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $de(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Hde(t){ue.setTimeout(()=>{throw t},0)}let Dd,Td=!1,PI=new class Ude{constructor(){this.h=this.g=null}add(e,n){const r=YL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},XL=()=>{const t=ue.Promise.resolve(void 0);Dd=()=>{t.then(Gde)}};var Gde=()=>{for(var t;t=Bde();){try{t.h.call(t.g)}catch(n){Hde(n)}var e=YL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Td=!1};function om(t,e){Bt.call(this),this.h=t||1,this.g=e||ue,this.j=dn(this.qb,this),this.l=Date.now()}function OI(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function FI(t,e,n){if("function"==typeof t)n&&(t=dn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=dn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function JL(t){t.g=FI(()=>{t.g=null,t.i&&(t.i=!1,JL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Vt(om,Bt),(U=om.prototype).ga=!1,U.T=null,U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),tn(this,"tick"),this.ga&&(OI(this),this.start()))}},U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},U.N=function(){om.$.N.call(this),OI(this),delete this.g};class zde extends Ls{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JL(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ad(t){Ls.call(this),this.h=t,this.g={}}Vt(Ad,Ls);var ZL=[];function eV(t,e,n,r){Array.isArray(n)||(n&&(ZL[0]=n.toString()),n=ZL);for(var i=0;i<n.length;i++){var s=zL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tV(t){II(t.g,function(e,n){this.g.hasOwnProperty(n)&&MI(e)},t),t.g={}}function am(){this.g=!0}function Wu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Qde(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return kI(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ad.prototype.N=function(){Ad.$.N.call(this),tV(this)},Ad.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},am.prototype.Ea=function(){this.g=!1},am.prototype.info=function(){};var Ko={},nV=null;function um(){return nV=nV||new Bt}function rV(t){hn.call(this,Ko.Ta,t)}function Sd(t){const e=um();tn(e,new rV(e))}function iV(t,e){hn.call(this,Ko.STAT_EVENT,t),this.stat=e}function Sn(t){const e=um();tn(e,new iV(e,t))}function sV(t,e){hn.call(this,Ko.Ua,t),this.size=e}function Md(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}Ko.Ta="serverreachability",Vt(rV,hn),Ko.STAT_EVENT="statevent",Vt(iV,hn),Ko.Ua="timingevent",Vt(sV,hn);var cm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function LI(){}function uV(){}LI.prototype.h=null;var UI,xd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function VI(){hn.call(this,"d")}function BI(){hn.call(this,"c")}function lm(){}function Nd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ad(this),this.P=Yde,this.V=new om(t=_I?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cV}function cV(){this.i=null,this.g="",this.h=!1}Vt(VI,hn),Vt(BI,hn),Vt(lm,LI),lm.prototype.g=function(){return new XMLHttpRequest},lm.prototype.i=function(){return{}},UI=new lm;var Yde=45e3,jI={},dm={};function $I(t,e,n){t.L=1,t.v=gm(ss(e)),t.s=n,t.S=!0,lV(t,null)}function lV(t,e){t.G=Date.now(),Rd(t),t.A=ss(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),EV(n.i,"t",r),t.C=0,n=t.l.J,t.h=new cV,t.g=GV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new zde(dn(t.Pa,t,t.g),t.O)),eV(t.U,t.g,"readystatechange",t.nb),e=t.I?$L(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Sd(),function qde(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function dV(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function hV(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Xde(t,n),i==dm){4==e&&(t.o=4,Sn(14),r=!1),Wu(t.j,t.m,null,"[Incomplete Response]");break}if(i==jI){t.o=4,Sn(15),Wu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Wu(t.j,t.m,i,null),HI(t,i)}dV(t)&&i!=dm&&i!=jI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),YI(e),e.M=!0,Sn(11))):(Wu(t.j,t.m,n,"[Invalid Chunked Response]"),Qo(t),kd(t))}function Xde(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?dm:(n=Number(e.substring(n,r)),isNaN(n)?jI:(r+=1)+n>e.length?dm:(e=e.slice(r,r+n),t.C=r+n,e))}function Rd(t){t.Y=Date.now()+t.P,fV(t,t.P)}function fV(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Md(dn(t.lb,t),e)}function hm(t){t.B&&(ue.clearTimeout(t.B),t.B=null)}function kd(t){0==t.l.H||t.J||UV(t.l,t)}function Qo(t){hm(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,OI(t.V),tV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function HI(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||GI(n.i,t)))if(!t.K&&GI(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;wm(n),vm(n)}QI(n),Sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Md(dn(n.ib,n),6e3));if(1>=bV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Xo(n,11)}else if((t.K||n.g==t)&&wm(n),!Cd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(zI(s,s.h),s.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,We(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=HV(r,r.J?r.pa:null,r.Y),o.K){IV(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(hm(a),Rd(a)),r.g=o}else VV(r);0<n.j.length&&Em(n)}else"stop"!=c[0]&&"close"!=c[0]||Xo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Xo(n,7):KI(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Sd()}catch{}}function pV(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(em(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Zde(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(em(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Jde(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(em(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(U=Nd.prototype).setTimeout=function(t){this.P=t},U.nb=function(t){t=t.target;const e=this.M;e&&3==pi(t)?e.l():this.Pa(t)},U.Pa=function(t){try{if(t==this.g)e:{const l=pi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||_I||this.g&&(this.h.h||this.g.ja()||RV(this.g)))){this.J||4!=l||7==e||Sd(),hm(this);var n=this.g.da();this.ca=n;t:if(dV(this)){var r=RV(this.g);t="";var i=r.length,s=4==pi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qo(this),kd(this);var o="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Wde(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cd(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Sn(12),Qo(this),kd(this);break e}Wu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,HI(this,n)}this.S?(hV(this,l,o),_I&&this.i&&3==l&&(eV(this.U,this.V,"tick",this.mb),this.V.start())):(Wu(this.j,this.m,o,null),HI(this,o)),4==l&&Qo(this),this.i&&!this.J&&(4==l?UV(this.l,this):(this.i=!1,Rd(this)))}else(function yhe(t){const e={};t=(t.g&&2<=pi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Cd(t[r]))continue;var n=$de(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Ode(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),Qo(this),kd(this)}}}catch{}},U.mb=function(){if(this.g){var t=pi(this.g),e=this.g.ja();this.C<e.length&&(hm(this),hV(this,t,e),this.i&&4!=t&&Rd(this))}},U.cancel=function(){this.J=!0,Qo(this)},U.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Kde(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Sd(),Sn(17)),Qo(this),this.o=2,kd(this)):fV(this,this.Y-t)};var gV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yo){this.h=t.h,fm(this,t.j),this.s=t.s,this.g=t.g,pm(this,t.m),this.l=t.l;var e=t.i,n=new Fd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mV(this,n),this.o=t.o}else t&&(e=String(t).match(gV))?(this.h=!1,fm(this,e[1]||"",!0),this.s=Pd(e[2]||""),this.g=Pd(e[3]||"",!0),pm(this,e[4]),this.l=Pd(e[5]||"",!0),mV(this,e[6]||"",!0),this.o=Pd(e[7]||"")):(this.h=!1,this.i=new Fd(null,this.h))}function ss(t){return new Yo(t)}function fm(t,e,n){t.j=n?Pd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mV(t,e,n){e instanceof Fd?(t.i=e,function ohe(t,e){e&&!t.j&&(Vs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_V(this,r),EV(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Od(e,ihe)),t.i=new Fd(e,t.h))}function We(t,e,n){t.i.set(e,n)}function gm(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Pd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Od(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,the),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function the(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Yo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Od(e,yV,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Od(e,yV,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Od(n,"/"==n.charAt(0)?rhe:nhe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Od(n,she)),t.join("")};var yV=/[#\/\?@]/g,nhe=/[#\?:]/g,rhe=/[#\?]/g,ihe=/[#\?@]/g,she=/#/g;function Fd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Vs(t){t.g||(t.g=new Map,t.h=0,t.i&&function ehe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function _V(t,e){Vs(t),e=Ku(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function vV(t,e){return Vs(t),e=Ku(t,e),t.g.has(e)}function EV(t,e,n){_V(t,e),0<n.length&&(t.i=null,t.g.set(Ku(t,e),mI(n)),t.h+=n.length)}function Ku(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wV(t){this.l=t||uhe,t=ue.PerformanceNavigationTiming?0<(t=ue.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(U=Fd.prototype).add=function(t,e){Vs(this),this.i=null,t=Ku(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},U.forEach=function(t,e){Vs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},U.ta=function(){Vs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},U.Z=function(t){Vs(this);let e=[];if("string"==typeof t)vV(this,t)&&(e=e.concat(this.g.get(Ku(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},U.set=function(t,e){return Vs(this),this.i=null,vV(this,t=Ku(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},U.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var uhe=10;function CV(t){return!!t.h||!!t.g&&t.g.size>=t.j}function bV(t){return t.h?1:t.g?t.g.size:0}function GI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function zI(t,e){t.g?t.g.add(e):t.h=e}function IV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function DV(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return mI(t.i)}wV.prototype.cancel=function(){if(this.i=DV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var che=class{stringify(t){return ue.JSON.stringify(t,void 0)}parse(t){return ue.JSON.parse(t,void 0)}};function lhe(){this.g=new che}function dhe(t,e,n){const r=n||"";try{pV(t,function(i,s){let o=i;wd(i)&&(o=kI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function mm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ld(t){this.l=t.fc||null,this.j=t.ob||!1}function ym(t,e){Bt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vt(Ld,LI),Ld.prototype.g=function(){return new ym(this.l,this.j)},Ld.prototype.i=function(t){return function(){return t}}({}),Vt(ym,Bt);var qI=0;function TV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Vd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bd(t)}function Bd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(U=ym.prototype).open=function(t,e){if(this.readyState!=qI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bd(this)},U.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vd(this)),this.readyState=qI},U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bd(this)),this.g&&(this.readyState=3,Bd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vd(this):Bd(this),3==this.readyState&&TV(this)}},U.Za=function(t){this.g&&(this.response=this.responseText=t,Vd(this))},U.Ya=function(t){this.g&&(this.response=t,Vd(this))},U.ka=function(){this.g&&Vd(this)},U.setRequestHeader=function(t,e){this.v.append(t,e)},U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ym.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var fhe=ue.JSON.parse;function dt(t){Bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AV,this.L=this.M=!1}Vt(dt,Bt);var AV="",phe=/^https?$/i,ghe=["POST","PUT"];function SV(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,MV(t),_m(t)}function MV(t){t.F||(t.F=!0,tn(t,"complete"),tn(t,"error"))}function xV(t){if(t.h&&typeof pI<"u"&&(!t.C[1]||4!=pi(t)||2!=t.da()))if(t.v&&4==pi(t))FI(t.La,0,t);else if(tn(t,"readystatechange"),4==pi(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(gV)[1]||null;!i&&ue.self&&ue.self.location&&(i=ue.self.location.protocol.slice(0,-1)),r=!phe.test(i?i.toLowerCase():"")}n=r}if(n)tn(t,"complete"),tn(t,"success");else{t.m=6;try{var s=2<pi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",MV(t)}}finally{_m(t)}}}function _m(t,e){if(t.g){NV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function NV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}function pi(t){return t.g?t.g.readyState:0}function RV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case AV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function kV(t){let e="";return II(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function WI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=kV(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):We(t,e,n))}function Ud(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function PV(t){this.Ga=0,this.j=[],this.l=new am,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ud("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ud("baseRetryDelayMs",5e3,t),this.hb=Ud("retryDelaySeedMs",1e4,t),this.eb=Ud("forwardChannelMaxRetries",2,t),this.xa=Ud("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new wV(t&&t.concurrentRequestLimit),this.Ja=new lhe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function KI(t){if(OV(t),3==t.H){var e=t.W++,n=ss(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),jd(t,n),(e=new Nd(t,t.l,e)).L=2,e.v=gm(ss(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon)try{n=ue.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ue.Image&&((new Image).src=e.v,n=!0),n||(e.g=GV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Rd(e)}$V(t)}function vm(t){t.g&&(YI(t),t.g.cancel(),t.g=null)}function OV(t){vm(t),t.u&&(ue.clearTimeout(t.u),t.u=null),wm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ue.clearTimeout(t.m),t.m=null)}function Em(t){if(!CV(t.i)&&!t.m){t.m=!0;var e=t.Na;Dd||XL(),Td||(Dd(),Td=!0),PI.add(e,t),t.C=0}}function FV(t,e){var n;n=e?e.m:t.W++;const r=ss(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),jd(t,r),t.o&&t.s&&WI(r,t.o,t.s),n=new Nd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zI(t.i,n),$I(n,r,e)}function jd(t,e){t.na&&II(t.na,function(n,r){We(e,r,n)}),t.h&&pV({},function(n,r){We(e,r,n)})}function LV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{dhe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function VV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Dd||XL(),Td||(Dd(),Td=!0),PI.add(e,t),t.A=0}}function QI(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Md(dn(t.Ma,t),jV(t,t.A)),t.A++,0))}function YI(t){null!=t.B&&(ue.clearTimeout(t.B),t.B=null)}function BV(t){t.g=new Nd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ss(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),jd(t,e),t.o&&t.s&&WI(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=gm(ss(e)),n.s=null,n.S=!0,lV(n,t)}function wm(t){null!=t.v&&(ue.clearTimeout(t.v),t.v=null)}function UV(t,e){var n=null;if(t.g==e){wm(t),YI(t),t.g=null;var r=2}else{if(!GI(t.i,e))return;n=e.F,IV(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;tn(r=um(),new sV(r,n)),Em(t)}else VV(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function _he(t,e){return!(bV(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Md(dn(t.Na,t,e),jV(t,t.C)),t.C++,0)))}(t,e)||2==r&&QI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Xo(t,5);break;case 4:Xo(t,10);break;case 3:Xo(t,6);break;default:Xo(t,2)}}function jV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=dn(t.pb,t);n||(n=new Yo("//www.google.com/images/cleardot.gif"),ue.location&&"http"==ue.location.protocol||fm(n,"https"),gm(n)),function hhe(t,e){const n=new am;if(ue.Image){const r=new Image;r.onload=tm(mm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tm(mm,n,r,"TestLoadImage: error",!1,e),r.onabort=tm(mm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tm(mm,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Sn(2);t.H=0,t.h&&t.h.za(e),$V(t),OV(t)}function $V(t){if(t.H=0,t.ma=[],t.h){const e=DV(t.i);(0!=e.length||0!=t.j.length)&&(LL(t.ma,e),LL(t.ma,t.j),t.i.i.length=0,mI(t.j),t.j.length=0),t.h.ya()}}function HV(t,e,n){var r=n instanceof Yo?ss(n):new Yo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),pm(r,r.m);else{var i=ue.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Yo(null);r&&fm(s,r),e&&(s.g=e),i&&pm(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&We(r,n,e),We(r,"VER",t.ra),jd(t,r),r}function GV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dt(n&&t.Ha&&!t.va?new Ld({ob:!0}):t.va)).Oa(t.J),e}function zV(){}function Cm(){if(qu&&!(10<=Number(Nde)))throw Error("Environmental error: no available transport.")}function rr(t,e){Bt.call(this),this.g=new PV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Cd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cd(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Qu(this)}function qV(t){VI.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function WV(){BI.call(this),this.status=1}function Qu(t){this.g=t}function Hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function XI(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(U=dt.prototype).Oa=function(t){this.M=t},U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():UI.g(),this.C=function aV(t){return t.h||(t.h=t.i())}(this.u?this.u:UI),this.g.onreadystatechange=dn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void SV(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ue.FormData&&t instanceof ue.FormData,!(0<=FL(ghe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NV(this),0<this.B&&((this.L=function mhe(t){return qu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.ua,this)):this.A=FI(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){SV(this,s)}},U.ua=function(){typeof pI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tn(this,"timeout"),this.abort(8))},U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,tn(this,"complete"),tn(this,"abort"),_m(this))},U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_m(this,!0)),dt.$.N.call(this)},U.La=function(){this.s||(this.G||this.v||this.l?xV(this):this.kb())},U.kb=function(){xV(this)},U.isActive=function(){return!!this.g},U.da=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}},U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fhe(e)}},U.Ia=function(){return this.m},U.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(U=PV.prototype).ra=8,U.H=1,U.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Nd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=$L(s),GL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LV(this,i,e),We(n=ss(this.I),"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),jd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(kV(s)))+"&"+e:this.o&&WI(n,this.o,s)),zI(this.i,i),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),i.aa=!0,$I(i,n,null)):$I(i,n,e),this.H=2}}else 3==this.H&&(t?FV(this,t):0==this.j.length||CV(this.i)||FV(this))},U.Ma=function(){if(this.u=null,BV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Md(dn(this.jb,this),t)}},U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sn(10),vm(this),BV(this))},U.ib=function(){null!=this.v&&(this.v=null,vm(this),QI(this),Sn(19))},U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Sn(2)):(this.l.info("Failed to ping google.com"),Sn(1))},U.isActive=function(){return!!this.h&&this.h.isActive(this)},(U=zV.prototype).Ba=function(){},U.Aa=function(){},U.za=function(){},U.ya=function(){},U.isActive=function(){return!0},U.Va=function(){},Cm.prototype.g=function(t,e){return new rr(t,e)},Vt(rr,Bt),rr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Sn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=HV(t,null,t.Y),Em(t)},rr.prototype.close=function(){KI(this.g)},rr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=kI(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Em(e)},rr.prototype.N=function(){this.g.h=null,delete this.j,KI(this.g),delete this.g,rr.$.N.call(this)},Vt(qV,VI),Vt(WV,BI),Vt(Qu,zV),Qu.prototype.Ba=function(){tn(this.g,"a")},Qu.prototype.Aa=function(t){tn(this.g,new qV(t))},Qu.prototype.za=function(t){tn(this.g,new WV)},Qu.prototype.ya=function(){tn(this.g,"b")},Vt(Hr,function vhe(){this.blockSize=-1}),Hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Hr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)XI(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){XI(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){XI(this,r),i=0;break}}this.h=i,this.i+=e},Hr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Ehe={};function JI(t){return-128<=t&&128>t?function Sde(t,e){var n=Ehe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Pe([0|e],0>e?-1:0)}):new Pe([0|t],0>t?-1:0)}function gi(t){if(isNaN(t)||!isFinite(t))return Yu;if(0>t)return nn(gi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ZI;return new Pe(e,0)}var ZI=4294967296,Yu=JI(0),eD=JI(1),QV=JI(16777216);function os(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Sr(t){return-1==t.h}function nn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pe(n,~t.h).add(eD)}function bm(t,e){return t.add(nn(e))}function Im(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function $d(t,e){this.g=t,this.h=e}function Dm(t,e){if(os(e))throw Error("division by zero");if(os(t))return new $d(Yu,Yu);if(Sr(t))return e=Dm(nn(t),e),new $d(nn(e.g),nn(e.h));if(Sr(e))return e=Dm(t,nn(e)),new $d(nn(e.g),e.h);if(30<t.g.length){if(Sr(t)||Sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=eD,r=e;0>=r.X(t);)n=YV(n),r=YV(r);var i=Xu(n,1),s=Xu(r,1);for(r=Xu(r,2),n=Xu(n,2);!os(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Xu(r,1),n=Xu(n,1)}return e=bm(t,i.R(e)),new $d(i,e)}for(i=Yu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=gi(n)).R(e);Sr(o)||0<o.X(t);)o=(s=gi(n-=r)).R(e);os(s)&&(s=eD),i=i.add(s),t=bm(t,o)}return new $d(i,t)}function YV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pe(n,t.h)}function Xu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Pe(i,t.h)}(U=Pe.prototype).ea=function(){if(Sr(this))return-nn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ZI+r)*e,e*=ZI}return t},U.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(os(this))return"0";if(Sr(this))return"-"+nn(this).toString(t);for(var e=gi(Math.pow(t,6)),n=this,r="";;){var i=Dm(n,e).g,s=((0<(n=bm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(os(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},U.X=function(t){return Sr(t=bm(this,t))?-1:os(t)?0:1},U.abs=function(){return Sr(this)?nn(this):this},U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Pe(n,-2147483648&n[n.length-1]?-1:0)},U.R=function(t){if(os(this)||os(t))return Yu;if(Sr(this))return Sr(t)?nn(this).R(nn(t)):nn(nn(this).R(t));if(Sr(t))return nn(this.R(nn(t)));if(0>this.X(QV)&&0>t.X(QV))return gi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Im(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Im(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Im(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Im(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pe(n,0)},U.gb=function(t){return Dm(this,t).h},U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pe(n,this.h&t.h)},U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pe(n,this.h|t.h)},U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pe(n,this.h^t.h)},Cm.prototype.createWebChannel=Cm.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,cm.NO_ERROR=0,cm.TIMEOUT=8,cm.HTTP_ERROR=6,oV.COMPLETE="complete",uV.EventType=xd,xd.OPEN="a",xd.CLOSE="b",xd.ERROR="c",xd.MESSAGE="d",Bt.prototype.listen=Bt.prototype.O,dt.prototype.listenOnce=dt.prototype.P,dt.prototype.getLastError=dt.prototype.Sa,dt.prototype.getLastErrorCode=dt.prototype.Ia,dt.prototype.getStatus=dt.prototype.da,dt.prototype.getResponseJson=dt.prototype.Wa,dt.prototype.getResponseText=dt.prototype.ja,dt.prototype.send=dt.prototype.ha,dt.prototype.setWithCredentials=dt.prototype.Oa,Hr.prototype.digest=Hr.prototype.l,Hr.prototype.reset=Hr.prototype.reset,Hr.prototype.update=Hr.prototype.j,Pe.prototype.add=Pe.prototype.add,Pe.prototype.multiply=Pe.prototype.R,Pe.prototype.modulo=Pe.prototype.gb,Pe.prototype.compare=Pe.prototype.X,Pe.prototype.toNumber=Pe.prototype.ea,Pe.prototype.toString=Pe.prototype.toString,Pe.prototype.getBits=Pe.prototype.D,Pe.fromNumber=gi,Pe.fromString=function KV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return nn(KV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gi(Math.pow(e,8)),r=Yu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=gi(Math.pow(e,s)),r=r.R(s).add(gi(o))):r=(r=r.R(n)).add(gi(o))}return r};var whe=$r.createWebChannelTransport=function(){return new Cm},Che=$r.getStatEventTarget=function(){return um()},tD=$r.ErrorCode=cm,bhe=$r.EventType=oV,Ihe=$r.Event=Ko,XV=$r.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Dhe=$r.FetchXmlHttpFactory=Ld,Tm=$r.WebChannel=uV,The=$r.XhrIo=dt,Ahe=$r.Md5=Hr,Ju=$r.Integer=Pe;const JV="@firebase/firestore";class Ut{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");let Zu="9.23.0";const Bs=new ko("@firebase/firestore");function nD(){return Bs.logLevel}function P(t,...e){if(Bs.logLevel<=be.DEBUG){const n=e.map(rD);Bs.debug(`Firestore (${Zu}): ${t}`,...n)}}function mt(t,...e){if(Bs.logLevel<=be.ERROR){const n=e.map(rD);Bs.error(`Firestore (${Zu}): ${t}`,...n)}}function Gr(t,...e){if(Bs.logLevel<=be.WARN){const n=e.map(rD);Bs.warn(`Firestore (${Zu}): ${t}`,...n)}}function rD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function q(t="Unexpected state"){const e=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: `+t;throw mt(e),new Error(e)}function Q(t,e){t||q()}function V(t,e){return t}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ZV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class She{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class Mhe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xhe{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Rt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(E(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Q("string"==typeof r.accessToken),new ZV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Q(null===e||"string"==typeof e),new Ut(e)}}class Nhe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Rhe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Nhe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class khe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Q("string"==typeof n.token),this.T=n.token,new e6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Phe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class t6{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Phe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function ec(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new N(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new N(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new N(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new st(0,0))}static max(){return new Y(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hd{constructor(e,n,r){void 0===n?n=0:n>e.length&&q(),void 0===r?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Hd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends Hd{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new N(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const Ohe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends Hd{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return Ohe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new N(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new N(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new N(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new N(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(we.fromString(e))}static fromName(e){return new L(we.fromString(e).popFirst(5))}static empty(){return new L(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new we(e.slice()))}}function i6(t){return new ir(t.readTime,t.key,-1)}class ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(Y.min(),L.empty(),-1)}static max(){return new ir(Y.max(),L.empty(),-1)}}function sD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=L.comparator(t.documentKey,e.documentKey),0!==n?n:se(t.largestBatchId,e.largestBatchId))}const s6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Us(t){return oD.apply(this,arguments)}function oD(){return oD=E(function*(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==s6)throw t;P("LocalStore","Unexpectedly lost primary lease")}),oD.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new I((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function js(t){return"IndexedDbTransactionError"===t.name}let sr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function qd(t){return null==t}function Wd(t){return 0===t&&1/t==-1/0}function p6(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function g6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ze{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nm(this.root,e,this.comparator,!0)}}class Nm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=s??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1,rn.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(t,e,n,r,i){return this}insert(t,e,n){return new rn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ke{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new m6(this.data.getIterator())}getIteratorFrom(e){return new m6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class m6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Ke(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class y6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new y6("Invalid base64 string: "+i):i}}(e);return new kt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const afe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(Q(!!t),"string"==typeof t){let e=0;const n=afe.exec(t);if(Q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function as(t){return"string"==typeof t?kt.fromBase64String(t):kt.fromUint8Array(t)}function Rm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function km(t){const e=t.mapValue.fields.__previous_value__;return Rm(e)?km(e):e}function Kd(t){const e=Hs(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}class ufe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ea{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}const Gs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rm(t)?4:w6(t)?9007199254740991:10:q()}function yi(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kd(t).isEqual(Kd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Hs(r.timestampValue),o=Hs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,as(t.bytesValue).isEqual(as(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ht(r.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(r.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ht(r.integerValue)===ht(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ht(r.doubleValue),o=ht(i.doubleValue);return s===o?Wd(s)===Wd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(p6(s)!==p6(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!yi(s[a],o[a])))return!1;return!0}(t,e);default:return q()}var i}function Qd(t,e){return void 0!==(t.values||[]).find(n=>yi(n,e))}function qs(t,e){if(t===e)return 0;const n=zs(t),r=zs(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ht(i.integerValue||i.doubleValue),a=ht(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return _6(t.timestampValue,e.timestampValue);case 4:return _6(Kd(t),Kd(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(i,s){const o=as(i),a=as(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=se(o[u],a[u]);if(0!==c)return c}return se(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=se(ht(i.latitude),ht(s.latitude));return 0!==o?o:se(ht(i.longitude),ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=qs(o[u],a[u]);if(c)return c}return se(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Gs.mapValue&&s===Gs.mapValue)return 0;if(i===Gs.mapValue)return 1;if(s===Gs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=se(a[l],c[l]);if(0!==d)return d;const h=qs(o[a[l]],u[c[l]]);if(0!==h)return h}return se(a.length,c.length)}(t.mapValue,e.mapValue);default:throw q()}}function _6(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return se(t,e);const n=Hs(t),r=Hs(e),i=se(n.seconds,r.seconds);return 0!==i?i:se(n.nanos,r.nanos)}function nc(t){return cD(t)}function cD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Hs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?as(t.bytesValue).toBase64():"referenceValue"in t?L.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=cD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${cD(r.fields[a])}`;return s+"}"}(t.mapValue):q();var e}function ta(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lD(t){return!!t&&"integerValue"in t}function Yd(t){return!!t&&"arrayValue"in t}function v6(t){return!!t&&"nullValue"in t}function E6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fm(t){return!!t&&"mapValue"in t}function Xd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function w6(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xd(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Xd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$s(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new sn(Xd(this.value))}}function I6(t){const e=[];return $s(t.fields,(n,r)=>{const i=new yt([n]);if(Fm(r)){const s=I6(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jn(e)}class Qe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qe(e,0,Y.min(),Y.min(),Y.min(),sn.empty(),0)}static newFoundDocument(e,n,r,i){return new Qe(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new Qe(e,2,n,Y.min(),Y.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Qe(e,3,n,Y.min(),Y.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ws{constructor(e,n){this.position=e,this.inclusive=n}}function D6(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?L.comparator(L.fromName(o.referenceValue),n.key):qs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function T6(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yi(t.position[n],e.position[n]))return!1;return!0}class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function dfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class A6{}class ye extends A6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new hfe(e,n,r):"array-contains"===n?new gfe(e,r):"in"===n?new k6(e,r):"not-in"===n?new mfe(e,r):"array-contains-any"===n?new yfe(e,r):new ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ffe(e,r):new pfe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(qs(n,this.value)):null!==n&&zs(this.value)===zs(n)&&this.matchesComparison(qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Oe extends A6{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Oe(e,n)}matches(e){return ic(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ic(t){return"and"===t.op}function hD(t){return function S6(t){for(const e of t.filters)if(e instanceof Oe)return!1;return!0}(t)&&ic(t)}function fD(t){if(t instanceof ye)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(hD(t))return t.filters.map(e=>fD(e)).join(",");{const e=t.filters.map(n=>fD(n)).join(",");return`${t.op}(${e})`}}function M6(t,e){return t instanceof ye?(n=t,(r=e)instanceof ye&&n.op===r.op&&n.field.isEqual(r.field)&&yi(n.value,r.value)):t instanceof Oe?function(n,r){return r instanceof Oe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&M6(s,r.filters[o]),!0)}(t,e):void q();var n,r}function N6(t){return t instanceof ye?function(e){return`${e.field.canonicalString()} ${e.op} ${nc(e.value)}`}(t):t instanceof Oe?function(e){return e.op.toString()+" {"+e.getFilters().map(N6).join(" ,")+"}"}(t):"Filter"}class hfe extends ye{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.matchesComparison(n)}}class ffe extends ye{constructor(e,n){super(e,"in",n),this.keys=R6(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pfe extends ye{constructor(e,n){super(e,"not-in",n),this.keys=R6(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function R6(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class gfe extends ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yd(n)&&Qd(n.arrayValue,this.value)}}class k6 extends ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Qd(this.value.arrayValue,n)}}class mfe extends ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Qd(this.value.arrayValue,n)}}class yfe extends ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qd(this.value.arrayValue,r))}}class _fe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function pD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _fe(t,e,n,r,i,s,o)}function na(t){const e=V(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),e.dt=n}return e.dt}function Jd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dfe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!M6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T6(t.startAt,e.startAt)&&T6(t.endAt,e.endAt)}function Lm(t){return L.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class us{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function sc(t){return new us(t)}function L6(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function gD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Bm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function mD(t){return null!==t.collectionGroup}function ra(t){const e=V(t);if(null===e.wt){e.wt=[];const n=Bm(e),r=gD(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new rc(n)),e.wt.push(new rc(yt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new rc(yt.keyField(),s))}}}return e.wt}function Mn(t){const e=V(t);if(!e._t)if("F"===e.limitType)e._t=pD(e.path,e.collectionGroup,ra(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ra(e))n.push(new rc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ws(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ws(e.startAt.position,e.startAt.inclusive):null;e._t=pD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function yD(t,e){e.getFirstInequalityField(),Bm(t);const n=t.filters.concat([e]);return new us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Um(t,e,n){return new us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zd(t,e){return Jd(Mn(t),Mn(e))&&t.limitType===e.limitType}function V6(t){return`${na(Mn(t))}|lt:${t.limitType}`}function _D(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>N6(r)).join(", ")}]`),qd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),`Target(${n})`}(Mn(t))}; limitType=${t.limitType})`}function eh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):L.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ra(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=D6(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ra(n),r)||n.endAt&&!function(i,s,o){const a=D6(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ra(n),r)));var n,r}function U6(t){return(e,n)=>{let r=!1;for(const i of ra(t)){const s=vfe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function vfe(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?qs(a,u):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}class cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return g6(this.inner)}size(){return this.innerSize}}const Efe=new ze(L.comparator);function $n(){return Efe}const j6=new ze(L.comparator);function th(...t){let e=j6;for(const n of t)e=e.insert(n.key,n);return e}function $6(t){let e=j6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return nh()}function H6(){return nh()}function nh(){return new cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const wfe=new ze(L.comparator),Cfe=new Ke(L.comparator);function fe(...t){let e=Cfe;for(const n of t)e=e.add(n);return e}const bfe=new Ke(se);function G6(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function z6(t){return{integerValue:""+t}}function q6(t,e){return function a6(t){return"number"==typeof t&&Number.isInteger(t)&&!Wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?z6(e):G6(t,e)}class jm{constructor(){this._=void 0}}function Ife(t,e,n){return t instanceof oc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Rm(i)&&(i=km(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ia?K6(t,e):t instanceof sa?Q6(t,e):function(r,i){const s=W6(r,i),o=Y6(s)+Y6(r.gt);return lD(s)&&lD(r.gt)?z6(o):G6(r.serializer,o)}(t,e)}function Dfe(t,e,n){return t instanceof ia?K6(t,e):t instanceof sa?Q6(t,e):n}function W6(t,e){return t instanceof ac?lD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class oc extends jm{}class ia extends jm{constructor(e){super(),this.elements=e}}function K6(t,e){const n=X6(e);for(const r of t.elements)n.some(i=>yi(i,r))||n.push(r);return{arrayValue:{values:n}}}class sa extends jm{constructor(e){super(),this.elements=e}}function Q6(t,e){let n=X6(e);for(const r of t.elements)n=n.filter(i=>!yi(i,r));return{arrayValue:{values:n}}}class ac extends jm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Y6(t){return ht(t.integerValue||t.doubleValue)}function X6(t){return Yd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Afe{constructor(e,n){this.version=e,this.transformResults=n}}class et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $m(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Hm{}function J6(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new cc(t.key,et.none()):new uc(t.key,t.data,et.none());{const n=t.data,r=sn.empty();let i=new Ke(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ls(t.key,r,new jn(i.toArray()),et.none())}}function Sfe(t,e,n){t instanceof uc?function(r,i,s){const o=r.value.clone(),a=t9(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(r,i,s){if(!$m(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=t9(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(e9(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ih(t,e,n,r){return t instanceof uc?function(i,s,o,a){if(!$m(i.precondition,s))return o;const u=i.value.clone(),c=n9(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ls?function(i,s,o,a){if(!$m(i.precondition,s))return o;const u=n9(i.fieldTransforms,a,s),c=s.data;return c.setAll(e9(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,$m(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Mfe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=W6(r.transform,i||null);null!=s&&(null===n&&(n=sn.empty()),n.set(r.field,s))}return n||null}function Z6(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ec(n,r,(i,s)=>function Tfe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ia&&r instanceof ia||n instanceof sa&&r instanceof sa?ec(n.elements,r.elements,yi):n instanceof ac&&r instanceof ac?yi(n.gt,r.gt):n instanceof oc&&r instanceof oc);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class uc extends Hm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ls extends Hm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function e9(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function t9(t,e,n){const r=new Map;Q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dfe(o,a,n[i]))}return r}function n9(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ife(s,o,e))}return r}class cc extends Hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ED extends Hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Sfe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ih(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ih(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=H6();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=J6(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(n,r)=>Z6(n,r))&&ec(this.baseMutations,e.baseMutations,(n,r)=>Z6(n,r))}}class CD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Q(e.mutations.length===r.length);let i=wfe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new CD(e,n,r,i)}}class bD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nfe{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Ce;function i9(t){if(void 0===t)return mt("GRPC error has no .code"),D.UNKNOWN;switch(t){case It.OK:return D.OK;case It.CANCELLED:return D.CANCELLED;case It.UNKNOWN:return D.UNKNOWN;case It.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case It.INTERNAL:return D.INTERNAL;case It.UNAVAILABLE:return D.UNAVAILABLE;case It.UNAUTHENTICATED:return D.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case It.NOT_FOUND:return D.NOT_FOUND;case It.ALREADY_EXISTS:return D.ALREADY_EXISTS;case It.PERMISSION_DENIED:return D.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case It.ABORTED:return D.ABORTED;case It.OUT_OF_RANGE:return D.OUT_OF_RANGE;case It.UNIMPLEMENTED:return D.UNIMPLEMENTED;case It.DATA_LOSS:return D.DATA_LOSS;default:return q()}}(Ce=It||(It={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";class ID{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Gm}static getOrCreateInstance(){return null===Gm&&(Gm=new ID),Gm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Gm=null;const Rfe=new Ju([4294967295,4294967295],0);function o9(t){const e=function s9(){return new TextEncoder}().encode(t),n=new Ahe;return n.update(e),new Uint8Array(n.digest())}function a9(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ju([n,r],0),new Ju([i,s],0)]}class DD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sh(`Invalid padding: ${n}`);if(r<0)throw new sh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new sh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new sh(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ju.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ju.fromNumber(r)));return 1===i.compare(Rfe)&&(i=new Ju([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=o9(e),[r,i]=a9(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new DD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=o9(e),[r,i]=a9(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ah.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new oh(Y.min(),i,new ze(se),$n(),fe())}}class ah{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ah(r,n,fe(),fe(),fe())}}class zm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class u9{constructor(e,n){this.targetId=e,this.Vt=n}}class c9{constructor(e,n,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l9{constructor(){this.St=0,this.Dt=h9(),this.Ct=kt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fe(),n=fe(),r=fe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q()}}),new ah(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=h9()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class kfe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=$n(),this.zt=d9(),this.Wt=new ze(se)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Lm(o))if(0===i){const a=new L(o.path);this.Yt(r,a,Qe.newNoDocument(a,Y.min()))}else Q(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=ID.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,y,_,C;const w={localCacheCount:l,existenceFilterCount:d.count},S=d.unchangedNames;return S&&(w.bloomFilter={applied:0===c,hashCount:null!==(h=S?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(y=null===(p=null===(f=S?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==y?y:0,padding:null!==(C=null===(_=S?.bits)||void 0===_?void 0:_.padding)&&void 0!==C?C:0}),w}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=as(s).toUint8Array()}catch(l){if(l instanceof y6)return Gr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new DD(u,o,a)}catch(l){return Gr(l instanceof sh?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Lm(a.target)){const u=new L(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Qe.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=fe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new oh(e,n,this.Wt,this.jt,r);return this.jt=$n(),this.zt=d9(),this.Wt=new ze(se),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new l9,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ke(se),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||P("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new l9),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function d9(){return new ze(L.comparator)}function h9(){return new ze(L.comparator)}const Pfe={asc:"ASCENDING",desc:"DESCENDING"},Ofe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ffe={and:"AND",or:"OR"};class Lfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function TD(t,e){return t.useProto3Json||qd(e)?e:{value:e}}function lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vfe(t,e){return lc(t,e.toTimestamp())}function _t(t){return Q(!!t),Y.fromTimestamp(function(e){const n=Hs(e);return new st(n.seconds,n.nanos)}(t))}function AD(t,e){return(n=t,new we(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function p9(t){const e=we.fromString(t);return Q(b9(e)),e}function uh(t,e){return AD(t.databaseId,e.path)}function vi(t,e){const n=p9(e);if(n.get(1)!==t.databaseId.projectId)throw new N(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new N(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(m9(n))}function SD(t,e){return AD(t.databaseId,e)}function ch(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m9(t){return Q(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function y9(t,e,n){return{name:uh(t,e),fields:n.value.mapValue.fields}}function v9(t,e){return{documents:[SD(t,e.path)]}}function xD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=SD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=SD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return C9(Oe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ks((l=c).field),direction:Hfe(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=TD(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function E9(t){let e=function g9(t){const e=p9(t);return 4===e.length?we.emptyPath():m9(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Q(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=w9(l);return d instanceof Oe&&hD(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new rc(dc((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,qd(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ws((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ws(l.values||[],!l.before)}(n.endAt)),function F6(t,e,n,r,i,s,o,a){return new us(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function w9(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=dc(e.unaryFilter.field);return ye.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=dc(e.unaryFilter.field);return ye.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=dc(e.unaryFilter.field);return ye.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=dc(e.unaryFilter.field);return ye.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):void 0!==t.fieldFilter?function(e){return ye.create(dc(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Oe.create(e.compositeFilter.filters.map(n=>w9(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return q()}}(e.compositeFilter.op))}(t):q()}function Hfe(t){return Pfe[t]}function Gfe(t){return Ofe[t]}function zfe(t){return Ffe[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function dc(t){return yt.fromServerFormat(t.fieldPath)}function C9(t){return t instanceof ye?function(e){if("=="===e.op){if(E6(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NAN"}};if(v6(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(E6(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NOT_NAN"}};if(v6(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(e.field),op:Gfe(e.op),value:e.value}}}(t):t instanceof Oe?function(e){const n=e.getFilters().map(r=>C9(r));return 1===n.length?n[0]:{compositeFilter:{op:zfe(e.op),filters:n}}}(t):q()}function qfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function b9(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ds{constructor(e,n,r,i,s=Y.min(),o=Y.min(),a=kt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class I9{constructor(e){this.fe=e}}function ND(t){const e=E9({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Um(e,e.limit,"L"):e}class ca{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ht(e.integerValue));else if("doubleValue"in e){const r=ht(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Wd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(as(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?w6(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):q()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),L.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ca.Ve=new ca;class tpe{constructor(){this.rn=new LD}addToCollectionParentIndex(e,n){return this.rn.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(ir.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class LD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(we.comparator)).toArray()}}new Uint8Array(0);class pn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class da{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new da(0)}static Mn(){return new da(-1)}}class ape{constructor(){this.changes=new cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lpe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Y9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&ih(r.mutation,i,jn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=_i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=th();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$n();const o=nh(),a=nh();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ls)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),ih(l.mutation,c,l.mutation.getFieldMask(),st.now())):o.set(c.key,jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new lpe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=nh();let i=new ze((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||jn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=H6();l.forEach(h=>{if(!s.has(h)){const f=J6(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return L.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):mD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve(_i());let a=-1,u=s;return o.next(c=>I.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,fe())).next(l=>({batchId:a,changes:$6(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=th();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=th();return this.indexManager.getCollectionParents(e,i).next(o=>I.forEach(o,a=>{const u=(c=n,l=a.child(i),new us(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Qe.newInvalidDocument(c)))});let o=th();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&ih(c.mutation,u,jn.empty(),st.now()),eh(n,u)&&(o=o.insert(a,u))}),o})}}class dpe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return I.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:_t(r.createTime)}),I.resolve()}getNamedQuery(e,n){return I.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:ND(r.bundledQuery),readTime:_t(r.readTime)}),I.resolve();var r}}class hpe{constructor(){this.overlays=new ze(L.comparator),this.ls=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_i();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=_i(),s=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=_i(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=_i(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return I.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bD(n,r));let s=this.ls.get(n);void 0===s&&(s=fe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class VD{constructor(){this.fs=new Ke($t.ds),this.ws=new Ke($t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new $t(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new $t(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new L(new we([])),r=new $t(n,e),i=new $t(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new L(new we([])),r=new $t(n,e),i=new $t(n,e+1);let s=fe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new $t(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return L.comparator(e.key,n.key)||se(e.As,n.As)}static _s(e,n){return se(e.As,n.As)||L.comparator(e.key,n.key)}}class fpe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ke($t.ds)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new wD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new $t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(se);return n.forEach(i=>{const s=new $t(i,0),o=new $t(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),I.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new $t(new L(s),0);let a=new Ke(se);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),I.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Q(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return I.forEach(n.mutations,i=>{const s=new $t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new $t(n,0),i=this.Rs.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ppe{constructor(e){this.Ds=e,this.docs=new ze(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(e,n){let r=$n();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qe.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$n();const o=n.path,a=new L(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||sD(i6(l),r)<=0||(i.has(l.key)||eh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){q()}Cs(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gpe(this)}getSize(e){return I.resolve(this.size)}}class gpe extends ape{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class mpe{constructor(e){this.persistence=e,this.xs=new cs(n=>na(n),Jd),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Ns=0,this.ks=new VD,this.targetCount=0,this.Ms=da.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),I.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new da(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.Fn(n),I.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.ks.containsKey(n))}}class BD{constructor(e,n){this.$s={},this.overlays={},this.Os=new sr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new mpe(this),this.indexManager=new tpe,this.remoteDocumentCache=new ppe(r=>this.referenceDelegate.Ls(r)),this.serializer=new I9(n),this.qs=new dpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hpe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new fpe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const i=new ype(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return I.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class ype extends Vhe{constructor(e){super(),this.currentSequenceNumber=e}}class e0{constructor(e){this.persistence=e,this.Qs=new VD,this.js=null}static zs(e){return new e0(e)}get Ws(){if(this.js)return this.js;throw q()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),I.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Ws,r=>{const i=L.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return I.or([()=>I.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class HD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new HD(e,n.fromCache,r,i)}}class J9{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(L6(n))return I.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Um(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Um(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return L6(n)||i.isEqual(Y.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(nD()<=be.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_D(n)),this.Wi(e,o,n,function r6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(1e9===r?new st(n+1,0):new st(n,r));return new ir(i,L.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ke(U6(e));return n.forEach((i,s)=>{eh(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return nD()<=be.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",_D(n)),this.Ui.getDocumentsMatchingQuery(e,n,ir.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class vpe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ze(se),this.Yi=new cs(s=>na(s),Jd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y9(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function e7(t,e){return GD.apply(this,arguments)}function GD(){return GD=E(function*(t,e){const n=V(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=fe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),GD.apply(this,arguments)}function t7(t){const e=V(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Cpe(t,e){const n=V(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gc(t,e,n){return zD.apply(this,arguments)}function zD(){return zD=E(function*(t,e,n){const r=V(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!js(o))throw o;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),zD.apply(this,arguments)}function r0(t,e,n){const r=V(t);let i=Y.min(),s=fe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=V(a),d=l.Yi.get(c);return void 0!==d?I.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:fe())).next(a=>(function s7(t,e,n){let r=t.Xi.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function B6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class YD{constructor(){this.activeTargetIds=function vD(){return bfe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u7{constructor(){this.Hr=new YD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new YD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dpe{Yr(e){}shutdown(){}}class c7{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let a0=null;function JD(){return null===a0?a0=268435456+Math.round(2147483648*Math.random()):a0++,"0x"+a0.toString(16)}const Tpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ape{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const gn="WebChannelConnection";class Spe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=JD(),a=this.To(e,n);P("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(P("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Gr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Tpe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=JD();return new Promise((o,a)=>{const u=new The;u.setWithCredentials(!0),u.listenOnce(bhe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tD.NO_ERROR:const l=u.getResponseJson();P(gn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case tD.TIMEOUT:P(gn,`RPC '${e}' ${s} timed out`),a(new N(D.DEADLINE_EXCEEDED,"Request time out"));break;case tD.HTTP_ERROR:const d=u.getStatus();if(P(gn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(_)>=0?_:D.UNKNOWN}(f.status);a(new N(p,f.message))}else a(new N(D.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new N(D.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{P(gn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);P(gn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=JD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=whe(),a=Che(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Dhe({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");P(gn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Ape({ro:_=>{f?P(gn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(P(gn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),P(gn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),y=(_,C,w)=>{_.listen(C,S=>{try{w(S)}catch(O){setTimeout(()=>{throw O},0)}})};return y(d,Tm.EventType.OPEN,()=>{f||P(gn,`RPC '${e}' stream ${i} transport opened.`)}),y(d,Tm.EventType.CLOSE,()=>{f||(f=!0,P(gn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),y(d,Tm.EventType.ERROR,_=>{f||(f=!0,Gr(gn,`RPC '${e}' stream ${i} transport errored:`,_),p.wo(new N(D.UNAVAILABLE,"The operation could not be completed")))}),y(d,Tm.EventType.MESSAGE,_=>{var C;if(!f){const w=_.data[0];Q(!!w);const O=w.error||(null===(C=w[0])||void 0===C?void 0:C.error);if(O){P(gn,`RPC '${e}' stream ${i} received error:`,O);const G=O.status;let X=function(Be){const Tt=It[Be];if(void 0!==Tt)return i9(Tt)}(G),le=O.message;void 0===X&&(X=D.INTERNAL,le="Unknown error status: "+G+" with message "+O.message),f=!0,p.wo(new N(X,le)),d.close()}else P(gn,`RPC '${e}' stream ${i} received:`,w),p._o(w)}}),y(a,Ihe.STAT_EVENT,_=>{_.stat===XV.PROXY?P(gn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===XV.NOPROXY&&P(gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function u0(){return typeof document<"u"?document:null}function vh(t){return new Lfe(t,!0)}class ZD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class d7{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ZD(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return E(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return E(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return E(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(mt(n.toString()),mt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===D.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new N(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(E(function*(){e.state=0,e.start()}))}tu(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mpe extends d7{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Ufe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:q(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Q(void 0===c||"string"==typeof c),kt.fromBase64String(c||"")):(Q(void 0===c||c instanceof Uint8Array),kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?D.UNKNOWN:i9(u.code);return new N(c,u.message||"")}(o);n=new c9(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=vi(t,r.document.name),s=_t(r.document.updateTime),o=r.document.createTime?_t(r.document.createTime):Y.min(),a=new sn({mapValue:{fields:r.document.fields}}),u=Qe.newFoundDocument(i,s,o,a);n=new zm(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=vi(t,r.document),s=r.readTime?_t(r.readTime):Y.min(),o=Qe.newNoDocument(i,s);n=new zm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=vi(t,r.document);n=new zm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return q();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Nfe(i,s);n=new u9(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Y.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?_t(s.readTime):Y.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ch(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Lm(a)?{documents:v9(i,a)}:{query:xD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=f9(i,s.resumeToken);const u=TD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Y.min())>0){o.readTime=lc(i,s.snapshotVersion.toTimestamp());const u=TD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function $fe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ch(this.serializer),n.removeTarget=e,this.Wo(n)}}class xpe extends d7{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function jfe(t,e){return t&&t.length>0?(Q(void 0!==e),t.map(n=>function(r,i){let s=_t(r.updateTime?r.updateTime:i);return s.isEqual(Y.min())&&(s=_t(i)),new Afe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=_t(e.commitTime);return this.listener.cu(r,n)}return Q(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ch(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function lh(t,e){let n;if(e instanceof uc)n={update:y9(t,e.key,e.value)};else if(e instanceof cc)n={delete:uh(t,e.key)};else if(e instanceof ls)n={update:y9(t,e.key,e.data),updateMask:qfe(e.fieldMask)};else{if(!(e instanceof ED))return q();n={verify:uh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof oc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ia)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof sa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ac)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Vfe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:q()),n;var i}(this.serializer,r))};this.Wo(n)}}class Npe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new N(D.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new N(D.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new N(D.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class kpe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(mt(n),this.mu=!1):P("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ppe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(E(function*(){var u;Js(o)&&(P("RemoteStore","Restarting streams for network reachability change."),yield(u=E(function*(c){const l=V(c);l.vu.add(4),yield mc(l),l.bu.set("Unknown"),l.vu.delete(4),yield Eh(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new kpe(r,i)}}function Eh(t){return tT.apply(this,arguments)}function tT(){return tT=E(function*(t){if(Js(t))for(const e of t.Ru)yield e(!0)}),tT.apply(this,arguments)}function mc(t){return nT.apply(this,arguments)}function nT(){return nT=E(function*(t){for(const e of t.Ru)yield e(!1)}),nT.apply(this,arguments)}function c0(t,e){const n=V(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),sT(n)?iT(n):_c(n).Ko()&&rT(n,e))}function wh(t,e){const n=V(t),r=_c(n);n.Au.delete(e),r.Ko()&&h7(n,e),0===n.Au.size&&(r.Ko()?r.jo():Js(n)&&n.bu.set("Unknown"))}function rT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).su(e)}function h7(t,e){t.Vu.qt(e),_c(t).iu(e)}function iT(t){t.Vu=new kfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.bu.gu()}function sT(t){return Js(t)&&!_c(t).Uo()&&t.Au.size>0}function Js(t){return 0===V(t).vu.size}function f7(t){t.Vu=void 0}function Ope(t){return oT.apply(this,arguments)}function oT(){return oT=E(function*(t){t.Au.forEach((e,n)=>{rT(t,e)})}),oT.apply(this,arguments)}function Fpe(t,e){return aT.apply(this,arguments)}function aT(){return aT=E(function*(t,e){f7(t),sT(t)?(t.bu.Iu(e),iT(t)):t.bu.set("Unknown")}),aT.apply(this,arguments)}function Lpe(t,e,n){return uT.apply(this,arguments)}function uT(){return uT=E(function*(t,e,n){if(t.bu.set("Online"),e instanceof c9&&2===e.state&&e.cause)try{yield(r=E(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield l0(t,r)}else if(e instanceof zm?t.Vu.Ht(e):e instanceof u9?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Y.min()))try{const r=yield t7(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(kt.EMPTY_BYTE_STRING,c.snapshotVersion)),h7(i,a);const l=new ds(c.target,a,u,c.sequenceNumber);rT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){P("RemoteStore","Failed to raise snapshot:",r),yield l0(t,r)}var r}),uT.apply(this,arguments)}function l0(t,e,n){return cT.apply(this,arguments)}function cT(){return cT=E(function*(t,e,n){if(!js(e))throw e;t.vu.add(1),yield mc(t),t.bu.set("Offline"),n||(n=()=>t7(t.localStore)),t.asyncQueue.enqueueRetryable(E(function*(){P("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Eh(t)}))}),cT.apply(this,arguments)}function p7(t,e){return e().catch(n=>l0(t,n,e))}function yc(t){return lT.apply(this,arguments)}function lT(){return lT=E(function*(t){const e=V(t),n=Zs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Vpe(e);)try{const i=yield Cpe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Bpe(e,i)}catch(i){yield l0(e,i)}g7(e)&&m7(e)}),lT.apply(this,arguments)}function Vpe(t){return Js(t)&&t.Eu.length<10}function Bpe(t,e){t.Eu.push(e);const n=Zs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function g7(t){return Js(t)&&!Zs(t).Uo()&&t.Eu.length>0}function m7(t){Zs(t).start()}function Upe(t){return dT.apply(this,arguments)}function dT(){return dT=E(function*(t){Zs(t).hu()}),dT.apply(this,arguments)}function jpe(t){return hT.apply(this,arguments)}function hT(){return hT=E(function*(t){const e=Zs(t);for(const n of t.Eu)e.uu(n.mutations)}),hT.apply(this,arguments)}function $pe(t,e,n){return fT.apply(this,arguments)}function fT(){return fT=E(function*(t,e,n){const r=t.Eu.shift(),i=CD.from(r,e,n);yield p7(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield yc(t)}),fT.apply(this,arguments)}function Hpe(t,e){return pT.apply(this,arguments)}function pT(){return pT=E(function*(t,e){var n;e&&Zs(t).ou&&(yield(n=E(function*(r,i){if(function r9(t){switch(t){default:return q();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}(s=i.code)&&s!==D.ABORTED){const o=r.Eu.shift();Zs(r).Qo(),yield p7(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield yc(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),g7(t)&&m7(t)}),pT.apply(this,arguments)}function y7(t,e){return gT.apply(this,arguments)}function gT(){return gT=E(function*(t,e){const n=V(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=Js(n);n.vu.add(3),yield mc(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Eh(n)}),gT.apply(this,arguments)}function yT(){return yT=E(function*(t,e){const n=V(t);e?(n.vu.delete(2),yield Eh(n)):e||(n.vu.add(2),yield mc(n),n.bu.set("Unknown"))}),yT.apply(this,arguments)}function _c(t){return t.Su||(t.Su=function(e,n,r){const i=V(e);return i.fu(),new Mpe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ope.bind(null,t),ao:Fpe.bind(null,t),nu:Lpe.bind(null,t)}),t.Ru.push(function(){var e=E(function*(n){n?(t.Su.Qo(),sT(t)?iT(t):t.bu.set("Unknown")):(yield t.Su.stop(),f7(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Zs(t){return t.Du||(t.Du=function(e,n,r){const i=V(e);return i.fu(),new xpe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Upe.bind(null,t),ao:Hpe.bind(null,t),au:jpe.bind(null,t),cu:$pe.bind(null,t)}),t.Ru.push(function(){var e=E(function*(n){n?(t.Du.Qo(),yield yc(t)):(yield t.Du.stop(),t.Eu.length>0&&(P("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class _T{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _T(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new N(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vc(t,e){if(mt("AsyncQueue",`${e}: ${t}`),js(t))return new N(D.UNAVAILABLE,`${e}: ${t}`);throw t}class Ec{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=th(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new Ec(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class _7{constructor(){this.Cu=new ze(L.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):q():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class wc{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wc(e,n,Ec.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Gpe{constructor(){this.Nu=void 0,this.listeners=[]}}class zpe{constructor(){this.queries=new cs(e=>V6(e),Zd),this.onlineState="Unknown",this.ku=new Set}}function vT(t,e){return ET.apply(this,arguments)}function ET(){return ET=E(function*(t,e){const n=V(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Gpe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=vc(o,`Initialization of query '${_D(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&bT(n)}),ET.apply(this,arguments)}function wT(t,e){return CT.apply(this,arguments)}function CT(){return CT=E(function*(t,e){const n=V(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),CT.apply(this,arguments)}function qpe(t,e){const n=V(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&bT(n)}function Wpe(t,e,n){const r=V(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function bT(t){t.ku.forEach(e=>{e.next()})}class IT{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class w7{constructor(e){this.key=e}}class C7{constructor(e){this.key=e}}class b7{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fe(),this.mutatedKeys=fe(),this.tc=U6(e),this.ec=new Ec(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new _7,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=eh(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==y&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new wc(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _7,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new C7(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new w7(r))}),n}hc(e){this.Yu=e.ir,this.Zu=fe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return wc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ype{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Xpe{constructor(e){this.key=e,this.fc=!1}}class Jpe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new cs(a=>V6(a),Zd),this._c=new Map,this.mc=new Set,this.gc=new ze(L.comparator),this.yc=new Map,this.Ic=new VD,this.Tc={},this.Ec=new Map,this.Ac=da.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Zpe(t,e){return DT.apply(this,arguments)}function DT(){return DT=E(function*(t,e){const n=function KT(t){const e=V(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nge.bind(null,e),e.dc.nu=qpe.bind(null,e.eventManager),e.dc.Pc=Wpe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function pc(t,e){const n=V(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ds(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Mn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function TT(t,e,n,r,i){return AT.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&c0(n.remoteStore,o)}return i}),DT.apply(this,arguments)}function AT(){return AT=E(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=E(function*(y,_,C,w){let S=_.view.sc(C);S.zi&&(S=yield r0(y.localStore,_.query,!1).then(({documents:X})=>_.view.sc(X,S)));const O=w&&w.targetChanges.get(_.targetId),G=_.view.applyChanges(S,y.isPrimaryClient,O);return LT(y,_.targetId,G.cc),G.snapshot}),function(y,_,C,w){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield r0(t.localStore,e,!0),o=new b7(e,s.ir),a=o.sc(s.documents),u=ah.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);LT(t,n,c.cc);const l=new Ype(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),AT.apply(this,arguments)}function ege(t,e){return ST.apply(this,arguments)}function ST(){return ST=E(function*(t,e){const n=V(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Zd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield gc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),wh(n.remoteStore,r.targetId),Cc(n,r.targetId)}).catch(Us))):(Cc(n,r.targetId),yield gc(n.localStore,r.targetId,!0))}),ST.apply(this,arguments)}function MT(){return MT=E(function*(t,e,n){const r=function QT(t){const e=V(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rge.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ige.bind(null,e),e}(t);try{const i=yield function(s,o){const a=V(s),u=st.now(),c=o.reduce((h,f)=>h.add(f.key),fe());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=$n(),p=fe();return a.Zi.getEntries(h,c).next(y=>{f=y,f.forEach((_,C)=>{C.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(y=>{l=y;const _=[];for(const C of o){const w=Mfe(C,l.get(C.key).overlayedDocument);null!=w&&_.push(new ls(C.key,w,I6(w.value.mapValue),et.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,_,o)}).next(y=>{d=y;const _=y.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,y.batchId,_)})}).then(()=>({batchId:d.batchId,changes:$6(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new ze(se)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield hs(r,i.changes),yield yc(r.remoteStore)}catch(i){const s=vc(i,"Failed to persist write");n.reject(s)}}),MT.apply(this,arguments)}function I7(t,e){return xT.apply(this,arguments)}function xT(){return xT=E(function*(t,e){const n=V(t);try{const r=yield function wpe(t,e){const n=V(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,y,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(kt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),y=f,_=l,(0===(p=h).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=$n(),c=fe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function n7(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$n();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(Y.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Q(o.fc):i.removedDocuments.size>0&&(Q(o.fc),o.fc=!1))}),yield hs(n,r,e)}catch(r){yield Us(r)}}),xT.apply(this,arguments)}function D7(t,e,n){const r=V(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=V(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&bT(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nge(t,e,n){return NT.apply(this,arguments)}function NT(){return NT=E(function*(t,e,n){const r=V(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ze(L.comparator);o=o.insert(s,Qe.newNoDocument(s,Y.min()));const a=fe().add(s),u=new oh(Y.min(),new Map,new ze(se),o,a);yield I7(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),VT(r)}else yield gc(r.localStore,e,!1).then(()=>Cc(r,e,n)).catch(Us)}),NT.apply(this,arguments)}function rge(t,e){return RT.apply(this,arguments)}function RT(){return RT=E(function*(t,e){const n=V(t),r=e.batch.batchId;try{const i=yield function Epe(t,e){const n=V(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=I.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const y=u.docVersions.get(f);Q(null!==y),p.version.compareTo(y)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=fe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);FT(n,r,null),OT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield hs(n,i)}catch(i){yield Us(i)}}),RT.apply(this,arguments)}function ige(t,e,n){return kT.apply(this,arguments)}function kT(){return kT=E(function*(t,e,n){const r=V(t);try{const i=yield function(s,o){const a=V(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(Q(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);FT(r,e,n),OT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield hs(r,i)}catch(i){yield Us(i)}}),kT.apply(this,arguments)}function OT(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function FT(t,e,n){const r=V(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Cc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||T7(t,r)})}function T7(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(wh(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),VT(t))}function LT(t,e,n){for(const r of n)r instanceof w7?(t.Ic.addReference(r.key,e),oge(t,r)):r instanceof C7?(P("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||T7(t,r.key)):q()}function oge(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(P("SyncEngine","New document in limbo: "+n),t.mc.add(r),VT(t))}function VT(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new L(we.fromString(e)),r=t.Ac.next();t.yc.set(r,new Xpe(n)),t.gc=t.gc.insert(n,r),c0(t.remoteStore,new ds(Mn(sc(n.path)),r,"TargetPurposeLimboResolution",sr.ct))}}function hs(t,e,n){return BT.apply(this,arguments)}function BT(){return BT=E(function*(t,e,n){const r=V(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=HD.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=E(function*(u,c){const l=V(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(c,h=>I.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>I.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!js(d))throw d;P("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),y=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,y)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),BT.apply(this,arguments)}function age(t,e){return UT.apply(this,arguments)}function UT(){return UT=E(function*(t,e){const n=V(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=yield e7(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new N(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hs(n,r.er)}var i}),UT.apply(this,arguments)}function uge(t,e){const n=V(t),r=n.yc.get(e);if(r&&r.fc)return fe().add(r.key);{let i=fe();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class d0{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return E(function*(){n.serializer=vh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Z9(t,e,n,r){return new vpe(t,e,n,r)}(this.persistence,new J9,e.initialUser,this.serializer)}createPersistence(e){return new BD(e0.zs,this.serializer)}createSharedClientState(e){return new u7}terminate(){var e=this;return E(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bc{initialize(e,n){var r=this;return E(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>D7(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=age.bind(null,r.syncEngine),yield function mT(t,e){return yT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zpe}createDatastore(e){const n=vh(e.databaseInfo.databaseId),r=new Spe(e.databaseInfo);return new Npe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>D7(this.syncEngine,a,0),o=c7.D()?new c7:new Dpe,new Ppe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Jpe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=E(function*(n){const r=V(n);P("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield mc(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class h0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):mt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class wge{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=t6.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=E(function*(a){P("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(P("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return E(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(E(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=vc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function f0(t,e){return YT.apply(this,arguments)}function YT(){return YT=E(function*(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=E(function*(s){r.isEqual(s)||(yield e7(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),YT.apply(this,arguments)}function XT(t,e){return JT.apply(this,arguments)}function JT(){return JT=E(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function ZT(t){return eA.apply(this,arguments)}(t);P("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>y7(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>y7(e.remoteStore,s)),t._onlineComponents=e}),JT.apply(this,arguments)}function eA(){return eA=E(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function R7(t){return"FirebaseError"===t.name?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Gr("Error using user provided cache. Falling back to memory cache: "+n),yield f0(t,new d0)}}else P("FirestoreClient","Using default OfflineComponentProvider"),yield f0(t,new d0);return t._offlineComponents}),eA.apply(this,arguments)}function p0(t){return tA.apply(this,arguments)}function tA(){return tA=E(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),yield XT(t,t._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),yield XT(t,new bc))),t._onlineComponents}),tA.apply(this,arguments)}function Ic(t){return rA.apply(this,arguments)}function rA(){return rA=E(function*(t){const e=yield p0(t),n=e.eventManager;return n.onListen=Zpe.bind(null,e.syncEngine),n.onUnlisten=ege.bind(null,e.syncEngine),n}),rA.apply(this,arguments)}function V7(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const B7=new Map;function iA(t,e,n){if(!n)throw new N(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U7(t){if(!L.isDocumentKey(t))throw new N(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j7(t){if(L.isDocumentKey(t))throw new N(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":q()}function _e(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new N(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=m0(t);throw new N(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class H7{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new N(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new N(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function xge(t,e,n,r){if(!0===e&&!0===r)throw new N(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=V7(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new N(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new N(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new N(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new N(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H7(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new She;switch(n.type){case"firstParty":return new Rhe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new N(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=B7.get(e);n&&(P("ComponentProvider","Removing Datastore"),B7.delete(e),n.terminate())}(this),Promise.resolve()}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}}class on{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new on(this.firestore,e,this._query)}}class Ei extends on{constructor(e,n,r){super(e,n,sc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new L(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function Rge(t,e,...n){if(t=Ir(t),iA("collection","path",e),t instanceof Ch){const r=we.fromString(e,...n);return j7(r),new Ei(t,null,r)}{if(!(t instanceof vt||t instanceof Ei))throw new N(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return j7(r),new Ei(t.firestore,null,r)}}function G7(t,e,...n){if(t=Ir(t),1===arguments.length&&(e=t6.A()),iA("doc","path",e),t instanceof Ch){const r=we.fromString(e,...n);return U7(r),new vt(t,null,new L(r))}{if(!(t instanceof vt||t instanceof Ei))throw new N(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return U7(r),new vt(t.firestore,t instanceof Ei?t.converter:null,new L(r))}}class kge{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ZD(this,"async_queue_retry"),this.Xc=()=>{const n=u0();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=u0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=u0();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Rt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return E(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!js(n))throw n;P("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,mt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=_T.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&q()}verifyOperationInProgress(){}sa(){var e=this;return E(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ye extends Ch{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kge,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||q7(this),this._firestoreClient.terminate()}}function Oge(t,e){const r="string"==typeof t?t:e||"(default)",i=function VO(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:UO(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=mg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Nge(t,e,n,r={}){var i;const s=(t=_e(t,Ch))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ut.MOCK_USER;else{a=function Fne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ou(JSON.stringify({alg:"none",type:"JWT"})),Ou(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new N(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ut(c)}t._authCredentials=new Mhe(new ZV(a,u))}}(i,...s)}return i}function Dt(t){return t._firestoreClient||q7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function q7(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ufe(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,V7(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new wge(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(kt.fromBase64String(e))}catch(n){throw new N(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fa(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new N(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Q7{constructor(e){this._methodName=e}}class oA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new N(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new N(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}}const Lge=/^__.*__$/;class Vge{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}function X7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class y0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new y0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return v0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(X7(this.ca)&&Lge.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Bge{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vh(e)}ya(e,n,r,i=!1){return new y0({ca:e,methodName:n,ga:r,path:yt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tc(t){const e=t._freezeSettings(),n=vh(t._databaseId);return new Bge(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aA(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);cA("Data must be an object, but it was:",o,r);const a=n8(r,o);let u,c;if(s.merge)u=new jn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Dh(e,d,n);if(!o.contains(h))throw new N(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);i8(l,h)||l.push(h)}u=new jn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Vge(new sn(a),u,c)}function pa(t,e){if(r8(t=Ir(t)))return cA("Unsupported field value:",e,t),n8(t,e);if(t instanceof Q7)return function(n,r){if(!X7(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=pa(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ir(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return q6(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=st.fromDate(n);return{timestampValue:lc(r.serializer,i)}}if(n instanceof st){const i=new st(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lc(r.serializer,i)}}if(n instanceof oA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof fa)return{bytesValue:f9(r.serializer,n._byteString)};if(n instanceof vt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:AD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${m0(n)}`)}(t,e)}function n8(t,e){const n={};return g6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(t,(r,i)=>{const s=pa(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function r8(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof oA||t instanceof fa||t instanceof vt||t instanceof Q7)}function cA(t,e,n){if(!r8(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=m0(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Dh(t,e,n){if((e=Ir(e))instanceof Dc)return e._internalPath;if("string"==typeof e)return _0(t,e);throw v0("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hge=new RegExp("[~\\*/\\[\\]]");function _0(t,e,n){if(e.search(Hge)>=0)throw v0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dc(...e.split("."))._internalPath}catch{throw v0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function v0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new N(D.INVALID_ARGUMENT,a+t+u)}function i8(t,e){return t.some(n=>n.isEqual(e))}class lA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Gge extends lA{data(){return super.data()}}function E0(t,e){return"string"==typeof e?_0(t,e):e instanceof Dc?e._internalPath:e._delegate._internalPath}class dA{}class zge extends dA{}function qge(t,e,...n){let r=[];e instanceof dA&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Ac).length,o=i.filter(a=>a instanceof Th).length;if(s>1||s>0&&o>0)throw new N(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Th extends zge{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Th(e,n,r)}_apply(e){const n=this._parse(e);return c8(e._query,n),new on(e.firestore,e.converter,yD(e._query,n))}_parse(e){const n=Tc(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new N(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){u8(l,c);const h=[];for(const f of l)h.push(a8(a,i,f));d={arrayValue:{values:h}}}else d=a8(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||u8(l,c),d=function t8(t,e,n,r=!1){return pa(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return ye.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wge(t,e,n){const r=e,i=E0("where",t);return Th._create(i,r,n)}class Ac extends dA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ac(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Oe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)c8(s,a),s=yD(s,a)}(e._query,n),new on(e.firestore,e.converter,yD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function a8(t,e,n){if("string"==typeof(n=Ir(n))){if(""===n)throw new N(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mD(e)&&-1!==n.indexOf("/"))throw new N(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!L.isDocumentKey(r))throw new N(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ta(t,new L(r))}if(n instanceof vt)return ta(t,n._key);throw new N(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${m0(n)}.`)}function u8(t,e){if(!Array.isArray(t)||0===t.length)throw new N(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c8(t,e){if(e.isInequality()){const r=Bm(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new N(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=gD(t);null!==s&&function l8(t,e,n){if(!n.isEqual(e))throw new N(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new N(D.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Kge{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $s(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new oA(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=km(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kd(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);Q(b9(r));const i=new ea(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||mt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sc extends lA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new I0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(E0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class I0 extends Sc{data(e={}){return super.data(e)}}class Mc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ga(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new I0(this._firestore,this._userDataWriter,r.key,r,new ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new N(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new I0(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ga(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new I0(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ga(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Yge(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Yge(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}function Xge(t){t=_e(t,vt);const e=_e(t.firestore,Ye);return function F7(t,e,n={}){const r=new Rt;return t.asyncQueue.enqueueAndForget(E(function*(){return function(i,s,o,a,u){const c=new h0({next:d=>{s.enqueueAndForget(()=>wT(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new N(D.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new N(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new IT(sc(o.path),c,{includeMetadataChanges:!0,Ku:!0});return vT(i,l)}(yield Ic(t),t.asyncQueue,e,n,r)})),r.promise}(Dt(e),t._key).then(n=>function pA(t,e,n){const r=n.docs.get(e._key),i=new eo(t);return new Sc(t,i,e._key,r,new ga(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class eo extends Kge{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Jge(t){t=_e(t,on);const e=_e(t.firestore,Ye),n=Dt(e),r=new eo(e);return function s8(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new N(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function L7(t,e,n={}){const r=new Rt;return t.asyncQueue.enqueueAndForget(E(function*(){return function(i,s,o,a,u){const c=new h0({next:d=>{s.enqueueAndForget(()=>wT(i,l)),d.fromCache&&"server"===a.source?u.reject(new N(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new IT(o,c,{includeMetadataChanges:!0,Ku:!0});return vT(i,l)}(yield Ic(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Mc(e,r,t,i))}function Zge(t,e){const n=_e(t.firestore,Ye),r=G7(t),i=function fA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Ah(t,e){return function(n,r){const i=new Rt;return n.asyncQueue.enqueueAndForget(E(function*(){return function tge(t,e,n){return MT.apply(this,arguments)}(yield function nA(t){return p0(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Dt(t),e)}(n,[aA(Tc(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}!function(t,e=!0){Zu=wg,Lu(new Ct("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ye(new xhe(n.getProvider("auth-internal")),new khe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new N(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Dr(JV,"3.13.0",t),Dr(JV,"3.13.0","esm2017")}();class or{constructor(e){return e}}const f8="firestore",gA=new j("angularfire2.firestore-instances");function fme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new or(r)}}const pme={provide:class dme{constructor(){return B1(f8)}},deps:[[new On,gA]]},gme={provide:or,useFactory:function hme(t,e){const n=function V1(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(f8,t,e);return n&&new or(n)},deps:[[new On,gA],ju]};let mme=(()=>{class t{constructor(){Dr("angularfire",x1.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Pt({providers:[gme,pme]}),t})();function yme(t,...e){return{ngModule:mme,providers:[{provide:gA,useFactory:fme(t),multi:!0,deps:[Ae,cn,u5,c5,[new On,fL],[new On,OL],...e]}]}}const T0=es(Zge,!0),qr=es(Rge,!0),Sh=es(G7,!0),Mh=es(Xge,!0),ma=es(Jge,!0),_me=es(Oge,!0),p8=es(qge,!0),g8=es(Wge,!0);let m8=(()=>{class t{constructor(n){this.firestore=n}getCategories(){const r=qr(this.firestore,"Category");return new Le(i=>{ma(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}static#e=this.\u0275fac=function(r){return new(r||t)(B(or))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vme(t,e){if(1&t&&(m(0,"div",7)(1,"div",8)(2,"div",9),v(3),g()(),m(4,"div",10)(5,"ul")(6,"li"),v(7),g(),m(8,"li"),v(9),g(),m(10,"li"),k(11,"img",11),g()()()()),2&t){const n=z().$implicit;b(3),rt(n.name),b(4),rt(n.menu),b(2),rt(n.note),b(2),A("src",n.image,Za)}}const Eme=function(t){return["/category/",t]};function wme(t,e){if(1&t&&(m(0,"div")(1,"a",5),R(2,vme,12,4,"div",6),g()()),2&t){const n=e.$implicit;b(1),A("routerLink",Io(2,Eme,n.id)),b(1),A("ngIf",n.is_active)}}let Cme=(()=>{class t{constructor(n){this.categoryService=n,this.categories=[]}ngOnInit(){this.getCategory()}getCategory(){this.categoryService.getCategories().subscribe({next:n=>{this.categories=n.sort((r,i)=>r.order_index-i.order_index)},error:n=>{console.error("Error fetching categories:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(M(m8))};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-list-categories"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"list-categories"],[1,"title"],[1,"wrapper"],[4,"ngFor","ngForOf"],[3,"routerLink"],["class","custom-card",4,"ngIf"],[1,"custom-card"],[1,"custom-card-header"],[1,"custom-card-title"],[1,"custom-card-content"],["alt","",3,"src"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"section",1)(2,"h1",2),v(3,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),g(),m(4,"section",3),R(5,wme,3,4,"div",4),g()()()),2&r&&(b(5),A("ngForOf",i.categories))},dependencies:[As,Hi,Wi],styles:[".list-categories[_ngcontent-%COMP%]{margin:0 auto;max-width:800px}.wrapper[_ngcontent-%COMP%]{margin:0 auto 50px 0;display:grid;grid-template-columns:repeat(3,1fr);gap:20px;justify-items:center;align-items:center}.custom-card[_ngcontent-%COMP%]{background-color:var(--mainWhiteColor);border:1px solid var(--mainGrayColor);border-radius:5px;margin:10px 0;transition:transform .2s}.custom-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.custom-card-header[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);color:var(--mainWhiteColor);padding:10px;border-top-left-radius:5px;border-top-right-radius:5px;text-align:center}.custom-card-title[_ngcontent-%COMP%]{font-size:16px}.custom-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.custom-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 10px;border-bottom:1px solid var(--mainGrayColor)}.custom-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}a[_ngcontent-%COMP%]:hover{background-color:var(--mainWhiteColor)}@media (max-width: 460px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:80%}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;width:80%;display:flex;flex-direction:column}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;width:90%;grid-template-columns:repeat(2,1fr)}}"]})}return t})(),bme=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-chefs"]],decls:1,vars:0,template:function(r,i){1&r&&k(0,"app-list-categories")},dependencies:[Cme]})}return t})(),Ime=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-waiters"]],decls:2,vars:0,template:function(r,i){1&r&&(m(0,"h1"),v(1,"waiters"),g())}})}return t})(),y8=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(ki),M(Yn))};static#t=this.\u0275dir=ie({type:t})}return t})(),ya=(()=>{class t extends y8{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,features:[Re]})}return t})();const wi=new j("NgValueAccessor"),Tme={provide:wi,useExisting:Ue(()=>mA),multi:!0};let mA=(()=>{class t extends ya{writeValue(n){this.setProperty("checked",n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&pe("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Ze([Tme]),Re]})}return t})();const Ame={provide:wi,useExisting:Ue(()=>_a),multi:!0},Mme=new j("CompositionEventMode");let _a=(()=>{class t extends y8{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sme(){const t=Ts()?Ts().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(ki),M(Yn),M(Mme,8))};static#t=this.\u0275dir=ie({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&pe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ze([Ame]),Re]})}return t})();function to(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function _8(t){return null!=t&&"number"==typeof t.length}const mn=new j("NgValidators"),no=new j("NgAsyncValidators"),xme=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qe{static min(e){return function v8(t){return e=>{if(to(e.value)||to(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function E8(t){return e=>{if(to(e.value)||to(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return w8(e)}static requiredTrue(e){return function C8(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function b8(t){return to(t.value)||xme.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function I8(t){return e=>to(e.value)||!_8(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function D8(t){return e=>_8(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function T8(t){if(!t)return A0;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(to(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return R8(e)}static composeAsync(e){return k8(e)}}function w8(t){return to(t.value)?{required:!0}:null}function A0(t){return null}function A8(t){return null!=t}function S8(t){return Dl(t)?St(t):t}function M8(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function x8(t,e){return e.map(n=>n(t))}function N8(t){return t.map(e=>function Nme(t){return!t.validate}(e)?e:n=>e.validate(n))}function R8(t){if(!t)return null;const e=t.filter(A8);return 0==e.length?null:function(n){return M8(x8(n,e))}}function yA(t){return null!=t?R8(N8(t)):null}function k8(t){if(!t)return null;const e=t.filter(A8);return 0==e.length?null:function(n){return function Dme(...t){const e=MS(t),{args:n,keys:r}=gP(t),i=new Le(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Hn(n[l]).subscribe(Et(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?yP(r,a):a),s.complete())}))}});return e?i.pipe(mP(e)):i}(x8(n,e).map(S8)).pipe(Te(M8))}}function _A(t){return null!=t?k8(N8(t)):null}function P8(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function O8(t){return t._rawValidators}function F8(t){return t._rawAsyncValidators}function vA(t){return t?Array.isArray(t)?t:[t]:[]}function S0(t,e){return Array.isArray(t)?t.includes(e):t===e}function L8(t,e){const n=vA(e);return vA(t).forEach(i=>{S0(n,i)||n.push(i)}),n}function V8(t,e){return vA(e).filter(n=>!S0(t,n))}class B8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_A(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class xn extends B8{get formDirective(){return null}get path(){return null}}class ro extends B8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class U8{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xh=(()=>{class t extends U8{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(ro,2))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&yp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Re]})}return t})(),Nh=(()=>{class t extends U8{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(xn,10))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&yp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Re]})}return t})();const Rh="VALID",x0="INVALID",xc="PENDING",kh="DISABLED";function CA(t){return(N0(t)?t.validators:t)||null}function bA(t,e){return(N0(e)?e.asyncValidators:t)||null}function N0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function $8(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function H8(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class R0{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Rh}get invalid(){return this.status===x0}get pending(){return this.status==xc}get disabled(){return this.status===kh}get enabled(){return this.status!==kh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(L8(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(L8(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(V8(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(V8(e,this._rawAsyncValidators))}hasValidator(e){return S0(this._rawValidators,e)}hasAsyncValidator(e){return S0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rh||this.status===xc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kh:Rh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xc,this._hasOwnPendingAsyncValidator=!0;const n=S8(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?kh:this.errors?x0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xc)?xc:this._anyControlsHaveStatus(x0)?x0:Rh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){N0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ome(t){return Array.isArray(t)?yA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Fme(t){return Array.isArray(t)?_A(t):t||null}(this._rawAsyncValidators)}}class Ph extends R0{constructor(e,n,r){super(CA(n),bA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){H8(this,0,e),Object.keys(e).forEach(r=>{$8(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class G8 extends Ph{}const Nc=new j("CallSetDisabledState",{providedIn:"root",factory:()=>k0}),k0="always";function P0(t,e){return[...e.path,t]}function Oh(t,e,n=k0){IA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Vme(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&z8(t,e)})}(t,e),function Ume(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Bme(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&z8(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Lme(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function O0(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),L0(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function F0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function IA(t,e){const n=O8(t);null!==e.validator?t.setValidators(P8(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=F8(t);null!==e.asyncValidator?t.setAsyncValidators(P8(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();F0(e._rawValidators,i),F0(e._rawAsyncValidators,i)}function L0(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=O8(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=F8(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return F0(e._rawValidators,r),F0(e._rawAsyncValidators,r),n}function z8(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function K8(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Q8(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Lh=class extends R0{constructor(e=null,n,r){super(CA(n),bA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),N0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Q8(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){K8(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){K8(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Q8(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Y8=(()=>{class t extends xn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return P0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,features:[Re]})}return t})(),Vh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ie({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Qme={provide:wi,useExisting:Ue(()=>Bh),multi:!0};let Bh=(()=>{class t extends ya{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&pe("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ze([Qme]),Re]})}return t})(),eB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({})}return t})();const MA=new j("NgModelWithFormControlWarning"),e0e={provide:xn,useExisting:Ue(()=>va)};let va=(()=>{class t extends xn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(L0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Oh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){O0(n.control||null,n,!1),function Gme(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function W8(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(O0(r||null,n),(t=>t instanceof Lh)(i)&&(Oh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function q8(t,e){IA(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function jme(t,e){return L0(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){IA(this.form,this),this._oldForm&&L0(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(M(mn,10),M(no,10),M(Nc,8))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&pe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ze([e0e]),Re,mr]})}return t})();const t0e={provide:xn,useExisting:Ue(()=>Uh)};let Uh=(()=>{class t extends Y8{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){iB(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(M(xn,13),M(mn,10),M(no,10))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Ze([t0e]),Re]})}return t})();const n0e={provide:xn,useExisting:Ue(()=>jh)};let jh=(()=>{class t extends xn{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return P0(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){iB(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(M(xn,13),M(mn,10),M(no,10))};static#t=this.\u0275dir=ie({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Ze([n0e]),Re]})}return t})();function iB(t){return!(t instanceof Uh||t instanceof va||t instanceof jh)}const r0e={provide:ro,useExisting:Ue(()=>Rc)};let Rc=(()=>{class t extends ro{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new nt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function AA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===_a?n=s:function Hme(t){return Object.getPrototypeOf(t.constructor)===ya}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function TA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return P0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(M(xn,13),M(mn,10),M(no,10),M(wi,10),M(MA,8))};static#n=this.\u0275dir=ie({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ze([r0e]),Re,mr]})}return t})();const i0e={provide:wi,useExisting:Ue(()=>kc),multi:!0};function sB(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let kc=(()=>{class t extends ya{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=sB(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function s0e(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&pe("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ze([i0e]),Re]})}return t})(),V0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(sB(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(M(Yn),M(ki),M(kc,9))};static#t=this.\u0275dir=ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const o0e={provide:wi,useExisting:Ue(()=>xA),multi:!0};function oB(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let xA=(()=>{class t extends ya{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function a0e(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&pe("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ze([o0e]),Re]})}return t})(),B0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(oB(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(oB(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(M(Yn),M(ki),M(xA,9))};static#t=this.\u0275dir=ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),Ea=(()=>{class t{constructor(){this._validator=A0}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):A0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ie({type:t,features:[mr]})}return t})();const l0e={provide:mn,useExisting:Ue(()=>U0),multi:!0};let U0=(()=>{class t extends Ea{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=bu,this.createValidator=n=>w8}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Yt(t)))(i||t)}}();static#t=this.\u0275dir=ie({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ii("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ze([l0e]),Re]})}return t})(),m0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({imports:[eB]})}return t})();class mB extends R0{constructor(e,n,r){super(CA(n),bA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){H8(this,0,e),e.forEach((r,i)=>{$8(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function yB(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let j0=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return yB(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ph(i,s)}record(n,r=null){const i=this._reduceControls(n);return new G8(i,r)}control(n,r,i){let s={};return this.useNonNullable?(yB(r)?s=r:(s.validators=r,s.asyncValidators=i),new Lh(n,{...s,nonNullable:!0})):new Lh(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new mB(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Lh||n instanceof R0?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_B=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:MA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Nc,useValue:n.callSetDisabledState??k0}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({imports:[m0e]})}return t})(),NA=(()=>{class t{constructor(){this.cloudName="dsla98vyk",this.uploadPreset="chefs_talks",this.imageUploaded=new nt}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:3,vars:0,consts:[["id","upload_widget",1,"cloudinary-button","button",3,"click"]],template:function(r,i){1&r&&(m(0,"div")(1,"button",0),pe("click",function(){return i.openWidget()}),v(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430 "),g()())},styles:[".cloudinary-button[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);color:var(--mainWhiteColor);text-decoration:none;font-size:16px;line-height:28px;height:28x;cursor:pointer;font-weight:400;display:inline-block;border-radius:4px;padding:10px 14px}.cloudinary-button[_ngcontent-%COMP%]:hover{background-color:var(--secondGreenColor)}"]})}return t})();function y0e(t,e){if(1&t){const n=Li();m(0,"div")(1,"p",6),v(2,"\u0412\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430"),g(),k(3,"input",16),m(4,"button",17),pe("click",function(){return yr(n),_r(z().removeImage())}),v(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),g()()}}function _0e(t,e){1&t&&(m(0,"div",19),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),g())}function v0e(t,e){if(1&t&&(m(0,"div"),R(1,_0e,2,0,"div",18),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.categoryForm.get("name"))||null==r.errors?null:r.errors.required)}}function E0e(t,e){1&t&&(m(0,"div",19),v(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u044e! "),g())}function w0e(t,e){if(1&t&&(m(0,"div"),R(1,E0e,2,0,"div",18),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.categoryForm.get("menu"))||null==r.errors?null:r.errors.required)}}let C0e=(()=>{class t{constructor(n,r){this.fb=n,this.firestore=r,this.categoryForm=this.fb.group({name:["",[qe.required]],is_active:[!1],menu:["",[qe.required]],order_index:[0],note:[""],image:[""]})}onSubmit(){this.categoryForm.valid?(this.addCategory(this.categoryForm.value),this.categoryForm.reset()):console.log(this.categoryForm.errors)}removeImage(){this.categoryForm.get("image")?.setValue("")}addImageToForm(n){this.categoryForm.get("image")?.setValue(n)}get image(){return this.categoryForm.get("image")}addCategory(n){T0(qr(this.firestore,"Category"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(M(j0),M(or))};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-category-form"]],decls:39,vars:4,consts:[[1,"mainLong"],[1,"title"],[3,"formGroup","ngSubmit"],[3,"imageUploaded"],[4,"ngIf"],["type","checkbox","formControlName","is_active"],[1,"hint"],["type","text","formControlName","name","required",""],["for","menu"],["id","menu","formControlName","menu"],["value","\u041e\u0441\u043d\u043e\u0432\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0437\u043e\u043d\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0422\u0435\u0441\u0442\u043e\u0432\u043e \u041c\u0435\u043d\u044e"],["formControlName","note"],["type","number","formControlName","order_index"],["type","submit"],["type","text","id","image","formControlName","image"],["type","button",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"h1",1),v(2,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),g(),m(3,"form",2),pe("ngSubmit",function(){return i.onSubmit()}),m(4,"app-image-upload",3),pe("imageUploaded",function(o){return i.addImageToForm(o)}),g(),R(5,y0e,6,0,"div",4),m(6,"label"),v(7," \u0410\u043a\u0442\u0438\u0432\u043d\u0430 \u043b\u0438 \u0435 \u043a\u0430\u0442\u0435\u0433\u0440\u0438\u044f? "),k(8,"input",5),m(9,"p",6),v(10,"\u0429\u0435 \u0431\u044a\u0434\u0435 \u043b\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430 \u0432\u0438\u0434\u0438\u043c\u0430 \u0432\u044a\u0432 \u0441\u0430\u0439\u0442\u0430?"),g()(),m(11,"label"),v(12," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),k(13,"input",7),g(),R(14,v0e,2,1,"div",4),m(15,"label",8),v(16,"\u041c\u0435\u043d\u044e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),m(17,"p",6),v(18,"\u041a\u044a\u043c \u043a\u043e\u0435 \u043c\u0435\u043d\u044e \u0441\u043f\u0430\u0434\u0430 \u0442\u0430\u0437\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f?"),g(),m(19,"select",9)(20,"option",10),v(21,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e"),g(),m(22,"option",11),v(23,"\u0421\u0435\u0437\u043e\u043d\u043d\u043e"),g(),m(24,"option",12),v(25,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e"),g()(),R(26,w0e,2,1,"div",4),m(27,"label"),v(28," \u0411\u0435\u043b\u0435\u0436\u043a\u0430: "),m(29,"p",6),v(30,"\u041d\u044f\u043a\u043e\u043b\u043a\u043e \u0434\u0443\u043c\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),g(),k(31,"textarea",13),g(),m(32,"label"),v(33," \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),m(34,"p",6),v(35,"\u0420\u0435\u0434 \u043d\u0430 \u043f\u043e\u0434\u0440\u0435\u0434\u0431\u0430 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\u0442\u0435"),g(),k(36,"input",14),g(),m(37,"button",15),v(38,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),g()()()),2&r){let s,o,a;b(3),A("formGroup",i.categoryForm),b(2),A("ngIf",""!==(null==(s=i.categoryForm.get("image"))?null:s.value)),b(9),A("ngIf",null==(o=i.categoryForm.get("name"))?null:o.touched),b(12),A("ngIf",null==(a=i.categoryForm.get("menu"))?null:a.touched)}},dependencies:[Hi,Vh,V0,B0,_a,Bh,mA,kc,xh,Nh,U0,va,Rc,NA]})}return t})();const b0e=function(t){return["/recipe",t]};function I0e(t,e){if(1&t&&(m(0,"div")(1,"a",6)(2,"div",7)(3,"div",8),k(4,"img",9),g(),m(5,"p",10),v(6),g()()()()),2&t){const n=e.$implicit;b(1),A("routerLink",Io(4,b0e,n.id)),b(3),Iv("alt",n.title),A("src",n.image_recipe,Za),b(2),rt(n.title)}}let D0e=(()=>{class t{constructor(n,r){this.route=n,this.router=r,this.recipes=[],this.category=null,this.firestore=H(or)}ngOnInit(){var n=this;this.route.params.subscribe(function(){var r=E(function*(i){const s=i.id,a=qr(n.firestore,"Recipe"),u=Sh(n.firestore,"Category",s),c=yield Mh(u);c.exists()&&(n.category=c.data());const l=p8(a,g8("category","==",s));ma(l).then(d=>{const h=[];d.forEach(f=>{const p=f.data();h.push({title:p.title,image_recipe:p.image_recipe[0]?p.image_recipe[0].image_recipe:null,order_index:p.order_index,id:f.id})}),n.recipes=h.sort((f,p)=>Number(f.order_index)-Number(p.order_index))}).catch(d=>{console.error("Error retrieving recipes: ",d)})});return function(i){return r.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||t)(M(qi),M(Zn))};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-category"]],decls:8,vars:3,consts:[[1,"mainLong"],[1,"category"],[1,"category-title"],[1,"category-subtitle"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),v(3),g(),m(4,"h4",3),v(5),g(),m(6,"div",4),R(7,I0e,7,6,"div",5),g()()()),2&r&&(b(3),Je(" ",null==i.category?null:i.category.name," "),b(2),Je(" ",null==i.category?null:i.category.note," "),b(2),A("ngForOf",i.recipes))},dependencies:[As,Wi],styles:[".category[_ngcontent-%COMP%]{padding:20px;width:1200px;margin:0 auto}.category-title[_ngcontent-%COMP%]{text-align:center}.category-subtitle[_ngcontent-%COMP%]{font-style:italic;text-align:center;font-weight:200;margin-bottom:20px}.recipe-list[_ngcontent-%COMP%]{position:relative;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{border:1px solid var(--mainWhiteColor);margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:rgba(0,192,163,.8);color:var(--mainWhiteColor);padding:0 5px;margin:0;text-align:center;width:100%;text-transform:lowercase;font-size:14px;top:80%;height:24px}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{top:10%;height:10%;transition:3s ease-in-out}@media (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return t})(),$0=(()=>{class t{constructor(n){this.firestore=n}getBaseRecipe(){const r=qr(this.firestore,"BaseRecipe");return new Le(i=>{ma(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseById(n){var r=this;return E(function*(){const i=Sh(r.firestore,"BaseRecipe",n),s=yield Mh(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(B(or))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function T0e(t,e){1&t&&(m(0,"div",44),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),g())}function A0e(t,e){if(1&t&&(m(0,"div"),R(1,T0e,2,0,"div",43),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function S0e(t,e){if(1&t&&(m(0,"option",45),v(1),g()),2&t){const n=e.$implicit;A("value",n.id),b(1),Je(" ",n.name," ")}}function M0e(t,e){1&t&&(m(0,"div",44),v(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),g())}function x0e(t,e){if(1&t&&(m(0,"div"),R(1,M0e,2,0,"div",43),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.recipeForm.get("category"))||null==r.errors?null:r.errors.required)}}function N0e(t,e){1&t&&(m(0,"div",44),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),g())}function R0e(t,e){if(1&t&&(m(0,"div"),R(1,N0e,2,0,"div",43),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function k0e(t,e){1&t&&(m(0,"div",44),v(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0435\u0437\u043e\u043d! "),g())}function P0e(t,e){if(1&t&&(m(0,"div"),R(1,k0e,2,0,"div",43),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.recipeForm.get("season"))||null==r.errors?null:r.errors.required)}}function O0e(t,e){1&t&&(m(0,"div",44),v(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),g())}function F0e(t,e){if(1&t&&(m(0,"div"),R(1,O0e,2,0,"div",43),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.recipeForm.get("unit"))||null==r.errors?null:r.errors.required)}}function L0e(t,e){if(1&t&&(m(0,"option",45),v(1),g()),2&t){const n=e.$implicit;A("value",n.id),b(1),Je(" ",n.name," ")}}function V0e(t,e){1&t&&(m(0,"p",6),v(1," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438: "),g())}function B0e(t,e){if(1&t){const n=Li();m(0,"div",46)(1,"p",6),v(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),g(),k(3,"input",47),m(4,"button",31),pe("click",function(){const s=yr(n).index;return _r(z().removeImage(s))}),v(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),g()()}2&t&&A("formGroupName",e.index)}function U0e(t,e){if(1&t){const n=Li();m(0,"div",46)(1,"p",6),v(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),g(),k(3,"input",48),m(4,"button",31),pe("click",function(){const s=yr(n).index;return _r(z().removeVideo(s))}),v(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),g()()}2&t&&A("formGroupName",e.index)}function j0e(t,e){if(1&t){const n=Li();m(0,"div",46)(1,"p",6),v(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),g(),k(3,"input",49),m(4,"button",31),pe("click",function(){const s=yr(n).index;return _r(z().removePreparation(s))}),v(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),g()()}2&t&&A("formGroupName",e.index)}function $0e(t,e){if(1&t&&(m(0,"option",45),v(1),g()),2&t){const n=e.$implicit;A("value",n.id),b(1),Je(" ",n.name," ")}}function H0e(t,e){1&t&&(m(0,"div",44),v(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0447\u0438\u043d\u0438\u044f! "),g())}function G0e(t,e){if(1&t&&(m(0,"div"),R(1,H0e,2,0,"div",43),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.recipeForm.get("food_plate"))||null==r.errors?null:r.errors.required)}}function z0e(t,e){1&t&&(m(0,"div",44),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),g())}function q0e(t,e){if(1&t&&(m(0,"div"),R(1,z0e,2,0,"div",43),g()),2&t){const n=z().index,r=z();let i;b(1),A("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function W0e(t,e){1&t&&(m(0,"div",44),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),g())}function K0e(t,e){if(1&t&&(m(0,"div"),R(1,W0e,2,0,"div",43),g()),2&t){const n=z().index,r=z();let i;b(1),A("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function Q0e(t,e){1&t&&(m(0,"div",44),v(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),g())}function Y0e(t,e){if(1&t&&(m(0,"div"),R(1,Q0e,2,0,"div",43),g()),2&t){const n=z().index,r=z();let i;b(1),A("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function X0e(t,e){if(1&t&&(m(0,"option",45),v(1),g()),2&t){const n=e.$implicit;A("value",n.id),b(1),Je(" ",n.title," ")}}function J0e(t,e){if(1&t&&(m(0,"div",46)(1,"div",50),k(2,"hr"),m(3,"p"),v(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),g(),k(5,"hr"),g(),m(6,"label",51),v(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),k(8,"input",52),R(9,q0e,2,1,"div",4),m(10,"label",53),v(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),k(12,"input",54),R(13,K0e,2,1,"div",4),m(14,"label",23),v(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),m(16,"p",6),v(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),g(),m(18,"select",24)(19,"option",25),v(20,"\u0413\u0440\u0430\u043c"),g(),m(21,"option",26),v(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),g(),m(23,"option",27),v(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),g(),m(25,"option",28),v(26,"\u041b\u0438\u0442\u044a\u0440"),g()(),R(27,Y0e,2,1,"div",4),m(28,"label",55),v(29,"\u0411\u0440\u043e\u0439\u043a\u0430: "),g(),m(30,"p",6),v(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),g(),k(32,"input",56),m(33,"label",57),v(34,"\u041c\u0435\u0442\u043e\u0434\u0438 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430: "),g(),m(35,"p",6),v(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0438\u0442\u0435, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),k(37,"br"),v(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),g(),k(39,"input",49),m(40,"label",58),v(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),g(),m(42,"p",6),v(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0447\u0430\u0441\u0442 \u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),g(),m(44,"select",59),R(45,X0e,2,2,"option",8),g(),m(46,"label",40),v(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),g(),m(48,"p",6),v(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),g(),k(50,"input",41),g()),2&t){const n=e.index,r=z();let i,s,o;A("formGroupName",n),b(9),A("ngIf",null==(i=r.recipeForm.get("ingredients."+n+".name"))?null:i.touched),b(4),A("ngIf",null==(s=r.recipeForm.get("ingredients."+n+".amount"))?null:s.touched),b(14),A("ngIf",null==(o=r.recipeForm.get("ingredients."+n+".unit"))?null:o.touched),b(18),A("ngForOf",r.baseRecipes)}}let Z0e=(()=>{class t{constructor(n,r,i,s){this.fb=r,this.baseRecipeService=i,this.categoriesService=s,this.allergens=[],this.plates=[],this.baseRecipes=[],this.categories=[],this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({title:["",[qe.required]],category:this.fb.control([null,[qe.required]]),description:["",[qe.required]],season:["",[qe.required]],unit:["",[qe.required]],summary:[""],release_time:[0],serving_value:[0],order_index:[0],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",food_plate:this.fb.control([null,[qe.required]]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[qe.required]],amount:[null,[qe.required]],base:this.fb.control(null),unit:["",[qe.required]],order_index:[0],preparation_method:[""],quantity:[0]})])}),this.getAllergens().subscribe(o=>{this.allergens=o}),this.getPlates().subscribe(o=>{this.plates=o})}ngOnInit(){this.getBaseRecipe(),this.getCategory()}addImage(){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addImageToForm(n){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[qe.required]],amount:[null,[qe.required]],base:this.fb.control(null),unit:["",[qe.required]],order_index:this.currentOrderIndex,preparation_method:[""],quantity:[0]})),this.currentOrderIndex++}addReferenceToSelectedAllergen(n){const r=n.target.value;this.recipeForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const n=this.recipeForm.get("selectedAllergen")?.value;this.recipeForm.get("allergens").push(this.fb.control(n));const i=this.recipeForm.get("selectedAllergenNames"),s=this.allergens.find(o=>o.id===n);s&&i?.setValue(i.value?i.value+", "+s.name:s.name)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.valid&&(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}getCategory(){this.categoriesService.getCategories().subscribe({next:n=>{this.categories=n},error:n=>{console.error("Error fetching recipes:",n)}})}getAllergens(){const r=qr(this.firestore,"Allergens");return new Le(i=>{ma(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getPlates(){const r=qr(this.firestore,"Plates");return new Le(i=>{ma(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n},error:n=>{console.error("Error fetching recipes:",n)}})}addRecipe(n){T0(qr(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(M(or),M(j0),M($0),M(m8))};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-recipe-form"]],decls:112,vars:16,consts:[[1,"mainLong"],[1,"title"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","category"],[1,"hint"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","selectedAllergen"],["formControlName","selectedAllergen"],["type","button",3,"click"],["class","hint",4,"ngIf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["for","base"],["id","base","formControlName","base"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"h1",1),v(2,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),g(),m(3,"form",2)(4,"label"),v(5," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),k(6,"input",3),g(),R(7,A0e,2,1,"div",4),m(8,"label",5),v(9,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),m(10,"p",6),v(11,"\u041a\u044a\u043c \u043a\u043e\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043f\u0440\u0435\u043d\u0430\u0434\u043b\u0435\u0436\u0438 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),g(),m(12,"select",7),R(13,S0e,2,2,"option",8),g(),R(14,x0e,2,1,"div",4),m(15,"div")(16,"label",9),v(17,"\u0420\u0435\u0437\u044e\u043c\u0435:"),g(),m(18,"p",6),v(19,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),g(),k(20,"input",10),g(),m(21,"div")(22,"label",11),v(23,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),k(24,"textarea",12),g(),R(25,R0e,2,1,"div",4),m(26,"div")(27,"label",13),v(28,"\u0421\u0435\u0437\u043e\u043d (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),m(29,"p",6),v(30,"\u0412 \u043a\u043e\u0439 \u0441\u0435\u0437\u043e\u043d \u0449\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),g(),m(31,"select",14)(32,"option",15),v(33,"\u041f\u0440\u043e\u043b\u0435\u0442"),g(),m(34,"option",16),v(35,"\u041b\u044f\u0442\u043e"),g(),m(36,"option",17),v(37,"\u0415\u0441\u0435\u043d"),g(),m(38,"option",18),v(39,"\u0417\u0438\u043c\u0430"),g()()(),R(40,P0e,2,1,"div",4),m(41,"div")(42,"label",19),v(43,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435: "),g(),m(44,"p",6),v(45,"\u0417\u0430 \u043a\u043e\u043b\u043a\u043e \u0432\u0440\u0435\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),g(),k(46,"input",20),g(),m(47,"div")(48,"label",21),v(49,"\u0413\u043e\u0442\u043e\u0432\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: "),g(),m(50,"p",6),v(51,"\u041a\u043e\u043b\u043a\u043e \u0442\u0435\u0436\u0438 \u0433\u043e\u0442\u043e\u0432\u043e\u0442\u043e \u044f\u0441\u0442\u0438\u0435?"),g(),k(52,"input",22),g(),k(53,"br"),m(54,"label",23),v(55,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),m(56,"p",6),v(57,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),g(),m(58,"select",24)(59,"option",25),v(60,"\u0413\u0440\u0430\u043c"),g(),m(61,"option",26),v(62,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),g(),m(63,"option",27),v(64,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),g(),m(65,"option",28),v(66,"\u041b\u0438\u0442\u044a\u0440"),g()(),R(67,F0e,2,1,"div",4),m(68,"div")(69,"label",29),v(70,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),g(),m(71,"p",6),v(72,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0430\u043b\u0435\u0440\u0433\u0435\u043d\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0441\u0430\u0434\u044a\u0440\u0436\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),g(),m(73,"select",30),R(74,L0e,2,2,"option",8),g(),m(75,"button",31),pe("click",function(){return i.addSelectedAllergen()}),v(76," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u0430\u043b\u0435\u0440\u0433\u0435\u043d "),g()(),m(77,"div"),R(78,V0e,2,0,"p",32),m(79,"div"),v(80),g(),m(81,"app-image-upload",33),pe("imageUploaded",function(o){return i.addImageToForm(o)}),g(),m(82,"div",34),R(83,B0e,6,1,"div",35),g(),m(84,"div",36),R(85,U0e,6,1,"div",35),m(86,"button",31),pe("click",function(){return i.addVideo()}),v(87," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),g()(),m(88,"div",37),R(89,j0e,6,1,"div",35),m(90,"button",31),pe("click",function(){return i.addPreparation()}),v(91," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),g()(),m(92,"label",38),v(93,"\u0427\u0438\u043d\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),m(94,"p",6),v(95,"\u0412 \u043a\u043e\u044f \u0447\u0438\u043d\u0438\u044f \u0449\u0435 \u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0440\u0430 \u044f\u0441\u0442\u0438\u0435\u0442\u043e?"),g(),m(96,"select",39),R(97,$0e,2,2,"option",8),g(),R(98,G0e,2,1,"div",4),m(99,"div")(100,"label",40),v(101,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),g(),m(102,"p",6),v(103,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u0438\u0442\u0435 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),g(),k(104,"input",41),g()(),m(105,"div",42),R(106,J0e,51,5,"div",35),g(),k(107,"br"),m(108,"button",31),pe("click",function(){return i.addIngredient()}),v(109," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),g(),m(110,"button",31),pe("click",function(){return i.onSubmit()}),v(111,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),g()()()),2&r){let s,o,a,u,c,l,d,h;b(3),A("formGroup",i.recipeForm),b(4),A("ngIf",null==(s=i.recipeForm.get("title"))?null:s.touched),b(6),A("ngForOf",i.categories),b(1),A("ngIf",null==(o=i.recipeForm.get("category"))?null:o.touched),b(11),A("ngIf",null==(a=i.recipeForm.get("description"))?null:a.touched),b(15),A("ngIf",null==(u=i.recipeForm.get("season"))?null:u.touched),b(27),A("ngIf",null==(c=i.recipeForm.get("unit"))?null:c.touched),b(7),A("ngForOf",i.allergens),b(4),A("ngIf",null==(l=i.recipeForm.get("selectedAllergen"))?null:l.touched),b(2),rt(null==(d=i.recipeForm.get("selectedAllergenNames"))?null:d.value),b(3),A("ngForOf",i.image_recipe.controls),b(2),A("ngForOf",i.video_recipe.controls),b(4),A("ngForOf",i.preparation_method.controls),b(8),A("ngForOf",i.plates),b(1),A("ngIf",null==(h=i.recipeForm.get("food_plate"))?null:h.touched),b(8),A("ngForOf",i.ingredients.controls)}},dependencies:[As,Hi,Vh,V0,B0,_a,Bh,kc,xh,Nh,va,Rc,Uh,jh,NA]})}return t})(),eye=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return E(function*(){const i=Sh(r.firestore,"Recipe",n),s=yield Mh(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(B(or))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vB=(()=>{class t{constructor(n){this.firestore=n,this.commentAddedSubject=new dr}getCommentsForRecipe(n){var r=this;return E(function*(){try{const i=qr(r.firestore,"Comments"),s=p8(i,g8("recipeId","==",n)),o=yield ma(s),a=[];return o.forEach(u=>{const c=u.data();a.push({create_time:c.create_time,name:c.name,recipeId:c.recipeId,text:c.text})}),a.sort((u,c)=>{const l=u.create_time.toDate();return c.create_time.toDate()-l}),a}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(n){var r=this;return E(function*(){try{n.name||(n.name="\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d");const i="Comments",s=yield T0(qr(r.firestore,i),n);return r.commentAddedSubject.next(),s.id}catch(i){return console.error("Error adding comment:",i),null}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||t)(B(or))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tye(t,e){1&t&&(m(0,"div",12),v(1," \u041c\u043e\u043b\u044f \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440! "),g())}function nye(t,e){if(1&t&&(m(0,"div"),R(1,tye,2,0,"div",11),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let rye=(()=>{class t{constructor(n,r,i){this.fb=n,this.commentService=i,this.timestamp=new Date,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",qe.required],recipeId:[this.recipeId],create_time:[this.timestamp]})}onSubmit(){var n=this;return E(function*(){if(n.timestamp=new Date,n.commentForm.valid){n.commentForm.patchValue({recipeId:n.recipeId}),n.commentForm.patchValue({create_time:n.timestamp});try{(yield n.commentService.addComment(n.commentForm.value))?(alert("\u0412\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"),n.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(M(j0),M(or),M(vB))};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:20,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","name"],[1,"hint"],["type","text","id","name","formControlName","name",1,"form-control"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"form",1),pe("ngSubmit",function(){return i.onSubmit()}),m(2,"div",2),k(3,"hr"),m(4,"p"),v(5,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0439\u0442\u0435\xa0\xa0"),g(),k(6,"hr"),g(),m(7,"div",3)(8,"label",4),v(9,"\u0418\u043c\u0435:"),g(),m(10,"p",5),v(11,'\u0410\u043a\u043e \u043d\u0435 \u043f\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u0435 \u0449\u0435 \u0441\u0442\u0435 "\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d"'),g(),k(12,"input",6),g(),m(13,"div",3)(14,"label",7),v(15,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),k(16,"textarea",8),g(),R(17,nye,2,1,"div",9),m(18,"button",10),v(19,"\u041f\u0443\u0431\u043b\u0438\u043a\u0443\u0432\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"),g()()()),2&r){let s;b(1),A("formGroup",i.commentForm),b(16),A("ngIf",null==(s=i.commentForm.get("text"))?null:s.touched)}},dependencies:[Hi,Vh,_a,xh,Nh,va,Rc],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--grayishOrangeColor);max-width:100%;border:unset}"]})}return t})(),EB=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){const r=n.split("/");return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r[r.length-1])}static#e=this.\u0275fac=function(r){return new(r||t)(M(hP,16))};static#t=this.\u0275pipe=_n({name:"safeUrl",type:t,pure:!0})}return t})();function iye(t,e){if(1&t&&(m(0,"div",21),v(1),g()),2&t){const n=z();b(1),Je(" ",null==n.recipe?null:n.recipe.summary," ")}}function sye(t,e){if(1&t&&(m(0,"li"),k(1,"img",24),g()),2&t){const n=e.$implicit;b(1),A("src",n.image_recipe,Za)}}function oye(t,e){if(1&t&&(m(0,"ul",22),R(1,sye,2,1,"li",23),g()),2&t){const n=z();b(1),A("ngForOf",null==n.recipe?null:n.recipe.image_recipe)}}function aye(t,e){if(1&t&&(m(0,"span",11),v(1),g()),2&t){const n=z(2);b(1),Je("\xa0",null==n.recipe?null:n.recipe.unit,"")}}function uye(t,e){if(1&t&&(m(0,"tr")(1,"td")(2,"span",10),v(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),g()(),m(4,"td")(5,"span",11),v(6),R(7,aye,2,1,"span",25),g()()()),2&t){const n=z();b(6),Je("",null==n.recipe?null:n.recipe.serving_value," "),b(1),A("ngIf",null==n.recipe?null:n.recipe.unit)}}function cye(t,e){if(1&t&&(m(0,"tr")(1,"td")(2,"span",10),v(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),g()(),m(4,"td")(5,"span",11),v(6),g()()()),2&t){const n=z();b(6),Je("",null==n.recipe?null:n.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function lye(t,e){if(1&t&&(m(0,"tr")(1,"td")(2,"span",10),v(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),g()(),m(4,"td")(5,"span",11),v(6),g()()()),2&t){const n=z();b(6),rt(null==n.recipe?null:n.recipe.selectedAllergenNames)}}function dye(t,e){1&t&&(m(0,"div",13),k(1,"hr"),m(2,"p"),v(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),g(),k(4,"hr"),g())}function hye(t,e){if(1&t&&(m(0,"span"),v(1),g()),2&t){const n=z(2).$implicit;b(1),rt(n.quantity)}}const fye=function(t){return["/base",t]};function pye(t,e){if(1&t&&(m(0,"span",11)(1,"a",5),v(2,"\xa0\xa0"),k(3,"i",28),g()()),2&t){const n=z(2).$implicit;b(1),A("routerLink",Io(1,fye,n.base))}}function gye(t,e){if(1&t&&(m(0,"span",10)(1,"i"),v(2),g()()),2&t){const n=z(2).$implicit;b(2),Je(" ",n.preparation_method,"")}}function mye(t,e){if(1&t&&(m(0,"li"),v(1),R(2,hye,2,1,"span",12),R(3,pye,4,3,"span",25),k(4,"br"),R(5,gye,3,1,"span",27),g()),2&t){const n=z().$implicit;b(1),vp(" ",n.name," - ",n.amount," ",n.unit," "),b(1),A("ngIf",n.quantity),b(1),A("ngIf",n.base),b(2),A("ngIf",n.preparation_method)}}function yye(t,e){if(1&t&&(m(0,"ul",26),R(1,mye,6,6,"li",12),g()),2&t){const n=z();b(1),A("ngIf",null==n.recipe?null:n.recipe.ingredients)}}function _ye(t,e){1&t&&(m(0,"div",13),k(1,"hr"),m(2,"p"),v(3,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),g(),k(4,"hr"),g())}function vye(t,e){if(1&t&&(m(0,"ul",29)(1,"li"),v(2),g()()),2&t){const n=e.$implicit;b(2),rt(n.preparation_method)}}function Eye(t,e){if(1&t&&(m(0,"li"),k(1,"iframe",31),Ip(2,"safeUrl"),g()),2&t){const n=e.$implicit;b(1),A("src",Uv(2,1,n.video_recipe),Wf)}}function wye(t,e){if(1&t&&(m(0,"div",30)(1,"div",13),k(2,"hr"),m(3,"p"),v(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),g(),k(5,"hr"),g(),k(6,"br"),m(7,"ul"),R(8,Eye,3,3,"li",23),g()()),2&t){const n=z();b(8),A("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}function Cye(t,e){if(1&t&&(m(0,"div"),k(1,"app-comment-form",32),g()),2&t){const n=z();b(1),A("recipeId",n.recipeId)}}function bye(t,e){1&t&&(m(0,"div",13),k(1,"hr"),m(2,"p"),v(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),g(),k(4,"hr"),g())}function Iye(t,e){if(1&t&&(m(0,"ul")(1,"li"),v(2),g(),m(3,"li"),v(4),g(),m(5,"p"),v(6),Ip(7,"date"),g()()),2&t){const n=e.$implicit;b(2),rt(n.name),b(2),rt(n.text),b(2),Je(" ",aR(7,3,n.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function Dye(t,e){if(1&t&&(m(0,"section",33),R(1,Iye,8,6,"ul",23),g()),2&t){const n=z();b(1),A("ngForOf",n.comments)}}const Tye=function(t){return["/category",t]};let Aye=(()=>{class t{constructor(n,r,i,s){var o=this;this.route=n,this.recipeService=r,this.firestore=i,this.commentService=s,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var a=E(function*(u){const c=u.get("id");if(o.recipeId=c,c)try{o.recipe=yield o.recipeService.getRecipeById(c),o.comments=yield s.getCommentsForRecipe(c),o.recipe?yield o.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(l){console.error("An error occurred while retrieving the recipe:",l)}else console.error("Recipe ID not provided.")});return function(u){return a.apply(this,arguments)}}()),s.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var n=this;return E(function*(){n.recipeId&&(n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId))})()}loadCategoryAndPlateData(){var n=this;return E(function*(){const r=n.recipe?.food_plate,i=n.recipe?.category;if(r){const s=Sh(n.firestore,"Plates/"+r),o=yield Mh(s);o.exists()&&(n.plate=o.data())}if(i){const s=Sh(n.firestore,"Category/"+i),o=yield Mh(s);o.exists()&&(n.category=o.data())}})()}static#e=this.\u0275fac=function(r){return new(r||t)(M(qi),M(eye),M(or),M(vB))};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-recipe"]],decls:50,vars:21,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],[4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],[3,"click"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-kitchen-set","fa-beat-fade"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"recipeId"],[1,"comments"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),v(3),g(),R(4,iye,2,1,"div",3),m(5,"div",4)(6,"a",5),k(7,"i",6),v(8),g()(),m(9,"div",7),R(10,oye,2,1,"ul",8),m(11,"table",9)(12,"tr")(13,"td")(14,"span",10),v(15,"\u0421\u0435\u0437\u043e\u043d"),g()(),m(16,"td")(17,"span",11),v(18),g()()(),R(19,uye,8,2,"tr",12),R(20,cye,7,1,"tr",12),m(21,"tr")(22,"td")(23,"span",10),v(24,"\u0427\u0438\u043d\u0438\u044f"),g()(),m(25,"td")(26,"span",11),v(27),g()()(),R(28,lye,7,1,"tr",12),g(),m(29,"div",13),k(30,"hr"),m(31,"p"),v(32,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),g(),k(33,"hr"),g(),k(34,"br"),m(35,"p",14),v(36),g(),k(37,"br"),R(38,dye,5,0,"div",15),k(39,"br"),R(40,yye,2,1,"ul",16),R(41,_ye,5,0,"div",15),k(42,"br"),R(43,vye,3,1,"ul",17),R(44,wye,9,1,"div",18),m(45,"button",19),pe("click",function(){return i.toggleCommentForm()}),v(46,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),g(),R(47,Cye,2,1,"div",12),R(48,bye,5,0,"div",15),R(49,Dye,2,1,"section",20),g()()()),2&r&&(b(3),rt(null==i.recipe?null:i.recipe.title),b(1),A("ngIf",null==i.recipe?null:i.recipe.summary),b(2),A("routerLink",Io(19,Tye,null==i.recipe?null:i.recipe.category)),b(2),Je(" ",null==i.category?null:i.category.name," "),b(2),A("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),b(8),rt(null==i.recipe?null:i.recipe.season),b(1),A("ngIf",null==i.recipe?null:i.recipe.serving_value),b(1),A("ngIf",null==i.recipe?null:i.recipe.release_time),b(7),rt(null==i.plate?null:i.plate.name),b(1),A("ngIf",null==i.recipe?null:i.recipe.selectedAllergenNames),b(8),Je(" ",null==i.recipe?null:i.recipe.description," "),b(2),A("ngIf",null==i.recipe?null:i.recipe.ingredients),b(2),A("ngForOf",null==i.recipe?null:i.recipe.ingredients),b(1),A("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),b(2),A("ngForOf",null==i.recipe?null:i.recipe.preparation_method),b(1),A("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),b(3),A("ngIf",i.showCommentForm),b(1),A("ngIf",i.comments.length>0),b(1),A("ngIf",i.comments.length>0))},dependencies:[As,Hi,Wi,rye,jk,EB],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:32px;text-align:center}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;text-decoration:none;color:var(--darkGrayColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--secondGreenColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--darkGrayColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--secondGreenColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.comments[_ngcontent-%COMP%]{border:1px solid var(--mainGrayColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--darkGrayColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--grayishOrangeColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainGrayColor);font-style:italic;border-radius:5px}"]})}return t})();function Sye(t,e){1&t&&(m(0,"div",34),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),g())}function Mye(t,e){if(1&t&&(m(0,"div"),R(1,Sye,2,0,"div",33),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.baseForm.get("title"))||null==r.errors?null:r.errors.required)}}function xye(t,e){1&t&&(m(0,"div",34),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),g())}function Nye(t,e){if(1&t&&(m(0,"div"),R(1,xye,2,0,"div",33),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.baseForm.get("base_type"))||null==r.errors?null:r.errors.required)}}function Rye(t,e){1&t&&(m(0,"div",34),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),g())}function kye(t,e){if(1&t&&(m(0,"div"),R(1,Rye,2,0,"div",33),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.baseForm.get("description"))||null==r.errors?null:r.errors.required)}}function Pye(t,e){1&t&&(m(0,"div",34),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),g())}function Oye(t,e){if(1&t&&(m(0,"div"),R(1,Pye,2,0,"div",33),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.baseForm.get("base_yield"))||null==r.errors?null:r.errors.required)}}function Fye(t,e){1&t&&(m(0,"div",34),v(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),g())}function Lye(t,e){if(1&t&&(m(0,"div"),R(1,Fye,2,0,"div",33),g()),2&t){const n=z();let r;b(1),A("ngIf",null==(r=n.baseForm.get("unit"))||null==r.errors?null:r.errors.required)}}function Vye(t,e){if(1&t&&(m(0,"option",35),v(1),g()),2&t){const n=e.$implicit;A("value",n.id),b(1),Je(" ",n.name," ")}}function Bye(t,e){1&t&&(m(0,"p",6),v(1," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438: "),g())}function Uye(t,e){if(1&t){const n=Li();m(0,"div",36)(1,"p",6),v(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),g(),k(3,"input",37),m(4,"button",25),pe("click",function(){const s=yr(n).index;return _r(z().removeImage(s))}),v(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),g()()}2&t&&A("formGroupName",e.index)}function jye(t,e){if(1&t){const n=Li();m(0,"div",36)(1,"p",6),v(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),g(),k(3,"input",38),m(4,"button",25),pe("click",function(){const s=yr(n).index;return _r(z().removeVideo(s))}),v(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),g()()}2&t&&A("formGroupName",e.index)}function $ye(t,e){if(1&t){const n=Li();m(0,"div",36)(1,"p",6),v(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),g(),k(3,"input",39),m(4,"button",25),pe("click",function(){const s=yr(n).index;return _r(z().removePreparation(s))}),v(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),g()()}2&t&&A("formGroupName",e.index)}function Hye(t,e){1&t&&(m(0,"div",34),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),g())}function Gye(t,e){if(1&t&&(m(0,"div"),R(1,Hye,2,0,"div",33),g()),2&t){const n=z().index,r=z();let i;b(1),A("ngIf",null==(i=r.baseForm.get("ingredients."+n+".name"))||null==i.errors?null:i.errors.required)}}function zye(t,e){1&t&&(m(0,"div",34),v(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),g())}function qye(t,e){if(1&t&&(m(0,"div"),R(1,zye,2,0,"div",33),g()),2&t){const n=z().index,r=z();let i;b(1),A("ngIf",null==(i=r.baseForm.get("ingredients."+n+".amount"))||null==i.errors?null:i.errors.required)}}function Wye(t,e){1&t&&(m(0,"div",34),v(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),g())}function Kye(t,e){if(1&t&&(m(0,"div"),R(1,Wye,2,0,"div",33),g()),2&t){const n=z().index,r=z();let i;b(1),A("ngIf",null==(i=r.baseForm.get("ingredients."+n+".unit"))||null==i.errors?null:i.errors.required)}}function Qye(t,e){if(1&t&&(m(0,"option",35),v(1),g()),2&t){const n=e.$implicit;A("value",n.id),b(1),Je(" ",n.title," ")}}function Yye(t,e){if(1&t&&(m(0,"div",36)(1,"div",40),k(2,"hr"),m(3,"p"),v(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),g(),k(5,"hr"),g(),m(6,"label",41),v(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),k(8,"input",42),R(9,Gye,2,1,"div",4),m(10,"label",43),v(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),k(12,"input",44),R(13,qye,2,1,"div",4),m(14,"label",14),v(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),m(16,"p",6),v(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),g(),m(18,"select",15)(19,"option",16),v(20,"\u0413\u0440\u0430\u043c"),g(),m(21,"option",17),v(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),g(),m(23,"option",18),v(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),g(),m(25,"option",19),v(26,"\u041b\u0438\u0442\u044a\u0440"),g()(),R(27,Kye,2,1,"div",4),m(28,"label",45),v(29,"\u0411\u0440\u043e\u0439\u043a\u0430:"),g(),m(30,"p",6),v(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),g(),k(32,"input",46),m(33,"label",47),v(34,"\u041c\u0435\u0442\u043e\u0434\u0438 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430:"),g(),m(35,"p",6),v(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0438\u0442\u0435, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),k(37,"br"),v(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),g(),k(39,"input",39),m(40,"label",48),v(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),g(),m(42,"p",6),v(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0447\u0430\u0441\u0442 \u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),g(),m(44,"select",49),R(45,Qye,2,2,"option",24),g(),m(46,"label",50),v(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),g(),m(48,"p",6),v(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),g(),k(50,"input",51),g()),2&t){const n=e.index,r=z();let i,s,o;A("formGroupName",n),b(9),A("ngIf",null==(i=r.baseForm.get("ingredients."+n+".name"))?null:i.touched),b(4),A("ngIf",null==(s=r.baseForm.get("ingredients."+n+".amount"))?null:s.touched),b(14),A("ngIf",null==(o=r.baseForm.get("ingredients."+n+".unit"))?null:o.touched),b(18),A("ngForOf",r.baseRecipes)}}let Xye=(()=>{class t{constructor(n,r,i){this.fb=r,this.baseRecipeService=i,this.allergens=[],this.baseRecipes=[],this.currentOrderIndex=1,this.firestore=n,this.baseForm=this.fb.group({title:["",[qe.required]],base_type:["",[qe.required]],summary:[""],description:["",[qe.required]],base_yield:["",[qe.required]],unit:["",[qe.required]],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",base_recipe_portions:[0],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[qe.required]],amount:[null,[qe.required]],base:this.fb.control(null),unit:["",[qe.required]],order_index:[0],preparation_method:"",quantity:[0]})])}),this.getAllergens().subscribe(s=>{this.allergens=s})}ngOnInit(){this.getBaseRecipe()}addImage(){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(n){this.baseForm.get("image_recipe").removeAt(n)}addImageToForm(n){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}addVideo(){this.baseForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.baseForm.get("video_recipe").removeAt(n)}addPreparation(){this.baseForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.baseForm.get("preparation_method").removeAt(n)}addIngredient(){this.baseForm.get("ingredients").push(this.fb.group({name:["",[qe.required]],amount:[null,[qe.required]],base:this.fb.control(null),order_index:this.currentOrderIndex,preparation_method:"",quantity:[0],unit:["",[qe.required]]})),this.currentOrderIndex++}addReferenceToSelectedAllergen(n){const r=n.target.value;this.baseForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const n=this.baseForm.get("selectedAllergen")?.value;this.baseForm.get("allergens").push(this.fb.control(n));const i=this.baseForm.get("selectedAllergenNames"),s=this.allergens.find(o=>o.id===n);s&&i?.setValue(i.value?i.value+", "+s.name:s.name)}onIsBaseChange(){const n=this.baseForm.get("ingredients");this.isBaseControl=n.value[0].is_base}get ingredients(){return this.baseForm.get("ingredients")}get image_recipe(){return this.baseForm.get("image_recipe")}get video_recipe(){return this.baseForm.get("video_recipe")}get preparation_method(){return this.baseForm.get("preparation_method")}onSubmit(){this.baseForm.valid&&(this.addBaseRecipe(this.baseForm.value),this.baseForm.reset())}getAllergens(){const r=qr(this.firestore,"Allergens");return new Le(i=>{ma(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n},error:n=>{console.error("Error fetching recipes:",n)}})}addBaseRecipe(n){T0(qr(this.firestore,"BaseRecipe"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(M(or),M(j0),M($0))};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-base-form"]],decls:85,vars:13,consts:[[1,"mainLong"],[1,"title"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","base_recipe_portions"],["type","number","id","base_recipe_portions","formControlName","base_recipe_portions"],["for","selectedAllergen"],["formControlName","selectedAllergen"],[3,"value",4,"ngFor","ngForOf"],["type","button",3,"click"],["class","hint",4,"ngIf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["for","base"],["id","base","formControlName","base"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"h1",1),v(2,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),g(),m(3,"form",2)(4,"label"),v(5," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),k(6,"input",3),g(),R(7,Mye,2,1,"div",4),m(8,"div")(9,"label",5),v(10,"\u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),m(11,"p",6),v(12,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),g(),k(13,"input",7),g(),R(14,Nye,2,1,"div",4),m(15,"div")(16,"label",8),v(17,"\u0420\u0435\u0437\u044e\u043c\u0435:"),g(),m(18,"p",6),v(19,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),g(),k(20,"input",9),g(),m(21,"div")(22,"label",10),v(23,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),k(24,"textarea",11),g(),R(25,kye,2,1,"div",4),m(26,"div")(27,"label",12),v(28,"\u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),m(29,"p",6),v(30,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043e\u0441\u043d\u043e\u0432\u0430"),g(),k(31,"input",13),g(),R(32,Oye,2,1,"div",4),m(33,"label",14),v(34,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),g(),m(35,"p",6),v(36,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),g(),m(37,"select",15)(38,"option",16),v(39,"\u0413\u0440\u0430\u043c"),g(),m(40,"option",17),v(41,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),g(),m(42,"option",18),v(43,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),g(),m(44,"option",19),v(45,"\u041b\u0438\u0442\u044a\u0440"),g()(),R(46,Lye,2,1,"div",4),m(47,"div")(48,"label",20),v(49,"\u041f\u043e\u0440\u0446\u0438\u0439: "),g(),m(50,"p",6),v(51,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),g(),k(52,"input",21),g(),m(53,"div")(54,"div")(55,"label",22),v(56,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),g(),m(57,"p",6),v(58,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0430\u043b\u0435\u0440\u0433\u0435\u043d\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0441\u0430\u0434\u044a\u0440\u0436\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),g(),m(59,"select",23),R(60,Vye,2,2,"option",24),g(),m(61,"button",25),pe("click",function(){return i.addSelectedAllergen()}),v(62," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u0430\u043b\u0435\u0440\u0433\u0435\u043d "),g()(),m(63,"div"),R(64,Bye,2,0,"p",26),m(65,"div"),v(66),g()(),m(67,"app-image-upload",27),pe("imageUploaded",function(o){return i.addImageToForm(o)}),g(),m(68,"div",28),R(69,Uye,6,1,"div",29),g(),m(70,"div",30),R(71,jye,6,1,"div",29),m(72,"button",25),pe("click",function(){return i.addVideo()}),v(73," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),g()(),m(74,"div",31),R(75,$ye,6,1,"div",29),m(76,"button",25),pe("click",function(){return i.addPreparation()}),v(77," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),g()()(),m(78,"div",32),R(79,Yye,51,5,"div",29),g(),k(80,"br"),m(81,"button",25),pe("click",function(){return i.addIngredient()}),v(82," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),g(),m(83,"button",25),pe("click",function(){return i.onSubmit()}),v(84," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 "),g()()()),2&r){let s,o,a,u,c,l,d;b(3),A("formGroup",i.baseForm),b(4),A("ngIf",null==(s=i.baseForm.get("title"))?null:s.touched),b(7),A("ngIf",null==(o=i.baseForm.get("base_type"))?null:o.touched),b(11),A("ngIf",null==(a=i.baseForm.get("description"))?null:a.touched),b(7),A("ngIf",null==(u=i.baseForm.get("base_yield"))?null:u.touched),b(14),A("ngIf",null==(c=i.baseForm.get("unit"))?null:c.touched),b(14),A("ngForOf",i.allergens),b(4),A("ngIf",null==(l=i.baseForm.get("selectedAllergen"))?null:l.touched),b(2),rt(null==(d=i.baseForm.get("selectedAllergenNames"))?null:d.value),b(3),A("ngForOf",i.image_recipe.controls),b(2),A("ngForOf",i.video_recipe.controls),b(4),A("ngForOf",i.preparation_method.controls),b(4),A("ngForOf",i.ingredients.controls)}},dependencies:[As,Hi,Vh,V0,B0,_a,Bh,kc,xh,Nh,va,Rc,Uh,jh,NA]})}return t})();function Jye(t,e){if(1&t&&(m(0,"div")(1,"div",10),k(2,"hr"),m(3,"p"),v(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),g(),k(5,"hr"),g(),k(6,"br"),m(7,"div",11),v(8),g()()),2&t){const n=z();b(8),rt(null==n.base?null:n.base.summary)}}function Zye(t,e){if(1&t&&(m(0,"li"),k(1,"img",14),g()),2&t){const n=e.$implicit;b(1),A("src",n.image_recipe,Za)}}function e_e(t,e){if(1&t&&(m(0,"ul",12),R(1,Zye,2,1,"li",13),g()),2&t){const n=z();b(1),A("ngForOf",null==n.base?null:n.base.image_recipe)}}function t_e(t,e){if(1&t&&(m(0,"div",15)(1,"div",10),k(2,"hr"),m(3,"p"),v(4,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),g(),k(5,"hr"),g(),k(6,"br"),m(7,"p",16),v(8),g()()),2&t){const n=z();b(8),rt(null==n.base?null:n.base.description)}}function n_e(t,e){if(1&t&&(m(0,"span"),v(1),g()),2&t){const n=z().$implicit;b(1),Je("(",n.quantity," \u0431\u0440.)")}}const r_e=function(t){return["/base",t]};function i_e(t,e){if(1&t&&(m(0,"li")(1,"a",19),v(2,"Base Link"),g()()),2&t){const n=z().$implicit;b(1),A("routerLink",Io(1,r_e,n.base))}}function s_e(t,e){if(1&t&&(m(0,"li")(1,"span",8),v(2),g()()),2&t){const n=z().$implicit;b(2),Je(" ",n.preparation_method," ")}}function o_e(t,e){1&t&&k(0,"hr")}function a_e(t,e){if(1&t&&(m(0,"ul",18)(1,"li"),v(2),R(3,n_e,2,1,"span",3),g(),R(4,i_e,3,3,"li",3),R(5,s_e,3,1,"li",3),R(6,o_e,1,0,"hr",3),k(7,"hr"),g()),2&t){const n=e.$implicit;b(2),vp(" ",n.name," - ",n.amount," ",n.unit," "),b(1),A("ngIf",n.quantity),b(1),A("ngIf",n.base),b(1),A("ngIf",n.preparation_method),b(1),A("ngIf",n.name||n.preparation_method)}}function u_e(t,e){if(1&t&&(m(0,"div")(1,"div",10),k(2,"hr"),m(3,"p"),v(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),g(),k(5,"hr"),g(),k(6,"br"),R(7,a_e,8,7,"ul",17),g()),2&t){const n=z();b(7),A("ngForOf",null==n.base?null:n.base.ingredients)}}function c_e(t,e){if(1&t&&(m(0,"ul",21)(1,"li"),v(2),g()()),2&t){const n=e.$implicit;b(2),rt(n.preparation_method)}}function l_e(t,e){if(1&t&&(m(0,"div")(1,"div",10),k(2,"hr"),m(3,"p"),v(4,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),g(),k(5,"hr"),g(),k(6,"br"),R(7,c_e,3,1,"ul",20),g()),2&t){const n=z();b(7),A("ngForOf",null==n.base?null:n.base.preparation_method)}}function d_e(t,e){if(1&t&&(m(0,"tr")(1,"td")(2,"span",7),v(3,"\u041f\u043e\u0440\u0446\u0438\u0439"),g()(),m(4,"td")(5,"span",8),v(6),g()()()),2&t){const n=z();b(6),Je("",null==n.base?null:n.base.base_recipe_portions," \xa0 \u0431\u0440. ")}}function h_e(t,e){if(1&t&&(m(0,"span",8),v(1),g()),2&t){const n=z(2);b(1),Je("\xa0",null==n.base?null:n.base.unit,"")}}function f_e(t,e){if(1&t&&(m(0,"tr")(1,"td")(2,"span",7),v(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),g()(),m(4,"td")(5,"span",8),v(6),R(7,h_e,2,1,"span",22),g()()()),2&t){const n=z();b(6),Je("",null==n.base?null:n.base.base_yield," "),b(1),A("ngIf",null==n.base?null:n.base.unit)}}function p_e(t,e){if(1&t&&(m(0,"tr")(1,"td")(2,"span",7),v(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),g()(),m(4,"td")(5,"span",8),v(6),g()()()),2&t){const n=z();b(6),rt(null==n.base?null:n.base.selectedAllergenNames)}}function g_e(t,e){if(1&t&&(m(0,"li"),k(1,"iframe",24),Ip(2,"safeUrl"),g()),2&t){const n=e.$implicit;b(1),A("src",Uv(2,1,n.video_recipe),Wf)}}function m_e(t,e){if(1&t&&(m(0,"div",23)(1,"div",10),k(2,"hr"),m(3,"p"),v(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),g(),k(5,"hr"),g(),k(6,"br"),m(7,"ul"),R(8,g_e,3,3,"li",13),g()()),2&t){const n=z();b(8),A("ngForOf",null==n.base?null:n.base.video_recipe)}}let y_e=(()=>{class t{constructor(n,r){var i=this;this.route=n,this.baseRecipeService=r,this.base=null,this.route.paramMap.subscribe(function(){var s=E(function*(o){const a=o.get("id");if(a)try{i.base=yield i.baseRecipeService.getBaseById(a)}catch(u){console.error("An error occurred while retrieving the recipe:",u)}else console.error("Recipe ID not provided.")});return function(o){return s.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||t)(M(qi),M($0))};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-base-recipe"]],decls:22,vars:11,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title"],[4,"ngIf"],["class","recipe-image",4,"ngIf"],["class","recipe-description",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["class","recipe-videos",4,"ngIf"],[1,"divider"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-description"],[1,"recipe-description-text"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],[3,"routerLink"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-preparation-method"],["class","value",4,"ngIf"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h1",2),v(3),g(),R(4,Jye,9,1,"div",3),R(5,e_e,2,1,"ul",4),R(6,t_e,9,1,"div",5),R(7,u_e,8,1,"div",3),R(8,l_e,8,1,"div",3),m(9,"table",6)(10,"tr")(11,"td")(12,"span",7),v(13,"\u0422\u0438\u043f"),g()(),m(14,"td")(15,"span",8),v(16),g()()(),R(17,d_e,7,1,"tr",3),R(18,f_e,8,2,"tr",3),R(19,p_e,7,1,"tr",3),g(),R(20,m_e,9,1,"div",9),g(),k(21,"br"),g()),2&r&&(b(3),rt(null==i.base?null:i.base.title),b(1),A("ngIf",null==i.base?null:i.base.summary),b(1),A("ngIf",(null==i.base?null:i.base.image_recipe)&&(null==i.base||null==i.base.image_recipe?null:i.base.image_recipe.length)>0),b(1),A("ngIf",null==i.base?null:i.base.description),b(1),A("ngIf",null==i.base?null:i.base.ingredients),b(1),A("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),b(8),rt(null==i.base?null:i.base.base_type),b(1),A("ngIf",null==i.base?null:i.base.base_recipe_portions),b(1),A("ngIf",null==i.base?null:i.base.base_yield),b(1),A("ngIf",null==i.base?null:i.base.selectedAllergenNames),b(1),A("ngIf",(null==i.base?null:i.base.video_recipe)&&(null==i.base||null==i.base.video_recipe?null:i.base.video_recipe.length)>0))},dependencies:[As,Hi,Wi,EB],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;text-decoration:none;color:var(--mainGreenColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;list-style:inside}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainGreenColor);text-decoration:none}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return t})();const __e=function(t){return["/base",t]};function v_e(t,e){if(1&t&&(m(0,"div")(1,"a",4)(2,"div",5)(3,"h3"),v(4),g()()()()),2&t){const n=e.$implicit;b(1),A("routerLink",Io(2,__e,n.id)),b(3),rt(n.title)}}const E_e=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Cne},{path:"chefs",component:bme},{path:"waiters",component:Ime},{path:"add-category",component:C0e},{path:"add-recipe",component:Z0e},{path:"add-base",component:Xye},{path:"base/:id",component:y_e},{path:"base",component:(()=>{class t{constructor(n){this.baseRecipeService=n,this.baseRecipes=[]}ngOnInit(){this.getBaseRecipes()}getBaseRecipes(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n.sort((r,i)=>r.title.localeCompare(i.title))},error:n=>{console.error("Error fetching categories:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(M($0))};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-list-base"]],decls:5,vars:1,consts:[[1,"mainLong"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"h1",1),v(2,"\u0411\u0430\u0437\u043e\u0432\u0438 \u0420\u0435\u0446\u0435\u043f\u0442\u0438"),g(),m(3,"div",2),R(4,v_e,5,4,"div",3),g()()),2&r&&(b(4),A("ngForOf",i.baseRecipes))},dependencies:[As,Wi],styles:[".recipe-list[_ngcontent-%COMP%]{width:800px;margin:0 auto;padding:20px 50px;display:grid;grid-template-columns:repeat(2,1fr);column-gap:20px}.recipe-item[_ngcontent-%COMP%]{background-color:var(--mainWhiteColor);border:1px solid var(--mainGreyColor);border-radius:5px;margin:10px 0;text-align:center;padding:20px;transition:transform .2s}.recipe-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin:0}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}a[_ngcontent-%COMP%]{color:var(--mainBlackColor)}a[_ngcontent-%COMP%]:hover{background-color:var(--mainGreyColor)}@media (max-width: 1024px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}}"]})}return t})()},{path:"category/:id",component:D0e},{path:"recipe/:id",component:Aye}];let w_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({imports:[pg.forRoot(E_e),pg]})}return t})();function C_e(t,e){if(1&t){const n=Li();m(0,"div",11),pe("click",function(){return yr(n),_r(z().closeMenu())}),m(1,"a",12),pe("click",function(){return yr(n),_r(z().handleMenuItemClick("Link 1"))}),v(2,"Add Base"),g(),m(3,"a",13),pe("click",function(){return yr(n),_r(z().handleMenuItemClick("Link 2"))}),v(4,"Add Recipe"),g(),m(5,"a",14),pe("click",function(){return yr(n),_r(z().handleMenuItemClick("Link 3"))}),v(6,"Add Category"),g()()}}let b_e=(()=>{class t{constructor(){this.isMenuOpen=!1}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}handleMenuItemClick(n){console.log("Clicked on "+n),this.closeMenu()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-header"]],decls:18,vars:1,consts:[[1,"header"],[1,"wrapper"],[1,"logo"],["routerLink","/home"],[1,"navigation"],["routerLink","/chefs"],["routerLink","/base"],[1,"dropdown"],[1,"dropbtn",3,"click"],[1,"fa","fa-caret-down"],["class","dropdown-content",3,"click",4,"ngIf"],[1,"dropdown-content",3,"click"],["href","#","routerLink","/add-base",3,"click"],["href","#","routerLink","/add-recipe",3,"click"],["href","#","routerLink","/add-category",3,"click"]],template:function(r,i){1&r&&(m(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),v(4,"Chefs Talks"),g()(),m(5,"nav",4)(6,"ul")(7,"li")(8,"a",5),v(9,"Chefs"),g()(),m(10,"li")(11,"a",6),v(12,"Base"),g()(),m(13,"div",7)(14,"button",8),pe("click",function(){return i.toggleMenu()}),v(15," Add "),k(16,"i",9),g(),R(17,C_e,7,0,"div",10),g()()()()()),2&r&&(b(17),A("ngIf",i.isMenuOpen))},dependencies:[Hi,Wi],styles:[".header[_ngcontent-%COMP%]{height:8vh;background-color:var(--mainGreenColor);color:var(--mainWhiteColor);padding:20px}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1440px;display:flex;justify-content:space-between;align-items:center;margin:0 auto}.logo[_ngcontent-%COMP%]{font-size:32px;font-weight:900;text-decoration:underline}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainWhiteColor)}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropbtn[_ngcontent-%COMP%]{all:unset}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:-3px;background-color:var(--mainGreenColor);min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainBlackColor);padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--mainGrayColor)}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%]{color:var(--mainBlackColor)}@media (max-width: 460px){.header[_ngcontent-%COMP%]{height:unset}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1440px;display:flex;flex-direction:column}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{width:80%}.logo[_ngcontent-%COMP%]{font-size:26px;font-weight:600}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{width:80%}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{width:80%}}"]})}return t})(),I_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(r,i){1&r&&(m(0,"footer",0)(1,"p"),v(2,"\xa9 2023 Shefs Talks"),g()())},styles:[".footer[_ngcontent-%COMP%]{height:5vh;background-color:var(--secondGreenColor);color:var(--mainWhiteColor);text-align:center;padding:10px}"]})}return t})(),D_e=(()=>{class t{constructor(){this.title="chefs-talks"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ot({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&k(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[oE,b_e,I_e]})}return t})(),T_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({imports:[R4,pg]})}return t})();class H0{}class G0{}class Ci{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ci?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ci;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ci?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class A_e{encodeKey(e){return wB(e)}encodeValue(e){return wB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const M_e=/%(\d[a-f0-9])/gi,x_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wB(t){return encodeURIComponent(t).replace(M_e,(e,n)=>x_e[n]??e)}function z0(t){return`${t}`}class io{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new A_e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function S_e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(z0):[z0(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new io({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(z0(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(z0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class N_e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function CB(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function bB(t){return typeof Blob<"u"&&t instanceof Blob}function IB(t){return typeof FormData<"u"&&t instanceof FormData}class $h{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function R_e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ci),this.context||(this.context=new N_e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new io,this.urlWithParams=n}serializeBody(){return null===this.body?null:CB(this.body)||bB(this.body)||IB(this.body)||function k_e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof io?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||IB(this.body)?null:bB(this.body)?this.body.type||null:CB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof io?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new $h(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var Pc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Pc||{});class RA{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ci,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class kA extends RA{constructor(e={}){super(e),this.type=Pc.ResponseHeader}clone(e={}){return new kA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Oc extends RA{constructor(e={}){super(e),this.type=Pc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Oc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class DB extends RA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function PA(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let P_e=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof $h)s=n;else{let u,c;u=i.headers instanceof Ci?i.headers:new Ci(i.headers),i.params&&(c=i.params instanceof io?i.params:new io({fromObject:i.params})),s=new $h(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ee(s).pipe(Tu(u=>this.handler.handle(u)));if(n instanceof $h||"events"===i.observe)return o;const a=o.pipe(Gi(u=>u instanceof Oc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Te(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Te(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Te(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Te(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new io).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,PA(i,r))}post(n,r,i={}){return this.request("POST",n,PA(i,r))}put(n,r,i={}){return this.request("PUT",n,PA(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(B(H0))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function SB(t,e){return e(t)}function F_e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const V_e=new j(""),Hh=new j(""),MB=new j("");function B_e(){let t=null;return(e,n)=>{null===t&&(t=(H(V_e,{optional:!0})??[]).reduceRight(F_e,SB));const r=H(Sp),i=r.add();return t(e,n).pipe($l(()=>r.remove(i)))}}let xB=(()=>{class t extends H0{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=H(Sp)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Hh),...this.injector.get(MB,[])]));this.chain=i.reduceRight((s,o)=>function L_e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(s,o,this.injector),SB)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe($l(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(B(G0),B(Qn))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const H_e=/^\)\]\}',?\n/;let RB=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new T(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?St(r.\u0275loadImpl()):ee(null)).pipe(Nr(()=>new Le(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((y,_)=>o.setRequestHeader(y,_.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const y=n.detectContentTypeHeader();null!==y&&o.setRequestHeader("Content-Type",y)}if(n.responseType){const y=n.responseType.toLowerCase();o.responseType="json"!==y?y:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const y=o.statusText||"OK",_=new Ci(o.getAllResponseHeaders()),C=function G_e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return u=new kA({headers:_,status:o.status,statusText:y,url:C}),u},l=()=>{let{headers:y,status:_,statusText:C,url:w}=c(),S=null;204!==_&&(S=typeof o.response>"u"?o.responseText:o.response),0===_&&(_=S?200:0);let O=_>=200&&_<300;if("json"===n.responseType&&"string"==typeof S){const G=S;S=S.replace(H_e,"");try{S=""!==S?JSON.parse(S):null}catch(X){S=G,O&&(O=!1,S={error:X,text:S})}}O?(s.next(new Oc({body:S,headers:y,status:_,statusText:C,url:w||void 0})),s.complete()):s.error(new DB({error:S,headers:y,status:_,statusText:C,url:w||void 0}))},d=y=>{const{url:_}=c(),C=new DB({error:y,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});s.error(C)};let h=!1;const f=y=>{h||(s.next(c()),h=!0);let _={type:Pc.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(_.total=y.total),"text"===n.responseType&&o.responseText&&(_.partialText=o.responseText),s.next(_)},p=y=>{let _={type:Pc.UploadProgress,loaded:y.loaded};y.lengthComputable&&(_.total=y.total),s.next(_)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Pc.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(B(zk))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const OA=new j("XSRF_ENABLED"),kB=new j("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),PB=new j("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class OB{}let W_e=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ok(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt),B(Ri),B(kB))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function K_e(t,e){const n=t.url.toLowerCase();if(!H(OA)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=H(OB).getToken(),i=H(PB);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var so=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(so||{});function Q_e(...t){const e=[P_e,RB,xB,{provide:H0,useExisting:xB},{provide:G0,useExisting:RB},{provide:Hh,useValue:K_e,multi:!0},{provide:OA,useValue:!0},{provide:OB,useClass:W_e}];for(const n of t)e.push(...n.\u0275providers);return function R_(t){return{\u0275providers:t}}(e)}const FB=new j("LEGACY_INTERCEPTOR_FN");function Y_e(){return function wa(t,e){return{\u0275kind:t,\u0275providers:e}}(so.LegacyInterceptors,[{provide:FB,useFactory:B_e},{provide:Hh,useExisting:FB,multi:!0}])}let X_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({providers:[Q_e(Y_e())]})}return t})();nr("firebase","10.5.2","app");const LB_firebaseConfig={apiKey:"AIzaSyBqXpKb2qj9VKAYX_DOaOyGV6e-lsUhxG8",authDomain:"chefs-talks.firebaseapp.com",projectId:"chefs-talks",storageBucket:"chefs-talks.appspot.com",messagingSenderId:"821574305127",appId:"1:821574305127:web:1ec43d2f164a6f2c151bc2",measurementId:"G-96713DEB05"};!function KO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Yi.create("bad-app-name",{appName:String(i)});if(n||(n=yE()),!n)throw Yi.create("no-options");const s=Lo.get(i);if(s){if(id(n,s.options)&&id(r,s.config))return s;throw Yi.create("duplicate-app",{appName:i})}const o=new MO(i);for(const u of bg.values())o.addComponent(u);const a=new Nie(n,r,o);return Lo.set(i,a),a}(LB_firebaseConfig);let VB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({imports:[R4,_B]})}return t})(),sve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Pt({imports:[[]]}),t})();class BB{}class ove{}const fs="*";function UB(t,e=null){return{type:2,steps:t,options:e}}function jB(t){return{type:6,styles:t,offset:null}}class Gh{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class $B{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function HB(t){return new T(3e3,!1)}function oo(t){switch(t.length){case 0:return new Gh;case 1:return t[0];default:return new $B(t)}}function GB(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const c=u.get("offset"),l=c==o,d=l&&a||new Map;u.forEach((h,f)=>{let p=f,y=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),y){case"!":y=n.get(f);break;case fs:y=r.get(f);break;default:y=t.normalizeStyleValue(f,p,y,i)}d.set(p,y)}),l||s.push(d),a=d,o=c}),i.length)throw function Mve(t){return new T(3502,!1)}();return s}function LA(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&VA(n,"start",t)));break;case"done":t.onDone(()=>r(n&&VA(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&VA(n,"destroy",t)))}}function VA(t,e,n){const s=BA(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function BA(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ar(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function zB(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const jve=(()=>typeof document>"u"?null:document.documentElement)();function UA(t){const e=t.parentNode||t.host||null;return e===jve?null:e}let Ca=null,qB=!1;function WB(t,e){for(;e;){if(e===t)return!0;e=UA(e)}return!1}function KB(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let QB=(()=>{class t{validateStyleProperty(n){return function Hve(t){Ca||(Ca=function Gve(){return typeof document<"u"?document.body:null}()||{},qB=!!Ca.style&&"WebkitAppearance"in Ca.style);let e=!0;return Ca.style&&!function $ve(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ca.style,!e&&qB&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ca.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return WB(n,r)}getParentElement(n){return UA(n)}query(n,r,i){return KB(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new Gh(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),jA=(()=>{class t{static#e=this.NOOP=new QB}return t})();const zve=1e3,$A="ng-enter",W0="ng-leave",K0="ng-trigger",Q0=".ng-trigger",XB="ng-animating",HA=".ng-animating";function ps(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:GA(parseFloat(e[1]),e[2])}function GA(t,e){return"s"===e?t*zve:t}function Y0(t,e,n){return t.hasOwnProperty("duration")?t:function Wve(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(HB()),{duration:0,delay:0,easing:""};i=GA(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=GA(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function ave(){return new T(3100,!1)}()),a=!0),s<0&&(e.push(function uve(){return new T(3101,!1)}()),a=!0),a&&e.splice(u,0,HB())}return{duration:i,delay:s,easing:o}}(t,e,n)}function zh(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function JB(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function ao(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function bi(t,e,n){e.forEach((r,i)=>{const s=qA(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function ba(t,e){e.forEach((n,r)=>{const i=qA(r);t.style[i]=""})}function qh(t){return Array.isArray(t)?1==t.length?t[0]:UB(t):t}const zA=new RegExp("{{\\s*(.+?)\\s*}}","g");function eU(t){let e=[];if("string"==typeof t){let n;for(;n=zA.exec(t);)e.push(n[1]);zA.lastIndex=0}return e}function Wh(t,e,n){const r=t.toString(),i=r.replace(zA,(s,o)=>{let a=e[o];return null==a&&(n.push(function lve(t){return new T(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function X0(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Yve=/-+([a-z0-9])/g;function qA(t){return t.replace(Yve,(...e)=>e[1].toUpperCase())}function ur(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function dve(t){return new T(3004,!1)}()}}function tU(t,e){return window.getComputedStyle(t)[e]}const J0="*";function Zve(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function e4e(t,e,n){if(":"==t[0]){const u=function t4e(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Dve(t){return new T(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function Ive(t){return new T(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(nU(i,o));"<"==s[0]&&!(i==J0&&o==J0)&&e.push(nU(o,i))}(r,n,e)):n.push(t),n}const Z0=new Set(["true","1"]),ey=new Set(["false","0"]);function nU(t,e){const n=Z0.has(t)||ey.has(t),r=Z0.has(e)||ey.has(e);return(i,s)=>{let o=t==J0||t==i,a=e==J0||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Z0.has(t):ey.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Z0.has(e):ey.has(e)),o&&a}}const n4e=new RegExp("s*:selfs*,?","g");function WA(t,e,n,r){return new r4e(t).build(e,n,r)}class r4e{constructor(e){this._driver=e}build(e,n,r){const i=new o4e(n);return this._resetContextStyleTimingState(i),ur(this,qh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function fve(){return new T(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(l=>{u.name=l,s.push(this.visitState(u,n))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function pve(){return new T(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{eU(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(X0(s.values()),n.errors.push(function gve(t,e){return new T(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=ur(this,qh(e.animation),n);return{type:1,matchers:Zve(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Ia(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>ur(this,r,n)),options:Ia(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=ur(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:Ia(e.options)}}visitAnimate(e,n){const r=function u4e(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return KA(Y0(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=KA(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=Y0(n,e);return KA(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:jB({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=jB(c)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===fs?r.push(a):n.errors.push(new T(3002,!1)):r.push(JB(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=n.collectedStyles.get(n.currentQuerySelector),l=c.get(u);let d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(function yve(t,e,n,r,i){return new T(3010,!1)}()),d=!1),s=l.startTime),d&&c.set(u,{startTime:s,endTime:i}),n.options&&function Qve(t,e,n){const r=e.params||{},i=eU(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function cve(t){return new T(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function _ve(){return new T(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const l=e.steps.map(C=>{const w=this._makeStyleAst(C,n);let S=null!=w.offset?w.offset:function a4e(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(w.styles),O=0;return null!=S&&(s++,O=w.offset=S),u=u||O<0||O>1,a=a||O<c,c=O,o.push(O),w});u&&n.errors.push(function vve(){return new T(3012,!1)}()),a&&n.errors.push(function Eve(){return new T(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function wve(){return new T(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,y=n.currentAnimateTimings,_=y.duration;return l.forEach((C,w)=>{const S=h>0?w==f?1:h*w:o[w],O=S*_;n.currentTime=p+y.delay+O,y.duration=O,this._validateStyleAst(C,n),C.offset=S,r.styles.push(C)}),r}visitReference(e,n){return{type:8,animation:ur(this,qh(e.animation),n),options:Ia(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Ia(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Ia(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function i4e(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(n4e,"")),t=t.replace(/@\*/g,Q0).replace(/@\w+/g,n=>Q0+"-"+n.slice(1)).replace(/:animating/g,HA),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,ar(n.collectedStyles,n.currentQuerySelector,new Map);const a=ur(this,qh(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ia(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Cve(){return new T(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Y0(e.timings,n.errors,!0);return{type:12,animation:ur(this,qh(e.animation),n),timings:r,options:null}}}class o4e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ia(t){return t?(t=zh(t)).params&&(t.params=function s4e(t){return t?zh(t):null}(t.params)):t={},t}function KA(t,e,n){return{duration:t,delay:e,easing:n}}function QA(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ty{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const d4e=new RegExp(":enter","g"),f4e=new RegExp(":leave","g");function YA(t,e,n,r,i,s=new Map,o=new Map,a,u,c=[]){return(new p4e).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class p4e{buildKeyframes(e,n,r,i,s,o,a,u,c,l=[]){c=c||new ty;const d=new XA(e,n,c,i,s,l,[]);d.options=u;const h=u.delay?ps(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),ur(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let y=f.length-1;y>=0;y--){const _=f[y];if(_.element===n){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[QA(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:ps(Wh(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?ps(r.duration):null,a=null!=r.delay?ps(r.delay):null;return 0!==o&&e.forEach(u=>{const c=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),ur(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ny);const o=ps(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ur(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?ps(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),ur(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return Y0(n.params?Wh(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?ps(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=ny);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((c,l)=>{n.currentQueryIndex=l;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(u=d.currentTimeline),ur(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const l=n.currentTimeline;u&&l.delayNextStep(u);const d=l.currentTime;ur(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const ny={};class XA{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ny,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ry(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ps(r.duration)),null!=r.delay&&(i.delay=ps(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Wh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new XA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ny,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new g4e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(d4e,"."+this._enterClassName)).replace(f4e,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function bve(t){return new T(3014,!1)}()),a}}class ry{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new ry(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||fs),this._currentKeyframe.set(n,fs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function m4e(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,fs)}else ao(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=Wh(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??fs),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=ao(a,new Map,this._backFill);c.forEach((l,d)=>{"!"===l?e.add(d):l===fs&&n.add(d)}),r||c.set("offset",u/this.duration),i.push(c)});const s=e.size?X0(e.values()):[],o=n.size?X0(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return QA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class g4e extends ry{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=ao(e[0]);u.set("offset",0),s.push(u);const c=ao(e[0]);c.set("offset",sU(a)),s.push(c);const l=e.length-1;for(let d=1;d<=l;d++){let h=ao(e[d]);const f=h.get("offset");h.set("offset",sU((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return QA(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function sU(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class JA{}const y4e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _4e extends JA{normalizePropertyName(e,n){return qA(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(y4e.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function hve(t,e){return new T(3005,!1)}())}return o+s}}function oU(t,e,n,r,i,s,o,a,u,c,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:d,errors:h}}const ZA={};class aU{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function v4e(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,c,l){const d=[],h=this.ast.options&&this.ast.options.params||ZA,p=this.buildStyles(r,a&&a.params||ZA,d),y=u&&u.params||ZA,_=this.buildStyles(i,y,d),C=new Set,w=new Map,S=new Map,O="void"===i,G={params:E4e(y,h),delay:this.ast.options?.delay},X=l?[]:YA(e,n,this.ast.animation,s,o,p,_,G,c,d);let le=0;if(X.forEach(Tt=>{le=Math.max(Tt.duration+Tt.delay,le)}),d.length)return oU(n,this._triggerName,r,i,O,p,_,[],[],w,S,le,d);X.forEach(Tt=>{const cr=Tt.element,ay=ar(w,cr,new Set);Tt.preStyleProps.forEach(Da=>ay.add(Da));const Qh=ar(S,cr,new Set);Tt.postStyleProps.forEach(Da=>Qh.add(Da)),cr!==n&&C.add(cr)});const Be=X0(C.values());return oU(n,this._triggerName,r,i,O,p,_,X,Be,w,S,le)}}function E4e(t,e){const n=zh(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class w4e{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=zh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Wh(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class b4e{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new w4e(i.style,i.options&&i.options.params||{},r))}),uU(this.states,"true","1"),uU(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new aU(e,i,this.states))}),this.fallbackTransition=function I4e(t,e,n){return new aU(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function uU(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const D4e=new ty;class T4e{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=WA(this._driver,n,r,[]);if(r.length)throw function xve(t){return new T(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=GB(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=YA(this._driver,n,s,$A,W0,new Map,new Map,r,D4e,i),o.forEach(l=>{const d=ar(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Nve(){return new T(3300,!1)}()),o=[]),i.length)throw function Rve(t){return new T(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,fs))})});const c=oo(o.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function kve(t){return new T(3301,!1)}();return n}listen(e,n,r,i){const s=BA(n,"","","");return LA(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const cU="ng-animate-queued",eS="ng-animate-disabled",N4e=[],lU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},R4e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wr="__ng_removed";class tS{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function F4e(t){return t??null}(r?e.value:e),r){const s=zh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Kh="void",nS=new tS(Kh);class k4e{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mr(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function Pve(t,e){return new T(3302,!1)}();if(null==r||0==r.length)throw function Ove(t){return new T(3303,!1)}();if(!function L4e(t){return"start"==t||"done"==t}(r))throw function Fve(t,e){return new T(3400,!1)}();const s=ar(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=ar(this._engine.statesByElement,e,new Map);return a.has(n)||(Mr(e,K0),Mr(e,K0+"-"+n),a.set(n,nS)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function Lve(t){return new T(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new rS(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Mr(e,K0),Mr(e,K0+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const c=new tS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(n,c),u||(u=nS),c.value!==Kh&&u.value===c.value){if(!function U4e(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,c.params)){const y=[],_=s.matchStyles(u.value,u.params,y),C=s.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{ba(e,_),bi(e,C)})}return}const h=ar(this._engine.playersByElement,e,[]);h.forEach(y=>{y.namespaceId==this.id&&y.triggerName==n&&y.queued&&y.destroy()});let f=s.matchTransition(u.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:u,toState:c,player:o,isFallbackTransition:p}),p||(Mr(e,cU),o.onStart(()=>{Fc(e,cU)})),o.onDone(()=>{let y=this.players.indexOf(o);y>=0&&this.players.splice(y,1);const _=this._engine.playersByElement.get(e);if(_){let C=_.indexOf(o);C>=0&&_.splice(C,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,Q0,!0);r.forEach(i=>{if(i[Wr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const l=this.trigger(e,c,Kh,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&oo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||nS,l=new tS(Kh),d=new rS(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[Wr];(!s||s===lU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Mr(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=BA(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,LA(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class P4e{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new k4e(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(iy(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!iy(n))return;const s=n[Wr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mr(e,eS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fc(e,eS))}removeNode(e,n,r){if(iy(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Wr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return iy(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Q0,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,HA,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return oo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Wr];if(n&&n.setForRemoval){if(e[Wr]=lU,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(eS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Mr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?oo(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Vve(t){return new T(3402,!1)}()}_flushAnimations(e,n){const r=new ty,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(K=>{l.add(K);const J=this.driver.query(K,".ng-animate-queued",!0);for(let Z=0;Z<J.length;Z++)l.add(J[Z])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=fU(h,this.collectedEnterElements),p=new Map;let y=0;f.forEach((K,J)=>{const Z=$A+y++;p.set(J,Z),K.forEach(Ie=>Mr(Ie,Z))});const _=[],C=new Set,w=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){const J=this.collectedLeaveElements[K],Z=J[Wr];Z&&Z.setForRemoval&&(_.push(J),C.add(J),Z.hasAnimation?this.driver.query(J,".ng-star-inserted",!0).forEach(Ie=>C.add(Ie)):w.add(J))}const S=new Map,O=fU(h,Array.from(C));O.forEach((K,J)=>{const Z=W0+y++;S.set(J,Z),K.forEach(Ie=>Mr(Ie,Z))}),e.push(()=>{f.forEach((K,J)=>{const Z=p.get(J);K.forEach(Ie=>Fc(Ie,Z))}),O.forEach((K,J)=>{const Z=S.get(J);K.forEach(Ie=>Fc(Ie,Z))}),_.forEach(K=>{this.processLeaveNode(K)})});const G=[],X=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(n).forEach(Z=>{const Ie=Z.player,Ht=Z.element;if(G.push(Ie),this.collectedEnterElements.length){const yn=Ht[Wr];if(yn&&yn.setForMove){if(yn.previousTriggersValues&&yn.previousTriggersValues.has(Z.triggerName)){const Ta=yn.previousTriggersValues.get(Z.triggerName),xr=this.statesByElement.get(Z.element);if(xr&&xr.has(Z.triggerName)){const uy=xr.get(Z.triggerName);uy.value=Ta,xr.set(Z.triggerName,uy)}}return void Ie.destroy()}}const Ii=!d||!this.driver.containsElement(d,Ht),lr=S.get(Ht),uo=p.get(Ht),ot=this._buildInstruction(Z,r,uo,lr,Ii);if(ot.errors&&ot.errors.length)return void X.push(ot);if(Ii)return Ie.onStart(()=>ba(Ht,ot.fromStyles)),Ie.onDestroy(()=>bi(Ht,ot.toStyles)),void i.push(Ie);if(Z.isFallbackTransition)return Ie.onStart(()=>ba(Ht,ot.fromStyles)),Ie.onDestroy(()=>bi(Ht,ot.toStyles)),void i.push(Ie);const IU=[];ot.timelines.forEach(yn=>{yn.stretchStartingKeyframe=!0,this.disabledNodes.has(yn.element)||IU.push(yn)}),ot.timelines=IU,r.append(Ht,ot.timelines),o.push({instruction:ot,player:Ie,element:Ht}),ot.queriedElements.forEach(yn=>ar(a,yn,[]).push(Ie)),ot.preStyleProps.forEach((yn,Ta)=>{if(yn.size){let xr=u.get(Ta);xr||u.set(Ta,xr=new Set),yn.forEach((uy,oS)=>xr.add(oS))}}),ot.postStyleProps.forEach((yn,Ta)=>{let xr=c.get(Ta);xr||c.set(Ta,xr=new Set),yn.forEach((uy,oS)=>xr.add(oS))})});if(X.length){const K=[];X.forEach(J=>{K.push(function Bve(t,e){return new T(3505,!1)}())}),G.forEach(J=>J.destroy()),this.reportError(K)}const le=new Map,Be=new Map;o.forEach(K=>{const J=K.element;r.has(J)&&(Be.set(J,J),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,le))}),i.forEach(K=>{const J=K.element;this._getPreviousPlayers(J,!1,K.namespaceId,K.triggerName,null).forEach(Ie=>{ar(le,J,[]).push(Ie),Ie.destroy()})});const Tt=_.filter(K=>gU(K,u,c)),cr=new Map;hU(cr,this.driver,w,c,fs).forEach(K=>{gU(K,u,c)&&Tt.push(K)});const Qh=new Map;f.forEach((K,J)=>{hU(Qh,this.driver,new Set(K),u,"!")}),Tt.forEach(K=>{const J=cr.get(K),Z=Qh.get(K);cr.set(K,new Map([...J?.entries()??[],...Z?.entries()??[]]))});const Da=[],CU=[],bU={};o.forEach(K=>{const{element:J,player:Z,instruction:Ie}=K;if(r.has(J)){if(l.has(J))return Z.onDestroy(()=>bi(J,Ie.toStyles)),Z.disabled=!0,Z.overrideTotalTime(Ie.totalTime),void i.push(Z);let Ht=bU;if(Be.size>1){let lr=J;const uo=[];for(;lr=lr.parentNode;){const ot=Be.get(lr);if(ot){Ht=ot;break}uo.push(lr)}uo.forEach(ot=>Be.set(ot,Ht))}const Ii=this._buildAnimation(Z.namespaceId,Ie,le,s,Qh,cr);if(Z.setRealPlayer(Ii),Ht===bU)Da.push(Z);else{const lr=this.playersByElement.get(Ht);lr&&lr.length&&(Z.parentPlayer=oo(lr)),i.push(Z)}}else ba(J,Ie.fromStyles),Z.onDestroy(()=>bi(J,Ie.toStyles)),CU.push(Z),l.has(J)&&i.push(Z)}),CU.forEach(K=>{const J=s.get(K.element);if(J&&J.length){const Z=oo(J);K.setRealPlayer(Z)}}),i.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<_.length;K++){const J=_[K],Z=J[Wr];if(Fc(J,W0),Z&&Z.hasAnimation)continue;let Ie=[];if(a.size){let Ii=a.get(J);Ii&&Ii.length&&Ie.push(...Ii);let lr=this.driver.query(J,HA,!0);for(let uo=0;uo<lr.length;uo++){let ot=a.get(lr[uo]);ot&&ot.length&&Ie.push(...ot)}}const Ht=Ie.filter(Ii=>!Ii.destroyed);Ht.length?V4e(this,J,Ht):this.processLeaveNode(J)}return _.length=0,Da.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();const J=this.players.indexOf(K);this.players.splice(J,1)}),K.play()}),Da}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Kh;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const c=u.element,l=c!==s,d=ar(r,c,[]);this._getPreviousPlayers(c,l,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ba(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,c=[],l=new Set,d=new Set,h=n.timelines.map(p=>{const y=p.element;l.add(y);const _=y[Wr];if(_&&_.removedBeforeQueried)return new Gh(p.duration,p.delay);const C=y!==u,w=function B4e(t){const e=[];return pU(t,e),e}((r.get(y)||N4e).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===y),S=s.get(y),O=o.get(y),G=GB(this._normalizer,p.keyframes,S,O),X=this._buildPlayer(p,G,w);if(p.subTimeline&&i&&d.add(y),C){const le=new rS(e,a,y);le.setRealPlayer(X),c.push(le)}return X});c.forEach(p=>{ar(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function O4e(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>Mr(p,XB));const f=oo(h);return f.onDestroy(()=>{l.forEach(p=>Fc(p,XB)),bi(u,n.toStyles)}),d.forEach(p=>{ar(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Gh(e.duration,e.delay)}}class rS{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Gh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>LA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){ar(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function iy(t){return t&&1===t.nodeType}function dU(t,e){const n=t.style.display;return t.style.display=e??"none",n}function hU(t,e,n,r,i){const s=[];n.forEach(u=>s.push(dU(u)));const o=[];r.forEach((u,c)=>{const l=new Map;u.forEach(d=>{const h=e.computeStyle(c,d,i);l.set(d,h),(!h||0==h.length)&&(c[Wr]=R4e,o.push(c))}),t.set(c,l)});let a=0;return n.forEach(u=>dU(u,s[a++])),o}function fU(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=n.has(c)?c:i.has(c)?1:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function Mr(t,e){t.classList?.add(e)}function Fc(t,e){t.classList?.remove(e)}function V4e(t,e,n){oo(n).onDone(()=>t.processLeaveNode(e))}function pU(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof $B?pU(r.players,e):e.push(r)}}function gU(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class sy{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new P4e(e,n,r),this._timelineEngine=new T4e(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=WA(this._driver,s,u,[]);if(u.length)throw function Sve(t,e){return new T(3404,!1)}();a=function C4e(t,e,n){return new b4e(t,e,n)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=zB(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=zB(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let $4e=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&bi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bi(this._element,this._initialStyles),this._endStyles&&(bi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ba(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ba(this._element,this._endStyles),this._endStyles=null),bi(this._element,this._initialStyles),this._state=3)}}return t})();function iS(t){let e=null;return t.forEach((n,r)=>{(function H4e(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class mU{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:tU(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class G4e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return WB(e,n)}getParentElement(e){return UA(e)}query(e,n,r){return KB(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,l=o.filter(f=>f instanceof mU);(function Xve(t,e){return 0===t||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,y)=>c.set(y,p))});let d=function Kve(t){return t.length?t[0]instanceof Map?t:t.map(e=>JB(e)):[]}(n).map(f=>ao(f));d=function Jve(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,tU(t,a)))}}return e}(e,d,c);const h=function j4e(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=iS(e[0]),e.length>1&&(r=iS(e[e.length-1]))):e instanceof Map&&(n=iS(e)),n||r?new $4e(t,n,r):null}(e,d);return new mU(e,d,u,h)}}let z4e=(()=>{class t extends BB{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:pr.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?UB(n):n;return yU(this._renderer,null,r,"register",[i]),new q4e(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(B(gl),B(Xt))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();class q4e extends ove{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new W4e(this._id,e,n||{},this._renderer)}}class W4e{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return yU(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function yU(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const _U="@.disabled";let K4e=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let l=this._rendererCache.get(s);return l||(l=new vU("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,l)),l}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const u=l=>{Array.isArray(l)?l.forEach(u):this.engine.registerTrigger(o,a,n,l.name,l)};return r.data.animation.forEach(u),new Q4e(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(B(gl),B(sy),B(Ae))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();class vU{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==_U?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class Q4e extends vU{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==_U?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function Y4e(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function X4e(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}let J4e=(()=>{class t extends sy{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(B(Xt),B(jA),B(JA),B(Do))};static#t=this.\u0275prov=W({token:t,factory:t.\u0275fac})}return t})();const EU=[{provide:BB,useClass:z4e},{provide:JA,useFactory:function Z4e(){return new _4e}},{provide:sy,useClass:J4e},{provide:gl,useFactory:function eEe(t,e,n){return new K4e(t,e,n)},deps:[U4,sy,Ae]}],sS=[{provide:jA,useFactory:()=>new G4e},{provide:sM,useValue:"BrowserAnimations"},...EU],wU=[{provide:jA,useClass:QB},{provide:sM,useValue:"NoopAnimations"},...EU];let tEe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?wU:sS}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t});static#n=this.\u0275inj=Pt({providers:sS,imports:[uP]})}return t})(),nEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=zt({type:t,bootstrap:[D_e]});static#n=this.\u0275inj=Pt({imports:[uP,w_e,T_e,VB,X_e,pg,_B,VB,iue(()=>sue(LB_firebaseConfig)),yme(()=>_me()),sve,tEe]})}return t})();FZ().bootstrapModule(nEe).catch(t=>console.error(t))}},Fe=>{Fe(Fe.s=764)}]);