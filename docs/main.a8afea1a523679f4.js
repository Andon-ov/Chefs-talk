"use strict";(self.webpackChunkchefs_talks=self.webpackChunkchefs_talks||[]).push([[179],{6304:(it,Ee,P)=>{P.d(Ee,{Dh:()=>Re,GT:()=>he,cc:()=>Oe,on:()=>Se,pX:()=>se,xv:()=>Ue});var o=P(8926),L=P(120);it=P.hmd(it);const ie=["ngOnDestroy"],se=(xe,Ae,Ye,we={})=>new Proxy(xe,{get:(Ce,ce)=>Ye.runOutsideAngular(()=>{var ve;if(xe[ce])return!(null===(ve=we?.spy)||void 0===ve)&&ve.get&&we.spy.get(ce,xe[ce]),xe[ce];if(ie.indexOf(ce)>-1)return()=>{};const Me=Ae.toPromise().then(K=>{const k=K&&K[ce];return"function"==typeof k?k.bind(K):k&&k.then?k.then(W=>Ye.run(()=>W)):Ye.run(()=>k)});return new Proxy(()=>{},{get:(K,k)=>Me[k],apply:(K,k,W)=>Me.then(pe=>{var Mt;const cn=pe&&pe(...W);return!(null===(Mt=we?.spy)||void 0===Mt)&&Mt.apply&&we.spy.apply(ce,W,cn),cn})})})}),he=(xe,Ae)=>{Ae.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(we=>{Object.defineProperty(xe.prototype,we,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,we))})})};class ye{constructor(Ae){return Ae}}const Re=new o.OlP("angularfire2.app.options"),Ue=new o.OlP("angularfire2.app.name");function Se(xe,Ae,Ye){const Ce="object"==typeof Ye&&Ye||{};Ce.name=Ce.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const ve=L.Z.apps.filter(Me=>Me&&Me.name===Ce.name)[0]||Ae.runOutsideAngular(()=>L.Z.initializeApp(xe,Ce));try{JSON.stringify(xe)!==JSON.stringify(ve.options)&&B("error",`${ve.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(ve)}const B=(xe,...Ae)=>{(0,o.X6Q)()&&typeof console<"u"&&console[xe](...Ae)};function Oe(xe,Ae,Ye,we,Ce){const[,ce,ve]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===xe)||[];if(ce)return function ue(xe,Ae){try{return xe.toString()===Ae.toString()}catch{return xe===Ae}}(Ce,ve)||(Ve("error",`${Ae} was already initialized on the ${Ye} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:Ce,was:ve})),ce;{const Me=we();return globalThis.\u0275AngularfireInstanceCache.push([xe,Me,Ce]),Me}}const Qe=!!it.hot,Ve=(xe,...Ae)=>{(0,o.X6Q)()&&typeof console<"u"&&console[xe](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6710:(it,Ee,P)=>{P.d(Ee,{$:()=>nl,A:()=>j,D:()=>ue,I:()=>qc,J:()=>yu,L:()=>qi,N:()=>Qt,P:()=>Tl,Q:()=>mt,R:()=>x1,U:()=>wn,V:()=>Xc,W:()=>So,X:()=>os,Y:()=>Hi,Z:()=>Cs,_:()=>sh,a:()=>Su,a0:()=>v1,a1:()=>_n,a2:()=>f3,a3:()=>p3,a4:()=>E_,a5:()=>Vp,a6:()=>Cu,a7:()=>la,a8:()=>w_,a9:()=>hr,aA:()=>k,aB:()=>Dl,aC:()=>ut,aD:()=>Xn,aE:()=>Oo,aF:()=>Uu,aG:()=>Ni,aH:()=>mn,aL:()=>xu,aO:()=>Si,aa:()=>ol,ab:()=>C_,ac:()=>b_,ad:()=>D_,ae:()=>Bp,af:()=>S_,ai:()=>bu,aj:()=>g3,ak:()=>m3,an:()=>Eu,ao:()=>fl,aq:()=>ml,ar:()=>fh,as:()=>pe,at:()=>kn,au:()=>vt,av:()=>Ce,aw:()=>Ca,ax:()=>ju,ay:()=>Fn,az:()=>ce,b:()=>fr,c:()=>ii,d:()=>Ss,e:()=>bl,f:()=>B_,g:()=>jn,h:()=>Vu,i:()=>eg,j:()=>Ch,k:()=>ps,l:()=>Ih,m:()=>Zn,p:()=>Ue,r:()=>at,s:()=>Kn,u:()=>rg});var o=P(5861),L=P(9058),ie=P(7592),se=P(7582),he=P(7879),ye=P(4537);const Ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ue=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new he.Yd("@firebase/auth");function we(I,...g){Ae.logLevel<=he.in.ERROR&&Ae.error(`Auth (${ie.SDK_VERSION}): ${I}`,...g)}function Ce(I,...g){throw K(I,...g)}function ce(I,...g){return K(I,...g)}function ve(I,g,_){const w=Object.assign(Object.assign({},Qe()),{[g]:_});return new L.LL("auth","Firebase",w).create(g,{appName:I.name})}function Me(I,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ce(I,"argument-error"),ve(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K(I,...g){if("string"!=typeof I){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(_,...w)}return Ve.create(I,...g)}function k(I,g,..._){if(!I)throw K(g,..._)}function W(I){const g="INTERNAL ASSERTION FAILED: "+I;throw we(g),new Error(g)}function pe(I,g){I||W(g)}function Mt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function cn(){return"http:"===Pn()||"https:"===Pn()}function Pn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class pn{constructor(g,_){this.shortDelay=g,this.longDelay=_,pe(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xr(I,g){pe(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Q{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oe=new pn(3e4,6e4);function J(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function de(I,g,_,w){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,o.Z)(function*(I,g,_,w,D={}){return ot(I,D,(0,o.Z)(function*(){let x={},$={};w&&("GET"===g?$=w:x={body:JSON.stringify(w)});const ee=(0,L.xO)(Object.assign({key:I.config.apiKey},$)).slice(1),Pe=yield I._getAdditionalHeaders();return Pe["Content-Type"]="application/json",I.languageCode&&(Pe["X-Firebase-Locale"]=I.languageCode),Q.fetch()(Dt(I,I.config.apiHost,_,ee),Object.assign({method:g,headers:Pe,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ot(I,g,_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,o.Z)(function*(I,g,_){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},te),g);try{const D=new je(I),x=yield Promise.race([_(),D.promise]);D.clearNetworkTimeout();const $=yield x.json();if("needConfirmation"in $)throw tn(I,"account-exists-with-different-credential",$);if(x.ok&&!("errorMessage"in $))return $;{const ee=x.ok?$.errorMessage:$.error.message,[Pe,Le]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw tn(I,"credential-already-in-use",$);if("EMAIL_EXISTS"===Pe)throw tn(I,"email-already-in-use",$);if("USER_DISABLED"===Pe)throw tn(I,"user-disabled",$);const et=w[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Le)throw ve(I,et,Le);Ce(I,et)}}catch(D){if(D instanceof L.ZR)throw D;Ce(I,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function on(I,g,_,w){return dt.apply(this,arguments)}function dt(){return(dt=(0,o.Z)(function*(I,g,_,w,D={}){const x=yield de(I,g,_,w,D);return"mfaPendingCredential"in x&&Ce(I,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Dt(I,g,_,w){const D=`${g}${_}?${w}`;return I.config.emulator?Xr(I.config,D):`${I.config.apiScheme}://${D}`}class je{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(ce(this.auth,"network-request-failed")),oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(I,g,_){const w={appName:I.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const D=ce(I,g,w);return D.customData._tokenResponse=_,D}function Lr(){return(Lr=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Tr(){return(Tr=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $i(){return($i=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ei(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function ts(){return(ts=(0,o.Z)(function*(I,g=!1){const _=(0,L.m9)(I),w=yield _.getIdToken(g),D=Tt(w);k(D&&D.exp&&D.auth_time&&D.iat,_.auth,"internal-error");const x="object"==typeof D.firebase?D.firebase:void 0,$=x?.sign_in_provider;return{claims:D,token:w,authTime:ei(zn(D.auth_time)),issuedAtTime:ei(zn(D.iat)),expirationTime:ei(zn(D.exp)),signInProvider:$||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function zn(I){return 1e3*Number(I)}function Tt(I){const[g,_,w]=I.split(".");if(void 0===g||void 0===_||void 0===w)return we("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(_);return D?JSON.parse(D):(we("Failed to decode base64 JWT payload"),null)}catch(D){return we("Caught error parsing JWT payload as JSON",D?.toString()),null}}function Vr(I,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,o.Z)(function*(I,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof L.ZR&&function cr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}class ns{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const D=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,o.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,o.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Bt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rs(I){return nn.apply(this,arguments)}function nn(){return nn=(0,o.Z)(function*(I){var g;const _=I.auth,w=yield I.getIdToken(),D=yield Vr(I,function Ur(I,g){return $i.apply(this,arguments)}(_,{idToken:w}));k(D?.users.length,_,"internal-error");const x=D.users[0];I._notifyReloadListener(x);const $=null!==(g=x.providerUserInfo)&&void 0!==g&&g.length?function Nt(I){return I.map(g=>{var{providerId:_}=g,w=(0,se._T)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(x.providerUserInfo):[],ee=function Zc(I,g){return[...I.filter(w=>!g.some(D=>D.providerId===w.providerId)),...g]}(I.providerData,$),et=!!I.isAnonymous&&!(I.email&&x.passwordHash||ee?.length),kt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ee,metadata:new Bt(x.createdAt,x.lastLoginAt),isAnonymous:et};Object.assign(I,kt)}),nn.apply(this,arguments)}function Ht(){return(Ht=(0,o.Z)(function*(I){const g=(0,L.m9)(I);yield rs(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function wi(){return(wi=(0,o.Z)(function*(I,g){const _=yield ot(I,{},(0,o.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:D,apiKey:x}=I.config,$=Dt(I,D,"/v1/token",`key=${x}`),ee=yield I._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",Q.fetch()($,{method:"POST",headers:ee,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class is{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){k(g.idToken,"internal-error"),k(typeof g.idToken<"u","internal-error"),k(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ot(I){const g=Tt(I);return k(g,"internal-error"),k(typeof g.exp<"u","internal-error"),k(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,o.Z)(function*(){return k(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,o.Z)(function*(){const{accessToken:D,refreshToken:x,expiresIn:$}=yield function ua(I,g){return wi.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(D,x,Number($))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:D,expirationTime:x}=_,$=new is;return w&&(k("string"==typeof w,"internal-error",{appName:g}),$.refreshToken=w),D&&(k("string"==typeof D,"internal-error",{appName:g}),$.accessToken=D),x&&(k("number"==typeof x,"internal-error",{appName:g}),$.expirationTime=x),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new is,this.toJSON())}_performRefresh(){return W("not implemented")}}function $e(I,g){k("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class fe{constructor(g){var{uid:_,auth:w,stsTokenManager:D}=g,x=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Bt(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,o.Z)(function*(){const w=yield Vr(_,_.stsTokenManager.getToken(_.auth,g));return k(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function Ws(I){return ts.apply(this,arguments)}(this,g)}reload(){return function gn(I){return Ht.apply(this,arguments)}(this)}_assign(g){this!==g&&(k(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new fe(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,o.Z)(function*(){let D=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),D=!0),_&&(yield rs(w)),yield w.auth._persistUserIfCurrent(w),D&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,o.Z)(function*(){const _=yield g.getIdToken();return yield Vr(g,function Fr(I,g){return Lr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,D,x,$,ee,Pe,Le,et;const kt=null!==(w=_.displayName)&&void 0!==w?w:void 0,tr=null!==(D=_.email)&&void 0!==D?D:void 0,Os=null!==(x=_.phoneNumber)&&void 0!==x?x:void 0,Wi=null!==($=_.photoURL)&&void 0!==$?$:void 0,_g=null!==(ee=_.tenantId)&&void 0!==ee?ee:void 0,ba=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,Ol=null!==(Le=_.createdAt)&&void 0!==Le?Le:void 0,Aa=null!==(et=_.lastLoginAt)&&void 0!==et?et:void 0,{uid:Gu,emailVerified:Da,isAnonymous:Ki,providerData:Qi,stsTokenManager:ui}=_;k(Gu&&ui,g,"internal-error");const zu=is.fromJSON(this.name,ui);k("string"==typeof Gu,g,"internal-error"),$e(kt,g.name),$e(tr,g.name),k("boolean"==typeof Da,g,"internal-error"),k("boolean"==typeof Ki,g,"internal-error"),$e(Os,g.name),$e(Wi,g.name),$e(_g,g.name),$e(ba,g.name),$e(Ol,g.name),$e(Aa,g.name);const Lo=new fe({uid:Gu,auth:g,email:tr,emailVerified:Da,displayName:kt,isAnonymous:Ki,photoURL:Wi,phoneNumber:Os,tenantId:_g,stsTokenManager:zu,createdAt:Ol,lastLoginAt:Aa});return Qi&&Array.isArray(Qi)&&(Lo.providerData=Qi.map(Wu=>Object.assign({},Wu))),ba&&(Lo._redirectEventId=ba),Lo}static _fromIdTokenResponse(g,_,w=!1){return(0,o.Z)(function*(){const D=new is;D.updateFromServerResponse(_);const x=new fe({uid:_.localId,auth:g,stsTokenManager:D,isAnonymous:w});return yield rs(x),x})()}}const We=new Map;function ut(I){pe(I instanceof Function,"Expected a class definition");let g=We.get(I);return g?(pe(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,We.set(I,g),g)}const Qt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(_,w){var D=this;return(0,o.Z)(function*(){D.storage[_]=w})()}_get(_){var w=this;return(0,o.Z)(function*(){const D=w.storage[_];return void 0===D?null:D})()}_remove(_){var w=this;return(0,o.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return I.type="NONE",I})();function Xn(I,g,_){return`firebase:${I}:${g}:${_}`}class U{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:D,name:x}=this.auth;this.fullUserKey=Xn(this.userKey,D.apiKey,x),this.fullPersistenceKey=Xn("persistence",D.apiKey,x),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?fe._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,o.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,o.Z)(function*(){if(!_.length)return new U(ut(Qt),g,w);const D=(yield Promise.all(_.map(function(){var Le=(0,o.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return Le.apply(this,arguments)}}()))).filter(Le=>Le);let x=D[0]||ut(Qt);const $=Xn(w,g.config.apiKey,g.name);let ee=null;for(const Le of _)try{const et=yield Le._get($);if(et){const kt=fe._fromJSON(g,et);Le!==x&&(ee=kt),x=Le;break}}catch{}const Pe=D.filter(Le=>Le._shouldAllowMigration);return x._shouldAllowMigration&&Pe.length?(x=Pe[0],ee&&(yield x._set($,ee.toJSON())),yield Promise.all(_.map(function(){var Le=(0,o.Z)(function*(et){if(et!==x)try{yield et._remove($)}catch{}});return function(et){return Le.apply(this,arguments)}}())),new U(x,g,w)):new U(x,g,w)})()}}function F(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Xe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(q(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Yt(g))return"Blackberry";if(On(g))return"Webos";if(le(g))return"Safari";if((g.includes("chrome/")||Y(g))&&!g.includes("edge/"))return"Chrome";if(vt(g))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function q(I=(0,L.z$)()){return/firefox\//i.test(I)}function le(I=(0,L.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Y(I=(0,L.z$)()){return/crios\//i.test(I)}function Xe(I=(0,L.z$)()){return/iemobile/i.test(I)}function vt(I=(0,L.z$)()){return/android/i.test(I)}function Yt(I=(0,L.z$)()){return/blackberry/i.test(I)}function On(I=(0,L.z$)()){return/webos/i.test(I)}function kn(I=(0,L.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Fn(I=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function ss(I=(0,L.z$)()){return kn(I)||vt(I)||On(I)||Yt(I)||/windows phone/i.test(I)||Xe(I)}function fu(I,g=[]){let _;switch(I){case"Browser":_=F((0,L.z$)());break;case"Worker":_=`${F((0,L.z$)())}-${I}`;break;default:_=I}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ie.SDK_VERSION}/${w}`}function Is(){return(Is=(0,o.Z)(function*(I){return(yield de(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mp(I,g){return zd.apply(this,arguments)}function zd(){return(zd=(0,o.Z)(function*(I,g){return de(I,"GET","/v2/recaptchaConfig",J(I,g))})).apply(this,arguments)}function Np(I){return void 0!==I&&void 0!==I.getResponse}function Ti(I){return void 0!==I&&void 0!==I.enterprise}class bo{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Ci(I){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=g,w.onerror=D=>{const x=ce("internal-error");x.customData=D,_(x)},w.type="text/javascript",w.charset="UTF-8",function ws(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(w)})}function jt(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Wd{constructor(g){this.type="recaptcha-enterprise",this.auth=mn(g)}verify(g="verify",_=!1){var w=this;return(0,o.Z)(function*(){function x(){return x=(0,o.Z)(function*(ee){if(!_){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Pe=(0,o.Z)(function*(Le,et){Mp(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kt=>{if(void 0!==kt.recaptchaKey){const tr=new bo(kt);return null==ee.tenantId?ee._agentRecaptchaConfig=tr:ee._tenantRecaptchaConfigs[ee.tenantId]=tr,Le(tr.siteKey)}et(new Error("recaptcha Enterprise site key undefined"))}).catch(kt=>{et(kt)})});return function(Le,et){return Pe.apply(this,arguments)}}())}),x.apply(this,arguments)}function $(ee,Pe,Le){const et=window.grecaptcha;Ti(et)?et.enterprise.ready(()=>{et.enterprise.execute(ee,{action:g}).then(kt=>{Pe(kt)}).catch(()=>{Pe("NO_RECAPTCHA")})}):Le(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Pe)=>{(function D(ee){return x.apply(this,arguments)})(w.auth).then(Le=>{if(!_&&Ti(window.grecaptcha))$(Le,ee,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));Ci("https://www.google.com/recaptcha/enterprise.js?render="+Le).then(()=>{$(Le,ee,Pe)}).catch(et=>{Pe(et)})}}).catch(Le=>{Pe(Le)})})})()}}function lr(I,g,_){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,o.Z)(function*(I,g,_,w=!1){const D=new Wd(I);let x;try{x=yield D.verify(_)}catch{x=yield D.verify(_,!0)}const $=Object.assign({},g);return Object.assign($,w?{captchaResp:x}:{captchaResponse:x}),Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$})).apply(this,arguments)}class Rp{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=x=>new Promise(($,ee)=>{try{$(g(x))}catch(Pe){ee(Pe)}});w.onAbort=_,this.queue.push(w);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,o.Z)(function*(){if(_.auth.currentUser===g)return;const w=[];try{for(const D of _.queue)yield D(g),D.onAbort&&w.push(D.onAbort)}catch(D){w.reverse();for(const x of w)try{x()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class bi{constructor(g,_,w,D){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pp(this),this.idTokenSubscription=new Pp(this),this.beforeStateQueue=new Rp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=ut(_)),this._initializationPromise=this.queue((0,o.Z)(function*(){var D,x;if(!w._deleted&&(w.persistenceManager=yield U.create(w,g),!w._deleted)){if(null!==(D=w._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(x=w.currentUser)||void 0===x?void 0:x.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,o.Z)(function*(){var w;const D=yield _.assertedPersistence.getCurrentUser();let x=D,$=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ee=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Pe=x?._redirectEventId,Le=yield _.tryRedirectSignIn(g);(!ee||ee===Pe)&&Le?.user&&(x=Le.user,$=!0)}if(!x)return _.directlySetCurrentUser(null);if(!x._redirectEventId){if($)try{yield _.beforeStateQueue.runMiddleware(x)}catch(ee){x=D,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ee))}return x?_.reloadAndSetCurrentUserOrClear(x):_.directlySetCurrentUser(null)}return k(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===x._redirectEventId?_.directlySetCurrentUser(x):_.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(g){var _=this;return(0,o.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,o.Z)(function*(){try{yield rs(g)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function fn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,o.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,o.Z)(function*(){const w=g?(0,L.m9)(g):null;return w&&k(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,o.Z)(function*(){if(!w._deleted)return g&&k(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,o.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,o.Z)(function*(){yield _.assertedPersistence.setPersistence(ut(g))}))}initializeRecaptchaConfig(){var g=this;return(0,o.Z)(function*(){const _=yield Mp(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new bo(_);null==g.tenantId?g._agentRecaptchaConfig=w:g._tenantRecaptchaConfigs[g.tenantId]=w,w.emailPasswordEnabled&&new Wd(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,o.Z)(function*(){const D=yield w.getOrInitRedirectPersistenceManager(_);return null===g?D.removeCurrentUser():D.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,o.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&ut(g)||_._popupRedirectResolver;k(w,_,"argument-error"),_.redirectPersistenceManager=yield U.create(_,[ut(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,o.Z)(function*(){var w,D;return _._isInitialized&&(yield _.queue((0,o.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,o.Z)(function*(){if(g===_.currentUser)return _.queue((0,o.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,D){if(this._deleted)return()=>{};const x="function"==typeof _?_:_.next.bind(_),$=this._isInitialized?Promise.resolve():this._initializationPromise;return k($,this,"internal-error"),$.then(()=>x(this.currentUser)),"function"==typeof _?g.addObserver(_,w,D):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,o.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=fu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.Z)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const D=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();D&&(w["X-Firebase-Client"]=D);const x=yield g._getAppCheckToken();return x&&(w["X-Firebase-AppCheck"]=x),w})()}_getAppCheckToken(){var g=this;return(0,o.Z)(function*(){var _;const w=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function Ye(I,...g){Ae.logLevel<=he.in.WARN&&Ae.warn(`Auth (${ie.SDK_VERSION}): ${I}`,...g)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function mn(I){return(0,L.m9)(I)}class Pp{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qc(I,g,_){const w=mn(I);k(w._canInitEmulator,w,"emulator-config-failed"),k(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const D=!!_?.disableWarnings,x=_u(g),{host:$,port:ee}=function Kd(I){const g=_u(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(w);if(D){const x=D[1];return{host:x,port:Qd(w.substr(x.length+1))}}{const[x,$]=w.split(":");return{host:x,port:Qd($)}}}(g);w.config.emulator={url:`${x}//${$}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:$,port:ee,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function l_(){function I(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function _u(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Qd(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class yu{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return W("not implemented")}_getIdTokenResponse(g){return W("not implemented")}_linkToIdToken(g,_){return W("not implemented")}_getReauthenticationResolver(g){return W("not implemented")}}function ti(I,g){return Op.apply(this,arguments)}function Op(){return(Op=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:resetPassword",J(I,g))})).apply(this,arguments)}function kp(I,g){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ni(){return(ni=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",J(I,g))})).apply(this,arguments)}function Yd(I,g){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithPassword",J(I,g))})).apply(this,arguments)}function Gc(I,g){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:sendOobCode",J(I,g))})).apply(this,arguments)}function zc(){return(zc=(0,o.Z)(function*(I,g){return Gc(I,g)})).apply(this,arguments)}function Xd(I,g){return eh.apply(this,arguments)}function eh(){return(eh=(0,o.Z)(function*(I,g){return Gc(I,g)})).apply(this,arguments)}function th(I,g){return vu.apply(this,arguments)}function vu(){return(vu=(0,o.Z)(function*(I,g){return Gc(I,g)})).apply(this,arguments)}function Wc(){return(Wc=(0,o.Z)(function*(I,g){return Gc(I,g)})).apply(this,arguments)}function Qc(){return(Qc=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithEmailLink",J(I,g))})).apply(this,arguments)}function Ln(){return(Ln=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithEmailLink",J(I,g))})).apply(this,arguments)}class Un extends yu{constructor(g,_,w,D=null){super("password",w),this._email=g,this._password=_,this._tenantId=D}static _fromEmailAndPassword(g,_){return new Un(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new Un(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,o.Z)(function*(){var w;switch(_.signInMethod){case"password":const D={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=g._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const x=yield lr(g,D,"signInWithPassword");return Yd(g,x)}return Yd(g,D).catch(function(){var x=(0,o.Z)(function*($){if("auth/missing-recaptcha-token"===$.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield lr(g,D,"signInWithPassword");return Yd(g,ee)}return Promise.reject($)});return function($){return x.apply(this,arguments)}}());case"emailLink":return function Kc(I,g){return Qc.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ce(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return kp(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Lt(I,g){return Ln.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:Ce(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Br(I,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithIdp",J(I,g))})).apply(this,arguments)}class qi extends yu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new qi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ce("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:D}=_,x=(0,se._T)(_,["providerId","signInMethod"]);if(!w||!D)return null;const $=new qi(w,D);return $.idToken=x.idToken||void 0,$.accessToken=x.accessToken||void 0,$.secret=x.secret,$.nonce=x.nonce,$.pendingToken=x.pendingToken||null,$}_getIdTokenResponse(g){return Br(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Br(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Br(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,L.xO)(_)}return g}}function rh(){return(rh=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:sendVerificationCode",J(I,g))})).apply(this,arguments)}function un(){return(un=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,g))})).apply(this,arguments)}function Ct(){return(Ct=(0,o.Z)(function*(I,g){const _=yield on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,g));if(_.temporaryProof)throw tn(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const en={USER_NOT_FOUND:"user-not-found"};function Ao(){return(Ao=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),en)})).apply(this,arguments)}class En extends yu{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new En({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new En({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function ih(I,g){return un.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function ze(I,g){return Ct.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ai(I,g){return Ao.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:D}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:D}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:x}=g;return w||_||D||x?new En({verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:x}):null}}class jr{constructor(g){var _,w,D,x,$,ee;const Pe=(0,L.zd)((0,L.pd)(g)),Le=null!==(_=Pe.apiKey)&&void 0!==_?_:null,et=null!==(w=Pe.oobCode)&&void 0!==w?w:null,kt=function ca(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Pe.mode)&&void 0!==D?D:null);k(Le&&et&&kt,"argument-error"),this.apiKey=Le,this.operation=kt,this.code=et,this.continueUrl=null!==(x=Pe.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==($=Pe.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(ee=Pe.tenantId)&&void 0!==ee?ee:null}static parseLink(g){const _=function Sn(I){const g=(0,L.zd)((0,L.pd)(I)).link,_=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(I)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||_||g||I}(g);try{return new jr(_)}catch{return null}}}let mt=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,w){return Un._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const D=jr.parseLink(w);return k(D,"argument-error"),Un._fromEmailAndCode(_,D.code,D.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Di{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Do extends Di{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class os extends Do{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return k("providerId"in _&&"signInMethod"in _,"argument-error"),qi._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return k(g.idToken||g.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return os.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return os.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:x,nonce:$,providerId:ee}=g;if(!w&&!D&&!_&&!x||!ee)return null;try{return new os(ee)._credential({idToken:_,accessToken:w,nonce:$,pendingToken:x})}catch{return null}}}let wn=(()=>{class I extends Do{constructor(){super("facebook.com")}static credential(_){return qi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Xc=(()=>{class I extends Do{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return qi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:D}=_;if(!w&&!D)return null;try{return I.credential(w,D)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),So=(()=>{class I extends Do{constructor(){super("github.com")}static credential(_){return qi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Si extends yu{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Br(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Br(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Br(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:D,pendingToken:x}=_;return w&&D&&x&&w===D?new Si(w,x):null}static _create(g,_){return new Si(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hi extends Di{constructor(g){k(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Hi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Hi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Si.fromJSON(g);return k(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return Si._create(w,_)}catch{return null}}}let Cs=(()=>{class I extends Do{constructor(){super("twitter.com")}static credential(_,w){return qi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:D}=_;if(!w||!D)return null;try{return I.credential(w,D)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Qs(I,g){return as.apply(this,arguments)}function as(){return(as=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signUp",J(I,g))})).apply(this,arguments)}class ht{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,D=!1){return(0,o.Z)(function*(){const x=yield fe._fromIdTokenResponse(g,w,D),$=y1(w);return new ht({user:x,providerId:$,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,o.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const D=y1(w);return new ht({user:g,providerId:D,_tokenResponse:w,operationType:_})})()}}function y1(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function sh(I){return el.apply(this,arguments)}function el(){return(el=(0,o.Z)(function*(I){var g;const _=mn(I);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new ht({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Qs(_,{returnSecureToken:!0}),D=yield ht._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(D.user),D})).apply(this,arguments)}class xi extends L.ZR{constructor(g,_,w,D){var x;super(_.code,_.message),this.operationType=w,this.user=D,Object.setPrototypeOf(this,xi.prototype),this.customData={appName:g.name,tenantId:null!==(x=g.tenantId)&&void 0!==x?x:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,D){return new xi(g,_,w,D)}}function tl(I,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?xi._fromErrorAndOperation(I,x,g,w):x})}function xo(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Eu(I,g){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,o.Z)(function*(I,g){const _=(0,L.m9)(I);yield Wn(!0,_,g);const{providerUserInfo:w}=yield function wt(I,g){return Tr.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),D=xo(w||[]);return _.providerData=_.providerData.filter(x=>D.has(x.providerId)),D.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Vn.apply(this,arguments)}function p_(I,g){return br.apply(this,arguments)}function br(){return(br=(0,o.Z)(function*(I,g,_=!1){const w=yield Vr(I,g._linkToIdToken(I.auth,yield I.getIdToken()),_);return ht._forOperation(I,"link",w)})).apply(this,arguments)}function Wn(I,g,_){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,o.Z)(function*(I,g,_){yield rs(g);const D=!1===I?"provider-already-linked":"no-such-provider";k(xo(g.providerData).has(_)===I,g.auth,D)})).apply(this,arguments)}function Ys(I,g){return wu.apply(this,arguments)}function wu(){return(wu=(0,o.Z)(function*(I,g,_=!1){const{auth:w}=I,D="reauthenticate";try{const x=yield Vr(I,tl(w,D,g,I),_);k(x.idToken,w,"internal-error");const $=Tt(x.idToken);k($,w,"internal-error");const{sub:ee}=$;return k(I.uid===ee,w,"user-mismatch"),ht._forOperation(I,D,x)}catch(x){throw"auth/user-not-found"===x?.code&&Ce(w,"user-mismatch"),x}})).apply(this,arguments)}function Gi(I,g){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,o.Z)(function*(I,g,_=!1){const w="signIn",D=yield tl(I,w,g),x=yield ht._fromIdTokenResponse(I,w,D);return _||(yield I._updateCurrentUser(x.user)),x})).apply(this,arguments)}function nl(I,g){return oh.apply(this,arguments)}function oh(){return(oh=(0,o.Z)(function*(I,g){return Gi(mn(I),g)})).apply(this,arguments)}function v1(I,g){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,o.Z)(function*(I,g){const _=(0,L.m9)(I);return yield Wn(!1,_,g.providerId),p_(_,g)})).apply(this,arguments)}function _n(I,g){return g_.apply(this,arguments)}function g_(){return(g_=(0,o.Z)(function*(I,g){return Ys((0,L.m9)(I),g)})).apply(this,arguments)}function m_(){return(m_=(0,o.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithCustomToken",J(I,g))})).apply(this,arguments)}function f3(I,g){return __.apply(this,arguments)}function __(){return __=(0,o.Z)(function*(I,g){const _=mn(I),w=yield function h3(I,g){return m_.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),D=yield ht._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(D.user),D}),__.apply(this,arguments)}class ah{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?y_._fromServerResponse(g,_):"totpInfo"in _?Up._fromServerResponse(g,_):Ce(g,"internal-error")}}class y_ extends ah{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new y_(_)}}class Up extends ah{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new Up(_)}}function rl(I,g,_){var w;k((null===(w=_.url)||void 0===w?void 0:w.length)>0,I,"invalid-continue-uri"),k(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(k(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(k(_.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function p3(I,g,_){return v_.apply(this,arguments)}function v_(){return v_=(0,o.Z)(function*(I,g,_){var w;const D=mn(I),x={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const $=yield lr(D,x,"getOobCode",!0);_&&rl(D,$,_),yield Xd(D,$)}else _&&rl(D,x,_),yield Xd(D,x).catch(function(){var $=(0,o.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield lr(D,x,"getOobCode",!0);_&&rl(D,Pe,_),yield Xd(D,Pe)}});return function(ee){return $.apply(this,arguments)}}())}),v_.apply(this,arguments)}function E_(I,g,_){return il.apply(this,arguments)}function il(){return(il=(0,o.Z)(function*(I,g,_){yield ti((0,L.m9)(I),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Vp(I,g){return sl.apply(this,arguments)}function sl(){return sl=(0,o.Z)(function*(I,g){yield function _1(I,g){return ni.apply(this,arguments)}((0,L.m9)(I),{oobCode:g})}),sl.apply(this,arguments)}function Cu(I,g){return I_.apply(this,arguments)}function I_(){return(I_=(0,o.Z)(function*(I,g){const _=(0,L.m9)(I),w=yield ti(_,{oobCode:g}),D=w.requestType;switch(k(D,_,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(w.mfaInfo,_,"internal-error");default:k(w.email,_,"internal-error")}let x=null;return w.mfaInfo&&(x=ah._fromServerResponse(mn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:x},operation:D}})).apply(this,arguments)}function la(I,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,o.Z)(function*(I,g){const{data:_}=yield Cu((0,L.m9)(I),g);return _.email})).apply(this,arguments)}function w_(I,g,_){return T_.apply(this,arguments)}function T_(){return T_=(0,o.Z)(function*(I,g,_){var w;const D=mn(I),x={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let $;if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Le=yield lr(D,x,"signUpPassword");$=Qs(D,Le)}else $=Qs(D,x).catch(function(){var Le=(0,o.Z)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kt=yield lr(D,x,"signUpPassword");return Qs(D,kt)}return Promise.reject(et)});return function(et){return Le.apply(this,arguments)}}());const ee=yield $.catch(Le=>Promise.reject(Le)),Pe=yield ht._fromIdTokenResponse(D,"signIn",ee);return yield D._updateCurrentUser(Pe.user),Pe}),T_.apply(this,arguments)}function hr(I,g,_){return nl((0,L.m9)(I),mt.credential(g,_))}function ol(I,g,_){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,o.Z)(function*(I,g,_){var w;const D=mn(I),x={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function $(ee,Pe){k(Pe.handleCodeInApp,D,"argument-error"),Pe&&rl(D,ee,Pe)}if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield lr(D,x,"getOobCode",!0);$(ee,_),yield th(D,ee)}else $(x,_),yield th(D,x).catch(function(){var ee=(0,o.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Le=yield lr(D,x,"getOobCode",!0);$(Le,_),yield th(D,Le)}});return function(Pe){return ee.apply(this,arguments)}}())}),Ar.apply(this,arguments)}function C_(I,g){const _=jr.parseLink(g);return"EMAIL_SIGNIN"===_?.operation}function b_(I,g,_){return uh.apply(this,arguments)}function uh(){return(uh=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I),D=mt.credentialWithLink(g,_||Mt());return k(D._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),nl(w,D)})).apply(this,arguments)}function al(){return(al=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:createAuthUri",J(I,g))})).apply(this,arguments)}function D_(I,g){return ul.apply(this,arguments)}function ul(){return ul=(0,o.Z)(function*(I,g){const w={identifier:g,continueUri:cn()?Mt():"http://localhost"},{signinMethods:D}=yield function A_(I,g){return al.apply(this,arguments)}((0,L.m9)(I),w);return D||[]}),ul.apply(this,arguments)}function Bp(I,g){return cl.apply(this,arguments)}function cl(){return cl=(0,o.Z)(function*(I,g){const _=(0,L.m9)(I),D={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&rl(_.auth,D,g);const{email:x}=yield function d_(I,g){return zc.apply(this,arguments)}(_.auth,D);x!==I.email&&(yield I.reload())}),cl.apply(this,arguments)}function S_(I,g,_){return ll.apply(this,arguments)}function ll(){return ll=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};_&&rl(w.auth,x,_);const{email:$}=yield function h_(I,g){return Wc.apply(this,arguments)}(w.auth,x);$!==I.email&&(yield I.reload())}),ll.apply(this,arguments)}function da(){return(da=(0,o.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bu(I,g){return ch.apply(this,arguments)}function ch(){return ch=(0,o.Z)(function*(I,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,L.m9)(I),x={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},$=yield Vr(w,function dl(I,g){return da.apply(this,arguments)}(w.auth,x));w.displayName=$.displayName||null,w.photoURL=$.photoUrl||null;const ee=w.providerData.find(({providerId:Pe})=>"password"===Pe);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary($)}),ch.apply(this,arguments)}function g3(I,g){return E1((0,L.m9)(I),g,null)}function m3(I,g){return E1((0,L.m9)(I),null,g)}function E1(I,g,_){return jp.apply(this,arguments)}function jp(){return(jp=(0,o.Z)(function*(I,g,_){const{auth:w}=I,x={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(x.email=g),_&&(x.password=_);const $=yield Vr(I,kp(w,x));yield I._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class hl{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class Zp extends hl{constructor(g,_,w,D){super(g,_,w),this.username=D}}class ha extends hl{constructor(g,_){super(g,"facebook.com",_)}}class w1 extends Zp{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class lh extends hl{constructor(g,_){super(g,"google.com",_)}}class $p extends Zp{constructor(g,_,w){super(g,"twitter.com",_,w)}}function fl(I){const{user:g,_tokenResponse:_}=I;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function I1(I){var g,_;if(!I)return null;const{providerId:w}=I,D=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},x=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!w&&I?.idToken){const $=null===(_=null===(g=Tt(I.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if($)return new hl(x,"anonymous"!==$&&"custom"!==$?$:null)}if(!w)return null;switch(w){case"facebook.com":return new ha(x,D);case"github.com":return new w1(x,D);case"google.com":return new lh(x,D);case"twitter.com":return new $p(x,D,I.screenName||null);case"custom":case"anonymous":return new hl(x,null);default:return new hl(x,w,D)}}(_)}class Js{constructor(g,_,w){this.type=g,this.credential=_,this.auth=w}static _fromIdtoken(g,_){return new Js("enroll",g,_)}static _fromMfaPendingCredential(g){return new Js("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Js._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return Js._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Au{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=mn(g),D=_.customData._serverResponse,x=(D.mfaInfo||[]).map(ee=>ah._fromServerResponse(w,ee));k(D.mfaPendingCredential,w,"internal-error");const $=Js._fromMfaPendingCredential(D.mfaPendingCredential);return new Au($,x,function(){var ee=(0,o.Z)(function*(Pe){const Le=yield Pe._process(w,$);delete D.mfaInfo,delete D.mfaPendingCredential;const et=Object.assign(Object.assign({},D),{idToken:Le.idToken,refreshToken:Le.refreshToken});switch(_.operationType){case"signIn":const kt=yield ht._fromIdTokenResponse(w,_.operationType,et);return yield w._updateCurrentUser(kt.user),kt;case"reauthenticate":return k(_.user,w,"internal-error"),ht._forOperation(_.user,_.operationType,et);default:Ce(w,"internal-error")}});return function(Pe){return ee.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,o.Z)(function*(){return _.signInResolver(g)})()}}function ml(I,g){var _;const w=(0,L.m9)(I),D=g;return k(g.customData.operationType,w,"argument-error"),k(null===(_=D.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Au._fromError(w,D)}class hh{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>ah._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new hh(g)}getSession(){var g=this;return(0,o.Z)(function*(){return Js._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var w=this;return(0,o.Z)(function*(){const D=g,x=yield w.getSession(),$=yield Vr(w.user,D._process(w.user.auth,x,_));return yield w.user._updateTokensIfNecessary($),w.user.reload()})()}unenroll(g){var _=this;return(0,o.Z)(function*(){const w="string"==typeof g?g:g.uid,D=yield _.user.getIdToken();try{const x=yield Vr(_.user,function Wp(I,g){return de(I,"POST","/v2/accounts/mfaEnrollment:withdraw",J(I,g))}(_.user.auth,{idToken:D,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:$})=>$!==w),yield _.user._updateTokensIfNecessary(x),yield _.user.reload()}catch(x){throw x}})()}}const fa=new WeakMap;function fh(I){const g=(0,L.m9)(I);return fa.has(g)||fa.set(g,hh._fromUser(g)),fa.get(g)}const Dr="__sak";class ph{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Dr,"1"),this.storage.removeItem(Dr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const fr=(()=>{class I extends ph{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function P_(){const I=(0,L.z$)();return le(I)||kn(I)}()&&function Jt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ss(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const D=this.storage.getItem(w),x=this.localCache[w];D!==x&&_(w,x,D)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ee,Pe,Le)=>{this.notifyListeners(ee,Le)});const D=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(D);if(_.newValue!==ee)null!==_.newValue?this.storage.setItem(D,_.newValue):this.storage.removeItem(D);else if(this.localCache[D]===_.newValue&&!w)return}const x=()=>{const ee=this.storage.getItem(D);!w&&this.localCache[D]===ee||this.notifyListeners(D,ee)},$=this.storage.getItem(D);!function an(){return(0,L.w1)()&&10===document.documentMode}()||$===_.newValue||_.newValue===_.oldValue?x():setTimeout(x,10)}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const x of Array.from(D))x(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var D=()=>super._set,x=this;return(0,o.Z)(function*(){yield D().call(x,_,w),x.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,D=this;return(0,o.Z)(function*(){const x=yield w().call(D,_);return D.localCache[_]=JSON.stringify(x),x})()}_remove(_){var w=()=>super._remove,D=this;return(0,o.Z)(function*(){yield w().call(D,_),delete D.localCache[_]})()}}return I.type="LOCAL",I})(),Su=(()=>{class I extends ph{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return I.type="SESSION",I})();let ri=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(x=>x.isListeningto(_));if(w)return w;const D=new I(_);return this.receivers.push(D),D}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,o.Z)(function*(){const D=_,{eventId:x,eventType:$,data:ee}=D.data,Pe=w.handlersMap[$];if(!Pe?.size)return;D.ports[0].postMessage({status:"ack",eventId:x,eventType:$});const Le=Array.from(Pe).map(function(){var kt=(0,o.Z)(function*(tr){return tr(D.origin,ee)});return function(tr){return kt.apply(this,arguments)}}()),et=yield function pa(I){return Promise.all(I.map(function(){var g=(0,o.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(Le);D.ports[0].postMessage({status:"done",eventId:x,eventType:$,response:et})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function xu(I="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return I+_}class D1{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var D=this;return(0,o.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let $,ee;return new Promise((Pe,Le)=>{const et=xu("",20);x.port1.start();const kt=setTimeout(()=>{Le(new Error("unsupported_event"))},w);ee={messageChannel:x,onMessage(tr){const Os=tr;if(Os.data.eventId===et)switch(Os.data.status){case"ack":clearTimeout(kt),$=setTimeout(()=>{Le(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Pe(Os.data.response);break;default:clearTimeout(kt),clearTimeout($),Le(new Error("invalid_response"))}}},D.handlers.add(ee),x.port1.addEventListener("message",ee.onMessage),D.target.postMessage({eventType:g,eventId:et,data:_},[x.port2])}).finally(()=>{ee&&D.removeMessageHandler(ee)})})()}}function Bn(){return window}function mh(){return typeof Bn().WorkerGlobalScope<"u"&&"function"==typeof Bn().importScripts}function _l(){return(_l=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qp="firebaseLocalStorageDb",ga="firebaseLocalStorage",Yp="fbase_key";class ma{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function yh(I,g){return I.transaction([ga],g?"readwrite":"readonly").objectStore(ga)}function vh(){const I=indexedDB.open(Qp,1);return new Promise((g,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(ga,{keyPath:Yp})}catch(D){_(D)}}),I.addEventListener("success",(0,o.Z)(function*(){const w=I.result;w.objectStoreNames.contains(ga)?g(w):(w.close(),yield function k_(){const I=indexedDB.deleteDatabase(Qp);return new ma(I).toPromise()}(),g(yield vh()))}))})}function Mo(I,g,_){return yl.apply(this,arguments)}function yl(){return(yl=(0,o.Z)(function*(I,g,_){const w=yh(I,!0).put({[Yp]:g,value:_});return new ma(w).toPromise()})).apply(this,arguments)}function us(){return(us=(0,o.Z)(function*(I,g){const _=yh(I,!1).get(g),w=yield new ma(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Xp(I,g){const _=yh(I,!0).delete(g);return new ma(_).toPromise()}const eg=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,o.Z)(function*(){return _.db||(_.db=yield vh()),_.db})()}_withRetries(_){var w=this;return(0,o.Z)(function*(){let D=0;for(;;)try{const x=yield w._openDb();return yield _(x)}catch(x){if(D++>3)throw x;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,o.Z)(function*(){return mh()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,o.Z)(function*(){_.receiver=ri._getInstance(function _h(){return mh()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,o.Z)(function*(D,x){return{keyProcessed:(yield _._poll()).includes(x.key)}});return function(D,x){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,o.Z)(function*(D,x){return["keyChanged"]});return function(D,x){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,o.Z)(function*(){var w,D;if(_.activeServiceWorker=yield function O_(){return _l.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new D1(_.activeServiceWorker);const x=yield _.sender._send("ping",{},800);x&&null!==(w=x[0])&&void 0!==w&&w.fulfilled&&null!==(D=x[0])&&void 0!==D&&D.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,o.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Kp(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const _=yield vh();return yield Mo(_,Dr,"1"),yield Xp(_,Dr),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,o.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var D=this;return(0,o.Z)(function*(){return D._withPendingWrite((0,o.Z)(function*(){return yield D._withRetries(x=>Mo(x,_,w)),D.localCache[_]=w,D.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,o.Z)(function*(){const D=yield w._withRetries(x=>function Jp(I,g){return us.apply(this,arguments)}(x,_));return w.localCache[_]=D,D})()}_remove(_){var w=this;return(0,o.Z)(function*(){return w._withPendingWrite((0,o.Z)(function*(){return yield w._withRetries(D=>Xp(D,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,o.Z)(function*(){const w=yield _._withRetries($=>{const ee=yh($,!1).getAll();return new ma(ee).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const D=[],x=new Set;for(const{fbase_key:$,value:ee}of w)x.add($),JSON.stringify(_.localCache[$])!==JSON.stringify(ee)&&(_.notifyListeners($,ee),D.push($));for(const $ of Object.keys(_.localCache))_.localCache[$]&&!x.has($)&&(_.notifyListeners($,null),D.push($));return D})()}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const x of Array.from(D))x(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Mu=1e12;class ng{constructor(g){this.auth=g,this.counter=Mu,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new S1(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||Mu;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Mu))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,o.Z)(function*(){var w;return null===(w=_._widgets.get(g||Mu))||void 0===w||w.execute(),""})()}}class S1{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof g?document.getElementById(g):g;k(D,"argument-error",{appName:_}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _3(I){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<I;w++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nu=jt("rcb"),Sr=new pn(3e4,6e4);class Eh{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Bn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return k(function Ru(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&Np(Bn().grecaptcha)?Promise.resolve(Bn().grecaptcha):new Promise((w,D)=>{const x=Bn().setTimeout(()=>{D(ce(g,"network-request-failed"))},Sr.get());Bn()[Nu]=()=>{Bn().clearTimeout(x),delete Bn()[Nu];const ee=Bn().grecaptcha;if(!ee||!Np(ee))return void D(ce(g,"internal-error"));const Pe=ee.render;ee.render=(Le,et)=>{const kt=Pe(Le,et);return this.counter++,kt},this.hostLanguage=_,w(ee)},Ci(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Nu,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(x),D(ce(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Bn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xs{load(g){return(0,o.Z)(function*(){return new ng(g)})()}clearedOneInstance(){}}const U_="recaptcha",V_={theme:"light",type:"image"};class x1{constructor(g,_=Object.assign({},V_),w){this.parameters=_,this.type=U_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(w),this.isInvisible="invisible"===this.parameters.size,k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof g?document.getElementById(g):g;k(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xs:new Eh,this.validateStartingState()}verify(){var g=this;return(0,o.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(x=>{const $=ee=>{ee&&(g.tokenChangeListeners.delete($),x(ee))};g.tokenChangeListeners.add($),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=Bn()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.Z)(function*(){k(cn()&&!mh(),g.auth,"internal-error"),yield function M1(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Gd(I){return Is.apply(this,arguments)}(g.auth);k(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class El{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=En._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Kn(I,g,_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,o.Z)(function*(I,g,_){const w=mn(I),D=yield Pu(w,g,(0,L.m9)(_));return new El(D,x=>nl(w,x))})).apply(this,arguments)}function Ih(I,g,_){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I);yield Wn(!1,w,"phone");const D=yield Pu(w.auth,g,(0,L.m9)(_));return new El(D,x=>v1(w,x))})).apply(this,arguments)}function at(I,g,_){return er.apply(this,arguments)}function er(){return(er=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I),D=yield Pu(w.auth,g,(0,L.m9)(_));return new El(D,x=>_n(w,x))})).apply(this,arguments)}function Pu(I,g,_){return Il.apply(this,arguments)}function Il(){return Il=(0,o.Z)(function*(I,g,_){var w;const D=yield _.verify();try{let x;if(k("string"==typeof D,I,"argument-error"),k(_.type===U_,I,"argument-error"),x="string"==typeof g?{phoneNumber:g}:g,"session"in x){const $=x.session;if("phoneNumber"in x)return k("enroll"===$.type,I,"internal-error"),(yield function Gp(I,g){return de(I,"POST","/v2/accounts/mfaEnrollment:start",J(I,g))}(I,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{k("signin"===$.type,I,"internal-error");const ee=(null===(w=x.multiFactorHint)||void 0===w?void 0:w.uid)||x.multiFactorUid;return k(ee,I,"missing-multi-factor-info"),(yield function L_(I,g){return de(I,"POST","/v2/accounts/mfaSignIn:start",J(I,g))}(I,{mfaPendingCredential:$.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield function Yc(I,g){return rh.apply(this,arguments)}(I,{phoneNumber:x.phoneNumber,recaptchaToken:D});return $}}finally{_._reset()}}),Il.apply(this,arguments)}function rg(I,g){return wl.apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(I,g){yield p_((0,L.m9)(I),g)})).apply(this,arguments)}let Tl=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=mn(_)}verifyPhoneNumber(_,w){return Pu(this.auth,_,(0,L.m9)(w))}static credential(_,w){return En._fromVerification(_,w)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:D}=_;return w&&D?En._fromTokenResponse(w,D):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function No(I,g){return g?ut(g):(k(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ro extends yu{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Br(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Br(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Br(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function gt(I){return Gi(I.auth,new Ro(I),I.bypassAuthState)}function Po(I){const{auth:g,user:_}=I;return k(_,g,"internal-error"),Ys(_,new Ro(I),I.bypassAuthState)}function yn(I){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,o.Z)(function*(I){const{auth:g,user:_}=I;return k(_,g,"internal-error"),p_(_,new Ro(I),I.bypassAuthState)})).apply(this,arguments)}class _a{constructor(g,_,w,D,x=!1){this.auth=g,this.resolver=w,this.user=D,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,o.Z)(function*(w,D){g.pendingPromise={resolve:w,reject:D};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(x){g.reject(x)}});return function(w,D){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,o.Z)(function*(){const{urlResponse:w,sessionId:D,postBody:x,tenantId:$,error:ee,type:Pe}=g;if(ee)return void _.reject(ee);const Le={auth:_.auth,requestUri:w,sessionId:D,tenantId:$||void 0,postBody:x||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(Le))}catch(et){_.reject(et)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return gt;case"linkViaPopup":case"linkViaRedirect":return yn;case"reauthViaPopup":case"reauthViaRedirect":return Po;default:Ce(this.auth,"internal-error")}}resolve(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ig=new pn(2e3,1e4);function ii(I,g,_){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,o.Z)(function*(I,g,_){const w=mn(I);Me(I,g,Di);const D=No(w,_);return new xs(w,"signInViaPopup",g,D).executeNotNull()})).apply(this,arguments)}function bl(I,g,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Di);const D=No(w.auth,_);return new xs(w.auth,"reauthViaPopup",g,D,w).executeNotNull()})).apply(this,arguments)}function Ss(I,g,_){return wh.apply(this,arguments)}function wh(){return(wh=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Di);const D=No(w.auth,_);return new xs(w.auth,"linkViaPopup",g,D,w).executeNotNull()})).apply(this,arguments)}let xs=(()=>{class I extends _a{constructor(_,w,D,x,$){super(_,w,x,$),this.provider=D,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,o.Z)(function*(){const w=yield _.execute();return k(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,o.Z)(function*(){pe(1===_.filter.length,"Popup operations only handle one event");const w=xu();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(D=>{_.reject(D)}),_.resolver._isIframeWebStorageSupported(_.auth,D=>{D||_.reject(ce(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,D;this.pollId=null!==(D=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,ig.get())};_()}}return I.currentPopupAction=null,I})();const eo="pendingRedirect",to=new Map;class ku extends _a{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,o.Z)(function*(){let w=to.get(_.auth._key());if(!w){try{const x=(yield function Fu(I,g){return Lu.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(x)}catch(D){w=()=>Promise.reject(D)}to.set(_.auth._key(),w)}return _.bypassAuthState||to.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,o.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const D=yield w.auth._redirectUserForId(g.eventId);if(D)return w.user=D,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Lu(){return(Lu=(0,o.Z)(function*(I,g){const _=va(g),w=si(I);if(!(yield w._isAvailable()))return!1;const D="true"===(yield w._get(_));return yield w._remove(_),D})).apply(this,arguments)}function Th(I,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.Z)(function*(I,g){return si(I)._set(va(g),"true")})).apply(this,arguments)}function Ni(){to.clear()}function Uu(I,g){to.set(I._key(),g)}function si(I){return ut(I._redirectPersistence)}function va(I){return Xn(eo,I.config.apiKey,I.name)}function B_(I,g,_){return function ls(I,g,_){return xn.apply(this,arguments)}(I,g,_)}function xn(){return(xn=(0,o.Z)(function*(I,g,_){const w=mn(I);Me(I,g,Di),yield w._initializationPromise;const D=No(w,_);return yield Th(D,w),D._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Vu(I,g,_){return function N1(I,g,_){return Zr.apply(this,arguments)}(I,g,_)}function Zr(){return(Zr=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Di),yield w.auth._initializationPromise;const D=No(w.auth,_);yield Th(D,w.auth);const x=yield Ms(w);return D._openRedirect(w.auth,g,"reauthViaRedirect",x)})).apply(this,arguments)}function jn(I,g,_){return function Al(I,g,_){return no.apply(this,arguments)}(I,g,_)}function no(){return(no=(0,o.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Di),yield w.auth._initializationPromise;const D=No(w.auth,_);yield Wn(!1,w,g.providerId),yield Th(D,w.auth);const x=yield Ms(w);return D._openRedirect(w.auth,g,"linkViaRedirect",x)})).apply(this,arguments)}function Ch(I,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,o.Z)(function*(I,g){return yield mn(I)._initializationPromise,Oo(I,g,!1)})).apply(this,arguments)}function Oo(I,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,o.Z)(function*(I,g,_=!1){const w=mn(I),D=No(w,g),$=yield new ku(w,D,_).execute();return $&&!_&&(delete $.user._redirectEventId,yield w._persistUserIfCurrent($.user),yield w._setRedirectUser(null,g)),$})).apply(this,arguments)}function Ms(I){return bh.apply(this,arguments)}function bh(){return(bh=(0,o.Z)(function*(I){const g=xu(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Dl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ea(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sl(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!Sl(g)){const D=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(ce(this.auth,D))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bu(g))}saveEventToCache(g){this.cachedEventUids.add(Bu(g)),this.lastProcessedEventTime=Date.now()}}function Bu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function Sl({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function ju(I){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,o.Z)(function*(I,g={}){return de(I,"GET","/v1/projects",g)})).apply(this,arguments)}const St=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ia=/^https?/;function Ns(){return(Ns=(0,o.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield ju(I);for(const _ of g)try{if(og(_))return}catch{}Ce(I,"unauthorized-domain")})).apply(this,arguments)}function og(I){const g=Mt(),{protocol:_,hostname:w}=new URL(g);if(I.startsWith("chrome-extension://")){const $=new URL(I);return""===$.hostname&&""===w?"chrome-extension:"===_&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&$.hostname===w}if(!Ia.test(_))return!1;if(St.test(I))return w===I;const D=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(w)}const j_=new pn(3e4,6e4);function $r(){const I=Bn().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let $u=null;const ag=new pn(5e3,15e3),wa="__/auth/iframe",ug="emulator/auth/iframe",xr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lg(I){const g=I.config;k(g.authDomain,I,"auth-domain-config-required");const _=g.emulator?Xr(g,ug):`https://${I.config.authDomain}/${wa}`,w={apiKey:g.apiKey,appName:I.name,v:ie.SDK_VERSION},D=cg.get(I.config.apiHost);D&&(w.eid=D);const x=I._getFrameworks();return x.length&&(w.fw=x.join(",")),`${_}?${(0,L.xO)(w).slice(1)}`}function Ml(){return Ml=(0,o.Z)(function*(I){const g=yield function Rs(I){return $u=$u||function ro(I){return new Promise((g,_)=>{var w,D,x;function $(){$r(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{$r(),_(ce(I,"network-request-failed"))},timeout:j_.get()})}if(null!==(D=null===(w=Bn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==D&&D.Iframe)g(gapi.iframes.getContext());else{if(null===(x=Bn().gapi)||void 0===x||!x.load){const ee=jt("iframefcb");return Bn()[ee]=()=>{gapi.load?$():_(ce(I,"network-request-failed"))},Ci(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Pe=>_(Pe))}$()}}).catch(g=>{throw $u=null,g})}(I),$u}(I),_=Bn().gapi;return k(_,I,"internal-error"),g.open({where:document.body,url:lg(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xr,dontclear:!0},w=>new Promise(function(){var D=(0,o.Z)(function*(x,$){yield w.restyle({setHideOnLeave:!1});const ee=ce(I,"network-request-failed"),Pe=Bn().setTimeout(()=>{$(ee)},ag.get());function Le(){Bn().clearTimeout(Pe),x(w)}w.ping(Le).then(Le,()=>{$(ee)})});return function(x,$){return D.apply(this,arguments)}}()))}),Ml.apply(this,arguments)}const qu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ps{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const dg="__/auth/handler",Z_="emulator/auth/handler",Dh=encodeURIComponent("fac");function Ca(I,g,_,w,D,x){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,o.Z)(function*(I,g,_,w,D,x){k(I.config.authDomain,I,"auth-domain-config-required"),k(I.config.apiKey,I,"invalid-api-key");const $={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:w,v:ie.SDK_VERSION,eventId:D};if(g instanceof Di){g.setDefaultLanguage(I.languageCode),$.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||($.customParameters=JSON.stringify(g.getCustomParameters()));for(const[et,kt]of Object.entries(x||{}))$[et]=kt}if(g instanceof Do){const et=g.getScopes().filter(kt=>""!==kt);et.length>0&&($.scopes=et.join(","))}I.tenantId&&($.tid=I.tenantId);const ee=$;for(const et of Object.keys(ee))void 0===ee[et]&&delete ee[et];const Pe=yield I._getAppCheckToken(),Le=Pe?`#${Dh}=${encodeURIComponent(Pe)}`:"";return`${function xh({config:I}){return I.emulator?Xr(I,Z_):`https://${I.authDomain}/${dg}`}(I)}?${(0,L.xO)(ee).slice(1)}${Le}`})).apply(this,arguments)}const hg="webStorageSupport",ps=class fg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Su,this._completeRedirectFn=Oo,this._overrideRedirectResult=Uu}_openPopup(g,_,w,D){var x=this;return(0,o.Z)(function*(){var $;pe(null===($=x.eventManagers[g._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const ee=yield Ca(g,_,w,Mt(),D);return function Ah(I,g,_,w=500,D=600){const x=Math.max((window.screen.availHeight-D)/2,0).toString(),$=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Pe=Object.assign(Object.assign({},qu),{width:w.toString(),height:D.toString(),top:x,left:$}),Le=(0,L.z$)().toLowerCase();_&&(ee=Y(Le)?"_blank":_),q(Le)&&(g=g||"http://localhost",Pe.scrollbars="yes");const et=Object.entries(Pe).reduce((tr,[Os,Wi])=>`${tr}${Os}=${Wi},`,"");if(function $t(I=(0,L.z$)()){var g;return kn(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Le)&&"_self"!==ee)return function fs(I,g){const _=document.createElement("a");_.href=I,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",ee),new Ps(null);const kt=window.open(g||"",ee,et);k(kt,I,"popup-blocked");try{kt.focus()}catch{}return new Ps(kt)}(g,ee,xu())})()}_openRedirect(g,_,w,D){var x=this;return(0,o.Z)(function*(){return yield x._originValidation(g),function bs(I){Bn().location.href=I}(yield Ca(g,_,w,Mt(),D)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:D,promise:x}=this.eventManagers[_];return D?Promise.resolve(D):(pe(x,"If manager is not set, promise should be"),x)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,o.Z)(function*(){const w=yield function xl(I){return Ml.apply(this,arguments)}(g),D=new Dl(g);return w.register("authEvent",x=>(k(x?.authEvent,g,"invalid-auth-event"),{status:D.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:D},_.iframes[g._key()]=w,D})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(hg,{type:hg},D=>{var x;const $=null===(x=D?.[0])||void 0===x?void 0:x[hg];void 0!==$&&_(!!$),Ce(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function sg(I){return Ns.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return ss()||le()||kn()}};class pg{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return W("unexpected MultiFactorSessionType")}}}class Nl extends pg{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Nl(g)}_finalizeEnroll(g,_,w){return function R_(I,g){return de(I,"POST","/v2/accounts/mfaEnrollment:finalize",J(I,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function pr(I,g){return de(I,"POST","/v2/accounts/mfaSignIn:finalize",J(I,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zn=(()=>{class I{constructor(){}static assertion(_){return Nl._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var Fo="@firebase/auth";class Pl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,o.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.Pz)("authIdTokenMaxAge"),function $_(I){(0,ie._registerComponent)(new ye.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),D=g.getProvider("heartbeat"),x=g.getProvider("app-check-internal"),{apiKey:$,authDomain:ee}=w.options;k($&&!$.includes(":"),"invalid-api-key",{appName:w.name});const Pe={apiKey:$,authDomain:ee,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fu(I)},Le=new bi(w,D,x,Pe);return function mu(I,g){const _=g?.persistence||[],w=(Array.isArray(_)?_:[_]).map(ut);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(w,g?.popupRedirectResolver)}(Le,_),Le},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ye.wA("auth-internal",g=>{const _=mn(g.getProvider("auth").getImmediate());return new Pl(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Fo,"0.23.2",function Hu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ie.registerVersion)(Fo,"0.23.2","esm2017")}("Browser")},9058:(it,Ee,P)=>{P.d(Ee,{$s:()=>ut,BH:()=>ve,L:()=>Se,LL:()=>Ne,P0:()=>we,Pz:()=>ce,Sg:()=>Me,UG:()=>W,US:()=>ye,ZB:()=>re,ZR:()=>de,aH:()=>Ce,b$:()=>cn,eu:()=>te,hl:()=>Q,jU:()=>pe,m9:()=>Xn,ne:()=>Vr,pd:()=>Tt,q4:()=>Ye,r3:()=>wt,ru:()=>Mt,tV:()=>B,uI:()=>k,vZ:()=>ei,w1:()=>ln,xO:()=>ts,xb:()=>Ur,z$:()=>K,zI:()=>oe,zd:()=>zn});const se=function(U){const F=[];let q=0;for(let le=0;le<U.length;le++){let Y=U.charCodeAt(le);Y<128?F[q++]=Y:Y<2048?(F[q++]=Y>>6|192,F[q++]=63&Y|128):55296==(64512&Y)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(Y=65536+((1023&Y)<<10)+(1023&U.charCodeAt(++le)),F[q++]=Y>>18|240,F[q++]=Y>>12&63|128,F[q++]=Y>>6&63|128,F[q++]=63&Y|128):(F[q++]=Y>>12|224,F[q++]=Y>>6&63|128,F[q++]=63&Y|128)}return F},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Y=0;Y<U.length;Y+=3){const Xe=U[Y],vt=Y+1<U.length,Yt=vt?U[Y+1]:0,On=Y+2<U.length,kn=On?U[Y+2]:0;let an=(15&Yt)<<2|kn>>6,ss=63&kn;On||(ss=64,vt||(an=64)),le.push(q[Xe>>2],q[(3&Xe)<<4|Yt>>4],q[an],q[ss])}return le.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(se(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let q=0,le=0;for(;q<U.length;){const Y=U[q++];if(Y<128)F[le++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Xe=U[q++];F[le++]=String.fromCharCode((31&Y)<<6|63&Xe)}else if(Y>239&&Y<365){const On=((7&Y)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;F[le++]=String.fromCharCode(55296+(On>>10)),F[le++]=String.fromCharCode(56320+(1023&On))}else{const Xe=U[q++],vt=U[q++];F[le++]=String.fromCharCode((15&Y)<<12|(63&Xe)<<6|63&vt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const q=F?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Y=0;Y<U.length;){const Xe=q[U.charAt(Y++)],Yt=Y<U.length?q[U.charAt(Y)]:0;++Y;const kn=Y<U.length?q[U.charAt(Y)]:64;++Y;const $t=Y<U.length?q[U.charAt(Y)]:64;if(++Y,null==Xe||null==Yt||null==kn||null==$t)throw new Re;le.push(Xe<<2|Yt>>4),64!==kn&&(le.push(Yt<<4&240|kn>>2),64!==$t&&le.push(kn<<6&192|$t))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(U){return function(U){const F=se(U);return ye.encodeByteArray(F,!0)}(U).replace(/\./g,"")},B=function(U){try{return ye.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function re(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const q in F)!F.hasOwnProperty(q)||!Oe(q)||(U[q]=re(U[q],F[q]));return U}function Oe(U){return"__proto__"!==U}const Ae=()=>{try{return function ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&B(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Ye=U=>{var F,q;return null===(q=null===(F=Ae())||void 0===F?void 0:F.emulatorHosts)||void 0===q?void 0:q[U]},we=U=>{const F=Ye(U);if(!F)return;const q=F.lastIndexOf(":");if(q<=0||q+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const le=parseInt(F.substring(q+1),10);return"["===F[0]?[F.substring(1,q-1),le]:[F.substring(0,q),le]},Ce=()=>{var U;return null===(U=Ae())||void 0===U?void 0:U.config},ce=U=>{var F;return null===(F=Ae())||void 0===F?void 0:F[`_${U}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,q)=>{this.resolve=F,this.reject=q})}wrapCallback(F){return(q,le)=>{q?this.reject(q):this.resolve(le),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(q):F(q,le))}}}function Me(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=F||"demo-project",Y=U.iat||0,Xe=U.sub||U.user_id;if(!Xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Y,exp:Y+3600,auth_time:Y,sub:Xe,user_id:Xe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(vt)),""].join(".")}function K(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function W(){var U;const F=null===(U=Ae())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Mt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ln(){const U=K();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((U,F)=>{try{let q=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(le);Y.onsuccess=()=>{Y.result.close(),q||self.indexedDB.deleteDatabase(le),U(!0)},Y.onupgradeneeded=()=>{q=!1},Y.onerror=()=>{var Xe;F((null===(Xe=Y.error)||void 0===Xe?void 0:Xe.message)||"")}}catch(q){F(q)}})}function oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class de extends Error{constructor(F,q,le){super(q),this.code=F,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(F,q,le){this.service=F,this.serviceName=q,this.errors=le}create(F,...q){const le=q[0]||{},Y=`${this.service}/${F}`,Xe=this.errors[F],vt=Xe?function ot(U,F){return U.replace(Ft,(q,le)=>{const Y=F[le];return null!=Y?String(Y):`<${le}?>`})}(Xe,le):"Error";return new de(Y,`${this.serviceName}: ${vt} (${Y}).`,le)}}const Ft=/\{\$([^}]+)}/g;function wt(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function Ur(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function ei(U,F){if(U===F)return!0;const q=Object.keys(U),le=Object.keys(F);for(const Y of q){if(!le.includes(Y))return!1;const Xe=U[Y],vt=F[Y];if(aa(Xe)&&aa(vt)){if(!ei(Xe,vt))return!1}else if(Xe!==vt)return!1}for(const Y of le)if(!q.includes(Y))return!1;return!0}function aa(U){return null!==U&&"object"==typeof U}function ts(U){const F=[];for(const[q,le]of Object.entries(U))Array.isArray(le)?le.forEach(Y=>{F.push(encodeURIComponent(q)+"="+encodeURIComponent(Y))}):F.push(encodeURIComponent(q)+"="+encodeURIComponent(le));return F.length?"&"+F.join("&"):""}function zn(U){const F={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Y,Xe]=le.split("=");F[decodeURIComponent(Y)]=decodeURIComponent(Xe)}}),F}function Tt(U){const F=U.indexOf("?");if(!F)return"";const q=U.indexOf("#",F);return U.substring(F,q>0?q:void 0)}function Vr(U,F){const q=new yt(U,F);return q.subscribe.bind(q)}class yt{constructor(F,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{F(this)}).catch(le=>{this.error(le)})}next(F){this.forEachObserver(q=>{q.next(F)})}error(F){this.forEachObserver(q=>{q.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,q,le){let Y;if(void 0===F&&void 0===q&&void 0===le)throw new Error("Missing Observer.");Y=function ns(U,F){if("object"!=typeof U||null===U)return!1;for(const q of F)if(q in U&&"function"==typeof U[q])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:q,complete:le},void 0===Y.next&&(Y.next=Bt),void 0===Y.error&&(Y.error=Bt),void 0===Y.complete&&(Y.complete=Bt);const Xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Xe}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,F)}sendOne(F,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{q(this.observers[F])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bt(){}const is=1e3,$e=2,fe=144e5,We=.5;function ut(U,F=is,q=$e){const le=F*Math.pow(q,U),Y=Math.round(We*le*(Math.random()-.5)*2);return Math.min(fe,le+Y)}function Xn(U){return U&&U._delegate?U._delegate:U}},4130:(it,Ee,P)=>{var o=P(8926);let L=null;function ie(){return L}class he{}const ye=new o.OlP("DocumentToken");let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Se)},providedIn:"platform"})}return n})();const Ue=new o.OlP("Location Initialized");let Se=(()=>{class n extends Re{constructor(){super(),this._doc=(0,o.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function B(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function j(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function re(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Qe)},providedIn:"root"})}return n})();const ue=new o.OlP("appBaseHref");let Qe=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return B(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+re(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const l=this.prepareExternalUrl(i+re(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){const l=this.prepareExternalUrl(i+re(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Re),o.LFG(ue,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ve=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=B(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let l=this.prepareExternalUrl(i+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){let l=this.prepareExternalUrl(i+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Re),o.LFG(ue,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})(),xe=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ce(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(j(we(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+re(r))}normalize(t){return n.stripTrailingSlash(function Ye(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=re;static#t=this.joinWithSlash=B;static#n=this.stripTrailingSlash=j;static#r=this.\u0275fac=function(r){return new(r||n)(o.LFG(Oe))};static#i=this.\u0275prov=o.Yz7({token:n,factory:function(){return function Ae(){return new xe((0,o.LFG)(Oe))}()},providedIn:"root"})}return n})();function we(n){return n.replace(/\/index.html$/,"")}var K=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(K||{}),k=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(k||{}),W=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(W||{}),pe=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(pe||{});function te(n,e){return wt((0,o.cg1)(n)[o.wAp.DateFormat],e)}function oe(n,e){return wt((0,o.cg1)(n)[o.wAp.TimeFormat],e)}function J(n,e){return wt((0,o.cg1)(n)[o.wAp.DateTimeFormat],e)}function de(n,e){const t=(0,o.cg1)(n),r=t[o.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===pe.CurrencyDecimal)return t[o.wAp.NumberSymbols][pe.Decimal];if(e===pe.CurrencyGroup)return t[o.wAp.NumberSymbols][pe.Group]}return r}function je(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Tr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const aa=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ws={},ts=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(zn||{}),Tt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Tt||{}),Ot=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ot||{});function Vr(n,e,t,r){let i=function F(n){if(le(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,l=1]=n.split("-").map(f=>+f);return yt(i,u-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(aa))return function q(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,l,f,m,v),e}(r)}const e=new Date(n);if(!le(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=cr(t,e)||e;let f,l=[];for(;e;){if(f=ts.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const C=l.pop();if(!C)break;e=C}}let m=i.getTimezoneOffset();r&&(m=Qt(r,m),i=function U(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Xn(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Qt(e,i)-i))}(i,r,!0));let v="";return l.forEach(C=>{const A=function Gt(n){if(ut[n])return ut[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ht(Ot.Eras,k.Abbreviated);break;case"GGGG":e=Ht(Ot.Eras,k.Wide);break;case"GGGGG":e=Ht(Ot.Eras,k.Narrow);break;case"y":e=nn(Tt.FullYear,1,0,!1,!0);break;case"yy":e=nn(Tt.FullYear,2,0,!0,!0);break;case"yyy":e=nn(Tt.FullYear,3,0,!1,!0);break;case"yyyy":e=nn(Tt.FullYear,4,0,!1,!0);break;case"Y":e=We(1);break;case"YY":e=We(2,!0);break;case"YYY":e=We(3);break;case"YYYY":e=We(4);break;case"M":case"L":e=nn(Tt.Month,1,1);break;case"MM":case"LL":e=nn(Tt.Month,2,1);break;case"MMM":e=Ht(Ot.Months,k.Abbreviated);break;case"MMMM":e=Ht(Ot.Months,k.Wide);break;case"MMMMM":e=Ht(Ot.Months,k.Narrow);break;case"LLL":e=Ht(Ot.Months,k.Abbreviated,K.Standalone);break;case"LLLL":e=Ht(Ot.Months,k.Wide,K.Standalone);break;case"LLLLL":e=Ht(Ot.Months,k.Narrow,K.Standalone);break;case"w":e=fe(1);break;case"ww":e=fe(2);break;case"W":e=fe(1,!0);break;case"d":e=nn(Tt.Date,1);break;case"dd":e=nn(Tt.Date,2);break;case"c":case"cc":e=nn(Tt.Day,1);break;case"ccc":e=Ht(Ot.Days,k.Abbreviated,K.Standalone);break;case"cccc":e=Ht(Ot.Days,k.Wide,K.Standalone);break;case"ccccc":e=Ht(Ot.Days,k.Narrow,K.Standalone);break;case"cccccc":e=Ht(Ot.Days,k.Short,K.Standalone);break;case"E":case"EE":case"EEE":e=Ht(Ot.Days,k.Abbreviated);break;case"EEEE":e=Ht(Ot.Days,k.Wide);break;case"EEEEE":e=Ht(Ot.Days,k.Narrow);break;case"EEEEEE":e=Ht(Ot.Days,k.Short);break;case"a":case"aa":case"aaa":e=Ht(Ot.DayPeriods,k.Abbreviated);break;case"aaaa":e=Ht(Ot.DayPeriods,k.Wide);break;case"aaaaa":e=Ht(Ot.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":e=Ht(Ot.DayPeriods,k.Abbreviated,K.Standalone,!0);break;case"bbbb":e=Ht(Ot.DayPeriods,k.Wide,K.Standalone,!0);break;case"bbbbb":e=Ht(Ot.DayPeriods,k.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ht(Ot.DayPeriods,k.Abbreviated,K.Format,!0);break;case"BBBB":e=Ht(Ot.DayPeriods,k.Wide,K.Format,!0);break;case"BBBBB":e=Ht(Ot.DayPeriods,k.Narrow,K.Format,!0);break;case"h":e=nn(Tt.Hours,1,-12);break;case"hh":e=nn(Tt.Hours,2,-12);break;case"H":e=nn(Tt.Hours,1);break;case"HH":e=nn(Tt.Hours,2);break;case"m":e=nn(Tt.Minutes,1);break;case"mm":e=nn(Tt.Minutes,2);break;case"s":e=nn(Tt.Seconds,1);break;case"ss":e=nn(Tt.Seconds,2);break;case"S":e=nn(Tt.FractionalSeconds,1);break;case"SS":e=nn(Tt.FractionalSeconds,2);break;case"SSS":e=nn(Tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Nt(zn.Short);break;case"ZZZZZ":e=Nt(zn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nt(zn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nt(zn.Long);break;default:return null}return ut[n]=e,e}(C);v+=A?A(i,t,m):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function yt(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function cr(n,e){const t=function cn(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(Ws[t]=Ws[t]||{},Ws[t][e])return Ws[t][e];let r="";switch(e){case"shortDate":r=te(n,W.Short);break;case"mediumDate":r=te(n,W.Medium);break;case"longDate":r=te(n,W.Long);break;case"fullDate":r=te(n,W.Full);break;case"shortTime":r=oe(n,W.Short);break;case"mediumTime":r=oe(n,W.Medium);break;case"longTime":r=oe(n,W.Long);break;case"fullTime":r=oe(n,W.Full);break;case"short":const i=cr(n,"shortTime"),u=cr(n,"shortDate");r=ns(J(n,W.Short),[i,u]);break;case"medium":const l=cr(n,"mediumTime"),f=cr(n,"mediumDate");r=ns(J(n,W.Medium),[l,f]);break;case"long":const m=cr(n,"longTime"),v=cr(n,"longDate");r=ns(J(n,W.Long),[m,v]);break;case"full":const C=cr(n,"fullTime"),A=cr(n,"fullDate");r=ns(J(n,W.Full),[C,A])}return r&&(Ws[t][e]=r),r}function ns(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Bt(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),u+l}function nn(n,e,t=0,r=!1,i=!1){return function(u,l){let f=function gn(n,e){switch(n){case Tt.FullYear:return e.getFullYear();case Tt.Month:return e.getMonth();case Tt.Date:return e.getDate();case Tt.Hours:return e.getHours();case Tt.Minutes:return e.getMinutes();case Tt.Seconds:return e.getSeconds();case Tt.FractionalSeconds:return e.getMilliseconds();case Tt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||f>-t)&&(f+=t),n===Tt.Hours)0===f&&-12===t&&(f=12);else if(n===Tt.FractionalSeconds)return function rs(n,e){return Bt(n,3).substring(0,e)}(f,e);const m=de(l,pe.MinusSign);return Bt(f,e,m,r,i)}}function Ht(n,e,t=K.Format,r=!1){return function(i,u){return function Zc(n,e,t,r,i,u){switch(t){case Ot.Months:return function fn(n,e,t){const r=(0,o.cg1)(n),u=wt([r[o.wAp.MonthsFormat],r[o.wAp.MonthsStandalone]],e);return wt(u,t)}(e,i,r)[n.getMonth()];case Ot.Days:return function ln(n,e,t){const r=(0,o.cg1)(n),u=wt([r[o.wAp.DaysFormat],r[o.wAp.DaysStandalone]],e);return wt(u,t)}(e,i,r)[n.getDay()];case Ot.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(u){const v=function tn(n){const e=(0,o.cg1)(n);return je(e),(e[o.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Tr(r):[Tr(r[0]),Tr(r[1])])}(e),C=function Fr(n,e,t){const r=(0,o.cg1)(n);je(r);const u=wt([r[o.wAp.ExtraData][0],r[o.wAp.ExtraData][1]],e)||[];return wt(u,t)||[]}(e,i,r),A=v.findIndex(M=>{if(Array.isArray(M)){const[O,Z]=M,G=l>=O.hours&&f>=O.minutes,X=l<Z.hours||l===Z.hours&&f<Z.minutes;if(O.hours<Z.hours){if(G&&X)return!0}else if(G||X)return!0}else if(M.hours===l&&M.minutes===f)return!0;return!1});if(-1!==A)return C[A]}return function Pn(n,e,t){const r=(0,o.cg1)(n),u=wt([r[o.wAp.DayPeriodsFormat],r[o.wAp.DayPeriodsStandalone]],e);return wt(u,t)}(e,i,r)[l<12?0:1];case Ot.Eras:return function pn(n,e){return wt((0,o.cg1)(n)[o.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Nt(n){return function(e,t,r){const i=-1*r,u=de(t,pe.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case zn.Short:return(i>=0?"+":"")+Bt(l,2,u)+Bt(Math.abs(i%60),2,u);case zn.ShortGMT:return"GMT"+(i>=0?"+":"")+Bt(l,1,u);case zn.Long:return"GMT"+(i>=0?"+":"")+Bt(l,2,u)+":"+Bt(Math.abs(i%60),2,u);case zn.Extended:return 0===r?"Z":(i>=0?"+":"")+Bt(l,2,u)+":"+Bt(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}const ua=0,wi=4;function $e(n){return yt(n.getFullYear(),n.getMonth(),n.getDate()+(wi-n.getDay()))}function fe(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+u)/7)}else{const u=$e(t),l=function is(n){const e=yt(n,ua,1).getDay();return yt(n,0,1+(e<=wi?wi:wi+7)-e)}(u.getFullYear()),f=u.getTime()-l.getTime();i=1+Math.round(f/6048e5)}return Bt(i,n,de(r,pe.MinusSign))}}function We(n,e=!1){return function(t,r){return Bt($e(t).getFullYear(),n,de(r,pe.MinusSign),e)}}const ut={};function Qt(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function le(n){return n instanceof Date&&!isNaN(n.valueOf())}function pu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class Rp{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Rp(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const f=r.get(u);r.move(f,l),mn(f,i)}});for(let i=0,u=r.length;i<u;i++){const f=r.get(i).context;f.index=i,f.count=u,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{mn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function mn(n,e){n.context.$implicit=e.item}let dr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.s_b),o.Y36(o.Rgc))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class mu{constructor(){this.$implicit=null,this.ngIf=null}}function qc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}const h_=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Wc=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Kc=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,u){if(null==t||""===t||t!=t)return null;try{return Vr(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function ni(n,e){return new o.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.soG,16),o.Y36(h_,24),o.Y36(Wc,24))};static#t=this.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),en=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();function jr(n){return"server"===n}let Do=(()=>{class n{static#e=this.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new os((0,o.LFG)(ye),window)})}return n})();class os{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wn(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class So{}class lh extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $p extends lh{static makeCurrent(){!function se(n){L||(L=n)}(new $p)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function T1(){return fl=fl||document.querySelector("base"),fl?fl.getAttribute("href"):null}();return null==t?null:function qp(n){pl=pl||document.createElement("a"),pl.setAttribute("href",n);const e=pl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){fl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pu(document.cookie,e)}}let pl,fl=null,C1=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Hp=new o.OlP("EventManagerPlugins");let M_=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new o.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Hp),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class N_{constructor(e){this._doc=e}}const dh="ng-app-id";let gl=(()=>{class n{constructor(t,r,i,u={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jr(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${dh}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const u=i.get(t);return u.usage+=r,u.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,u=i?.get(r);if(u?.parentNode===t)return i.delete(r),u.removeAttribute(dh),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(dh,this.appId),l}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(i):u.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye),o.LFG(o.AFp),o.LFG(o.Ojb,8),o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Js={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Au=/%COMP%/g,zp=new o.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fa(n,e){return e.map(t=>t.replace(Au,n))}let fh=(()=>{class n{constructor(t,r,i,u,l,f,m,v=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=f,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=jr(f),this.defaultRenderer=new Dr(t,l,m,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===o.ifc.ShadowDom&&(r={...r,encapsulation:o.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof fr?i.applyToHost(t):i instanceof Du&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const l=this.doc,f=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,A=this.platformIsServer;switch(r.encapsulation){case o.ifc.Emulated:u=new fr(m,v,r,this.appId,C,l,f,A);break;case o.ifc.ShadowDom:return new gh(m,v,t,r,l,f,this.nonce,A);default:u=new Du(m,v,r,C,l,f,A)}i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(M_),o.LFG(gl),o.LFG(o.AFp),o.LFG(zp),o.LFG(ye),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(o.Ojb))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class Dr{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Js[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(rn(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(rn(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new o.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Js[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Js[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,r,i&o.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=ie().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function rn(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class gh extends Dr{constructor(e,t,r,i,u,l,f,m){super(e,u,l,m),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=fa(i.id,i.styles);for(const C of v){const A=document.createElement("style");f&&A.setAttribute("nonce",f),A.textContent=C,this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Du extends Dr{constructor(e,t,r,i,u,l,f,m){super(e,u,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=m?fa(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class fr extends Du{constructor(e,t,r,i,u,l,f,m){const v=i+"-"+r.id;super(e,t,r,u,l,f,m,v),this.contentAttr=function Wp(n){return"_ngcontent-%COMP%".replace(Au,n)}(v),this.hostAttr=function hh(n){return"_nghost-%COMP%".replace(Au,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let A1=(()=>{class n extends N_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Su=["alt","control","meta","shift"],pa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ri={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xu=(()=>{class n extends N_{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ie().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Su.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),l+=v+".")}),l+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=i,m.fullKey=l,m}static matchEventFullKeyCode(t,r){let i=pa[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Su.forEach(l=>{l!==i&&(0,ri[l])(t)&&(u+=l+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Qp=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function O_(){$p.makeCurrent()},multi:!0},{provide:ye,useFactory:function Kp(){return(0,o.RDi)(document),document},deps:[]}]),ft=new o.OlP(""),ga=[{provide:o.rWj,useClass:class x_{addToWindow(e){o.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new o.vHH(5103,!1);return u},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(r=>{const i=o.dqk.getAllAngularTestabilities();let u=i.length,l=!1;const f=function(m){l=l||m,u--,0==u&&r(l)};i.forEach(m=>{m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ie().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Yp=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function _l(){return new o.qLn},deps:[]},{provide:Hp,useClass:A1,multi:!0,deps:[ye,o.R0b,o.Lbi]},{provide:Hp,useClass:xu,multi:!0,deps:[ye]},fh,gl,M_,{provide:o.FYo,useExisting:fh},{provide:So,useClass:C1,deps:[]},[]];let ma=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ft,12))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[...Yp,...ga],imports:[en,o.hGG]})}return n})(),yl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Mo(){return new yl((0,o.LFG)(ye))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let Nu=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(r){let i=null;return i=r?new(r||n):o.LFG(cs),i},providedIn:"root"})}return n})(),cs=(()=>{class n extends Nu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case o.q3G.NONE:return r;case o.q3G.HTML:return(0,o.qzn)(r,"HTML")?(0,o.z3N)(r):(0,o.EiD)(this._doc,String(r)).toString();case o.q3G.STYLE:return(0,o.qzn)(r,"Style")?(0,o.z3N)(r):r;case o.q3G.SCRIPT:if((0,o.qzn)(r,"Script"))return(0,o.z3N)(r);throw new o.vHH(5200,!1);case o.q3G.URL:return(0,o.qzn)(r,"URL")?(0,o.z3N)(r):(0,o.mCW)(String(r));case o.q3G.RESOURCE_URL:if((0,o.qzn)(r,"ResourceURL"))return(0,o.z3N)(r);throw new o.vHH(5201,!1);default:throw new o.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,o.JVY)(t)}bypassSecurityTrustStyle(t){return(0,o.L6k)(t)}bypassSecurityTrustScript(t){return(0,o.eBb)(t)}bypassSecurityTrustUrl(t){return(0,o.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,o.pB0)(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Sr(n){return new cs(n.get(ye))}(o.LFG(o.zs3)),i},providedIn:"root"})}return n})();var Kn=P(5592),Ds=P(4674),Tn=P(2459),at=P(2096),er=P(5619);const{isArray:Pu}=Array,{getPrototypeOf:Il,prototype:rg,keys:wl}=Object;function Tl(n){if(1===n.length){const e=n[0];if(Pu(e))return{args:e,keys:null};if(function No(n){return n&&"object"==typeof n&&Il(n)===rg}(e)){const t=wl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ro=P(2737),gt=P(7398);const{isArray:Po}=Array;function Ou(n){return(0,gt.U)(e=>function yn(n,e){return Po(e)?n(...e):n(e)}(n,e))}var _a=P(4564);function ig(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ii=P(8251),Cl=P(7103);function bl(...n){const e=(0,_a.yG)(n),t=(0,_a.jO)(n),{args:r,keys:i}=Tl(n);if(0===r.length)return(0,Tn.D)([],e);const u=new Kn.y(function ya(n,e,t=Ro.y){return r=>{Ss(e,()=>{const{length:i}=n,u=new Array(i);let l=i,f=i;for(let m=0;m<i;m++)Ss(e,()=>{const v=(0,Tn.D)(n[m],e);let C=!1;v.subscribe((0,ii.x)(r,A=>{u[m]=A,C||(C=!0,f--),f||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>ig(i,l):Ro.y));return t?u.pipe(Ou(t)):u}function Ss(n,e,t){n?(0,Cl.f)(t,n,e):e()}const xs=(0,P(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var eo=P(7537);function ku(...n){return function to(){return(0,eo.J)(1)}()((0,Tn.D)(n,(0,_a.yG)(n)))}var Fu=P(4829);function Lu(n){return new Kn.y(e=>{(0,Fu.Xf)(n()).subscribe(e)})}var Th=P(8407);function Mi(n,e){const t=(0,Ds.m)(n)?n:()=>n,r=i=>i.error(t());return new Kn.y(e?i=>e.schedule(r,0,i):r)}var Ni=P(6232),Uu=P(7394),si=P(9360);function va(){return(0,si.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ii.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class B_ extends Kn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,si.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Uu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ii.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Uu.w0.EMPTY)}return e}refCount(){return va()(this)}}var ls=P(8645),xn=P(4664);function Vu(n){return n<=0?()=>Ni.E:(0,si.e)((e,t)=>{let r=0;e.subscribe((0,ii.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zr(n,e){return(0,si.e)((t,r)=>{let i=0;t.subscribe((0,ii.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var jn=P(1631);function Al(n){return(0,si.e)((e,t)=>{let r=!1;e.subscribe((0,ii.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function no(n=Ch){return(0,si.e)((e,t)=>{let r=!1;e.subscribe((0,ii.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ch(){return new xs}function oi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((i,u)=>n(i,u,r)):Ro.y,Vu(1),t?Al(e):no(()=>new xs))}function Oo(n,e){return(0,Ds.m)(e)?(0,jn.z)(n,e,1):(0,jn.z)(n,1)}function Mn(n,e,t){const r=(0,Ds.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,si.e)((i,u)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let f=!0;i.subscribe((0,ii.x)(u,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),u.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),u.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),u.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Ro.y}function Ms(n){return(0,si.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,ii.x)(t,void 0,void 0,l=>{u=(0,Fu.Xf)(n(l,Ms(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Dl(n){return n<=0?()=>Ni.E:(0,si.e)((e,t)=>{let r=[];e.subscribe((0,ii.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ea(n){return(0,si.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var ju=P(2420);const St="primary",Ia=Symbol("RouteTitle");class sg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ns(n){return new sg(n)}function og(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const l=r[u],f=n[u];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $r(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!ro(n[i],e[i]))return!1;return!0}function ro(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function $u(n){return n.length>0?n[n.length-1]:null}function Rs(n){return function Ih(n){return!!n&&(n instanceof Kn.y||(0,Ds.m)(n.lift)&&(0,Ds.m)(n.subscribe))}(n)?n:(0,o.QGY)(n)?(0,Tn.D)(Promise.resolve(n)):(0,at.of)(n)}const ag={exact:function cg(n,e,t){if(!Ps(n.segments,e.segments)||!qu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!cg(n.children[r],e.children[r],t))return!1;return!0},subset:xl},wa={exact:function xr(n,e){return $r(n,e)},subset:function lg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ro(n[t],e[t]))},ignored:()=>!0};function ug(n,e,t){return ag[t.paths](n.root,e.root,t.matrixParams)&&wa[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function xl(n,e,t){return Ml(n,e,e.segments,t)}function Ml(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ps(i,t)||e.hasChildren()||!qu(i,t,r))}if(n.segments.length===t.length){if(!Ps(n.segments,t)||!qu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!xl(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ps(n.segments,i)&&qu(n.segments,i,r)&&n.children[St])&&Ml(n.children[St],e,u,r)}}function qu(n,e,t){return e.every((r,i)=>wa[t](n[i].parameters,r.parameters))}class io{constructor(e=new Vt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return Z_.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dh(this)}}class hs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ns(this.parameters)),this._parameterMap}toString(){return Nl(this)}}function Ps(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let fs=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return new dg},providedIn:"root"})}return n})();class dg{parse(e){const t=new P1(e);return new io(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ca(e.root,!0)}`,r=function R1(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${xh(t)}=${xh(i)}`).join("&"):`${xh(t)}=${xh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function hg(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Z_=new dg;function Dh(n){return n.segments.map(e=>Nl(e)).join("/")}function Ca(n,e){if(!n.hasChildren())return Dh(n);if(e){const t=n.children[St]?Ca(n.children[St],!1):"",r=[];return Object.entries(n.children).forEach(([i,u])=>{i!==St&&r.push(`${i}:${Ca(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ah(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===St&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==St&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===St?[Ca(n.children[St],!1)]:[`${i}:${Ca(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${Dh(n)}/${t[0]}`:`${Dh(n)}/(${t.join("//")})`}}function Sh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xh(n){return Sh(n).replace(/%3B/gi,";")}function fg(n){return Sh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ps(n){return decodeURIComponent(n)}function pg(n){return ps(n.replace(/\+/g,"%20"))}function Nl(n){return`${fg(n.path)}${function Zn(n){return Object.keys(n).map(e=>`;${fg(e)}=${fg(n[e])}`).join("")}(n.parameters)}`}const ko=/^[^\/()?;#]+/;function Rl(n){const e=n.match(ko);return e?e[0]:""}const Mr=/^[^\/()?;=#]+/,Mh=/^[^=?&#]+/,Hu=/^[^&#]+/;class P1{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[St]=new Vt(e,t)),r}parseSegment(){const e=Rl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(e),new hs(ps(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Fo(n){const e=n.match(Mr);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Rl(this.remaining);i&&(r=i,this.capture(r))}e[ps(t)]=ps(r)}parseQueryParam(e){const t=function Pl(n){const e=n.match(Mh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function $_(n){const e=n.match(Hu);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=pg(t),u=pg(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Rl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new o.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=St);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[St]:new Vt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,!1)}}function gg(n){return n.segments.length>0?new Vt([],{[St]:n}):n}function mg(n){const e={};for(const r of Object.keys(n.children)){const u=mg(n.children[r]);if(r===St&&0===u.segments.length&&u.hasChildren())for(const[l,f]of Object.entries(u.children))e[l]=f;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function ai(n){if(1===n.numberOfChildren&&n.children[St]){const e=n.children[St];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}function so(n){return n instanceof io}function g(n){let e;const i=gg(function t(u){const l={};for(const m of u.children){const v=t(m);l[m.outlet]=v}const f=new Vt(u.url,l);return u===n&&(e=f),f}(n.root));return e??i}function _(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return x(i,i,i,t,r);const u=function Pe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ee(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Object.entries(u.outlets).forEach(([m,v])=>{f[m]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===l?(u.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new ee(t,e,r)}(e);if(u.toRoot())return x(i,i,new Vt([],{}),t,r);const l=function et(n,e,t){if(n.isAbsolute)return new Le(e,!0,0);if(!t)return new Le(e,!1,NaN);if(null===t.parent)return new Le(t,!0,0);const r=w(n.commands[0])?0:1;return function kt(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new o.vHH(4005,!1);i=r.segments.length}return new Le(r,!1,i-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,i,n),f=l.processChildren?Wi(l.segmentGroup,l.index,u.commands):Os(l.segmentGroup,l.index,u.commands);return x(i,l.segmentGroup,f,t,r)}function w(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function D(n){return"object"==typeof n&&null!=n&&n.outlets}function x(n,e,t,r,i){let l,u={};r&&Object.entries(r).forEach(([m,v])=>{u[m]=Array.isArray(v)?v.map(C=>`${C}`):`${v}`}),l=n===e?t:$(n,e,t);const f=gg(mg(l));return new io(f,u,i)}function $(n,e,t){const r={};return Object.entries(n.children).forEach(([i,u])=>{r[i]=u===e?t:$(u,e,t)}),new Vt(n.segments,r)}class ee{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&w(r[0]))throw new o.vHH(4003,!1);const i=r.find(D);if(i&&i!==$u(r))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Le{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Os(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return Wi(n,e,t);const r=function _g(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const l=n.segments[i],f=t[r];if(D(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!Gu(m,v,l))return u;r+=2}else{if(!Gu(m,{},l))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Vt(n.segments.slice(0,r.pathIndex),{});return u.children[St]=new Vt(n.segments.slice(r.pathIndex),n.children),Wi(u,0,i)}return r.match&&0===i.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?ba(n,e,t):r.match?Wi(n,0,i):ba(n,e,t)}function Wi(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function tr(n){return D(n[0])?n[0].outlets:{[St]:n}}(t),i={};if(Object.keys(r).some(u=>u!==St)&&n.children[St]&&1===n.numberOfChildren&&0===n.children[St].segments.length){const u=Wi(n.children[St],e,t);return new Vt(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[u]=Os(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(i[u]=l)}),new Vt(n.segments,i)}}function ba(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(D(u)){const m=Ol(u.outlets);return new Vt(r,m)}if(0===i&&w(t[0])){r.push(new hs(n.segments[e].path,Aa(t[0]))),i++;continue}const l=D(u)?u.outlets[St]:`${u}`,f=i<t.length-1?t[i+1]:null;l&&f&&w(f)?(r.push(new hs(l,Aa(f))),i+=2):(r.push(new hs(l,{})),i++)}return new Vt(r,{})}function Ol(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=ba(new Vt([],{}),0,r))}),e}function Aa(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Gu(n,e,t){return n==t.path&&$r(e,t.parameters)}const Da="imperative";class Ki{constructor(e,t){this.id=e,this.url=t}}class Qi extends Ki{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ui extends Ki{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zu extends Ki{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lo extends Ki{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Wu extends Ki{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class O1 extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uk extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y3 extends Ki{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class v3 extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E3 extends Ki{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class k1{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class I3{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F1{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ck{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L1{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w3{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class q_{}class H_{constructor(e){this.url=e}}class lk{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vg,this.attachRef=null}}let vg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lk,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Eg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=V1(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=V1(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=B1(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return B1(e,this._root).map(t=>t.value)}}function V1(n,e){if(n===e.value)return e;for(const t of e.children){const r=V1(n,t);if(r)return r}return null}function B1(n,e){if(n===e.value)return[e];for(const t of e.children){const r=B1(n,t);if(r.length)return r.unshift(e),r}return[]}class Sa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Nh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class T3 extends Eg{constructor(e,t){super(e),this.snapshot=t,wg(this,e)}toString(){return this.snapshot.toString()}}function j1(n,e){const t=function Ig(n,e){const l=new Rh([],{},{},"",{},St,e,null,{});return new Ku("",new Sa(l,[]))}(0,e),r=new er.X([new hs("",{})]),i=new er.X({}),u=new er.X({}),l=new er.X({}),f=new er.X(""),m=new ci(r,i,l,f,u,St,e,t.root);return m.snapshot=t.root,new T3(new Sa(m,[]),t)}class ci{constructor(e,t,r,i,u,l,f,m){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=u,this.outlet=l,this.component=f,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,gt.U)(v=>v[Ia]))??(0,at.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Ns(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Ns(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function G_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function Z1(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Rh{get title(){return this.data?.[Ia]}constructor(e,t,r,i,u,l,f,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=f,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ns(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ku extends Eg{constructor(e,t){super(t),this.url=e,wg(this,t)}toString(){return z_(this._root)}}function wg(n,e){e.value._routerState=n,e.children.forEach(t=>wg(n,t))}function z_(n){const e=n.children.length>0?` { ${n.children.map(z_).join(", ")} } `:"";return`${n.value}${e}`}function kl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$r(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$r(e.params,t.params)||n.paramsSubject.next(t.params),function j_(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$r(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),$r(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fl(n,e){const t=$r(n.params,e.params)&&function Ta(n,e){return Ps(n,e)&&n.every((t,r)=>$r(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Fl(n.parent,e.parent))}let Ll=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(vg),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb),this.inputBinder=(0,o.f3M)(Tg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new o.vHH(4013,!1);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new C3(t,f,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]})}return n})();class C3{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ci?this.route:e===vg?this.childContexts:this.parent.get(e,t)}}const Tg=new o.OlP("");let $1=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=bl([r.queryParams,r.params,r.data]).pipe((0,xn.w)(([u,l,f],m)=>(f={...u,...l,...f},0===m?(0,at.of)(f):Promise.resolve(f)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,o.qFp)(r.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,u[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function Qu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function b3(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qu(n,r,i);return Qu(n,r)})}(n,e,t);return new Sa(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Qu(n,f)),l}}const r=function A3(n){return new ci(new er.X(n.url),new er.X(n.params),new er.X(n.queryParams),new er.X(n.fragment),new er.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Qu(n,u));return new Sa(r,i)}}const W_="ngNavigationCancelingError";function K_(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=so(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=H1(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function H1(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[W_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function li(n){return n&&n[W_]}let Cg=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(r,i){1&r&&o._UZ(0,"router-outlet")},dependencies:[Ll],encapsulation:2})}return n})();function Ag(n){const e=n.children&&n.children.map(Ag),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==St&&(t.component=Cg),t}function ks(n){return n.outlet||St}function Ph(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Y_{constructor(e,t,r,i,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Nh(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,i[l],r),delete i[l]}),Object.values(i).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Nh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Nh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Nh(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new L1(u.value.snapshot))}),e.children.length&&this.forwardEvent(new F1(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(kl(i),i===u)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),kl(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Ph(i.snapshot);l.attachRef=null,l.route=i,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Y1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xa{constructor(e,t){this.component=e,this.route=t}}function M3(n,e,t){const r=n._root;return Ul(r,e?e._root:null,t,[r.value])}function Yu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,o.Z0I)(n)?e.get(n):n:r}function Ul(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Nh(e);return n.children.forEach(l=>{(function J1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const m=function Vl(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ps(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ps(n.url,e.url)||!$r(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fl(n,e)||!$r(n.queryParams,e.queryParams);default:return!Fl(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new Y1(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Ul(n,e,u.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new xa(f.outlet.component,l))}else l&&Ma(e,f,i),i.canActivateChecks.push(new Y1(r)),Ul(n,null,u.component?f?f.children:null:t,r,i)})(l,u[l.value.outlet],t,r.concat([l.value]),i),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,f])=>Ma(f,t.getContext(l),i)),i}function Ma(n,e,t){const r=Nh(n),i=n.value;Object.entries(r).forEach(([u,l])=>{Ma(l,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new xa(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bl(n){return"function"==typeof n}function X_(n){return n instanceof xs||"EmptyError"===n?.name}const Ju=Symbol("INITIAL_VALUE");function Na(){return(0,xn.w)(n=>bl(n.map(e=>e.pipe(Vu(1),function N1(...n){const e=(0,_a.yG)(n);return(0,si.e)((t,r)=>{(e?ku(n,t,e):ku(n,t)).subscribe(r)})}(Ju)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===Ju)return Ju;if(!1===t||t instanceof io)return t}return!0}),Zr(e=>e!==Ju),Vu(1)))}function B3(n){return(0,Th.z)(Mn(e=>{if(so(e))throw K_(0,e)}),(0,gt.U)(e=>!0===e))}class xg{constructor(e){this.segmentGroup=e||null}}class ny{constructor(e){this.urlTree=e}}function ec(n){return Mi(new xg(n))}function ry(n){return Mi(new ny(n))}class Mg{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new o.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,at.of)(r);if(i.numberOfChildren>1||!i.children[St])return Mi(new o.vHH(4e3,!1));i=i.children[St]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new io(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,u])=>{if("string"==typeof u&&u.startsWith(":")){const f=u.substring(1);r[i]=t[f]}else r[i]=u}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let l={};return Object.entries(t.children).forEach(([f,m])=>{l[f]=this.createSegmentGroup(e,m,r,i)}),new Vt(u,l)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new o.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const tc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rI(n,e,t,r,i){const u=Oh(n,e,t);return u.matched?(r=function G1(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Sg(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,at.of)(!0);const u=i.map(l=>{const f=Yu(l,n);return Rs(function k3(n){return n&&Bl(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,at.of)(u).pipe(Na(),B3())}(r,e,t).pipe((0,gt.U)(l=>!0===l?u:{...tc}))):(0,at.of)(u)}function Oh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...tc}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||og)(t,n,e);if(!i)return{...tc};const u={};Object.entries(i.posParams??{}).forEach(([f,m])=>{u[f]=m.path});const l=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function kh(n,e,t,r){return t.length>0&&function Fh(n,e,t){return t.some(r=>Lh(n,e,r)&&ks(r)!==St)}(n,t,r)?{segmentGroup:new Vt(e,sy(r,new Vt(t,n.children))),slicedSegments:[]}:0===t.length&&function j3(n,e,t){return t.some(r=>Lh(n,e,r))}(n,t,r)?{segmentGroup:new Vt(n.segments,iI(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Vt(n.segments,n.children),slicedSegments:t}}function iI(n,e,t,r,i){const u={};for(const l of r)if(Lh(n,t,l)&&!i[ks(l)]){const f=new Vt([],{});u[ks(l)]=f}return{...i,...u}}function sy(n,e){const t={};t[St]=e;for(const r of n)if(""===r.path&&ks(r)!==St){const i=new Vt([],{});t[ks(r)]=i}return t}function Lh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class sI{constructor(e,t,r,i,u,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new Mg(this.urlSerializer,this.urlTree)}noMatchError(e){return new o.vHH(4002,!1)}recognize(){const e=kh(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,St).pipe(Ms(t=>{if(t instanceof ny)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof xg?this.noMatchError(t):t}),(0,gt.U)(t=>{const r=new Rh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,{}),i=new Sa(r,t),u=new Ku("",i),l=function I(n,e,t=null,r=null){return _(g(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,St).pipe(Ms(r=>{throw r instanceof xg?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=G_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Tn.D)(i).pipe(Oo(u=>{const l=r.children[u],f=function Q1(n,e){const t=n.filter(r=>ks(r)===e);return t.push(...n.filter(r=>ks(r)!==e)),t}(t,u);return this.processSegmentGroup(e,f,l,u)}),function ds(n,e){return(0,si.e)(function bh(n,e,t,r,i){return(u,l)=>{let f=t,m=e,v=0;u.subscribe((0,ii.x)(l,C=>{const A=v++;m=f?n(m,C,A):(f=!0,C),r&&l.next(m)},i&&(()=>{f&&l.next(m),l.complete()})))}}(n,e,arguments.length>=2,!0))}((u,l)=>(u.push(...l),u)),Al(null),function Bu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((i,u)=>n(i,u,r)):Ro.y,Dl(1),t?Al(e):no(()=>new xs))}(),(0,jn.z)(u=>{if(null===u)return ec(r);const l=Rg(u);return function oI(n){n.sort((e,t)=>e.value.outlet===St?-1:t.value.outlet===St?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,at.of)(l)}))}processSegment(e,t,r,i,u,l){return(0,Tn.D)(t).pipe(Oo(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,r,i,u,l).pipe(Ms(m=>{if(m instanceof xg)return(0,at.of)(null);throw m}))),oi(f=>!!f),Ms(f=>{if(X_(f))return function $3(n,e,t){return 0===e.length&&!n.children[t]}(r,i,u)?(0,at.of)([]):ec(r);throw f}))}processSegmentAgainstRoute(e,t,r,i,u,l,f){return function Z3(n,e,t,r){return!!(ks(n)===r||r!==St&&Lh(e,t,n))&&("**"===n.path||Oh(e,n,t).matched)}(r,i,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,u,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,u,l):ec(i):ec(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ry(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,jn.z)(l=>{const f=new Vt(l,{});return this.processSegment(e,t,f,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:C}=Oh(t,i,u);if(!f)return ec(t);const A=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,C);return i.redirectTo.startsWith("/")?ry(A):this.applyRedirects.lineralizeSegments(i,A).pipe((0,jn.z)(M=>this.processSegment(e,r,t,M.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,u,l){let f;if("**"===r.path){const m=i.length>0?$u(i).parameters:{},v=new Rh(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aI(r),ks(r),r.component??r._loadedComponent??null,r,uI(r));f=(0,at.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=rI(t,r,i,e).pipe((0,gt.U)(({matched:m,consumedSegments:v,remainingSegments:C,parameters:A})=>m?{snapshot:new Rh(v,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aI(r),ks(r),r.component??r._loadedComponent??null,r,uI(r)),consumedSegments:v,remainingSegments:C}:null));return f.pipe((0,xn.w)(m=>null===m?ec(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,xn.w)(({routes:v})=>{const C=r._loadedInjector??e,{snapshot:A,consumedSegments:M,remainingSegments:O}=m,{segmentGroup:Z,slicedSegments:G}=kh(t,M,O,v);if(0===G.length&&Z.hasChildren())return this.processChildren(C,v,Z).pipe((0,gt.U)(Te=>null===Te?null:[new Sa(A,Te)]));if(0===v.length&&0===G.length)return(0,at.of)([new Sa(A,[])]);const X=ks(r)===u;return this.processSegment(C,v,Z,G,X?St:u,!0).pipe((0,gt.U)(Te=>[new Sa(A,Te)]))}))))}getChildConfig(e,t,r){return t.children?(0,at.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,at.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function V3(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,at.of)(!0);const u=i.map(l=>{const f=Yu(l,n);return Rs(function Dg(n){return n&&Bl(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,at.of)(u).pipe(Na(),B3())}(e,t,r).pipe((0,jn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Mn(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function nI(n){return Mi(H1(!1,3))}())):(0,at.of)({routes:[],injector:e})}}function Ng(n){const e=n.value.routeConfig;return e&&""===e.path}function Rg(n){const e=[],t=new Set;for(const r of n){if(!Ng(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Rg(r.children);e.push(new Sa(r.value,i))}return e.filter(r=>!t.has(r))}function aI(n){return n.data||{}}function uI(n){return n.resolve||{}}function Og(n){return"string"==typeof n.title||null===n.title}function kg(n){return(0,xn.w)(e=>{const t=n(e);return t?(0,Tn.D)(t).pipe((0,gt.U)(()=>e)):(0,at.of)(e)})}const nc=new o.OlP("ROUTES");let Fg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,at.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Rs(t.loadComponent()).pipe((0,gt.U)(cI),Mn(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Ea(()=>{this.componentLoaders.delete(t)})),i=new B_(r,()=>new ls.x).pipe(va());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,at.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function rc(n,e,t,r){return Rs(n.loadChildren()).pipe((0,gt.U)(cI),(0,jn.z)(i=>i instanceof o.YKP||Array.isArray(i)?(0,at.of)(i):(0,Tn.D)(e.compileModuleAsync(i))),(0,gt.U)(i=>{r&&r(n);let u,l,f=!1;return Array.isArray(i)?(l=i,!0):(u=i.create(t).injector,l=u.get(nc,[],{optional:!0,self:!0}).flat()),{routes:l.map(Ag),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Ea(()=>{this.childrenLoaders.delete(r)})),l=new B_(u,()=>new ls.x).pipe(va());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cI(n){return function z3(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Lg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ls.x,this.transitionAbortSubject=new ls.x,this.configLoader=(0,o.f3M)(Fg),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(fs),this.rootContexts=(0,o.f3M)(vg),this.inputBindingEnabled=null!==(0,o.f3M)(Tg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,at.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new k1(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new yg(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new er.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Da,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zr(u=>0!==u.id),(0,gt.U)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,xn.w)(u=>{this.currentTransition=u;let l=!1,f=!1;return(0,at.of)(u).pipe(Mn(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xn.w)(m=>{const v=m.currentBrowserUrl.toString(),C=!t.navigated||m.extractedUrl.toString()!==v||v!==m.currentUrlTree.toString();if(!C&&"reload"!==(m.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new Lo(m.id,this.urlSerializer.serialize(m.rawUrl),M,0)),m.resolve(null),Ni.E}if(t.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,at.of)(m).pipe((0,xn.w)(M=>{const O=this.transitions?.getValue();return this.events.next(new Qi(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),O!==this.transitions?.getValue()?Ni.E:Promise.resolve(M)}),function pk(n,e,t,r,i,u){return(0,jn.z)(l=>function q3(n,e,t,r,i,u,l="emptyOnly"){return new sI(n,e,t,r,i,l,u).recognize()}(n,e,t,r,l.extractedUrl,i,u).pipe((0,gt.U)(({state:f,tree:m})=>({...l,targetSnapshot:f,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Mn(M=>{u.targetSnapshot=M.targetSnapshot,u.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects};const O=new O1(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(O)}));if(C&&t.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:M,extractedUrl:O,source:Z,restoredState:G,extras:X}=m,Te=new Qi(M,this.urlSerializer.serialize(O),Z,G);this.events.next(Te);const Fe=j1(0,this.rootComponentType).snapshot;return this.currentTransition=u={...m,targetSnapshot:Fe,urlAfterRedirects:O,extras:{...X,skipLocationChange:!1,replaceUrl:!1}},(0,at.of)(u)}{const M="";return this.events.next(new Lo(m.id,this.urlSerializer.serialize(m.extractedUrl),M,1)),m.resolve(null),Ni.E}}),Mn(m=>{const v=new uk(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),(0,gt.U)(m=>(this.currentTransition=u={...m,guards:M3(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},u)),function ey(n,e){return(0,jn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,at.of)({...t,guardsResult:!0}):function L3(n,e,t,r){return(0,Tn.D)(n).pipe((0,jn.z)(i=>function tI(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,at.of)(!0);const l=u.map(f=>{const m=Ph(e)??i,v=Yu(f,m);return Rs(function O3(n){return n&&Bl(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(oi())});return(0,at.of)(l).pipe(Na())}(i.component,i.route,t,e,r)),oi(i=>!0!==i,!0))}(l,r,i,n).pipe((0,jn.z)(f=>f&&function J_(n){return"boolean"==typeof n}(f)?function U3(n,e,t,r){return(0,Tn.D)(e).pipe(Oo(i=>ku(function X1(n,e){return null!==n&&e&&e(new I3(n)),(0,at.of)(!0)}(i.route.parent,r),function ty(n,e){return null!==n&&e&&e(new ck(n)),(0,at.of)(!0)}(i.route,r),function eI(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function N3(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Lu(()=>{const f=l.guards.map(m=>{const v=Ph(l.node)??t,C=Yu(m,v);return Rs(function P3(n){return n&&Bl(n.canActivateChild)}(C)?C.canActivateChild(r,n):v.runInContext(()=>C(r,n))).pipe(oi())});return(0,at.of)(f).pipe(Na())}));return(0,at.of)(u).pipe(Na())}(n,i.path,t),function Xu(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,at.of)(!0);const i=r.map(u=>Lu(()=>{const l=Ph(e)??t,f=Yu(u,l);return Rs(function R3(n){return n&&Bl(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(oi())}));return(0,at.of)(i).pipe(Na())}(n,i.route,t))),oi(i=>!0!==i,!0))}(r,u,n,e):(0,at.of)(f)),(0,gt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,m=>this.events.next(m)),Mn(m=>{if(u.guardsResult=m.guardsResult,so(m.guardsResult))throw K_(0,m.guardsResult);const v=new y3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(v)}),Zr(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),kg(m=>{if(m.guards.canActivateChecks.length)return(0,at.of)(m).pipe(Mn(v=>{const C=new v3(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}),(0,xn.w)(v=>{let C=!1;return(0,at.of)(v).pipe(function H3(n,e){return(0,jn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,at.of)(t);let u=0;return(0,Tn.D)(i).pipe(Oo(l=>function oy(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Og(i)&&(u[Ia]=i.title),function G3(n,e,t,r){const i=function jl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,at.of)({});const u={};return(0,Tn.D)(i).pipe((0,jn.z)(l=>function Pg(n,e,t,r){const i=Ph(e)??r,u=Yu(n,i);return Rs(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(oi(),Mn(f=>{u[l]=f}))),Dl(1),function Sl(n){return(0,gt.U)(()=>n)}(u),Ms(l=>X_(l)?Ni.E:Mi(l)))}(u,n,e,r).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=G_(n,t).resolve,i&&Og(i)&&(n.data[Ia]=i.title),null)))}(l.route,r,n,e)),Mn(()=>u++),Dl(1),(0,jn.z)(l=>u===i.length?(0,at.of)(t):Ni.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Mn({next:()=>C=!0,complete:()=>{C||this.cancelNavigationTransition(v,"",2)}}))}),Mn(v=>{const C=new E3(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}))}),kg(m=>{const v=C=>{const A=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(C.routeConfig).pipe(Mn(M=>{C.component=M}),(0,gt.U)(()=>{})));for(const M of C.children)A.push(...v(M));return A};return bl(v(m.targetSnapshot.root)).pipe(Al(),Vu(1))}),kg(()=>this.afterPreactivation()),(0,gt.U)(m=>{const v=function q1(n,e,t){const r=Qu(n,e._root,t?t._root:void 0);return new T3(r,e)}(t.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=u={...m,targetRouterState:v},u}),Mn(()=>{this.events.next(new q_)}),((n,e,t,r)=>(0,gt.U)(i=>(new Y_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Vu(1),Mn({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ui(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),t.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),function Zu(n){return(0,si.e)((e,t)=>{(0,Fu.Xf)(n).subscribe((0,ii.x)(t,()=>t.complete(),ju.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Mn(m=>{throw m}))),Ea(()=>{l||f||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Ms(m=>{if(f=!0,li(m))this.events.next(new zu(u.id,this.urlSerializer.serialize(u.extractedUrl),m.message,m.cancellationCode)),function D3(n){return li(n)&&so(n.url)}(m)?this.events.next(new H_(m.url)):u.resolve(!1);else{this.events.next(new Wu(u.id,this.urlSerializer.serialize(u.extractedUrl),m,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(m))}catch(v){u.reject(v)}}return Ni.E}))}))}cancelNavigationTransition(t,r,i){const u=new zu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lI(n){return n!==Da}let dI=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===St);return r}getResolvedTitleForRoute(t){return t.data[Ia]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Uo)},providedIn:"root"})}return n})(),Uo=(()=>{class n extends dI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(yl))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(K3)},providedIn:"root"})}return n})();class W3{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let K3=(()=>{class n extends W3{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ug=new o.OlP("",{providedIn:"root",factory:()=>({})});let Q3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Y3)},providedIn:"root"})}return n})(),Y3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Vh||{});function ay(n,e){n.events.pipe(Zr(t=>t instanceof ui||t instanceof zu||t instanceof Wu||t instanceof Lo),(0,gt.U)(t=>t instanceof ui||t instanceof Lo?Vh.COMPLETE:t instanceof zu&&(0===t.code||1===t.code)?Vh.REDIRECTING:Vh.FAILED),Zr(t=>t!==Vh.REDIRECTING),Vu(1)).subscribe(()=>{e()})}function J3(n){throw n}function X3(n,e,t){return e.parse("/")}const eD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $n=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this._events=new ls.x,this.options=(0,o.f3M)(Ug,{optional:!0})||{},this.pendingTasks=(0,o.f3M)(o.HDt),this.errorHandler=this.options.errorHandler||J3,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||X3,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(Q3),this.routeReuseStrategy=(0,o.f3M)(Zl),this.titleStrategy=(0,o.f3M)(dI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.f3M)(nc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.f3M)(Lg),this.urlSerializer=(0,o.f3M)(fs),this.location=(0,o.f3M)(xe),this.componentInputBindingEnabled=!!(0,o.f3M)(Tg,{optional:!0}),this.eventsSubscription=new Uu.w0,this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new io,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=j1(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void($l(r)&&this._events.next(r));if(r instanceof Qi)lI(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Lo)this.rawUrlTree=i.rawUrl;else if(r instanceof O1){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(u,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof q_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof zu)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof H_){const u=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lI(i.source)};this.scheduleNavigation(u,Da,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Wu&&this.restoreHistory(i,!0),r instanceof ui&&(this.navigated=!0),$l(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Da,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(u.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ag),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:l,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:l;let A,C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...u};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}null!==C&&(C=this.removeEmptyProps(C));try{A=g(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),A=this.currentUrlTree.root}return _(A,t,C,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=so(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,Da,null,r)}navigate(t,r={skipLocationChange:!1}){return function Vo(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new o.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...eD}:!1===r?{...tD}:r,so(t))return ug(this.currentUrlTree,t,i);const u=this.parseUrl(t);return ug(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,l){if(this.disposed)return Promise.resolve(!1);let f,m,v;l?(f=l.resolve,m=l.reject,v=l.promise):v=new Promise((A,M)=>{f=A,m=M});const C=this.pendingTasks.add();return ay(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $l(n){return!(n instanceof q_||n instanceof H_)}let Ri=(()=>{class n{constructor(t,r,i,u,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new ls.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof ui&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36($n),o.Y36(ci),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Oe))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&o.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",o.VuI],replaceUrl:["replaceUrl","replaceUrl",o.VuI],routerLink:"routerLink"},standalone:!0,features:[o.Xq5,o.TTD]})}return n})();class nD{}let uy=(()=>{class n{constructor(t,r,i,u,l){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(t=>t instanceof ui),Oo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,o.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,f=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,Tn.D)(i).pipe((0,eo.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,at.of)(null);const u=i.pipe((0,jn.z)(l=>null===l?(0,at.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Tn.D)([u,l]).pipe((0,eo.J)())}return u})}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG($n),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(nD),o.LFG(Fg))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Bh=new o.OlP("");let rD=(()=>{class n{constructor(t,r,i,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ui?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Lo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof w3&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new w3(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){o.$Z()};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function Bo(n,e){return{\u0275kind:n,\u0275providers:e}}function jh(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const r=n.get($n),i=n.get(ly);1===n.get(Zh)&&r.initialNavigation(),n.get(pI,null,o.XFs.Optional)?.setUpPreloading(),n.get(Bh,null,o.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ly=new o.OlP("",{factory:()=>new ls.x}),Zh=new o.OlP("",{providedIn:"root",factory:()=>1}),pI=new o.OlP("");function dy(n){return Bo(0,[{provide:pI,useExisting:uy},{provide:nD,useExisting:n}])}const hy=new o.OlP("ROUTER_FORROOT_GUARD"),Ik=[xe,{provide:fs,useClass:dg},$n,vg,{provide:ci,useFactory:function cy(n){return n.routerState.root},deps:[$n]},Fg,[]];function wk(){return new o.PXZ("Router",$n)}let jo=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ik,[],{provide:nc,multi:!0,useValue:t},{provide:hy,useFactory:fy,deps:[[$n,new o.FiY,new o.tp0]]},{provide:Ug,useValue:r||{}},r?.useHash?{provide:Oe,useClass:Ve}:{provide:Oe,useClass:Qe},{provide:Bh,useFactory:()=>{const n=(0,o.f3M)(Do),e=(0,o.f3M)(o.R0b),t=(0,o.f3M)(Ug),r=(0,o.f3M)(Lg),i=(0,o.f3M)(fs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new rD(i,r,n,e,t)}},r?.preloadingStrategy?dy(r.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:wk},r?.initialNavigation?py(r):[],r?.bindToComponentInputs?Bo(8,[$1,{provide:Tg,useExisting:$1}]).\u0275providers:[],[{provide:yI,useFactory:jh},{provide:o.tb,multi:!0,useExisting:yI}]]}}static forChild(t){return{ngModule:n,providers:[{provide:nc,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(hy,8))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();function fy(n){return"guarded"}function py(n){return["disabled"===n.initialNavigation?Bo(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const e=(0,o.f3M)($n);return()=>{e.setUpLocationChangeListener()}}},{provide:Zh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Bo(2,[{provide:Zh,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:e=>{const t=e.get(Ue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get($n),u=e.get(ly);ay(i,()=>{r(!0)}),e.get(Lg).afterPreactivation=()=>(r(!0),u.closed?(0,at.of)(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const yI=new o.OlP("");let wI=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-main"]],decls:38,vars:0,consts:[[1,"main"],[1,"logo"],["viewBox","0 0 320 360","height","360","width","320",1,"logo"],["xmlns","http://www.w3.org/2000/svg","d","M20.961 227.22l3.726 4.658-1.863-6.056c-0.466-2.795-3.726 0.466-1.863 1.398M25.153 224.425c1.397 2.329 2.795 4.658 2.795 6.987 0 3.261 2.795 4.658 5.123 5.589-3.261-3.726-5.124-13.974-7.918-12.576M204.017 26.929c7.918 0 15.371-0.932 23.756 0.931 20.495 5.124 37.729 15.371 49.374 29.811l32.606 52.169c1.397 13.042 4.192 27.482 3.726 43.319 3.261 0 2.795-4.658 6.521-5.59-3.726 9.316-5.59 20.961-6.521 34.469-2.329-7.453 0-18.632 0.466-24.687-3.261 5.124-5.124 1.397-5.124-0.932 0.466-3.726-1.397-3.261-2.795-4.658-5.124-4.658-8.384-9.782-12.11-17.7 2.329-6.055 2.795-14.905-4.658-19.563-2.329-1.397-5.124-3.726-6.521-7.453-1.863-5.124-5.124-11.179-4.193-19.097 0.466-2.329-6.987 5.124-11.179 1.863-18.166-12.576-36.332-27.016-58.224-39.127-11.645 0-20.029-4.192-24.221-9.316-3.726-4.658-0.932-10.713 4.658-11.179 3.261 0 6.987-0.932 9.782 0.932 0.466-1.863 2.329-4.192 4.657-4.192M157.904 16.215l0.932 0.466c4.658 0.932 6.987 7.453 12.11 5.124 0 3.261 0.466 6.521-0.466 8.85-1.397 3.726-5.59 3.726-8.85 3.726-31.208-1.863-49.374 11.179-68.471 22.358-5.124 3.261-10.713 5.59-14.906 9.782-20.029 18.632-41.921 35.866-47.045 70.335l-4.192 38.195c-0.466 4.192-5.124 8.384-4.192 13.508l3.26 22.824c-3.261-3.261-5.124 0.932-4.192 2.795 0.466 1.397 2.329 6.055 5.124 1.863 3.726 6.987 7.453 20.495 12.576 26.55 15.837 18.632 36.332 35.4 53.101 52.169 4.192-0.932 7.453-0.932 8.384-3.727 1.397 2.795-1.397 5.59-3.726 6.056 7.453 4.658 15.837 8.85 27.016 9.781 14.44 0.932 27.948 3.261 40.524 6.522 6.521-1.863 13.042-2.795 20.029-3.261 2.329 0 3.726-3.726 6.521-4.658l0.466-4.658c2.795 4.192 2.329-1.397 0.466-4.192 3.261 2.795 4.192 5.124 5.589 6.987 0-1.397 3.726-6.521 3.727-0.466l0.931-6.055c1.397-0.932 1.863 5.124 3.261 0.931 1.397-4.192 4.192-0.932 6.987-2.329-0.932 1.863-0.466 5.59 2.794 3.261l3.727-3.261c2.329 5.59 6.055 3.261 7.918 2.329 20.495-13.042 40.99-28.413 60.553-43.784l-0.466 6.055 2.329-7.453c2.329 2.329 4.192 0.466 5.124-0.931 2.795-4.658 6.521-9.316 12.577-13.508-7.453 20.029-16.303 35.866-27.482 48.908l-4.658 5.59c0 3.261-0.932 7.453-4.658 7.918-1.863 0.466-5.59-0.932-8.384 1.863-1.397 1.863 3.261 5.59-0.466 2.795-3.261-2.329-6.521 0-10.248 0.932-2.795 0.932 1.863 3.726 2.795 5.589 0.932 1.863 1.863 3.726 1.398 6.056l-5.124-5.59c-6.055 3.261-9.782 9.316-14.906 13.974-2.329 1.863-1.397 5.124-1.397 7.918-3.261 0-6.987-0.932-8.85 0.932-1.397 1.863-0.932 4.658-0.932 7.453-4.658-0.466-5.124-7.453-9.315-6.056-4.192 0.932-8.85 1.397-12.577 3.727 2.795 5.59-4.658 2.329-3.726 3.26-6.987-4.192-13.042-7.453-20.495-4.658-15.837-5.124-35.4-2.795-49.84-0.931 0-2.329 0.466-4.658-0.466-5.124-0.932 2.329-3.726 1.397-3.26 1.397-8.85-6.055-17.7-9.782-27.016-14.905-8.384 0.932-16.303-3.261-18.632-5.59-6.521-6.055-13.974-2.795-20.029-4.192-13.042-3.261-17.7-16.769-19.098-26.084-0.932-4.658-4.658-6.521-6.055-6.056-6.055-19.563-15.371-37.263-22.824-55.429-1.863-4.658-1.397-9.316-1.397-14.44 2.329 0.932 4.658 0.466 4.192-2.794-2.329-15.371-7.918-27.016-13.974-38.195 3.261-15.837 3.726-34.469 11.179-48.443 6.521-12.576 18.632-19.098 27.016-29.811 2.795-3.726 2.795-8.85 5.59-12.11 9.316-9.316 18.632-19.098 28.879-27.482 4.658-3.726 10.247 0 17.234-1.397 2.329-8.384 11.645-15.837 20.495-13.508 3.726 0.932 11.179-8.85 13.508-9.782 3.726-1.397 1.863 3.726 1.863 6.987 8.85-6.987 20.961-10.713 32.14-14.906","fill","#ffffff","fill-rule","nonzero","stroke","none","stroke-width","1","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","stroke-dasharray","","stroke-dashoffset","0","data-fill-palette-color","tertiary",2,"mix-blend-mode","normal"],["transform","matrix(1,0,0,1,64,100.74523665202226)"],["viewBox","0 0 192 158.5095266959555","height","158.5095266959555","width","192"],["transform","matrix(1,0,0,1,0,116.51177957641397)"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192"],["id","textblocktransform"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192","id","textblock"],["viewBox","0 0 192 27.968648441980502","height","27.968648441980502","width","192"],["transform","matrix(1,0,0,1,0,0)"],["width","192","viewBox","3.25 -37.599998474121094 261.5199890136719 38.099998474121094","height","27.968648441980502","data-palette-color","#ffffff"],["d","M18.9-37.6L18.9-37.6Q21.4-37.6 23.73-36.77 26.05-35.95 27.9-34.55 29.75-33.15 30.95-31.3 32.15-29.45 32.45-27.35L32.45-27.35Q32.55-26.9 32.48-26.75 32.4-26.6 32.1-26.6L32.1-26.6 28.35-26.3Q28.1-26.25 28-26.4 27.9-26.55 27.85-26.8L27.85-26.8Q27.15-30 24.83-31.98 22.5-33.95 19.05-33.95L19.05-33.95Q13.85-33.95 11.05-30.1 8.25-26.25 8.25-18.5L8.25-18.5Q8.25-11 11-7.15 13.75-3.3 19.3-3.3L19.3-3.3Q22.85-3.3 25.23-5 27.6-6.7 29.05-10.45L29.05-10.45Q29.2-10.75 29.65-10.65L29.65-10.65 32.6-9.95Q32.75-9.9 32.85-9.75 32.95-9.6 32.85-9.25L32.85-9.25Q32.45-7.8 31.63-6.4 30.8-5 29.6-3.78 28.4-2.55 26.8-1.58 25.2-0.6 23.28-0.05 21.35 0.5 19.1 0.5L19.1 0.5Q14.15 0.5 10.58-1.8 7-4.1 5.13-8.4 3.25-12.7 3.25-18.6L3.25-18.6Q3.25-24.5 5.13-28.78 7-33.05 10.53-35.33 14.05-37.6 18.9-37.6L18.9-37.6ZM39.9 0L39.9 0Q39.25 0 39.25-0.65L39.25-0.65 39.25-36.45Q39.25-37.1 39.8-37.1L39.8-37.1 42.75-37.1Q43.3-37.1 43.3-36.5L43.3-36.5 43.3-23.15Q43.3-22.9 43.4-22.85 43.5-22.8 43.75-23L43.75-23Q45.5-24.35 46.97-25.25 48.45-26.15 49.87-26.58 51.3-27 53-27L53-27Q56.9-27 58.95-24.93 61-22.85 61-19.4L61-19.4 61-0.8Q61 0 60.25 0L60.25 0 57.45 0Q57.1 0 56.95-0.18 56.8-0.35 56.8-0.65L56.8-0.65 56.8-18.5Q56.8-20.95 55.55-22.33 54.3-23.7 51.6-23.7L51.6-23.7Q50.15-23.7 48.87-23.23 47.6-22.75 46.3-21.88 45-21 43.45-19.65L43.45-19.65 43.45-0.75Q43.45 0 42.65 0L42.65 0 39.9 0ZM71.2-11.6L71.2-11.6Q71.2-9.15 72.37-7.13 73.55-5.1 75.52-3.9 77.5-2.7 79.95-2.7L79.95-2.7Q82.45-2.7 84.4-3.73 86.35-4.75 87.75-6.85L87.75-6.85Q87.95-7.05 88.07-7.08 88.2-7.1 88.45-7L88.45-7 90.55-5.95Q91-5.7 90.65-5.25L90.65-5.25Q89.3-3.25 87.67-1.98 86.05-0.7 84.05-0.1 82.05 0.5 79.55 0.5L79.55 0.5Q75.85 0.5 73-1.2 70.15-2.9 68.5-5.95 66.85-9 66.85-13L66.85-13Q66.85-17.35 68.52-20.48 70.2-23.6 73.07-25.3 75.95-27 79.5-27L79.5-27Q83.15-27 85.85-25.4 88.55-23.8 90.05-20.75 91.55-17.7 91.55-13.4L91.55-13.4Q91.55-13.05 91.47-12.7 91.4-12.35 90.8-12.35L90.8-12.35 71.65-12.35Q71.45-12.35 71.32-12.13 71.2-11.9 71.2-11.6L71.2-11.6ZM71.3-15.1L86.5-15.1Q87.05-15.1 87.2-15.23 87.35-15.35 87.35-15.8L87.35-15.8Q87.35-17.95 86.42-19.83 85.5-21.7 83.77-22.85 82.05-24 79.6-24L79.6-24Q76.9-24 75.05-22.73 73.2-21.45 72.25-19.4 71.3-17.35 71.3-15.1L71.3-15.1ZM110.19-26.5L110.19-26.5Q110.44-26.5 110.57-26.35 110.69-26.2 110.69-26L110.69-26 110.69-23.85Q110.69-23.35 110.19-23.35L110.19-23.35 104.49-23.35Q104.09-23.35 104.09-22.95L104.09-22.95 104.09-0.7Q104.09 0 103.49 0L103.49 0 100.44 0Q99.89 0 99.89-0.65L99.89-0.65 99.89-23Q99.89-23.35 99.54-23.35L99.54-23.35 94.64-23.35Q94.14-23.35 94.14-23.85L94.14-23.85 94.14-26Q94.14-26.2 94.27-26.35 94.39-26.5 94.69-26.5L94.69-26.5 99.44-26.5Q99.89-26.5 99.89-27L99.89-27 99.89-30.65Q99.89-33.8 101.44-35.45 102.99-37.1 106.14-37.1L106.14-37.1 110.29-37.1Q110.94-37.1 110.94-36.5L110.94-36.5 110.94-34.55Q110.94-34.3 110.82-34.18 110.69-34.05 110.39-34.05L110.39-34.05 106.89-34.05Q105.34-34.05 104.67-33.08 103.99-32.1 103.99-30.45L103.99-30.45 103.99-26.95Q103.99-26.5 104.44-26.5L104.44-26.5 110.19-26.5ZM130.99-20.65L130.99-20.65Q129.99-22.15 128.19-23.1 126.39-24.05 123.89-24.05L123.89-24.05Q121.19-24.05 119.42-22.9 117.64-21.75 117.64-19.8L117.64-19.8Q117.64-18.75 118.44-17.82 119.24-16.9 121.69-16.1L121.69-16.1 128.04-14.2Q131.49-13.25 133.02-11.45 134.54-9.65 134.54-7.3L134.54-7.3Q134.54-4.95 133.14-3.2 131.74-1.45 129.29-0.48 126.84 0.5 123.74 0.5L123.74 0.5Q119.79 0.5 116.84-1.07 113.89-2.65 112.64-5L112.64-5Q112.49-5.25 112.49-5.45 112.49-5.65 112.74-5.8L112.74-5.8 114.69-6.9Q114.94-7.05 115.14-7.03 115.34-7 115.44-6.85L115.44-6.85Q116.29-5.55 117.42-4.6 118.54-3.65 120.12-3.1 121.69-2.55 123.79-2.55L123.79-2.55Q125.69-2.6 127.24-3.1 128.79-3.6 129.69-4.58 130.59-5.55 130.59-6.85L130.59-6.85Q130.59-8.2 129.49-9.18 128.39-10.15 125.69-10.9L125.69-10.9 120.54-12.35Q116.79-13.35 115.27-15.05 113.74-16.75 113.69-19.05L113.69-19.05Q113.69-21.45 114.99-23.23 116.29-25 118.62-26 120.94-27 123.94-27L123.94-27Q127.29-27 129.92-25.73 132.54-24.45 133.89-22.35L133.89-22.35Q134.04-22.15 134.04-21.98 134.04-21.8 133.84-21.65L133.84-21.65 131.74-20.5Q131.54-20.4 131.37-20.43 131.19-20.45 130.99-20.65L130.99-20.65ZM149.63-33.95L149.63-36.55Q149.63-36.8 149.76-36.95 149.88-37.1 150.23-37.1L150.23-37.1 177.13-37.1Q177.44-37.1 177.59-36.95 177.74-36.8 177.74-36.55L177.74-36.55 177.74-33.95Q177.74-33.45 177.13-33.45L177.13-33.45 166.99-33.45Q166.44-33.45 166.44-32.95L166.44-32.95 166.44-0.65Q166.44 0 165.84 0L165.84 0 162.23 0Q161.63 0 161.63-0.65L161.63-0.65 161.63-32.9Q161.63-33.45 161.13-33.45L161.13-33.45 150.23-33.45Q149.63-33.45 149.63-33.95L149.63-33.95ZM194.68-3.2L194.68-3.2Q192.83-1.4 190.66-0.45 188.48 0.5 185.78 0.5L185.78 0.5Q181.88 0.5 179.66-1.5 177.43-3.5 177.43-6.75L177.43-6.75Q177.43-9.4 178.93-11.33 180.43-13.25 183.38-14.38 186.33-15.5 190.63-15.75L190.63-15.75 194.53-16.05Q194.83-16.1 195.08-16.25 195.33-16.4 195.33-16.8L195.33-16.8 195.33-18.15Q195.33-20.85 193.66-22.43 191.98-24 189.13-24L189.13-24Q186.93-24 185.16-23 183.38-22 181.98-20L181.98-20Q181.78-19.75 181.66-19.68 181.53-19.6 181.23-19.7L181.23-19.7 178.53-20.6Q178.38-20.7 178.31-20.85 178.23-21 178.43-21.4L178.43-21.4Q179.93-24 182.66-25.5 185.38-27 189.33-27L189.33-27Q192.68-27 194.91-25.98 197.13-24.95 198.26-23.03 199.38-21.1 199.38-18.45L199.38-18.45 199.38-0.75Q199.38-0.3 199.23-0.15 199.08 0 198.73 0L198.73 0 196.18 0Q195.83 0 195.68-0.23 195.53-0.45 195.48-0.8L195.48-0.8 195.43-3.1Q195.28-3.8 194.68-3.2L194.68-3.2ZM195.33-12.7L195.33-12.7Q195.33-13.55 194.63-13.5L194.63-13.5 191.33-13.2Q189.03-13.1 187.23-12.63 185.43-12.15 184.18-11.4 182.93-10.65 182.28-9.63 181.63-8.6 181.63-7.25L181.63-7.25Q181.63-5.05 183.16-3.83 184.68-2.6 187.28-2.6L187.28-2.6Q188.88-2.6 190.36-3.18 191.83-3.75 192.93-4.65L192.93-4.65Q194.08-5.6 194.71-6.6 195.33-7.6 195.33-8.55L195.33-8.55 195.33-12.7ZM211.08-36.45L211.08-0.85Q211.08-0.35 210.88-0.18 210.68 0 210.18 0L210.18 0 207.58 0Q206.83 0 206.83-0.7L206.83-0.7 206.88-36.4Q206.88-37.1 207.48-37.1L207.48-37.1 210.48-37.1Q211.08-37.1 211.08-36.45L211.08-36.45ZM241.68-0.8L241.68-0.8Q241.88-0.5 241.78-0.25 241.68 0 241.23 0L241.23 0 237.73 0Q237.43 0 237.2-0.15 236.98-0.3 236.83-0.6L236.83-0.6 229.28-13.55Q229.18-13.75 229.05-13.83 228.93-13.9 228.68-13.65L228.68-13.65 223.38-8.3Q223.18-8.1 223.1-7.88 223.03-7.65 223.03-7.3L223.03-7.3 223.03-0.85Q223.03-0.35 222.85-0.18 222.68 0 222.13 0L222.13 0 219.58 0Q219.08 0 218.95-0.15 218.83-0.3 218.83-0.7L218.83-0.7 218.83-36.4Q218.83-37.1 219.38-37.1L219.38-37.1 222.43-37.1Q223.03-37.1 223.03-36.45L223.03-36.45 223.03-13.25Q223.03-12.85 223.13-12.78 223.23-12.7 223.53-13.05L223.53-13.05 235.88-25.9Q236.43-26.5 236.93-26.5L236.93-26.5 239.98-26.5Q240.48-26.5 240.55-26.23 240.63-25.95 240.23-25.55L240.23-25.55 232.33-17.5Q232.18-17.35 232.15-17.15 232.13-16.95 232.28-16.65L232.28-16.65 241.68-0.8ZM261.23-20.65L261.23-20.65Q260.23-22.15 258.43-23.1 256.63-24.05 254.13-24.05L254.13-24.05Q251.42-24.05 249.65-22.9 247.88-21.75 247.88-19.8L247.88-19.8Q247.88-18.75 248.67-17.82 249.47-16.9 251.92-16.1L251.92-16.1 258.27-14.2Q261.73-13.25 263.25-11.45 264.77-9.65 264.77-7.3L264.77-7.3Q264.77-4.95 263.38-3.2 261.98-1.45 259.52-0.48 257.07 0.5 253.97 0.5L253.97 0.5Q250.03 0.5 247.07-1.07 244.13-2.65 242.88-5L242.88-5Q242.72-5.25 242.72-5.45 242.72-5.65 242.97-5.8L242.97-5.8 244.92-6.9Q245.17-7.05 245.38-7.03 245.57-7 245.67-6.85L245.67-6.85Q246.53-5.55 247.65-4.6 248.78-3.65 250.35-3.1 251.92-2.55 254.03-2.55L254.03-2.55Q255.92-2.6 257.48-3.1 259.02-3.6 259.93-4.58 260.82-5.55 260.82-6.85L260.82-6.85Q260.82-8.2 259.73-9.18 258.63-10.15 255.92-10.9L255.92-10.9 250.78-12.35Q247.03-13.35 245.5-15.05 243.97-16.75 243.92-19.05L243.92-19.05Q243.92-21.45 245.22-23.23 246.53-25 248.85-26 251.17-27 254.17-27L254.17-27Q257.52-27 260.15-25.73 262.77-24.45 264.13-22.35L264.13-22.35Q264.27-22.15 264.27-21.98 264.27-21.8 264.07-21.65L264.07-21.65 261.98-20.5Q261.77-20.4 261.6-20.43 261.43-20.45 261.23-20.65L261.23-20.65Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,36.672,34.57137509156949)"],["viewBox","0 0 118.656 7.426372027972029","height","7.426372027972029","width","118.656"],["width","118.656","viewBox","0 -35.79999923706055 571.9600219726562 35.79999923706055","height","7.426372027972029","data-palette-color","#ffffff"],["d","M40.35-2.15L52.4-2.15 52.4 0 33.75 0 26.4-23.95 26-23.95 18.65 0 0 0 0-2.15 12.05-2.15 0.6-34.95 6.95-34.95 15.75-9.8 23.55-34.95 28.85-34.95 36.65-9.8 45.45-34.95 51.8-34.95 40.35-2.15ZM52.4-2.15L57.25-2.15 57.25-34.95 81.8-34.95 81.8-29.4 63.15-29.4 63.15-20.15 79.9-20.15 79.9-14.9 63.15-14.9 63.15-5.55 82.4-5.55 82.4-2.15 87.25-2.15 87.25 0 52.4 0 52.4-2.15ZM85.1-2.15L98.8-2.15 98.8 0 85.1 0 85.1-2.15ZM129.04-2.15L135.59-2.15 135.59 0 98.79 0 98.79-2.15 109.89-2.15Q105.94-4.5 103.67-8.55 101.39-12.6 101.39-17.7L101.39-17.7Q101.39-25.4 106.72-30.6 112.04-35.8 120.17-35.8 128.29-35.8 133.74-29.8L133.74-29.8 129.99-25.7Q127.49-28.1 125.27-29.05 123.04-30 120.04-30L120.04-30Q114.74-30 111.14-26.58 107.54-23.15 107.54-17.82 107.54-12.5 111.12-8.93 114.69-5.35 119.59-5.35L119.59-5.35Q122.64-5.35 124.84-6.38 127.04-7.4 129.44-9.65L129.44-9.65 133.24-5.75Q131.04-3.35 129.04-2.15L129.04-2.15ZM166.14-2.15L177.59-2.15 177.59 0 135.59 0 135.59-2.15 147.04-2.15Q142.94-4.5 140.57-8.6 138.19-12.7 138.19-17.75L138.19-17.75Q138.19-25.45 143.49-30.63 148.79-35.8 156.59-35.8 164.39-35.8 169.69-30.63 174.99-25.45 174.99-17.75L174.99-17.75Q174.99-12.75 172.62-8.6 170.24-4.45 166.14-2.15L166.14-2.15ZM165.37-26.7Q161.79-30.4 156.59-30.4 151.39-30.4 147.82-26.7 144.24-23 144.24-17.73 144.24-12.45 147.82-8.75 151.39-5.05 156.59-5.05 161.79-5.05 165.37-8.75 168.94-12.45 168.94-17.73 168.94-23 165.37-26.7ZM208.14-2.15L219.59-2.15 219.59 0 177.59 0 177.59-2.15 189.04-2.15Q184.94-4.5 182.56-8.6 180.19-12.7 180.19-17.75L180.19-17.75Q180.19-25.45 185.49-30.63 190.79-35.8 198.59-35.8 206.39-35.8 211.69-30.63 216.99-25.45 216.99-17.75L216.99-17.75Q216.99-12.75 214.61-8.6 212.24-4.45 208.14-2.15L208.14-2.15ZM207.36-26.7Q203.79-30.4 198.59-30.4 193.39-30.4 189.81-26.7 186.24-23 186.24-17.73 186.24-12.45 189.81-8.75 193.39-5.05 198.59-5.05 203.79-5.05 207.36-8.75 210.94-12.45 210.94-17.73 210.94-23 207.36-26.7ZM219.59-2.15L224.44-2.15 224.44-34.95 230.34-34.95 230.34-17.9 246.34-34.95 253.84-34.95 239.79-19.65 252.49-2.1 252.49-2.15 257.34-2.15 257.34 0 247.04 0 235.44-15.3 230.34-9.8 230.34 0 219.59 0 219.59-2.15ZM254.78-2.15L268.48-2.15 268.48 0 254.78 0 254.78-2.15ZM308.83-2.15L320.88-2.15 320.88 0 302.23 0 294.88-23.95 294.48-23.95 287.13 0 268.48 0 268.48-2.15 280.53-2.15 269.08-34.95 275.43-34.95 284.23-9.8 292.03-34.95 297.33-34.95 305.13-9.8 313.93-34.95 320.28-34.95 308.83-2.15ZM320.88-2.15L325.73-2.15 325.73-34.95 331.63-34.95 331.63-2.15 336.48-2.15 336.48 0 320.88 0 320.88-2.15ZM354.53-2.15L366.68-2.15 366.68 0 336.48 0 336.48-2.15 348.63-2.15 348.63-29.55 338.03-29.55 338.03-34.95 365.13-34.95 365.13-29.55 354.53-29.55 354.53-2.15ZM405.52 0L405.52-2.15 400.67-2.15 400.67-34.95 394.77-34.95 394.77-19.8 377.42-19.8 377.42-34.95 371.52-34.95 371.52 0 377.42 0 377.42-14.3 394.77-14.3 394.77 0 405.52 0ZM366.67-2.15L371.52-2.15 371.52 0 366.67 0 366.67-2.15ZM405.52-2.15L419.22-2.15 419.22 0 405.52 0 405.52-2.15ZM445.92-2.15L450.77-2.15 450.77 0 419.22 0 419.22-2.15 424.07-2.15 424.07-34.95 429.97-34.95 429.97-5.6 445.92-5.6 445.92-2.15ZM478.07-2.15L489.52-2.15 489.52 0 447.52 0 447.52-2.15 458.97-2.15Q454.87-4.5 452.49-8.6 450.12-12.7 450.12-17.75L450.12-17.75Q450.12-25.45 455.42-30.63 460.72-35.8 468.52-35.8 476.32-35.8 481.62-30.63 486.92-25.45 486.92-17.75L486.92-17.75Q486.92-12.75 484.54-8.6 482.17-4.45 478.07-2.15L478.07-2.15ZM477.29-26.7Q473.72-30.4 468.52-30.4 463.32-30.4 459.74-26.7 456.17-23 456.17-17.73 456.17-12.45 459.74-8.75 463.32-5.05 468.52-5.05 473.72-5.05 477.29-8.75 480.87-12.45 480.87-17.73 480.87-23 477.29-26.7ZM511.16-2.15L524.51-2.15 524.51 0 489.51 0 489.51-2.15 502.81-2.15 489.66-34.95 496.26-34.95 507.01-8.85 517.76-34.95 524.36-34.95 511.16-2.15ZM524.51-2.15L529.36-2.15 529.36-34.95 553.91-34.95 553.91-29.4 535.26-29.4 535.26-20.15 552.01-20.15 552.01-14.9 535.26-14.9 535.26-5.55 554.51-5.55 554.51-2.15 559.36-2.15 559.36 0 524.51 0 524.51-2.15ZM561.11-28.5L561.11-34.95 568.11-34.95 568.11-28.5 566.61-10.95 562.61-10.95 561.11-28.5ZM567.21-2.15L571.96-2.15 571.96 0 557.21 0 557.21-2.15 562.06-2.15Q560.91-3.2 560.91-4.78 560.91-6.35 562.01-7.45 563.11-8.55 564.63-8.55 566.16-8.55 567.26-7.45 568.36-6.35 568.36-4.78 568.36-3.2 567.21-2.15L567.21-2.15Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","secondary","id","text-1",1,"slogan-text-1"],["transform","matrix(1,0,0,1,44.346836861382,0)"],["viewBox","0 0 103.306326277236 103.306326277236","height","103.306326277236","width","103.306326277236"],["id","icon-0"],["d","M0 51.653c0-28.527 23.126-51.653 51.653-51.653 28.527 0 51.653 23.126 51.653 51.653 0 28.527-23.126 51.653-51.653 51.653-28.527 0-51.653-23.126-51.653-51.653zM51.653 100.784c27.134 0 49.131-21.997 49.131-49.131 0-27.134-21.997-49.131-49.131-49.131-27.134 0-49.131 21.997-49.131 49.131 0 27.134 21.997 49.131 49.131 49.131z","data-fill-palette-color","accent","fill","#ffffff","stroke","transparent"],["rx","51.13663150723182","ry","51.13663150723182","cx","51.653163138618","cy","51.653163138618","fill","#ffffff","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,20.799678473042622,21.56674460107238)"],["viewBox","0 0 61.70696933115075 60.17283707509124","height","60.17283707509124","width","61.70696933115075"],["xmlns","http://www.w3.org/2000/svg","x","0","y","0","viewBox","4.642358779907227 7.340823173522949 90.00060272216797 87.76304626464844","height","60.17283707509124","width","61.70696933115075","data-fill-palette-color","quaternary","id","y-0",1,"icon-y-0"],["d","M34.065 95.103c0 0-5.908 0.268-6.441-8.623l-4.313-27.253c0 0-17.724-3.09-18.628-18.685 0 0-1.49-14.747 13.574-20.441 0 0 2.29-1.809 10.115-1.704 0 0 7.187-11.871 21.397-10.965 0 0 10.968-1.81 21.08 10.699 0 0 14.211-1.011 21.345 11.604 0 0 8.251 13.468-5.537 24.752 0 0-3.46 3.087-9.847 4.578l-3.565 29.33c0 0 0.21 4.95-3.779 5.909l0.212-43.862c0 0-0.638-3.62-4.151-3.568 0 0-3.355-0.158-4.045 3.568V76.42h2.767v18.683h-8.782V66.41c0 0 2.874-0.462 3.246-3.185V47.887c0 0 0.238-1.146-0.831-1.083-1.072 0.063-0.926 0.42-0.926 1.029 0 0.608 0 11.062 0 11.062h-1.679V47.75c0 0-0.042-1.008-0.796-0.797 0 0-0.86-0.19-0.902 0.818-0.042 1.006 0 11.04 0 11.04h-1.679V47.853c0 0 0.125-1.069-0.735-1.048-0.861 0.021-0.925 0.672-0.925 1.134 0 0.461 0 10.894 0 10.894h-1.615V47.434c0 0 0.083-0.755-0.841-0.65-0.921 0.106-0.902 0.629-0.902 0.86 0 0.232 0 15.389 0 15.389s-0.273 2.853 3.359 3.146v28.924H39.071V68.363c0 0 6.467-3.529 5.795-10.58 0 0 0.504-8.649-7.223-10.831 0 0-8.06-0.505-9.235 9.571 0 0-0.841 8.73 5.542 11.672L34.065 95.103z","fill","#06aed5","data-fill-palette-color","quaternary"]],template:function(r,i){1&r&&(o.TgZ(0,"main",0)(1,"div",1),o.O4$(),o.TgZ(2,"svg",2)(3,"g"),o._UZ(4,"path",3),o.qZA(),o.TgZ(5,"g",4)(6,"svg",5)(7,"g")(8,"svg",5)(9,"g",6)(10,"svg",7)(11,"g",8)(12,"svg",9)(13,"g")(14,"svg",10)(15,"g",11)(16,"svg",12),o._UZ(17,"path",13),o.qZA()()()(),o.TgZ(18,"g",14)(19,"svg",15)(20,"g",11)(21,"svg",16),o._UZ(22,"path",17),o.qZA()()()()()()()(),o.TgZ(23,"g",18)(24,"svg",19)(25,"g"),o._UZ(26,"svg"),o.qZA(),o.TgZ(27,"g",20)(28,"svg",19)(29,"g"),o._UZ(30,"path",21)(31,"ellipse",22),o.qZA(),o.TgZ(32,"g",23)(33,"svg",24)(34,"g")(35,"svg",25),o._UZ(36,"path",26),o.qZA()()()()()()()(),o._UZ(37,"g"),o.qZA()()()()()()())},styles:[".logo[_ngcontent-%COMP%]{width:250px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return n})(),Ra=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.Qsj),o.Y36(o.SBq))};static#t=this.\u0275dir=o.lG2({type:n})}return n})(),sc=(()=>{class n extends Ra{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,features:[o.qOj]})}return n})();const gs=new o.OlP("NgValueAccessor"),Vg={provide:gs,useExisting:(0,o.Gpc)(()=>Bg),multi:!0};let Bg=(()=>{class n extends sc{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&o.NdJ("change",function(l){return i.onChange(l.target.checked)})("blur",function(){return i.onTouched()})},features:[o._Bn([Vg]),o.qOj]})}return n})();const my={provide:gs,useExisting:(0,o.Gpc)(()=>hi),multi:!0},oo=new o.OlP("CompositionEventMode");let hi=(()=>{class n extends Ra{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jg(){const n=ie()?ie().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(oo,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&o.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[o._Bn([my]),o.qOj]})}return n})();function ao(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function CI(n){return null!=n&&"number"==typeof n.length}const qr=new o.OlP("NgValidators"),Zo=new o.OlP("NgAsyncValidators"),ql=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ct{static min(e){return function bI(n){return e=>{if(ao(e.value)||ao(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function AI(n){return e=>{if(ao(e.value)||ao(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Zg(e)}static requiredTrue(e){return function _y(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function DI(n){return ao(n.value)||ql.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function yy(n){return e=>ao(e.value)||!CI(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function $g(n){return e=>CI(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function cD(n){if(!n)return qg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ao(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Gg(e)}static composeAsync(e){return oc(e)}}function Zg(n){return ao(n.value)?{required:!0}:null}function qg(n){return null}function SI(n){return null!=n}function xI(n){return(0,o.QGY)(n)?(0,Tn.D)(n):n}function lD(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function dD(n,e){return e.map(t=>t(n))}function MI(n){return n.map(e=>function Hg(n){return!n.validate}(e)?e:t=>e.validate(t))}function Gg(n){if(!n)return null;const e=n.filter(SI);return 0==e.length?null:function(t){return lD(dD(t,e))}}function qh(n){return null!=n?Gg(MI(n)):null}function oc(n){if(!n)return null;const e=n.filter(SI);return 0==e.length?null:function(t){return function TI(...n){const e=(0,_a.jO)(n),{args:t,keys:r}=Tl(n),i=new Kn.y(u=>{const{length:l}=t;if(!l)return void u.complete();const f=new Array(l);let m=l,v=l;for(let C=0;C<l;C++){let A=!1;(0,Fu.Xf)(t[C]).subscribe((0,ii.x)(u,M=>{A||(A=!0,v--),f[C]=M},()=>m--,void 0,()=>{(!m||!A)&&(v||u.next(r?ig(r,f):f),u.complete())}))}});return e?i.pipe(Ou(e)):i}(dD(t,e).map(xI)).pipe((0,gt.U)(lD))}}function Hh(n){return null!=n?oc(MI(n)):null}function zg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Hl(n){return n._rawValidators}function Gh(n){return n._rawAsyncValidators}function Pa(n){return n?Array.isArray(n)?n:[n]:[]}function Gl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Wg(n,e){const t=Pa(e);return Pa(n).forEach(i=>{Gl(t,i)||t.push(i)}),t}function zh(n,e){return Pa(e).filter(t=>!Gl(n,t))}class hD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Nr extends hD{get formDirective(){return null}get path(){return null}}class ms extends hD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NI{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Oa=(()=>{class n extends NI{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ms,2))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]})}return n})(),uo=(()=>{class n extends NI{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Nr,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]})}return n})();const ka="VALID",Yg="INVALID",Fs="PENDING",$o="DISABLED";function Iy(n){return(Jg(n)?n.validators:n)||null}function wy(n,e){return(Jg(e)?e.asyncValidators:n)||null}function Jg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ty(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new o.vHH(1e3,"");if(!r[t])throw new o.vHH(1001,"")}function Cy(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new o.vHH(1002,"")})}class zl{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ka}get invalid(){return this.status===Yg}get pending(){return this.status==Fs}get disabled(){return this.status===$o}get enabled(){return this.status!==$o}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Wg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Wg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zh(e,this._rawAsyncValidators))}hasValidator(e){return Gl(this._rawValidators,e)}hasAsyncValidator(e){return Gl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$o,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ka,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ka||this.status===Fs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$o:ka}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fs,this._hasOwnPendingAsyncValidator=!0;const t=xI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?$o:this.errors?Yg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fs)?Fs:this._anyControlsHaveStatus(Yg)?Yg:ka}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function LI(n){return Array.isArray(n)?qh(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function yD(n){return Array.isArray(n)?Hh(n):n||null}(this._rawAsyncValidators)}}class Xg extends zl{constructor(e,t,r){super(Iy(t),wy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Cy(this,0,e),Object.keys(e).forEach(r=>{Ty(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class VI extends Xg{}const Fa=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Wh}),Wh="always";function Kh(n,e){return[...e.path,n]}function Qh(n,e,t=Wh){tm(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function jI(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nm(n,e)})}(n,e),function La(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function xk(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nm(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function BI(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function em(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pi(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function by(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tm(n,e){const t=Hl(n);null!==e.validator?n.setValidators(zg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Gh(n);null!==e.asyncValidator?n.setAsyncValidators(zg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();by(e._rawValidators,i),by(e._rawAsyncValidators,i)}function Pi(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Hl(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=Gh(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return by(e._rawValidators,r),by(e._rawAsyncValidators,r),t}function nm(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ZI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Wl=class extends zl{constructor(e=null,t,r){super(Iy(t),wy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ZI(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ZI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let $I=(()=>{class n extends Nr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Kh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,features:[o.qOj]})}return n})(),co=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Xh={provide:gs,useExisting:(0,o.Gpc)(()=>Ho),multi:!0};let Ho=(()=>{class n extends sc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&o.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([Xh]),o.qOj]})}return n})(),GI=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();const WI=new o.OlP("NgModelWithFormControlWarning"),Pk={provide:Nr,useExisting:(0,o.Gpc)(()=>Ls)};let Ls=(()=>{class n extends Nr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Qh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){em(t.control||null,t,!1),function Sy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function nr(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(em(r||null,t),(n=>n instanceof Wl)(i)&&(Qh(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function rm(n,e){tm(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ED(n,e){return Pi(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tm(this.form,this),this._oldForm&&Pi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(qr,10),o.Y36(Zo,10),o.Y36(Fa,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&o.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Pk]),o.qOj,o.TTD]})}return n})();const KI={provide:Nr,useExisting:(0,o.Gpc)(()=>ef)};let ef=(()=>{class n extends $I{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Py(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Nr,13),o.Y36(qr,10),o.Y36(Zo,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o._Bn([KI]),o.qOj]})}return n})();const sm={provide:Nr,useExisting:(0,o.Gpc)(()=>uc)};let uc=(()=>{class n extends Nr{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Kh(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Py(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Nr,13),o.Y36(qr,10),o.Y36(Zo,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o._Bn([sm]),o.qOj]})}return n})();function Py(n){return!(n instanceof ef||n instanceof Ls||n instanceof uc)}const PD={provide:ms,useExisting:(0,o.Gpc)(()=>lo)};let lo=(()=>{class n extends ms{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Dy(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===hi?t=u:function Mk(n){return Object.getPrototypeOf(n.constructor)===sc}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function Ay(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Kh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(o.Y36(Nr,13),o.Y36(qr,10),o.Y36(Zo,10),o.Y36(gs,10),o.Y36(WI,8))};static#n=this.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([PD]),o.qOj,o.TTD]})}return n})();const QI={provide:gs,useExisting:(0,o.Gpc)(()=>Va),multi:!0};function At(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Va=(()=>{class n extends sc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=At(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function YI(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&o.NdJ("change",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([QI]),o.qOj]})}return n})(),ho=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(At(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Va,9))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const JI={provide:gs,useExisting:(0,o.Gpc)(()=>nf),multi:!0};function XI(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let nf=(()=>{class n extends sc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,l)=>{u._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const l=u;for(let f=0;f<l.length;f++){const v=this._getOptionValue(l[f].value);i.push(v)}}else{const l=r.options;for(let f=0;f<l.length;f++){const m=l[f];if(m.selected){const v=this._getOptionValue(m.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function om(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&o.NdJ("change",function(l){return i.onChange(l.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([JI]),o.qOj]})}return n})(),Go=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(XI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(XI(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(nf,9))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),zo=(()=>{class n{constructor(){this._validator=qg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=o.lG2({type:n,features:[o.TTD]})}return n})();const OD={provide:qr,useExisting:(0,o.Gpc)(()=>rf),multi:!0};let rf=(()=>{class n extends zo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.VuI,this.createValidator=t=>Zg}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([OD]),o.qOj]})}return n})(),um=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[GI]})}return n})();class Vy extends zl{constructor(e,t,r){super(Iy(t),wy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Cy(this,0,e),e.forEach((r,i)=>{Ty(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function sw(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Ba=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return sw(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Xg(i,u)}record(t,r=null){const i=this._reduceControls(t);return new VI(i,r)}control(t,r,i){let u={};return this.useNonNullable?(sw(r)?u=r:(u.validators=r,u.asyncValidators=i),new Wl(t,{...u,nonNullable:!0})):new Wl(t,r,i)}array(t,r,i){const u=t.map(l=>this._createControl(l));return new Vy(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Wl||t instanceof zl?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fa,useValue:t.callSetDisabledState??Wh}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[um]})}return n})(),By=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:WI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fa,useValue:t.callSetDisabledState??Wh}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[um]})}return n})();var fi=P(7592);(0,fi.registerVersion)("firebase","9.23.0","app");var R=P(5861),rr=P(4537),ki=P(7879),_e=P(9058),ZD=P(1878);class aw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function uw(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Ql="@firebase/app",Yl=new ki.Yd("@firebase/app"),hm="[DEFAULT]",vw={[Ql]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ja=new Map,fm=new Map;function QD(n,e){try{n.container.addComponent(e)}catch(t){Yl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fi(n){const e=n.name;if(fm.has(e))return Yl.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,n);for(const t of ja.values())QD(t,n);return!0}function uf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ko=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class JD{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rr.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}const Jl="10.5.2";function $y(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:hm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ko.create("bad-app-name",{appName:String(i)});if(t||(t=(0,_e.aH)()),!t)throw Ko.create("no-options");const u=ja.get(i);if(u){if((0,_e.vZ)(t,u.options)&&(0,_e.vZ)(r,u.config))return u;throw Ko.create("duplicate-app",{appName:i})}const l=new rr.H0(i);for(const m of fm.values())l.addComponent(m);const f=new JD(t,r,l);return ja.set(i,f),f}function pi(n,e,t){var r;let i=null!==(r=vw[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const u=i.match(/\s|\//),l=e.match(/\s|\//);if(u||l){const f=[`Unable to register library "${i}" with version "${e}":`];return u&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),u&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Yl.warn(f.join(" "))}Fi(new rr.wA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const XD="firebase-heartbeat-database",eS=1,cf="firebase-heartbeat-store";let gm=null;function zy(){return gm||(gm=(0,ZD.X3)(XD,eS,{upgrade:(n,e)=>{0===e&&n.createObjectStore(cf)}}).catch(n=>{throw Ko.create("idb-open",{originalErrorMessage:n.message})})),gm}function Ew(){return(Ew=(0,R.Z)(function*(n){try{return yield(yield zy()).transaction(cf).objectStore(cf).get(nS(n))}catch(e){if(e instanceof _e.ZR)Yl.warn(e.message);else{const t=Ko.create("idb-get",{originalErrorMessage:e?.message});Yl.warn(t.message)}}})).apply(this,arguments)}function Wy(n,e){return mm.apply(this,arguments)}function mm(){return(mm=(0,R.Z)(function*(n,e){try{const r=(yield zy()).transaction(cf,"readwrite");yield r.objectStore(cf).put(e,nS(n)),yield r.done}catch(t){if(t instanceof _e.ZR)Yl.warn(t.message);else{const r=Ko.create("idb-set",{originalErrorMessage:t?.message});Yl.warn(r.message)}}})).apply(this,arguments)}function nS(n){return`${n.name}!${n.options.appId}`}class iS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fo(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,R.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ym();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(u=>u.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(u=>{const l=new Date(u.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,R.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=ym(),{heartbeatsToSend:r,unsentEntries:i}=function sS(n,e=1024){const t=[];let r=n.slice();for(const i of n){const u=t.find(l=>l.agent===i.agent);if(u){if(u.dates.push(i.date),Xl(t)>e){u.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Xl(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),u=(0,_e.L)(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),u})()}}function ym(){return(new Date).toISOString().substring(0,10)}class fo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,R.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function tS(n){return Ew.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,R.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return Wy(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,R.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return Wy(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}})()}}function Xl(n){return(0,_e.L)(JSON.stringify({version:2,heartbeats:n})).length}!function Hr(n){Fi(new rr.wA("platform-logger",e=>new aw(e),"PRIVATE")),Fi(new rr.wA("heartbeat",e=>new iS(e),"PRIVATE")),pi(Ql,"0.9.22",n),pi(Ql,"0.9.22","esm2017"),pi("fire-js","")}("");const cc=(n,e)=>e.some(t=>n instanceof t);let lf,Yi;const lc=new WeakMap,Za=new WeakMap,dc=new WeakMap,$a=new WeakMap,qa=new WeakMap;let Ha={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Za.get(n);if("objectStoreNames"===e)return n.objectStoreNames||dc.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Tw(n){return"function"==typeof n?function ww(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ed(){return Yi||(Yi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(vm(this),e),Qo(lc.get(this))}:function(...e){return Qo(n.apply(vm(this),e))}:function(e,...t){const r=n.call(vm(this),e,...t);return dc.set(r,e.sort?e.sort():[e]),Qo(r)}}(n):(n instanceof IDBTransaction&&function nd(n){if(Za.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});Za.set(n,e)}(n),cc(n,function Ky(){return lf||(lf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ha):n)}function Qo(n){if(n instanceof IDBRequest)return function td(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(Qo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&lc.set(t,n)}).catch(()=>{}),qa.set(e,n),e}(n);if($a.has(n))return $a.get(n);const e=Tw(n);return e!==n&&($a.set(n,e),qa.set(e,n)),e}const vm=n=>qa.get(n),bw=["get","getKey","getAll","getAllKeys","count"],Aw=["put","add","delete","clear"],df=new Map;function Dw(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(df.get(e))return df.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Aw.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!bw.includes(t))return;const u=function(){var l=(0,R.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return l.apply(this,arguments)}}();return df.set(e,u),u}!function Iw(n){Ha=n(Ha)}(n=>({...n,get:(e,t,r)=>Dw(e,t)||n.get(e,t,r),has:(e,t)=>!!Dw(e,t)||n.has(e,t)}));const aS="@firebase/installations",Sw="0.6.4",xw=1e4,Mw=`w:${Sw}`,uS="FIS_v2",cS="https://firebaseinstallations.googleapis.com/v1",Gk=36e5,Us=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rd(n){return n instanceof _e.ZR&&n.code.includes("request-failed")}function hf({projectId:n}){return`${cS}/projects/${n}/installations`}function ff(n){return{token:n.token,requestStatus:2,expiresIn:fS(n.expiresIn),creationTime:Date.now()}}function Em(n,e){return hc.apply(this,arguments)}function hc(){return(hc=(0,R.Z)(function*(n,e){const r=(yield e.json()).error;return Us.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Qy({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function fc(n){return Yy.apply(this,arguments)}function Yy(){return(Yy=(0,R.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function fS(n){return Number(n.replace("s","000"))}function pf(){return(pf=(0,R.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=hf(n),i=Qy(n),u=e.getImmediate({optional:!0});if(u){const v=yield u.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:uS,appId:n.appId,sdkVersion:Mw})},m=yield fc(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:ff(v.authToken)}}throw yield Em("Create Installation",m)})).apply(this,arguments)}function gf(n){return new Promise(e=>{setTimeout(e,n)})}const zk=/^[cdef][\w-]{21}$/,Jy="";function mS(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Xy(n){return function Im(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return zk.test(t)?t:Jy}catch{return Jy}}function id(n){return`${n.appName}!${n.appId}`}const pc=new Map;function Rw(n,e){const t=id(n);ev(t,e),function Ow(n,e){const t=function kw(){return!gc&&"BroadcastChannel"in self&&(gc=new BroadcastChannel("[Firebase] FID Change"),gc.onmessage=n=>{ev(n.data.key,n.data.fid)}),gc}();t&&t.postMessage({key:n,fid:e}),function Fw(){0===pc.size&&gc&&(gc.close(),gc=null)}()}(t,e)}function ev(n,e){const t=pc.get(n);if(t)for(const r of t)r(e)}let gc=null;const Lw="firebase-installations-database",tv=1,Yo="firebase-installations-store";let nv=null;function sd(){return nv||(nv=function Cw(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),f=Qo(l);return r&&l.addEventListener("upgradeneeded",m=>{r(Qo(l.result),m.oldVersion,m.newVersion,Qo(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(m=>{u&&m.addEventListener("close",()=>u()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(Lw,tv,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Yo)}})),nv}function mc(n,e){return mf.apply(this,arguments)}function mf(){return(mf=(0,R.Z)(function*(n,e){const t=id(n),i=(yield sd()).transaction(Yo,"readwrite"),u=i.objectStore(Yo),l=yield u.get(t);return yield u.put(e,t),yield i.done,(!l||l.fid!==e.fid)&&Rw(n,e.fid),e})).apply(this,arguments)}function wm(n){return rv.apply(this,arguments)}function rv(){return(rv=(0,R.Z)(function*(n){const e=id(n),r=(yield sd()).transaction(Yo,"readwrite");yield r.objectStore(Yo).delete(e),yield r.done})).apply(this,arguments)}function _f(n,e){return iv.apply(this,arguments)}function iv(){return(iv=(0,R.Z)(function*(n,e){const t=id(n),i=(yield sd()).transaction(Yo,"readwrite"),u=i.objectStore(Yo),l=yield u.get(t),f=e(l);return void 0===f?yield u.delete(t):yield u.put(f,t),yield i.done,f&&(!l||l.fid!==f.fid)&&Rw(n,f.fid),f})).apply(this,arguments)}function od(n){return ad.apply(this,arguments)}function ad(){return ad=(0,R.Z)(function*(n){let e;const t=yield _f(n.appConfig,r=>{const i=function Uw(n){return Tm(n||{fid:mS(),registrationStatus:0})}(r),u=function Vw(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Us.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function yS(n,e){return sv.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Bw(n)}:{installationEntry:e}}(n,i);return e=u.registrationPromise,u.installationEntry});return t.fid===Jy?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),ad.apply(this,arguments)}function sv(){return sv=(0,R.Z)(function*(n,e){try{const t=yield function gS(n,e){return pf.apply(this,arguments)}(n,e);return mc(n.appConfig,t)}catch(t){throw rd(t)&&409===t.customData.serverCode?yield wm(n.appConfig):yield mc(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),sv.apply(this,arguments)}function Bw(n){return yf.apply(this,arguments)}function yf(){return(yf=(0,R.Z)(function*(n){let e=yield ov(n.appConfig);for(;1===e.registrationStatus;)yield gf(100),e=yield ov(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield od(n);return r||t}return e})).apply(this,arguments)}function ov(n){return _f(n,e=>{if(!e)throw Us.create("installation-not-found");return Tm(e)})}function Tm(n){return function jw(n){return 1===n.registrationStatus&&n.registrationTime+xw<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Cm(){return(Cm=(0,R.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Zw(n,{fid:e}){return`${hf(n)}/${e}/authTokens:generate`}(n,t),i=function Nw(n,{refreshToken:e}){const t=Qy(n);return t.append("Authorization",function pS(n){return`${uS} ${n}`}(e)),t}(n,t),u=e.getImmediate({optional:!0});if(u){const v=yield u.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Mw,appId:n.appId}})},m=yield fc(()=>fetch(r,f));if(m.ok)return ff(yield m.json());throw yield Em("Generate Auth Token",m)})).apply(this,arguments)}function bm(n){return Am.apply(this,arguments)}function Am(){return Am=(0,R.Z)(function*(n,e=!1){let t;const r=yield _f(n.appConfig,u=>{if(!cv(u))throw Us.create("not-registered");const l=u.authToken;if(!e&&function qw(n){return 2===n.requestStatus&&!function Hw(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Gk}(n)}(l))return u;if(1===l.requestStatus)return t=function ES(n,e){return av.apply(this,arguments)}(n,e),u;{if(!navigator.onLine)throw Us.create("app-offline");const f=function Gw(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(u);return t=function uv(n,e){return vf.apply(this,arguments)}(n,f),f}});return t?yield t:r.authToken}),Am.apply(this,arguments)}function av(){return(av=(0,R.Z)(function*(n,e){let t=yield $w(n.appConfig);for(;1===t.authToken.requestStatus;)yield gf(100),t=yield $w(n.appConfig);const r=t.authToken;return 0===r.requestStatus?bm(n,e):r})).apply(this,arguments)}function $w(n){return _f(n,e=>{if(!cv(e))throw Us.create("not-registered");return function zw(n){return 1===n.requestStatus&&n.requestTime+xw<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function vf(){return vf=(0,R.Z)(function*(n,e){try{const t=yield function vS(n,e){return Cm.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield mc(n.appConfig,r),t}catch(t){if(!rd(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield mc(n.appConfig,r)}else yield wm(n.appConfig);throw t}}),vf.apply(this,arguments)}function cv(n){return void 0!==n&&2===n.registrationStatus}function Dm(){return(Dm=(0,R.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield od(e);return r?r.catch(console.error):bm(e).catch(console.error),t.fid})).apply(this,arguments)}function ud(){return ud=(0,R.Z)(function*(n,e=!1){const t=n;return yield function Ga(n){return lv.apply(this,arguments)}(t),(yield bm(t,e)).token}),ud.apply(this,arguments)}function lv(){return(lv=(0,R.Z)(function*(n){const{registrationPromise:e}=yield od(n);e&&(yield e)})).apply(this,arguments)}function hv(n){return Us.create("missing-app-config-values",{valueName:n})}const Jw="installations",wS=n=>{const e=n.getProvider("app").getImmediate(),t=function Wk(n){if(!n||!n.options)throw hv("App Configuration");if(!n.name)throw hv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw hv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:uf(e,"heartbeat"),_delete:()=>Promise.resolve()}},ir=n=>{const t=uf(n.getProvider("app").getImmediate(),Jw).getImmediate();return{getId:()=>function Ww(n){return Dm.apply(this,arguments)}(t),getToken:i=>function Kw(n){return ud.apply(this,arguments)}(t,i)}};(function eT(){Fi(new rr.wA(Jw,wS,"PUBLIC")),Fi(new rr.wA("installations-internal",ir,"PRIVATE"))})(),pi(aS,Sw),pi(aS,Sw,"esm2017");const fv="@firebase/remote-config",gi=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xS{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,R.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const u=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&l.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(l),u})()}}function MS(n=navigator){return n.languages&&n.languages[0]||n.language}class mv{constructor(e,t,r,i,u,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=u,this.appId=l}fetch(e){var t=this;return(0,R.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:MS()},v={method:"POST",headers:f,body:JSON.stringify(m)},C=fetch(l,v),A=new Promise((Te,Fe)=>{e.signal.addEventListener(()=>{const ke=new Error("The operation was aborted.");ke.name="AbortError",Fe(ke)})});let M;try{yield Promise.race([C,A]),M=yield C}catch(Te){let Fe="fetch-client-network";throw"AbortError"===Te?.name&&(Fe="fetch-timeout"),gi.create(Fe,{originalErrorMessage:Te?.message})}let O=M.status;const Z=M.headers.get("ETag")||void 0;let G,X;if(200===M.status){let Te;try{Te=yield M.json()}catch(Fe){throw gi.create("fetch-client-parse",{originalErrorMessage:Fe?.message})}G=Te.entries,X=Te.state}if("INSTANCE_STATE_UNSPECIFIED"===X?O=500:"NO_CHANGE"===X?O=304:("NO_TEMPLATE"===X||"EMPTY_CONFIG"===X)&&(G={}),304!==O&&200!==O)throw gi.create("fetch-status",{httpStatus:O});return{status:O,eTag:Z,config:G}})()}}class oT{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,R.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,R.Z)(function*(){yield function Tf(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(gi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),u}catch(u){if(!function NS(n){if(!(n instanceof _e.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const l={throttleEndTimeMillis:Date.now()+(0,_e.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class aT{constructor(e,t,r,i,u){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cf(n,e){const t=n.target.error||void 0;return gi.create(e,{originalErrorMessage:t&&t?.message})}const _o="app_namespace_store";class lT{constructor(e,t,r,i=function cT(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Cf(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_o,{keyPath:"compositeKey"})}}catch(t){e(gi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,R.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([_o],"readonly").objectStore(_o),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=C=>{u(Cf(C,"storage-get"))},v.onsuccess=C=>{const A=C.target.result;i(A?A.value:void 0)}}catch(v){u(gi.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,R.Z)(function*(){const i=yield r.openDbPromise;return new Promise((u,l)=>{const m=i.transaction([_o],"readwrite").objectStore(_o),v=r.createCompositeKey(e);try{const C=m.put({compositeKey:v,value:t});C.onerror=A=>{l(Cf(A,"storage-set"))},C.onsuccess=()=>{u()}}catch(C){l(gi.create("storage-set",{originalErrorMessage:C?.message}))}})})()}delete(e){var t=this;return(0,R.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([_o],"readwrite").objectStore(_o),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=C=>{u(Cf(C,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){u(gi.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class kS{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,R.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function hT(){return bf.apply(this,arguments)}function bf(){return(bf=(0,R.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}!function FS(){Fi(new rr.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gi.create("registration-window");if(!(0,_e.hl)())throw gi.create("indexed-db-unavailable");const{projectId:u,apiKey:l,appId:f}=r.options;if(!u)throw gi.create("registration-project-id");if(!l)throw gi.create("registration-api-key");if(!f)throw gi.create("registration-app-id");const m=new lT(f,r.name,t=t||"firebase"),v=new kS(m),C=new ki.Yd(fv);C.logLevel=ki.in.ERROR;const A=new mv(i,Jl,t,u,l,f),M=new oT(A,m),O=new xS(M,m,v,C),Z=new aT(r,O,v,m,C);return function po(n){const e=(0,_e.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(Z),Z},"PUBLIC").setMultipleInstances(!0)),pi(fv,"0.4.4"),pi(fv,"0.4.4","esm2017")}();const fT=(n,e)=>e.some(t=>n instanceof t);let _v,yv;const vv=new WeakMap,Ev=new WeakMap,mT=new WeakMap,Iv=new WeakMap,wv=new WeakMap;let Tv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Ev.get(n);if("objectStoreNames"===e)return n.objectStoreNames||mT.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function jS(n){return"function"==typeof n?function BS(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gT(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Cv(this),e),Xo(vv.get(this))}:function(...e){return Xo(n.apply(Cv(this),e))}:function(e,...t){const r=n.call(Cv(this),e,...t);return mT.set(r,e.sort?e.sort():[e]),Xo(r)}}(n):(n instanceof IDBTransaction&&function US(n){if(Ev.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});Ev.set(n,e)}(n),fT(n,function pT(){return _v||(_v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Tv):n)}function Xo(n){if(n instanceof IDBRequest)return function LS(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(Xo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&vv.set(t,n)}).catch(()=>{}),wv.set(e,n),e}(n);if(Iv.has(n))return Iv.get(n);const e=jS(n);return e!==n&&(Iv.set(n,e),wv.set(e,n)),e}const Cv=n=>wv.get(n);function _T(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),f=Xo(l);return r&&l.addEventListener("upgradeneeded",m=>{r(Xo(l.result),m.oldVersion,m.newVersion,Xo(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(m=>{u&&m.addEventListener("close",()=>u()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function bv(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Xo(t).then(()=>{})}const ZS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],Av=new Map;function yT(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Av.get(e))return Av.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=$S.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ZS.includes(t))return;const u=function(){var l=(0,R.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return l.apply(this,arguments)}}();return Av.set(e,u),u}!function VS(n){Tv=n(Tv)}(n=>({...n,get:(e,t,r)=>yT(e,t)||n.get(e,t,r),has:(e,t)=>!!yT(e,t)||n.has(e,t)}));const vT="/firebase-messaging-sw.js",ET="/firebase-cloud-messaging-push-scope",Dv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",IT="https://fcmregistrations.googleapis.com/v1",Sv="google.c.a.c_id",wT="google.c.a.c_l",TT="google.c.a.ts";var Af=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Af||{});function yo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yc(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let u=0;u<r.length;++u)i[u]=r.charCodeAt(u);return i}const xv="fcm_token_details_db",qS=5,vc="fcm_token_object_Store";function Df(){return Df=(0,R.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(xv))return null;let e=null;return(yield _T(xv,qS,{upgrade:(r=(0,R.Z)(function*(i,u,l,f){var m;if(u<2||!i.objectStoreNames.contains(vc))return;const v=f.objectStore(vc),C=yield v.index("fcmSenderId").get(n);if(yield v.clear(),C)if(2===u){const A=C;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:null!==(m=A.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:"string"==typeof A.vapidKey?A.vapidKey:yo(A.vapidKey)}}}else if(3===u){const A=C;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:yo(A.auth),p256dh:yo(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:yo(A.vapidKey)}}}else if(4===u){const A=C;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:yo(A.auth),p256dh:yo(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:yo(A.vapidKey)}}}}),function(u,l,f,m){return r.apply(this,arguments)})})).close(),yield bv(xv),yield bv("fcm_vapid_details_db"),yield bv("undefined"),function Yk(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Df.apply(this,arguments)}const AT="firebase-messaging-database",DT=1,dd="firebase-messaging-store";let za=null;function Mv(){return za||(za=_T(AT,DT,{upgrade:(n,e)=>{0===e&&n.createObjectStore(dd)}})),za}function ST(n){return Nv.apply(this,arguments)}function Nv(){return Nv=(0,R.Z)(function*(n){const e=Gr(n),r=yield(yield Mv()).transaction(dd).objectStore(dd).get(e);if(r)return r;{const i=yield function Qk(n){return Df.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield Wa(n,i),i}}),Nv.apply(this,arguments)}function Wa(n,e){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,R.Z)(function*(n,e){const t=Gr(n),i=(yield Mv()).transaction(dd,"readwrite");return yield i.objectStore(dd).put(e,t),yield i.done,e})).apply(this,arguments)}function hd(){return(hd=(0,R.Z)(function*(n){const e=Gr(n),r=(yield Mv()).transaction(dd,"readwrite");yield r.objectStore(dd).delete(e),yield r.done})).apply(this,arguments)}function Gr({appConfig:n}){return n.appId}const gr=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xT(n,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,R.Z)(function*(n,e){const t=yield Fv(n),r=fd(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(kv(n.appConfig),i)).json()}catch(l){throw gr.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(u.error)throw gr.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw gr.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function Mm(){return(Mm=(0,R.Z)(function*(n,e){const t=yield Fv(n),r=fd(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${kv(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw gr.create("token-update-failed",{errorInfo:l?.toString()})}if(u.error)throw gr.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw gr.create("token-update-no-token");return u.token})).apply(this,arguments)}function Ov(n,e){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,R.Z)(function*(n,e){const r={method:"DELETE",headers:yield Fv(n)};try{const u=yield(yield fetch(`${kv(n.appConfig)}/${e}`,r)).json();if(u.error)throw gr.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(i){throw gr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function kv({projectId:n}){return`${IT}/projects/${n}/registrations`}function Fv(n){return Lv.apply(this,arguments)}function Lv(){return(Lv=(0,R.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function fd({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Dv&&(i.web.applicationPubKey=r),i}const HS=6048e5;function Uv(){return Uv=(0,R.Z)(function*(n){const e=yield function xf(n,e){return Vv.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:yo(e.getKey("auth")),p256dh:yo(e.getKey("p256dh"))},r=yield ST(n.firebaseDependencies);if(r){if(function zS(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+HS?function NT(n,e){return Pm.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Ov(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return RT(n.firebaseDependencies,t)}return RT(n.firebaseDependencies,t)}),Uv.apply(this,arguments)}function Rm(){return Rm=(0,R.Z)(function*(n){const e=yield ST(n.firebaseDependencies);e&&(yield Ov(n.firebaseDependencies,e.token),yield function xm(n){return hd.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Rm.apply(this,arguments)}function Pm(){return Pm=(0,R.Z)(function*(n,e){try{const t=yield function MT(n,e){return Mm.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Wa(n.firebaseDependencies,r),t}catch(t){throw yield function Sf(n){return Rm.apply(this,arguments)}(n),t}}),Pm.apply(this,arguments)}function RT(n,e){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,R.Z)(function*(n,e){const r={token:yield xT(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Wa(n,r),r.token})).apply(this,arguments)}function Vv(){return(Vv=(0,R.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yc(e)})})).apply(this,arguments)}function PT(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function OT(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function kT(n,e){e.data&&(n.data=e.data)}(e,n),function FT(n,e){var t,r,i,u,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(u=e.notification)||void 0===u?void 0:u.click_action;f&&(n.fcmOptions.link=f);const m=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function Bv(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function jv(n){return gr.create("missing-app-config-values",{valueName:n})}Bv("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bv("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xk{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function KS(n){if(!n||!n.options)throw jv("App Configuration Object");if(!n.name)throw jv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw jv(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function LT(){return(LT=(0,R.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(vT,{scope:ET}),n.swRegistration.update().catch(()=>{})}catch(e){throw gr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Om(){return(Om=(0,R.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield function QS(n){return LT.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw gr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Zv(){return(Zv=(0,R.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Dv)})).apply(this,arguments)}function Fm(){return Fm=(0,R.Z)(function*(n,e){if(!navigator)throw gr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gr.create("permission-blocked");return yield function km(n,e){return Zv.apply(this,arguments)}(n,e?.vapidKey),yield function eF(n,e){return Om.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function GS(n){return Uv.apply(this,arguments)}(n)}),Fm.apply(this,arguments)}function $v(){return($v=(0,R.Z)(function*(n,e,t){const r=function YS(n){switch(n){case Af.NOTIFICATION_CLICKED:return"notification_open";case Af.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Sv],message_name:t[wT],message_time:t[TT],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qv(){return qv=(0,R.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Af.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(PT(t)):n.onMessageHandler.next(PT(t)));const r=t.data;(function WS(n){return"object"==typeof n&&!!n&&Sv in n})(r)&&"1"===r["google.c.a.e"]&&(yield function Mf(n,e,t){return $v.apply(this,arguments)}(n,t.messageType,r))}),qv.apply(this,arguments)}const XS="@firebase/messaging",BT=n=>{const e=new Xk(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function JS(n,e){return qv.apply(this,arguments)}(e,t)),e},e2=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function UT(n,e){return Fm.apply(this,arguments)}(e,r)}};function pd(){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,R.Z)(function*(){try{yield(0,_e.eu)()}catch{return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function t2(){Fi(new rr.wA("messaging",BT,"PUBLIC")),Fi(new rr.wA("messaging-internal",e2,"PRIVATE")),pi(XS,"0.12.4"),pi(XS,"0.12.4","esm2017")}();const Nf="analytics",qT="firebase_id",r2="origin",i2=6e4,s2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rf="https://www.googletagmanager.com/gtag/js",mr=new ki.Yd("@firebase/analytics"),mi=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function o2(n){if(!n.startsWith(Rf)){const e=mi.create("invalid-gtag-resource",{gtagURL:n});return mr.warn(e.message),""}return n}function GT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Wv(){return(Wv=(0,R.Z)(function*(n,e,t,r,i,u){const l=r[i];try{if(l)yield e[l];else{const m=(yield GT(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){mr.error(f)}n("config",i,u)})).apply(this,arguments)}function Lm(){return(Lm=(0,R.Z)(function*(n,e,t,r,i){try{let u=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const f=yield GT(t);for(const m of l){const v=f.find(A=>A.measurementId===m),C=v&&e[v.appId];if(!C){u=[];break}u.push(C)}}0===u.length&&(u=Object.values(e)),yield Promise.all(u),n("event",r,i||{})}catch(u){mr.error(u)}})).apply(this,arguments)}const f2=30,KT=new class g2{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Kv(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Um(){return(Um=(0,R.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Kv(r)},u=s2.replace("{app-id}",t),l=yield fetch(u,i);if(200!==l.status&&304!==l.status){let f="";try{const m=yield l.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()})).apply(this,arguments)}function Jv(){return(Jv=(0,R.Z)(function*(n,e=KT,t){const{appId:r,apiKey:i,measurementId:u}=n.options;if(!r)throw mi.create("no-app-id");if(!i){if(u)return{measurementId:u,appId:r};throw mi.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Ic;return setTimeout((0,R.Z)(function*(){f.abort()}),void 0!==t?t:i2),QT({appId:r,apiKey:i,measurementId:u},l,f,e)})).apply(this,arguments)}function QT(n,e,t){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,R.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=KT){var u;const{appId:l,measurementId:f}=n;try{yield function m2(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(mi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(m){if(f)return mr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:f};throw m}try{const m=yield function Qv(n){return Um.apply(this,arguments)}(n);return i.deleteThrottleMetadata(l),m}catch(m){const v=m;if(!function YT(n){if(!(n instanceof _e.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v)){if(i.deleteThrottleMetadata(l),f)return mr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:l,measurementId:f};throw m}const C=503===Number(null===(u=v?.customData)||void 0===u?void 0:u.httpStatus)?(0,_e.$s)(t,i.intervalMillis,f2):(0,_e.$s)(t,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return i.setThrottleMetadata(l,A),mr.debug(`Calling attemptFetch again in ${C} millis`),QT(n,A,r,i)}}),Pf.apply(this,arguments)}class Ic{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Vm,Zm;function JT(){return(JT=(0,R.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const u=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:u}))}})).apply(this,arguments)}function n4(){return(n4=(0,R.Z)(function*(){if(!(0,_e.hl)())return mr.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(n){return mr.warn(mi.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function $m(){return $m=(0,R.Z)(function*(n,e,t,r,i,u,l){var f;const m=function Yv(n){return Jv.apply(this,arguments)}(n);m.then(O=>{t[O.measurementId]=O.appId,n.options.measurementId&&O.measurementId!==n.options.measurementId&&mr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>mr.error(O)),e.push(m);const v=function v2(){return n4.apply(this,arguments)}().then(O=>{if(O)return r.getId()}),[C,A]=yield Promise.all([m,v]);(function WT(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Rf)&&t.src.includes(n))return t;return null})(u)||function u2(n,e){const t=function a2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:o2}),r=document.createElement("script"),i=`${Rf}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(u,C.measurementId),Zm&&(i("consent","default",Zm),function t4(n){Zm=n}(void 0)),i("js",new Date);const M=null!==(f=l?.config)&&void 0!==f?f:{};return M[r2]="firebase",M.update=!0,null!=A&&(M[qT]=A),i("config",C.measurementId,M),Vm&&(i("set",Vm),function nC(n){Vm=n}(void 0)),C.measurementId}),$m.apply(this,arguments)}class rF{constructor(e){this.app=e}_delete(){return delete Vs[this.app.options.appId],Promise.resolve()}}let Vs={},rC=[];const iC={};let oC,vo,r4="dataLayer",qm=!1;function w2(n,e,t){!function I2(){const n=[];if((0,_e.ru)()&&n.push("This is a browser extension environment."),(0,_e.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=mi.create("invalid-analytics-context",{errorInfo:e});mr.warn(t.message)}}();const r=n.options.appId;if(!r)throw mi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw mi.create("no-api-key");mr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vs[r])throw mi.create("already-exists",{id:r});if(!qm){!function c2(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(r4);const{wrappedGtag:u,gtagCore:l}=function h2(n,e,t,r,i){let u=function(...l){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(u=window[i]),window[i]=function d2(n,e,t,r){function u(){return u=(0,R.Z)(function*(l,...f){try{if("event"===l){const[m,v]=f;yield function zT(n,e,t,r,i){return Lm.apply(this,arguments)}(n,e,t,m,v)}else if("config"===l){const[m,v]=f;yield function l2(n,e,t,r,i,u){return Wv.apply(this,arguments)}(n,e,t,r,m,v)}else if("consent"===l){const[m]=f;n("consent","update",m)}else if("get"===l){const[m,v,C]=f;n("get",m,v,C)}else if("set"===l){const[m]=f;n("set",m)}else n(l,...f)}catch(m){mr.error(m)}}),u.apply(this,arguments)}return function i(l){return u.apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[i]}}(Vs,rC,iC,r4,"gtag");vo=u,oC=l,qm=!0}return Vs[r]=function E2(n,e,t,r,i,u,l){return $m.apply(this,arguments)}(n,rC,iC,e,oC,r4,t),new rF(n)}function C2(){return i4.apply(this,arguments)}function i4(){return(i4=(0,R.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}const x2="@firebase/analytics";!function uC(){Fi(new rr.wA(Nf,(e,{options:t})=>w2(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Fi(new rr.wA("analytics-internal",function n(e){try{const t=e.getProvider(Nf).getImmediate();return{logEvent:(r,i,u)=>function aC(n,e,t,r){n=(0,_e.m9)(n),function _2(n,e,t,r,i){return JT.apply(this,arguments)}(vo,Vs[n.app.options.appId],e,t,r).catch(i=>mr.error(i))}(t,r,i,u)}}catch(t){throw mi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),pi(x2,"0.10.0"),pi(x2,"0.10.0","esm2017")}();class cC extends Uu.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const zm={setInterval(n,e,...t){const{delegate:r}=zm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=zm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var N2=P(9039);class lC extends cC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,u=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return zm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&zm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(u){r=!0,i=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N2.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const s4={now:()=>(s4.delegate||Date).now(),delegate:void 0};class wc{constructor(e,t=wc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}wc.now=s4.now;class dC extends wc{constructor(e,t=wc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const R2=new class uF extends dC{}(class Ff extends lC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Lf=new dC(lC);var Uf=P(5137),gd=P(3093);const Tc=new o.GfV("7.6.1"),Wm="__angularfire_symbol__analyticsIsSupportedValue",o4="__angularfire_symbol__analyticsIsSupported",Km="__angularfire_symbol__remoteConfigIsSupportedValue",md="__angularfire_symbol__remoteConfigIsSupported",a4="__angularfire_symbol__messagingIsSupportedValue",u4="__angularfire_symbol__messagingIsSupported";globalThis[o4]||(globalThis[o4]=C2().then(n=>globalThis[Wm]=n).catch(()=>globalThis[Wm]=!1)),globalThis[u4]||(globalThis[u4]=pd().then(n=>globalThis[a4]=n).catch(()=>globalThis[a4]=!1)),globalThis[md]||(globalThis[md]=hT().then(n=>globalThis[Km]=n).catch(()=>globalThis[Km]=!1));const c4=(n,e)=>{const t=e?[e]:(0,fi.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function yd(){}class l4{constructor(e,t=R2){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class hC{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yd,{},yd,yd)),t.pipe(Mn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vf=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new l4(Zone.current)),this.insideAngular=t.run(()=>new l4(Zone.current,Lf)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ka(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Qa(n){return Ka().ngZone.run(()=>n())}function fC(n){return Ka(),function d4(n){return function(t){return(t=t.lift(new hC(n.ngZone))).pipe((0,Uf.R)(n.outsideAngular),(0,gd.Q)(n.insideAngular))}}(Ka())(n)}const h4=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Qa(()=>n.apply(void 0,r))},_s=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=Qa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yd,{},yd,yd)))),r[u]=h4(r[u],t));const i=function O2(n){return Ka().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Kn.y){const u=Ka();return i.pipe((0,Uf.R)(u.outsideAngular),(0,gd.Q)(u.insideAngular))}return Qa(()=>i)}return i instanceof Kn.y?i.pipe(fC):i instanceof Promise?Qa(()=>new Promise((u,l)=>i.then(f=>Qa(()=>u(f)),f=>Qa(()=>l(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Qa(()=>i)};class Ya{constructor(e){return e}}class Ym{constructor(){return(0,fi.getApps)()}}const f4=new o.OlP("angularfire2._apps"),L2={provide:Ya,useFactory:function F2(n){return n&&1===n.length?n[0]:new Ya((0,fi.getApp)())},deps:[[new o.FiY,f4]]},pC={provide:Ym,deps:[[new o.FiY,f4]]};function p4(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ya(r)}}let gC=(()=>{class n{constructor(t){(0,fi.registerVersion)("angularfire",Tc.full,"core"),(0,fi.registerVersion)("angularfire",Tc.full,"app"),(0,fi.registerVersion)("angular",o.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[L2,pC]}),n})();function U2(n,...e){return{ngModule:gC,providers:[{provide:f4,useFactory:p4(n),multi:!0,deps:[o.R0b,o.zs3,Vf,...e]}]}}const mC=_s(fi.initializeApp,!0);P(6710);class _C{constructor(){return c4("auth")}}const jf=new Map,m4={activated:!1,tokenObservers:[]},ox={initialized:!1,enabled:!1};function vn(n){return jf.get(n)||Object.assign({},m4)}function _4(){return ox}const bC="https://content-firebaseappcheck.googleapis.com/v1",cx="exchangeDebugToken",DC={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class LF{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,R.Z)(function*(){t.stop();try{t.pending=new _e.BH,yield function dx(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _e.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qn=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function y4(n){if(!vn(n).activated)throw Qn.create("use-before-activation",{appName:n.name})}function t0(n,e){return E4.apply(this,arguments)}function E4(){return(E4=(0,R.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,u)}catch(A){throw Qn.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==l.status)throw Qn.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(A){throw Qn.create("fetch-parse-error",{originalErrorMessage:A?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Qn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}})).apply(this,arguments)}function SC(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${bC}/projects/${t}/apps/${r}:${cx}?key=${i}`,body:{debug_token:e}}}const fx="firebase-app-check-database",px=1,$f="firebase-app-check-store";let n0=null;function w4(){return(w4=(0,R.Z)(function*(n,e){const r=(yield function MC(){return n0||(n0=new Promise((n,e)=>{try{const t=indexedDB.open(fx,px);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Qn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($f,{keyPath:"compositeKey"})}}catch(t){e(Qn.create("storage-open",{originalErrorMessage:t?.message}))}}),n0)}()).transaction($f,"readwrite"),u=r.objectStore($f).put({compositeKey:n,value:e});return new Promise((l,f)=>{u.onsuccess=m=>{l()},r.onerror=m=>{var v;f(Qn.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const o0=new ki.Yd("@firebase/app-check");function u0(n,e){return(0,_e.hl)()?function mx(n,e){return function r0(n,e){return w4.apply(this,arguments)}(function T4(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{o0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function C4(){return _4().enabled}function qf(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,R.Z)(function*(){const n=_4();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const b4={error:"UNKNOWN_ERROR"};function A4(n){return _e.US.encodeString(JSON.stringify(n),!1)}function l0(n){return OC.apply(this,arguments)}function OC(){return(OC=(0,R.Z)(function*(n,e=!1){const t=n.app;y4(t);const r=vn(t);let u,i=r.token;if(i&&!Cc(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(Cc(m)?i=m:yield u0(t,void 0))}if(!e&&i&&Cc(i))return{token:i.token};let f,l=!1;if(C4()){r.exchangeTokenPromise||(r.exchangeTokenPromise=t0(SC(t,yield qf()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield u0(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield vn(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?o0.warn(m.message):o0.error(m),u=m}return i?u?f=Cc(i)?{token:i.token,internalError:u}:LC(u):(f={token:i.token},r.token=i,yield u0(t,i)):f=LC(u),l&&function vx(n,e){const t=vn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function D4(n){return S4.apply(this,arguments)}function S4(){return(S4=(0,R.Z)(function*(n){const e=n.app;y4(e);const{provider:t}=vn(e);if(C4()){const r=yield qf(),{token:i}=yield t0(SC(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function M4(n,e){const t=vn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function kC(n){const{app:e}=n,t=vn(e);let r=t.tokenRefresher;r||(r=function FC(n){const{app:e}=n;return new LF((0,R.Z)(function*(){let r;if(r=vn(e).token?yield l0(n,!0):yield l0(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=vn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},DC.RETRIAL_MIN_WAIT,DC.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Cc(n){return n.expireTimeMillis-Date.now()>0}function LC(n){return{token:A4(b4),error:n}}class UC{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=vn(this.app);for(const t of e)M4(this.app,t.next);return Promise.resolve()}}const Dx="app-check-internal";!function Sx(){Fi(new rr.wA("app-check",n=>function UF(n,e){return new UC(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Dx).initialize()})),Fi(new rr.wA(Dx,n=>function N4(n){return{getToken:e=>l0(n,e),getLimitedUseToken:()=>D4(n),addTokenListener:e=>function x4(n,e,t,r){const{app:i}=n,u=vn(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Cc(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),kC(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>kC(n))}(n,"INTERNAL",e),removeTokenListener:e=>M4(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),pi("@firebase/app-check","0.8.0")}();class F4{constructor(){return c4("app-check")}}typeof window<"u"&&window;var qe,Px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bs={},d0=d0||{},bt=Px||self;function h0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Gf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zf="closure_uid_"+(1e9*Math.random()>>>0),GF=0;function QC(n,e,t){return n.call.apply(n.bind,arguments)}function B4(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Wr(n,e,t){return(Wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?QC:B4).apply(null,arguments)}function f0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Rr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Ac(){this.s=this.s,this.o=this.o}Ac.prototype.s=!1,Ac.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function KC(n){Object.prototype.hasOwnProperty.call(n,zf)&&n[zf]||(n[zf]=++GF)}(this)},Ac.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function j4(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function JC(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(h0(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let l=0;l<u;l++)n[i+l]=r[l]}else n.push(r)}}function Pr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Pr.prototype.h=function(){this.defaultPrevented=!0};var XC=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",()=>{},e),bt.removeEventListener("test",()=>{},e)}catch{}return n}();function Wf(n){return/^[\s\xa0]*$/.test(n)}function Kf(){var n=bt.navigator;return n&&(n=n.userAgent)?n:""}function js(n){return-1!=Kf().indexOf(n)}function eb(n){return eb[" "](n),n}eb[" "]=function(){};var p0,n,Z4=js("Opera"),Dc=js("Trident")||js("MSIE"),$4=js("Edge"),q4=$4||Dc,Qf=js("Gecko")&&!(-1!=Kf().toLowerCase().indexOf("webkit")&&!js("Edge"))&&!(js("Trident")||js("MSIE"))&&!js("Edge"),Fx=-1!=Kf().toLowerCase().indexOf("webkit")&&!js("Edge");function tb(){var n=bt.document;return n?n.documentMode:void 0}e:{var g0="",nb=(n=Kf(),Qf?/rv:([^\);]+)(\)|;)/.exec(n):$4?/Edge\/([\d\.]+)/.exec(n):Dc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Fx?/WebKit\/(\S+)/.exec(n):Z4?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(nb&&(g0=nb?nb[1]:""),Dc){var H4=tb();if(null!=H4&&H4>parseFloat(g0)){p0=String(H4);break e}}p0=g0}var zF=bt.document&&Dc&&(tb()||parseInt(p0,10))||void 0;function m0(n,e){if(Pr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Qf){e:{try{eb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Lx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&m0.$.h.call(this)}}Rr(m0,Pr);var Lx={2:"touch",3:"pen",4:"mouse"};m0.prototype.h=function(){m0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yf="closure_listenable_"+(1e6*Math.random()|0),WF=0;function KF(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++WF,this.fa=this.ia=!1}function G4(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function sb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ob(n){const e={};for(const t in n)e[t]=n[t];return e}const Ux="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vx(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Ux.length;u++)t=Ux[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function z4(n){this.src=n,this.g={},this.h=0}function ab(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=YC(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(G4(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ub(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}z4.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=ub(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new KF(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var W4="closure_lm_"+(1e6*Math.random()|0),cb={};function s(n,e,t,r,i){if(r&&r.once)return d(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)s(n,e[u],t,r,i);return null}return t=S(t),n&&n[Yf]?n.O(e,t,Gf(r)?!!r.capture:!!r,i):a(n,e,t,!1,r,i)}function a(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var l=Gf(i)?!!i.capture:!!i,f=T(n);if(f||(n[W4]=f=new z4(n)),(t=f.add(e,t,r,l,u)).proxy)return t;if(r=function c(){const e=E;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)XC||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(y(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function d(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)d(n,e[u],t,r,i);return null}return t=S(t),n&&n[Yf]?n.P(e,t,Gf(r)?!!r.capture:!!r,i):a(n,e,t,!0,r,i)}function h(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)h(n,e[u],t,r,i);else r=Gf(r)?!!r.capture:!!r,t=S(t),n&&n[Yf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ub(u=n.g[e],t,r,i))&&(G4(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=T(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ub(e,t,r,i)),(t=-1<n?e[n]:null)&&p(t))}function p(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Yf])ab(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(y(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=T(e))?(ab(t,n),0==t.h&&(t.src=null,e[W4]=null)):G4(n)}}}function y(n){return n in cb?cb[n]:cb[n]="on"+n}function E(n,e){if(n.fa)n=!0;else{e=new m0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&p(n),n=t.call(r,e)}return n}function T(n){return(n=n[W4])instanceof z4?n:null}var b="__closure_events_fn_"+(1e9*Math.random()>>>0);function S(n){return"function"==typeof n?n:(n[b]||(n[b]=function(e){return n.handleEvent(e)}),n[b])}function N(){Ac.call(this),this.i=new z4(this),this.S=this,this.J=null}function V(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Pr(e,n);else if(e instanceof Pr)e.target=e.target||n;else{var i=e;Vx(e=new Pr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];i=H(l,r,!0,e)&&i}if(i=H(l=e.g=n,r,!0,e)&&i,i=H(l,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=H(l=e.g=t[u],r,!1,e)&&i}function H(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var f=l.listener,m=l.la||l.src;l.ia&&ab(n.i,l),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}Rr(N,Ac),N.prototype[Yf]=!0,N.prototype.removeEventListener=function(n,e,t,r){h(this,n,e,t,r)},N.prototype.N=function(){if(N.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)G4(t[r]);delete n.g[e],n.h--}}this.J=null},N.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},N.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ae=bt.JSON.stringify;function Ze(){var n=Xa;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var me=new class be{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Et,n=>n.reset());class Et{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Rt(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function sn(n){bt.setTimeout(()=>{throw n},0)}let _r,Ji=!1,Xa=new class nt{constructor(){this.h=this.g=null}add(e,t){const r=me.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},_0=()=>{const n=bt.Promise.resolve(void 0);_r=()=>{n.then(Bx)}};var Bx=()=>{for(var n;n=Ze();){try{n.h.call(n.g)}catch(t){sn(t)}var e=me;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ji=!1};function y0(n,e){N.call(this),this.h=n||1,this.g=e||bt,this.j=Wr(this.qb,this),this.l=Date.now()}function jx(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Zx(n,e,t){if("function"==typeof n)t&&(n=Wr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wr(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function YF(n){n.g=Zx(()=>{n.g=null,n.i&&(n.i=!1,YF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Rr(y0,N),(qe=y0.prototype).ga=!1,qe.T=null,qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),V(this,"tick"),this.ga&&(jx(this),this.start()))}},qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.N=function(){y0.$.N.call(this),jx(this),delete this.g};class a8 extends Ac{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:YF(this)}N(){super.N(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function K4(n){Ac.call(this),this.h=n,this.g={}}Rr(K4,Ac);var JF=[];function XF(n,e,t,r){Array.isArray(t)||(t&&(JF[0]=t.toString()),t=JF);for(var i=0;i<t.length;i++){var u=s(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function e5(n){sb(n.g,function(e,t){this.g.hasOwnProperty(t)&&p(e)},n),n.g={}}function lb(){this.g=!0}function v0(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function d8(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<i.length;l++)i[l]=""}}}return ae(t)}catch{return e}}(n,t)+(r?" "+r:"")})}K4.prototype.N=function(){K4.$.N.call(this),e5(this)},K4.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lb.prototype.Ea=function(){this.g=!1},lb.prototype.info=function(){};var Jf={},t5=null;function db(){return t5=t5||new N}function n5(n){Pr.call(this,Jf.Ta,n)}function Q4(n){const e=db();V(e,new n5(e))}function r5(n,e){Pr.call(this,Jf.STAT_EVENT,n),this.stat=e}function Xi(n){const e=db();V(e,new r5(e,n))}function i5(n,e){Pr.call(this,Jf.Ua,n),this.size=e}function Y4(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}Jf.Ta="serverreachability",Rr(n5,Pr),Jf.STAT_EVENT="statevent",Rr(r5,Pr),Jf.Ua="timingevent",Rr(i5,Pr);var hb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},s5={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $x(){}function a5(){}$x.prototype.h=null;var Gx,J4={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qx(){Pr.call(this,"d")}function Hx(){Pr.call(this,"c")}function fb(){}function X4(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new K4(this),this.P=h8,this.V=new y0(n=q4?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new u5}function u5(){this.i=null,this.g="",this.h=!1}Rr(qx,Pr),Rr(Hx,Pr),Rr(fb,$x),fb.prototype.g=function(){return new XMLHttpRequest},fb.prototype.i=function(){return{}},Gx=new fb;var h8=45e3,zx={},pb={};function Wx(n,e,t){n.L=1,n.v=yb(Sc(e)),n.s=t,n.S=!0,c5(n,null)}function c5(n,e){n.G=Date.now(),eE(n),n.A=Sc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),v5(t.i,"t",r),n.C=0,t=n.l.J,n.h=new u5,n.g=$5(n.l,t?e:null,!n.s),0<n.O&&(n.M=new a8(Wr(n.Pa,n,n.g),n.O)),XF(n.U,n.g,"readystatechange",n.nb),e=n.I?ob(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Q4(),function u8(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var l="",f=u.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var C=v[0];v=v[1];var A=C.split("_");l=2<=A.length&&"type"==A[1]?l+(C+"=")+v+"&":l+(C+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function l5(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function d5(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=f8(n,t),i==pb){4==e&&(n.o=4,Xi(14),r=!1),v0(n.j,n.m,null,"[Incomplete Response]");break}if(i==zx){n.o=4,Xi(15),v0(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}v0(n.j,n.m,i,null),Kx(n,i)}l5(n)&&i!=pb&&i!=zx&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),nM(e),e.M=!0,Xi(11))):(v0(n.j,n.m,t,"[Invalid Chunked Response]"),Xf(n),tE(n))}function f8(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pb:(t=Number(e.substring(t,r)),isNaN(t)?zx:(r+=1)+t>e.length?pb:(e=e.slice(r,r+t),n.C=r+t,e))}function eE(n){n.Y=Date.now()+n.P,h5(n,n.P)}function h5(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Y4(Wr(n.lb,n),e)}function gb(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function tE(n){0==n.l.H||n.J||V5(n.l,n)}function Xf(n){gb(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,jx(n.V),e5(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Kx(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Qx(t.i,n)))if(!n.K&&Qx(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Cb(t),wb(t)}tM(t),Xi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Y4(Wr(t.ib,t),6e3));if(1>=w5(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else tp(t,11)}else if((n.K||t.g==n)&&Cb(t),!Wf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const C=v[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const A=v[4];null!=A&&(t.Ga=A,t.l.info("SVER="+t.Ga));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.L=r=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const O=n.g;if(O){const Z=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var u=r.i;u.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Yx(u,u.h),u.h=null))}if(r.F){const G=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;G&&(r.Da=G,Cn(r.I,r.F,G))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=Z5(r,r.J?r.pa:null,r.Y),l.K){T5(r.i,l);var f=l,m=r.L;m&&f.setTimeout(m),f.B&&(gb(f),eE(f)),r.g=l}else L5(r);0<t.j.length&&Tb(t)}else"stop"!=v[0]&&"close"!=v[0]||tp(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?tp(t,7):eM(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}Q4()}catch{}}function f5(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(h0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function g8(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(h0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function p8(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(h0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(qe=X4.prototype).setTimeout=function(n){this.P=n},qe.nb=function(n){n=n.target;const e=this.M;e&&3==eu(n)?e.l():this.Pa(n)},qe.Pa=function(n){try{if(n==this.g)e:{const C=eu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||q4||this.g&&(this.h.h||this.g.ja()||N5(this.g)))){this.J||4!=C||7==e||Q4(),gb(this);var t=this.g.da();this.ca=t;t:if(l5(this)){var r=N5(this.g);n="";var i=r.length,u=4==eu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xf(this),tE(this);var l="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function c8(n,e,t,r,i,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wf(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Xi(12),Xf(this),tE(this);break e}v0(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kx(this,t)}this.S?(d5(this,C,l),q4&&this.i&&3==C&&(XF(this.U,this.V,"tick",this.mb),this.V.start())):(v0(this.j,this.m,l,null),Kx(this,l)),4==C&&Xf(this),this.i&&!this.J&&(4==C?V5(this.l,this):(this.i=!1,eE(this)))}else(function P8(n){const e={};n=(n.g&&2<=eu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Wf(n[r]))continue;var t=Rt(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[i]||[];e[i]=u,u.push(t)}!function QF(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Xi(12)):(this.o=0,Xi(13)),Xf(this),tE(this)}}}catch{}},qe.mb=function(){if(this.g){var n=eu(this.g),e=this.g.ja();this.C<e.length&&(gb(this),d5(this,n,e),this.i&&4!=n&&eE(this))}},qe.cancel=function(){this.J=!0,Xf(this)},qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function l8(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Q4(),Xi(17)),Xf(this),this.o=2,tE(this)):h5(this,this.Y-n)};var p5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ep(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ep){this.h=n.h,mb(this,n.j),this.s=n.s,this.g=n.g,_b(this,n.m),this.l=n.l;var e=n.i,t=new iE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),g5(this,t),this.o=n.o}else n&&(e=String(n).match(p5))?(this.h=!1,mb(this,e[1]||"",!0),this.s=nE(e[2]||""),this.g=nE(e[3]||"",!0),_b(this,e[4]),this.l=nE(e[5]||"",!0),g5(this,e[6]||"",!0),this.o=nE(e[7]||"")):(this.h=!1,this.i=new iE(null,this.h))}function Sc(n){return new ep(n)}function mb(n,e,t){n.j=t?nE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _b(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function g5(n,e,t){e instanceof iE?(n.i=e,function w8(n,e){e&&!n.j&&(Ed(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(_5(this,r),v5(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=rE(e,E8)),n.i=new iE(e,n.h))}function Cn(n,e,t){n.i.set(e,t)}function yb(n){return Cn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function nE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_8),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _8(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ep.prototype.toString=function(){var n=[],e=this.j;e&&n.push(rE(e,m5,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(rE(e,m5,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(rE(t,"/"==t.charAt(0)?v8:y8,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",rE(t,I8)),n.join("")};var m5=/[#\/\?@]/g,y8=/[#\?:]/g,v8=/[#\?]/g,E8=/[#\?@]/g,I8=/#/g;function iE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ed(n){n.g||(n.g=new Map,n.h=0,n.i&&function m8(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _5(n,e){Ed(n),e=E0(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function y5(n,e){return Ed(n),e=E0(n,e),n.g.has(e)}function v5(n,e,t){_5(n,e),0<t.length&&(n.i=null,n.g.set(E0(n,e),j4(t)),n.h+=t.length)}function E0(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function E5(n){this.l=n||C8,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ka&&bt.g.Ka()&&bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qe=iE.prototype).add=function(n,e){Ed(this),this.i=null,n=E0(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qe.forEach=function(n,e){Ed(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},qe.ta=function(){Ed(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},qe.Z=function(n){Ed(this);let e=[];if("string"==typeof n)y5(this,n)&&(e=e.concat(this.g.get(E0(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},qe.set=function(n,e){return Ed(this),this.i=null,y5(this,n=E0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=u;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var C8=10;function I5(n){return!!n.h||!!n.g&&n.g.size>=n.j}function w5(n){return n.h?1:n.g?n.g.size:0}function Qx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Yx(n,e){n.g?n.g.add(e):n.h=e}function T5(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function C5(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return j4(n.i)}E5.prototype.cancel=function(){if(this.i=C5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var b8=class{stringify(n){return bt.JSON.stringify(n,void 0)}parse(n){return bt.JSON.parse(n,void 0)}};function A8(){this.g=new b8}function D8(n,e,t){const r=t||"";try{f5(n,function(i,u){let l=i;Gf(i)&&(l=ae(i)),e.push(r+u+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vb(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sE(n){this.l=n.fc||null,this.j=n.ob||!1}function Eb(n,e){N.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Jx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rr(sE,$x),sE.prototype.g=function(){return new Eb(this.l,this.j)},sE.prototype.i=function(n){return function(){return n}}({}),Rr(Eb,N);var Jx=0;function b5(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function oE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,aE(n)}function aE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qe=Eb.prototype).open=function(n,e){if(this.readyState!=Jx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,aE(this)},qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oE(this)),this.readyState=Jx},qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,aE(this)),this.g&&(this.readyState=3,aE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;b5(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?oE(this):aE(this),3==this.readyState&&b5(this)}},qe.Za=function(n){this.g&&(this.response=this.responseText=n,oE(this))},qe.Ya=function(n){this.g&&(this.response=n,oE(this))},qe.ka=function(){this.g&&oE(this)},qe.setRequestHeader=function(n,e){this.v.append(n,e)},qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Eb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var x8=bt.JSON.parse;function Yn(n){N.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=A5,this.L=this.M=!1}Rr(Yn,N);var A5="",M8=/^https?$/i,N8=["POST","PUT"];function D5(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,S5(n),Ib(n)}function S5(n){n.F||(n.F=!0,V(n,"complete"),V(n,"error"))}function x5(n){if(n.h&&typeof d0<"u"&&(!n.C[1]||4!=eu(n)||2!=n.da()))if(n.v&&4==eu(n))Zx(n.La,0,n);else if(V(n,"readystatechange"),4==eu(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(p5)[1]||null;!i&&bt.self&&bt.self.location&&(i=bt.self.location.protocol.slice(0,-1)),r=!M8.test(i?i.toLowerCase():"")}t=r}if(t)V(n,"complete"),V(n,"success");else{n.m=6;try{var u=2<eu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",S5(n)}}finally{Ib(n)}}}function Ib(n,e){if(n.g){M5(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||V(n,"ready");try{t.onreadystatechange=r}catch{}}}function M5(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function eu(n){return n.g?n.g.readyState:0}function N5(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case A5:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function R5(n){let e="";return sb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Xx(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=R5(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Cn(n,e,t))}function uE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function P5(n){this.Ga=0,this.j=[],this.l=new lb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=uE("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=uE("baseRetryDelayMs",5e3,n),this.hb=uE("retryDelaySeedMs",1e4,n),this.eb=uE("forwardChannelMaxRetries",2,n),this.xa=uE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new E5(n&&n.concurrentRequestLimit),this.Ja=new A8,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eM(n){if(O5(n),3==n.H){var e=n.W++,t=Sc(n.I);if(Cn(t,"SID",n.K),Cn(t,"RID",e),Cn(t,"TYPE","terminate"),cE(n,t),(e=new X4(n,n.l,e)).L=2,e.v=yb(Sc(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon)try{t=bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=$5(e.l,null),e.g.ha(e.v)),e.G=Date.now(),eE(e)}j5(n)}function wb(n){n.g&&(nM(n),n.g.cancel(),n.g=null)}function O5(n){wb(n),n.u&&(bt.clearTimeout(n.u),n.u=null),Cb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function Tb(n){if(!I5(n.i)&&!n.m){n.m=!0;var e=n.Na;_r||_0(),Ji||(_r(),Ji=!0),Xa.add(e,n),n.C=0}}function k5(n,e){var t;t=e?e.m:n.W++;const r=Sc(n.I);Cn(r,"SID",n.K),Cn(r,"RID",t),Cn(r,"AID",n.V),cE(n,r),n.o&&n.s&&Xx(r,n.o,n.s),t=new X4(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=F5(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Yx(n.i,t),Wx(t,r,e)}function cE(n,e){n.na&&sb(n.na,function(t,r){Cn(e,r,t)}),n.h&&f5({},function(t,r){Cn(e,r,t)})}function F5(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Wr(n.h.Va,n.h,n):null;e:{var i=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=i[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let f=!0;for(let m=0;m<t;m++){let v=i[m].g;const C=i[m].map;if(v-=u,0>v)u=Math.max(0,i[m].g-100),f=!1;else try{D8(C,l,"req"+v+"_")}catch{r&&r(C)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function L5(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;_r||_0(),Ji||(_r(),Ji=!0),Xa.add(e,n),n.A=0}}function tM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Y4(Wr(n.Ma,n),B5(n,n.A)),n.A++,0))}function nM(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function U5(n){n.g=new X4(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Sc(n.wa);Cn(e,"RID","rpc"),Cn(e,"SID",n.K),Cn(e,"AID",n.V),Cn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Cn(e,"TO",n.qa),Cn(e,"TYPE","xmlhttp"),cE(n,e),n.o&&n.s&&Xx(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=yb(Sc(e)),t.s=null,t.S=!0,c5(t,n)}function Cb(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function V5(n,e){var t=null;if(n.g==e){Cb(n),nM(n),n.g=null;var r=2}else{if(!Qx(n.i,e))return;t=e.F,T5(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;V(r=db(),new i5(r,t)),Tb(n)}else L5(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function O8(n,e){return!(w5(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Y4(Wr(n.Na,n,e),B5(n,n.C)),n.C++,0)))}(n,e)||2==r&&tM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:tp(n,5);break;case 4:tp(n,10);break;case 3:tp(n,6);break;default:tp(n,2)}}function B5(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function tp(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Wr(n.pb,n);t||(t=new ep("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||mb(t,"https"),yb(t)),function S8(n,e){const t=new lb;if(bt.Image){const r=new Image;r.onload=f0(vb,t,r,"TestLoadImage: loaded",!0,e),r.onerror=f0(vb,t,r,"TestLoadImage: error",!1,e),r.onabort=f0(vb,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=f0(vb,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Xi(2);n.H=0,n.h&&n.h.za(e),j5(n),O5(n)}function j5(n){if(n.H=0,n.ma=[],n.h){const e=C5(n.i);(0!=e.length||0!=n.j.length)&&(JC(n.ma,e),JC(n.ma,n.j),n.i.i.length=0,j4(n.j),n.j.length=0),n.h.ya()}}function Z5(n,e,t){var r=t instanceof ep?Sc(t):new ep(t);if(""!=r.g)e&&(r.g=e+"."+r.g),_b(r,r.m);else{var i=bt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new ep(null);r&&mb(u,r),e&&(u.g=e),i&&_b(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Cn(r,t,e),Cn(r,"VER",n.ra),cE(n,r),r}function $5(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yn(t&&n.Ha&&!n.va?new sE({ob:!0}):n.va)).Oa(n.J),e}function q5(){}function bb(){if(Dc&&!(10<=Number(zF)))throw Error("Environmental error: no available transport.")}function Zs(n,e){N.call(this),this.g=new P5(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Wf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new I0(this)}function H5(n){qx.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function G5(){Hx.call(this),this.status=1}function I0(n){this.g=n}function ta(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=u+((l=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function dn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(qe=Yn.prototype).Oa=function(n){this.M=n},qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gx.g(),this.C=function o5(n){return n.h||(n.h=n.i())}(this.u?this.u:Gx),this.g.onreadystatechange=Wr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void D5(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=bt.FormData&&n instanceof bt.FormData,!(0<=YC(N8,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{M5(this),0<this.B&&((this.L=function R8(n){return Dc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wr(this.ua,this)):this.A=Zx(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){D5(this,u)}},qe.ua=function(){typeof d0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,V(this,"timeout"),this.abort(8))},qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,V(this,"complete"),V(this,"abort"),Ib(this))},qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ib(this,!0)),Yn.$.N.call(this)},qe.La=function(){this.s||(this.G||this.v||this.l?x5(this):this.kb())},qe.kb=function(){x5(this)},qe.isActive=function(){return!!this.g},qe.da=function(){try{return 2<eu(this)?this.g.status:-1}catch{return-1}},qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),x8(e)}},qe.Ia=function(){return this.m},qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=P5.prototype).ra=8,qe.H=1,qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new X4(this,this.l,n);let u=this.s;if(this.U&&(u?(u=ob(u),Vx(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=F5(this,i,e),Cn(t=Sc(this.I),"RID",n),Cn(t,"CVER",22),this.F&&Cn(t,"X-HTTP-Session-Id",this.F),cE(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(R5(u)))+"&"+e:this.o&&Xx(t,this.o,u)),Yx(this.i,i),this.bb&&Cn(t,"TYPE","init"),this.P?(Cn(t,"$req",e),Cn(t,"SID","null"),i.aa=!0,Wx(i,t,null)):Wx(i,t,e),this.H=2}}else 3==this.H&&(n?k5(this,n):0==this.j.length||I5(this.i)||k5(this))},qe.Ma=function(){if(this.u=null,U5(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Y4(Wr(this.jb,this),n)}},qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xi(10),wb(this),U5(this))},qe.ib=function(){null!=this.v&&(this.v=null,wb(this),tM(this),Xi(19))},qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Xi(2)):(this.l.info("Failed to ping google.com"),Xi(1))},qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(qe=q5.prototype).Ba=function(){},qe.Aa=function(){},qe.za=function(){},qe.ya=function(){},qe.isActive=function(){return!0},qe.Va=function(){},bb.prototype.g=function(n,e){return new Zs(n,e)},Rr(Zs,N),Zs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Xi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Z5(n,null,n.Y),Tb(n)},Zs.prototype.close=function(){eM(this.g)},Zs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ae(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Tb(e)},Zs.prototype.N=function(){this.g.h=null,delete this.j,eM(this.g),delete this.g,Zs.$.N.call(this)},Rr(H5,qx),Rr(G5,Hx),Rr(I0,q5),I0.prototype.Ba=function(){V(this.g,"a")},I0.prototype.Aa=function(n){V(this.g,new H5(n))},I0.prototype.za=function(n){V(this.g,new G5)},I0.prototype.ya=function(){V(this.g,"b")},Rr(ta,function k8(){this.blockSize=-1}),ta.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ta.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)rM(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){rM(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){rM(this,r),i=0;break}}this.h=i,this.i+=e},ta.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var F8={};function iM(n){return-128<=n&&128>n?function kx(n,e){var t=F8;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new dn([0|e],0>e?-1:0)}):new dn([0|n],0>n?-1:0)}function tu(n){if(isNaN(n)||!isFinite(n))return w0;if(0>n)return _i(tu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=sM;return new dn(e,0)}var sM=4294967296,w0=iM(0),oM=iM(1),W5=iM(16777216);function xc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Io(n){return-1==n.h}function _i(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new dn(t,~n.h).add(oM)}function Ab(n,e){return n.add(_i(e))}function Db(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function lE(n,e){this.g=n,this.h=e}function Sb(n,e){if(xc(e))throw Error("division by zero");if(xc(n))return new lE(w0,w0);if(Io(n))return e=Sb(_i(n),e),new lE(_i(e.g),_i(e.h));if(Io(e))return e=Sb(n,_i(e)),new lE(_i(e.g),e.h);if(30<n.g.length){if(Io(n)||Io(e))throw Error("slowDivide_ only works with positive integers.");for(var t=oM,r=e;0>=r.X(n);)t=K5(t),r=K5(r);var i=T0(t,1),u=T0(r,1);for(r=T0(r,2),t=T0(t,2);!xc(r);){var l=u.add(r);0>=l.X(n)&&(i=i.add(t),u=l),r=T0(r,1),t=T0(t,1)}return e=Ab(n,i.R(e)),new lE(i,e)}for(i=w0;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=tu(t)).R(e);Io(l)||0<l.X(n);)l=(u=tu(t-=r)).R(e);xc(u)&&(u=oM),i=i.add(u),n=Ab(n,l)}return new lE(i,n)}function K5(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new dn(t,n.h)}function T0(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new dn(i,n.h)}(qe=dn.prototype).ea=function(){if(Io(this))return-_i(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:sM+r)*e,e*=sM}return n},qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(xc(this))return"0";if(Io(this))return"-"+_i(this).toString(n);for(var e=tu(Math.pow(n,6)),t=this,r="";;){var i=Sb(t,e).g,u=((0<(t=Ab(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(xc(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},qe.X=function(n){return Io(n=Ab(this,n))?-1:xc(n)?0:1},qe.abs=function(){return Io(this)?_i(this):this},qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),l=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(u&=65535)}return new dn(t,-2147483648&t[t.length-1]?-1:0)},qe.R=function(n){if(xc(this)||xc(n))return w0;if(Io(this))return Io(n)?_i(this).R(_i(n)):_i(_i(this).R(n));if(Io(n))return _i(this.R(_i(n)));if(0>this.X(W5)&&0>n.X(W5))return tu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=l*m,Db(t,2*r+2*i),t[2*r+2*i+1]+=u*m,Db(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,Db(t,2*r+2*i+1),t[2*r+2*i+2]+=u*f,Db(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new dn(t,0)},qe.gb=function(n){return Sb(this,n).h},qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new dn(t,this.h&n.h)},qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new dn(t,this.h|n.h)},qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new dn(t,this.h^n.h)},bb.prototype.createWebChannel=bb.prototype.g,Zs.prototype.send=Zs.prototype.u,Zs.prototype.open=Zs.prototype.m,Zs.prototype.close=Zs.prototype.close,hb.NO_ERROR=0,hb.TIMEOUT=8,hb.HTTP_ERROR=6,s5.COMPLETE="complete",a5.EventType=J4,J4.OPEN="a",J4.CLOSE="b",J4.ERROR="c",J4.MESSAGE="d",N.prototype.listen=N.prototype.O,Yn.prototype.listenOnce=Yn.prototype.P,Yn.prototype.getLastError=Yn.prototype.Sa,Yn.prototype.getLastErrorCode=Yn.prototype.Ia,Yn.prototype.getStatus=Yn.prototype.da,Yn.prototype.getResponseJson=Yn.prototype.Wa,Yn.prototype.getResponseText=Yn.prototype.ja,Yn.prototype.send=Yn.prototype.ha,Yn.prototype.setWithCredentials=Yn.prototype.Oa,ta.prototype.digest=ta.prototype.l,ta.prototype.reset=ta.prototype.reset,ta.prototype.update=ta.prototype.j,dn.prototype.add=dn.prototype.add,dn.prototype.multiply=dn.prototype.R,dn.prototype.modulo=dn.prototype.gb,dn.prototype.compare=dn.prototype.X,dn.prototype.toNumber=dn.prototype.ea,dn.prototype.toString=dn.prototype.toString,dn.prototype.getBits=dn.prototype.D,dn.fromNumber=tu,dn.fromString=function z5(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return _i(z5(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=tu(Math.pow(e,8)),r=w0,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+u),e);8>u?(u=tu(Math.pow(e,u)),r=r.R(u).add(tu(l))):r=(r=r.R(t)).add(tu(l))}return r};var L8=Bs.createWebChannelTransport=function(){return new bb},U8=Bs.getStatEventTarget=function(){return db()},aM=Bs.ErrorCode=hb,V8=Bs.EventType=s5,B8=Bs.Event=Jf,Q5=Bs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},j8=Bs.FetchXmlHttpFactory=sE,xb=Bs.WebChannel=a5,Z8=Bs.XhrIo=Yn,$8=Bs.Md5=ta,C0=Bs.Integer=dn;const Y5="@firebase/firestore";class Kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let b0="9.23.0";const Id=new ki.Yd("@firebase/firestore");function uM(){return Id.logLevel}function De(n,...e){if(Id.logLevel<=ki.in.DEBUG){const t=e.map(cM);Id.debug(`Firestore (${b0}): ${n}`,...t)}}function sr(n,...e){if(Id.logLevel<=ki.in.ERROR){const t=e.map(cM);Id.error(`Firestore (${b0}): ${n}`,...t)}}function na(n,...e){if(Id.logLevel<=ki.in.WARN){const t=e.map(cM);Id.warn(`Firestore (${b0}): ${n}`,...t)}}function cM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${b0}) INTERNAL ASSERTION FAILED: `+n;throw sr(e),new Error(e)}function rt(n,e){n||Je()}function Ge(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class J5{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kr.UNAUTHENTICATED))}shutdown(){}}class H8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class G8{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Or,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,R.Z)(function*(){yield v.promise,yield u(r.currentUser)}))},m=v=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Or)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt("string"==typeof r.accessToken),new J5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(null===e||"string"==typeof e),new Kr(e)}}class z8{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class W8{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new z8(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K8{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt("string"==typeof t.token),this.T=t.token,new X5(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Q8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class eL{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Q8(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[u]%62))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function A0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new qn(0,0))}static max(){return new st(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dE{constructor(e,t,r){void 0===t?t=0:t>e.length&&Je(),void 0===r?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dE?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),l=t.get(i);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zt extends dE{construct(e,t,r){return new zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new zt(t)}static emptyPath(){return new zt([])}}const Y8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends dE{construct(e,t,r){return new or(e,t,r)}static isValidIdentifier(e){return Y8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ie(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Ie(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(u(),i++)}if(u(),l)throw new Ie(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(t)}static emptyPath(){return new or([])}}class He{constructor(e){this.path=e}static fromPath(e){return new He(zt.fromString(e))}static fromName(e){return new He(zt.fromString(e).popFirst(5))}static empty(){return new He(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new zt(e.slice()))}}function rL(n){return new $s(n.readTime,n.key,-1)}class $s{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $s(st.min(),He.empty(),-1)}static max(){return new $s(st.max(),He.empty(),-1)}}function dM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const iL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wd(n){return hM.apply(this,arguments)}function hM(){return hM=(0,R.Z)(function*(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==iL)throw n;De("LocalStore","Unexpectedly lost primary lease")}),hM.apply(this,arguments)}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,r)=>{t(e)})}static reject(e){return new z((t,r)=>{r(e)})}static waitFor(e){return new z((t,r)=>{let i=0,u=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++u,l&&u===i&&t()},m=>r(m))}),l=!0,u===i&&t()})}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next(i=>i?z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new z((r,i)=>{const u=e.length,l=new Array(u);let f=0;for(let m=0;m<u;m++){const v=m;t(e[v]).next(C=>{l[v]=C,++f,f===u&&r(l)},C=>i(C))}})}static doWhile(e,t){return new z((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function Td(n){return"IndexedDbTransactionError"===n.name}let qs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function pE(n){return null==n}function gE(n){return 0===n&&1/n==-1/0}function fL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class In{constructor(e,t){this.comparator=e,this.root=t||yi.EMPTY}insert(e,t){return new In(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yi.BLACK,null,null))}remove(e){return new In(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ob(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ob(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ob(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ob(this.root,e,this.comparator,!0)}}class Ob{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yi{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??yi.RED,this.left=i??yi.EMPTY,this.right=u??yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new yi(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return yi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}yi.EMPTY=null,yi.RED=!0,yi.BLACK=!1,yi.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,r,i){return this}insert(n,e,t){return new yi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gL(this.data.getIterator())}getIteratorFrom(e){return new gL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class gL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ys{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new ys([])}unionWith(e){let t=new bn(or.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ys(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return A0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mL("Invalid base64 string: "+i):i}}(e);return new kr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const T7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bd(n){if(rt(!!n),"string"==typeof n){let e=0;const t=T7.exec(n);if(rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Mc(n){return"string"==typeof n?kr.fromBase64String(n):kr.fromUint8Array(n)}function kb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fb(n){const e=n.mapValue.fields.__previous_value__;return kb(e)?Fb(e):e}function mE(n){const e=bd(n.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}class C7{constructor(e,t,r,i,u,l,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class ip{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ip("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ip&&e.projectId===this.projectId&&e.database===this.database}}const Ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Dd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kb(n)?4:EL(n)?9007199254740991:10:Je()}function ru(n,e){if(n===e)return!0;const t=Dd(n);if(t!==Dd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mE(n).isEqual(mE(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=bd(r.timestampValue),l=bd(i.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Mc(n.bytesValue).isEqual(Mc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Jn(r.geoPointValue.latitude)===Jn(i.geoPointValue.latitude)&&Jn(r.geoPointValue.longitude)===Jn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Jn(r.integerValue)===Jn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Jn(r.doubleValue),l=Jn(i.doubleValue);return u===l?gE(u)===gE(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return A0(n.arrayValue.values||[],e.arrayValue.values||[],ru);case 10:return function(r,i){const u=r.mapValue.fields||{},l=i.mapValue.fields||{};if(fL(u)!==fL(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===l[f]||!ru(u[f],l[f])))return!1;return!0}(n,e);default:return Je()}var i}function _E(n,e){return void 0!==(n.values||[]).find(t=>ru(t,e))}function Sd(n,e){if(n===e)return 0;const t=Dd(n),r=Dd(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const l=Jn(i.integerValue||i.doubleValue),f=Jn(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return _L(n.timestampValue,e.timestampValue);case 4:return _L(mE(n),mE(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(i,u){const l=Mc(i),f=Mc(u);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const l=i.split("/"),f=u.split("/");for(let m=0;m<l.length&&m<f.length;m++){const v=xt(l[m],f[m]);if(0!==v)return v}return xt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const l=xt(Jn(i.latitude),Jn(u.latitude));return 0!==l?l:xt(Jn(i.longitude),Jn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const l=i.values||[],f=u.values||[];for(let m=0;m<l.length&&m<f.length;++m){const v=Sd(l[m],f[m]);if(v)return v}return xt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Ad.mapValue&&u===Ad.mapValue)return 0;if(i===Ad.mapValue)return 1;if(u===Ad.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let C=0;C<f.length&&C<v.length;++C){const A=xt(f[C],v[C]);if(0!==A)return A;const M=Sd(l[f[C]],m[v[C]]);if(0!==M)return M}return xt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Je()}}function _L(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=bd(n),r=bd(e),i=xt(t.seconds,r.seconds);return 0!==i?i:xt(t.nanos,r.nanos)}function S0(n){return gM(n)}function gM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=bd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Mc(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const l of r.values||[])u?u=!1:i+=",",i+=gM(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const f of i)l?l=!1:u+=",",u+=`${f}:${gM(r.fields[f])}`;return u+"}"}(n.mapValue):Je();var e}function sp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mM(n){return!!n&&"integerValue"in n}function yE(n){return!!n&&"arrayValue"in n}function yL(n){return!!n&&"nullValue"in n}function vL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vb(n){return!!n&&"mapValue"in n}function vE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vE(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vE(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vE(t)}setAll(e){let t=or.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=vE(l):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Vb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ru(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Cd(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new vi(vE(this.value))}}function TL(n){const e=[];return Cd(n.fields,(t,r)=>{const i=new or([t]);if(Vb(r)){const u=TL(r.mapValue).fields;if(0===u.length)e.push(i);else for(const l of u)e.push(i.child(l))}else e.push(i)}),new ys(e)}class An{constructor(e,t,r,i,u,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=l,this.documentState=f}static newInvalidDocument(e){return new An(e,0,st.min(),st.min(),st.min(),vi.empty(),0)}static newFoundDocument(e,t,r,i){return new An(e,1,t,st.min(),r,i,0)}static newNoDocument(e,t){return new An(e,2,t,st.min(),st.min(),vi.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,st.min(),st.min(),vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(st.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xd{constructor(e,t){this.position=e,this.inclusive=t}}function CL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],l=n.position[i];if(r=u.field.isKeyField()?He.comparator(He.fromName(l.referenceValue),t.key):Sd(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function bL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ru(n.position[t],e.position[t]))return!1;return!0}class x0{constructor(e,t="asc"){this.field=e,this.dir=t}}function D7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class AL{}class Zt extends AL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new S7(e,t,r):"array-contains"===t?new N7(e,r):"in"===t?new RL(e,r):"not-in"===t?new R7(e,r):"array-contains-any"===t?new P7(e,r):new Zt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new x7(e,r):new M7(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sd(t,this.value)):null!==t&&Dd(this.value)===Dd(t)&&this.matchesComparison(Sd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class hn extends AL{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new hn(e,t)}matches(e){return M0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function M0(n){return"and"===n.op}function yM(n){return function DL(n){for(const e of n.filters)if(e instanceof hn)return!1;return!0}(n)&&M0(n)}function vM(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+S0(n.value);if(yM(n))return n.filters.map(e=>vM(e)).join(",");{const e=n.filters.map(t=>vM(t)).join(",");return`${n.op}(${e})`}}function SL(n,e){return n instanceof Zt?(t=n,(r=e)instanceof Zt&&t.op===r.op&&t.field.isEqual(r.field)&&ru(t.value,r.value)):n instanceof hn?function(t,r){return r instanceof hn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,l)=>i&&SL(u,r.filters[l]),!0)}(n,e):void Je();var t,r}function ML(n){return n instanceof Zt?`${(e=n).field.canonicalString()} ${e.op} ${S0(e.value)}`:n instanceof hn?function(e){return e.op.toString()+" {"+e.getFilters().map(ML).join(" ,")+"}"}(n):"Filter";var e}class S7 extends Zt{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class x7 extends Zt{constructor(e,t){super(e,"in",t),this.keys=NL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class M7 extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=NL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function NL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class N7 extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yE(t)&&_E(t.arrayValue,this.value)}}class RL extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_E(this.value.arrayValue,t)}}class R7 extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_E(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_E(this.value.arrayValue,t)}}class P7 extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_E(this.value.arrayValue,r))}}class O7{constructor(e,t=null,r=[],i=[],u=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=l,this.endAt=f,this.dt=null}}function EM(n,e=null,t=[],r=[],i=null,u=null,l=null){return new O7(n,e,t,r,i,u,l)}function op(n){const e=Ge(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),pE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>S0(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>S0(r)).join(",")),e.dt=t}return e.dt}function EE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!D7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bL(n.startAt,e.startAt)&&bL(n.endAt,e.endAt)}function Bb(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Nc{constructor(e,t=null,r=[],i=[],u=null,l="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=l,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function N0(n){return new Nc(n)}function FL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function IM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Zb(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function wM(n){return null!==n.collectionGroup}function ap(n){const e=Ge(n);if(null===e.wt){e.wt=[];const t=Zb(e),r=IM(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new x0(t)),e.wt.push(new x0(or.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new x0(or.keyField(),u))}}}return e.wt}function es(n){const e=Ge(n);if(!e._t)if("F"===e.limitType)e._t=EM(e.path,e.collectionGroup,ap(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of ap(e))t.push(new x0(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new xd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new xd(e.startAt.position,e.startAt.inclusive):null;e._t=EM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function TM(n,e){e.getFirstInequalityField(),Zb(n);const t=n.filters.concat([e]);return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $b(n,e,t){return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function IE(n,e){return EE(es(n),es(e))&&n.limitType===e.limitType}function LL(n){return`${op(es(n))}|lt:${n.limitType}`}function CM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>ML(r)).join(", ")}]`),pE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>S0(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>S0(r)).join(",")),`Target(${t})`}(es(n))}; limitType=${n.limitType})`}function wE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):He.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of ap(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,l){const f=CL(i,u,l);return i.inclusive?f<=0:f<0}(t.startAt,ap(t),r)||t.endAt&&!function(i,u,l){const f=CL(i,u,l);return i.inclusive?f>=0:f>0}(t.endAt,ap(t),r)));var t,r}function VL(n){return(e,t)=>{let r=!1;for(const i of ap(n)){const u=k7(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function k7(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(i,u,l){const f=u.data.field(i),m=l.data.field(i);return null!==f&&null!==m?Sd(f,m):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}class Rc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cd(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return pL(this.inner)}size(){return this.innerSize}}const F7=new In(He.comparator);function vs(){return F7}const BL=new In(He.comparator);function TE(...n){let e=BL;for(const t of n)e=e.insert(t.key,t);return e}function jL(n){let e=BL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function iu(){return CE()}function ZL(){return CE()}function CE(){return new Rc(n=>n.toString(),(n,e)=>n.isEqual(e))}const L7=new In(He.comparator),U7=new bn(He.comparator);function Pt(...n){let e=U7;for(const t of n)e=e.add(t);return e}const V7=new bn(xt);function $L(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gE(e)?"-0":e}}function qL(n){return{integerValue:""+n}}function HL(n,e){return function oL(n){return"number"==typeof n&&Number.isInteger(n)&&!gE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?qL(e):$L(n,e)}class qb{constructor(){this._=void 0}}function B7(n,e,t){return n instanceof R0?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&kb(i)&&(i=Fb(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof up?zL(n,e):n instanceof cp?WL(n,e):function(r,i){const u=GL(r,i),l=KL(u)+KL(r.gt);return mM(u)&&mM(r.gt)?qL(l):$L(r.serializer,l)}(n,e)}function j7(n,e,t){return n instanceof up?zL(n,e):n instanceof cp?WL(n,e):t}function GL(n,e){return n instanceof P0?mM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class R0 extends qb{}class up extends qb{constructor(e){super(),this.elements=e}}function zL(n,e){const t=QL(e);for(const r of n.elements)t.some(i=>ru(i,r))||t.push(r);return{arrayValue:{values:t}}}class cp extends qb{constructor(e){super(),this.elements=e}}function WL(n,e){let t=QL(e);for(const r of n.elements)t=t.filter(i=>!ru(i,r));return{arrayValue:{values:t}}}class P0 extends qb{constructor(e,t){super(),this.serializer=e,this.gt=t}}function KL(n){return Jn(n.integerValue||n.doubleValue)}function QL(n){return yE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $7{constructor(e,t){this.version=e,this.transformResults=t}}class Nn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Gb{}function YL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new k0(n.key,Nn.none()):new O0(n.key,n.data,Nn.none());{const t=n.data,r=vi.empty();let i=new bn(or.comparator);for(let u of e.fields)if(!i.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),i=i.add(u)}return new Pc(n.key,r,new ys(i.toArray()),Nn.none())}}function q7(n,e,t){n instanceof O0?function(r,i,u){const l=r.value.clone(),f=e6(r.fieldTransforms,i,u.transformResults);l.setAll(f),i.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Pc?function(r,i,u){if(!Hb(r.precondition,i))return void i.convertToUnknownDocument(u.version);const l=e6(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(XL(r)),f.setAll(l),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function AE(n,e,t,r){return n instanceof O0?function(i,u,l,f){if(!Hb(i.precondition,u))return l;const m=i.value.clone(),v=t6(i.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Pc?function(i,u,l,f){if(!Hb(i.precondition,u))return l;const m=t6(i.fieldTransforms,f,u),v=u.data;return v.setAll(XL(i)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(l=t,Hb(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function H7(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=GL(r.transform,i||null);null!=u&&(null===t&&(t=vi.empty()),t.set(r.field,u))}return t||null}function JL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&A0(t,r,(i,u)=>function Z7(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof up&&r instanceof up||t instanceof cp&&r instanceof cp?A0(t.elements,r.elements,ru):t instanceof P0&&r instanceof P0?ru(t.gt,r.gt):t instanceof R0&&r instanceof R0);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class O0 extends Gb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pc extends Gb{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function XL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function e6(n,e,t){const r=new Map;rt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],l=u.transform,f=e.data.field(u.field);r.set(u.field,j7(l,f,t[i]))}return r}function t6(n,e,t){const r=new Map;for(const i of n){const u=i.transform,l=t.data.field(i.field);r.set(i.field,B7(u,l,e))}return r}class k0 extends Gb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AM extends Gb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&q7(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=AE(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=AE(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZL();return this.mutations.forEach(i=>{const u=e.get(i.key),l=u.overlayedDocument;let f=this.applyToLocalView(l,u.mutatedFields);f=t.has(i.key)?null:f;const m=YL(l,f);null!==m&&r.set(i.key,m),l.isValidDocument()||l.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pt())}isEqual(e){return this.batchId===e.batchId&&A0(this.mutations,e.mutations,(t,r)=>JL(t,r))&&A0(this.baseMutations,e.baseMutations,(t,r)=>JL(t,r))}}class SM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){rt(e.mutations.length===r.length);let i=L7;const u=e.mutations;for(let l=0;l<u.length;l++)i=i.insert(u[l].key,r[l].version);return new SM(e,t,r,i)}}class xM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class z7{constructor(e,t){this.count=e,this.unchangedNames=t}}var yr,Wt;function r6(n){if(void 0===n)return sr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case yr.OK:return ne.OK;case yr.CANCELLED:return ne.CANCELLED;case yr.UNKNOWN:return ne.UNKNOWN;case yr.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case yr.INTERNAL:return ne.INTERNAL;case yr.UNAVAILABLE:return ne.UNAVAILABLE;case yr.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case yr.NOT_FOUND:return ne.NOT_FOUND;case yr.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case yr.ABORTED:return ne.ABORTED;case yr.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case yr.DATA_LOSS:return ne.DATA_LOSS;default:return Je()}}(Wt=yr||(yr={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";class MM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zb}static getOrCreateInstance(){return null===zb&&(zb=new MM),zb}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let zb=null;const W7=new C0([4294967295,4294967295],0);function s6(n){const e=function i6(){return new TextEncoder}().encode(n),t=new $8;return t.update(e),new Uint8Array(t.digest())}function o6(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new C0([t,r],0),new C0([i,u],0)]}class NM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new DE(`Invalid padding: ${t}`);if(r<0)throw new DE(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new DE(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new DE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=C0.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(C0.fromNumber(r)));return 1===i.compare(W7)&&(i=new C0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=s6(e),[r,i]=o6(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new NM(u,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=s6(e),[r,i]=o6(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class DE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class SE{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,xE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new SE(st.min(),i,new In(xt),vs(),Pt())}}class xE{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xE(r,t,Pt(),Pt(),Pt())}}class Wb{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class a6{constructor(e,t){this.targetId=e,this.Vt=t}}class u6{constructor(e,t,r=kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class c6{constructor(){this.St=0,this.Dt=d6(),this.Ct=kr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Pt(),t=Pt(),r=Pt();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Je()}}),new xE(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=d6()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class K7{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=vs(),this.zt=l6(),this.Wt=new In(xt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(Bb(l))if(0===i){const f=new He(l.path);this.Yt(r,f,An.newNoDocument(f,st.min()))}else rt(1===i);else{const f=this.ie(r);if(f!==i){const m=this.re(e,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=MM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,C,A){var M,O,Z,G,X,Te;const Fe={localCacheCount:C,existenceFilterCount:A.count},ke=A.unchangedNames;return ke&&(Fe.bloomFilter={applied:0===v,hashCount:null!==(M=ke?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(G=null===(Z=null===(O=ke?.bits)||void 0===O?void 0:O.bitmap)||void 0===Z?void 0:Z.length)&&void 0!==G?G:0,padding:null!==(Te=null===(X=ke?.bits)||void 0===X?void 0:X.padding)&&void 0!==Te?Te:0}),Fe}(m,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:f=0}=r;let m,v;try{m=Mc(u).toUint8Array()}catch(C){if(C instanceof mL)return na("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{v=new NM(m,l,f)}catch(C){return na(C instanceof DE?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===v.It?1:i!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(f)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const f=this.se(l);if(f){if(u.current&&Bb(f.target)){const m=new He(f.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,An.newNoDocument(m,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Pt();this.zt.forEach((u,l)=>{let f=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const i=new SE(e,t,this.Wt,this.jt,r);return this.jt=vs(),this.zt=l6(),this.Wt=new In(xt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new c6,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new bn(xt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||De("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new c6),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function l6(){return new In(He.comparator)}function d6(){return new In(He.comparator)}const Q7={asc:"ASCENDING",desc:"DESCENDING"},Y7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J7={and:"AND",or:"OR"};class X7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function RM(n,e){return n.useProto3Json||pE(e)?e:{value:e}}function F0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h6(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ej(n,e){return F0(n,e.toTimestamp())}function ar(n){return rt(!!n),st.fromTimestamp(function(e){const t=bd(e);return new qn(t.seconds,t.nanos)}(n))}function PM(n,e){return(t=n,new zt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function f6(n){const e=zt.fromString(n);return rt(w6(e)),e}function ME(n,e){return PM(n.databaseId,e.path)}function su(n,e){const t=f6(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(g6(t))}function OM(n,e){return PM(n.databaseId,e)}function NE(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g6(n){return rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function m6(n,e,t){return{name:ME(n,e),fields:t.value.mapValue.fields}}function y6(n,e){return{documents:[OM(n,e.path)]}}function FM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=OM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=OM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return I6(hn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(m){if(0!==m.length)return m.map(v=>{return{field:Md((C=v).field),direction:sj(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=RM(n,e.limit);var f,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function v6(n){let e=function p6(n){const e=f6(n);return 4===e.length?zt.emptyPath():g6(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){rt(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let u=[];t.where&&(u=function(C){const A=E6(C);return A instanceof hn&&yM(A)?A.getFilters():[A]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new x0(L0((A=C).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(C){let A;return A="object"==typeof C?C.value:C,pE(A)?null:A}(t.limit));let m=null;var C;t.startAt&&(m=new xd((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new xd(C.values||[],!C.before)}(t.endAt)),function kL(n,e,t,r,i,u,l,f){return new Nc(n,e,t,r,i,u,l,f)}(e,i,l,u,f,"F",m,v)}function E6(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=L0(e.unaryFilter.field);return Zt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=L0(e.unaryFilter.field);return Zt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=L0(e.unaryFilter.field);return Zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=L0(e.unaryFilter.field);return Zt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(n):void 0!==n.fieldFilter?Zt.create(L0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return hn.create(e.compositeFilter.filters.map(t=>E6(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Je()}}(e.compositeFilter.op))}(n):Je();var e}function sj(n){return Q7[n]}function oj(n){return Y7[n]}function aj(n){return J7[n]}function Md(n){return{fieldPath:n.canonicalString()}}function L0(n){return or.fromServerFormat(n.fieldPath)}function I6(n){return n instanceof Zt?function(e){if("=="===e.op){if(vL(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NAN"}};if(yL(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vL(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NOT_NAN"}};if(yL(e.value))return{unaryFilter:{field:Md(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Md(e.field),op:oj(e.op),value:e.value}}}(n):n instanceof hn?function(e){const t=e.getFilters().map(r=>I6(r));return 1===t.length?t[0]:{compositeFilter:{op:aj(e.op),filters:t}}}(n):Je()}function uj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function w6(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Oc{constructor(e,t,r,i,u=st.min(),l=st.min(),f=kr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class T6{constructor(e){this.fe=e}}function LM(n){const e=v6({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$b(e,e.limit,"L"):e}class fp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Jn(e.integerValue));else if("doubleValue"in e){const r=Jn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),gE(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Mc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?EL(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Je()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),He.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}fp.Ve=new fp;class _j{constructor(){this.rn=new $M}addToCollectionParentIndex(e,t){return this.rn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve($s.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class $M{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bn(zt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(zt.comparator)).toArray()}}new Uint8Array(0);class Vi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Vi(e,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Vi.DEFAULT_COLLECTION_PERCENTILE=10,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vi.DEFAULT=new Vi(41943040,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vi.DISABLED=new Vi(-1,0,0);class gp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new gp(0)}static Mn(){return new gp(-1)}}class Tj{constructor(){this.changes=new Rc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Aj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class K6{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&AE(r.mutation,i,ys.empty(),qn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pt()){const i=iu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let l=TE();return u.forEach((f,m)=>{l=l.insert(f,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=iu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let u=vs();const l=CE(),f=CE();return t.forEach((m,v)=>{const C=r.get(v.key);i.has(v.key)&&(void 0===C||C.mutation instanceof Pc)?u=u.insert(v.key,v):void 0!==C?(l.set(v.key,C.mutation.getFieldMask()),AE(C.mutation,v,C.mutation.getFieldMask(),qn.now())):l.set(v.key,ys.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((v,C)=>l.set(v,C)),t.forEach((v,C)=>{var A;return f.set(v,new Aj(C,null!==(A=l.get(v))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=CE();let i=new In((l,f)=>l-f),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let C=r.get(m)||ys.empty();C=f.applyToLocalView(v,C),r.set(m,C);const A=(i.get(f.batchId)||Pt()).add(m);i=i.insert(f.batchId,A)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,C=m.value,A=ZL();C.forEach(M=>{if(!u.has(M)){const O=YL(t.get(M),r.get(M));null!==O&&A.set(M,O),u=u.add(M)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,A))}return z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return He.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const l=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):z.resolve(iu());let f=-1,m=u;return l.next(v=>z.forEach(v,(C,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),u.get(C)?z.resolve():this.remoteDocumentCache.getEntry(e,C).next(M=>{m=m.insert(C,M)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,m,v,Pt())).next(C=>({batchId:f,changes:jL(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let i=TE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=TE();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,f=>{const m=(v=t,C=f.child(i),new Nc(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((C,A)=>{u=u.insert(C,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((f,m)=>{const v=m.getKey();null===u.get(v)&&(u=u.insert(v,An.newInvalidDocument(v)))});let l=TE();return u.forEach((f,m)=>{const v=i.get(f);void 0!==v&&AE(v.mutation,m,ys.empty(),qn.now()),wE(t,m)&&(l=l.insert(f,m))}),l})}}class Dj{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return z.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:ar(r.createTime)}),z.resolve()}getNamedQuery(e,t){return z.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:LM(r.bundledQuery),readTime:ar(r.readTime)}),z.resolve();var r}}class Sj{constructor(){this.overlays=new In(He.comparator),this.ls=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=iu();return z.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const i=iu(),u=t.length+1,l=new He(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&m.largestBatchId>r&&i.set(m.getKey(),m)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new In((v,C)=>v-C);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let C=u.get(v.largestBatchId);null===C&&(C=iu(),u=u.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const f=iu(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,C)=>f.set(v,C)),!(f.size()>=i)););return z.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new xM(t,r));let u=this.ls.get(t);void 0===u&&(u=Pt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class qM{constructor(){this.fs=new bn(Yr.ds),this.ws=new bn(Yr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Yr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Yr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new He(new zt([])),r=new Yr(t,e),i=new Yr(t,e+1),u=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new He(new zt([])),r=new Yr(t,e),i=new Yr(t,e+1);let u=Pt();return this.ws.forEachInRange([r,i],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Yr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return He.comparator(e.key,t.key)||xt(e.As,t.As)}static _s(e,t){return xt(e.As,t.As)||He.comparator(e.key,t.key)}}class xj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new bn(Yr.ds)}checkEmpty(e){return z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const l=new DM(u,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new Yr(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return z.resolve(l)}lookupMutationBatch(e,t){return z.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yr(t,0),i=new Yr(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);u.push(f)}),z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(xt);return t.forEach(i=>{const u=new Yr(i,0),l=new Yr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],f=>{r=r.add(f.As)})}),z.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;He.isDocumentKey(u)||(u=u.child(""));const l=new Yr(new He(u),0);let f=new bn(xt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m.As)),!0)},l),z.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){rt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return z.forEach(t.mutations,i=>{const u=new Yr(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Yr(t,0),i=this.Rs.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return z.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mj{constructor(e){this.Ds=e,this.docs=new In(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=vs();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():An.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=vs();const l=t.path,f=new He(l.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:C}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||dM(rL(C),r)<=0||(i.has(C.key)||wE(t,C))&&(u=u.insert(C.key,C.mutableCopy()))}return z.resolve(u)}getAllFromCollectionGroup(e,t,r,i){Je()}Cs(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Nj(this)}getSize(e){return z.resolve(this.size)}}class Nj extends Tj{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Rj{constructor(e){this.persistence=e,this.xs=new Rc(t=>op(t),EE),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Ns=0,this.ks=new qM,this.targetCount=0,this.Ms=gp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),z.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new gp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Fn(t),z.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),z.waitFor(u).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(l=>{u.push(i.markPotentiallyOrphaned(e,l))}),z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.ks.containsKey(t))}}class HM{constructor(e,t){this.$s={},this.overlays={},this.Os=new qs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Rj(this),this.indexManager=new _j,this.remoteDocumentCache=new Mj(r=>this.referenceDelegate.Ls(r)),this.serializer=new T6(t),this.qs=new Dj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new xj(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){De("MemoryPersistence","Starting transaction:",e);const i=new Pj(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return z.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Pj extends e7{constructor(e){super(),this.currentSequenceNumber=e}}class rA{constructor(e){this.persistence=e,this.Qs=new qM,this.js=null}static zs(e){return new rA(e)}get Ws(){if(this.js)return this.js;throw Je()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),z.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Ws,r=>{const i=He.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,st.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return z.or([()=>z.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class KM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Pt(),i=Pt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new KM(e,t.fromCache,r,i)}}class Y6{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(FL(t))return z.resolve(null);let r=es(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=$b(t,null,"F"),r=es(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Pt(...u);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.ji(t,f);return this.zi(t,v,l,m.readTime)?this.Ki(e,$b(t,null,"F")):this.Wi(e,v,t,m)}))})))}Gi(e,t,r,i){return FL(t)||i.isEqual(st.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,i)?this.Qi(e,t):(uM()<=ki.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),CM(t)),this.Wi(e,l,t,function nL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=st.fromTimestamp(1e9===r?new qn(t+1,0):new qn(t,r));return new $s(i,He.empty(),e)}(i,-1)))})}ji(e,t){let r=new bn(VL(e));return t.forEach((i,u)=>{wE(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return uM()<=ki.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",CM(t)),this.Ui.getDocumentsMatchingQuery(e,t,$s.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class kj{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new In(xt),this.Yi=new Rc(u=>op(u),EE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K6(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function X6(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,R.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],f=[];let m=Pt();for(const v of i){l.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}for(const v of u){f.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}return t.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),QM.apply(this,arguments)}function eU(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Uj(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j0(n,e,t){return YM.apply(this,arguments)}function YM(){return YM=(0,R.Z)(function*(n,e,t){const r=Ge(n),i=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Td(l))throw l;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),YM.apply(this,arguments)}function oA(n,e,t){const r=Ge(n);let i=st.min(),u=Pt();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,m,v){const C=Ge(f),A=C.Yi.get(v);return void 0!==A?z.resolve(C.Ji.get(A)):C.Bs.getTargetData(m,v)}(r,l,es(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(m=>{u=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:st.min(),t?u:Pt())).next(f=>(function iU(n,e,t){let r=n.Xi.get(e)||st.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function UL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:u})))}class nN{constructor(){this.activeTargetIds=function bM(){return V7}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aU{constructor(){this.Hr=new nN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new nN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jj{Yr(e){}shutdown(){}}class uU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let cA=null;function iN(){return null===cA?cA=268435456+Math.round(2147483648*Math.random()):cA++,"0x"+cA.toString(16)}const Zj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $j{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Bi="WebChannelConnection";class qj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const l=iN(),f=this.To(e,t);De("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const m={};return this.Eo(m,i,u),this.Ao(e,f,m,r).then(v=>(De("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw na("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,i,u,l){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+b0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${Zj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=iN();return new Promise((l,f)=>{const m=new Z8;m.setWithCredentials(!0),m.listenOnce(V8.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case aM.NO_ERROR:const C=m.getResponseJson();De(Bi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(C)),l(C);break;case aM.TIMEOUT:De(Bi,`RPC '${e}' ${u} timed out`),f(new Ie(ne.DEADLINE_EXCEEDED,"Request time out"));break;case aM.HTTP_ERROR:const A=m.getStatus();if(De(Bi,`RPC '${e}' ${u} failed with status:`,A,"response text:",m.getResponseText()),A>0){let M=m.getResponseJson();Array.isArray(M)&&(M=M[0]);const O=M?.error;if(O&&O.status&&O.message){const Z=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN}(O.status);f(new Ie(Z,O.message))}else f(new Ie(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Ie(ne.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{De(Bi,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(i);De(Bi,`RPC '${e}' ${u} sending request:`,i),m.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=iN(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=L8(),f=U8(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new j8({})),this.Eo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const C=u.join("");De(Bi,`Creating RPC '${e}' stream ${i}: ${C}`,m);const A=l.createWebChannel(C,m);let M=!1,O=!1;const Z=new $j({ro:X=>{O?De(Bi,`Not sending because RPC '${e}' stream ${i} is closed:`,X):(M||(De(Bi,`Opening RPC '${e}' stream ${i} transport.`),A.open(),M=!0),De(Bi,`RPC '${e}' stream ${i} sending:`,X),A.send(X))},oo:()=>A.close()}),G=(X,Te,Fe)=>{X.listen(Te,ke=>{try{Fe(ke)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return G(A,xb.EventType.OPEN,()=>{O||De(Bi,`RPC '${e}' stream ${i} transport opened.`)}),G(A,xb.EventType.CLOSE,()=>{O||(O=!0,De(Bi,`RPC '${e}' stream ${i} transport closed`),Z.wo())}),G(A,xb.EventType.ERROR,X=>{O||(O=!0,na(Bi,`RPC '${e}' stream ${i} transport errored:`,X),Z.wo(new Ie(ne.UNAVAILABLE,"The operation could not be completed")))}),G(A,xb.EventType.MESSAGE,X=>{var Te;if(!O){const Fe=X.data[0];rt(!!Fe);const Ke=Fe.error||(null===(Te=Fe[0])||void 0===Te?void 0:Te.error);if(Ke){De(Bi,`RPC '${e}' stream ${i} received error:`,Ke);const _t=Ke.status;let pt=function(wr){const ji=yr[wr];if(void 0!==ji)return r6(ji)}(_t),Kt=Ke.message;void 0===pt&&(pt=ne.INTERNAL,Kt="Unknown error status: "+_t+" with message "+Ke.message),O=!0,Z.wo(new Ie(pt,Kt)),A.close()}else De(Bi,`RPC '${e}' stream ${i} received:`,Fe),Z._o(Fe)}}),G(f,B8.STAT_EVENT,X=>{X.stat===Q5.PROXY?De(Bi,`RPC '${e}' stream ${i} detected buffering proxy`):X.stat===Q5.NOPROXY&&De(Bi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Z.fo()},0),Z}}function lA(){return typeof document<"u"?document:null}function jE(n){return new X7(n,!0)}class sN{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class lU{constructor(e,t,r,i,u,l,f,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sN(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,R.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,R.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,R.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ie(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,R.Z)(function*(){e.state=0,e.start()}))}tu(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hj extends lU{constructor(e,t,r,i,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function nj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:Je(),i=e.targetChange.targetIds||[],u=function(m,v){return m.useProto3Json?(rt(void 0===v||"string"==typeof v),kr.fromBase64String(v||"")):(rt(void 0===v||v instanceof Uint8Array),kr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(m){const v=void 0===m.code?ne.UNKNOWN:r6(m.code);return new Ie(v,m.message||"")}(l);t=new u6(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=su(n,r.document.name),u=ar(r.document.updateTime),l=r.document.createTime?ar(r.document.createTime):st.min(),f=new vi({mapValue:{fields:r.document.fields}}),m=An.newFoundDocument(i,u,l,f);t=new Wb(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=su(n,r.document),u=r.readTime?ar(r.readTime):st.min(),l=An.newNoDocument(i,u);t=new Wb([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=su(n,r.document);t=new Wb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Je();{const r=e.filter,{count:i=0,unchangedNames:u}=r,l=new z7(i,u);t=new a6(r.targetId,l)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return st.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?st.min():u.readTime?ar(u.readTime):st.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=NE(this.serializer),t.addTarget=function(i,u){let l;const f=u.target;if(l=Bb(f)?{documents:y6(i,f)}:{query:FM(i,f)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=h6(i,u.resumeToken);const m=RM(i,u.expectedCount);null!==m&&(l.expectedCount=m)}else if(u.snapshotVersion.compareTo(st.min())>0){l.readTime=F0(i,u.snapshotVersion.toTimestamp());const m=RM(i,u.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const r=function ij(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=NE(this.serializer),t.removeTarget=e,this.Wo(t)}}class Gj extends lU{constructor(e,t,r,i,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function rj(n,e){return n&&n.length>0?(rt(void 0!==e),n.map(t=>function(r,i){let u=ar(r.updateTime?r.updateTime:i);return u.isEqual(st.min())&&(u=ar(i)),new $7(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.cu(r,t)}return rt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=NE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function RE(n,e){let t;if(e instanceof O0)t={update:m6(n,e.key,e.value)};else if(e instanceof k0)t={delete:ME(n,e.key)};else if(e instanceof Pc)t={update:m6(n,e.key,e.data),updateMask:uj(e.fieldMask)};else{if(!(e instanceof AM))return Je();t={verify:ME(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const l=u.transform;if(l instanceof R0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof up)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof cp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof P0)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ej(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Je()),t;var i}(this.serializer,r))};this.Wo(t)}}class zj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ie(ne.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(ne.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class Kj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(sr(t),this.mu=!1):De("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Qj{constructor(e,t,r,i,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(f=>{r.enqueueAndForget((0,R.Z)(function*(){var m;Od(l)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,R.Z)(function*(v){const C=Ge(v);C.vu.add(4),yield Z0(C),C.bu.set("Unknown"),C.vu.delete(4),yield ZE(C)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new Kj(r,i)}}function ZE(n){return aN.apply(this,arguments)}function aN(){return aN=(0,R.Z)(function*(n){if(Od(n))for(const e of n.Ru)yield e(!0)}),aN.apply(this,arguments)}function Z0(n){return uN.apply(this,arguments)}function uN(){return uN=(0,R.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),uN.apply(this,arguments)}function dA(n,e){const t=Ge(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),dN(t)?lN(t):q0(t).Ko()&&cN(t,e))}function $E(n,e){const t=Ge(n),r=q0(t);t.Au.delete(e),r.Ko()&&dU(t,e),0===t.Au.size&&(r.Ko()?r.jo():Od(t)&&t.bu.set("Unknown"))}function cN(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}q0(n).su(e)}function dU(n,e){n.Vu.qt(e),q0(n).iu(e)}function lN(n){n.Vu=new K7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),q0(n).start(),n.bu.gu()}function dN(n){return Od(n)&&!q0(n).Uo()&&n.Au.size>0}function Od(n){return 0===Ge(n).vu.size}function hU(n){n.Vu=void 0}function Yj(n){return hN.apply(this,arguments)}function hN(){return hN=(0,R.Z)(function*(n){n.Au.forEach((e,t)=>{cN(n,e)})}),hN.apply(this,arguments)}function Jj(n,e){return fN.apply(this,arguments)}function fN(){return fN=(0,R.Z)(function*(n,e){hU(n),dN(n)?(n.bu.Iu(e),lN(n)):n.bu.set("Unknown")}),fN.apply(this,arguments)}function Xj(n,e,t){return pN.apply(this,arguments)}function pN(){return pN=(0,R.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof u6&&2===e.state&&e.cause)try{yield(r=(0,R.Z)(function*(i,u){const l=u.cause;for(const f of u.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hA(n,r)}else if(e instanceof Wb?n.Vu.Ht(e):e instanceof a6?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(st.min()))try{const r=yield eU(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const l=i.Vu.ce(u);return l.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(m);v&&i.Au.set(m,v.withResumeToken(f.resumeToken,u))}}),l.targetMismatches.forEach((f,m)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(kr.EMPTY_BYTE_STRING,v.snapshotVersion)),dU(i,f);const C=new Oc(v.target,f,m,v.sequenceNumber);cN(i,C)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){De("RemoteStore","Failed to raise snapshot:",r),yield hA(n,r)}var r}),pN.apply(this,arguments)}function hA(n,e,t){return gN.apply(this,arguments)}function gN(){return gN=(0,R.Z)(function*(n,e,t){if(!Td(e))throw e;n.vu.add(1),yield Z0(n),n.bu.set("Offline"),t||(t=()=>eU(n.localStore)),n.asyncQueue.enqueueRetryable((0,R.Z)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield ZE(n)}))}),gN.apply(this,arguments)}function fU(n,e){return e().catch(t=>hA(n,t,e))}function $0(n){return mN.apply(this,arguments)}function mN(){return mN=(0,R.Z)(function*(n){const e=Ge(n),t=kd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;eZ(e);)try{const i=yield Uj(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,tZ(e,i)}catch(i){yield hA(e,i)}pU(e)&&gU(e)}),mN.apply(this,arguments)}function eZ(n){return Od(n)&&n.Eu.length<10}function tZ(n,e){n.Eu.push(e);const t=kd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function pU(n){return Od(n)&&!kd(n).Uo()&&n.Eu.length>0}function gU(n){kd(n).start()}function nZ(n){return _N.apply(this,arguments)}function _N(){return _N=(0,R.Z)(function*(n){kd(n).hu()}),_N.apply(this,arguments)}function rZ(n){return yN.apply(this,arguments)}function yN(){return yN=(0,R.Z)(function*(n){const e=kd(n);for(const t of n.Eu)e.uu(t.mutations)}),yN.apply(this,arguments)}function iZ(n,e,t){return vN.apply(this,arguments)}function vN(){return vN=(0,R.Z)(function*(n,e,t){const r=n.Eu.shift(),i=SM.from(r,e,t);yield fU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $0(n)}),vN.apply(this,arguments)}function sZ(n,e){return EN.apply(this,arguments)}function EN(){return EN=(0,R.Z)(function*(n,e){var t;e&&kd(n).ou&&(yield(t=(0,R.Z)(function*(r,i){if(function n6(n){switch(n){default:return Je();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}(u=i.code)&&u!==ne.ABORTED){const l=r.Eu.shift();kd(r).Qo(),yield fU(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield $0(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),pU(n)&&gU(n)}),EN.apply(this,arguments)}function mU(n,e){return IN.apply(this,arguments)}function IN(){return IN=(0,R.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=Od(t);t.vu.add(3),yield Z0(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ZE(t)}),IN.apply(this,arguments)}function TN(){return TN=(0,R.Z)(function*(n,e){const t=Ge(n);e?(t.vu.delete(2),yield ZE(t)):e||(t.vu.add(2),yield Z0(t),t.bu.set("Unknown"))}),TN.apply(this,arguments)}function q0(n){return n.Su||(n.Su=function(e,t,r){const i=Ge(e);return i.fu(),new Hj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Yj.bind(null,n),ao:Jj.bind(null,n),nu:Xj.bind(null,n)}),n.Ru.push(function(){var e=(0,R.Z)(function*(t){t?(n.Su.Qo(),dN(n)?lN(n):n.bu.set("Unknown")):(yield n.Su.stop(),hU(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function kd(n){return n.Du||(n.Du=function(e,t,r){const i=Ge(e);return i.fu(),new Gj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:nZ.bind(null,n),ao:sZ.bind(null,n),au:rZ.bind(null,n),cu:iZ.bind(null,n)}),n.Ru.push(function(){var e=(0,R.Z)(function*(t){t?(n.Du.Qo(),yield $0(n)):(yield n.Du.stop(),n.Eu.length>0&&(De("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class CN{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,u){const l=Date.now()+r,f=new CN(e,t,l,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H0(n,e){if(sr("AsyncQueue",`${e}: ${n}`),Td(n))return new Ie(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class G0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=TE(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new G0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof G0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new G0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _U{constructor(){this.Cu=new In(He.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Je():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class z0{constructor(e,t,r,i,u,l,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,u){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new z0(e,t,G0.emptySet(t),l,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&IE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class oZ{constructor(){this.Nu=void 0,this.listeners=[]}}class aZ{constructor(){this.queries=new Rc(e=>LL(e),IE),this.onlineState="Unknown",this.ku=new Set}}function bN(n,e){return AN.apply(this,arguments)}function AN(){return AN=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new oZ),i)try{u.Nu=yield t.onListen(r)}catch(l){const f=H0(l,`Initialization of query '${CM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&xN(t)}),AN.apply(this,arguments)}function DN(n,e){return SN.apply(this,arguments)}function SN(){return SN=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),SN.apply(this,arguments)}function uZ(n,e){const t=Ge(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&xN(t)}function cZ(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function xN(n){n.ku.forEach(e=>{e.next()})}class MN{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new z0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=z0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class EU{constructor(e){this.key=e}}class IU{constructor(e){this.key=e}}class wU{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Pt(),this.mutatedKeys=Pt(),this.tc=VL(e),this.ec=new G0(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new _U,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,A)=>{const M=i.get(C),O=wE(this.query,A)?A:null,Z=!!M&&this.mutatedKeys.has(M.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let X=!1;M&&O?M.data.isEqual(O.data)?Z!==G&&(r.track({type:3,doc:O}),X=!0):this.rc(M,O)||(r.track({type:2,doc:O}),X=!0,(m&&this.tc(O,m)>0||v&&this.tc(O,v)<0)&&(f=!0)):!M&&O?(r.track({type:0,doc:O}),X=!0):M&&!O&&(r.track({type:1,doc:M}),X=!0,(m||v)&&(f=!0)),X&&(O?(l=l.add(O),u=G?u.add(C):u.delete(C)):(l=l.delete(C),u=u.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),u=u.delete(C.key),r.track({type:1,doc:C})}return{ec:l,ic:r,zi:f,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((v,C)=>function(A,M){const O=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return O(A)-O(M)}(v.type,C.type)||this.tc(v.doc,C.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==u.length||m?{snapshot:new z0(this.query,e.ec,i,u,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _U,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Pt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new IU(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new EU(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Pt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return z0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hZ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fZ{constructor(e){this.key=e,this.fc=!1}}class pZ{constructor(e,t,r,i,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Rc(f=>LL(f),IE),this._c=new Map,this.mc=new Set,this.gc=new In(He.comparator),this.yc=new Map,this.Ic=new qM,this.Tc={},this.Ec=new Map,this.Ac=gp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function gZ(n,e){return NN.apply(this,arguments)}function NN(){return NN=(0,R.Z)(function*(n,e){const t=function eR(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yZ.bind(null,e),e.dc.nu=uZ.bind(null,e.eventManager),e.dc.Pc=cZ.bind(null,e.eventManager),e}(n);let r,i;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.lc();else{const l=yield function B0(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,z.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Oc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,es(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield function RN(n,e,t,r,i){return PN.apply(this,arguments)}(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&dA(t.remoteStore,l)}return i}),NN.apply(this,arguments)}function PN(){return PN=(0,R.Z)(function*(n,e,t,r,i){n.Rc=(A,M,O)=>{return(Z=(0,R.Z)(function*(G,X,Te,Fe){let ke=X.view.sc(Te);ke.zi&&(ke=yield oA(G.localStore,X.query,!1).then(({documents:pt})=>X.view.sc(pt,ke)));const Ke=Fe&&Fe.targetChanges.get(X.targetId),_t=X.view.applyChanges(ke,G.isPrimaryClient,Ke);return $N(G,X.targetId,_t.cc),_t.snapshot}),function(G,X,Te,Fe){return Z.apply(this,arguments)})(n,A,M,O);var Z};const u=yield oA(n.localStore,e,!0),l=new wU(e,u.ir),f=l.sc(u.documents),m=xE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=l.applyChanges(f,n.isPrimaryClient,m);$N(n,t,v.cc);const C=new hZ(e,t,l);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),PN.apply(this,arguments)}function mZ(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,R.Z)(function*(n,e){const t=Ge(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!IE(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield j0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),$E(t.remoteStore,r.targetId),W0(t,r.targetId)}).catch(wd))):(W0(t,r.targetId),yield j0(t.localStore,r.targetId,!0))}),ON.apply(this,arguments)}function kN(){return kN=(0,R.Z)(function*(n,e,t){const r=function tR(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EZ.bind(null,e),e}(n);try{const i=yield function(u,l){const f=Ge(u),m=qn.now(),v=l.reduce((M,O)=>M.add(O.key),Pt());let C,A;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=vs(),Z=Pt();return f.Zi.getEntries(M,v).next(G=>{O=G,O.forEach((X,Te)=>{Te.isValidDocument()||(Z=Z.add(X))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,O)).next(G=>{C=G;const X=[];for(const Te of l){const Fe=H7(Te,C.get(Te.key).overlayedDocument);null!=Fe&&X.push(new Pc(Te.key,Fe,TL(Fe.value.mapValue),Nn.exists(!0)))}return f.mutationQueue.addMutationBatch(M,m,X,l)}).next(G=>{A=G;const X=G.applyToLocalDocumentSet(C,Z);return f.documentOverlayCache.saveOverlays(M,G.batchId,X)})}).then(()=>({batchId:A.batchId,changes:jL(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,f){let m=u.Tc[u.currentUser.toKey()];m||(m=new In(xt)),m=m.insert(l,f),u.Tc[u.currentUser.toKey()]=m}(r,i.batchId,t),yield kc(r,i.changes),yield $0(r.remoteStore)}catch(i){const u=H0(i,"Failed to persist write");t.reject(u)}}),kN.apply(this,arguments)}function TU(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,R.Z)(function*(n,e){const t=Ge(n);try{const r=yield function Lj(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((C,A)=>{const M=i.get(A);if(!M)return;f.push(t.Bs.removeMatchingKeys(u,C.removedDocuments,A).next(()=>t.Bs.addMatchingKeys(u,C.addedDocuments,A)));let O=M.withSequenceNumber(u.currentSequenceNumber);var Z,G,X;null!==e.targetMismatches.get(A)?O=O.withResumeToken(kr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):C.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(C.resumeToken,r)),i=i.insert(A,O),G=O,X=C,(0===(Z=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(u,O))});let m=vs(),v=Pt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),f.push(function tU(n,e,t){let r=Pt(),i=Pt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=vs();return t.forEach((f,m)=>{const v=u.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(st.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):De("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:i}})}(u,l,e.documentUpdates).next(C=>{m=C.nr,v=C.sr})),!r.isEqual(st.min())){const C=t.Bs.getLastRemoteSnapshotVersion(u).next(A=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(C)}return z.waitFor(f).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,v)).next(()=>m)}).then(u=>(t.Ji=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const l=t.yc.get(u);l&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?rt(l.fc):i.removedDocuments.size>0&&(rt(l.fc),l.fc=!1))}),yield kc(t,r,e)}catch(r){yield wd(r)}}),FN.apply(this,arguments)}function CU(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(u,l){const f=Ge(u);f.onlineState=l;let m=!1;f.queries.forEach((v,C)=>{for(const A of C.listeners)A.Mu(l)&&(m=!0)}),m&&xN(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yZ(n,e,t){return LN.apply(this,arguments)}function LN(){return LN=(0,R.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),u=i&&i.key;if(u){let l=new In(He.comparator);l=l.insert(u,An.newNoDocument(u,st.min()));const f=Pt().add(u),m=new SE(st.min(),new Map,new In(xt),l,f);yield TU(r,m),r.gc=r.gc.remove(u),r.yc.delete(e),qN(r)}else yield j0(r.localStore,e,!1).then(()=>W0(r,e,t)).catch(wd)}),LN.apply(this,arguments)}function vZ(n,e){return UN.apply(this,arguments)}function UN(){return UN=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield function Fj(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,m,v){const C=m.batch,A=C.keys();let M=z.resolve();return A.forEach(O=>{M=M.next(()=>v.getEntry(f,O)).next(Z=>{const G=m.docVersions.get(O);rt(null!==G),Z.version.compareTo(G)<0&&(C.applyToRemoteDocument(Z,m),Z.isValidDocument()&&(Z.setReadTime(m.commitVersion),v.addEntry(Z)))})}),M.next(()=>l.mutationQueue.removeMutationBatch(f,C))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=Pt();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(f=f.add(l.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);ZN(t,r,null),jN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield kc(t,i)}catch(i){yield wd(i)}}),UN.apply(this,arguments)}function EZ(n,e,t){return VN.apply(this,arguments)}function VN(){return VN=(0,R.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(u,l){const f=Ge(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,l).next(C=>(rt(null!==C),v=C.keys(),f.mutationQueue.removeMutationBatch(m,C))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);ZN(r,e,t),jN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield kc(r,i)}catch(i){yield wd(i)}}),VN.apply(this,arguments)}function jN(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function ZN(n,e,t){const r=Ge(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function W0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||bU(n,r)})}function bU(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&($E(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),qN(n))}function $N(n,e,t){for(const r of t)r instanceof EU?(n.Ic.addReference(r.key,e),wZ(n,r)):r instanceof IU?(De("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||bU(n,r.key)):Je()}function wZ(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(De("SyncEngine","New document in limbo: "+t),n.mc.add(r),qN(n))}function qN(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new He(zt.fromString(e)),r=n.Ac.next();n.yc.set(r,new fZ(t)),n.gc=n.gc.insert(t,r),dA(n.remoteStore,new Oc(es(N0(t.path)),r,"TargetPurposeLimboResolution",qs.ct))}}function kc(n,e,t){return HN.apply(this,arguments)}function HN(){return HN=(0,R.Z)(function*(n,e,t){const r=Ge(n),i=[],u=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{l.push(r.Rc(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const C=KM.Li(m.targetId,v);u.push(C)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,R.Z)(function*(m,v){const C=Ge(m);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>z.forEach(v,M=>z.forEach(M.Fi,O=>C.persistence.referenceDelegate.addReference(A,M.targetId,O)).next(()=>z.forEach(M.Bi,O=>C.persistence.referenceDelegate.removeReference(A,M.targetId,O)))))}catch(A){if(!Td(A))throw A;De("LocalStore","Failed to update sequence numbers: "+A)}for(const A of v){const M=A.targetId;if(!A.fromCache){const O=C.Ji.get(M),G=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);C.Ji=C.Ji.insert(M,G)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,u))}),HN.apply(this,arguments)}function TZ(n,e){return GN.apply(this,arguments)}function GN(){return GN=(0,R.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const r=yield X6(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Ie(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield kc(t,r.er)}var i}),GN.apply(this,arguments)}function CZ(n,e){const t=Ge(n),r=t.yc.get(e);if(r&&r.fc)return Pt().add(r.key);{let i=Pt();const u=t._c.get(e);if(!u)return i;for(const l of u){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}class fA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,R.Z)(function*(){t.serializer=jE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function J6(n,e,t,r){return new kj(n,e,t,r)}(this.persistence,new Y6,e.initialUser,this.serializer)}createPersistence(e){return new HM(rA.zs,this.serializer)}createSharedClientState(e){return new aU}terminate(){var e=this;return(0,R.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class K0{initialize(e,t){var r=this;return(0,R.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>CU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=TZ.bind(null,r.syncEngine),yield function wN(n,e){return TN.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new aZ}createDatastore(e){const t=jE(e.databaseInfo.databaseId),r=new qj(e.databaseInfo);return new zj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>CU(this.syncEngine,f,0),l=uU.D()?new uU:new jj,new Qj(t,r,i,u,l);var t,r,i,u,l}createSyncEngine(e,t){return function(r,i,u,l,f,m,v){const C=new pZ(r,i,u,l,f,m);return v&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,R.Z)(function*(t){const r=Ge(t);De("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Z0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class pA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LZ{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=eL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,R.Z)(function*(f){De("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(De("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,R.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,R.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=H0(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function gA(n,e){return nR.apply(this,arguments)}function nR(){return nR=(0,R.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,R.Z)(function*(u){r.isEqual(u)||(yield X6(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),nR.apply(this,arguments)}function rR(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,R.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function sR(n){return oR.apply(this,arguments)}(n);De("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>mU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>mU(e.remoteStore,u)),n._onlineComponents=e}),iR.apply(this,arguments)}function oR(){return oR=(0,R.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gA(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function NU(n){return"FirebaseError"===n.name?n.code===ne.FAILED_PRECONDITION||n.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;na("Error using user provided cache. Falling back to memory cache: "+t),yield gA(n,new fA)}}else De("FirestoreClient","Using default OfflineComponentProvider"),yield gA(n,new fA);return n._offlineComponents}),oR.apply(this,arguments)}function mA(n){return aR.apply(this,arguments)}function aR(){return aR=(0,R.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),yield rR(n,n._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),yield rR(n,new K0))),n._onlineComponents}),aR.apply(this,arguments)}function Q0(n){return cR.apply(this,arguments)}function cR(){return cR=(0,R.Z)(function*(n){const e=yield mA(n),t=e.eventManager;return t.onListen=gZ.bind(null,e.syncEngine),t.onUnlisten=mZ.bind(null,e.syncEngine),t}),cR.apply(this,arguments)}function LU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const UU=new Map;function lR(n,e,t){if(!t)throw new Ie(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VU(n){if(!He.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BU(n){if(He.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yA(n);throw new Ie(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class ZU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ie(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ie(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function GZ(n,e,t,r){if(!0===e&&!0===r)throw new Ie(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=LU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ie(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new q8;switch(t.type){case"firstParty":return new W8(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ie(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=UU.get(e);t&&(De("ComponentProvider","Removing Datastore"),UU.delete(e),t.terminate())}(this),Promise.resolve()}}class ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class Ei{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class ou extends Ei{constructor(e,t,r){super(e,t,N0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new He(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function WZ(n,e,...t){if(n=(0,_e.m9)(n),lR("collection","path",e),n instanceof qE){const r=zt.fromString(e,...t);return BU(r),new ou(n,null,r)}{if(!(n instanceof ur||n instanceof ou))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return BU(r),new ou(n.firestore,null,r)}}function $U(n,e,...t){if(n=(0,_e.m9)(n),1===arguments.length&&(e=eL.A()),lR("doc","path",e),n instanceof qE){const r=zt.fromString(e,...t);return VU(r),new ur(n,null,new He(r))}{if(!(n instanceof ur||n instanceof ou))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return VU(r),new ur(n.firestore,n instanceof ou?n.converter:null,new He(r))}}class KZ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sN(this,"async_queue_retry"),this.Xc=()=>{const t=lA();t&&De("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=lA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=lA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,R.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Td(t))throw t;De("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,sr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=CN.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&Je()}verifyOperationInProgress(){}sa(){var e=this;return(0,R.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Dn extends qE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new KZ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HU(this),this._firestoreClient.terminate()}}function YZ(n,e){const t="object"==typeof n?n:(0,fi.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,fi._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,_e.P0)("firestore");u&&function zZ(n,e,t,r={}){var i;const u=(n=qt(n,qE))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=Kr.MOCK_USER;else{f=(0,_e.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ie(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Kr(v)}n._authCredentials=new H8(new J5(f,m))}}(i,...u)}return i}function vr(n){return n._firestoreClient||HU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function HU(n){var e,t,r;const i=n._freezeSettings(),u=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new C7(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,LU(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new LZ(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class _p{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _p(kr.fromBase64String(e))}catch(t){throw new Ie(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _p(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Y0{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ie(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hR{constructor(e){this._methodName=e}}class fR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const XZ=/^__.*__$/;class e${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms):new O0(e,this.data,t,this.fieldTransforms)}}class WU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class vA{constructor(e,t,r,i,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new vA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return IA(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(KU(this.ca)&&XZ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class t${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jE(e)}ya(e,t,r,i=!1){return new vA({ca:e,methodName:t,ga:r,path:or.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function J0(n){const e=n._freezeSettings(),t=jE(n._databaseId);return new t$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pR(n,e,t,r,i,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,i);mR("Data must be an object, but it was:",l,r);const f=eV(r,l);let m,v;if(u.merge)m=new ys(l.fieldMask),v=l.fieldTransforms;else if(u.mergeFields){const C=[];for(const A of u.mergeFields){const M=zE(e,A,t);if(!l.contains(M))throw new Ie(ne.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);nV(C,M)||C.push(M)}m=new ys(C),v=l.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,v=l.fieldTransforms;return new e$(new vi(f),m,v)}class GE extends hR{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof GE}}function yp(n,e){if(tV(n=(0,_e.m9)(n)))return mR("Unsupported field value:",e,n),eV(n,e);if(n instanceof hR)return function(t,r){if(!KU(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const l of t){let f=yp(l,r.wa(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return HL(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=qn.fromDate(t);return{timestampValue:F0(r.serializer,i)}}if(t instanceof qn){const i=new qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:F0(r.serializer,i)}}if(t instanceof fR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _p)return{bytesValue:h6(r.serializer,t._byteString)};if(t instanceof ur){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:PM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${yA(t)}`)}(n,e)}function eV(n,e){const t={};return pL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cd(n,(r,i)=>{const u=yp(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function tV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qn||n instanceof fR||n instanceof _p||n instanceof ur||n instanceof hR)}function mR(n,e,t){if(!tV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=yA(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function zE(n,e,t){if((e=(0,_e.m9)(e))instanceof Y0)return e._internalPath;if("string"==typeof e)return EA(n,e);throw IA("Field path arguments must be of type string or ",n,!1,void 0,t)}const s$=new RegExp("[~\\*/\\[\\]]");function EA(n,e,t){if(e.search(s$)>=0)throw IA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Y0(...e.split("."))._internalPath}catch{throw IA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function IA(n,e,t,r,i){const u=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(u||l)&&(m+=" (found",u&&(m+=` in field ${r}`),l&&(m+=` in document ${i}`),m+=")"),new Ie(ne.INVALID_ARGUMENT,f+n+m)}function nV(n,e){return n.some(t=>t.isEqual(e))}class _R{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new o$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class o$ extends _R{data(){return super.data()}}function wA(n,e){return"string"==typeof e?EA(n,e):e instanceof Y0?e._internalPath:e._delegate._internalPath}class yR{}class a$ extends yR{}function u$(n,e,...t){let r=[];e instanceof yR&&r.push(e),r=r.concat(t),function(i){const u=i.filter(f=>f instanceof X0).length,l=i.filter(f=>f instanceof WE).length;if(u>1||u>0&&l>0)throw new Ie(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class WE extends a${constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new WE(e,t,r)}_apply(e){const t=this._parse(e);return aV(e._query,t),new Ei(e.firestore,e.converter,TM(e._query,t))}_parse(e){const t=J0(e.firestore);return function(i,u,l,f,m,v,C){let A;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ie(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){oV(C,v);const M=[];for(const O of C)M.push(sV(f,i,O));A={arrayValue:{values:M}}}else A=sV(f,i,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||oV(C,v),A=function XU(n,e,t,r=!1){return yp(t,n.ya(r?4:3,e))}(l,"where",C,"in"===v||"not-in"===v);return Zt.create(m,v,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function c$(n,e,t){const r=e,i=wA("where",n);return WE._create(i,r,t)}class X0 extends yR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new X0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const l=i.getFlattenedFilters();for(const f of l)aV(u,f),u=TM(u,f)}(e._query,t),new Ei(e.firestore,e.converter,TM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function sV(n,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new Ie(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wM(e)&&-1!==t.indexOf("/"))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(zt.fromString(t));if(!He.isDocumentKey(r))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sp(n,new He(r))}if(t instanceof ur)return sp(n,t._key);throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yA(t)}.`)}function oV(n,e){if(!Array.isArray(n)||0===n.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aV(n,e){if(e.isInequality()){const r=Zb(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=IM(n);null!==u&&function uV(n,e,t){if(!t.isEqual(e))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,u)}const t=function(r,i){for(const u of r)for(const l of u.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ie(ne.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class l${convertValue(e,t="none"){switch(Dd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Cd(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new fR(Jn(e.latitude),Jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Fb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mE(e));default:return null}}convertTimestamp(e){const t=bd(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=zt.fromString(e);rt(w6(r));const i=new ip(r.get(1),r.get(3)),u=new He(r.popFirst(5));return i.isEqual(t)||sr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function ER(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e_ extends _R{constructor(e,t,r,i,u,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new AA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wA("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class AA extends e_{data(e={}){return super.data(e)}}class t_{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new AA(this._firestore,this._userDataWriter,r.key,r,new vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new AA(r._firestore,r._userDataWriter,l.doc.key,l.doc,new vp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new AA(r._firestore,r._userDataWriter,l.doc.key,l.doc,new vp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==l.type&&(m=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),v=u.indexOf(l.doc.key)),{type:h$(l.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function f$(n){n=qt(n,ur);const e=qt(n.firestore,Dn);return function kU(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function(i,u,l,f,m){const v=new pA({next:A=>{u.enqueueAndForget(()=>DN(i,C));const M=A.docs.has(l);!M&&A.fromCache?m.reject(new Ie(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&f&&"server"===f.source?m.reject(new Ie(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),C=new MN(N0(l.path),v,{includeMetadataChanges:!0,Ku:!0});return bN(i,C)}(yield Q0(n),n.asyncQueue,e,t,r)})),r.promise}(vr(e),n._key).then(t=>function IR(n,e,t){const r=t.docs.get(e._key),i=new Fd(n);return new e_(n,i,e._key,r,new vp(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Fd extends l${constructor(e){super(),this.firestore=e}convertBytes(e){return new _p(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}function p$(n){n=qt(n,Ei);const e=qt(n.firestore,Dn),t=vr(e),r=new Fd(e);return function rV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function FU(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function(i,u,l,f,m){const v=new pA({next:A=>{u.enqueueAndForget(()=>DN(i,C)),A.fromCache&&"server"===f.source?m.reject(new Ie(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),C=new MN(l,v,{includeMetadataChanges:!0,Ku:!0});return bN(i,C)}(yield Q0(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new t_(e,r,n,i))}function g$(n,e,t){n=qt(n,ur);const r=qt(n.firestore,Dn),i=ER(n.converter,e,t);return KE(r,[pR(J0(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Nn.none())])}function m$(n,e,t,...r){n=qt(n,ur);const i=qt(n.firestore,Dn),u=J0(i);let l;return l="string"==typeof(e=(0,_e.m9)(e))||e instanceof Y0?function JU(n,e,t,r,i,u){const l=n.ya(1,e,t),f=[zE(e,r,t)],m=[i];if(u.length%2!=0)throw new Ie(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<u.length;M+=2)f.push(zE(e,u[M])),m.push(u[M+1]);const v=[],C=vi.empty();for(let M=f.length-1;M>=0;--M)if(!nV(v,f[M])){const O=f[M];let Z=m[M];Z=(0,_e.m9)(Z);const G=l.da(O);if(Z instanceof GE)v.push(O);else{const X=yp(Z,G);null!=X&&(v.push(O),C.set(O,X))}}const A=new ys(v);return new WU(C,A,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function YU(n,e,t,r){const i=n.ya(1,e,t);mR("Data must be an object, but it was:",i,r);const u=[],l=vi.empty();Cd(r,(m,v)=>{const C=EA(e,m,t);v=(0,_e.m9)(v);const A=i.da(C);if(v instanceof GE)u.push(C);else{const M=yp(v,A);null!=M&&(u.push(C),l.set(C,M))}});const f=new ys(u);return new WU(l,f,i.fieldTransforms)}(u,"updateDoc",n._key,e),KE(i,[l.toMutation(n._key,Nn.exists(!0))])}function _$(n,e){const t=qt(n.firestore,Dn),r=$U(n),i=ER(n.converter,e);return KE(t,[pR(J0(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function KE(n,e){return function(t,r){const i=new Or;return t.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function _Z(n,e,t){return kN.apply(this,arguments)}(yield function uR(n){return mA(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(vr(n),e)}!function(n,e=!0){b0=fi.SDK_VERSION,(0,fi._registerComponent)(new rr.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),l=new Dn(new G8(t.getProvider("auth-internal")),new K8(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ip(f.options.projectId,m)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,fi.registerVersion)(Y5,"3.13.0",n),(0,fi.registerVersion)(Y5,"3.13.0","esm2017")}();class Ii{constructor(e){return e}}const dV="firestore",wR=new o.OlP("angularfire2.firestore-instances");function N$(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ii(r)}}const R$={provide:class x${constructor(){return c4(dV)}},deps:[[new o.FiY,wR]]},P$={provide:Ii,useFactory:function M$(n,e){const t=function _d(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(l=>l.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(dV,n,e);return t&&new Ii(t)},deps:[[new o.FiY,wR],Ya]};let O$=(()=>{class n{constructor(){(0,fi.registerVersion)("angularfire",Tc.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[P$,R$]}),n})();function k$(n,...e){return{ngModule:O$,providers:[{provide:wR,useFactory:N$(n),multi:!0,deps:[o.R0b,o.zs3,Vf,Ym,[new o.FiY,_C],[new o.FiY,F4],...e]}]}}const SA=_s(_$,!0),ia=_s(WZ,!0),au=_s($U,!0),Ld=_s(f$,!0),Ep=_s(p$,!0),F$=_s(YZ,!0),hV=_s(u$,!0),L$=_s(g$,!0),U$=_s(m$,!0),fV=_s(c$,!0);pi("firebase","10.5.2","app");const xA_firebaseConfig={apiKey:"AIzaSyBqXpKb2qj9VKAYX_DOaOyGV6e-lsUhxG8",authDomain:"chefs-talks.firebaseapp.com",projectId:"chefs-talks",storageBucket:"chefs-talks.appspot.com",messagingSenderId:"821574305127",appId:"1:821574305127:web:1ec43d2f164a6f2c151bc2",measurementId:"G-96713DEB05"},xA_cloudinaryConfig_cloudName="dsla98vyk",xA_cloudinaryConfig_uploadPreset="chefs_talks";$y(xA_firebaseConfig);let TR=(()=>{class n{constructor(){this.cloudName=xA_cloudinaryConfig_cloudName,this.uploadPreset=xA_cloudinaryConfig_uploadPreset,this.imageUploaded=new o.vpe}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(t,r)=>{!t&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(t){this.imageUploaded.emit(t)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:3,vars:0,consts:[["id","upload_widget",1,"cloudinary-button","button",3,"click"]],template:function(r,i){1&r&&(o.TgZ(0,"div")(1,"button",0),o.NdJ("click",function(){return i.openWidget()}),o._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()())},styles:[".cloudinary-button[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);text-decoration:none;font-size:16px;line-height:28px;cursor:pointer;font-weight:400;display:block;border-radius:4px;padding:10px 14px}.cloudinary-button[_ngcontent-%COMP%]:hover{background-color:var(--secondColor)}"]})}return n})();function j$(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"p",7),o._uU(2,"\u0412\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(3,"input",18),o.TgZ(4,"button",19),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.removeImage())}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}}function Z$(n,e){1&n&&(o.TgZ(0,"div",21),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function $$(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Z$,2,0,"div",20),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.categoryForm.get("name"))||null==r.errors?null:r.errors.required)}}function q$(n,e){1&n&&(o.TgZ(0,"div",21),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u044e! "),o.qZA())}function H$(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,q$,2,0,"div",20),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.categoryForm.get("menu"))||null==r.errors?null:r.errors.required)}}let G$=(()=>{class n{constructor(t,r){this.fb=t,this.firestore=r,this.categoryForm=this.fb.group({name:["",[ct.required]],is_active:[!1],menu:["",[ct.required]],order_index:[0],note:[""],image:[""]})}onSubmit(){this.categoryForm.valid?(this.addCategory(this.categoryForm.value),this.categoryForm.reset()):console.log(this.categoryForm.errors)}removeImage(){this.categoryForm.get("image")?.setValue("")}addImageToForm(t){this.categoryForm.get("image")?.setValue(t)}get image(){return this.categoryForm.get("image")}addCategory(t){SA(ia(this.firestore,"Category"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Ba),o.Y36(Ii))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-category-form"]],decls:42,vars:4,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup","ngSubmit"],[3,"imageUploaded"],[4,"ngIf"],["type","checkbox","formControlName","is_active"],[1,"hint"],["type","text","formControlName","name","required",""],["for","menu"],["id","menu","formControlName","menu"],["value","\u041e\u0441\u043d\u043e\u0432\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0437\u043e\u043d\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0422\u0435\u0441\u0442\u043e\u0432\u043e \u041c\u0435\u043d\u044e"],["formControlName","note"],["type","number","formControlName","order_index"],["type","submit"],["type","text","id","image","formControlName","image"],["type","button",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),o.qZA(),o.TgZ(4,"form",3),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(5,"app-image-upload",4),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.YNc(6,j$,6,0,"div",5),o.TgZ(7,"label"),o._uU(8," \u0410\u043a\u0442\u0438\u0432\u043d\u0430 \u043b\u0438 \u0435 \u043a\u0430\u0442\u0435\u0433\u0440\u0438\u044f? "),o._UZ(9,"input",6),o.TgZ(10,"span",7),o._uU(11,"\u0429\u0435 \u0431\u044a\u0434\u0435 \u043b\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430 \u0432\u0438\u0434\u0438\u043c\u0430 \u0432\u044a\u0432 \u0441\u0430\u0439\u0442\u0430?"),o.qZA()(),o.TgZ(12,"label"),o._uU(13," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o._UZ(14,"input",8),o.qZA(),o.YNc(15,$$,2,1,"div",5),o.TgZ(16,"label",9),o._uU(17,"\u041c\u0435\u043d\u044e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(18,"p",7),o._uU(19,"\u041a\u044a\u043c \u043a\u043e\u0435 \u043c\u0435\u043d\u044e \u0441\u043f\u0430\u0434\u0430 \u0442\u0430\u0437\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f?"),o.qZA(),o.TgZ(20,"select",10)(21,"option",11),o._uU(22,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e"),o.qZA(),o.TgZ(23,"option",12),o._uU(24,"\u0421\u0435\u0437\u043e\u043d\u043d\u043e"),o.qZA(),o.TgZ(25,"option",13),o._uU(26,"\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u043e"),o.qZA(),o.TgZ(27,"option",14),o._uU(28,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e"),o.qZA()(),o.YNc(29,H$,2,1,"div",5),o.TgZ(30,"label"),o._uU(31," \u0411\u0435\u043b\u0435\u0436\u043a\u0430: "),o.TgZ(32,"span",7),o._uU(33,"\u041d\u044f\u043a\u043e\u043b\u043a\u043e \u0434\u0443\u043c\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),o.qZA(),o._UZ(34,"textarea",15),o.qZA(),o.TgZ(35,"label"),o._uU(36," \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),o.TgZ(37,"span",7),o._uU(38,"\u0420\u0435\u0434 \u043d\u0430 \u043f\u043e\u0434\u0440\u0435\u0434\u0431\u0430 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\u0442\u0435"),o.qZA(),o._UZ(39,"input",16),o.qZA(),o.TgZ(40,"button",17),o._uU(41,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),o.qZA()()()()),2&r){let u,l,f;o.xp6(4),o.Q6J("formGroup",i.categoryForm),o.xp6(2),o.Q6J("ngIf",""!==(null==(u=i.categoryForm.get("image"))?null:u.value)),o.xp6(9),o.Q6J("ngIf",null==(l=i.categoryForm.get("name"))?null:l.touched),o.xp6(14),o.Q6J("ngIf",null==(f=i.categoryForm.get("menu"))?null:f.touched)}},dependencies:[dr,co,ho,Go,hi,Ho,Bg,Va,Oa,uo,rf,Ls,lo,TR]})}return n})();var pV=P(7582);const z$=function gV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mV=new _e.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),MA=new ki.Yd("@firebase/auth");function NA(n,...e){MA.logLevel<=ki.in.ERROR&&MA.error(`Auth (${Jl}): ${n}`,...e)}function Es(n,...e){throw CR(n,...e)}function uu(n,...e){return CR(n,...e)}function CR(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mV.create(n,...e)}function Be(n,e,...t){if(!n)throw CR(e,...t)}function cu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw NA(e),new Error(e)}function Ud(n,e){n||cu(e)}function QE(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function yV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class YE{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ud(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,_e.uI)()||(0,_e.b$)()}get(){return function K$(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function bR(){return"http:"===yV()||"https:"===yV()}()||(0,_e.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function AR(n,e){Ud(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class vV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void cu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void cu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void cu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},J$=new YE(3e4,6e4);function Rn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Hn(n,e,t,r){return DR.apply(this,arguments)}function DR(){return DR=(0,R.Z)(function*(n,e,t,r,i={}){return EV(n,i,(0,R.Z)(function*(){let u={},l={};r&&("GET"===e?l=r:u={body:JSON.stringify(r)});const f=(0,_e.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),vV.fetch()(IV(n,n.config.apiHost,t,f),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))}))}),DR.apply(this,arguments)}function EV(n,e,t){return SR.apply(this,arguments)}function SR(){return SR=(0,R.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y$),e);try{const i=new eq(n),u=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield u.json();if("needConfirmation"in l)throw JE(n,"account-exists-with-different-credential",l);if(u.ok&&!("errorMessage"in l))return l;{const f=u.ok?l.errorMessage:l.error.message,[m,v]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===m)throw JE(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===m)throw JE(n,"email-already-in-use",l);if("USER_DISABLED"===m)throw JE(n,"user-disabled",l);const C=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw function _V(n,e,t){const r=Object.assign(Object.assign({},z$()),{[e]:t});return new _e.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,C,v);Es(n,C)}}catch(i){if(i instanceof _e.ZR)throw i;Es(n,"network-request-failed",{message:String(i)})}}),SR.apply(this,arguments)}function Fc(n,e,t,r){return xR.apply(this,arguments)}function xR(){return xR=(0,R.Z)(function*(n,e,t,r,i={}){const u=yield Hn(n,e,t,r,i);return"mfaPendingCredential"in u&&Es(n,"multi-factor-auth-required",{_serverResponse:u}),u}),xR.apply(this,arguments)}function IV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?AR(n.config,i):`${n.config.apiScheme}://${i}`}function X$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(uu(this.auth,"network-request-failed")),J$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function JE(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=uu(n,e,r);return i.customData._tokenResponse=t,i}function TV(n){return void 0!==n&&void 0!==n.enterprise}class CV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return X$(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function NR(){return NR=(0,R.Z)(function*(n,e){return Hn(n,"GET","/v2/recaptchaConfig",Rn(n,e))}),NR.apply(this,arguments)}function RR(){return RR=(0,R.Z)(function*(n,e){return Hn(n,"POST","/v1/accounts:delete",e)}),RR.apply(this,arguments)}function OR(){return OR=(0,R.Z)(function*(n,e){return Hn(n,"POST","/v1/accounts:lookup",e)}),OR.apply(this,arguments)}function XE(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kR(){return kR=(0,R.Z)(function*(n,e=!1){const t=(0,_e.m9)(n),r=yield t.getIdToken(e),i=RA(r);Be(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const u="object"==typeof i.firebase?i.firebase:void 0,l=u?.sign_in_provider;return{claims:i,token:r,authTime:XE(FR(i.auth_time)),issuedAtTime:XE(FR(i.iat)),expirationTime:XE(FR(i.exp)),signInProvider:l||null,signInSecondFactor:u?.sign_in_second_factor||null}}),kR.apply(this,arguments)}function FR(n){return 1e3*Number(n)}function RA(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return NA("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,_e.tV)(t);return i?JSON.parse(i):(NA("Failed to decode base64 JWT payload"),null)}catch(i){return NA("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Lc(n,e){return LR.apply(this,arguments)}function LR(){return LR=(0,R.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof _e.ZR&&function aq({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),LR.apply(this,arguments)}class uq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,R.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,R.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class AV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=XE(this.lastLoginAt),this.creationTime=XE(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function e1(n){return UR.apply(this,arguments)}function UR(){return UR=(0,R.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Lc(n,function iq(n,e){return OR.apply(this,arguments)}(t,{idToken:r}));Be(i?.users.length,t,"internal-error");const u=i.users[0];n._notifyReloadListener(u);const l=null!==(e=u.providerUserInfo)&&void 0!==e&&e.length?function dq(n){return n.map(e=>{var{providerId:t}=e,r=(0,pV._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(u.providerUserInfo):[],f=function lq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),C=!!n.isAnonymous&&!(n.email&&u.passwordHash||f?.length),A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new AV(u.createdAt,u.lastLoginAt),isAnonymous:C};Object.assign(n,A)}),UR.apply(this,arguments)}function VR(){return VR=(0,R.Z)(function*(n){const e=(0,_e.m9)(n);yield e1(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),VR.apply(this,arguments)}function BR(){return BR=(0,R.Z)(function*(n,e){const t=yield EV(n,{},(0,R.Z)(function*(){const r=(0,_e.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:u}=n.config,l=IV(n,i,"/v1/token",`key=${u}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",vV.fetch()(l,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),BR.apply(this,arguments)}class t1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function oq(n){const e=RA(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,R.Z)(function*(){return Be(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,R.Z)(function*(){const{accessToken:i,refreshToken:u,expiresIn:l}=yield function hq(n,e){return BR.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,u,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:u}=t,l=new t1;return r&&(Be("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(Be("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),u&&(Be("number"==typeof u,"internal-error",{appName:e}),l.expirationTime=u),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t1,this.toJSON())}_performRefresh(){return cu("not implemented")}}function Vd(n,e){Be("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ip{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,u=(0,pV._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new AV(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,R.Z)(function*(){const r=yield Lc(t,t.stsTokenManager.getToken(t.auth,e));return Be(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function sq(n){return kR.apply(this,arguments)}(this,e)}reload(){return function cq(n){return VR.apply(this,arguments)}(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ip(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,R.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield e1(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,R.Z)(function*(){const t=yield e.getIdToken();return yield Lc(e,function nq(n,e){return RR.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,u,l,f,m,v,C;const A=null!==(r=t.displayName)&&void 0!==r?r:void 0,M=null!==(i=t.email)&&void 0!==i?i:void 0,O=null!==(u=t.phoneNumber)&&void 0!==u?u:void 0,Z=null!==(l=t.photoURL)&&void 0!==l?l:void 0,G=null!==(f=t.tenantId)&&void 0!==f?f:void 0,X=null!==(m=t._redirectEventId)&&void 0!==m?m:void 0,Te=null!==(v=t.createdAt)&&void 0!==v?v:void 0,Fe=null!==(C=t.lastLoginAt)&&void 0!==C?C:void 0,{uid:ke,emailVerified:Ke,isAnonymous:_t,providerData:pt,stsTokenManager:Kt}=t;Be(ke&&Kt,e,"internal-error");const wr=t1.fromJSON(this.name,Kt);Be("string"==typeof ke,e,"internal-error"),Vd(A,e.name),Vd(M,e.name),Be("boolean"==typeof Ke,e,"internal-error"),Be("boolean"==typeof _t,e,"internal-error"),Vd(O,e.name),Vd(Z,e.name),Vd(G,e.name),Vd(X,e.name),Vd(Te,e.name),Vd(Fe,e.name);const ji=new Ip({uid:ke,auth:e,email:M,emailVerified:Ke,displayName:A,isAnonymous:_t,photoURL:Z,phoneNumber:O,tenantId:G,stsTokenManager:wr,createdAt:Te,lastLoginAt:Fe});return pt&&Array.isArray(pt)&&(ji.providerData=pt.map(oa=>Object.assign({},oa))),X&&(ji._redirectEventId=X),ji}static _fromIdTokenResponse(e,t,r=!1){return(0,R.Z)(function*(){const i=new t1;i.updateFromServerResponse(t);const u=new Ip({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield e1(u),u})()}}const DV=new Map;function Uc(n){Ud(n instanceof Function,"Expected a class definition");let e=DV.get(n);return e?(Ud(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DV.set(n,e),e)}const SV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,R.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,R.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,R.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function PA(n,e,t){return`firebase:${n}:${e}:${t}`}class r_{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:u}=this.auth;this.fullUserKey=PA(this.userKey,i.apiKey,u),this.fullPersistenceKey=PA("persistence",i.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,R.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ip._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,R.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,R.Z)(function*(){if(!t.length)return new r_(Uc(SV),e,r);const i=(yield Promise.all(t.map(function(){var v=(0,R.Z)(function*(C){if(yield C._isAvailable())return C});return function(C){return v.apply(this,arguments)}}()))).filter(v=>v);let u=i[0]||Uc(SV);const l=PA(r,e.config.apiKey,e.name);let f=null;for(const v of t)try{const C=yield v._get(l);if(C){const A=Ip._fromJSON(e,C);v!==u&&(f=A),u=v;break}}catch{}const m=i.filter(v=>v._shouldAllowMigration);return u._shouldAllowMigration&&m.length?(u=m[0],f&&(yield u._set(l,f.toJSON())),yield Promise.all(t.map(function(){var v=(0,R.Z)(function*(C){if(C!==u)try{yield C._remove(l)}catch{}});return function(C){return v.apply(this,arguments)}}())),new r_(u,e,r)):new r_(u,e,r)})()}}function xV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OV(e))return"Blackberry";if(kV(e))return"Webos";if(jR(e))return"Safari";if((e.includes("chrome/")||NV(e))&&!e.includes("edge/"))return"Chrome";if(PV(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function MV(n=(0,_e.z$)()){return/firefox\//i.test(n)}function jR(n=(0,_e.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NV(n=(0,_e.z$)()){return/crios\//i.test(n)}function RV(n=(0,_e.z$)()){return/iemobile/i.test(n)}function PV(n=(0,_e.z$)()){return/android/i.test(n)}function OV(n=(0,_e.z$)()){return/blackberry/i.test(n)}function kV(n=(0,_e.z$)()){return/webos/i.test(n)}function OA(n=(0,_e.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function FV(n=(0,_e.z$)()){return OA(n)||PV(n)||kV(n)||OV(n)||/windows phone/i.test(n)||RV(n)}function LV(n,e=[]){let t;switch(n){case"Browser":t=xV((0,_e.z$)());break;case"Worker":t=`${xV((0,_e.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jl}/${r}`}class mq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((l,f)=>{try{l(e(u))}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,R.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const u of r)try{u()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function ZR(){return ZR=(0,R.Z)(function*(n,e={}){return Hn(n,"GET","/v2/passwordPolicy",Rn(n,e))}),ZR.apply(this,arguments)}class vq{constructor(e){var t,r,i,u;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=l.minPasswordLength)&&void 0!==t?t:6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),void 0!==l.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),void 0!==l.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),void 0!==l.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),void 0!==l.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(u=e.forceUpgradeOnSignin)&&void 0!==u&&u,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,u,l,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=null===(t=m.meetsMinPasswordLength)||void 0===t||t),m.isValid&&(m.isValid=null===(r=m.meetsMaxPasswordLength)||void 0===r||r),m.isValid&&(m.isValid=null===(i=m.containsLowercaseLetter)||void 0===i||i),m.isValid&&(m.isValid=null===(u=m.containsUppercaseLetter)||void 0===u||u),m.isValid&&(m.isValid=null===(l=m.containsNumericCharacter)||void 0===l||l),m.isValid&&(m.isValid=null===(f=m.containsNonAlphanumericCharacter)||void 0===f||f),m}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Eq{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UV(this),this.idTokenSubscription=new UV(this),this.beforeStateQueue=new mq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Uc(t)),this._initializationPromise=this.queue((0,R.Z)(function*(){var i,u;if(!r._deleted&&(r.persistenceManager=yield r_.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,R.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,R.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let u=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const f=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,m=u?._redirectEventId,v=yield t.tryRedirectSignIn(e);(!f||f===m)&&v?.user&&(u=v.user,l=!0)}if(!u)return t.directlySetCurrentUser(null);if(!u._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(u)}catch(f){u=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(f))}return u?t.reloadAndSetCurrentUserOrClear(u):t.directlySetCurrentUser(null)}return Be(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===u._redirectEventId?t.directlySetCurrentUser(u):t.reloadAndSetCurrentUserOrClear(u)})()}tryRedirectSignIn(e){var t=this;return(0,R.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,R.Z)(function*(){try{yield e1(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Q$(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,R.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,R.Z)(function*(){const r=e?(0,_e.m9)(e):null;return r&&Be(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,R.Z)(function*(){if(!r._deleted)return e&&Be(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,R.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,R.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,R.Z)(function*(){yield t.assertedPersistence.setPersistence(Uc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,R.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,R.Z)(function*(){const t=yield function _q(n){return ZR.apply(this,arguments)}(e),r=new vq(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _e.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,R.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,R.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Uc(e)||t._popupRedirectResolver;Be(r,t,"argument-error"),t.redirectPersistenceManager=yield r_.create(t,[Uc(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,R.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,R.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,R.Z)(function*(){if(e===t.currentUser)return t.queue((0,R.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const u="function"==typeof t?t:t.next.bind(t);let l=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(f,this,"internal-error"),f.then(()=>{l||u(this.currentUser)}),"function"==typeof t){const m=e.addObserver(t,r,i);return()=>{l=!0,m()}}{const m=e.addObserver(t);return()=>{l=!0,m()}}}directlySetCurrentUser(e){var t=this;return(0,R.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,R.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const u=yield e._getAppCheckToken();return u&&(r["X-Firebase-AppCheck"]=u),r})()}_getAppCheckToken(){var e=this;return(0,R.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function W$(n,...e){MA.logLevel<=ki.in.WARN&&MA.warn(`Auth (${Jl}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Er(n){return(0,_e.m9)(n)}class UV{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,_e.ne)(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $R(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const u=uu("internal-error");u.customData=i,t(u)},r.type="text/javascript",r.charset="UTF-8",function Iq(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function VV(n){return`__${n}${Math.floor(1e6*Math.random())}`}class BV{constructor(e){this.type="recaptcha-enterprise",this.auth=Er(e)}verify(e="verify",t=!1){var r=this;return(0,R.Z)(function*(){function u(){return u=(0,R.Z)(function*(f){if(!t){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var m=(0,R.Z)(function*(v,C){(function bV(n,e){return NR.apply(this,arguments)})(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(void 0!==A.recaptchaKey){const M=new CV(A);return null==f.tenantId?f._agentRecaptchaConfig=M:f._tenantRecaptchaConfigs[f.tenantId]=M,v(M.siteKey)}C(new Error("recaptcha Enterprise site key undefined"))}).catch(A=>{C(A)})});return function(v,C){return m.apply(this,arguments)}}())}),u.apply(this,arguments)}function l(f,m,v){const C=window.grecaptcha;TV(C)?C.enterprise.ready(()=>{C.enterprise.execute(f,{action:e}).then(A=>{m(A)}).catch(()=>{m("NO_RECAPTCHA")})}):v(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,m)=>{(function i(f){return u.apply(this,arguments)})(r.auth).then(v=>{if(!t&&TV(window.grecaptcha))l(v,f,m);else{if(typeof window>"u")return void m(new Error("RecaptchaVerifier is only supported in browser"));$R("https://www.google.com/recaptcha/enterprise.js?render="+v).then(()=>{l(v,f,m)}).catch(C=>{m(C)})}}).catch(v=>{m(v)})})})()}}function jV(n,e,t){return qR.apply(this,arguments)}function qR(){return qR=(0,R.Z)(function*(n,e,t,r=!1){const i=new BV(n);let u;try{u=yield i.verify(t)}catch{u=yield i.verify(t,!0)}const l=Object.assign({},e);return Object.assign(l,r?{captchaResp:u}:{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}),qR.apply(this,arguments)}function kA(n,e,t,r){return HR.apply(this,arguments)}function HR(){return HR=(0,R.Z)(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=yield jV(n,e,t,"getOobCode"===t);return r(n,u)}return r(n,e).catch(function(){var u=(0,R.Z)(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=yield jV(n,e,t,"getOobCode"===t);return r(n,f)}return Promise.reject(l)});return function(l){return u.apply(this,arguments)}}())}),HR.apply(this,arguments)}function ZV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $V(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class qV{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cu("not implemented")}_getIdTokenResponse(e){return cu("not implemented")}_linkToIdToken(e,t){return cu("not implemented")}_getReauthenticationResolver(e){return cu("not implemented")}}function WR(){return WR=(0,R.Z)(function*(n,e){return Hn(n,"POST","/v1/accounts:update",e)}),WR.apply(this,arguments)}function Rq(n,e){return QR.apply(this,arguments)}function QR(){return QR=(0,R.Z)(function*(n,e){return Fc(n,"POST","/v1/accounts:signInWithPassword",Rn(n,e))}),QR.apply(this,arguments)}function nP(){return nP=(0,R.Z)(function*(n,e){return Fc(n,"POST","/v1/accounts:signInWithEmailLink",Rn(n,e))}),nP.apply(this,arguments)}function rP(){return rP=(0,R.Z)(function*(n,e){return Fc(n,"POST","/v1/accounts:signInWithEmailLink",Rn(n,e))}),rP.apply(this,arguments)}class n1 extends qV{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n1(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n1(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,R.Z)(function*(){switch(t.signInMethod){case"password":return kA(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rq);case"emailLink":return function Lq(n,e){return nP.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Es(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,R.Z)(function*(){switch(r.signInMethod){case"password":return function GV(n,e){return WR.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Uq(n,e){return rP.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Es(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Vc(n,e){return iP.apply(this,arguments)}function iP(){return iP=(0,R.Z)(function*(n,e){return Fc(n,"POST","/v1/accounts:signInWithIdp",Rn(n,e))}),iP.apply(this,arguments)}class s1{constructor(e){var t,r,i,u,l,f;const m=(0,_e.zd)((0,_e.pd)(e)),v=null!==(t=m.apiKey)&&void 0!==t?t:null,C=null!==(r=m.oobCode)&&void 0!==r?r:null,A=function Hq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=m.mode)&&void 0!==i?i:null);Be(v&&C&&A,"argument-error"),this.apiKey=v,this.operation=A,this.code=C,this.continueUrl=null!==(u=m.continueUrl)&&void 0!==u?u:null,this.languageCode=null!==(l=m.languageCode)&&void 0!==l?l:null,this.tenantId=null!==(f=m.tenantId)&&void 0!==f?f:null}static parseLink(e){const t=function Gq(n){const e=(0,_e.zd)((0,_e.pd)(n)).link,t=e?(0,_e.zd)((0,_e.pd)(e)).deep_link_id:null,r=(0,_e.zd)((0,_e.pd)(n)).deep_link_id;return(r?(0,_e.zd)((0,_e.pd)(r)).link:null)||r||t||e||n}(e);try{return new s1(t)}catch{return null}}}let zV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return n1._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=s1.parseLink(r);return Be(i,"argument-error"),n1._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Bd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zq extends Bd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function WV(n,e){return lP.apply(this,arguments)}function lP(){return lP=(0,R.Z)(function*(n,e){return Fc(n,"POST","/v1/accounts:signUp",Rn(n,e))}),lP.apply(this,arguments)}class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,R.Z)(function*(){const u=yield Ip._fromIdTokenResponse(e,r,i),l=KV(r);return new wo({user:u,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,R.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=KV(r);return new wo({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function KV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class UA extends _e.ZR{constructor(e,t,r,i){var u;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,UA.prototype),this.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new UA(e,t,r,i)}}function QV(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw"auth/multi-factor-auth-required"===u.code?UA._fromErrorAndOperation(n,u,e,r):u})}function pP(){return pP=(0,R.Z)(function*(n,e,t=!1){const r=yield Lc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return wo._forOperation(n,"link",r)}),pP.apply(this,arguments)}function mP(){return mP=(0,R.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const u=yield Lc(n,QV(r,i,e,n),t);Be(u.idToken,r,"internal-error");const l=RA(u.idToken);Be(l,r,"internal-error");const{sub:f}=l;return Be(n.uid===f,r,"user-mismatch"),wo._forOperation(n,i,u)}catch(u){throw"auth/user-not-found"===u?.code&&Es(r,"user-mismatch"),u}}),mP.apply(this,arguments)}function XV(n,e){return _P.apply(this,arguments)}function _P(){return _P=(0,R.Z)(function*(n,e,t=!1){const r="signIn",i=yield QV(n,r,e),u=yield wo._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(u.user)),u}),_P.apply(this,arguments)}function vP(){return vP=(0,R.Z)(function*(n,e){return XV(Er(n),e)}),vP.apply(this,arguments)}function DP(n){return SP.apply(this,arguments)}function SP(){return SP=(0,R.Z)(function*(n){const e=Er(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())}),SP.apply(this,arguments)}function OP(){return OP=(0,R.Z)(function*(n,e,t){const r=Er(n),l=yield kA(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WV).catch(m=>{throw"auth/password-does-not-meet-requirements"===m.code&&DP(n),m}),f=yield wo._fromIdTokenResponse(r,"signIn",l);return yield r._updateCurrentUser(f.user),f}),OP.apply(this,arguments)}const jA="__sak";class t9{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jA,"1"),this.storage.removeItem(jA),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vH=(()=>{class n extends t9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mH(){const n=(0,_e.z$)();return jR(n)||OA(n)}()&&function gq(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=FV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),u=this.localCache[r];i!==u&&t(r,u,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((f,m,v)=>{this.notifyListeners(f,v)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(t.newValue!==f)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const u=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},l=this.storage.getItem(i);!function pq(){return(0,_e.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?u():setTimeout(u,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,u=this;return(0,R.Z)(function*(){yield i().call(u,t,r),u.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,R.Z)(function*(){const u=yield r().call(i,t);return i.localCache[t]=JSON.stringify(u),u})()}_remove(t){var r=()=>super._remove,i=this;return(0,R.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),n9=(()=>{class n extends t9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let IH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,R.Z)(function*(){const i=t,{eventId:u,eventType:l,data:f}=i.data,m=r.handlersMap[l];if(!m?.size)return;i.ports[0].postMessage({status:"ack",eventId:u,eventType:l});const v=Array.from(m).map(function(){var A=(0,R.Z)(function*(M){return M(i.origin,f)});return function(M){return A.apply(this,arguments)}}()),C=yield function EH(n){return Promise.all(n.map(function(){var e=(0,R.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(v);i.ports[0].postMessage({status:"done",eventId:u,eventType:l,response:C})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function QP(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class wH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,R.Z)(function*(){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let l,f;return new Promise((m,v)=>{const C=QP("",20);u.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:u,onMessage(M){const O=M;if(O.data.eventId===C)switch(O.data.status){case"ack":clearTimeout(A),l=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(O.data.response);break;default:clearTimeout(A),clearTimeout(l),v(new Error("invalid_response"))}}},i.handlers.add(f),u.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:e,eventId:C,data:t},[u.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function Ir(){return window}function YP(){return typeof Ir().WorkerGlobalScope<"u"&&"function"==typeof Ir().importScripts}function JP(){return(JP=(0,R.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const r9="firebaseLocalStorageDb",ZA="firebaseLocalStorage",i9="fbase_key";class a1{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $A(n,e){return n.transaction([ZA],e?"readwrite":"readonly").objectStore(ZA)}function XP(){const n=indexedDB.open(r9,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ZA,{keyPath:i9})}catch(i){t(i)}}),n.addEventListener("success",(0,R.Z)(function*(){const r=n.result;r.objectStoreNames.contains(ZA)?e(r):(r.close(),yield function SH(){const n=indexedDB.deleteDatabase(r9);return new a1(n).toPromise()}(),e(yield XP()))}))})}function s9(n,e,t){return eO.apply(this,arguments)}function eO(){return eO=(0,R.Z)(function*(n,e,t){const r=$A(n,!0).put({[i9]:e,value:t});return new a1(r).toPromise()}),eO.apply(this,arguments)}function tO(){return tO=(0,R.Z)(function*(n,e){const t=$A(n,!1).get(e),r=yield new a1(t).toPromise();return void 0===r?null:r.value}),tO.apply(this,arguments)}function o9(n,e){const t=$A(n,!0).delete(e);return new a1(t).toPromise()}const RH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,R.Z)(function*(){return t.db||(t.db=yield XP()),t.db})()}_withRetries(t){var r=this;return(0,R.Z)(function*(){let i=0;for(;;)try{const u=yield r._openDb();return yield t(u)}catch(u){if(i++>3)throw u;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,R.Z)(function*(){return YP()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,R.Z)(function*(){t.receiver=IH._getInstance(function AH(){return YP()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,R.Z)(function*(i,u){return{keyProcessed:(yield t._poll()).includes(u.key)}});return function(i,u){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,R.Z)(function*(i,u){return["keyChanged"]});return function(i,u){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,R.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function CH(){return JP.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new wH(t.activeServiceWorker);const u=yield t.sender._send("ping",{},800);u&&null!==(r=u[0])&&void 0!==r&&r.fulfilled&&null!==(i=u[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,R.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function bH(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.Z)(function*(){try{if(!indexedDB)return!1;const t=yield XP();return yield s9(t,jA,"1"),yield o9(t,jA),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,R.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,R.Z)(function*(){return i._withPendingWrite((0,R.Z)(function*(){return yield i._withRetries(u=>s9(u,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,R.Z)(function*(){const i=yield r._withRetries(u=>function xH(n,e){return tO.apply(this,arguments)}(u,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,R.Z)(function*(){return r._withPendingWrite((0,R.Z)(function*(){return yield r._withRetries(i=>o9(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,R.Z)(function*(){const r=yield t._withRetries(l=>{const f=$A(l,!1).getAll();return new a1(f).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],u=new Set;for(const{fbase_key:l,value:f}of r)u.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(f)&&(t.notifyListeners(l,f),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!u.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,R.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();VV("rcb"),new YE(3e4,6e4);class lO extends qV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WH(n){return XV(n.auth,new lO(n),n.bypassAuthState)}function KH(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),function JV(n,e){return mP.apply(this,arguments)}(t,new lO(n),n.bypassAuthState)}function QH(n){return dO.apply(this,arguments)}function dO(){return dO=(0,R.Z)(function*(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),function fP(n,e){return pP.apply(this,arguments)}(t,new lO(n),n.bypassAuthState)}),dO.apply(this,arguments)}class YH{constructor(e,t,r,i,u=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,R.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(u){e.reject(u)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,R.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:u,tenantId:l,error:f,type:m}=e;if(f)return void t.reject(f);const v={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:u||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(m)(v))}catch(C){t.reject(C)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WH;case"linkViaPopup":case"linkViaRedirect":return QH;case"reauthViaPopup":case"reauthViaRedirect":return KH;default:Es(this.auth,"internal-error")}}resolve(e){Ud(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ud(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new YE(2e3,1e4);const JH="pendingRedirect",u1=new Map;class XH extends YH{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,R.Z)(function*(){let r=u1.get(t.auth._key());if(!r){try{const u=(yield function eG(n,e){return mO.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(u)}catch(i){r=()=>Promise.reject(i)}u1.set(t.auth._key(),r)}return t.bypassAuthState||u1.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,R.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,R.Z)(function*(){})()}cleanUp(){}}function mO(){return mO=(0,R.Z)(function*(n,e){const t=function c9(n){return PA(JH,n.config.apiKey,n.name)}(e),r=function u9(n){return Uc(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),mO.apply(this,arguments)}function tG(n,e){u1.set(n._key(),e)}function l9(n,e){return TO.apply(this,arguments)}function TO(){return TO=(0,R.Z)(function*(n,e,t=!1){const r=Er(n),i=function Tp(n,e){return e?Uc(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new XH(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l}),TO.apply(this,arguments)}class oG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function aG(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f9(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!f9(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(uu(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(h9(e))}saveEventToCache(e){this.cachedEventUids.add(h9(e)),this.lastProcessedEventTime=Date.now()}}function h9(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function f9({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function bO(){return bO=(0,R.Z)(function*(n,e={}){return Hn(n,"GET","/v1/projects",e)}),bO.apply(this,arguments)}const cG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lG=/^https?/;function AO(){return AO=(0,R.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function uG(n){return bO.apply(this,arguments)}(n);for(const t of e)try{if(hG(t))return}catch{}Es(n,"unauthorized-domain")}),AO.apply(this,arguments)}function hG(n){const e=QE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!lG.test(t))return!1;if(cG.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const fG=new YE(3e4,6e4);function p9(){const n=Ir().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let HA=null;const mG=new YE(5e3,15e3),_G="__/auth/iframe",yG="emulator/auth/iframe",vG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IG(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?AR(e,yG):`https://${n.config.authDomain}/${_G}`,r={apiKey:e.apiKey,appName:n.name,v:Jl},i=EG.get(n.config.apiHost);i&&(r.eid=i);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${(0,_e.xO)(r).slice(1)}`}function DO(){return DO=(0,R.Z)(function*(n){const e=yield function gG(n){return HA=HA||function pG(n){return new Promise((e,t)=>{var r,i,u;function l(){p9(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p9(),t(uu(n,"network-request-failed"))},timeout:fG.get()})}if(null!==(i=null===(r=Ir().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(u=Ir().gapi)||void 0===u||!u.load){const f=VV("iframefcb");return Ir()[f]=()=>{gapi.load?l():t(uu(n,"network-request-failed"))},$R(`https://apis.google.com/js/api.js?onload=${f}`).catch(m=>t(m))}l()}}).catch(e=>{throw HA=null,e})}(n),HA}(n),t=Ir().gapi;return Be(t,n,"internal-error"),e.open({where:document.body,url:IG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vG,dontclear:!0},r=>new Promise(function(){var i=(0,R.Z)(function*(u,l){yield r.restyle({setHideOnLeave:!1});const f=uu(n,"network-request-failed"),m=Ir().setTimeout(()=>{l(f)},mG.get());function v(){Ir().clearTimeout(m),u(r)}r.ping(v).then(v,()=>{l(f)})});return function(u,l){return i.apply(this,arguments)}}()))}),DO.apply(this,arguments)}const TG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class g9{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const MG="__/auth/handler",NG="emulator/auth/handler",RG=encodeURIComponent("fac");function m9(n,e,t,r,i,u){return SO.apply(this,arguments)}function SO(){return SO=(0,R.Z)(function*(n,e,t,r,i,u){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jl,eventId:i};if(e instanceof Bd){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,_e.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[C,A]of Object.entries(u||{}))l[C]=A}if(e instanceof zq){const C=e.getScopes().filter(A=>""!==A);C.length>0&&(l.scopes=C.join(","))}n.tenantId&&(l.tid=n.tenantId);const f=l;for(const C of Object.keys(f))void 0===f[C]&&delete f[C];const m=yield n._getAppCheckToken(),v=m?`#${RG}=${encodeURIComponent(m)}`:"";return`${function PG({config:n}){return n.emulator?AR(n,NG):`https://${n.authDomain}/${MG}`}(n)}?${(0,_e.xO)(f).slice(1)}${v}`}),SO.apply(this,arguments)}const xO="webStorageSupport",kG=class OG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n9,this._completeRedirectFn=l9,this._overrideRedirectResult=tG}_openPopup(e,t,r,i){var u=this;return(0,R.Z)(function*(){var l;Ud(null===(l=u.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const f=yield m9(e,t,r,QE(),i);return function SG(n,e,t,r=500,i=600){const u=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},TG),{width:r.toString(),height:i.toString(),top:u,left:l}),v=(0,_e.z$)().toLowerCase();t&&(f=NV(v)?"_blank":t),MV(v)&&(e=e||"http://localhost",m.scrollbars="yes");const C=Object.entries(m).reduce((M,[O,Z])=>`${M}${O}=${Z},`,"");if(function fq(n=(0,_e.z$)()){var e;return OA(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(v)&&"_self"!==f)return function xG(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",f),new g9(null);const A=window.open(e||"",f,C);Be(A,n,"popup-blocked");try{A.focus()}catch{}return new g9(A)}(e,f,QP())})()}_openRedirect(e,t,r,i){var u=this;return(0,R.Z)(function*(){return yield u._originValidation(e),function TH(n){Ir().location.href=n}(yield m9(e,t,r,QE(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:u}=this.eventManagers[t];return i?Promise.resolve(i):(Ud(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,R.Z)(function*(){const r=yield function wG(n){return DO.apply(this,arguments)}(e),i=new oG(e);return r.register("authEvent",u=>(Be(u?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xO,{type:xO},i=>{var u;const l=null===(u=i?.[0])||void 0===u?void 0:u[xO];void 0!==l&&t(!!l),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function dG(n){return AO.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FV()||jR()||OA()}};var v9="@firebase/auth";class FG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,R.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const BG=(0,_e.Pz)("authIdTokenMaxAge")||300;let I9=null;const jG=n=>function(){var e=(0,R.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>BG)return;const u=r?.token;I9!==u&&(I9=u,yield fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function NO(n=function qy(n=hm){const e=ja.get(n);if(!e&&n===hm&&(0,_e.aH)())return $y();if(!e)throw Ko.create("no-app",{appName:n});return e}()){const e=uf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Aq(n,e){const t=uf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),u=t.getOptions();if((0,_e.vZ)(u,e??{}))return i;Es(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:kG,persistence:[RH,vH,n9]}),r=(0,_e.Pz)("authTokenSyncURL");if(r){const u=jG(r);(function lH(n,e,t){(0,_e.m9)(n).beforeAuthStateChanged(e,t)})(t,u,()=>u(t.currentUser)),function cH(n,e,t,r){(0,_e.m9)(n).onIdTokenChanged(e,t,r)}(t,l=>u(l))}const i=(0,_e.q4)("auth");return i&&function Sq(n,e,t){const r=Er(n);Be(r._canInitEmulator,r,"emulator-config-failed"),Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,u=ZV(e),{host:l,port:f}=function xq(n){const e=ZV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const u=i[1];return{host:u,port:$V(r.substr(u.length+1))}}{const[u,l]=r.split(":");return{host:u,port:$V(l)}}}(e);r.config.emulator={url:`${u}//${l}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Mq(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function UG(n){Fi(new rr.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=r.options;Be(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:l,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LV(n)},v=new Eq(r,i,u,m);return function Dq(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Uc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fi(new rr.wA("auth-internal",e=>{const t=Er(e.getProvider("auth").getImmediate());return new FG(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(v9,"1.3.2",function LG(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),pi(v9,"1.3.2","esm2017")}("Browser");let i_=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r,this.userDataSubject=new er.X(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const u=JSON.parse(i);this.userDataSubject.next(u)}}registerUser(t,r,i){var u=this;return(0,R.Z)(function*(){try{const l=yield u.createUserWithEmailAndPassword(t,r),f=l.user.uid;yield u.addAdditionalAuthData(f,i),yield u.saveUserData(l.user,i),u.router.navigate(["home"])}catch(l){u.handleError(l)}})()}loginUser(t,r){var i=this;return(0,R.Z)(function*(){try{const u=yield i.signInWithEmailAndPassword(t,r),l=u.user.uid,f=yield i.getAdditionalAuthDataById(l);yield i.saveUserData(u.user,f),i.router.navigate(["home"])}catch(u){i.handleError(u)}})()}logoutUser(){var t=this;return(0,R.Z)(function*(){try{yield t.signOutAuth(),yield t.clearUserData(),t.router.navigate(["sign-in"])}catch(r){t.handleError(r)}})()}createUserWithEmailAndPassword(t,r){return function eH(n,e,t){return OP.apply(this,arguments)}(NO(),t,r)}signInWithEmailAndPassword(t,r){return function tH(n,e,t){return function yP(n,e){return vP.apply(this,arguments)}((0,_e.m9)(n),zV.credential(e,t)).catch(function(){var r=(0,R.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&DP(n),i});return function(i){return r.apply(this,arguments)}}())}(NO(),t,r)}signOutAuth(){return function dH(n){return(0,_e.m9)(n).signOut()}(NO())}addAdditionalAuthData(t,r){return L$(au(this.firestore,"Auth",t),r)}getAdditionalAuthDataById(t){var r=this;return(0,R.Z)(function*(){const i=au(r.firestore,"Auth",t),u=yield Ld(i);return u.exists()?u.data():null})()}saveUserData(t,r){return new Promise((i,u)=>{if(t&&r){const l={...t,...r};localStorage.setItem("user",JSON.stringify(l)),this.userDataSubject.next(l),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),u()})}clearUserData(){return new Promise((t,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),t()})}handleError(t){if(t instanceof Error){const i=t.message;console.error(`Error (${t.name}): ${i}`),alert(i)}else console.error("Unknown error:",t),alert(t)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Ii),o.LFG($n))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZG(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"a",7)(2,"div",8)(3,"div",9),o._UZ(4,"img",10),o.qZA(),o.TgZ(5,"p",11),o._uU(6),o.qZA()()(),o.BQk()),2&n){const t=o.oxw().$implicit,r=o.oxw();o.xp6(1),o.Q6J("routerLink",r.getRecipeLink(t)),o.xp6(3),o.s9C("alt",t.title),o.Q6J("src",t.image_recipe,o.LSH),o.xp6(2),o.Oqu(t.title)}}function $G(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,ZG,7,4,"ng-container",6),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.userData)}}let qG=(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.authService=i,this.recipes=[],this.category=null,this.firestore=(0,o.f3M)(Ii),this.authService.userData$.subscribe(u=>{this.userData=u})}getRecipeLink(t){return this.userData?.isCook?["/recipe",t.id]:["/recipe-waiters",t.id]}ngOnInit(){var t=this;this.route.params.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.id,f=ia(t.firestore,"Recipe"),m=au(t.firestore,"Category",u),v=yield Ld(m);v.exists()&&(t.category=v.data());const C=hV(f,fV("category","==",u));Ep(C).then(A=>{const M=[];A.forEach(O=>{const Z=O.data();M.push({title:Z.title,image_recipe:Z.image_recipe[0]?Z.image_recipe[0].image_recipe:null,order_index:Z.order_index,id:O.id})}),t.recipes=M.sort((O,Z)=>Number(O.order_index)-Number(Z.order_index))}).catch(A=>{console.error("Error retrieving recipes: ",A)})});return function(i){return r.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36($n),o.Y36(i_))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-category"]],decls:8,vars:3,consts:[[1,"mainLong"],[1,"category"],[1,"category-title"],[1,"category-subtitle"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.TgZ(4,"h4",3),o._uU(5),o.qZA(),o.TgZ(6,"div",4),o.YNc(7,$G,2,1,"div",5),o.qZA()()()),2&r&&(o.xp6(3),o.hij(" ",null==i.category?null:i.category.name," "),o.xp6(2),o.hij(" ",null==i.category?null:i.category.note," "),o.xp6(2),o.Q6J("ngForOf",i.recipes))},dependencies:[bi,dr,Ri],styles:[".category[_ngcontent-%COMP%]{width:1200px;margin:0 auto;position:relative}.category-title[_ngcontent-%COMP%]{text-align:center;font-family:var(--titleFont)}.category-subtitle[_ngcontent-%COMP%]{font-style:italic;text-align:center;font-weight:200;margin-bottom:20px}.recipe-list[_ngcontent-%COMP%]{position:relative;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{border:1px solid var(--mainWhiteColor);margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--backgroundColor);color:var(--mainBlackColor);font-weight:600;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:capitalize;top:70%;height:30%;font-family:var(--titleFont);display:flex;align-items:center;justify-content:center}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(.95);transition:1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:2%;height:30%;color:var(--mainBlackColor);background:var(--mainMagnoliaColor);transition:1s ease-in-out}@media (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return n})(),s_=(()=>{class n{constructor(t){this.firestore=t}getBaseRecipe(){const r=ia(this.firestore,"BaseRecipe");return new Kn.y(i=>{Ep(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}getBaseById(t){var r=this;return(0,R.Z)(function*(){const i=au(r.firestore,"BaseRecipe",t),u=yield Ld(i);return u.exists()?u.data():null})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Ii))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),w9=(()=>{class n{constructor(t){this.firestore=t}getCategories(){const r=ia(this.firestore,"Category");return new Kn.y(i=>{Ep(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Ii))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HG(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function GG(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,HG,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function zG(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function WG(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),o.qZA())}function KG(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,WG,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("category"))||null==r.errors?null:r.errors.required)}}function QG(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),o.qZA())}function YG(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,QG,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function JG(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0435\u0437\u043e\u043d! "),o.qZA())}function XG(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,JG,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("season"))||null==r.errors?null:r.errors.required)}}function ez(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function tz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,ez,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("unit"))||null==r.errors?null:r.errors.required)}}function nz(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function rz(n,e){1&n&&(o.TgZ(0,"p",7),o._uU(1," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438: "),o.qZA())}function iz(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",46)(1,"p",7),o._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(3,"input",47),o.TgZ(4,"button",31),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeImage(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function sz(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",46)(1,"p",7),o._uU(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),o.qZA(),o._UZ(3,"input",48),o.TgZ(4,"button",31),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeVideo(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function oz(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",46)(1,"p",7),o._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),o.qZA(),o._UZ(3,"input",49),o.TgZ(4,"button",31),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removePreparation(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function az(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function uz(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0447\u0438\u043d\u0438\u044f! "),o.qZA())}function cz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,uz,2,0,"div",43),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.recipeForm.get("food_plate"))||null==r.errors?null:r.errors.required)}}function lz(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function dz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,lz,2,0,"div",43),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function hz(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function fz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,hz,2,0,"div",43),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function pz(n,e){1&n&&(o.TgZ(0,"div",44),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function gz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,pz,2,0,"div",43),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function mz(n,e){if(1&n&&(o.TgZ(0,"option",45),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.title," ")}}function _z(n,e){if(1&n&&(o.TgZ(0,"div",46)(1,"div",50),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o.TgZ(6,"label",51),o._uU(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(8,"input",52),o.YNc(9,dz,2,1,"div",5),o.TgZ(10,"label",53),o._uU(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(12,"input",54),o.YNc(13,fz,2,1,"div",5),o.TgZ(14,"label",24),o._uU(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(16,"p",7),o._uU(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),o.qZA(),o.TgZ(18,"select",55)(19,"option",26),o._uU(20,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(21,"option",27),o._uU(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(23,"option",28),o._uU(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(25,"option",29),o._uU(26,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(27,gz,2,1,"div",5),o.TgZ(28,"label",56),o._uU(29,"\u0411\u0440\u043e\u0439\u043a\u0430: "),o.qZA(),o.TgZ(30,"p",7),o._uU(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),o.qZA(),o._UZ(32,"input",57),o.TgZ(33,"label",58),o._uU(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.qZA(),o.TgZ(35,"p",7),o._uU(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),o._UZ(37,"br"),o._uU(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),o.qZA(),o._UZ(39,"input",59),o.TgZ(40,"label",60),o._uU(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),o.qZA(),o.TgZ(42,"p",7),o._uU(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),o.qZA(),o.TgZ(44,"select",61),o.YNc(45,mz,2,2,"option",9),o.qZA(),o.TgZ(46,"label",40),o._uU(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),o.qZA(),o.TgZ(48,"p",7),o._uU(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),o.qZA(),o._UZ(50,"input",62),o.qZA()),2&n){const t=e.index,r=o.oxw();let i,u,l;o.Q6J("formGroupName",t),o.xp6(9),o.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".name"))?null:i.touched),o.xp6(4),o.Q6J("ngIf",null==(u=r.recipeForm.get("ingredients."+t+".amount"))?null:u.touched),o.xp6(14),o.Q6J("ngIf",null==(l=r.recipeForm.get("ingredients."+t+".unit"))?null:l.touched),o.xp6(18),o.Q6J("ngForOf",r.baseRecipes)}}let yz=(()=>{class n{constructor(t,r,i,u){this.fb=r,this.baseRecipeService=i,this.categoriesService=u,this.allergens=[],this.plates=[],this.baseRecipes=[],this.categories=[],this.currentOrderIndex=1,this.firestore=t,this.recipeForm=this.fb.group({title:["",[ct.required]],category:this.fb.control([null,[ct.required]]),description:["",[ct.required]],season:["",[ct.required]],unit:["",[ct.required]],summary:[""],release_time:[0],serving_value:[0],order_index:[0],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",food_plate:this.fb.control([null,[ct.required]]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[ct.required]],amount:[null,[ct.required]],base:this.fb.control(null),unit:["",[ct.required]],order_index:[0],preparation_method:[""],quantity:[0]})])}),this.getAllergens().subscribe(l=>{this.allergens=l}),this.getPlates().subscribe(l=>{this.plates=l})}ngOnInit(){this.getBaseRecipe(),this.getCategory()}addImage(){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(t){this.recipeForm.get("image_recipe").removeAt(t)}addImageToForm(t){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.recipeForm.get("video_recipe").removeAt(t)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.recipeForm.get("preparation_method").removeAt(t)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[ct.required]],amount:[null,[ct.required]],base:this.fb.control(null),unit:["",[ct.required]],order_index:this.currentOrderIndex,preparation_method:[""],quantity:[0]})),this.currentOrderIndex++}addReferenceToSelectedAllergen(t){const r=t.target.value;this.recipeForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const t=this.recipeForm.get("selectedAllergen")?.value;this.recipeForm.get("allergens").push(this.fb.control(t));const i=this.recipeForm.get("selectedAllergenNames"),u=this.allergens.find(l=>l.id===t);u&&i?.setValue(i.value?i.value+", "+u.name:u.name)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.valid&&(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}getCategory(){this.categoriesService.getCategories().subscribe({next:t=>{this.categories=t},error:t=>{console.error("Error fetching recipes:",t)}})}getAllergens(){const r=ia(this.firestore,"Allergens");return new Kn.y(i=>{Ep(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}getPlates(){const r=ia(this.firestore,"Plates");return new Kn.y(i=>{Ep(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addRecipe(t){SA(ia(this.firestore,"Recipe"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Ii),o.Y36(Ba),o.Y36(s_),o.Y36(w9))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-recipe-form"]],decls:113,vars:16,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","category"],[1,"hint"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["formControlName","selectedAllergen"],["type","button",3,"click"],["class","hint",4,"ngIf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["id","ingredient_unit","formControlName","unit"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["type","text","id","ingredient_preparation_method","formControlName","preparation_method"],["for","base"],["id","base","formControlName","base"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(4,"form",3)(5,"label"),o._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o._UZ(7,"input",4),o.qZA(),o.YNc(8,GG,2,1,"div",5),o.TgZ(9,"label",6),o._uU(10,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(11,"p",7),o._uU(12,"\u041a\u044a\u043c \u043a\u043e\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043f\u0440\u0435\u043d\u0430\u0434\u043b\u0435\u0436\u0438 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),o.qZA(),o.TgZ(13,"select",8),o.YNc(14,zG,2,2,"option",9),o.qZA(),o.YNc(15,KG,2,1,"div",5),o.TgZ(16,"div")(17,"label",10),o._uU(18,"\u0420\u0435\u0437\u044e\u043c\u0435:"),o.qZA(),o.TgZ(19,"p",7),o._uU(20,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(21,"input",11),o.qZA(),o.TgZ(22,"div")(23,"label",12),o._uU(24,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(25,"textarea",13),o.qZA(),o.YNc(26,YG,2,1,"div",5),o.TgZ(27,"div")(28,"label",14),o._uU(29,"\u0421\u0435\u0437\u043e\u043d (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(30,"p",7),o._uU(31,"\u0412 \u043a\u043e\u0439 \u0441\u0435\u0437\u043e\u043d \u0449\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),o.qZA(),o.TgZ(32,"select",15)(33,"option",16),o._uU(34,"\u041f\u0440\u043e\u043b\u0435\u0442"),o.qZA(),o.TgZ(35,"option",17),o._uU(36,"\u041b\u044f\u0442\u043e"),o.qZA(),o.TgZ(37,"option",18),o._uU(38,"\u0415\u0441\u0435\u043d"),o.qZA(),o.TgZ(39,"option",19),o._uU(40,"\u0417\u0438\u043c\u0430"),o.qZA()()(),o.YNc(41,XG,2,1,"div",5),o.TgZ(42,"div")(43,"label",20),o._uU(44,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435: "),o.qZA(),o.TgZ(45,"p",7),o._uU(46,"\u0417\u0430 \u043a\u043e\u043b\u043a\u043e \u0432\u0440\u0435\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),o.qZA(),o._UZ(47,"input",21),o.qZA(),o.TgZ(48,"div")(49,"label",22),o._uU(50,"\u0413\u043e\u0442\u043e\u0432\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: "),o.qZA(),o.TgZ(51,"p",7),o._uU(52,"\u041a\u043e\u043b\u043a\u043e \u0442\u0435\u0436\u0438 \u0433\u043e\u0442\u043e\u0432\u043e\u0442\u043e \u044f\u0441\u0442\u0438\u0435?"),o.qZA(),o._UZ(53,"input",23),o.qZA(),o._UZ(54,"br"),o.TgZ(55,"label",24),o._uU(56,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(57,"p",7),o._uU(58,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),o.qZA(),o.TgZ(59,"select",25)(60,"option",26),o._uU(61,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(62,"option",27),o._uU(63,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(64,"option",28),o._uU(65,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(66,"option",29),o._uU(67,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(68,tz,2,1,"div",5),o.TgZ(69,"div")(70,"label"),o._uU(71,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),o.qZA(),o.TgZ(72,"p",7),o._uU(73,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0430\u043b\u0435\u0440\u0433\u0435\u043d\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0441\u0430\u0434\u044a\u0440\u0436\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(74,"select",30),o.YNc(75,nz,2,2,"option",9),o.qZA(),o.TgZ(76,"button",31),o.NdJ("click",function(){return i.addSelectedAllergen()}),o._uU(77," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u0430\u043b\u0435\u0440\u0433\u0435\u043d "),o.qZA()(),o.TgZ(78,"div"),o.YNc(79,rz,2,0,"p",32),o.TgZ(80,"div"),o._uU(81),o.qZA(),o.TgZ(82,"app-image-upload",33),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.TgZ(83,"div",34),o.YNc(84,iz,6,1,"div",35),o.qZA(),o.TgZ(85,"div",36),o.YNc(86,sz,6,1,"div",35),o.TgZ(87,"button",31),o.NdJ("click",function(){return i.addVideo()}),o._uU(88," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),o.qZA()(),o.TgZ(89,"div",37),o.YNc(90,oz,6,1,"div",35),o.TgZ(91,"button",31),o.NdJ("click",function(){return i.addPreparation()}),o._uU(92," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),o.qZA()(),o.TgZ(93,"label",38),o._uU(94,"\u0427\u0438\u043d\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(95,"p",7),o._uU(96,"\u0412 \u043a\u043e\u044f \u0447\u0438\u043d\u0438\u044f \u0449\u0435 \u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0440\u0430 \u044f\u0441\u0442\u0438\u0435\u0442\u043e?"),o.qZA(),o.TgZ(97,"select",39),o.YNc(98,az,2,2,"option",9),o.qZA(),o.YNc(99,cz,2,1,"div",5),o.TgZ(100,"div")(101,"label",40),o._uU(102,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),o.qZA(),o.TgZ(103,"p",7),o._uU(104,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u0438\u0442\u0435 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),o.qZA(),o._UZ(105,"input",41),o.qZA()(),o.TgZ(106,"div",42),o.YNc(107,_z,51,5,"div",35),o.qZA(),o._UZ(108,"br"),o.TgZ(109,"button",31),o.NdJ("click",function(){return i.addIngredient()}),o._uU(110," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),o.qZA(),o.TgZ(111,"button",31),o.NdJ("click",function(){return i.onSubmit()}),o._uU(112,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA()()()()),2&r){let u,l,f,m,v,C,A,M;o.xp6(4),o.Q6J("formGroup",i.recipeForm),o.xp6(4),o.Q6J("ngIf",null==(u=i.recipeForm.get("title"))?null:u.touched),o.xp6(6),o.Q6J("ngForOf",i.categories),o.xp6(1),o.Q6J("ngIf",null==(l=i.recipeForm.get("category"))?null:l.touched),o.xp6(11),o.Q6J("ngIf",null==(f=i.recipeForm.get("description"))?null:f.touched),o.xp6(15),o.Q6J("ngIf",null==(m=i.recipeForm.get("season"))?null:m.touched),o.xp6(27),o.Q6J("ngIf",null==(v=i.recipeForm.get("unit"))?null:v.touched),o.xp6(7),o.Q6J("ngForOf",i.allergens),o.xp6(4),o.Q6J("ngIf",null==(C=i.recipeForm.get("selectedAllergen"))?null:C.touched),o.xp6(2),o.Oqu(null==(A=i.recipeForm.get("selectedAllergenNames"))?null:A.value),o.xp6(3),o.Q6J("ngForOf",i.image_recipe.controls),o.xp6(2),o.Q6J("ngForOf",i.video_recipe.controls),o.xp6(4),o.Q6J("ngForOf",i.preparation_method.controls),o.xp6(8),o.Q6J("ngForOf",i.plates),o.xp6(1),o.Q6J("ngIf",null==(M=i.recipeForm.get("food_plate"))?null:M.touched),o.xp6(8),o.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[bi,dr,co,ho,Go,hi,Ho,Va,Oa,uo,Ls,lo,ef,uc,TR]})}return n})(),T9=(()=>{class n{constructor(t){this.firestore=t}getRecipeById(t){var r=this;return(0,R.Z)(function*(){const i=au(r.firestore,"Recipe",t),u=yield Ld(i);return u.exists()?u.data():null})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Ii))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RO=(()=>{class n{constructor(t){this.firestore=t,this.commentAddedSubject=new ls.x}getCommentsForRecipe(t){var r=this;return(0,R.Z)(function*(){try{const i=ia(r.firestore,"Comments"),u=hV(i,fV("recipeId","==",t)),l=yield Ep(u),f=[];return l.forEach(m=>{const v=m.data();f.push({create_time:v.create_time,name:v.name,recipeId:v.recipeId,text:v.text})}),f.sort((m,v)=>{const C=m.create_time.toDate();return v.create_time.toDate()-C}),f}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(t){var r=this;return(0,R.Z)(function*(){try{t.name||(t.name="\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d");const i="Comments",u=yield SA(ia(r.firestore,i),t);return r.commentAddedSubject.next(),u.id}catch(i){return console.error("Error adding comment:",i),null}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Ii))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vz(n,e){1&n&&(o.TgZ(0,"div",12),o._uU(1," \u041c\u043e\u043b\u044f \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440! "),o.qZA())}function Ez(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,vz,2,0,"div",11),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let C9=(()=>{class n{constructor(t,r,i){this.fb=t,this.commentService=i,this.timestamp=new Date,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",ct.required],recipeId:[this.recipeId],create_time:[this.timestamp]})}onSubmit(){var t=this;return(0,R.Z)(function*(){if(t.timestamp=new Date,t.commentForm.valid){t.commentForm.patchValue({recipeId:t.recipeId}),t.commentForm.patchValue({create_time:t.timestamp});try{(yield t.commentService.addComment(t.commentForm.value))?(alert("\u0412\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"),t.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Ba),o.Y36(Ii),o.Y36(RO))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:20,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","name"],[1,"hint"],["type","text","id","name","formControlName","name",1,"form-control"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(2,"div",2),o._UZ(3,"hr"),o.TgZ(4,"p"),o._uU(5,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0439\u0442\u0435\xa0\xa0"),o.qZA(),o._UZ(6,"hr"),o.qZA(),o.TgZ(7,"div",3)(8,"label",4),o._uU(9,"\u0418\u043c\u0435:"),o.qZA(),o.TgZ(10,"p",5),o._uU(11,'\u0410\u043a\u043e \u043d\u0435 \u043f\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u0435 \u0449\u0435 \u0441\u0442\u0435 "\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d"'),o.qZA(),o._UZ(12,"input",6),o.qZA(),o.TgZ(13,"div",3)(14,"label",7),o._uU(15,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(16,"textarea",8),o.qZA(),o.YNc(17,Ez,2,1,"div",9),o.TgZ(18,"button",10),o._uU(19,"\u041f\u0443\u0431\u043b\u0438\u043a\u0443\u0432\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"),o.qZA()()()),2&r){let u;o.xp6(1),o.Q6J("formGroup",i.commentForm),o.xp6(16),o.Q6J("ngIf",null==(u=i.commentForm.get("text"))?null:u.touched)}},dependencies:[dr,co,hi,Oa,uo,Ls,lo],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return n})(),b9=(()=>{class n{constructor(t){this.sanitizer=t}transform(t){let r;if(t.startsWith("https://m."))r=new URLSearchParams(t.split("?")[1]).get("v")||"";else{const u=t.split("/");r=u[u.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Nu,16))};static#t=this.\u0275pipe=o.Yjl({name:"safeUrl",type:n,pure:!0})}return n})();function Iz(n,e){if(1&n&&(o.TgZ(0,"div",22),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij(" ",null==t.recipe?null:t.recipe.summary," ")}}function wz(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"img",25),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",t.image_recipe,o.LSH)}}function Tz(n,e){if(1&n&&(o.TgZ(0,"ul",23),o.YNc(1,wz,2,1,"li",24),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==t.recipe?null:t.recipe.image_recipe)}}function Cz(n,e){if(1&n&&(o.TgZ(0,"span",11),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij("\xa0",null==t.recipe?null:t.recipe.unit,"")}}function bz(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.YNc(7,Cz,2,1,"span",26),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.serving_value," "),o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.unit)}}function Az(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function Dz(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.recipe?null:t.recipe.selectedAllergenNames)}}function Sz(n,e){1&n&&(o.TgZ(0,"div",13),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function xz(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const Mz=function(n){return["/base",n]};function Nz(n,e){if(1&n&&(o.TgZ(0,"span",11)(1,"a",5),o._uU(2," \xa0\xa0"),o._UZ(3,"i",29),o._uU(4," \xa0\xa0"),o._UZ(5,"i",30),o._uU(6," \xa0\xa0"),o._UZ(7,"i",31),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,Mz,t.base))}}function Rz(n,e){if(1&n&&(o.TgZ(0,"span",10)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function Pz(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,xz,2,1,"span",12),o.YNc(3,Nz,8,3,"span",26),o._UZ(4,"br"),o.YNc(5,Rz,3,1,"span",28),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.lnq(" ",t.name," - ",t.amount," ",t.unit," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(2),o.Q6J("ngIf",t.preparation_method)}}function Oz(n,e){if(1&n&&(o.TgZ(0,"ul",27),o.YNc(1,Pz,6,6,"li",12),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.ingredients)}}function kz(n,e){1&n&&(o.TgZ(0,"div",13),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function Fz(n,e){if(1&n&&(o.TgZ(0,"ul",32)(1,"li"),o._uU(2),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.preparation_method)}}function Lz(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"iframe",34),o.ALo(2,"safeUrl"),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",o.lcZ(2,1,t.video_recipe),o.uOi)}}function Uz(n,e){if(1&n&&(o.TgZ(0,"div",33)(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"ul"),o.YNc(8,Lz,3,3,"li",24),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Q6J("ngForOf",null==t.recipe?null:t.recipe.video_recipe)}}function Vz(n,e){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-comment-form",35),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("recipeId",t.recipeId)}}function Bz(n,e){1&n&&(o.TgZ(0,"div",13),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function jz(n,e){if(1&n&&(o.TgZ(0,"ul")(1,"li"),o._uU(2),o.qZA(),o.TgZ(3,"li"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"date"),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.name),o.xp6(2),o.Oqu(t.text),o.xp6(2),o.hij(" ",o.xi3(7,3,t.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function Zz(n,e){if(1&n&&(o.TgZ(0,"section",36),o.YNc(1,jz,8,6,"ul",24),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.comments)}}const $z=function(n){return["/category",n]};let qz=(()=>{class n{constructor(t,r,i,u){var l=this;this.route=t,this.recipeService=r,this.firestore=i,this.commentService=u,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var f=(0,R.Z)(function*(m){const v=m.get("id");if(l.recipeId=v,v)try{l.recipe=yield l.recipeService.getRecipeById(v),l.comments=yield u.getCommentsForRecipe(v),l.recipe?yield l.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(C){console.error("An error occurred while retrieving the recipe:",C)}else console.error("Recipe ID not provided.")});return function(m){return f.apply(this,arguments)}}()),u.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var t=this;return(0,R.Z)(function*(){t.recipeId&&(t.comments=yield t.commentService.getCommentsForRecipe(t.recipeId))})()}loadCategoryAndPlateData(){var t=this;return(0,R.Z)(function*(){const r=t.recipe?.food_plate,i=t.recipe?.category;if(r){const u=au(t.firestore,"Plates/"+r),l=yield Ld(u);l.exists()&&(t.plate=l.data())}if(i){const u=au(t.firestore,"Category/"+i),l=yield Ld(u);l.exists()&&(t.category=l.data())}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36(T9),o.Y36(Ii),o.Y36(RO))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-recipe"]],decls:53,vars:21,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],[4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],["class","recipe-videos",4,"ngIf"],[3,"click"],["href","javascript:history.back()",1,"btn"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"recipeId"],[1,"comments"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,Iz,2,1,"div",3),o.TgZ(5,"div",4)(6,"a",5),o._UZ(7,"i",6),o._uU(8),o.qZA()(),o.TgZ(9,"div",7),o.YNc(10,Tz,2,1,"ul",8),o.TgZ(11,"table",9)(12,"tr")(13,"td")(14,"span",10),o._uU(15,"\u0421\u0435\u0437\u043e\u043d"),o.qZA()(),o.TgZ(16,"td")(17,"span",11),o._uU(18),o.qZA()()(),o.YNc(19,bz,8,2,"tr",12),o.YNc(20,Az,7,1,"tr",12),o.TgZ(21,"tr")(22,"td")(23,"span",10),o._uU(24,"\u0427\u0438\u043d\u0438\u044f"),o.qZA()(),o.TgZ(25,"td")(26,"span",11),o._uU(27),o.qZA()()(),o.YNc(28,Dz,7,1,"tr",12),o.qZA(),o.TgZ(29,"div",13),o._UZ(30,"hr"),o.TgZ(31,"p"),o._uU(32,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),o.qZA(),o._UZ(33,"hr"),o.qZA(),o._UZ(34,"br"),o.TgZ(35,"p",14),o._uU(36),o.qZA(),o._UZ(37,"br"),o.YNc(38,Sz,5,0,"div",15),o._UZ(39,"br"),o.YNc(40,Oz,2,1,"ul",16),o.YNc(41,kz,5,0,"div",15),o._UZ(42,"br"),o.YNc(43,Fz,3,1,"ul",17),o.YNc(44,Uz,9,1,"div",18),o.TgZ(45,"button",19),o.NdJ("click",function(){return i.toggleCommentForm()}),o._uU(46,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),o.qZA(),o.TgZ(47,"a",20),o._UZ(48,"i",6),o._uU(49,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA(),o.YNc(50,Vz,2,1,"div",12),o.YNc(51,Bz,5,0,"div",15),o.YNc(52,Zz,2,1,"section",21),o.qZA()()()),2&r&&(o.xp6(3),o.Oqu(null==i.recipe?null:i.recipe.title),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.summary),o.xp6(2),o.Q6J("routerLink",o.VKq(19,$z,null==i.recipe?null:i.recipe.category)),o.xp6(2),o.hij(" ",null==i.category?null:i.category.name," "),o.xp6(2),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),o.xp6(8),o.Oqu(null==i.recipe?null:i.recipe.season),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.serving_value),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.release_time),o.xp6(7),o.Oqu(null==i.plate?null:i.plate.name),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.selectedAllergenNames),o.xp6(8),o.hij(" ",null==i.recipe?null:i.recipe.description," "),o.xp6(2),o.Q6J("ngIf",null==i.recipe?null:i.recipe.ingredients),o.xp6(2),o.Q6J("ngForOf",null==i.recipe?null:i.recipe.ingredients),o.xp6(1),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),o.xp6(2),o.Q6J("ngForOf",null==i.recipe?null:i.recipe.preparation_method),o.xp6(1),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.video_recipe)&&(null==i.recipe||null==i.recipe.video_recipe?null:i.recipe.video_recipe.length)>0),o.xp6(6),o.Q6J("ngIf",i.showCommentForm),o.xp6(1),o.Q6J("ngIf",i.comments.length>0),o.xp6(1),o.Q6J("ngIf",i.comments.length>0))},dependencies:[bi,dr,Ri,C9,Kc,b9],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}"]})}return n})(),Hz=(()=>{class n{constructor(t){this.firestore=t}getAllergens(){const r=ia(this.firestore,"Allergens");return new Kn.y(i=>{Ep(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(Ii))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gz(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),o.qZA())}function zz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Gz,2,0,"div",33),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("title"))||null==r.errors?null:r.errors.required)}}function Wz(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),o.qZA())}function Kz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Wz,2,0,"div",33),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("base_type"))||null==r.errors?null:r.errors.required)}}function Qz(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),o.qZA())}function Yz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Qz,2,0,"div",33),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("description"))||null==r.errors?null:r.errors.required)}}function Jz(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),o.qZA())}function Xz(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Jz,2,0,"div",33),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("base_yield"))||null==r.errors?null:r.errors.required)}}function eW(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function tW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,eW,2,0,"div",33),o.qZA()),2&n){const t=o.oxw();let r;o.xp6(1),o.Q6J("ngIf",null==(r=t.baseForm.get("unit"))||null==r.errors?null:r.errors.required)}}function nW(n,e){if(1&n&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function rW(n,e){1&n&&(o.TgZ(0,"p",7),o._uU(1," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438: "),o.qZA())}function iW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",36)(1,"p",7),o._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(3,"input",37),o.TgZ(4,"button",25),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeImage(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function sW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",36)(1,"p",7),o._uU(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),o.qZA(),o._UZ(3,"input",38),o.TgZ(4,"button",25),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeVideo(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function oW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",36)(1,"p",7),o._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),o.qZA(),o._UZ(3,"input",39),o.TgZ(4,"button",25),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removePreparation(u))}),o._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),o.qZA()()}2&n&&o.Q6J("formGroupName",e.index)}function aW(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function uW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,aW,2,0,"div",33),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function cW(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),o.qZA())}function lW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,cW,2,0,"div",33),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function dW(n,e){1&n&&(o.TgZ(0,"div",34),o._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),o.qZA())}function hW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,dW,2,0,"div",33),o.qZA()),2&n){const t=o.oxw().index,r=o.oxw();let i;o.xp6(1),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function fW(n,e){if(1&n&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.title," ")}}function pW(n,e){if(1&n&&(o.TgZ(0,"div",36)(1,"div",40),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o.TgZ(6,"label",41),o._uU(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(8,"input",42),o.YNc(9,uW,2,1,"div",5),o.TgZ(10,"label",43),o._uU(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(12,"input",44),o.YNc(13,lW,2,1,"div",5),o.TgZ(14,"label",15),o._uU(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(16,"p",7),o._uU(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),o.qZA(),o.TgZ(18,"select",45)(19,"option",17),o._uU(20,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(21,"option",18),o._uU(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(23,"option",19),o._uU(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(25,"option",20),o._uU(26,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(27,hW,2,1,"div",5),o.TgZ(28,"label",46),o._uU(29,"\u0411\u0440\u043e\u0439\u043a\u0430:"),o.qZA(),o.TgZ(30,"p",7),o._uU(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),o.qZA(),o._UZ(32,"input",47),o.TgZ(33,"label",48),o._uU(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.qZA(),o.TgZ(35,"p",7),o._uU(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),o._UZ(37,"br"),o._uU(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),o.qZA(),o._UZ(39,"input",49),o.TgZ(40,"label",50),o._uU(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),o.qZA(),o.TgZ(42,"p",7),o._uU(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),o.qZA(),o.TgZ(44,"select",51),o.YNc(45,fW,2,2,"option",24),o.qZA(),o.TgZ(46,"label",52),o._uU(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),o.qZA(),o.TgZ(48,"p",7),o._uU(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),o.qZA(),o._UZ(50,"input",53),o.qZA()),2&n){const t=e.index,r=o.oxw();let i,u,l;o.Q6J("formGroupName",t),o.xp6(9),o.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".name"))?null:i.touched),o.xp6(4),o.Q6J("ngIf",null==(u=r.baseForm.get("ingredients."+t+".amount"))?null:u.touched),o.xp6(14),o.Q6J("ngIf",null==(l=r.baseForm.get("ingredients."+t+".unit"))?null:l.touched),o.xp6(18),o.Q6J("ngForOf",r.baseRecipes)}}let gW=(()=>{class n{constructor(t,r,i,u){this.fb=r,this.baseRecipeService=i,this.allergenService=u,this.allergens=[],this.baseRecipes=[],this.currentOrderIndex=1,this.firestore=t,this.baseForm=this.fb.group({title:["",[ct.required]],base_type:["",[ct.required]],summary:[""],description:["",[ct.required]],base_yield:["",[ct.required]],unit:["",[ct.required]],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",base_recipe_portions:[0],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[ct.required]],amount:[null,[ct.required]],base:this.fb.control(null),unit:["",[ct.required]],order_index:[0],preparation_method:"",quantity:[0]})])})}ngOnInit(){this.getBaseRecipe(),this.getAllergens()}addImage(){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(t){this.baseForm.get("image_recipe").removeAt(t)}addImageToForm(t){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}addVideo(){this.baseForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.baseForm.get("video_recipe").removeAt(t)}addPreparation(){this.baseForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.baseForm.get("preparation_method").removeAt(t)}addIngredient(){this.baseForm.get("ingredients").push(this.fb.group({name:["",[ct.required]],amount:[null,[ct.required]],base:this.fb.control(null),order_index:this.currentOrderIndex,preparation_method:"",quantity:[0],unit:["",[ct.required]]})),this.currentOrderIndex++}addReferenceToSelectedAllergen(t){const r=t.target.value;this.baseForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const t=this.baseForm.get("selectedAllergen")?.value;this.baseForm.get("allergens").push(this.fb.control(t));const i=this.baseForm.get("selectedAllergenNames"),u=this.allergens.find(l=>l.id===t);u&&i?.setValue(i.value?i.value+", "+u.name:u.name)}get ingredients(){return this.baseForm.get("ingredients")}get image_recipe(){return this.baseForm.get("image_recipe")}get video_recipe(){return this.baseForm.get("video_recipe")}get preparation_method(){return this.baseForm.get("preparation_method")}onSubmit(){this.baseForm.valid&&(this.addBaseRecipe(this.baseForm.value),this.baseForm.reset())}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addBaseRecipe(t){SA(ia(this.firestore,"BaseRecipe"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(Ii),o.Y36(Ba),o.Y36(s_),o.Y36(Hz))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-form"]],decls:86,vars:13,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","base_recipe_portions"],["type","number","id","base_recipe_portions","formControlName","base_recipe_portions"],["formControlName","selectedAllergen"],[3,"value",4,"ngFor","ngForOf"],["type","button",3,"click"],["class","hint",4,"ngIf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["formArrayName","ingredients",1,"ingredients"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["id","ingredient_unit","formControlName","unit"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["type","text","id","ingredient_preparation_method","formControlName","preparation_method"],["for","base"],["id","base","formControlName","base"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(4,"form",3)(5,"label"),o._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o._UZ(7,"input",4),o.qZA(),o.YNc(8,zz,2,1,"div",5),o.TgZ(9,"div")(10,"label",6),o._uU(11,"\u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(12,"p",7),o._uU(13,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),o.qZA(),o._UZ(14,"input",8),o.qZA(),o.YNc(15,Kz,2,1,"div",5),o.TgZ(16,"div")(17,"label",9),o._uU(18,"\u0420\u0435\u0437\u044e\u043c\u0435:"),o.qZA(),o.TgZ(19,"p",7),o._uU(20,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(21,"input",10),o.qZA(),o.TgZ(22,"div")(23,"label",11),o._uU(24,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(25,"textarea",12),o.qZA(),o.YNc(26,Yz,2,1,"div",5),o.TgZ(27,"div")(28,"label",13),o._uU(29,"\u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(30,"p",7),o._uU(31,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f"),o.qZA(),o._UZ(32,"input",14),o.qZA(),o.YNc(33,Xz,2,1,"div",5),o.TgZ(34,"label",15),o._uU(35,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(36,"p",7),o._uU(37,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),o.qZA(),o.TgZ(38,"select",16)(39,"option",17),o._uU(40,"\u0413\u0440\u0430\u043c"),o.qZA(),o.TgZ(41,"option",18),o._uU(42,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),o.qZA(),o.TgZ(43,"option",19),o._uU(44,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),o.qZA(),o.TgZ(45,"option",20),o._uU(46,"\u041b\u0438\u0442\u044a\u0440"),o.qZA()(),o.YNc(47,tW,2,1,"div",5),o.TgZ(48,"div")(49,"label",21),o._uU(50,"\u041f\u043e\u0440\u0446\u0438\u0439: "),o.qZA(),o.TgZ(51,"p",7),o._uU(52,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(53,"input",22),o.qZA(),o.TgZ(54,"div")(55,"div")(56,"label"),o._uU(57,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),o.qZA(),o.TgZ(58,"p",7),o._uU(59," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0430\u043b\u0435\u0440\u0433\u0435\u043d\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0441\u0430\u0434\u044a\u0440\u0436\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 "),o.qZA(),o.TgZ(60,"select",23),o.YNc(61,nW,2,2,"option",24),o.qZA(),o.TgZ(62,"button",25),o.NdJ("click",function(){return i.addSelectedAllergen()}),o._uU(63," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u0430\u043b\u0435\u0440\u0433\u0435\u043d "),o.qZA()(),o.TgZ(64,"div"),o.YNc(65,rW,2,0,"p",26),o.TgZ(66,"div"),o._uU(67),o.qZA()(),o.TgZ(68,"app-image-upload",27),o.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),o.qZA(),o.TgZ(69,"div",28),o.YNc(70,iW,6,1,"div",29),o.qZA(),o.TgZ(71,"div",30),o.YNc(72,sW,6,1,"div",29),o.TgZ(73,"button",25),o.NdJ("click",function(){return i.addVideo()}),o._uU(74," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),o.qZA()(),o.TgZ(75,"div",31),o.YNc(76,oW,6,1,"div",29),o.TgZ(77,"button",25),o.NdJ("click",function(){return i.addPreparation()}),o._uU(78," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),o.qZA()()(),o.TgZ(79,"div",32),o.YNc(80,pW,51,5,"div",29),o.qZA(),o._UZ(81,"br"),o.TgZ(82,"button",25),o.NdJ("click",function(){return i.addIngredient()}),o._uU(83," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),o.qZA(),o.TgZ(84,"button",25),o.NdJ("click",function(){return i.onSubmit()}),o._uU(85," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 "),o.qZA()()()()),2&r){let u,l,f,m,v,C,A;o.xp6(4),o.Q6J("formGroup",i.baseForm),o.xp6(4),o.Q6J("ngIf",null==(u=i.baseForm.get("title"))?null:u.touched),o.xp6(7),o.Q6J("ngIf",null==(l=i.baseForm.get("base_type"))?null:l.touched),o.xp6(11),o.Q6J("ngIf",null==(f=i.baseForm.get("description"))?null:f.touched),o.xp6(7),o.Q6J("ngIf",null==(m=i.baseForm.get("base_yield"))?null:m.touched),o.xp6(14),o.Q6J("ngIf",null==(v=i.baseForm.get("unit"))?null:v.touched),o.xp6(14),o.Q6J("ngForOf",i.allergens),o.xp6(4),o.Q6J("ngIf",null==(C=i.baseForm.get("selectedAllergen"))?null:C.touched),o.xp6(2),o.Oqu(null==(A=i.baseForm.get("selectedAllergenNames"))?null:A.value),o.xp6(3),o.Q6J("ngForOf",i.image_recipe.controls),o.xp6(2),o.Q6J("ngForOf",i.video_recipe.controls),o.xp6(4),o.Q6J("ngForOf",i.preparation_method.controls),o.xp6(4),o.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[bi,dr,co,ho,Go,hi,Ho,Va,Oa,uo,Ls,lo,ef,uc,TR]})}return n})();function mW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"div",14),o._uU(8),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Oqu(null==t.base?null:t.base.summary)}}function _W(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"img",17),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",t.image_recipe,o.LSH)}}function yW(n,e){if(1&n&&(o.TgZ(0,"ul",15),o.YNc(1,_W,2,1,"li",16),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==t.base?null:t.base.image_recipe)}}function vW(n,e){if(1&n&&(o.TgZ(0,"div",18)(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"p",19),o._uU(8),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Oqu(null==t.base?null:t.base.description)}}function EW(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const IW=function(n){return["/base",n]};function wW(n,e){if(1&n&&(o.TgZ(0,"span",8)(1,"a",24),o._uU(2," \xa0\xa0"),o._UZ(3,"i",25),o._uU(4," \xa0\xa0"),o._UZ(5,"i",26),o._uU(6," \xa0\xa0"),o._UZ(7,"i",27),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,IW,t.base))}}function TW(n,e){if(1&n&&(o.TgZ(0,"span",7)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function CW(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,EW,2,1,"span",3),o.YNc(3,wW,8,3,"span",22),o._UZ(4,"br"),o.YNc(5,TW,3,1,"span",23),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.lnq(" ",t.name," - ",t.amount," ",t.unit," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(2),o.Q6J("ngIf",t.preparation_method)}}function bW(n,e){if(1&n&&(o.TgZ(0,"ul",21),o.YNc(1,CW,6,6,"li",3),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==t.base?null:t.base.ingredients)}}function AW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.YNc(7,bW,2,1,"ul",20),o.qZA()),2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngForOf",null==t.base?null:t.base.ingredients)}}function DW(n,e){if(1&n&&(o.TgZ(0,"ul",29)(1,"li"),o._uU(2),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.preparation_method)}}function SW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.YNc(7,DW,3,1,"ul",28),o.qZA()),2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngForOf",null==t.base?null:t.base.preparation_method)}}function xW(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",7),o._uU(3,"\u041f\u043e\u0440\u0446\u0438\u0439"),o.qZA()(),o.TgZ(4,"td")(5,"span",8),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.base?null:t.base.base_recipe_portions,"\xa0\u0431\u0440. ")}}function MW(n,e){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij("\xa0",null==t.base?null:t.base.unit,"")}}function NW(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",7),o._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),o.qZA()(),o.TgZ(4,"td")(5,"span",8),o._uU(6),o.YNc(7,MW,2,1,"span",22),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.base?null:t.base.base_yield),o.xp6(1),o.Q6J("ngIf",null==t.base?null:t.base.unit)}}function RW(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",7),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td")(5,"span",8),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.base?null:t.base.selectedAllergenNames)}}function PW(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"iframe",31),o.ALo(2,"safeUrl"),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",o.lcZ(2,1,t.video_recipe),o.uOi)}}function OW(n,e){if(1&n&&(o.TgZ(0,"div",30)(1,"div",13),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"ul"),o.YNc(8,PW,3,3,"li",16),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Q6J("ngForOf",null==t.base?null:t.base.video_recipe)}}let kW=(()=>{class n{constructor(t,r,i){var u=this;this.route=t,this.router=r,this.baseRecipeService=i,this.base=null,this.baseId="",this.route.paramMap.subscribe(function(){var l=(0,R.Z)(function*(f){const m=f.get("id");if(u.baseId=m,m)try{u.base=yield u.baseRecipeService.getBaseById(m)}catch(v){console.error("An error occurred while retrieving the recipe:",v)}else console.error("Recipe ID not provided.")});return function(f){return l.apply(this,arguments)}}())}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36($n),o.Y36(s_))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-recipe"]],decls:28,vars:11,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title-black"],[4,"ngIf"],["class","recipe-image",4,"ngIf"],["class","recipe-description",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["class","recipe-videos",4,"ngIf"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],[3,"click"],[1,"divider"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-description"],[1,"recipe-description-text"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],["class","value",4,"ngIf"],["class","key",4,"ngIf"],[3,"routerLink"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,mW,9,1,"div",3),o.YNc(5,yW,2,1,"ul",4),o.YNc(6,vW,9,1,"div",5),o.YNc(7,AW,8,1,"div",3),o.YNc(8,SW,8,1,"div",3),o.TgZ(9,"table",6)(10,"tr")(11,"td")(12,"span",7),o._uU(13,"\u0422\u0438\u043f"),o.qZA()(),o.TgZ(14,"td")(15,"span",8),o._uU(16),o.qZA()()(),o.YNc(17,xW,7,1,"tr",3),o.YNc(18,NW,8,2,"tr",3),o.YNc(19,RW,7,1,"tr",3),o.qZA(),o.YNc(20,OW,9,1,"div",9),o._UZ(21,"br"),o.TgZ(22,"a",10),o._UZ(23,"i",11),o._uU(24,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA(),o.TgZ(25,"button",12),o.NdJ("click",function(){return i.navigateToEdit()}),o._uU(26,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439\u0442\u0435"),o.qZA()(),o._UZ(27,"br"),o.qZA()),2&r&&(o.xp6(3),o.Oqu(null==i.base?null:i.base.title),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.summary),o.xp6(1),o.Q6J("ngIf",(null==i.base?null:i.base.image_recipe)&&(null==i.base||null==i.base.image_recipe?null:i.base.image_recipe.length)>0),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.description),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.ingredients),o.xp6(1),o.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),o.xp6(8),o.Oqu(null==i.base?null:i.base.base_type),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.base_recipe_portions),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.base_yield),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.selectedAllergenNames),o.xp6(1),o.Q6J("ngIf",(null==i.base?null:i.base.video_recipe)&&(null==i.base||null==i.base.video_recipe?null:i.base.video_recipe.length)>0))},dependencies:[bi,dr,Ri,b9],styles:[".recipe-container[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return n})();function FW(n,e){if(1&n&&(o.TgZ(0,"div")(1,"a",5)(2,"div",6)(3,"h3"),o._uU(4),o.qZA()()()()),2&n){const t=e.$implicit,r=o.oxw();o.xp6(1),o.Q6J("routerLink",r.getBaseRecipeLink(t)),o.xp6(3),o.Oqu(t.title)}}let LW=(()=>{class n{constructor(t,r){this.baseRecipeService=t,this.authService=r,this.baseRecipes=[],this.authService.userData$.subscribe(i=>{this.userData=i})}ngOnInit(){this.getBaseRecipes()}getBaseRecipes(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t.sort((r,i)=>r.title.localeCompare(i.title))},error:t=>{console.error("Error fetching categories:",t)}})}getBaseRecipeLink(t){return this.userData?.isCook?["/base",t.id]:["/base-waiters",t.id]}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(s_),o.Y36(i_))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-list"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"card"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0411\u0430\u0437\u043e\u0432\u0438 \u0420\u0435\u0446\u0435\u043f\u0442\u0438"),o.qZA(),o.TgZ(4,"div",3),o.YNc(5,FW,5,2,"div",4),o.qZA()()()),2&r&&(o.xp6(5),o.Q6J("ngForOf",i.baseRecipes))},dependencies:[bi,Ri],styles:['.recipe-list[_ngcontent-%COMP%]{width:1200px;margin:0 auto;padding:0 50px 20px;display:grid;grid-template-columns:repeat(2,1fr);column-gap:20px}.card[_ngcontent-%COMP%]{border-radius:5px;margin:10px 0;text-align:center;padding:20px;transition:transform .2s;position:relative;background:var(--mainColor);color:var(--mainWhiteColor);display:flex;align-items:center;justify-content:center;cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:scale(.96)}.card[_ngcontent-%COMP%]:before, .card[_ngcontent-%COMP%]:after{position:absolute;content:"";width:20%;height:20%;display:flex;align-items:center;justify-content:center;font-weight:700;background-color:var(--secondColor);transition:all .5s}.card[_ngcontent-%COMP%]:before{top:0;right:0;border-radius:0 15px 0 100%}.card[_ngcontent-%COMP%]:after{bottom:0;left:0;border-radius:0 100% 0 15px}.card[_ngcontent-%COMP%]:hover:before, .card[_ngcontent-%COMP%]:hover:after{width:100%;height:100%;border-radius:5px;transition:all .5s}.card[_ngcontent-%COMP%]:hover:after{content:"\\41f\\43e\\43a\\430\\436\\438"}@media (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);width:100%}}']})}return n})();function UW(n,e){if(1&n&&(o.TgZ(0,"div",28)(1,"label",29),o._uU(2,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA(),o._UZ(3,"input",30),o.qZA()),2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("for","allergens"+t),o.xp6(2),o.Q6J("id","allergens"+t)}}function VW(n,e){if(1&n&&(o.TgZ(0,"div",27)(1,"p",7),o._uU(2,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438:"),o.qZA(),o.YNc(3,UW,4,3,"div",20),o.qZA()),2&n){const t=o.oxw();o.xp6(3),o.Q6J("ngForOf",t.allergens.controls)}}function BW(n,e){if(1&n&&(o.TgZ(0,"div",28)(1,"label",29),o._uU(2,"\u0421\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o._UZ(3,"input",31),o.qZA()),2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("for","image_recipe"+t),o.xp6(2),o.Q6J("id","image_recipe"+t)}}function jW(n,e){if(1&n&&(o.TgZ(0,"div",28)(1,"label",29),o._uU(2,"\u0412\u0438\u0434\u0435\u043e"),o.qZA(),o._UZ(3,"input",32),o.qZA()),2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("for","video_recipe"+t),o.xp6(2),o.Q6J("id","video_recipe"+t)}}function ZW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",28)(1,"label",29),o._uU(2,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(3,"input",33),o.TgZ(4,"label",29),o._uU(5,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o._UZ(6,"input",34),o.TgZ(7,"label",29),o._uU(8,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),o.qZA(),o.TgZ(9,"p",7),o._uU(10,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),o.qZA(),o._UZ(11,"input",35),o.TgZ(12,"label",29),o._uU(13,"\u0411\u0440\u043e\u0439\u043a\u0430:"),o.qZA(),o.TgZ(14,"p",7),o._uU(15," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),o.qZA(),o._UZ(16,"input",36),o.TgZ(17,"label",29),o._uU(18,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.qZA(),o.TgZ(19,"p",7),o._uU(20," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),o._UZ(21,"br"),o._uU(22," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),o.qZA(),o._UZ(23,"input",37),o.TgZ(24,"label",29),o._uU(25,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),o.qZA(),o.TgZ(26,"p",7),o._uU(27," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),o.qZA(),o._UZ(28,"input",38),o.TgZ(29,"label",29),o._uU(30,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),o.qZA(),o.TgZ(31,"p",7),o._uU(32,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),o.qZA(),o._UZ(33,"input",39),o.TgZ(34,"button",24),o.NdJ("click",function(){const u=o.CHM(t).index,l=o.oxw();return o.KtG(l.removeIngredient(u))}),o._uU(35," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430 "),o.qZA()()}if(2&n){const t=e.index;o.Q6J("formGroupName",t),o.xp6(1),o.Q6J("for","name"+t),o.xp6(2),o.Q6J("id","name"+t),o.xp6(1),o.Q6J("for","amount"+t),o.xp6(2),o.Q6J("id","amount"+t),o.xp6(1),o.Q6J("for","unit"+t),o.xp6(4),o.Q6J("id","unit"+t),o.xp6(1),o.Q6J("for","quantity"+t),o.xp6(4),o.Q6J("id","quantity"+t),o.xp6(1),o.Q6J("for","preparation_method"+t),o.xp6(6),o.Q6J("id","preparation_method"+t),o.xp6(1),o.Q6J("for","base"+t),o.xp6(4),o.Q6J("id","base"+t),o.xp6(1),o.Q6J("for","order_index"+t),o.xp6(4),o.Q6J("id","order_index"+t)}}let $W=(()=>{class n{constructor(t,r,i,u,l){this.route=t,this.router=r,this.fb=i,this.baseRecipeService=u,this.base=null,this.baseId="",this.firestore=l}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}ngOnInit(){var t=this;return(0,R.Z)(function*(){t.initializeForm(),yield t.loadData()})()}initializeForm(){this.baseFormEdit=this.fb.group({title:["",[ct.required]],base_type:["",[ct.required]],description:["",[ct.required]],base_yield:["",[ct.required]],unit:["",[ct.required]],summary:[""],selectedAllergen:null,selectedAllergenNames:"",base_recipe_portions:[0],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var t=this;return(0,R.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.get("id");if(t.baseId=u,u)try{t.base=yield t.baseRecipeService.getBaseById(u),t.patchFormWithBaseData()}catch(l){throw console.error("An error occurred while retrieving the recipe:",l),l}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithBaseData(){if(this.base&&this.baseFormEdit){const t=this.baseFormEdit.get("ingredients"),r=this.baseFormEdit.get("image_recipe"),i=this.baseFormEdit.get("video_recipe"),u=this.baseFormEdit.get("preparation_method"),l=this.baseFormEdit.get("allergens");t.clear(),r.clear(),i.clear(),u.clear(),l.clear(),this.base.ingredients.forEach(f=>{t.push(this.fb.group({name:[f.name,[ct.required]],amount:[f.amount,[ct.required]],base:[f.base],unit:[f.unit,[ct.required]],order_index:[f.order_index],preparation_method:[f.preparation_method],quantity:[f.quantity]}))}),this.base.image_recipe&&this.base.image_recipe.length>0&&this.base.image_recipe.forEach(f=>{r.push(this.fb.group({image_recipe:[f.image_recipe]}))}),this.base.video_recipe&&this.base.video_recipe.length>0&&this.base.video_recipe.forEach(f=>{i.push(this.fb.group({video_recipe:[f.video_recipe]}))}),this.base.preparation_method&&this.base.preparation_method.length>0&&this.base.preparation_method.forEach(f=>{u.push(this.fb.group({preparation_method:[f.preparation_method]}))}),this.base.allergens&&this.base.allergens.length>0&&this.base.allergens.forEach(f=>{l.push(this.fb.group({allergen:[f]}))}),this.baseFormEdit.patchValue({title:this.base.title,base_type:this.base.base_type,summary:this.base.summary,description:this.base.description,base_yield:this.base.base_yield,unit:this.base.unit,selectedAllergen:this.base.selectedAllergen,selectedAllergenNames:this.base.selectedAllergenNames,base_recipe_portions:this.base.base_recipe_portions})}}addIngredient(){this.baseFormEdit.get("ingredients").push(this.fb.group({name:["",[ct.required]],amount:["",[ct.required]],base:this.fb.control(""),unit:["",[ct.required]],order_index:[0],preparation_method:"",quantity:[0]}))}removeIngredient(t){this.baseFormEdit.get("ingredients").removeAt(t)}get ingredients(){return this.baseFormEdit.get("ingredients")}get image_recipe(){return this.baseFormEdit.get("image_recipe")}get video_recipe(){return this.baseFormEdit.get("video_recipe")}get preparation_method(){return this.baseFormEdit.get("preparation_method")}get allergens(){return this.baseFormEdit.get("allergens")}onSubmit(){this.baseFormEdit.valid&&(this.addBaseRecipe(this.baseFormEdit.value),this.baseFormEdit.reset())}addBaseRecipe(t){const i=au(this.firestore,"BaseRecipe",this.baseId);U$(i,t),this.router.navigate(["/base",this.baseId])}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36($n),o.Y36(Ba),o.Y36(s_),o.Y36(Ii))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-form-edit"]],decls:61,vars:5,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["id","summary","formControlName","summary"],["for","description"],["rows","10","id","description","formControlName","description"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["type","text","id","unit","formControlName","unit"],["type","text","id","base_recipe_portions","formControlName","base_recipe_portions"],["formArrayName","allergens",4,"ngIf"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],[1,"divider"],["formArrayName","ingredients"],["type","button",3,"click"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["formArrayName","allergens"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","allergen",3,"id"],["type","text","formControlName","image_recipe",3,"id"],["type","text","formControlName","video_recipe",3,"id"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["type","text","formControlName","unit",3,"id"],["type","number","formControlName","quantity",3,"id"],["type","text","formControlName","preparation_method",3,"id"],["type","text","formControlName","base",3,"id"],["type","number","formControlName","order_index",3,"id"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(4,"form",3)(5,"label",4),o._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o._UZ(7,"input",5),o.TgZ(8,"label",6),o._uU(9," \u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o.TgZ(10,"p",7),o._uU(11,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),o.qZA(),o._UZ(12,"input",8),o.TgZ(13,"label",9),o._uU(14," \u0420\u0435\u0437\u044e\u043c\u0435: "),o.qZA(),o.TgZ(15,"p",7),o._uU(16,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(17,"textarea",10),o.TgZ(18,"label",11),o._uU(19," \u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o._UZ(20,"textarea",12),o.TgZ(21,"label",13),o._uU(22," \u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o.TgZ(23,"p",7),o._uU(24,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f"),o.qZA(),o._UZ(25,"input",14),o.TgZ(26,"label",15),o._uU(27," \u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),o.qZA(),o.TgZ(28,"p",7),o._uU(29,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),o.qZA(),o._UZ(30,"input",16),o.TgZ(31,"label",15),o._uU(32," \u041f\u043e\u0440\u0446\u0438\u0439: "),o.qZA(),o.TgZ(33,"p",7),o._uU(34,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o._UZ(35,"input",17),o.YNc(36,VW,4,1,"div",18),o.TgZ(37,"p",7),o._uU(38,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),o.qZA(),o.TgZ(39,"div",19),o.YNc(40,BW,4,3,"div",20),o.qZA(),o.TgZ(41,"p",7),o._uU(42,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),o.qZA(),o.TgZ(43,"div",21),o.YNc(44,jW,4,3,"div",20),o.qZA(),o.TgZ(45,"p",7),o._uU(46," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),o.qZA(),o.TgZ(47,"div",22),o._UZ(48,"hr"),o.TgZ(49,"p"),o._uU(50,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(51,"hr"),o.qZA(),o.TgZ(52,"div",23),o.YNc(53,ZW,36,15,"div",20),o.qZA(),o.TgZ(54,"button",24),o.NdJ("click",function(){return i.addIngredient()}),o._uU(55," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),o.qZA(),o.TgZ(56,"button",24),o.NdJ("click",function(){return i.onSubmit()}),o._uU(57,"\u0417\u0430\u043f\u0430\u0437\u0435\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435"),o.qZA(),o.TgZ(58,"a",25),o._UZ(59,"i",26),o._uU(60,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA()()()()),2&r&&(o.xp6(4),o.Q6J("formGroup",i.baseFormEdit),o.xp6(32),o.Q6J("ngIf",(null==i.base?null:i.base.allergens)&&(null==i.base||null==i.base.allergens?null:i.base.allergens.length)>0),o.xp6(4),o.Q6J("ngForOf",i.image_recipe.controls),o.xp6(4),o.Q6J("ngForOf",i.video_recipe.controls),o.xp6(9),o.Q6J("ngForOf",i.ingredients.controls))},dependencies:[bi,dr,co,hi,Ho,Oa,uo,Ls,lo,ef,uc]})}return n})();function qW(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u0418\u043c\u0435\u0439\u043b\u044a\u0442 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u0435\u043d. "),o.qZA())}function HW(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b. "),o.qZA())}function GW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,qW,2,0,"div",13),o.YNc(2,HW,2,0,"div",13),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signInForm.get("email"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signInForm.get("email"))||null==i.errors?null:i.errors.email)}}function zW(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430. "),o.qZA())}function WW(n,e){1&n&&(o.TgZ(0,"div",14),o._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430. "),o.qZA())}function KW(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,zW,2,0,"div",13),o.YNc(2,WW,2,0,"div",13),o.qZA()),2&n){const t=o.oxw();let r,i;o.xp6(1),o.Q6J("ngIf",null==(r=t.signInForm.get("password"))||null==r.errors?null:r.errors.required),o.xp6(1),o.Q6J("ngIf",null==(i=t.signInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function QW(n,e){if(1&n&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.loginError)}}let YW=(()=>{class n{constructor(t,r){this.authService=t,this.fb=r,this.loginError=null,this.signInForm=this.fb.group({email:["",[ct.required,ct.email]],password:["",[ct.required,ct.minLength(6)]]})}submitSignInForm(){var t=this;return(0,R.Z)(function*(){if(t.signInForm.valid){const{email:r,password:i}=t.signInForm.value;try{yield t.authService.loginUser(r,i)}catch(u){console.log(u)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(i_),o.Y36(Ba))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-in"]],decls:23,vars:4,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[3,"formGroup","ngSubmit"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit"],["href","#","routerLink","/sign-up"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0412\u0445\u043e\u0434"),o.qZA(),o.TgZ(4,"form",3),o.NdJ("ngSubmit",function(){return i.submitSignInForm()}),o.TgZ(5,"div",4)(6,"label",5),o._uU(7,"\u0418\u043c\u0435\u0439\u043b"),o.qZA(),o._UZ(8,"input",6),o.YNc(9,GW,3,2,"div",7),o.qZA(),o.TgZ(10,"div",4)(11,"label",8),o._uU(12,"\u041f\u0430\u0440\u043e\u043b\u0430"),o.qZA(),o._UZ(13,"input",9),o.YNc(14,KW,3,2,"div",7),o.qZA(),o.TgZ(15,"div",4)(16,"button",10),o._uU(17,"\u0412\u043b\u0435\u0437"),o.qZA()(),o.YNc(18,QW,2,1,"div",7),o.TgZ(19,"div",4)(20,"a",11)(21,"div",12),o._uU(22,"\u0412\u0441\u0435 \u043e\u0449\u0435 \u043d\u044f\u043c\u0430\u0442\u0435 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f?"),o.qZA()()()()()()),2&r){let u,l;o.xp6(4),o.Q6J("formGroup",i.signInForm),o.xp6(5),o.Q6J("ngIf",(null==(u=i.signInForm.get("email"))?null:u.invalid)&&(null==(u=i.signInForm.get("email"))?null:u.touched)),o.xp6(5),o.Q6J("ngIf",(null==(l=i.signInForm.get("password"))?null:l.invalid)&&(null==(l=i.signInForm.get("password"))?null:l.touched)),o.xp6(4),o.Q6J("ngIf",i.loginError)}},dependencies:[dr,co,hi,Oa,uo,Ls,lo,Ri]})}return n})(),JW=(()=>{class n{constructor(t,r,i){this.authService=t,this.fb=r,this.router=i,this.signUpForm=this.fb.group({email:["",[ct.required,ct.email]],password:["",[ct.required,ct.minLength(6)]],repeatPassword:["",ct.required],firstName:["",ct.required],lastName:["",ct.required],fromRestaurant:["",ct.required],isActive:[!0,ct.required],isAdmin:[!1,ct.required],isCook:[!0,ct.required]})}submitSignUpForm(){var t=this;return(0,R.Z)(function*(){if(t.signUpForm.valid){const{email:r,password:i,repeatPassword:u,...l}=t.signUpForm.value;if(i!==u)return void alert("Password do not match!");try{yield t.authService.registerUser(r,i,l)}catch(f){alert(f)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(i_),o.Y36(Ba),o.Y36($n))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-up"]],decls:40,vars:1,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],[1,"form-group"],["for","fromRestaurant"],["id","fromRestaurant","name","fromRestaurant","formControlName","fromRestaurant"],["value","Romance-1"],["value","Romance-2"],["value","Romance-3"],["value","Romance-5"],["type","checkbox","formControlName","isCook"],["type","submit"],["href","#","routerLink","/sign-in"],[1,"hint"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.qZA(),o.TgZ(4,"form",3),o.NdJ("ngSubmit",function(){return i.submitSignUpForm()}),o.TgZ(5,"label",4),o._uU(6,"\u0418\u043c\u0435\u0439\u043b:"),o.qZA(),o._UZ(7,"input",5),o.TgZ(8,"label",6),o._uU(9,"\u041f\u0430\u0440\u043e\u043b\u0430:"),o.qZA(),o._UZ(10,"input",7),o.TgZ(11,"label",8),o._uU(12,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438 \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430:"),o.qZA(),o._UZ(13,"input",9),o.TgZ(14,"label",10),o._uU(15,"\u0418\u043c\u0435:"),o.qZA(),o._UZ(16,"input",11),o.TgZ(17,"label",12),o._uU(18,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),o.qZA(),o._UZ(19,"input",13),o.TgZ(20,"div",14)(21,"label",15),o._uU(22,"\u041e\u0442 \u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442:"),o.qZA(),o.TgZ(23,"select",16)(24,"option",17),o._uU(25,"Romance 1"),o.qZA(),o.TgZ(26,"option",18),o._uU(27,"Romance 2"),o.qZA(),o.TgZ(28,"option",19),o._uU(29,"Romance 3"),o.qZA(),o.TgZ(30,"option",20),o._uU(31,"Romance 5"),o.qZA()()(),o.TgZ(32,"label"),o._uU(33," \u0413\u043e\u0442\u0432\u0430\u0447 \u043b\u0438 \u0441\u0438? "),o._UZ(34,"input",21),o.qZA(),o.TgZ(35,"button",22),o._uU(36,"\u0418\u0437\u043f\u0440\u0430\u0442\u0438"),o.qZA(),o.TgZ(37,"a",23)(38,"div",24),o._uU(39,"\u0412\u0435\u0447\u0435 \u0438\u043c\u0430\u0448 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f?"),o.qZA()()()()()),2&r&&(o.xp6(4),o.Q6J("formGroup",i.signUpForm))},dependencies:[co,ho,Go,hi,Bg,Va,Oa,uo,Ls,lo,Ri]})}return n})(),XW=(()=>{class n{transform(t){return new Date(parseInt(t,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=o.Yjl({name:"timestampFormat",type:n,pure:!0})}return n})();function eK(n,e){1&n&&(o.TgZ(0,"div",4)(1,"span"),o._uU(2,"\u0420\u043e\u043b\u044f:"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"\u0413\u043e\u0442\u0432\u0430\u0447"),o.qZA()())}function tK(n,e){1&n&&(o.TgZ(0,"div",4)(1,"span"),o._uU(2,"\u0420\u043e\u043b\u044f:"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"\u0421\u0435\u0440\u0432\u0438\u0442\u044c\u043e\u0440"),o.qZA()())}let nK=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.authService.userData$.subscribe(t=>{this.user=t})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(i_))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:41,vars:12,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"user-details"],[1,"detail"],["class","detail",4,"ngIf"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0437\u0430 \u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f"),o.qZA(),o.TgZ(4,"div",3)(5,"div",4)(6,"span"),o._uU(7,"\u0418\u043c\u0435\u0439\u043b:"),o.qZA(),o.TgZ(8,"span"),o._uU(9),o.qZA()(),o.TgZ(10,"div",4)(11,"span"),o._uU(12,"\u0418\u043c\u0435:"),o.qZA(),o.TgZ(13,"span"),o._uU(14),o.qZA()(),o.TgZ(15,"div",4)(16,"span"),o._uU(17,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),o.qZA(),o.TgZ(18,"span"),o._uU(19),o.qZA()(),o.TgZ(20,"div",4)(21,"span"),o._uU(22,"\u0412\u0440\u0435\u043c\u0435 \u043d\u0430 \u0421\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435:"),o.qZA(),o.TgZ(23,"span"),o._uU(24),o.ALo(25,"timestampFormat"),o.qZA()(),o.TgZ(26,"div",4)(27,"span"),o._uU(28,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u043e \u0412\u043b\u0438\u0437\u0430\u043d\u0435:"),o.qZA(),o.TgZ(29,"span"),o._uU(30),o.ALo(31,"timestampFormat"),o.qZA()(),o.YNc(32,eK,5,0,"div",5),o.YNc(33,tK,5,0,"div",5),o.TgZ(34,"div",4)(35,"span"),o._uU(36,"\u041e\u0442 \u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442:"),o.qZA(),o.TgZ(37,"span"),o._uU(38),o.qZA()()(),o.TgZ(39,"button"),o._uU(40,"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f"),o.qZA()()()),2&r&&(o.xp6(9),o.Oqu(i.user.email),o.xp6(5),o.Oqu(i.user.firstName),o.xp6(5),o.Oqu(i.user.lastName),o.xp6(5),o.Oqu(o.lcZ(25,8,i.user.metadata.createdAt)),o.xp6(6),o.Oqu(o.lcZ(31,10,i.user.metadata.lastLoginAt)),o.xp6(2),o.Q6J("ngIf",i.user.isCook),o.xp6(1),o.Q6J("ngIf",!i.user.isCook),o.xp6(5),o.Oqu(i.user.fromRestaurant))},dependencies:[dr,XW],styles:[".user-details[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--borderColor);border-radius:8px;box-shadow:0 2px 4px #0000001a}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}"]})}return n})();const rK=function(n){return["/category/",n]};function iK(n,e){if(1&n&&(o.TgZ(0,"li",7)(1,"a",8)(2,"div",9)(3,"div",10),o._UZ(4,"img",11),o.qZA(),o.TgZ(5,"h3",12),o._uU(6),o.qZA()()()()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(3,rK,t.id)),o.xp6(3),o.Q6J("src",t.image,o.LSH),o.xp6(2),o.Oqu(t.name)}}function sK(n,e){if(1&n&&(o.TgZ(0,"ul",5),o.YNc(1,iK,7,5,"li",6),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("ngIf",t.is_active)}}let oK=(()=>{class n{constructor(t){this.categoryService=t,this.categories=[]}ngOnInit(){this.getCategory()}getCategory(){this.categoryService.getCategories().subscribe({next:t=>{this.categories=t.sort((r,i)=>r.order_index-i.order_index).filter(r=>r.is_active)},error:t=>{console.error("Error fetching categories:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(w9))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-categories-list"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"categories-list"],[1,"title-white"],[1,"wrapper"],["class","cards",4,"ngFor","ngForOf"],[1,"cards"],["class","card-item",4,"ngIf"],[1,"card-item"],[3,"routerLink"],["tabindex","0",1,"card"],[1,"card-image"],["alt","category.name",3,"src"],[1,"card-title"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"section",1)(2,"h1",2),o._uU(3,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),o.qZA(),o.TgZ(4,"section",3),o.YNc(5,sK,2,1,"ul",4),o.qZA()()()),2&r&&(o.xp6(5),o.Q6J("ngForOf",i.categories))},dependencies:[bi,dr,Ri],styles:[".categories-list[_ngcontent-%COMP%]{margin:0 auto 50px;max-width:1200px}.category-title[_ngcontent-%COMP%]{color:var(--mainWhiteColor);margin:30px 0;text-align:center;font-size:32px;font-family:var(--titleFont)}.wrapper[_ngcontent-%COMP%]{place-self:center;margin:0 auto 50px 0;display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.cards[_ngcontent-%COMP%]{display:grid;flex-wrap:wrap;list-style:none;margin:0;padding:0;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.card-item[_ngcontent-%COMP%]{display:flex;background-color:var(--backgroundColor)}.card[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:5px 25px 5px 50px;transition:transform .1s linear,box-shadow .2s}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}.card-title[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:90%;height:auto;color:var(--mainWhiteColor);padding:.5rem;border-radius:5px 0 0 5px;transform:rotate(-3.3deg);transform-origin:left top;overflow:hidden;z-index:1;background-color:var(--animatedTitleBackground);animation:0s 0s _ngcontent-%COMP%_fly-in 0 reverse both;font-family:var(--titleFont)}@media (min-width: 535px){.card-title[_ngcontent-%COMP%]{animation:.5s .25s fly-out 1 both}}.card[_ngcontent-%COMP%]:focus   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{animation:.5s ease-in 0s _ngcontent-%COMP%_fly-in 1 both}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 5px -5px #0003}@keyframes _ngcontent-%COMP%_fly-in{0%{top:0;right:0;font-size:1.325rem}25%{top:0;right:-200%;font-size:1.325rem}26%{font-size:2rem}to{top:2rem;right:0;font-size:2rem}}@media (max-width: 460px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:80%}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;display:flex;flex-direction:column}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px}}"]})}return n})();function aK(n,e){if(1&n&&(o.TgZ(0,"div",18),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij(" ",null==t.recipe?null:t.recipe.summary," ")}}function uK(n,e){if(1&n&&(o.TgZ(0,"li"),o._UZ(1,"img",21),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("src",t.image_recipe,o.LSH)}}function cK(n,e){if(1&n&&(o.TgZ(0,"ul",19),o.YNc(1,uK,2,1,"li",20),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==t.recipe?null:t.recipe.image_recipe)}}function lK(n,e){if(1&n&&(o.TgZ(0,"span",11),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij("\xa0",null==t.recipe?null:t.recipe.unit,"")}}function dK(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.YNc(7,lK,2,1,"span",22),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.serving_value," "),o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.unit)}}function hK(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.hij("",null==t.recipe?null:t.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function fK(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",10),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td")(5,"span",11),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.recipe?null:t.recipe.selectedAllergenNames)}}function pK(n,e){1&n&&(o.TgZ(0,"div",23),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function gK(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const mK=function(n){return["/base-waiters",n]};function _K(n,e){if(1&n&&(o.TgZ(0,"span",11)(1,"a",5),o._uU(2," \xa0\xa0"),o._UZ(3,"i",26),o._uU(4," \xa0\xa0"),o._UZ(5,"i",27),o._uU(6," \xa0\xa0"),o._UZ(7,"i",28),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,mK,t.base))}}function yK(n,e){if(1&n&&(o.TgZ(0,"span",10)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function vK(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,gK,2,1,"span",12),o.YNc(3,_K,8,3,"span",22),o._UZ(4,"br")(5,"br"),o.YNc(6,yK,3,1,"span",25),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.hij(" ",t.name," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(3),o.Q6J("ngIf",t.preparation_method)}}function EK(n,e){if(1&n&&(o.TgZ(0,"ul",24),o.YNc(1,vK,7,4,"li",12),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.recipe?null:t.recipe.ingredients)}}function IK(n,e){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"app-comment-form",29),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("recipeId",t.recipeId)}}function wK(n,e){1&n&&(o.TgZ(0,"div",23),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),o.qZA(),o._UZ(4,"hr"),o.qZA())}function TK(n,e){if(1&n&&(o.TgZ(0,"ul")(1,"li"),o._uU(2),o.qZA(),o.TgZ(3,"li"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"date"),o.qZA()()),2&n){const t=e.$implicit;o.xp6(2),o.Oqu(t.name),o.xp6(2),o.Oqu(t.text),o.xp6(2),o.hij(" ",o.xi3(7,3,t.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," ")}}function CK(n,e){if(1&n&&(o.TgZ(0,"section",30),o.YNc(1,TK,8,6,"ul",20),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.comments)}}const bK=function(n){return["/category",n]};let AK=(()=>{class n{constructor(t,r,i,u){var l=this;this.route=t,this.recipeService=r,this.firestore=i,this.commentService=u,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.route.paramMap.subscribe(function(){var f=(0,R.Z)(function*(m){const v=m.get("id");if(l.recipeId=v,v)try{l.recipe=yield l.recipeService.getRecipeById(v),l.comments=yield u.getCommentsForRecipe(v),l.recipe?yield l.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(C){console.error("An error occurred while retrieving the recipe:",C)}else console.error("Recipe ID not provided.")});return function(m){return f.apply(this,arguments)}}()),u.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}loadCommentsForRecipe(){var t=this;return(0,R.Z)(function*(){t.recipeId&&(t.comments=yield t.commentService.getCommentsForRecipe(t.recipeId))})()}loadCategoryAndPlateData(){var t=this;return(0,R.Z)(function*(){const r=t.recipe?.food_plate,i=t.recipe?.category;if(r){const u=au(t.firestore,"Plates/"+r),l=yield Ld(u);l.exists()&&(t.plate=l.data())}if(i){const u=au(t.firestore,"Category/"+i),l=yield Ld(u);l.exists()&&(t.category=l.data())}})()}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36(T9),o.Y36(Ii),o.Y36(RO))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-recipe-waiters"]],decls:40,vars:17,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],[4,"ngIf"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[3,"click"],["href","javascript:history.back()",1,"btn"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"divider"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],[3,"recipeId"],[1,"comments"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,aK,2,1,"div",3),o.TgZ(5,"div",4)(6,"a",5),o._UZ(7,"i",6),o._uU(8),o.qZA()(),o.TgZ(9,"div",7),o.YNc(10,cK,2,1,"ul",8),o.TgZ(11,"table",9)(12,"tr")(13,"td")(14,"span",10),o._uU(15,"\u0421\u0435\u0437\u043e\u043d"),o.qZA()(),o.TgZ(16,"td")(17,"span",11),o._uU(18),o.qZA()()(),o.YNc(19,dK,8,2,"tr",12),o.YNc(20,hK,7,1,"tr",12),o.TgZ(21,"tr")(22,"td")(23,"span",10),o._uU(24,"\u0427\u0438\u043d\u0438\u044f"),o.qZA()(),o.TgZ(25,"td")(26,"span",11),o._uU(27),o.qZA()()(),o.YNc(28,fK,7,1,"tr",12),o.qZA(),o.YNc(29,pK,5,0,"div",13),o._UZ(30,"br"),o.YNc(31,EK,2,1,"ul",14),o.TgZ(32,"button",15),o.NdJ("click",function(){return i.toggleCommentForm()}),o._uU(33,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),o.qZA(),o.TgZ(34,"a",16),o._UZ(35,"i",6),o._uU(36,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA(),o.YNc(37,IK,2,1,"div",12),o.YNc(38,wK,5,0,"div",13),o.YNc(39,CK,2,1,"section",17),o.qZA()()()),2&r&&(o.xp6(3),o.Oqu(null==i.recipe?null:i.recipe.title),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.summary),o.xp6(2),o.Q6J("routerLink",o.VKq(15,bK,null==i.recipe?null:i.recipe.category)),o.xp6(2),o.hij(" ",null==i.category?null:i.category.name," "),o.xp6(2),o.Q6J("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),o.xp6(8),o.Oqu(null==i.recipe?null:i.recipe.season),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.serving_value),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.release_time),o.xp6(7),o.Oqu(null==i.plate?null:i.plate.name),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.selectedAllergenNames),o.xp6(1),o.Q6J("ngIf",null==i.recipe?null:i.recipe.ingredients),o.xp6(2),o.Q6J("ngForOf",null==i.recipe?null:i.recipe.ingredients),o.xp6(6),o.Q6J("ngIf",i.showCommentForm),o.xp6(1),o.Q6J("ngIf",i.comments.length>0),o.xp6(1),o.Q6J("ngIf",i.comments.length>0))},dependencies:[bi,dr,Ri,C9,Kc],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}"]})}return n})();function DK(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",9),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"div",10),o._uU(8),o.qZA()()),2&n){const t=o.oxw();o.xp6(8),o.Oqu(null==t.base?null:t.base.summary)}}function SK(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.hij("(",t.quantity," \u0431\u0440.)")}}const xK=function(n){return["/base-waiters",n]};function MK(n,e){if(1&n&&(o.TgZ(0,"span",6)(1,"a",15),o._uU(2," \xa0\xa0"),o._UZ(3,"i",16),o._uU(4," \xa0\xa0"),o._UZ(5,"i",17),o._uU(6," \xa0\xa0"),o._UZ(7,"i",18),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(1,xK,t.base))}}function NK(n,e){if(1&n&&(o.TgZ(0,"span",5)(1,"i"),o._uU(2),o.qZA()()),2&n){const t=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",t.preparation_method,"")}}function RK(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.YNc(2,SK,2,1,"span",3),o.YNc(3,MK,8,3,"span",13),o._UZ(4,"br"),o.YNc(5,NK,3,1,"span",14),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.hij(" ",t.name," "),o.xp6(1),o.Q6J("ngIf",t.quantity),o.xp6(1),o.Q6J("ngIf",t.base),o.xp6(2),o.Q6J("ngIf",t.preparation_method)}}function PK(n,e){if(1&n&&(o.TgZ(0,"ul",12),o.YNc(1,RK,6,4,"li",3),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==t.base?null:t.base.ingredients)}}function OK(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",9),o._UZ(2,"hr"),o.TgZ(3,"p"),o._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o._UZ(6,"br"),o.YNc(7,PK,2,1,"ul",11),o.qZA()),2&n){const t=o.oxw();o.xp6(7),o.Q6J("ngForOf",null==t.base?null:t.base.ingredients)}}function kK(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td")(2,"span",5),o._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),o.qZA()(),o.TgZ(4,"td")(5,"span",6),o._uU(6),o.qZA()()()),2&n){const t=o.oxw();o.xp6(6),o.Oqu(null==t.base?null:t.base.selectedAllergenNames)}}const FK=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:wI},{path:"categories",component:oK},{path:"recipe-waiters/:id",component:AK},{path:"add-category",component:G$},{path:"add-recipe",component:yz},{path:"add-base",component:gW},{path:"base/:id",component:kW},{path:"base-waiters/:id",component:(()=>{class n{constructor(t,r,i){var u=this;this.route=t,this.router=r,this.baseRecipeService=i,this.base=null,this.baseId="",this.route.paramMap.subscribe(function(){var l=(0,R.Z)(function*(f){const m=f.get("id");if(u.baseId=m,m)try{u.base=yield u.baseRecipeService.getBaseById(m)}catch(v){console.error("An error occurred while retrieving the recipe:",v)}else console.error("Recipe ID not provided.")});return function(f){return l.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(ci),o.Y36($n),o.Y36(s_))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-base-recipe-waiters"]],decls:20,vars:5,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title-black"],[4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"divider"],[1,"recipe-summary"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],["class","value",4,"ngIf"],["class","key",4,"ngIf"],[3,"routerLink"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"]],template:function(r,i){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3),o.qZA(),o.YNc(4,DK,9,1,"div",3),o.YNc(5,OK,8,1,"div",3),o.TgZ(6,"table",4)(7,"tr")(8,"td")(9,"span",5),o._uU(10,"\u0422\u0438\u043f"),o.qZA()(),o.TgZ(11,"td")(12,"span",6),o._uU(13),o.qZA()()(),o.YNc(14,kK,7,1,"tr",3),o.qZA(),o._UZ(15,"br"),o.TgZ(16,"a",7),o._UZ(17,"i",8),o._uU(18,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),o.qZA()(),o._UZ(19,"br"),o.qZA()),2&r&&(o.xp6(3),o.Oqu(null==i.base?null:i.base.title),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.summary),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.ingredients),o.xp6(8),o.Oqu(null==i.base?null:i.base.base_type),o.xp6(1),o.Q6J("ngIf",null==i.base?null:i.base.selectedAllergenNames))},dependencies:[bi,dr,Ri],styles:[".recipe-container[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return n})()},{path:"base",component:LW},{path:"category/:id",component:qG},{path:"recipe/:id",component:qz},{path:"base-edit/:id",component:$W},{path:"sign-in",component:YW},{path:"sign-up",component:JW},{path:"dashboard",component:nK}];let LK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[jo.forRoot(FK,{useHash:!0}),jo]})}return n})();function UK(n,e){1&n&&(o.TgZ(0,"li")(1,"a",10),o._uU(2,"\u0411\u0430\u0437\u0438"),o.qZA()())}function VK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",15),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.closeMenu())}),o.TgZ(1,"a",16),o._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0438 \u0411\u0430\u0437\u0430"),o.qZA(),o.TgZ(3,"a",17),o._uU(4,"\u0414\u043e\u0431\u0430\u0432\u0438 \u0420\u0435\u0446\u0435\u043f\u0442\u0430"),o.qZA(),o.TgZ(5,"a",18),o._uU(6,"\u0414\u043e\u0431\u0430\u0432\u0438 \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),o.qZA()()}}function BK(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",11)(2,"button",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMenu())}),o._uU(3," \u0414\u043e\u0431\u0430\u0432\u0438"),o._UZ(4,"i",13),o.qZA(),o.YNc(5,VK,7,0,"div",14),o.qZA(),o.BQk()}if(2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.isMenuOpen)}}function jK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",15),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.closeMenu())}),o.TgZ(1,"a",19),o._uU(2,"\u041f\u0440\u043e\u0444\u0438\u043b"),o.qZA(),o.TgZ(3,"a",20),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.logout())}),o._uU(4,"\u0418\u0437\u0445\u043e\u0434"),o.qZA()()}}function ZK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",11)(1,"button",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMenu())}),o.TgZ(2,"span"),o._uU(3),o.qZA(),o._UZ(4,"i",13),o.qZA(),o.YNc(5,jK,5,0,"div",14),o.qZA()}if(2&n){const t=o.oxw();o.xp6(3),o.Oqu(t.getUserDisplayName()),o.xp6(2),o.Q6J("ngIf",t.isMenuOpen)}}function $K(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",15),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.closeMenu())}),o.TgZ(1,"a",22),o._uU(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.qZA(),o.TgZ(3,"a",23),o._uU(4,"\u0412\u0445\u043e\u0434"),o.qZA()()}}function qK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",11)(1,"button",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMenu())}),o.TgZ(2,"span"),o._UZ(3,"i",21),o.qZA(),o._UZ(4,"i",13),o.qZA(),o.YNc(5,$K,5,0,"div",14),o.qZA()}if(2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.isMenuOpen)}}let HK=(()=>{class n{constructor(t){this.authService=t,this.isMenuOpen=!1,this.userData=null,this.userDataSubject=new er.X(null),this.userDataSubscription=this.userDataSubject.subscribe(r=>{this.userData=r})}ngOnInit(){this.authService.userData$.subscribe({next:t=>{t?(this.userDataSubject.next(t),console.log("\u0418\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b:",t)):(this.userDataSubject.next(null),console.log("\u041d\u044f\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b."))},error:t=>{}})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.authService.logoutUser()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(r){return new(r||n)(o.Y36(i_))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-header"]],decls:17,vars:4,consts:[[1,"header"],[1,"wrapper"],[1,"logo"],["routerLink","/home"],[1,"navigation"],["routerLink","/categories"],[4,"ngIf"],[1,"dropdown-menu"],["class","dropdown",4,"ngIf","ngIfElse"],["anonymousUser",""],["routerLink","/base"],[1,"dropdown"],[1,"dropBtn",3,"click"],[1,"fa","fa-caret-down"],["class","dropdown-content",3,"click",4,"ngIf"],[1,"dropdown-content",3,"click"],["href","#","routerLink","/add-base"],["href","#","routerLink","/add-recipe"],["href","#","routerLink","/add-category"],["routerLink","/dashboard"],[3,"click"],[1,"fa-regular","fa-user","fa-flip"],["routerLink","/sign-up"],["routerLink","/sign-in"]],template:function(r,i){if(1&r&&(o.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),o._uU(4,"Chefs Talks"),o.qZA()(),o.TgZ(5,"nav",4)(6,"ul")(7,"li")(8,"a",5),o._uU(9,"\u041c\u0435\u043d\u044e"),o.qZA()(),o.YNc(10,UK,3,0,"li",6),o.qZA(),o.TgZ(11,"div",7),o.YNc(12,BK,6,1,"ng-container",6),o.TgZ(13,"div"),o.YNc(14,ZK,6,2,"div",8),o.YNc(15,qK,6,1,"ng-template",null,9,o.W1O),o.qZA()()()()()),2&r){const u=o.MAs(16);o.xp6(10),o.Q6J("ngIf",i.userData),o.xp6(2),o.Q6J("ngIf",i.userData&&i.userData.isAdmin),o.xp6(2),o.Q6J("ngIf",i.userData)("ngIfElse",u)}},dependencies:[dr,Ri],styles:[".header[_ngcontent-%COMP%]{height:8dvh;background-color:var(--mainColor);color:var(--mainWhiteColor);padding:20px}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1440px;display:flex;justify-content:space-between;align-items:center;margin:0 auto}.logo[_ngcontent-%COMP%]{font-size:32px;font-weight:900;text-decoration:underline}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}.navigation[_ngcontent-%COMP%]{display:flex}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainWhiteColor)}.dropdown-menu[_ngcontent-%COMP%]{display:flex;gap:15px}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropBtn[_ngcontent-%COMP%]{all:unset}.fa.fa-caret-down[_ngcontent-%COMP%]{padding-left:5px}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:-3px;background-color:var(--mainColor);min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainBlackColor);padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--backgroundColor)}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropBtn[_ngcontent-%COMP%]{color:var(--mainBlackColor)}@media (max-width: 460px){.header[_ngcontent-%COMP%]{height:unset}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1440px;display:flex;flex-direction:column}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{width:80%}.logo[_ngcontent-%COMP%]{font-size:26px;font-weight:600}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{width:80%}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{width:80%}}"]})}return n})(),GK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(r,i){1&r&&(o.TgZ(0,"footer",0)(1,"p"),o._uU(2,"\xa9 2023 Chefs Talks"),o.qZA()())},styles:[".footer[_ngcontent-%COMP%]{height:5dvh;background-color:var(--secondColor);color:var(--mainWhiteColor);text-align:center;padding:10px}"]})}return n})(),zK=(()=>{class n{constructor(){this.title="chefs-talks"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&o._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Ll,HK,GK]})}return n})(),WK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[en,jo]})}return n})();class zA{}class WA{}class lu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof lu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new lu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof lu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===u.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class KK{encodeKey(e){return A9(e)}encodeValue(e){return A9(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const YK=/%(\d[a-f0-9])/gi,JK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function A9(n){return encodeURIComponent(n).replace(YK,(e,t)=>JK[t]??e)}function KA(n){return`${n}`}class jd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new KK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function QK(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[l,f]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],m=t.get(l)||[];m.push(f),t.set(l,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(KA):[KA(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new jd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(KA(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(KA(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class XK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function D9(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function S9(n){return typeof Blob<"u"&&n instanceof Blob}function x9(n){return typeof FormData<"u"&&n instanceof FormData}class c1{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function eQ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new lu),this.context||(this.context=new XK),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new jd,this.urlWithParams=t}serializeBody(){return null===this.body?null:D9(this.body)||S9(this.body)||x9(this.body)||function tQ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof jd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x9(this.body)?null:S9(this.body)?this.body.type||null:D9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((A,M)=>A.set(M,e.setHeaders[M]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((A,M)=>A.set(M,e.setParams[M]),v)),new c1(t,r,u,{params:v,headers:m,context:C,reportProgress:f,responseType:i,withCredentials:l})}}var o_=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(o_||{});class PO{constructor(e,t=200,r="OK"){this.headers=e.headers||new lu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class OO extends PO{constructor(e={}){super(e),this.type=o_.ResponseHeader}clone(e={}){return new OO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class a_ extends PO{constructor(e={}){super(e),this.type=o_.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new a_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class M9 extends PO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function kO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let nQ=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof c1)u=t;else{let m,v;m=i.headers instanceof lu?i.headers:new lu(i.headers),i.params&&(v=i.params instanceof jd?i.params:new jd({fromObject:i.params})),u=new c1(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,at.of)(u).pipe(Oo(m=>this.handler.handle(m)));if(t instanceof c1||"events"===i.observe)return l;const f=l.pipe(Zr(m=>m instanceof a_));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return f.pipe((0,gt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,gt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,gt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,gt.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new jd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,kO(i,r))}post(t,r,i={}){return this.request("POST",t,kO(i,r))}put(t,r,i={}){return this.request("PUT",t,kO(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(zA))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function P9(n,e){return e(n)}function iQ(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const oQ=new o.OlP(""),l1=new o.OlP(""),O9=new o.OlP("");function aQ(){let n=null;return(e,t)=>{null===n&&(n=((0,o.f3M)(oQ,{optional:!0})??[]).reduceRight(iQ,P9));const r=(0,o.f3M)(o.HDt),i=r.add();return n(e,t).pipe(Ea(()=>r.remove(i)))}}let k9=(()=>{class n extends zA{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,o.f3M)(o.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(l1),...this.injector.get(O9,[])]));this.chain=i.reduceRight((u,l)=>function sQ(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(u,l,this.injector),P9)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ea(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(WA),o.LFG(o.lqb))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const dQ=/^\)\]\}',?\n/;let L9=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new o.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Tn.D)(r.\u0275loadImpl()):(0,at.of)(null)).pipe((0,xn.w)(()=>new Kn.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((G,X)=>l.setRequestHeader(G,X.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&l.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();l.responseType="json"!==G?G:"text"}const f=t.serializeBody();let m=null;const v=()=>{if(null!==m)return m;const G=l.statusText||"OK",X=new lu(l.getAllResponseHeaders()),Te=function hQ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return m=new OO({headers:X,status:l.status,statusText:G,url:Te}),m},C=()=>{let{headers:G,status:X,statusText:Te,url:Fe}=v(),ke=null;204!==X&&(ke=typeof l.response>"u"?l.responseText:l.response),0===X&&(X=ke?200:0);let Ke=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof ke){const _t=ke;ke=ke.replace(dQ,"");try{ke=""!==ke?JSON.parse(ke):null}catch(pt){ke=_t,Ke&&(Ke=!1,ke={error:pt,text:ke})}}Ke?(u.next(new a_({body:ke,headers:G,status:X,statusText:Te,url:Fe||void 0})),u.complete()):u.error(new M9({error:ke,headers:G,status:X,statusText:Te,url:Fe||void 0}))},A=G=>{const{url:X}=v(),Te=new M9({error:G,status:l.status||0,statusText:l.statusText||"Unknown Error",url:X||void 0});u.error(Te)};let M=!1;const O=G=>{M||(u.next(v()),M=!0);let X={type:o_.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(X.total=G.total),"text"===t.responseType&&l.responseText&&(X.partialText=l.responseText),u.next(X)},Z=G=>{let X={type:o_.UploadProgress,loaded:G.loaded};G.lengthComputable&&(X.total=G.total),u.next(X)};return l.addEventListener("load",C),l.addEventListener("error",A),l.addEventListener("timeout",A),l.addEventListener("abort",A),t.reportProgress&&(l.addEventListener("progress",O),null!==f&&l.upload&&l.upload.addEventListener("progress",Z)),l.send(f),u.next({type:o_.Sent}),()=>{l.removeEventListener("error",A),l.removeEventListener("abort",A),l.removeEventListener("load",C),l.removeEventListener("timeout",A),t.reportProgress&&(l.removeEventListener("progress",O),null!==f&&l.upload&&l.upload.removeEventListener("progress",Z)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(So))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const FO=new o.OlP("XSRF_ENABLED"),U9=new o.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),V9=new o.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class B9{}let gQ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye),o.LFG(o.Lbi),o.LFG(U9))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function mQ(n,e){const t=n.url.toLowerCase();if(!(0,o.f3M)(FO)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,o.f3M)(B9).getToken(),i=(0,o.f3M)(V9);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Zd=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Zd||{});function _Q(...n){const e=[nQ,L9,k9,{provide:zA,useExisting:k9},{provide:WA,useExisting:L9},{provide:l1,useValue:mQ,multi:!0},{provide:FO,useValue:!0},{provide:B9,useClass:gQ}];for(const t of n)e.push(...t.\u0275providers);return(0,o.MR2)(e)}const j9=new o.OlP("LEGACY_INTERCEPTOR_FN");function yQ(){return function Cp(n,e){return{\u0275kind:n,\u0275providers:e}}(Zd.LegacyInterceptors,[{provide:j9,useFactory:aQ},{provide:l1,useExisting:j9,multi:!0}])}let vQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[_Q(yQ())]})}return n})(),bQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[en,By]})}return n})(),AQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[]]}),n})();class Z9{}class DQ{}const Bc="*";function $9(n,e=null){return{type:2,steps:n,options:e}}function q9(n){return{type:6,styles:n,offset:null}}class d1{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class H9{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==u&&this._onFinish()}),l.onDestroy(()=>{++r==u&&this._onDestroy()}),l.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function G9(n){return new o.vHH(3e3,!1)}function $d(n){switch(n.length){case 0:return new d1;case 1:return n[0];default:return new H9(n)}}function z9(n,e,t=new Map,r=new Map){const i=[],u=[];let l=-1,f=null;if(e.forEach(m=>{const v=m.get("offset"),C=v==l,A=C&&f||new Map;m.forEach((M,O)=>{let Z=O,G=M;if("offset"!==O)switch(Z=n.normalizePropertyName(Z,i),G){case"!":G=t.get(O);break;case Bc:G=r.get(O);break;default:G=n.normalizeStyleValue(O,Z,G,i)}A.set(Z,G)}),C||u.push(A),f=A,l=v}),i.length)throw function QQ(n){return new o.vHH(3502,!1)}();return u}function UO(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&VO(t,"start",n)));break;case"done":n.onDone(()=>r(t&&VO(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&VO(t,"destroy",n)))}}function VO(n,e,t){const u=BO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function BO(n,e,t,r,i="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!l}}function Hs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function W9(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const uY=(()=>typeof document>"u"?null:document.documentElement)();function jO(n){const e=n.parentNode||n.host||null;return e===uY?null:e}let bp=null,K9=!1;function Q9(n,e){for(;e;){if(e===n)return!0;e=jO(e)}return!1}function Y9(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let J9=(()=>{class n{validateStyleProperty(t){return function lY(n){bp||(bp=function dY(){return typeof document<"u"?document.body:null}()||{},K9=!!bp.style&&"WebkitAppearance"in bp.style);let e=!0;return bp.style&&!function cY(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in bp.style,!e&&K9&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Q9(t,r)}getParentElement(t){return jO(t)}query(t,r,i){return Y9(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,l,f=[],m){return new d1(i,u)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})(),ZO=(()=>{class n{static#e=this.NOOP=new J9}return n})();const hY=1e3,$O="ng-enter",YA="ng-leave",JA="ng-trigger",XA=".ng-trigger",eB="ng-animating",qO=".ng-animating";function jc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:HO(parseFloat(e[1]),e[2])}function HO(n,e){return"s"===e?n*hY:n}function e3(n,e,t){return n.hasOwnProperty("duration")?n:function pY(n,e,t){let i,u=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(G9()),{duration:0,delay:0,easing:""};i=HO(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(u=HO(parseFloat(m),f[4]));const v=f[5];v&&(l=v)}else i=n;if(!t){let f=!1,m=e.length;i<0&&(e.push(function SQ(){return new o.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function xQ(){return new o.vHH(3101,!1)}()),f=!0),f&&e.splice(m,0,G9())}return{duration:i,delay:u,easing:l}}(n,e,t)}function h1(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function tB(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function qd(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function du(n,e,t){e.forEach((r,i)=>{const u=zO(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r})}function Ap(n,e){e.forEach((t,r)=>{const i=zO(r);n.style[i]=""})}function f1(n){return Array.isArray(n)?1==n.length?n[0]:$9(n):n}const GO=new RegExp("{{\\s*(.+?)\\s*}}","g");function rB(n){let e=[];if("string"==typeof n){let t;for(;t=GO.exec(n);)e.push(t[1]);GO.lastIndex=0}return e}function p1(n,e,t){const r=n.toString(),i=r.replace(GO,(u,l)=>{let f=e[l];return null==f&&(t.push(function NQ(n){return new o.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function t3(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const _Y=/-+([a-z0-9])/g;function zO(n){return n.replace(_Y,(...e)=>e[1].toUpperCase())}function Gs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function RQ(n){return new o.vHH(3004,!1)}()}}function iB(n,e){return window.getComputedStyle(n)[e]}const n3="*";function EY(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function IY(n,e,t){if(":"==n[0]){const m=function wY(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function GQ(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function HQ(n){return new o.vHH(3015,!1)}()),e;const i=r[1],u=r[2],l=r[3];e.push(sB(i,l));"<"==u[0]&&!(i==n3&&l==n3)&&e.push(sB(l,i))}(r,t,e)):t.push(n),t}const r3=new Set(["true","1"]),i3=new Set(["false","0"]);function sB(n,e){const t=r3.has(n)||i3.has(n),r=r3.has(e)||i3.has(e);return(i,u)=>{let l=n==n3||n==i,f=e==n3||e==u;return!l&&t&&"boolean"==typeof i&&(l=i?r3.has(n):i3.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?r3.has(e):i3.has(e)),l&&f}}const TY=new RegExp("s*:selfs*,?","g");function WO(n,e,t,r){return new CY(n).build(e,t,r)}class CY{constructor(e){this._driver=e}build(e,t,r){const i=new DY(t);return this._resetContextStyleTimingState(i),Gs(this,f1(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function OQ(){return new o.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const m=f,v=m.name;v.toString().split(/\s*,\s*/).forEach(C=>{m.name=C,u.push(this.visitState(m,t))}),m.name=v}else if(1==f.type){const m=this.visitTransition(f,t);r+=m.queryCount,i+=m.depCount,l.push(m)}else t.errors.push(function kQ(){return new o.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(m=>{rB(m).forEach(v=>{l.hasOwnProperty(v)||u.add(v)})})}),u.size&&(t3(u.values()),t.errors.push(function FQ(n,e){return new o.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Gs(this,f1(e.animation),t);return{type:1,matchers:EY(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Dp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Gs(this,r,t)),options:Dp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(l=>{t.currentTime=r;const f=Gs(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Dp(e.options)}}visitAnimate(e,t){const r=function xY(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return KO(e3(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=KO(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=e3(t,e);return KO(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:q9({});if(5==u.type)i=this.visitKeyframes(u,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=q9(v)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(l,t);m.isEmptyStep=f,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Bc?r.push(f):t.errors.push(new o.vHH(3002,!1)):r.push(tB(f));let u=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!u))for(let m of f.values())if(m.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),C=v.get(m);let A=!0;C&&(u!=i&&u>=C.startTime&&i<=C.endTime&&(t.errors.push(function UQ(n,e,t,r,i){return new o.vHH(3010,!1)}()),A=!1),u=C.startTime),A&&v.set(m,{startTime:u,endTime:i}),t.options&&function mY(n,e,t){const r=e.params||{},i=rB(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function MQ(n){return new o.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function VQ(){return new o.vHH(3011,!1)}()),r;let u=0;const l=[];let f=!1,m=!1,v=0;const C=e.steps.map(Te=>{const Fe=this._makeStyleAst(Te,t);let ke=null!=Fe.offset?Fe.offset:function SY(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Fe.styles),Ke=0;return null!=ke&&(u++,Ke=Fe.offset=ke),m=m||Ke<0||Ke>1,f=f||Ke<v,v=Ke,l.push(Ke),Fe});m&&t.errors.push(function BQ(){return new o.vHH(3012,!1)}()),f&&t.errors.push(function jQ(){return new o.vHH(3200,!1)}());const A=e.steps.length;let M=0;u>0&&u<A?t.errors.push(function ZQ(){return new o.vHH(3202,!1)}()):0==u&&(M=1/(A-1));const O=A-1,Z=t.currentTime,G=t.currentAnimateTimings,X=G.duration;return C.forEach((Te,Fe)=>{const ke=M>0?Fe==O?1:M*Fe:l[Fe],Ke=ke*X;t.currentTime=Z+G.delay+Ke,G.duration=Ke,this._validateStyleAst(Te,t),Te.offset=ke,r.styles.push(Te)}),r}visitReference(e,t){return{type:8,animation:Gs(this,f1(e.animation),t),options:Dp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Dp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Dp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function bY(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(TY,"")),n=n.replace(/@\*/g,XA).replace(/@\w+/g,t=>XA+"-"+t.slice(1)).replace(/:animating/g,qO),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Hs(t.collectedStyles,t.currentQuerySelector,new Map);const f=Gs(this,f1(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Dp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function $Q(){return new o.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:e3(e.timings,t.errors,!0);return{type:12,animation:Gs(this,f1(e.animation),t),timings:r,options:null}}}class DY{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Dp(n){return n?(n=h1(n)).params&&(n.params=function AY(n){return n?h1(n):null}(n.params)):n={},n}function KO(n,e,t){return{duration:n,delay:e,easing:t}}function QO(n,e,t,r,i,u,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:l,subTimeline:f}}class s3{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const RY=new RegExp(":enter","g"),OY=new RegExp(":leave","g");function YO(n,e,t,r,i,u=new Map,l=new Map,f,m,v=[]){return(new kY).buildKeyframes(n,e,t,r,i,u,l,f,m,v)}class kY{buildKeyframes(e,t,r,i,u,l,f,m,v,C=[]){v=v||new s3;const A=new JO(e,t,v,i,u,C,[]);A.options=m;const M=m.delay?jc(m.delay):0;A.currentTimeline.delayNextStep(M),A.currentTimeline.setStyles([l],null,A.errors,m),Gs(this,r,A);const O=A.timelines.filter(Z=>Z.containsAnimation());if(O.length&&f.size){let Z;for(let G=O.length-1;G>=0;G--){const X=O[G];if(X.element===t){Z=X;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([f],null,A.errors,m)}return O.length?O.map(Z=>Z.buildKeyframes()):[QO(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const l="number"==typeof u?u:jc(p1(u,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?jc(r.duration):null,f=null!=r.delay?jc(r.delay):null;return 0!==l&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,l,f);u=Math.max(u,v.duration+v.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Gs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=o3);const l=jc(u.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Gs(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?jc(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),Gs(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return e3(t.params?p1(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(m=>{f.forwardTime((m.offset||0)*u),f.setStyles(m.styles,m.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?jc(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=o3);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let m=null;f.forEach((v,C)=>{t.currentQueryIndex=C;const A=t.createSubContext(e.options,v);u&&A.delayNextStep(u),v===t.element&&(m=A.currentTimeline),Gs(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),f=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const C=t.currentTimeline;m&&C.delayNextStep(m);const A=C.currentTime;Gs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const o3={};class JO{constructor(e,t,r,i,u,l,f,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=o3,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new a3(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=jc(r.duration)),null!=r.delay&&(i.delay=jc(r.delay));const u=r.params;if(u){let l=i.params;l||(l=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=p1(u[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new JO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=o3,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new FY(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(RY,"."+this._enterClassName)).replace(OY,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!u&&0==f.length&&l.push(function qQ(n){return new o.vHH(3014,!1)}()),f}}class a3{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new a3(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Bc),this._currentKeyframe.set(t,Bc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},l=function LY(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,Bc)}else qd(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,m]of l){const v=p1(m,u,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Bc),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,m)=>{const v=qd(f,new Map,this._backFill);v.forEach((C,A)=>{"!"===C?e.add(A):C===Bc&&t.add(A)}),r||v.set("offset",m/this.duration),i.push(v)});const u=e.size?t3(e.values()):[],l=t.size?t3(t.values()):[];if(r){const f=i[0],m=new Map(f);f.set("offset",0),m.set("offset",1),i=[f,m]}return QO(this.element,i,u,l,this.duration,this.startTime,this.easing,!1)}}class FY extends a3{constructor(e,t,r,i,u,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,f=t/l,m=qd(e[0]);m.set("offset",0),u.push(m);const v=qd(e[0]);v.set("offset",uB(f)),u.push(v);const C=e.length-1;for(let A=1;A<=C;A++){let M=qd(e[A]);const O=M.get("offset");M.set("offset",uB((t+O*r)/l)),u.push(M)}r=l,t=0,i="",e=u}return QO(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function uB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class XO{}const UY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class VY extends XO{normalizePropertyName(e,t){return zO(e)}normalizeStyleValue(e,t,r,i){let u="";const l=r.toString().trim();if(UY.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function PQ(n,e){return new o.vHH(3005,!1)}())}return l+u}}function cB(n,e,t,r,i,u,l,f,m,v,C,A,M){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:f,queriedElements:m,preStyleProps:v,postStyleProps:C,totalTime:A,errors:M}}const ek={};class lB{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function BY(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,l,f,m,v,C){const A=[],M=this.ast.options&&this.ast.options.params||ek,Z=this.buildStyles(r,f&&f.params||ek,A),G=m&&m.params||ek,X=this.buildStyles(i,G,A),Te=new Set,Fe=new Map,ke=new Map,Ke="void"===i,_t={params:jY(G,M),delay:this.ast.options?.delay},pt=C?[]:YO(e,t,this.ast.animation,u,l,Z,X,_t,v,A);let Kt=0;if(pt.forEach(ji=>{Kt=Math.max(ji.duration+ji.delay,Kt)}),A.length)return cB(t,this._triggerName,r,i,Ke,Z,X,[],[],Fe,ke,Kt,A);pt.forEach(ji=>{const oa=ji.element,SB=Hs(Fe,oa,new Set);ji.preStyleProps.forEach(Sp=>SB.add(Sp));const m1=Hs(ke,oa,new Set);ji.postStyleProps.forEach(Sp=>m1.add(Sp)),oa!==t&&Te.add(oa)});const wr=t3(Te.values());return cB(t,this._triggerName,r,i,Ke,Z,X,pt,wr,Fe,ke,Kt)}}function jY(n,e){const t=h1(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class ZY{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=h1(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!==l&&(i[u]=l)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((l,f)=>{l&&(l=p1(l,i,t));const m=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,m,l,t),r.set(f,l)})}),r}}class qY{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new ZY(i.style,i.options&&i.options.params||{},r))}),dB(this.states,"true","1"),dB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new lB(e,i,this.states))}),this.fallbackTransition=function HY(n,e,t){return new lB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function dB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const GY=new s3;class zY{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=WO(this._driver,t,r,[]);if(r.length)throw function YQ(n){return new o.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=z9(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let l;const f=new Map;if(u?(l=YO(this._driver,t,u,$O,YA,new Map,new Map,r,GY,i),l.forEach(C=>{const A=Hs(f,C.element,new Map);C.postStyleProps.forEach(M=>A.set(M,null))})):(i.push(function JQ(){return new o.vHH(3300,!1)}()),l=[]),i.length)throw function XQ(n){return new o.vHH(3504,!1)}();f.forEach((C,A)=>{C.forEach((M,O)=>{C.set(O,this._driver.computeStyle(A,O,Bc))})});const v=$d(l.map(C=>{const A=f.get(C.element);return this._buildPlayer(C,new Map,A)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function eY(n){return new o.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=BO(t,"","","");return UO(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const hB="ng-animate-queued",tk="ng-animate-disabled",JY=[],fB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sa="__ng_removed";class nk{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function rJ(n){return n??null}(r?e.value:e),r){const u=h1(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const g1="void",rk=new nk(g1);class eJ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,To(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function tY(n,e){return new o.vHH(3302,!1)}();if(null==r||0==r.length)throw function nY(n){return new o.vHH(3303,!1)}();if(!function iJ(n){return"start"==n||"done"==n}(r))throw function rY(n,e){return new o.vHH(3400,!1)}();const u=Hs(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};u.push(l);const f=Hs(this._engine.statesByElement,e,new Map);return f.has(t)||(To(e,JA),To(e,JA+"-"+t),f.set(t,rk)),()=>{this._engine.afterFlush(()=>{const m=u.indexOf(l);m>=0&&u.splice(m,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function iY(n){return new o.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),l=new ik(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(To(e,JA),To(e,JA+"-"+t),this._engine.statesByElement.set(e,f=new Map));let m=f.get(t);const v=new nk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),f.set(t,v),m||(m=rk),v.value!==g1&&m.value===v.value){if(!function aJ(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(m.params,v.params)){const G=[],X=u.matchStyles(m.value,m.params,G),Te=u.matchStyles(v.value,v.params,G);G.length?this._engine.reportError(G):this._engine.afterFlush(()=>{Ap(e,X),du(e,Te)})}return}const M=Hs(this._engine.playersByElement,e,[]);M.forEach(G=>{G.namespaceId==this.id&&G.triggerName==t&&G.queued&&G.destroy()});let O=u.matchTransition(m.value,v.value,e,v.params),Z=!1;if(!O){if(!i)return;O=u.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:O,fromState:m,toState:v,player:l,isFallbackTransition:Z}),Z||(To(e,hB),l.onStart(()=>{u_(e,hB)})),l.onDone(()=>{let G=this.players.indexOf(l);G>=0&&this.players.splice(G,1);const X=this._engine.playersByElement.get(e);if(X){let Te=X.indexOf(l);Te>=0&&X.splice(Te,1)}}),this.players.push(l),M.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,XA,!0);r.forEach(i=>{if(i[sa])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),l=new Map;if(u){const f=[];if(u.forEach((m,v)=>{if(l.set(v,m.value),this._triggers.has(v)){const C=this.trigger(e,v,g1,i);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&$d(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const l=u.name;if(i.has(l))return;i.add(l);const m=this._triggers.get(l).fallbackTransition,v=r.get(l)||rk,C=new nk(g1),A=new ik(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:v,toState:C,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[sa];(!u||u===fB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){To(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(f=>{if(f.name==r.triggerName){const m=BO(u,r.triggerName,r.fromState.value,r.toState.value);m._data=e,UO(r.player,f.phase,m,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class tJ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new eJ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const m=i.get(f);if(m){const v=r.indexOf(m);r.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(u3(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!u3(t))return;const u=t[sa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),To(e,tk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),u_(e,tk))}removeNode(e,t,r){if(u3(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[sa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return u3(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,XA,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,qO,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $d(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[sa];if(t&&t.setForRemoval){if(e[sa]=fB,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(tk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)To(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?$d(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function sY(n){return new o.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new s3,i=[],u=new Map,l=[],f=new Map,m=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(tt=>{C.add(tt);const lt=this.driver.query(tt,".ng-animate-queued",!0);for(let It=0;It<lt.length;It++)C.add(lt[It])});const A=this.bodyNode,M=Array.from(this.statesByElement.keys()),O=mB(M,this.collectedEnterElements),Z=new Map;let G=0;O.forEach((tt,lt)=>{const It=$O+G++;Z.set(lt,It),tt.forEach(Xt=>To(Xt,It))});const X=[],Te=new Set,Fe=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const lt=this.collectedLeaveElements[tt],It=lt[sa];It&&It.setForRemoval&&(X.push(lt),Te.add(lt),It.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(Xt=>Te.add(Xt)):Fe.add(lt))}const ke=new Map,Ke=mB(M,Array.from(Te));Ke.forEach((tt,lt)=>{const It=YA+G++;ke.set(lt,It),tt.forEach(Xt=>To(Xt,It))}),e.push(()=>{O.forEach((tt,lt)=>{const It=Z.get(lt);tt.forEach(Xt=>u_(Xt,It))}),Ke.forEach((tt,lt)=>{const It=ke.get(lt);tt.forEach(Xt=>u_(Xt,It))}),X.forEach(tt=>{this.processLeaveNode(tt)})});const _t=[],pt=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(t).forEach(It=>{const Xt=It.player,Jr=It.element;if(_t.push(Xt),this.collectedEnterElements.length){const Zi=Jr[sa];if(Zi&&Zi.setForMove){if(Zi.previousTriggersValues&&Zi.previousTriggersValues.has(It.triggerName)){const xp=Zi.previousTriggersValues.get(It.triggerName),Co=this.statesByElement.get(It.element);if(Co&&Co.has(It.triggerName)){const d3=Co.get(It.triggerName);d3.value=xp,Co.set(It.triggerName,d3)}}return void Xt.destroy()}}const hu=!A||!this.driver.containsElement(A,Jr),zs=ke.get(Jr),Hd=Z.get(Jr),Gn=this._buildInstruction(It,r,Hd,zs,hu);if(Gn.errors&&Gn.errors.length)return void pt.push(Gn);if(hu)return Xt.onStart(()=>Ap(Jr,Gn.fromStyles)),Xt.onDestroy(()=>du(Jr,Gn.toStyles)),void i.push(Xt);if(It.isFallbackTransition)return Xt.onStart(()=>Ap(Jr,Gn.fromStyles)),Xt.onDestroy(()=>du(Jr,Gn.toStyles)),void i.push(Xt);const NB=[];Gn.timelines.forEach(Zi=>{Zi.stretchStartingKeyframe=!0,this.disabledNodes.has(Zi.element)||NB.push(Zi)}),Gn.timelines=NB,r.append(Jr,Gn.timelines),l.push({instruction:Gn,player:Xt,element:Jr}),Gn.queriedElements.forEach(Zi=>Hs(f,Zi,[]).push(Xt)),Gn.preStyleProps.forEach((Zi,xp)=>{if(Zi.size){let Co=m.get(xp);Co||m.set(xp,Co=new Set),Zi.forEach((d3,ak)=>Co.add(ak))}}),Gn.postStyleProps.forEach((Zi,xp)=>{let Co=v.get(xp);Co||v.set(xp,Co=new Set),Zi.forEach((d3,ak)=>Co.add(ak))})});if(pt.length){const tt=[];pt.forEach(lt=>{tt.push(function oY(n,e){return new o.vHH(3505,!1)}())}),_t.forEach(lt=>lt.destroy()),this.reportError(tt)}const Kt=new Map,wr=new Map;l.forEach(tt=>{const lt=tt.element;r.has(lt)&&(wr.set(lt,lt),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,Kt))}),i.forEach(tt=>{const lt=tt.element;this._getPreviousPlayers(lt,!1,tt.namespaceId,tt.triggerName,null).forEach(Xt=>{Hs(Kt,lt,[]).push(Xt),Xt.destroy()})});const ji=X.filter(tt=>yB(tt,m,v)),oa=new Map;gB(oa,this.driver,Fe,v,Bc).forEach(tt=>{yB(tt,m,v)&&ji.push(tt)});const m1=new Map;O.forEach((tt,lt)=>{gB(m1,this.driver,new Set(tt),m,"!")}),ji.forEach(tt=>{const lt=oa.get(tt),It=m1.get(tt);oa.set(tt,new Map([...lt?.entries()??[],...It?.entries()??[]]))});const Sp=[],xB=[],MB={};l.forEach(tt=>{const{element:lt,player:It,instruction:Xt}=tt;if(r.has(lt)){if(C.has(lt))return It.onDestroy(()=>du(lt,Xt.toStyles)),It.disabled=!0,It.overrideTotalTime(Xt.totalTime),void i.push(It);let Jr=MB;if(wr.size>1){let zs=lt;const Hd=[];for(;zs=zs.parentNode;){const Gn=wr.get(zs);if(Gn){Jr=Gn;break}Hd.push(zs)}Hd.forEach(Gn=>wr.set(Gn,Jr))}const hu=this._buildAnimation(It.namespaceId,Xt,Kt,u,m1,oa);if(It.setRealPlayer(hu),Jr===MB)Sp.push(It);else{const zs=this.playersByElement.get(Jr);zs&&zs.length&&(It.parentPlayer=$d(zs)),i.push(It)}}else Ap(lt,Xt.fromStyles),It.onDestroy(()=>du(lt,Xt.toStyles)),xB.push(It),C.has(lt)&&i.push(It)}),xB.forEach(tt=>{const lt=u.get(tt.element);if(lt&&lt.length){const It=$d(lt);tt.setRealPlayer(It)}}),i.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<X.length;tt++){const lt=X[tt],It=lt[sa];if(u_(lt,YA),It&&It.hasAnimation)continue;let Xt=[];if(f.size){let hu=f.get(lt);hu&&hu.length&&Xt.push(...hu);let zs=this.driver.query(lt,qO,!0);for(let Hd=0;Hd<zs.length;Hd++){let Gn=f.get(zs[Hd]);Gn&&Gn.length&&Xt.push(...Gn)}}const Jr=Xt.filter(hu=>!hu.destroyed);Jr.length?sJ(this,lt,Jr):this.processLeaveNode(lt)}return X.length=0,Sp.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const lt=this.players.indexOf(tt);this.players.splice(lt,1)}),tt.play()}),Sp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const m=!u||u==g1;f.forEach(v=>{v.queued||!m&&v.triggerName!=i||l.push(v)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,C=v!==u,A=Hs(r,v,[]);this._getPreviousPlayers(v,C,l,f,t.toState).forEach(O=>{const Z=O.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),O.destroy(),A.push(O)})}Ap(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,l){const f=t.triggerName,m=t.element,v=[],C=new Set,A=new Set,M=t.timelines.map(Z=>{const G=Z.element;C.add(G);const X=G[sa];if(X&&X.removedBeforeQueried)return new d1(Z.duration,Z.delay);const Te=G!==m,Fe=function oJ(n){const e=[];return _B(n,e),e}((r.get(G)||JY).map(Kt=>Kt.getRealPlayer())).filter(Kt=>!!Kt.element&&Kt.element===G),ke=u.get(G),Ke=l.get(G),_t=z9(this._normalizer,Z.keyframes,ke,Ke),pt=this._buildPlayer(Z,_t,Fe);if(Z.subTimeline&&i&&A.add(G),Te){const Kt=new ik(e,f,G);Kt.setRealPlayer(pt),v.push(Kt)}return pt});v.forEach(Z=>{Hs(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function nJ(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Z.element,Z))}),C.forEach(Z=>To(Z,eB));const O=$d(M);return O.onDestroy(()=>{C.forEach(Z=>u_(Z,eB)),du(m,t.toStyles)}),A.forEach(Z=>{Hs(i,Z,[]).push(O)}),O}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new d1(e.duration,e.delay)}}class ik{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new d1,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>UO(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Hs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function u3(n){return n&&1===n.nodeType}function pB(n,e){const t=n.style.display;return n.style.display=e??"none",t}function gB(n,e,t,r,i){const u=[];t.forEach(m=>u.push(pB(m)));const l=[];r.forEach((m,v)=>{const C=new Map;m.forEach(A=>{const M=e.computeStyle(v,A,i);C.set(A,M),(!M||0==M.length)&&(v[sa]=XY,l.push(v))}),n.set(v,C)});let f=0;return t.forEach(m=>pB(m,u[f++])),l}function mB(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function l(f){if(!f)return 1;let m=u.get(f);if(m)return m;const v=f.parentNode;return m=t.has(v)?v:i.has(v)?1:l(v),u.set(f,m),m}return e.forEach(f=>{const m=l(f);1!==m&&t.get(m).push(f)}),t}function To(n,e){n.classList?.add(e)}function u_(n,e){n.classList?.remove(e)}function sJ(n,e,t){$d(t).onDone(()=>n.processLeaveNode(e))}function _B(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof H9?_B(r.players,e):e.push(r)}}function yB(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class c3{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new tJ(e,t,r),this._timelineEngine=new zY(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const m=[],C=WO(this._driver,u,m,[]);if(m.length)throw function KQ(n,e){return new o.vHH(3404,!1)}();f=function $Y(n,e,t){return new qY(n,e,t)}(i,C,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,l]=W9(r);this._timelineEngine.command(u,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[l,f]=W9(r);return this._timelineEngine.listen(l,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let cJ=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&du(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(du(this._element,this._initialStyles),this._endStyles&&(du(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ap(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ap(this._element,this._endStyles),this._endStyles=null),du(this._element,this._initialStyles),this._state=3)}}return n})();function sk(n){let e=null;return n.forEach((t,r)=>{(function lJ(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class vB{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:iB(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dJ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Q9(e,t)}getParentElement(e){return jO(e)}query(e,t,r){return Y9(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,l=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(m.easing=u);const v=new Map,C=l.filter(O=>O instanceof vB);(function yY(n,e){return 0===n||0===e})(r,i)&&C.forEach(O=>{O.currentSnapshot.forEach((Z,G)=>v.set(G,Z))});let A=function gY(n){return n.length?n[0]instanceof Map?n:n.map(e=>tB(e)):[]}(t).map(O=>qd(O));A=function vY(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,l)=>{r.has(l)||i.push(l),r.set(l,u)}),i.length)for(let u=1;u<e.length;u++){let l=e[u];i.forEach(f=>l.set(f,iB(n,f)))}}return e}(e,A,v);const M=function uJ(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=sk(e[0]),e.length>1&&(r=sk(e[e.length-1]))):e instanceof Map&&(t=sk(e)),t||r?new cJ(n,t,r):null}(e,A);return new vB(e,A,m,M)}}let hJ=(()=>{class n extends Z9{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?$9(t):t;return EB(this._renderer,null,r,"register",[i]),new fJ(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(o.FYo),o.LFG(ye))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class fJ extends DQ{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new pJ(this._id,e,t||{},this._renderer)}}class pJ{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return EB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function EB(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const IB="@.disabled";let gJ=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(u,l)=>{const f=l?.parentNode(u);f&&l.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(u);return C||(C=new wB("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,C)),C}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const m=C=>{Array.isArray(C)?C.forEach(m):this.engine.registerTrigger(l,f,t,C.name,C)};return r.data.animation.forEach(m),new mJ(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,f]=u;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(o.FYo),o.LFG(c3),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class wB{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==IB?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mJ extends wB{constructor(e,t,r,i,u){super(t,r,i,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==IB?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function _J(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),l="";return"@"!=u.charAt(0)&&([u,l]=function yJ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let vJ=(()=>{class n extends c3{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(o.LFG(ye),o.LFG(ZO),o.LFG(XO),o.LFG(o.z2F))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const TB=[{provide:Z9,useClass:hJ},{provide:XO,useFactory:function EJ(){return new VY}},{provide:c3,useClass:vJ},{provide:o.FYo,useFactory:function IJ(n,e,t){return new gJ(n,e,t)},deps:[fh,c3,o.R0b]}],ok=[{provide:ZO,useFactory:()=>new dJ},{provide:o.QbO,useValue:"BrowserAnimations"},...TB],CB=[{provide:ZO,useClass:J9},{provide:o.QbO,useValue:"NoopAnimations"},...TB];let wJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?CB:ok}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:ok,imports:[ma]})}return n})(),TJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[en]})}return n})();var CJ=P(3019);class bJ extends ls.x{constructor(e=1/0,t=1/0,r=s4){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!i&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const l=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)f=m;f&&r.splice(0,f+1)}}}var AJ=P(3020);function bB(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,AJ.B)({connector:()=>new bJ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function AB(n,e){return(0,Ds.m)(e)?(0,xn.w)(()=>n,e):(0,xn.w)(()=>n)}var c_=P(6304),DJ=P(120);const xJ=new o.OlP("angularfire2.auth.use-emulator"),MJ=new o.OlP("angularfire2.auth.settings"),NJ=new o.OlP("angularfire2.auth.tenant-id"),RJ=new o.OlP("angularfire2.auth.langugage-code"),PJ=new o.OlP("angularfire2.auth.use-device-language"),OJ=new o.OlP("angularfire.auth.persistence");let DB=(()=>{class n{constructor(t,r,i,u,l,f,m,v,C,A,M,O){const Z=new ls.x,G=(0,at.of)(void 0).pipe((0,gd.Q)(l.outsideAngular),(0,xn.w)(()=>u.runOutsideAngular(()=>P.e(661).then(P.bind(P,8661)))),(0,gt.U)(()=>(0,c_.on)(t,u,r)),(0,gt.U)(X=>((n,e,t,r,i,u,l,f)=>(0,c_.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,u&&m.useDeviceLanguage(),l)for(const[v,C]of Object.entries(l))m.settings[v]=C;return f&&m.setPersistence(f),m},[t,r,i,u,l,f]))(X,u,f,v,C,A,m,M)),bB({bufferSize:1,refCount:!1}));if(jr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,at.of)(null);else{G.pipe(oi()).subscribe();const Te=G.pipe((0,xn.w)(Ke=>Ke.getRedirectResult().then(_t=>_t,()=>null)),fC,bB({bufferSize:1,refCount:!1})),Fe=G.pipe((0,xn.w)(Ke=>new Kn.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ke.onAuthStateChanged(pt=>_t.next(pt),pt=>_t.error(pt),()=>_t.complete()))})))),ke=G.pipe((0,xn.w)(Ke=>new Kn.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ke.onIdTokenChanged(pt=>_t.next(pt),pt=>_t.error(pt),()=>_t.complete()))}))));this.authState=Te.pipe(AB(Fe),(0,Uf.R)(l.outsideAngular),(0,gd.Q)(l.insideAngular)),this.user=Te.pipe(AB(ke),(0,Uf.R)(l.outsideAngular),(0,gd.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,xn.w)(Ke=>Ke?(0,Tn.D)(Ke.getIdToken()):(0,at.of)(null))),this.idTokenResult=this.user.pipe((0,xn.w)(Ke=>Ke?(0,Tn.D)(Ke.getIdTokenResult()):(0,at.of)(null))),this.credential=(0,CJ.T)(Te,Z,this.authState.pipe(Zr(Ke=>!Ke))).pipe((0,gt.U)(Ke=>Ke?.user?Ke:null),(0,Uf.R)(l.outsideAngular),(0,gd.Q)(l.insideAngular))}return(0,c_.pX)(this,G,u,{spy:{apply:(X,Te,Fe)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&Fe.then(ke=>Z.next(ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(c_.Dh),o.LFG(c_.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Vf),o.LFG(xJ,8),o.LFG(MJ,8),o.LFG(NJ,8),o.LFG(RJ,8),o.LFG(PJ,8),o.LFG(OJ,8),o.LFG(F4,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),FJ=(()=>{class n{constructor(){DJ.Z.registerVersion("angularfire",Tc.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[DB]}),n})(),LJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[en,VD,By,jo]})}return n})(),UJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=o.oAB({type:n,bootstrap:[zK]});static#n=this.\u0275inj=o.cJS({providers:[{provide:Oe,useClass:Ve}],imports:[ma,FJ,LK,WK,TJ,bQ,jo,vQ,By,LJ,U2(()=>mC(xA_firebaseConfig)),k$(()=>F$()),AQ,wJ]})}return n})();Qp().bootstrapModule(UJ).catch(n=>console.error(n))},5619:(it,Ee,P)=>{P.d(Ee,{X:()=>L});var o=P(8645);class L extends o.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const he=super._subscribe(se);return!he.closed&&se.next(this._value),he}getValue(){const{hasError:se,thrownError:he,_value:ye}=this;if(se)throw he;return this._throwIfClosed(),ye}next(se){super.next(this._value=se)}}},5592:(it,Ee,P)=>{P.d(Ee,{y:()=>Ue});var o=P(305),L=P(7394),ie=P(4850),se=P(8407),he=P(2653),ye=P(4674),Re=P(1441);let Ue=(()=>{class re{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const Qe=new re;return Qe.source=this,Qe.operator=ue,Qe}subscribe(ue,Qe,Ve){const xe=function j(re){return re&&re instanceof o.Lv||function B(re){return re&&(0,ye.m)(re.next)&&(0,ye.m)(re.error)&&(0,ye.m)(re.complete)}(re)&&(0,L.Nn)(re)}(ue)?ue:new o.Hp(ue,Qe,Ve);return(0,Re.x)(()=>{const{operator:Ae,source:Ye}=this;xe.add(Ae?Ae.call(xe,Ye):Ye?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Qe){ue.error(Qe)}}forEach(ue,Qe){return new(Qe=Se(Qe))((Ve,xe)=>{const Ae=new o.Hp({next:Ye=>{try{ue(Ye)}catch(we){xe(we),Ae.unsubscribe()}},error:xe,complete:Ve});this.subscribe(Ae)})}_subscribe(ue){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(ue)}[ie.L](){return this}pipe(...ue){return(0,se.U)(ue)(this)}toPromise(ue){return new(ue=Se(ue))((Qe,Ve)=>{let xe;this.subscribe(Ae=>xe=Ae,Ae=>Ve(Ae),()=>Qe(xe))})}}return re.create=Oe=>new re(Oe),re})();function Se(re){var Oe;return null!==(Oe=re??he.config.Promise)&&void 0!==Oe?Oe:Promise}},8645:(it,Ee,P)=>{P.d(Ee,{x:()=>Re});var o=P(5592),L=P(7394);const se=(0,P(2306).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=P(9039),ye=P(1441);let Re=(()=>{class Se extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const re=new Ue(this,this);return re.operator=j,re}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(j)}})}error(j){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:re}=this;for(;re.length;)re.shift().error(j)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:re,isStopped:Oe,observers:ue}=this;return re||Oe?L.Lc:(this.currentObservers=null,ue.push(j),new L.w0(()=>{this.currentObservers=null,(0,he.P)(ue,j)}))}_checkFinalizedStatuses(j){const{hasError:re,thrownError:Oe,isStopped:ue}=this;re?j.error(Oe):ue&&j.complete()}asObservable(){const j=new o.y;return j.source=this,j}}return Se.create=(B,j)=>new Ue(B,j),Se})();class Ue extends Re{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,re;null===(re=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===re||re.call(j,B)}error(B){var j,re;null===(re=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===re||re.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,re;return null!==(re=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==re?re:L.Lc}}},305:(it,Ee,P)=>{P.d(Ee,{Hp:()=>Ve,Lv:()=>re});var o=P(4674),L=P(7394),ie=P(2653),se=P(3894),he=P(2420);const ye=Se("C",void 0,void 0);function Se(Ce,ce,ve){return{kind:Ce,value:ce,error:ve}}var B=P(7599),j=P(1441);class re extends L.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,L.Nn)(ce)&&ce.add(this)):this.destination=we}static create(ce,ve,Me){return new Ve(ce,ve,Me)}next(ce){this.isStopped?Ye(function Ue(Ce){return Se("N",Ce,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?Ye(function Re(Ce){return Se("E",void 0,Ce)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?Ye(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function ue(Ce,ce){return Oe.call(Ce,ce)}class Qe{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:ve}=this;if(ve.next)try{ve.next(ce)}catch(Me){xe(Me)}}error(ce){const{partialObserver:ve}=this;if(ve.error)try{ve.error(ce)}catch(Me){xe(Me)}else xe(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(ve){xe(ve)}}}class Ve extends re{constructor(ce,ve,Me){let K;if(super(),(0,o.m)(ce)||!ce)K={next:ce??void 0,error:ve??void 0,complete:Me??void 0};else{let k;this&&ie.config.useDeprecatedNextContext?(k=Object.create(ce),k.unsubscribe=()=>this.unsubscribe(),K={next:ce.next&&ue(ce.next,k),error:ce.error&&ue(ce.error,k),complete:ce.complete&&ue(ce.complete,k)}):K=ce}this.destination=new Qe(K)}}function xe(Ce){ie.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ce):(0,se.h)(Ce)}function Ye(Ce,ce){const{onStoppedNotification:ve}=ie.config;ve&&B.z.setTimeout(()=>ve(Ce,ce))}const we={closed:!0,next:he.Z,error:function Ae(Ce){throw Ce},complete:he.Z}},7394:(it,Ee,P)=>{P.d(Ee,{Lc:()=>ye,w0:()=>he,Nn:()=>Re});var o=P(4674);const ie=(0,P(2306).d)(Se=>function(j){Se(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((re,Oe)=>`${Oe+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=P(9039);class he{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const ue of j)ue.remove(this);else j.remove(this);const{initialTeardown:re}=this;if((0,o.m)(re))try{re()}catch(ue){B=ue instanceof ie?ue.errors:[ue]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const ue of Oe)try{Ue(ue)}catch(Qe){B=B??[],Qe instanceof ie?B=[...B,...Qe.errors]:B.push(Qe)}}if(B)throw new ie(B)}}add(B){var j;if(B&&B!==this)if(this.closed)Ue(B);else{if(B instanceof he){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,se.P)(j,B),B instanceof he&&B._removeParent(this)}}he.EMPTY=(()=>{const Se=new he;return Se.closed=!0,Se})();const ye=he.EMPTY;function Re(Se){return Se instanceof he||Se&&"closed"in Se&&(0,o.m)(Se.remove)&&(0,o.m)(Se.add)&&(0,o.m)(Se.unsubscribe)}function Ue(Se){(0,o.m)(Se)?Se():Se.unsubscribe()}},2653:(it,Ee,P)=>{P.d(Ee,{config:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(it,Ee,P)=>{P.d(Ee,{E:()=>L});const L=new(P(5592).y)(he=>he.complete())},2459:(it,Ee,P)=>{P.d(Ee,{D:()=>ce});var o=P(4829),L=P(3093),ie=P(5137),ye=P(5592),Ue=P(4971),Se=P(4674),B=P(7103);function re(ve,Me){if(!ve)throw new Error("Iterable cannot be null");return new ye.y(K=>{(0,B.f)(K,Me,()=>{const k=ve[Symbol.asyncIterator]();(0,B.f)(K,Me,()=>{k.next().then(W=>{W.done?K.complete():K.next(W.value)})},0,!0)})})}var Oe=P(8382),ue=P(4026),Qe=P(4266),Ve=P(3664),xe=P(5726),Ae=P(9853),Ye=P(541);function ce(ve,Me){return Me?function Ce(ve,Me){if(null!=ve){if((0,Oe.c)(ve))return function se(ve,Me){return(0,o.Xf)(ve).pipe((0,ie.R)(Me),(0,L.Q)(Me))}(ve,Me);if((0,Qe.z)(ve))return function Re(ve,Me){return new ye.y(K=>{let k=0;return Me.schedule(function(){k===ve.length?K.complete():(K.next(ve[k++]),K.closed||this.schedule())})})}(ve,Me);if((0,ue.t)(ve))return function he(ve,Me){return(0,o.Xf)(ve).pipe((0,ie.R)(Me),(0,L.Q)(Me))}(ve,Me);if((0,xe.D)(ve))return re(ve,Me);if((0,Ve.T)(ve))return function j(ve,Me){return new ye.y(K=>{let k;return(0,B.f)(K,Me,()=>{k=ve[Ue.h](),(0,B.f)(K,Me,()=>{let W,pe;try{({value:W,done:pe}=k.next())}catch(Mt){return void K.error(Mt)}pe?K.complete():K.next(W)},0,!0)}),()=>(0,Se.m)(k?.return)&&k.return()})}(ve,Me);if((0,Ye.L)(ve))return function we(ve,Me){return re((0,Ye.Q)(ve),Me)}(ve,Me)}throw(0,Ae.z)(ve)}(ve,Me):(0,o.Xf)(ve)}},4829:(it,Ee,P)=>{P.d(Ee,{Xf:()=>Oe});var o=P(7582),L=P(4266),ie=P(4026),se=P(5592),he=P(8382),ye=P(5726),Re=P(9853),Ue=P(3664),Se=P(541),B=P(4674),j=P(3894),re=P(4850);function Oe(Ce){if(Ce instanceof se.y)return Ce;if(null!=Ce){if((0,he.c)(Ce))return function ue(Ce){return new se.y(ce=>{const ve=Ce[re.L]();if((0,B.m)(ve.subscribe))return ve.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,L.z)(Ce))return function Qe(Ce){return new se.y(ce=>{for(let ve=0;ve<Ce.length&&!ce.closed;ve++)ce.next(Ce[ve]);ce.complete()})}(Ce);if((0,ie.t)(Ce))return function Ve(Ce){return new se.y(ce=>{Ce.then(ve=>{ce.closed||(ce.next(ve),ce.complete())},ve=>ce.error(ve)).then(null,j.h)})}(Ce);if((0,ye.D)(Ce))return Ae(Ce);if((0,Ue.T)(Ce))return function xe(Ce){return new se.y(ce=>{for(const ve of Ce)if(ce.next(ve),ce.closed)return;ce.complete()})}(Ce);if((0,Se.L)(Ce))return function Ye(Ce){return Ae((0,Se.Q)(Ce))}(Ce)}throw(0,Re.z)(Ce)}function Ae(Ce){return new se.y(ce=>{(function we(Ce,ce){var ve,Me,K,k;return(0,o.mG)(this,void 0,void 0,function*(){try{for(ve=(0,o.KL)(Ce);!(Me=yield ve.next()).done;)if(ce.next(Me.value),ce.closed)return}catch(W){K={error:W}}finally{try{Me&&!Me.done&&(k=ve.return)&&(yield k.call(ve))}finally{if(K)throw K.error}}ce.complete()})})(Ce,ce).catch(ve=>ce.error(ve))})}},3019:(it,Ee,P)=>{P.d(Ee,{T:()=>ye});var o=P(7537),L=P(4829),ie=P(6232),se=P(4564),he=P(2459);function ye(...Re){const Ue=(0,se.yG)(Re),Se=(0,se._6)(Re,1/0),B=Re;return B.length?1===B.length?(0,L.Xf)(B[0]):(0,o.J)(Se)((0,he.D)(B,Ue)):ie.E}},2096:(it,Ee,P)=>{P.d(Ee,{of:()=>ie});var o=P(4564),L=P(2459);function ie(...se){const he=(0,o.yG)(se);return(0,L.D)(se,he)}},8251:(it,Ee,P)=>{P.d(Ee,{x:()=>L});var o=P(305);function L(se,he,ye,Re,Ue){return new ie(se,he,ye,Re,Ue)}class ie extends o.Lv{constructor(he,ye,Re,Ue,Se,B){super(he),this.onFinalize=Se,this.shouldUnsubscribe=B,this._next=ye?function(j){try{ye(j)}catch(re){he.error(re)}}:super._next,this._error=Ue?function(j){try{Ue(j)}catch(re){he.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(j){he.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},7398:(it,Ee,P)=>{P.d(Ee,{U:()=>ie});var o=P(9360),L=P(8251);function ie(se,he){return(0,o.e)((ye,Re)=>{let Ue=0;ye.subscribe((0,L.x)(Re,Se=>{Re.next(se.call(he,Se,Ue++))}))})}},7537:(it,Ee,P)=>{P.d(Ee,{J:()=>ie});var o=P(1631),L=P(2737);function ie(se=1/0){return(0,o.z)(L.y,se)}},1631:(it,Ee,P)=>{P.d(Ee,{z:()=>Ue});var o=P(7398),L=P(4829),ie=P(9360),se=P(7103),he=P(8251),Re=P(4674);function Ue(Se,B,j=1/0){return(0,Re.m)(B)?Ue((re,Oe)=>(0,o.U)((ue,Qe)=>B(re,ue,Oe,Qe))((0,L.Xf)(Se(re,Oe))),j):("number"==typeof B&&(j=B),(0,ie.e)((re,Oe)=>function ye(Se,B,j,re,Oe,ue,Qe,Ve){const xe=[];let Ae=0,Ye=0,we=!1;const Ce=()=>{we&&!xe.length&&!Ae&&B.complete()},ce=Me=>Ae<re?ve(Me):xe.push(Me),ve=Me=>{ue&&B.next(Me),Ae++;let K=!1;(0,L.Xf)(j(Me,Ye++)).subscribe((0,he.x)(B,k=>{Oe?.(k),ue?ce(k):B.next(k)},()=>{K=!0},void 0,()=>{if(K)try{for(Ae--;xe.length&&Ae<re;){const k=xe.shift();Qe?(0,se.f)(B,Qe,()=>ve(k)):ve(k)}Ce()}catch(k){B.error(k)}}))};return Se.subscribe((0,he.x)(B,ce,()=>{we=!0,Ce()})),()=>{Ve?.()}}(re,Oe,Se,j)))}},3093:(it,Ee,P)=>{P.d(Ee,{Q:()=>se});var o=P(7103),L=P(9360),ie=P(8251);function se(he,ye=0){return(0,L.e)((Re,Ue)=>{Re.subscribe((0,ie.x)(Ue,Se=>(0,o.f)(Ue,he,()=>Ue.next(Se),ye),()=>(0,o.f)(Ue,he,()=>Ue.complete(),ye),Se=>(0,o.f)(Ue,he,()=>Ue.error(Se),ye)))})}},3020:(it,Ee,P)=>{P.d(Ee,{B:()=>he});var o=P(4829),L=P(8645),ie=P(305),se=P(9360);function he(Re={}){const{connector:Ue=(()=>new L.x),resetOnError:Se=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=Re;return re=>{let Oe,ue,Qe,Ve=0,xe=!1,Ae=!1;const Ye=()=>{ue?.unsubscribe(),ue=void 0},we=()=>{Ye(),Oe=Qe=void 0,xe=Ae=!1},Ce=()=>{const ce=Oe;we(),ce?.unsubscribe()};return(0,se.e)((ce,ve)=>{Ve++,!Ae&&!xe&&Ye();const Me=Qe=Qe??Ue();ve.add(()=>{Ve--,0===Ve&&!Ae&&!xe&&(ue=ye(Ce,j))}),Me.subscribe(ve),!Oe&&Ve>0&&(Oe=new ie.Hp({next:K=>Me.next(K),error:K=>{Ae=!0,Ye(),ue=ye(we,Se,K),Me.error(K)},complete:()=>{xe=!0,Ye(),ue=ye(we,B),Me.complete()}}),(0,o.Xf)(ce).subscribe(Oe))})(re)}}function ye(Re,Ue,...Se){if(!0===Ue)return void Re();if(!1===Ue)return;const B=new ie.Hp({next:()=>{B.unsubscribe(),Re()}});return(0,o.Xf)(Ue(...Se)).subscribe(B)}},5137:(it,Ee,P)=>{P.d(Ee,{R:()=>L});var o=P(9360);function L(ie,se=0){return(0,o.e)((he,ye)=>{ye.add(ie.schedule(()=>he.subscribe(ye),se))})}},4664:(it,Ee,P)=>{P.d(Ee,{w:()=>se});var o=P(4829),L=P(9360),ie=P(8251);function se(he,ye){return(0,L.e)((Re,Ue)=>{let Se=null,B=0,j=!1;const re=()=>j&&!Se&&Ue.complete();Re.subscribe((0,ie.x)(Ue,Oe=>{Se?.unsubscribe();let ue=0;const Qe=B++;(0,o.Xf)(he(Oe,Qe)).subscribe(Se=(0,ie.x)(Ue,Ve=>Ue.next(ye?ye(Oe,Ve,Qe,ue++):Ve),()=>{Se=null,re()}))},()=>{j=!0,re()}))})}},7599:(it,Ee,P)=>{P.d(Ee,{z:()=>o});const o={setTimeout(L,ie,...se){const{delegate:he}=o;return he?.setTimeout?he.setTimeout(L,ie,...se):setTimeout(L,ie,...se)},clearTimeout(L){const{delegate:ie}=o;return(ie?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(it,Ee,P)=>{P.d(Ee,{h:()=>L});const L=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(it,Ee,P)=>{P.d(Ee,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(it,Ee,P)=>{P.d(Ee,{_6:()=>ye,jO:()=>se,yG:()=>he});var o=P(4674);function ie(Re){return Re[Re.length-1]}function se(Re){return(0,o.m)(ie(Re))?Re.pop():void 0}function he(Re){return function L(Re){return Re&&(0,o.m)(Re.schedule)}(ie(Re))?Re.pop():void 0}function ye(Re,Ue){return"number"==typeof ie(Re)?Re.pop():Ue}},9039:(it,Ee,P)=>{function o(L,ie){if(L){const se=L.indexOf(ie);0<=se&&L.splice(se,1)}}P.d(Ee,{P:()=>o})},2306:(it,Ee,P)=>{function o(L){const se=L(he=>{Error.call(he),he.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Ee,{d:()=>o})},1441:(it,Ee,P)=>{P.d(Ee,{O:()=>se,x:()=>ie});var o=P(2653);let L=null;function ie(he){if(o.config.useDeprecatedSynchronousErrorHandling){const ye=!L;if(ye&&(L={errorThrown:!1,error:null}),he(),ye){const{errorThrown:Re,error:Ue}=L;if(L=null,Re)throw Ue}}else he()}function se(he){o.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=he)}},7103:(it,Ee,P)=>{function o(L,ie,se,he=0,ye=!1){const Re=ie.schedule(function(){se(),ye?L.add(this.schedule(null,he)):this.unsubscribe()},he);if(L.add(Re),!ye)return Re}P.d(Ee,{f:()=>o})},2737:(it,Ee,P)=>{function o(L){return L}P.d(Ee,{y:()=>o})},4266:(it,Ee,P)=>{P.d(Ee,{z:()=>o});const o=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(it,Ee,P)=>{P.d(Ee,{D:()=>L});var o=P(4674);function L(ie){return Symbol.asyncIterator&&(0,o.m)(ie?.[Symbol.asyncIterator])}},4674:(it,Ee,P)=>{function o(L){return"function"==typeof L}P.d(Ee,{m:()=>o})},8382:(it,Ee,P)=>{P.d(Ee,{c:()=>ie});var o=P(4850),L=P(4674);function ie(se){return(0,L.m)(se[o.L])}},3664:(it,Ee,P)=>{P.d(Ee,{T:()=>ie});var o=P(4971),L=P(4674);function ie(se){return(0,L.m)(se?.[o.h])}},4026:(it,Ee,P)=>{P.d(Ee,{t:()=>L});var o=P(4674);function L(ie){return(0,o.m)(ie?.then)}},541:(it,Ee,P)=>{P.d(Ee,{L:()=>se,Q:()=>ie});var o=P(7582),L=P(4674);function ie(he){return(0,o.FC)(this,arguments,function*(){const Re=he.getReader();try{for(;;){const{value:Ue,done:Se}=yield(0,o.qq)(Re.read());if(Se)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Ue)}}finally{Re.releaseLock()}})}function se(he){return(0,L.m)(he?.getReader)}},9360:(it,Ee,P)=>{P.d(Ee,{A:()=>L,e:()=>ie});var o=P(4674);function L(se){return(0,o.m)(se?.lift)}function ie(se){return he=>{if(L(he))return he.lift(function(ye){try{return se(ye,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(it,Ee,P)=>{function o(){}P.d(Ee,{Z:()=>o})},8407:(it,Ee,P)=>{P.d(Ee,{U:()=>ie,z:()=>L});var o=P(2737);function L(...se){return ie(se)}function ie(se){return 0===se.length?o.y:1===se.length?se[0]:function(ye){return se.reduce((Re,Ue)=>Ue(Re),ye)}}},3894:(it,Ee,P)=>{P.d(Ee,{h:()=>ie});var o=P(2653),L=P(7599);function ie(se){L.z.setTimeout(()=>{const{onUnhandledError:he}=o.config;if(!he)throw se;he(se)})}},9853:(it,Ee,P)=>{function o(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ee,{z:()=>o})},8926:(it,Ee,P)=>{P.d(Ee,{QbO:()=>qg,tb:()=>A4,AFp:()=>_y,ip1:()=>sx,hGG:()=>YC,z2F:()=>vd,Ojb:()=>SI,sBO:()=>Ax,Sil:()=>DC,EJc:()=>ax,Xts:()=>$h,SBq:()=>$o,lqb:()=>oo,qLn:()=>La,vpe:()=>qo,XFs:()=>yt,OlP:()=>Nt,zs3:()=>Pi,ZZ4:()=>zf,aQg:()=>B4,soG:()=>vn,YKP:()=>Vm,h0i:()=>Ic,PXZ:()=>x4,R0b:()=>nr,FiY:()=>tr,Lbi:()=>$g,g9A:()=>yy,Qsj:()=>wy,FYo:()=>LI,JOm:()=>Ll,q3G:()=>ic,tp0:()=>Wi,Rgc:()=>Lf,dDg:()=>yx,eoX:()=>c0,q4F:()=>Cy,GfV:()=>Ty,s_b:()=>_d,ifc:()=>ws,VuI:()=>Yf,MMx:()=>XT,Lck:()=>_2,eFA:()=>Cc,Gpc:()=>Ye,f3M:()=>Jt,X6Q:()=>HC,$WT:()=>Br,MR2:()=>py,_c5:()=>Ox,qFp:()=>W4,rg0:()=>M_,c2e:()=>m4,zSh:()=>gs,HDt:()=>AC,wAp:()=>za,vHH:()=>K,lri:()=>a0,rWj:()=>u0,JZr:()=>Me,EiD:()=>ly,mCW:()=>$n,qzn:()=>Zl,JVY:()=>K3,pB0:()=>Vh,eBb:()=>Q3,L6k:()=>Ug,LAX:()=>Y3,cg1:()=>Df,kL8:()=>AT,dqk:()=>gn,Z0I:()=>ei,eJc:()=>EC,QGY:()=>yf,F4k:()=>ov,RDi:()=>G3,AaK:()=>Ve,z3N:()=>Uo,qOj:()=>qy,Xq5:()=>mm,TTD:()=>ml,_Bn:()=>YT,jDz:()=>eC,xp6:()=>YI,uIk:()=>Ky,ekj:()=>If,Suo:()=>V2,Xpm:()=>zc,lG2:()=>Kc,Yz7:()=>wt,cJS:()=>Ur,oAB:()=>vu,Yjl:()=>Qc,Y36:()=>ho,_UZ:()=>mf,BQk:()=>ad,ynx:()=>od,qZA:()=>mc,TgZ:()=>sd,EpF:()=>Bw,n5z:()=>lg,LFG:()=>an,$8M:()=>io,$Z:()=>JI,NdJ:()=>Tm,CRH:()=>B2,O4$:()=>Ou,oxw:()=>Am,ALo:()=>aC,lcZ:()=>uC,xi3:()=>cC,Q6J:()=>tv,s9C:()=>uv,VKq:()=>qm,iGM:()=>gC,MAs:()=>Lw,KtG:()=>L_,CHM:()=>eg,uOi:()=>gI,LSH:()=>dy,P3R:()=>hy,YNc:()=>Pw,W1O:()=>$2,_uU:()=>cT,Oqu:()=>dT,hij:()=>ld,lnq:()=>bf});var o=P(8645),L=P(7394),ie=P(5592),se=P(3019),he=P(5619),ye=P(2096),Re=P(3020),Ue=P(4664),Se=P(2737),B=P(9360),j=P(8251);function Oe(s,a){return s===a}function ue(s){for(let a in s)if(s[a]===ue)return a;throw Error("Could not find renamed property on target object.")}function Qe(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function Ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function xe(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Ae=ue({__forward_ref__:ue});function Ye(s){return s.__forward_ref__=Ye,s.toString=function(){return Ve(this())},s}function we(s){return Ce(s)?s():s}function Ce(s){return"function"==typeof s&&s.hasOwnProperty(Ae)&&s.__forward_ref__===Ye}function ce(s){return s&&!!s.\u0275providers}const Me="https://g.co/ng/security#xss";class K extends Error{constructor(a,c){super(function k(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,c)),this.code=a}}function W(s){return"string"==typeof s?s:null==s?"":String(s)}function ln(s,a){throw new K(-201,!1)}function Dt(s,a){null==s&&function je(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ur(s){return{providers:s.providers||[],imports:s.imports||[]}}function $i(s){return aa(s,zn)||aa(s,Ot)}function ei(s){return null!==$i(s)}function aa(s,a){return s.hasOwnProperty(a)?s[a]:null}function ts(s){return s&&(s.hasOwnProperty(Tt)||s.hasOwnProperty(Vr))?s[Tt]:null}const zn=ue({\u0275prov:ue}),Tt=ue({\u0275inj:ue}),Ot=ue({ngInjectableDef:ue}),Vr=ue({ngInjectorDef:ue});var yt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(yt||{});let cr;function Bt(s){const a=cr;return cr=s,a}function rs(s,a,c){const d=$i(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&yt.Optional?null:void 0!==a?a:void ln(Ve(s))}const gn=globalThis;class Nt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=wt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const F={},q="__NG_DI_FLAG__",le="ngTempTokenPath",Xe=/\n/gm,Yt="__source";let On;function Fn(s){const a=On;return On=s,a}function $t(s,a=yt.Default){if(void 0===On)throw new K(-203,!1);return null===On?rs(s,void 0,a):On.get(s,a&yt.Optional?null:void 0,a)}function an(s,a=yt.Default){return(function ns(){return cr}()||$t)(we(s),a)}function Jt(s,a=yt.Default){return an(s,fu(a))}function fu(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Gd(s){const a=[];for(let c=0;c<s.length;c++){const d=we(s[c]);if(Array.isArray(d)){if(0===d.length)throw new K(900,!1);let h,p=yt.Default;for(let y=0;y<d.length;y++){const E=d[y],T=Mp(E);"number"==typeof T?-1===T?h=E.token:p|=T:h=E}a.push(an(h,p))}else a.push(an(d))}return a}function Is(s,a){return s[q]=a,s.prototype[q]=a,s}function Mp(s){return s[q]}function Ti(s){return{toString:s}.toString()}var bo=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(bo||{}),ws=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(ws||{});const Ci={},jt=[],pu=ue({\u0275cmp:ue}),gu=ue({\u0275dir:ue}),$c=ue({\u0275pipe:ue}),Wd=ue({\u0275mod:ue}),lr=ue({\u0275fac:ue}),Ks=ue({__NG_ELEMENT_ID__:ue}),Rp=ue({__NG_ENV_ID__:ue});function bi(s,a,c){let d=s.length;for(;;){const h=s.indexOf(a,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}c=h+1}}function mn(s,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const p=c[d++],y=c[d++],E=c[d++];s.setAttribute(a,y,E,p)}else{const p=h,y=c[++d];dr(p)?s.setProperty(a,p,y):s.setAttribute(a,p,y),d++}}return d}function Pp(s){return 3===s||4===s||6===s}function dr(s){return 64===s.charCodeAt(0)}function mu(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||qc(s,c,h,null,-1===c||2===c?a[++d]:null)}}return s}function qc(s,a,c,d,h){let p=0,y=s.length;if(-1===a)y=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===a){y=-1;break}if(E>a){y=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,a),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}const _u="ng-template";function Kd(s,a,c){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const y=s[d++];if(c&&"class"===p&&-1!==bi(y.toLowerCase(),a,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Qd(s){return 4===s.type&&s.value!==_u}function l_(s,a,c){return a===(4!==s.type||c?s.value:_u)}function yu(s,a,c){let d=4;const h=s.attrs||[],p=function _1(s){for(let a=0;a<s.length;a++)if(Pp(s[a]))return a;return s.length}(h);let y=!1;for(let E=0;E<a.length;E++){const T=a[E];if("number"!=typeof T){if(!y)if(4&d){if(d=2|1&d,""!==T&&!l_(s,T,c)||""===T&&1===a.length){if(ti(d))return!1;y=!0}}else{const b=8&d?T:a[++E];if(8&d&&null!==s.attrs){if(!Kd(s.attrs,b,c)){if(ti(d))return!1;y=!0}continue}const N=Op(8&d?"class":T,h,Qd(s),c);if(-1===N){if(ti(d))return!1;y=!0;continue}if(""!==b){let V;V=N>p?"":h[N+1].toLowerCase();const H=8&d?V:null;if(H&&-1!==bi(H,b,0)||2&d&&b!==V){if(ti(d))return!1;y=!0}}}}else{if(!y&&!ti(d)&&!ti(T))return!1;if(y&&ti(T))continue;y=!1,d=T|1&d}}return ti(d)||y}function ti(s){return 0==(1&s)}function Op(s,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let p=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=a[++h];for(;"string"==typeof E;)E=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function ni(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function kp(s,a,c=!1){for(let d=0;d<a.length;d++)if(yu(s,a[d],c))return!0;return!1}function Hc(s,a){return s?":not("+a.trim()+")":a}function Gc(s){let a=s[0],c=1,d=2,h="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const E=s[++c];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!ti(y)&&(a+=Hc(p,h),h=""),d=y,p=p||!ti(d);c++}return""!==h&&(a+=Hc(p,h)),a}function zc(s){return Ti(()=>{const a=nh(s),c={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===bo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||ws.Emulated,styles:s.styles||jt,_:null,schemas:s.schemas||null,tView:null,id:""};qi(c);const d=s.dependencies;return c.directiveDefs=Yc(d,!1),c.pipeDefs=Yc(d,!0),c.id=function ih(s){let a=0;const c=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function eh(s){return Lt(s)||Ln(s)}function th(s){return null!==s}function vu(s){return Ti(()=>({type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Wc(s,a){if(null==s)return Ci;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,a&&(a[h]=p)}return c}function Kc(s){return Ti(()=>{const a=nh(s);return qi(a),a})}function Qc(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Lt(s){return s[pu]||null}function Ln(s){return s[gu]||null}function Un(s){return s[$c]||null}function Br(s){const a=Lt(s)||Ln(s)||Un(s);return null!==a&&a.standalone}function Cr(s,a){const c=s[Wd]||null;if(!c&&!0===a)throw new Error(`Type ${Ve(s)} does not have '\u0275mod' property.`);return c}function nh(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||Ci,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wc(s.inputs,a),outputs:Wc(s.outputs)}}function qi(s){s.features?.forEach(a=>a(s))}function Yc(s,a){if(!s)return null;const c=a?Un:eh;return()=>("function"==typeof s?s():s).map(d=>c(d)).filter(th)}const un=0,ze=1,Ct=2,en=3,Ai=4,Ao=5,En=6,ca=7,Sn=8,jr=9,Jc=10,mt=11,Di=12,Do=13,os=14,wn=15,Xc=16,So=17,Ts=18,Si=19,f_=20,Hi=21,Cs=22,Qs=23,as=24,ht=25,sh=1,el=2,xi=7,xo=9,Vn=11;function br(s){return Array.isArray(s)&&"object"==typeof s[sh]}function Wn(s){return Array.isArray(s)&&!0===s[sh]}function Iu(s){return 0!=(4&s.flags)}function Ys(s){return s.componentOffset>-1}function wu(s){return 1==(1&s.flags)}function Gi(s){return!!s.template}function Tu(s){return 0!=(512&s[Ct])}function la(s,a){return s.hasOwnProperty(lr)?s[lr]:null}let hr=null,ol=!1;function Ar(s){const a=hr;return hr=s,a}const C_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function uh(s){if(!da(s)||s.dirty){if(!s.producerMustRecompute(s)&&!cl(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function D_(s){s.dirty=!0,function A_(s){if(void 0===s.liveConsumerNode)return;const a=ol;ol=!0;try{for(const c of s.liveConsumerNode)c.dirty||D_(c)}finally{ol=a}}(s),s.consumerMarkedDirty?.(s)}function ul(s){return s&&(s.nextProducerIndex=0),Ar(s)}function Bp(s,a){if(Ar(a),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(da(s))for(let c=s.nextProducerIndex;c<s.producerNode.length;c++)dl(s.producerNode[c],s.producerIndexOfThis[c]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function cl(s){bu(s);for(let a=0;a<s.producerNode.length;a++){const c=s.producerNode[a],d=s.producerLastReadVersion[a];if(d!==c.version||(uh(c),d!==c.version))return!0}return!1}function S_(s){if(bu(s),da(s))for(let a=0;a<s.producerNode.length;a++)dl(s.producerNode[a],s.producerIndexOfThis[a]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function dl(s,a){if(function ch(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),bu(s),1===s.liveConsumerNode.length)for(let d=0;d<s.producerNode.length;d++)dl(s.producerNode[d],s.producerIndexOfThis[d]);const c=s.liveConsumerNode.length-1;if(s.liveConsumerNode[a]=s.liveConsumerNode[c],s.liveConsumerIndexOfThis[a]=s.liveConsumerIndexOfThis[c],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,a<s.liveConsumerNode.length){const d=s.liveConsumerIndexOfThis[a],h=s.liveConsumerNode[a];bu(h),h.producerIndexOfThis[d]=a}}function da(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function bu(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let Zp=null;function M_(s){const a=Ar(null);try{return s()}finally{Ar(a)}}const dh=()=>{},gl=(()=>({...C_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:dh}))();class Au{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ml(){return Gp}function Gp(s){return s.type.prototype.ngOnChanges&&(s.setInput=b1),R_}function R_(){const s=Wp(this),a=s?.current;if(a){const c=s.previous;if(c===Ci)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function b1(s,a,c,d){const h=this.declaredInputs[c],p=Wp(s)||function hh(s,a){return s[zp]=a}(s,{previous:Ci,current:null}),y=p.current||(p.current={}),E=p.previous,T=E[h];y[h]=new Au(T&&T.currentValue,a,E===Ci),s[d]=a}ml.ngInherit=!0;const zp="__ngSimpleChanges__";function Wp(s){return s[zp]||null}const Dr=function(s,a,c){},ph="svg";function rn(s){for(;Array.isArray(s);)s=s[un];return s}function Du(s,a){return rn(a[s])}function fr(s,a){return rn(a[s.index])}function Su(s,a){return s.data[a]}function pa(s,a){return s[a]}function ri(s,a){const c=a[s];return br(c)?c:c[un]}function bs(s,a){return null==a?null:s[a]}function mh(s){s[So]=0}function O_(s){1024&s[Ct]||(s[Ct]|=1024,Kp(s,1))}function _l(s){1024&s[Ct]&&(s[Ct]&=-1025,Kp(s,-1))}function Kp(s,a){let c=s[en];if(null===c)return;c[Ao]+=a;let d=c;for(c=c[en];null!==c&&(1===a&&1===d[Ao]||-1===a&&0===d[Ao]);)c[Ao]+=a,d=c,c=c[en]}const ft={lFrame:Il(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vh(){return ft.bindingsEnabled}function ge(){return ft.lFrame.lView}function Ut(){return ft.lFrame.tView}function eg(s){return ft.lFrame.contextLView=s,s[Sn]}function L_(s){return ft.lFrame.contextLView=null,s}function pr(){let s=tg();for(;null!==s&&64===s.type;)s=s.parent;return s}function tg(){return ft.lFrame.currentTNode}function As(s,a){const c=ft.lFrame;c.currentTNode=s,c.isParent=a}function Mu(){return ft.lFrame.isParent}function ng(){ft.lFrame.isParent=!1}function Sr(){const s=ft.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Ru(){return ft.lFrame.bindingIndex++}function Xs(s){const a=ft.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function x1(s,a){const c=ft.lFrame;c.bindingIndex=c.bindingRootIndex=s,El(a)}function El(s){ft.lFrame.currentDirectiveIndex=s}function Ds(){return ft.lFrame.currentQueryIndex}function Ih(s){ft.lFrame.currentQueryIndex=s}function Tn(s){const a=s[ze];return 2===a.type?a.declTNode:1===a.type?s[En]:null}function at(s,a,c){if(c&yt.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||c&yt.Host||(h=Tn(p),null===h||(p=p[os],10&h.type))););if(null===h)return!1;a=h,s=p}const d=ft.lFrame=Pu();return d.currentTNode=a,d.lView=s,!0}function er(s){const a=Pu(),c=s[ze];ft.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Pu(){const s=ft.lFrame,a=null===s?null:s.child;return null===a?Il(s):a}function Il(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function rg(){const s=ft.lFrame;return ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const wl=rg;function Tl(){const s=rg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function gt(){return ft.lFrame.selectedIndex}function Po(s){ft.lFrame.selectedIndex=s}function yn(){const s=ft.lFrame;return Su(s.tView,s.selectedIndex)}function Ou(){ft.lFrame.currentNamespace=ph}let bl=!0;function ya(){return bl}function Ss(s){bl=s}function xs(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:b,ngOnDestroy:S}=p;y&&(s.contentHooks??=[]).push(-c,y),E&&((s.contentHooks??=[]).push(c,E),(s.contentCheckHooks??=[]).push(c,E)),T&&(s.viewHooks??=[]).push(-c,T),b&&((s.viewHooks??=[]).push(c,b),(s.viewCheckHooks??=[]).push(c,b)),null!=S&&(s.destroyHooks??=[]).push(c,S)}}function eo(s,a,c){Fu(s,a,3,c)}function to(s,a,c,d){(3&s[Ct])===c&&Fu(s,a,c,d)}function ku(s,a){let c=s[Ct];(3&c)===a&&(c&=8191,c+=1,s[Ct]=c)}function Fu(s,a,c,d){const p=d??-1,y=a.length-1;let E=0;for(let T=void 0!==d?65535&s[So]:0;T<y;T++)if("number"==typeof a[T+1]){if(E=a[T],null!=d&&E>=d)break}else a[T]<0&&(s[So]+=65536),(E<p||-1==p)&&(Th(s,c,a,T),s[So]=(4294901760&s[So])+T+2),T++}function Lu(s,a){Dr(4,s,a);const c=Ar(null);try{a.call(s)}finally{Ar(c),Dr(5,s,a)}}function Th(s,a,c,d){const h=c[d]<0,p=c[d+1],E=s[h?-c[d]:c[d]];h?s[Ct]>>13<s[So]>>16&&(3&s[Ct])===a&&(s[Ct]+=8192,Lu(E,p)):Lu(E,p)}const Mi=-1;class Ni{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Zr(s){return s!==Mi}function jn(s){return 32767&s}function no(s,a){let c=function Al(s){return s>>16}(s),d=a;for(;c>0;)d=d[os],c--;return d}let Ch=!0;function oi(s){const a=Ch;return Ch=s,a}const Mn=255,Ms=5;let bh=0;const ds={};function Bu(s,a){const c=Ea(s,a);if(-1!==c)return c;const d=a[ze];d.firstCreatePass&&(s.injectorIndex=a.length,Sl(d.data,s),Sl(a,null),Sl(d.blueprint,null));const h=ju(s,a),p=s.injectorIndex;if(Zr(h)){const y=jn(h),E=no(h,a),T=E[ze].data;for(let b=0;b<8;b++)a[p+b]=E[y+b]|T[y+b]}return a[p+8]=h,p}function Sl(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Ea(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function ju(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=qu(h),null===d)return Mi;if(c++,h=h[os],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Mi}function Zu(s,a,c){!function Dl(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ks)&&(d=c[Ks]),null==d&&(d=c[Ks]=bh++);const h=d&Mn;a.data[s+(h>>Ms)]|=1<<h}(s,a,c)}function Ia(s,a,c){if(c&yt.Optional||void 0!==s)return s;ln()}function sg(s,a,c,d){if(c&yt.Optional&&void 0===d&&(d=null),!(c&(yt.Self|yt.Host))){const h=s[jr],p=Bt(void 0);try{return h?h.get(a,d,c&yt.Optional):rs(a,d,c&yt.Optional)}finally{Bt(p)}}return Ia(d,0,c)}function Ns(s,a,c,d=yt.Default,h){if(null!==s){if(2048&a[Ct]&&!(d&yt.Self)){const y=function Ml(s,a,c,d,h){let p=s,y=a;for(;null!==p&&null!==y&&2048&y[Ct]&&!(512&y[Ct]);){const E=og(p,y,c,d|yt.Self,ds);if(E!==ds)return E;let T=p.parent;if(!T){const b=y[f_];if(b){const S=b.get(c,ds,d);if(S!==ds)return S}T=qu(y),y=y[os]}p=T}return h}(s,a,c,d,ds);if(y!==ds)return y}const p=og(s,a,c,d,ds);if(p!==ds)return p}return sg(a,c,d,h)}function og(s,a,c,d,h){const p=function $u(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Ks)?s[Ks]:void 0;return"number"==typeof a?a>=0?a&Mn:cg:a}(c);if("function"==typeof p){if(!at(a,s,d))return d&yt.Host?Ia(h,0,d):sg(a,c,d,h);try{let y;if(y=p(d),null!=y||d&yt.Optional)return y;ln()}finally{wl()}}else if("number"==typeof p){let y=null,E=Ea(s,a),T=Mi,b=d&yt.Host?a[wn][En]:null;for((-1===E||d&yt.SkipSelf)&&(T=-1===E?ju(s,a):a[E+8],T!==Mi&&ag(d,!1)?(y=a[ze],E=jn(T),a=no(T,a)):E=-1);-1!==E;){const S=a[ze];if(Rs(p,E,S.data)){const N=j_(E,a,c,y,d,b);if(N!==ds)return N}T=a[E+8],T!==Mi&&ag(d,a[ze].data[E+8]===b)&&Rs(p,E,a)?(y=S,E=jn(T),a=no(T,a)):E=-1}}return h}function j_(s,a,c,d,h,p){const y=a[ze],E=y.data[s+8],S=$r(E,y,c,null==d?Ys(E)&&Ch:d!=y&&0!=(3&E.type),h&yt.Host&&p===E);return null!==S?ro(a,y,S,E):ds}function $r(s,a,c,d,h){const p=s.providerIndexes,y=a.data,E=1048575&p,T=s.directiveStart,S=p>>20,V=h?E+S:s.directiveEnd;for(let H=d?E:E+S;H<V;H++){const ae=y[H];if(H<T&&c===ae||H>=T&&ae.type===c)return H}if(h){const H=y[T];if(H&&Gi(H)&&H.type===c)return T}return null}function ro(s,a,c,d){let h=s[c];const p=a.data;if(function Uu(s){return s instanceof Ni}(h)){const y=h;y.resolving&&function Mt(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new K(-200,`Circular dependency in DI detected for ${s}${c}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():W(s)}(p[c]));const E=oi(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?Bt(y.injectImpl):null;at(s,d,yt.Default);try{h=s[c]=y.factory(void 0,p,s,d),a.firstCreatePass&&c>=d.directiveStart&&function wh(s,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const y=Gp(a);(c.preOrderHooks??=[]).push(s,y),(c.preOrderCheckHooks??=[]).push(s,y)}h&&(c.preOrderHooks??=[]).push(0-s,h),p&&((c.preOrderHooks??=[]).push(s,p),(c.preOrderCheckHooks??=[]).push(s,p))}(c,p[c],a)}finally{null!==b&&Bt(b),oi(E),y.resolving=!1,wl()}}return h}function Rs(s,a,c){return!!(c[a+(s>>Ms)]&1<<s)}function ag(s,a){return!(s&yt.Self||s&yt.Host&&a)}class xr{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Ns(this._tNode,this._lView,a,fu(d),c)}}function cg(){return new xr(pr(),ge())}function lg(s){return Ti(()=>{const a=s.prototype.constructor,c=a[lr]||xl(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[lr]||xl(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function xl(s){return Ce(s)?()=>{const a=xl(we(s));return a&&a()}:la(s)}function qu(s){const a=s[ze],c=a.type;return 2===c?a.declTNode:1===c?s[En]:null}function io(s){return function St(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Pp(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(pr(),s)}const hs="__parameters__";function fs(s,a,c){return Ti(()=>{const d=function Ah(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(T,b,S){const N=T.hasOwnProperty(hs)?T[hs]:Object.defineProperty(T,hs,{value:[]})[hs];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(y),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function Fo(s,a){s.forEach(c=>Array.isArray(c)?Fo(c,a):a(c))}function Mh(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Pl(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function ai(s,a,c){let d=I(s,a);return d>=0?s[1|d]=c:(d=~d,function gg(s,a,c,d){let h=s.length;if(h==a)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function so(s,a){const c=I(s,a);if(c>=0)return s[1|c]}function I(s,a){return function _(s,a,c){let d=0,h=s.length>>c;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<c];if(a===y)return p<<c;y>a?h=p:d=p+1}return~(h<<c)}(s,a,1)}const tr=Is(fs("Optional"),8),Wi=Is(fs("SkipSelf"),4);function kl(s){return 128==(128&s.flags)}var Ll=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Ll||{});const C3=/^>|^->|<!--|-->|--!>|<!-$/g,Tg=/(<|>)/g,$1="\u200b$1\u200b";const Qu=new Map;let b3=0;const z1="__ngContext__";function di(s,a){br(a)?(s[z1]=a[Si],function W_(s){Qu.set(s[Si],s)}(a)):s[z1]=a}let Q_;function Y_(s,a){return Q_(s,a)}function xa(s){const a=s[en];return Wn(a)?a[en]:a}function Yu(s){return J1(s[Di])}function Ul(s){return J1(s[Ai])}function J1(s){for(;null!==s&&!Wn(s);)s=s[Ai];return s}function Vl(s,a,c,d,h){if(null!=d){let p,y=!1;Wn(d)?p=d:br(d)&&(y=!0,d=d[un]);const E=rn(d);0===s&&null!==c?null==h?eI(a,c,E):Xu(a,c,E,h||null,!0):1===s&&null!==c?Xu(a,c,E,h||null,!0):2===s?function kh(s,a,c){const d=Sg(s,a);d&&function V3(s,a,c,d){s.removeChild(a,c,d)}(s,d,a,c)}(a,E,y):3===s&&a.destroyNode(E),null!=p&&function Z3(s,a,c,d,h){const p=c[xi];p!==rn(c)&&Vl(a,s,d,p,h);for(let E=Vn;E<c.length;E++){const T=c[E];Fh(T[ze],T,s,a,d,p)}}(a,s,p,c,h)}}function J_(s,a){return s.createComment(function q1(s){return s.replace(C3,a=>a.replace(Tg,$1))}(a))}function Dg(s,a,c){return s.createElement(a,c)}function X_(s,a){const c=s[xo],d=c.indexOf(a);_l(a),c.splice(d,1)}function Ju(s,a){if(s.length<=Vn)return;const c=Vn+a,d=s[c];if(d){const h=d[Xc];null!==h&&h!==s&&X_(h,d),a>0&&(s[c-1][Ai]=d[Ai]);const p=Pl(s,Vn+a);!function R3(s,a){Fh(s,a,a[mt],2,null,null),a[un]=null,a[En]=null}(d[ze],d);const y=p[Ts];null!==y&&y.detachView(p[ze]),d[en]=null,d[Ai]=null,d[Ct]&=-129}return d}function Na(s,a){if(!(256&a[Ct])){const c=a[mt];a[Qs]&&S_(a[Qs]),a[as]&&S_(a[as]),c.destroyNode&&Fh(s,a,c,3,null,null),function k3(s){let a=s[Di];if(!a)return ey(s[ze],s);for(;a;){let c=null;if(br(a))c=a[Di];else{const d=a[Vn];d&&(c=d)}if(!c){for(;a&&!a[Ai]&&a!==s;)br(a)&&ey(a[ze],a),a=a[en];null===a&&(a=s),br(a)&&ey(a[ze],a),c=a&&a[Ai]}a=c}}(a)}}function ey(s,a){if(!(256&a[Ct])){a[Ct]&=-129,a[Ct]|=256,function U3(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Ni)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],T=p[y+1];Dr(4,E,T);try{T.call(E)}finally{Dr(5,E,T)}}else{Dr(4,h,p);try{p.call(h)}finally{Dr(5,h,p)}}}}}(s,a),function L3(s,a){const c=s.cleanup,d=a[ca];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+3];y>=0?d[y]():d[-y].unsubscribe(),p+=2}else c[p].call(d[c[p+1]]);null!==d&&(a[ca]=null);const h=a[Hi];if(null!==h){a[Hi]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(s,a),1===a[ze].type&&a[mt].destroy();const c=a[Xc];if(null!==c&&Wn(a[en])){c!==a[en]&&X_(c,a);const d=a[Ts];null!==d&&d.detachView(s)}!function H1(s){Qu.delete(s[Si])}(a)}}function ty(s,a,c){return function X1(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[un];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===ws.None||p===ws.Emulated)return null}return fr(d,c)}}(s,a.parent,c)}function Xu(s,a,c,d,h){s.insertBefore(a,c,d,h)}function eI(s,a,c){s.appendChild(a,c)}function tI(s,a,c,d,h){null!==d?Xu(s,a,c,d,h):eI(s,a,c)}function Sg(s,a){return s.parentNode(a)}let iy,Ng,oy,Pg,ry=function ec(s,a,c){return 40&s.type?fr(s,c):null};function Mg(s,a,c,d){const h=ty(s,d,a),p=a[mt],E=function ny(s,a,c){return ry(s,a,c)}(d.parent||a[En],d,a);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)tI(p,h,c[T],E,!1);else tI(p,h,c,E,!1);void 0!==iy&&iy(p,d,a,c,h)}function tc(s,a){if(null!==a){const c=a.type;if(3&c)return fr(a,s);if(4&c)return Oh(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return tc(s,d);{const h=s[a.index];return Wn(h)?Oh(-1,h):rn(h)}}if(32&c)return Y_(a,s)()||rn(s[a.index]);{const d=rI(s,a);return null!==d?Array.isArray(d)?d[0]:tc(xa(s[wn]),d):tc(s,a.next)}}return null}function rI(s,a){return null!==a?s[wn][En].projection[a.projection]:null}function Oh(s,a){const c=Vn+s+1;if(c<a.length){const d=a[c],h=d[ze].firstChild;if(null!==h)return tc(d,h)}return a[xi]}function sy(s,a,c,d,h,p,y){for(;null!=c;){const E=d[c.index],T=c.type;if(y&&0===a&&(E&&di(rn(E),d),c.flags|=2),32!=(32&c.flags))if(8&T)sy(s,a,c.child,d,h,p,!1),Vl(a,s,h,E,p);else if(32&T){const b=Y_(c,d);let S;for(;S=b();)Vl(a,s,h,S,p);Vl(a,s,h,E,p)}else 16&T?Lh(s,a,d,c,h,p):Vl(a,s,h,E,p);c=y?c.projectionNext:c.next}}function Fh(s,a,c,d,h,p){sy(c,d,s.firstChild,a,h,p,!1)}function Lh(s,a,c,d,h,p){const y=c[wn],T=y[En].projection[d.projection];if(Array.isArray(T))for(let b=0;b<T.length;b++)Vl(a,s,h,T[b],p);else{let b=T;const S=y[en];kl(d)&&(b.flags|=128),sy(s,a,b,S,h,p,!0)}}function sI(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function oI(s,a,c){const{mergedAttrs:d,classes:h,styles:p}=c;null!==d&&mn(s,a,d),null!==h&&sI(s,a,h),null!==p&&function q3(s,a,c){s.setAttribute(a,"style",c)}(s,a,p)}function Uh(s){return function Rg(){if(void 0===Ng&&(Ng=null,gn.trustedTypes))try{Ng=gn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ng}()?.createHTML(s)||s}function G3(s){oy=s}function Fg(s){return function Og(){if(void 0===Pg&&(Pg=null,gn.trustedTypes))try{Pg=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Pg}()?.createScriptURL(s)||s}class rc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}class z3 extends rc{getTypeName(){return"HTML"}}class cI extends rc{getTypeName(){return"Style"}}class Lg extends rc{getTypeName(){return"Script"}}class lI extends rc{getTypeName(){return"URL"}}class dI extends rc{getTypeName(){return"ResourceURL"}}function Uo(s){return s instanceof rc?s.changingThisBreaksApplicationSecurity:s}function Zl(s,a){const c=function W3(s){return s instanceof rc&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Me})`)}return c===a}function K3(s){return new z3(s)}function Ug(s){return new cI(s)}function Q3(s){return new Lg(s)}function Y3(s){return new lI(s)}function Vh(s){return new dI(s)}class J3{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Uh(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class X3{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Uh(a),c}}const tD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $n(s){return(s=String(s)).match(tD)?s:"unsafe:"+s}function Vo(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function $l(...s){const a={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const Ri=Vo("area,br,col,hr,img,wbr"),hI=Vo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fI=Vo("rp,rt"),uy=$l(Ri,$l(hI,Vo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$l(fI,Vo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$l(fI,hI)),Bh=Vo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cy=$l(Bh,Vo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bo=Vo("script,style,template");class iD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!uy.hasOwnProperty(c))return this.sanitizedSomething=!0,!Bo.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,E=y.toLowerCase();if(!cy.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=p.value;Bh[E]&&(T=$n(T)),this.buf.push(" ",y,'="',sD(T),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();uy.hasOwnProperty(c)&&!Ri.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(sD(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const gk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mk=/([^\#-~ |!])/g;function sD(s){return s.replace(/&/g,"&amp;").replace(gk,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(mk,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jh;function ly(s,a){let c=null;try{jh=jh||function ay(s){const a=new X3(s);return function eD(){try{return!!(new window.DOMParser).parseFromString(Uh(""),"text/html")}catch{return!1}}()?new J3(a):a}(s);let d=a?String(a):"";c=jh.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=jh.getInertBodyElement(d)}while(d!==p);return Uh((new iD).sanitizeChildren(Zh(c)||c))}finally{if(c){const d=Zh(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Zh(s){return"content"in s&&function oD(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ic=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(ic||{});function dy(s){const a=jo();return a?a.sanitize(ic.URL,s)||"":Zl(s,"URL")?Uo(s):$n(W(s))}function gI(s){const a=jo();if(a)return Fg(a.sanitize(ic.RESOURCE_URL,s)||"");if(Zl(s,"ResourceURL"))return Fg(Uo(s));throw new K(904,!1)}function hy(s,a,c){return function Ek(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?gI:dy}(a,c)(s)}function jo(){const s=ge();return s&&s[Jc].sanitizer}const $h=new Nt("ENVIRONMENT_INITIALIZER"),mI=new Nt("INJECTOR",-1),_I=new Nt("INJECTOR_DEF_TYPES");class fy{get(a,c=F){if(c===F){const d=new Error(`NullInjectorError: No provider for ${Ve(a)}!`);throw d.name="NullInjectorError",d}return c}}function py(s){return{\u0275providers:s}}function yI(...s){return{\u0275providers:vI(0,s),\u0275fromNgModule:!0}}function vI(s,...a){const c=[],d=new Set;let h;const p=y=>{c.push(y)};return Fo(a,y=>{const E=y;gy(E,p,[],d)&&(h||=[],h.push(E))}),void 0!==h&&uD(h,p),c}function uD(s,a){for(let c=0;c<s.length;c++){const{ngModule:d,providers:h}=s[c];EI(h,p=>{a(p,d)})}}function gy(s,a,c,d){if(!(s=we(s)))return!1;let h=null,p=ts(s);const y=!p&&Lt(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const T=s.ngModule;if(p=ts(T),!p)return!1;h=T}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const b of T)gy(b,a,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let b;d.add(h);try{Fo(p.imports,S=>{gy(S,a,c,d)&&(b||=[],b.push(S))})}finally{}void 0!==b&&uD(b,a)}if(!E){const b=la(h)||(()=>new h);a({provide:h,useFactory:b,deps:jt},h),a({provide:_I,useValue:h,multi:!0},h),a({provide:$h,useValue:()=>an(h),multi:!0},h)}const T=p.providers;if(null!=T&&!E){const b=s;EI(T,S=>{a(S,b)})}}}return h!==s&&void 0!==s.providers}function EI(s,a){for(let c of s)ce(c)&&(c=c.\u0275providers),Array.isArray(c)?EI(c,a):a(c)}const Tk=ue({provide:String,useValue:ue});function II(s){return null!==s&&"object"==typeof s&&Tk in s}function Ra(s){return"function"==typeof s}const gs=new Nt("Set Injector scope."),Vg={},Bg={};let my;function jg(){return void 0===my&&(my=new fy),my}class oo{}class hi extends oo{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zg(a,y=>this.processProvider(y)),this.records.set(mI,ql(void 0,this)),h.has("environment")&&this.records.set(oo,ql(void 0,this));const p=this.records.get(gs);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(_I.multi,jt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=Fn(this),d=Bt(void 0);try{return a()}finally{Fn(c),Bt(d)}}get(a,c=F,d=yt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Rp))return a[Rp](this);d=fu(d);const p=Fn(this),y=Bt(void 0);try{if(!(d&yt.SkipSelf)){let T=this.records.get(a);if(void 0===T){const b=function AI(s){return"function"==typeof s||"object"==typeof s&&s instanceof Nt}(a)&&$i(a);T=b&&this.injectableDefInScope(b)?ql(ao(a),Vg):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(d&yt.Self?jg():this.parent).get(a,c=d&yt.Optional&&c===F?null:c)}catch(E){if("NullInjectorError"===E.name){if((E[le]=E[le]||[]).unshift(Ve(a)),p)throw E;return function zd(s,a,c,d){const h=s[le];throw a[Yt]&&h.unshift(a[Yt]),s.message=function Np(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Ve(a);if(Array.isArray(a))h=a.map(Ve).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let E=a[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):Ve(E)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(Xe,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[le]=null,s}(E,a,"R3InjectorError",this.source)}throw E}finally{Bt(y),Fn(p)}}resolveInjectorInitializers(){const a=Fn(this),c=Bt(void 0);try{const h=this.get($h.multi,jt,yt.Self);for(const p of h)p()}finally{Fn(a),Bt(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(Ve(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(a){let c=Ra(a=we(a))?a:we(a&&a.provide);const d=function qr(s){return II(s)?ql(void 0,s.useValue):ql(Zo(s),Vg)}(a);if(Ra(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=ql(void 0,Vg,!0),h.factory=()=>Gd(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Vg&&(c.value=Bg,c.value=c.factory()),"object"==typeof c.value&&c.value&&function bI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=we(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function ao(s){const a=$i(s),c=null!==a?a.factory:la(s);if(null!==c)return c;if(s instanceof Nt)throw new K(204,!1);if(s instanceof Function)return function CI(s){const a=s.length;if(a>0)throw function Hu(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}(a,"?"),new K(204,!1);const c=function Ws(s){return s&&(s[zn]||s[Ot])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new K(204,!1)}function Zo(s,a,c){let d;if(Ra(s)){const h=we(s);return la(h)||ao(h)}if(II(s))d=()=>we(s.useValue);else if(function TI(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Gd(s.deps||[]));else if(function wI(s){return!(!s||!s.useExisting)}(s))d=()=>an(we(s.useExisting));else{const h=we(s&&(s.useClass||s.provide));if(!function ct(s){return!!s.deps}(s))return la(h)||ao(h);d=()=>new h(...Gd(s.deps))}return d}function ql(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function Zg(s,a){for(const c of s)Array.isArray(c)?Zg(c,a):c&&ce(c)?Zg(c.\u0275providers,a):a(c)}const _y=new Nt("AppId",{providedIn:"root",factory:()=>DI}),DI="ng",yy=new Nt("Platform Initializer"),$g=new Nt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qg=new Nt("AnimationModuleType"),SI=new Nt("CSP nonce",{providedIn:"root",factory:()=>function jl(){if(void 0!==oy)return oy;if(typeof document<"u")return document;throw new K(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fD=(s,a,c)=>null;function uo(s,a,c=!1){return fD(s,a,c)}class Ak{}class kI{}class Dk{resolveComponentFactory(a){throw function FI(s){const a=Error(`No component factory found for ${Ve(s)}.`);return a.ngComponent=s,a}(a)}}let ka=(()=>{class s{static#e=this.NULL=new Dk}return s})();function Yg(){return Fs(pr(),ge())}function Fs(s,a){return new $o(fr(s,a))}let $o=(()=>{class s{constructor(c){this.nativeElement=c}static#e=this.__NG_ELEMENT_ID__=Yg}return s})();function Iy(s){return s instanceof $o?s.nativeElement:s}class LI{}let wy=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function yD(){const s=ge(),c=ri(pr().index,s);return(br(c)?c:s)[mt]}()}return s})(),Jg=(()=>{class s{static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:()=>null})}return s})();class Ty{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Cy=new Ty("16.2.11"),zl={};function BI(s,a=null,c=null,d){const h=tm(s,a,c,d);return h.resolveInjectorInitializers(),h}function tm(s,a=null,c=null,d,h=new Set){const p=[c||jt,yI(s)];return d=d||("object"==typeof s?void 0:Ve(s)),new hi(p,a||jg(),d||null,h)}let Pi=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=F;static#t=this.NULL=new fy;static create(c,d){if(Array.isArray(c))return BI({name:""},d,c,"");{const h=c.name??"";return BI({name:h},c.parent,c.providers,h)}}static#n=this.\u0275prov=wt({token:s,providedIn:"any",factory:()=>an(mI)});static#r=this.__NG_ELEMENT_ID__=-1}return s})();function nm(s){return s.ngOriginalError}class La{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&nm(a);for(;c&&nm(c);)c=nm(c);return c||null}}function Yh(s){return a=>{setTimeout(s,void 0,a)}}const qo=class ID extends o.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,p=c||(()=>null),y=d;if(a&&"object"==typeof a){const T=a;h=T.next?.bind(T),p=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(p=Yh(p),h&&(h=Yh(h)),y&&(y=Yh(y)));const E=super.subscribe({next:h,error:p,complete:y});return a instanceof L.w0&&a.add(E),E}};function wD(...s){}class nr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qo(!1),this.onMicrotaskEmpty=new qo(!1),this.onStable=new qo(!1),this.onError=new qo(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Ay(){const s="function"==typeof gn.requestAnimationFrame;let a=gn[s?"requestAnimationFrame":"setTimeout"],c=gn[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function TD(s){const a=()=>{!function Nk(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(gn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ac(s),s.isCheckStableRunning=!0,Sy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ac(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,y,E)=>{if(function bD(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(E))return c.invokeTask(h,p,y,E);try{return im(s),c.invokeTask(h,p,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),xy(s)}},onInvoke:(c,d,h,p,y,E,T)=>{try{return im(s),c.invoke(h,p,y,E,T)}finally{s.shouldCoalesceRunChangeDetection&&a(),xy(s)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,ac(s),Sy(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nr.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(nr.isInAngularZone())throw new K(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,a,Dy,wD,wD);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const Dy={};function Sy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ac(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function im(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function xy(s){s._nesting--,Sy(s)}class ZI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qo,this.onMicrotaskEmpty=new qo,this.onStable=new qo,this.onError=new qo}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const Wl=new Nt("",{providedIn:"root",factory:CD});function CD(){const s=Jt(nr);let a=!0;const c=new ie.y(h=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(a),h.complete()})}),d=new ie.y(h=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{nr.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const y=s.onUnstable.subscribe(()=>{nr.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,se.T)(c,d.pipe((0,Re.B)()))}function Ua(s){return s instanceof Function?s():s}let co=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:()=>new s})}return s})();function Xh(s){for(;s;){s[Ct]|=64;const a=xa(s);if(Tu(s)&&!a)return s;s=a}return null}const SD=new Nt("",{providedIn:"root",factory:()=>!1});let sm=null;function uc(s,a){return s[a]??QI()}function Py(s,a){const c=QI();c.producerNode?.length&&(s[a]=sm,c.lView=s,sm=lo())}const PD={...C_,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{Xh(s.lView)},lView:null};function lo(){return Object.create(PD)}function QI(){return sm??=lo(),sm}const At={};function YI(s){Va(Ut(),ge(),gt()+s,!1)}function Va(s,a,c,d){if(!d)if(3==(3&a[Ct])){const p=s.preOrderCheckHooks;null!==p&&eo(a,p,c)}else{const p=s.preOrderHooks;null!==p&&to(a,p,0,c)}Po(c)}function ho(s,a=yt.Default){const c=ge();return null===c?an(s,a):Ns(pr(),c,we(s),a)}function JI(){throw new Error("invalid")}function om(s,a,c,d,h,p,y,E,T,b,S){const N=a.blueprint.slice();return N[un]=h,N[Ct]=140|d,(null!==b||s&&2048&s[Ct])&&(N[Ct]|=2048),mh(N),N[en]=N[os]=s,N[Sn]=c,N[Jc]=y||s&&s[Jc],N[mt]=E||s&&s[mt],N[jr]=T||s&&s[jr]||null,N[En]=p,N[Si]=function A3(){return b3++}(),N[Cs]=S,N[f_]=b,N[wn]=2==a.type?s[wn]:N,N}function tf(s,a,c,d,h){let p=s.data[a];if(null===p)p=function nf(s,a,c,d,h){const p=tg(),y=Mu(),T=s.data[a]=function LD(s,a,c,d,h,p){let y=a?a.injectorIndex:-1,E=0;return function Mo(){return null!==ft.skipHydrationRootTNode}()&&(E|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,d,h);return null===s.firstChild&&(s.firstChild=T),null!==p&&(y?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T,T.prev=p)),T}(s,a,c,d,h),function U_(){return ft.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const y=function vl(){const s=ft.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return As(p,!0),p}function Go(s,a,c,d){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function Oy(s,a,c,d,h){const p=uc(a,Qs),y=gt(),E=2&d;try{Po(-1),E&&a.length>ht&&Va(s,a,ht,!1),Dr(E?2:0,h);const b=E?p:null,S=ul(b);try{null!==b&&(b.dirty=!1),c(d,h)}finally{Bp(b,S)}}finally{E&&null===a[Qs]&&Py(a,Qs),Po(y),Dr(E?3:1,h)}}function am(s,a,c){if(Iu(a)){const d=Ar(null);try{const p=a.directiveEnd;for(let y=a.directiveStart;y<p;y++){const E=s.data[y];E.contentQueries&&E.contentQueries(1,c[y],y)}}finally{Ar(d)}}}function zo(s,a,c){vh()&&(function sw(s,a,c,d){const h=c.directiveStart,p=c.directiveEnd;Ys(c)&&function jD(s,a,c){const d=fr(a,s),h=Fy(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const E=Ql(s,om(s,h,null,y,d,a,null,s[Jc].rendererFactory.createRenderer(d,c),null,null,null));s[a.index]=E}(a,c,s.data[h+c.componentOffset]),s.firstCreatePass||Bu(c,a),di(d,a);const y=c.initialInputs;for(let E=h;E<p;E++){const T=s.data[E],b=ro(a,s,E,c);di(b,a),null!==y&&ki(0,E-h,b,T,0,y),Gi(T)&&(ri(c.index,a)[Sn]=ro(a,s,E,c))}}(s,a,c,fr(c,a)),64==(64&c.flags)&&Ba(s,a,c))}function ky(s,a,c=fr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],E=-1===y?c(a,s):s[y];s[h++]=E}}}function Fy(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Ly(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function Ly(s,a,c,d,h,p,y,E,T,b,S){const N=ht+d,V=N+h,H=function ew(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:At);return c}(N,V),ae="function"==typeof b?b():b;return H[ze]={type:s,blueprint:H,template:c,queries:null,viewQuery:E,declTNode:a,data:H.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:ae,incompleteFirstPass:!1,ssrId:S}}let rf=s=>null;function Uy(s,a,c,d){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const p=s[h];null===d?rw(c,a,h,p):d.hasOwnProperty(h)&&rw(c,a,d[h],p)}return c}function rw(s,a,c,d){s.hasOwnProperty(c)?s[c].push(a,d):s[c]=[a,d]}function Oi(s,a,c,d,h,p,y,E){const T=fr(a,c);let S,b=a.inputs;!E&&null!=b&&(S=b[d])?(jy(s,c,S,d,h),Ys(a)&&function Ok(s,a){const c=ri(a,s);16&c[Ct]||(c[Ct]|=64)}(c,a.index)):3&a.type&&(d=function UD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,a.value||"",d):h,p.setProperty(T,d,h))}function um(s,a,c,d){if(vh()){const h=null===d?null:{"":-1},p=function Vk(s,a){const c=s.directiveRegistry;let d=null,h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];if(kp(a,y.selectors,!1))if(d||(d=[]),Gi(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),ow(s,a,E.length)}else d.unshift(y),ow(s,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,c);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&Vy(s,a,c,y,h,E),h&&function VD(s,a,c){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new K(-301,!1);d.push(a[h],p)}}}(c,d,h)}c.mergedAttrs=mu(c.mergedAttrs,c.attrs)}function Vy(s,a,c,d,h,p){for(let b=0;b<d.length;b++)Zu(Bu(c,a),s,d[b].type);!function fi(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,d.length);for(let b=0;b<d.length;b++){const S=d[b];S.providersResolver&&S.providersResolver(S)}let y=!1,E=!1,T=Go(s,a,d.length,null);for(let b=0;b<d.length;b++){const S=d[b];c.mergedAttrs=mu(c.mergedAttrs,S.hostAttrs),BD(s,c,a,T,S),By(T,S,h),null!==S.contentQueries&&(c.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(c.flags|=64);const N=S.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((s.preOrderHooks??=[]).push(c.index),y=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(c.index),E=!0),T++}!function iw(s,a,c){const h=a.directiveEnd,p=s.data,y=a.attrs,E=[];let T=null,b=null;for(let S=a.directiveStart;S<h;S++){const N=p[S],V=c?c.get(N):null,ae=V?V.outputs:null;T=Uy(N.inputs,S,T,V?V.inputs:null),b=Uy(N.outputs,S,b,ae);const be=null===T||null===y||Qd(a)?null:ZD(T,S,y);E.push(be)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=T,a.outputs=b}(s,c,p)}function Ba(s,a,c){const d=c.directiveStart,h=c.directiveEnd,p=c.index,y=function M1(){return ft.lFrame.currentDirectiveIndex}();try{Po(p);for(let E=d;E<h;E++){const T=s.data[E],b=a[E];El(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Uk(T,b)}}finally{Po(-1),El(y)}}function Uk(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function ow(s,a,c){a.componentOffset=c,(s.components??=[]).push(a.index)}function By(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;Gi(a)&&(c[""]=s)}}function BD(s,a,c,d,h){s.data[d]=h;const p=h.factory||(h.factory=la(h.type)),y=new Ni(p,Gi(h),ho);s.blueprint[d]=y,c[d]=y,function Fk(s,a,c,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~a.index;(function Lk(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=E&&y.push(E),y.push(c,d,p)}}(s,a,d,Go(s,c,h.hostVars,At),h)}function R(s,a,c,d,h,p){const y=fr(s,a);!function rr(s,a,c,d,h,p,y){if(null==p)s.removeAttribute(a,h,c);else{const E=null==y?W(p):y(p,d||"",h);s.setAttribute(a,h,E,c)}}(a[mt],y,p,s.value,c,d,h)}function ki(s,a,c,d,h,p){const y=p[a];if(null!==y)for(let E=0;E<y.length;)_e(d,c,y[E++],y[E++],y[E++])}function _e(s,a,c,d,h){const p=Ar(null);try{const y=s.inputTransforms;null!==y&&y.hasOwnProperty(d)&&(h=y[d].call(a,h)),null!==s.setInput?s.setInput(a,h,c,d):a[d]=h}finally{Ar(p)}}function ZD(s,a,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let E=0;E<y.length;E+=2)if(y[E]===a){d.push(p,y[E+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function aw(s,a,c,d){return[s,!0,!1,a,null,0,d,c,null,null,null]}function uw(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d+1];if(-1!==p){const y=s.data[p];Ih(c[d]),y.contentQueries(2,a[p],p)}}}function Ql(s,a){return s[Di]?s[Do][Ai]=a:s[Di]=a,s[Do]=a,a}function cm(s,a,c){Ih(0);const d=Ar(null);try{a(s,c)}finally{Ar(d)}}function cw(s){return s[ca]||(s[ca]=[])}function lw(s){return s.cleanup||(s.cleanup=[])}function hw(s,a){const c=s[jr],d=c?c.get(La,null):null;d&&d.handleError(a)}function jy(s,a,c,d,h){for(let p=0;p<c.length;){const y=c[p++],E=c[p++];_e(s.data[y],a[y],d,E,h)}}function Wo(s,a,c){const d=Du(a,s);!function Bl(s,a,c){s.setValue(a,c)}(s[mt],d,c)}function $D(s,a){const c=ri(a,s),d=c[ze];!function qD(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])}(d,c);const h=c[un];null!==h&&null===c[Cs]&&(c[Cs]=uo(h,c[jr])),Zy(d,c,c[Sn])}function Zy(s,a,c){er(a);try{const d=s.viewQuery;null!==d&&cm(1,d,c);const h=s.template;null!==h&&Oy(s,a,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&uw(s,a),s.staticViewQueries&&cm(2,s.viewQuery,c);const p=s.components;null!==p&&function HD(s,a){for(let c=0;c<a.length;c++)$D(s,a[c])}(a,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[Ct]&=-5,Tl()}}let fw=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(c,d,h){const p=typeof Zone>"u"?null:Zone.current,y=function N_(s,a,c){const d=Object.create(gl);c&&(d.consumerAllowSignalWrites=!0),d.fn=s,d.schedule=a;const h=y=>{d.cleanupFn=y};return d.ref={notify:()=>D_(d),run:()=>{if(d.dirty=!1,d.hasRun&&!cl(d))return;d.hasRun=!0;const y=ul(d);try{d.cleanupFn(),d.cleanupFn=dh,d.fn(h)}finally{Bp(d,y)}},cleanup:()=>d.cleanupFn()},d.ref}(c,b=>{this.all.has(b)&&this.queue.set(b,p)},h);let E;this.all.add(y),y.notify();const T=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=d?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:()=>new s})}return s})();function lm(s,a,c){let d=c?s.styles:null,h=c?s.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?p=E:1==p?h=xe(h,E):2==p&&(d=xe(d,E+": "+a[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function sf(s,a,c,d,h=!1){for(;null!==c;){const p=a[c.index];null!==p&&d.push(rn(p)),Wn(p)&&pw(p,d);const y=c.type;if(8&y)sf(s,a,c.child,d);else if(32&y){const E=Y_(c,a);let T;for(;T=E();)d.push(T)}else if(16&y){const E=rI(a,c);if(Array.isArray(E))d.push(...E);else{const T=xa(a[wn]);sf(T[ze],T,E,d,!0)}}c=h?c.projectionNext:c.next}return d}function pw(s,a){for(let c=Vn;c<s.length;c++){const d=s[c],h=d[ze].firstChild;null!==h&&sf(d[ze],d,h,a)}s[xi]!==s[un]&&a.push(s[xi])}function dm(s,a,c,d=!0){const h=a[Jc],p=h.rendererFactory,y=h.afterRenderEventManager;p.begin?.(),y?.begin();try{gw(s,a,s.template,c)}catch(T){throw d&&hw(a,T),T}finally{p.end?.(),h.effectManager?.flush(),y?.end()}}function gw(s,a,c,d){const h=a[Ct];if(256!=(256&h)){a[Jc].effectManager?.flush(),er(a);try{mh(a),function Eh(s){return ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Oy(s,a,c,2,d);const y=3==(3&h);if(y){const b=s.preOrderCheckHooks;null!==b&&eo(a,b,null)}else{const b=s.preOrderHooks;null!==b&&to(a,b,0,null),ku(a,0)}if(function WD(s){for(let a=Yu(s);null!==a;a=Ul(a)){if(!a[el])continue;const c=a[xo];for(let d=0;d<c.length;d++){O_(c[d])}}}(a),mw(a,2),null!==s.contentQueries&&uw(s,a),y){const b=s.contentCheckHooks;null!==b&&eo(a,b)}else{const b=s.contentHooks;null!==b&&to(a,b,1),ku(a,1)}!function XI(s,a){const c=s.hostBindingOpCodes;if(null===c)return;const d=uc(a,as);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Po(~p);else{const y=p,E=c[++h],T=c[++h];x1(E,y),d.dirty=!1;const b=ul(d);try{T(2,a[y])}finally{Bp(d,b)}}}}finally{null===a[as]&&Py(a,as),Po(-1)}}(s,a);const E=s.components;null!==E&&yw(a,E,0);const T=s.viewQuery;if(null!==T&&cm(2,T,d),y){const b=s.viewCheckHooks;null!==b&&eo(a,b)}else{const b=s.viewHooks;null!==b&&to(a,b,2),ku(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Ct]&=-73,_l(a)}finally{Tl()}}}function mw(s,a){for(let c=Yu(s);null!==c;c=Ul(c))for(let d=Vn;d<c.length;d++)_w(c[d],a)}function KD(s,a,c){_w(ri(a,s),c)}function _w(s,a){if(!function D1(s){return 128==(128&s[Ct])}(s))return;const c=s[ze],d=s[Ct];if(80&d&&0===a||1024&d||2===a)gw(c,s,c.template,s[Sn]);else if(s[Ao]>0){mw(s,1);const h=c.components;null!==h&&yw(s,h,1)}}function yw(s,a,c){for(let d=0;d<a.length;d++)KD(s,a[d],c)}class af{get rootNodes(){const a=this._lView,c=a[ze];return sf(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(a){this._lView[Sn]=a}get destroyed(){return 256==(256&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[en];if(Wn(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Ju(a,d),Pl(c,d))}this._attachedToViewContainer=!1}Na(this._lView[ze],this._lView)}onDestroy(a){!function _h(s,a){if(256==(256&s[Ct]))throw new K(911,!1);null===s[Hi]&&(s[Hi]=[]),s[Hi].push(a)}(this._lView,a)}markForCheck(){Xh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){this._lView[Ct]|=128}detectChanges(){dm(this._lView[ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function O3(s,a){Fh(s,a,a[mt],2,null,null)}(this._lView[ze],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=a}}class hm extends af{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;dm(a[ze],a,a[Sn],!1)}checkNoChanges(){}get context(){return null}}class vw extends ka{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Lt(a);return new pm(c,this.ngModule)}}function ja(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class QD{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=fu(d);const h=this.injector.get(a,zl,d);return h!==zl||c===zl?h:this.parentInjector.get(a,c,d)}}class pm extends kI{get inputs(){const a=this.componentDef,c=a.inputTransforms,d=ja(a.inputs);if(null!==c)for(const h of d)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return d}get outputs(){return ja(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Jd(s){return s.map(Gc).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let p=(h=h||this.ngModule)instanceof oo?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new QD(a,p):a,E=y.get(LI,null);if(null===E)throw new K(407,!1);const N={rendererFactory:E,sanitizer:y.get(Jg,null),effectManager:y.get(fw,null),afterRenderEventManager:y.get(co,null)},V=E.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",ae=d?function OD(s,a,c,d){const p=d.get(SD,!1)||c===ws.ShadowDom,y=s.selectRootElement(a,p);return function kD(s){rf(s)}(y),y}(V,d,this.componentDef.encapsulation,y):Dg(V,H,function fm(s){const a=s.toLowerCase();return"svg"===a?ph:"math"===a?"math":null}(H)),nt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let me=null;null!==ae&&(me=uo(ae,y,!0));const Et=Ly(0,null,null,1,0,null,null,null,null,null,null),Rt=om(null,Et,null,nt,null,null,N,V,y,null,me);let sn,_r;er(Rt);try{const Ji=this.componentDef;let Xa,_0=null;Ji.findHostDirectiveDefs?(Xa=[],_0=new Map,Ji.findHostDirectiveDefs(Ji,Xa,_0),Xa.push(Ji)):Xa=[Ji];const Bx=function uf(s,a){const c=s[ze],d=ht;return s[d]=a,tf(c,d,2,"#host",null)}(Rt,ae),y0=function jk(s,a,c,d,h,p,y){const E=h[ze];!function Zk(s,a,c,d){for(const h of s)a.mergedAttrs=mu(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(lm(a,a.mergedAttrs,!0),null!==c&&oI(d,c,a))}(d,s,a,y);let T=null;null!==a&&(T=uo(a,h[jr]));const b=p.rendererFactory.createRenderer(a,c);let S=16;c.signals?S=4096:c.onPush&&(S=64);const N=om(h,Fy(c),null,S,h[s.index],s,p,b,null,null,T);return E.firstCreatePass&&ow(E,s,d.length-1),Ql(h,N),h[s.index]=N}(Bx,ae,Ji,Xa,Rt,N,V);_r=Su(Et,ht),ae&&function Ko(s,a,c,d){if(d)mn(s,c,["ng-version",Cy.full]);else{const{attrs:h,classes:p}=function d_(s){const a=[],c=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++d]):8===h&&c.push(p);else{if(!ti(h))break;h=p}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&mn(s,c,h),p&&p.length>0&&sI(s,c,p.join(" "))}}(V,Ji,ae,d),void 0!==c&&function JD(s,a,c){const d=s.projection=[];for(let h=0;h<a.length;h++){const p=c[h];d.push(null!=p?Array.from(p):null)}}(_r,this.ngContentSelectors,c),sn=function YD(s,a,c,d,h,p){const y=pr(),E=h[ze],T=fr(y,h);Vy(E,h,y,c,null,d);for(let S=0;S<c.length;S++)di(ro(h,E,y.directiveStart+S,y),h);Ba(E,h,y),T&&di(T,h);const b=ro(h,E,y.directiveStart+y.componentOffset,y);if(s[Sn]=h[Sn]=b,null!==p)for(const S of p)S(b,a);return am(E,y,s),b}(y0,Ji,Xa,_0,Rt,[Jl]),Zy(Et,Rt,null)}finally{Tl()}return new Fi(this.componentType,sn,Fs(_r,Rt),Rt,_r)}}class Fi extends Ak{constructor(a,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new hm(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const p=this._rootLView;jy(p[ze],p,h,a,c),this.previousInputValues.set(a,c),Xh(ri(this._tNode.index,p))}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Jl(){const s=pr();xs(ge()[ze],s)}function qy(s){let a=function $y(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let h;if(Gi(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new K(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const y=s;y.inputs=Hy(s.inputs),y.inputTransforms=Hy(s.inputTransforms),y.declaredInputs=Hy(s.declaredInputs),y.outputs=Hy(s.outputs);const E=h.hostBindings;E&&qk(s,E);const T=h.viewQuery,b=h.contentQueries;if(T&&Gy(s,T),b&&pi(s,b),Qe(s.inputs,h.inputs),Qe(s.declaredInputs,h.declaredInputs),Qe(s.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),Qe(y.inputTransforms,h.inputTransforms)),Gi(h)&&h.data.animation){const S=s.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(s),E===qy&&(c=!1)}}a=Object.getPrototypeOf(a)}!function $k(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=mu(h.hostAttrs,c=mu(c,h.hostAttrs))}}(d)}function Hy(s){return s===Ci?{}:s===jt?[]:s}function Gy(s,a){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function pi(s,a){const c=s.contentQueries;s.contentQueries=c?(d,h,p)=>{a(d,h,p),c(d,h,p)}:a}function qk(s,a){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function mm(s){const a=s.inputConfig,c={};for(const d in a)if(a.hasOwnProperty(d)){const h=a[d];Array.isArray(h)&&h[2]&&(c[d]=h[2])}s.inputTransforms=c}function _m(s){return!!ym(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function ym(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function fo(s,a,c){return s[a]=c}function Hr(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function cc(s,a,c,d){const h=Hr(s,a,c);return Hr(s,a+1,d)||h}function Ky(s,a,c,d){const h=ge();return Hr(h,Ru(),a)&&(Ut(),R(yn(),h,s,a,c,d)),Ky}function lc(s,a,c,d){return Hr(s,Ru(),c)?a+W(c)+d:At}function dc(s,a,c,d,h,p,y,E){const b=function lf(s,a,c,d,h){const p=cc(s,a,c,d);return Hr(s,a+2,h)||p}(s,function cs(){return ft.lFrame.bindingIndex}(),c,h,y);return Xs(3),b?a+W(c)+d+W(h)+p+W(y)+E:At}function Pw(s,a,c,d,h,p,y,E){const T=ge(),b=Ut(),S=s+ht,N=b.firstCreatePass?function _S(s,a,c,d,h,p,y,E,T){const b=a.consts,S=tf(a,s,4,y||null,bs(b,E));um(a,c,S,bs(b,T)),xs(a,S);const N=S.tView=Ly(2,S,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,b,null);return null!==a.queries&&(a.queries.template(a,S),N.queries=a.queries.embeddedTView(S)),S}(S,b,T,a,c,d,h,p,y):b.data[S];As(N,!1);const V=ev(b,T,N,s);ya()&&Mg(b,T,V,N),di(V,T),Ql(T,T[S]=aw(V,T,V,N)),wu(N)&&zo(b,T,N),null!=y&&ky(T,N,E)}let ev=function Ow(s,a,c,d){return Ss(!0),a[mt].createComment("")};function Lw(s){return pa(function S1(){return ft.lFrame.contextLView}(),ht+s)}function tv(s,a,c){const d=ge();return Hr(d,Ru(),a)&&Oi(Ut(),yn(),d,s,a,d[mt],c,!1),tv}function Yo(s,a,c,d,h){const y=h?"class":"style";jy(s,c,a.inputs[y],y,d)}function sd(s,a,c,d){const h=ge(),p=Ut(),y=ht+s,E=h[mt],T=p.firstCreatePass?function nv(s,a,c,d,h,p){const y=a.consts,T=tf(a,s,2,d,bs(y,h));return um(a,c,T,bs(y,p)),null!==T.attrs&&lm(T,T.attrs,!1),null!==T.mergedAttrs&&lm(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(y,p,h,a,c,d):p.data[y],b=wm(p,h,T,E,a,s);h[y]=b;const S=wu(T);return As(T,!0),oI(E,b,T),32!=(32&T.flags)&&ya()&&Mg(p,h,b,T),0===function ma(){return ft.lFrame.elementDepthCount}()&&di(b,h),function yh(){ft.lFrame.elementDepthCount++}(),S&&(zo(p,h,T),am(p,T,h)),null!==d&&ky(h,T),sd}function mc(){let s=pr();Mu()?ng():(s=s.parent,As(s,!1));const a=s;(function yl(s){return ft.skipHydrationRootTNode===s})(a)&&function F_(){ft.skipHydrationRootTNode=null}(),function k_(){ft.lFrame.elementDepthCount--}();const c=Ut();return c.firstCreatePass&&(xs(c,s),Iu(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ls(s){return 0!=(8&s.flags)}(a)&&Yo(c,a,ge(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function xn(s){return 0!=(16&s.flags)}(a)&&Yo(c,a,ge(),a.stylesWithoutHost,!1),mc}function mf(s,a,c,d){return sd(s,a,c,d),mc(),mf}let wm=(s,a,c,d,h,p)=>(Ss(!0),Dg(d,h,function Cl(){return ft.lFrame.currentNamespace}()));function od(s,a,c){const d=ge(),h=Ut(),p=s+ht,y=h.firstCreatePass?function iv(s,a,c,d,h){const p=a.consts,y=bs(p,d),E=tf(a,s,8,"ng-container",y);return null!==y&&lm(E,y,!0),um(a,c,E,bs(p,h)),null!==a.queries&&a.queries.elementStart(a,E),E}(p,h,d,a,c):h.data[p];As(y,!0);const E=Vw(h,d,y,s);return d[p]=E,ya()&&Mg(h,d,E,y),di(E,d),wu(y)&&(zo(h,d,y),am(h,y,d)),null!=c&&ky(d,y),od}function ad(){let s=pr();const a=Ut();return Mu()?ng():(s=s.parent,As(s,!1)),a.firstCreatePass&&(xs(a,s),Iu(s)&&a.queries.elementEnd(s)),ad}let Vw=(s,a,c,d)=>(Ss(!0),J_(a[mt],""));function Bw(){return ge()}function yf(s){return!!s&&"function"==typeof s.then}function ov(s){return!!s&&"function"==typeof s.subscribe}function Tm(s,a,c,d){const h=ge(),p=Ut(),y=pr();return function Cm(s,a,c,d,h,p,y){const E=wu(d),b=s.firstCreatePass&&lw(s),S=a[Sn],N=cw(a);let V=!0;if(3&d.type||y){const be=fr(d,a),Ze=y?y(be):be,nt=N.length,me=y?Rt=>y(rn(Rt[d.index])):d.index;let Et=null;if(!y&&E&&(Et=function vS(s,a,c,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===d){const E=a[ca],T=h[p+2];return E.length>T?E[T]:null}"string"==typeof y&&(p+=2)}return null}(s,a,h,d.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,V=!1;else{p=bm(d,a,S,p,!1);const Rt=c.listen(Ze,h,p);N.push(p,Rt),b&&b.push(h,me,nt,nt+1)}}else p=bm(d,a,S,p,!1);const H=d.outputs;let ae;if(V&&null!==H&&(ae=H[h])){const be=ae.length;if(be)for(let Ze=0;Ze<be;Ze+=2){const sn=a[ae[Ze]][ae[Ze+1]].subscribe(p),_r=N.length;N.push(p,sn),b&&b.push(h,d.index,_r,-(_r+1))}}}(p,h,h[mt],y,s,a,d),Tm}function Zw(s,a,c,d){try{return Dr(6,a,c),!1!==c(d)}catch(h){return hw(s,h),!1}finally{Dr(7,a,c)}}function bm(s,a,c,d,h){return function p(y){if(y===Function)return d;Xh(s.componentOffset>-1?ri(s.index,a):a);let T=Zw(a,c,d,y),b=p.__ngNextListenerFn__;for(;b;)T=Zw(a,c,b,y)&&T,b=b.__ngNextListenerFn__;return h&&!1===T&&y.preventDefault(),T}}function Am(s=1){return function No(s){return(ft.lFrame.contextLView=function Ro(s,a){for(;s>0;)a=a[os],s--;return a}(s,ft.lFrame.contextLView))[Sn]}(s)}function uv(s,a,c){return vf(s,"",a,"",c),uv}function vf(s,a,c,d,h){const p=ge(),y=lc(p,a,c,d);return y!==At&&Oi(Ut(),yn(),p,s,y,p[mt],h,!1),vf}function ud(s,a){return s<<17|a<<2}function Ga(s){return s>>17&32767}function Ef(s){return 2|s}function _c(s){return(131068&s)>>2}function Qw(s,a){return-131069&s|a<<2}function Yw(s){return 1|s}function Xw(s,a,c,d,h){const p=s[c+1],y=null===a;let E=d?Ga(p):_c(p),T=!1;for(;0!==E&&(!1===T||y);){const S=s[E+1];wS(s[E],a)&&(T=!0,s[E+1]=d?Yw(S):Ef(S)),E=d?Ga(S):_c(S)}T&&(s[c+1]=d?Ef(p):Yw(p))}function wS(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&I(s,a)>=0}function If(s,a){return function go(s,a,c,d){const h=ge(),p=Ut(),y=Xs(2);p.firstUpdatePass&&function wf(s,a,c,d){const h=s.data;if(null===h[c+1]){const p=h[gt()],y=function DS(s,a){return a>=s.expandoStartIndex}(s,c);(function uT(s,a){return 0!=(s.flags&(a?8:16))})(p,d)&&null===a&&!y&&(a=!1),a=function Kk(s,a,c,d){const h=function Kn(s){const a=ft.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=Tf(c=mv(null,s,a,c,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(c=mv(h,s,a,c,d),null===p){let T=function SS(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==_c(d))return s[Ga(d)]}(s,a,d);void 0!==T&&Array.isArray(T)&&(T=mv(null,s,a,T[1],d),T=Tf(T,a.attrs,d),function xS(s,a,c,d){s[Ga(c?a.classBindings:a.styleBindings)]=d}(s,a,d,T))}else p=function MS(s,a,c){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=Tf(d,s[p].hostAttrs,c);return Tf(d,a.attrs,c)}(s,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,d),function hv(s,a,c,d,h,p){let y=p?a.classBindings:a.styleBindings,E=Ga(y),T=_c(y);s[d]=c;let S,b=!1;if(Array.isArray(c)?(S=c[1],(null===S||I(c,S)>0)&&(b=!0)):S=c,h)if(0!==T){const V=Ga(s[E+1]);s[d+1]=ud(V,E),0!==V&&(s[V+1]=Qw(s[V+1],d)),s[E+1]=function IS(s,a){return 131071&s|a<<17}(s[E+1],d)}else s[d+1]=ud(E,0),0!==E&&(s[E+1]=Qw(s[E+1],d)),E=d;else s[d+1]=ud(T,0),0===E?E=d:s[T+1]=Qw(s[T+1],d),T=d;b&&(s[d+1]=Ef(s[d+1])),Xw(s,S,d,!0),Xw(s,S,d,!1),function Jw(s,a,c,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&I(p,a)>=0&&(c[d+1]=Yw(c[d+1]))}(a,S,s,d,p),y=ud(E,T),p?a.classBindings=y:a.styleBindings=y}(h,p,a,c,y,d)}}(p,s,y,d),a!==At&&Hr(h,y,a)&&function aT(s,a,c,d,h,p,y,E){if(!(3&a.type))return;const T=s.data,b=T[E+1],S=function dv(s){return 1==(1&s)}(b)?Cf(T,a,c,h,_c(b),y):void 0;_o(S)||(_o(p)||function lv(s){return 2==(2&s)}(b)&&(p=Cf(T,null,c,h,E,y)),function $3(s,a,c,d,h){if(a)h?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:Ll.DashCase;null==h?s.removeStyle(c,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Ll.Important),s.setStyle(c,d,h,p))}}(d,y,Du(gt(),c),h,p))}(p,p.data[gt()],h,h[mt],s,h[y+1]=function OS(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Ve(Uo(s)))),s}(a,c),d,y)}(s,a,null,!0),If}function mv(s,a,c,d,h){let p=null;const y=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<y&&(p=a[E],d=Tf(d,p.hostAttrs,h),p!==s);)E++;return null!==s&&(c.directiveStylingLast=E),d}function Tf(s,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ai(s,y,!!c||a[++p]))}return void 0===s?null:s}function Cf(s,a,c,d,h,p){const y=null===a;let E;for(;h>0;){const T=s[h],b=Array.isArray(T),S=b?T[1]:T,N=null===S;let V=c[h+1];V===At&&(V=N?jt:void 0);let H=N?so(V,d):S===d?V:void 0;if(b&&!_o(H)&&(H=so(T,d)),_o(H)&&(E=H,y))return E;const ae=s[h+1];h=y?Ga(ae):_c(ae)}if(null!==a){let T=p?a.residualClasses:a.residualStyles;null!=T&&(E=so(T,d))}return E}function _o(s){return void 0!==s}function cT(s,a=""){const c=ge(),d=Ut(),h=s+ht,p=d.firstCreatePass?tf(d,h,1,a,null):d.data[h],y=lT(d,c,p,a,s);c[h]=y,ya()&&Mg(d,c,y,p),As(p,!1)}let lT=(s,a,c,d,h)=>(Ss(!0),function Ma(s,a){return s.createText(a)}(a[mt],d));function dT(s){return ld("",s,""),dT}function ld(s,a,c){const d=ge(),h=lc(d,s,a,c);return h!==At&&Wo(d,gt(),h),ld}function bf(s,a,c,d,h,p,y){const E=ge(),T=dc(E,s,a,c,d,h,p,y);return T!==At&&Wo(E,gt(),T),bf}const yc=void 0;var qS=["en",[["a","p"],["AM","PM"],yc],[["AM","PM"],yc,yc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yc,"{1} 'at' {0}",yc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xv(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let vc={};function Df(s){const a=function Mv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=DT(a);if(c)return c;const d=a.split("-")[0];if(c=DT(d),c)return c;if("en"===d)return qS;throw new K(701,!1)}function AT(s){return Df(s)[za.PluralCase]}function DT(s){return s in vc||(vc[s]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[s]),vc[s]}var za=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(za||{});const Wa="en-US";let gr=Wa;function Kv(s,a,c,d,h){if(s=we(s),Array.isArray(s))for(let p=0;p<s.length;p++)Kv(s[p],a,c,d,h);else{const p=Ut(),y=ge(),E=pr();let T=Ra(s)?s:we(s.provide);const b=Zo(s),S=1048575&E.providerIndexes,N=E.directiveStart,V=E.providerIndexes>>20;if(Ra(s)||!s.multi){const H=new Ni(b,h,ho),ae=Yv(T,a,h?S:S+V,N);-1===ae?(Zu(Bu(E,y),p,T),Qv(p,s,a.length),a.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(H),y.push(H)):(c[ae]=H,y[ae]=H)}else{const H=Yv(T,a,S+V,N),ae=Yv(T,a,S,S+V),Ze=ae>=0&&c[ae];if(h&&!Ze||!h&&!(H>=0&&c[H])){Zu(Bu(E,y),p,T);const nt=function m2(s,a,c,d,h){const p=new Ni(s,c,ho);return p.multi=[],p.index=a,p.componentProviders=0,Um(p,h,d&&!c),p}(h?QT:Jv,c.length,h,d,b);!h&&Ze&&(c[ae].providerFactory=nt),Qv(p,s,a.length,0),a.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(nt),y.push(nt)}else Qv(p,s,H>-1?H:ae,Um(c[h?ae:H],b,!h&&d));!h&&d&&Ze&&c[ae].componentProviders++}}}function Qv(s,a,c,d){const h=Ra(a),p=function sc(s){return!!s.useClass}(a);if(h||p){const T=(p?we(a.useClass):a).prototype.ngOnDestroy;if(T){const b=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const S=b.indexOf(c);-1===S?b.push(c,[d,T]):b[S+1].push(d,T)}else b.push(c,T)}}}function Um(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function Yv(s,a,c,d){for(let h=c;h<d;h++)if(a[h]===s)return h;return-1}function Jv(s,a,c,d){return Pf(this.multi,[])}function QT(s,a,c,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=ro(c,c[ze],this.providerFactory.index,d);p=E.slice(0,y),Pf(h,p);for(let T=y;T<E.length;T++)p.push(E[T])}else p=[],Pf(h,p);return p}function Pf(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function YT(s,a=[]){return c=>{c.providersResolver=(d,h)=>function KT(s,a,c){const d=Ut();if(d.firstCreatePass){const h=Gi(s);Kv(c,d.data,d.blueprint,h,!0),Kv(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class Ic{}class Vm{}function _2(s,a){return new Xv(s,a??null,[])}class Xv extends Ic{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vw(this);const h=Cr(a);this._bootstrapComponents=Ua(h.bootstrap),this._r3Injector=tm(a,c,[{provide:Ic,useValue:this},{provide:ka,useValue:this.componentFactoryResolver},...d],Ve(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Of extends Vm{constructor(a){super(),this.moduleType=a}create(a){return new Xv(this.moduleType,a,[])}}class Bm extends Ic{constructor(a){super(),this.componentFactoryResolver=new vw(this),this.instance=null;const c=new hi([...a.providers,{provide:Ic,useValue:this},{provide:ka,useValue:this.componentFactoryResolver}],a.parent||jg(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function XT(s,a,c=null){return new Bm({providers:s,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let e4=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=vI(0,c.type),h=d.length>0?XT([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=wt({token:s,providedIn:"environment",factory:()=>new s(an(oo))})}return s})();function eC(s){s.getStandaloneInjector=a=>a.get(e4).getOrCreateStandaloneInjector(s)}function qm(s,a,c,d){return Gm(ge(),Sr(),s,a,c,d)}function Hm(s,a){const c=s[a];return c===At?void 0:c}function Gm(s,a,c,d,h,p){const y=a+c;return Hr(s,y,h)?fo(s,y+1,p?d.call(p,h):d(h)):Hm(s,y+1)}function aC(s,a){const c=Ut();let d;const h=s+ht;c.firstCreatePass?(d=function aF(s,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(s===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks??=[]).push(h,d.onDestroy)):d=c.data[h];const p=d.factory||(d.factory=la(d.type)),E=Bt(ho);try{const T=oi(!1),b=p();return oi(T),function Fw(s,a,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=d}(c,ge(),h,b),b}finally{Bt(E)}}function uC(s,a,c){const d=s+ht,h=ge(),p=pa(h,d);return Ff(h,d)?Gm(h,Sr(),a,p.transform,c,p):p.transform(c)}function cC(s,a,c,d){const h=s+ht,p=ge(),y=pa(p,h);return Ff(p,h)?function b2(s,a,c,d,h,p,y){const E=a+c;return cc(s,E,h,p)?fo(s,E+2,y?d.call(y,h,p):d(h,p)):Hm(s,E+2)}(p,Sr(),a,y.transform,c,d,y):y.transform(c,d)}function Ff(s,a){return s[ze].data[a].pure}function s4(){return this._results[Symbol.iterator]()}class wc{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new qo)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=wc.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=s4)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function Mr(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Rl(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=a[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function R2(s,a,c,d=!0){const h=a[ze];if(function fk(s,a,c,d){const h=Vn+d,p=c.length;d>0&&(c[h-1][Ai]=a),d<p-Vn?(a[Ai]=c[h],Mh(c,Vn+d,a)):(c.push(a),a[Ai]=null),a[en]=c;const y=a[Xc];null!==y&&c!==y&&function F3(s,a){const c=s[xo];a[wn]!==a[en][en][wn]&&(s[el]=!0),null===c?s[xo]=[a]:c.push(a)}(y,a);const E=a[Ts];null!==E&&E.insertView(s),a[Ct]|=128}(h,a,s,c),d){const p=Oh(c,s),y=a[mt],E=Sg(y,s[xi]);null!==E&&function P3(s,a,c,d,h,p){d[un]=h,d[En]=a,Fh(s,d,c,1,h,p)}(h,s[En],y,a,E,p)}}let Lf=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=gd}return s})();const cF=Lf,Uf=class extends cF{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,d){const h=function dC(s,a,c,d){const h=a.tView,E=om(s,h,c,4096&s[Ct]?4096:16,null,a,null,null,null,d?.injector??null,d?.hydrationInfo??null);E[Xc]=s[a.index];const b=s[Ts];return null!==b&&(E[Ts]=b.createEmbeddedView(h)),Zy(h,E,c),E}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:d});return new af(h)}};function gd(){return Tc(pr(),ge())}function Tc(s,a){return 4&s.type?new Uf(a,s,Fs(s,a)):null}let _d=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=c4}return s})();function c4(){return Ka(pr(),ge())}const yd=_d,l4=class extends yd{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Fs(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const a=ju(this._hostTNode,this._hostLView);if(Zr(a)){const c=no(a,this._hostLView),d=jn(a);return new xr(c[ze].data[d+8],c)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=hC(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(a,c,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const E=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(E,h,false),E}createComponent(a,c,d,h,p){const y=a&&!function ko(s){return"function"==typeof s}(a);let E;if(y)E=c;else{const be=c||{};E=be.index,d=be.injector,h=be.projectableNodes,p=be.environmentInjector||be.ngModuleRef}const T=y?a:new pm(Lt(a)),b=d||this.parentInjector;if(!p&&null==T.ngModule){const Ze=(y?b:this.parentInjector).get(oo,null);Ze&&(p=Ze)}Lt(T.componentType??{});const H=T.create(b,h,null,p);return this.insertImpl(H.hostView,E,false),H}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const h=a._lView;if(function Bn(s){return Wn(s[en])}(h)){const T=this.indexOf(a);if(-1!==T)this.detach(T);else{const b=h[en],S=new l4(b,b[En],b[en]);S.detach(S.indexOf(a))}}const y=this._adjustIndex(c),E=this._lContainer;return R2(E,h,y,!d),a.attachToViewContainerRef(),Mh(Vf(E),y,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=hC(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Ju(this._lContainer,c);d&&(Pl(Vf(this._lContainer),c),Na(d[ze],d))}detach(a){const c=this._adjustIndex(a,-1),d=Ju(this._lContainer,c);return d&&null!=Pl(Vf(this._lContainer),c)?new af(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function hC(s){return s[8]}function Vf(s){return s[8]||(s[8]=[])}function Ka(s,a){let c;const d=a[s.index];return Wn(d)?c=d:(c=aw(d,a,null,s),a[s.index]=c,Ql(a,c)),Qa(c,a,s,d),new l4(c,s,a)}let Qa=function k2(s,a,c,d){if(s[xi])return;let h;h=8&c.type?rn(d):function O2(s,a){const c=s[mt],d=c.createComment(""),h=fr(a,s);return Xu(c,Sg(c,h),d,function xg(s,a){return s.nextSibling(a)}(c,h),!1),d}(a,c),s[xi]=h};class d4{constructor(a){this.queryList=a,this.matches=null}clone(){return new d4(this.queryList)}setDirty(){this.queryList.setDirty()}}class h4{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new h4(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Z2(a,c).matches&&this.queries[c].setDirty()}}class _s{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Ya{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new Ya(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Ym{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Ym(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,c,fF(c,p)),this.matchTNodeWithReadOption(a,c,$r(c,a,p,!1,!1))}else d===Lf?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,$r(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===$o||h===_d||h===Lf&&4&c.type)this.addMatch(c.index,-2);else{const p=$r(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function fF(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function f4(s,a,c,d){return-1===c?function F2(s,a){return 11&s.type?Fs(s,a):4&s.type?Tc(s,a):null}(a,s):-2===c?function L2(s,a,c){return c===$o?Fs(a,s):c===Lf?Tc(a,s):c===_d?Ka(a,s):void 0}(s,a,d):ro(s,s[ze],c,a)}function pC(s,a,c,d){const h=a[Ts].queries[d];if(null===h.matches){const p=s.data,y=c.matches,E=[];for(let T=0;T<y.length;T+=2){const b=y[T];E.push(b<0?null:f4(a,p[b],y[T+1],c.metadata.read))}h.matches=E}return h.matches}function p4(s,a,c,d){const h=s.queries.getByIndex(c),p=h.matches;if(null!==p){const y=pC(s,a,h,c);for(let E=0;E<p.length;E+=2){const T=p[E];if(T>0)d.push(y[E/2]);else{const b=p[E+1],S=a[-T];for(let N=Vn;N<S.length;N++){const V=S[N];V[Xc]===V[en]&&p4(V[ze],V,b,d)}if(null!==S[xo]){const N=S[xo];for(let V=0;V<N.length;V++){const H=N[V];p4(H[ze],H,b,d)}}}}}return d}function gC(s){const a=ge(),c=Ut(),d=Ds();Ih(d+1);const h=Z2(c,d);if(s.dirty&&function xu(s){return 4==(4&s[Ct])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?p4(c,a,d,[]):pC(c,a,h,d);s.reset(p,Iy),s.notifyOnChanges()}return!0}return!1}function V2(s,a,c,d){const h=Ut();if(h.firstCreatePass){const p=pr();(function j2(s,a,c){null===s.queries&&(s.queries=new Ya),s.queries.track(new Ym(a,c))})(h,new _s(a,c,d),p.index),function gF(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}!function mC(s,a,c){const d=new wc(4==(4&c));(function nw(s,a,c,d){const h=cw(a);h.push(c),s.firstCreatePass&&lw(s).push(d,h.length-1)})(s,a,d,d.destroy),null===a[Ts]&&(a[Ts]=new h4),a[Ts].queries.push(new d4(d))}(h,ge(),c)}function B2(){return function pF(s,a){return s[Ts].queries[a].queryList}(ge(),Ds())}function Z2(s,a){return s.queries.getByIndex(a)}function $2(s,a){return Tc(s,a)}function EC(s){return!!Cr(s)}const sx=new Nt("Application Initializer");let jf=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=Jt(sx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const p=h();if(yf(p))c.push(p);else if(ov(p)){const y=new Promise((E,T)=>{p.subscribe({complete:E,error:T})});c.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),m4=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const vn=new Nt("LocaleId",{providedIn:"root",factory:()=>Jt(vn,yt.Optional|yt.SkipSelf)||function ox(){return typeof $localize<"u"&&$localize.locale||Wa}()}),ax=new Nt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let AC=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class cx{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let DC=(()=>{class s{compileModuleSync(c){return new Of(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=Ua(Cr(c).declarations).reduce((y,E)=>{const T=Lt(E);return T&&y.push(new pm(T)),y},[]);return new cx(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const a0=new Nt(""),u0=new Nt("");let qf,yx=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qf||(function C4(s){qf=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}static#e=this.\u0275fac=function(d){return new(d||s)(an(nr),an(c0),an(u0))};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac})}return s})(),c0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return qf?.findTestabilityInTree(this,c,d)??null}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),Eo=null;const PC=new Nt("AllowMultipleToken"),b4=new Nt("PlatformDestroyListeners"),A4=new Nt("appBootstrapListener");class x4{constructor(a,c){this.name=a,this.token=c}}function Cc(s,a,c=[]){const d=`Platform: ${a}`,h=new Nt(d);return(p=[])=>{let y=N4();if(!y||y.injector.get(PC,!1)){const E=[...c,...p,{provide:h,useValue:!0}];s?s(E):function M4(s){if(Eo&&!Eo.get(PC,!1))throw new K(400,!1);(function D4(){!function w1(s){Zp=s}(()=>{throw new K(600,!1)})})(),Eo=s;const a=s.get(VC);(function FC(s){s.get(yy,null)?.forEach(c=>c())})(s)}(function UC(s=[],a){return Pi.create({name:a,providers:[{provide:gs,useValue:"platform"},{provide:b4,useValue:new Set([()=>Eo=null])},...s]})}(E,d))}return function LC(s){const a=N4();if(!a)throw new K(401,!1);return a}()}}function N4(){return Eo?.get(VC)??null}let VC=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function Ex(s="zone.js",a){return"noop"===s?new ZI:"zone.js"===s?new nr(a):s}(d?.ngZone,function BC(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function y2(s,a,c){return new Xv(s,a,c)}(c.moduleType,this.injector,function $C(s){return[{provide:nr,useFactory:s},{provide:$h,multi:!0,useFactory:()=>{const a=Jt(Ix,{optional:!0});return()=>a.initialize()}},{provide:P4,useFactory:O4},{provide:Wl,useFactory:CD}]}(()=>h)),y=p.injector.get(La,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:T=>{y.handleError(T)}});p.onDestroy(()=>{bc(this._modules,p),E.unsubscribe()})}),function jC(s,a,c){try{const d=c();return yf(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(y,h,()=>{const E=p.injector.get(jf);return E.runInitializers(),E.donePromise.then(()=>(function xT(s){Dt(s,"Expected localeId to be defined"),"string"==typeof s&&(gr=s.toLowerCase().replace(/_/g,"-"))}(p.injector.get(vn,Wa)||Wa),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,d=[]){const h=ZC({},d);return function l0(s,a,c){const d=new Of(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(vd);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new K(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(b4,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||s)(an(Pi))};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function ZC(s,a){return Array.isArray(a)?a.reduce(ZC,s):{...s,...a}}let vd=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jt(P4),this.zoneIsStable=Jt(Wl),this.componentTypes=[],this.components=[],this.isStable=Jt(AC).hasPendingTasks.pipe((0,Ue.w)(c=>c?(0,ye.of)(!1):this.zoneIsStable),function re(s,a=Se.y){return s=s??Oe,(0,B.e)((c,d)=>{let h,p=!0;c.subscribe((0,j.x)(d,y=>{const E=a(y);(p||!s(h,E))&&(p=!1,h=E,d.next(y))}))})}(),(0,Re.B)()),this._injector=Jt(oo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof kI;if(!this._injector.get(jf).done)throw!h&&Br(c),new K(405,!1);let y;y=h?c:this._injector.get(ka).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const E=function S4(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Ic),b=y.create(Pi.NULL,[],d||y.selector,E),S=b.location.nativeElement,N=b.injector.get(a0,null);return N?.registerApplication(S),b.onDestroy(()=>{this.detachView(b.hostView),bc(this.components,b),N?.unregisterApplication(S)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;bc(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(A4,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>bc(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new K(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function bc(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}const P4=new Nt("",{providedIn:"root",factory:()=>Jt(La).handleError.bind(void 0)});function O4(){const s=Jt(nr),a=Jt(La);return c=>s.runOutsideAngular(()=>a.handleError(c))}let Ix=(()=>{class s{constructor(){this.zone=Jt(nr),this.applicationRef=Jt(vd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function HC(){return!1}let Ax=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=BF}return s})();function BF(s){return function jF(s,a,c){if(Ys(s)&&!c){const d=ri(s.index,a);return new af(d,d)}return 47&s.type?new af(a[wn],a):null}(pr(),ge(),16==(16&s))}class Rx{constructor(){}supports(a){return _m(a)}create(a){return new HF(a)}}const qF=(s,a)=>a;class HF{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||qF}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<d0(d,h,p)?c:d,E=d0(y,h,p),T=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const b=E-h,S=T-h;if(b!=S){for(let V=0;V<b;V++){const H=V<p.length?p[V]:p[V]=0,ae=H+V;S<=ae&&ae<b&&(p[V]=H+1)}p[y.previousIndex]=S-b}}E!==T&&a(y,E,T)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!_m(a))throw new K(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],y=this._trackByFn(E,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,E)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,E),d=!0),c=c._next}else h=0,function iS(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,E=>{y=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,E,y,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new Px(c,d),p,h),a}_verifyReinsertion(a,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new qe),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qe),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Px{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Bs{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class qe{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new Bs,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function d0(s,a,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class bt{constructor(){}supports(a){return a instanceof Map||ym(a)}create(){return new h0}}class h0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||ym(a)))throw new K(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new Gf(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class Gf{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KC(){return new zf([new Rx])}let zf=(()=>{class s{static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:KC});constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||KC()),deps:[[s,new Wi,new tr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new K(901,!1)}}return s})();function QC(){return new B4([new bt])}let B4=(()=>{class s{static#e=this.\u0275prov=wt({token:s,providedIn:"root",factory:QC});constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||QC()),deps:[[s,new Wi,new tr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new K(901,!1)}}return s})();const Ox=Cc(null,"core",[]);let YC=(()=>{class s{constructor(c){}static#e=this.\u0275fac=function(d){return new(d||s)(an(vd))};static#t=this.\u0275mod=vu({type:s});static#n=this.\u0275inj=Ur({})}return s})();function Yf(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function W4(s){const a=Lt(s);if(!a)return null;const c=new pm(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(it,Ee,P)=>{P.d(Ee,{Z:()=>Qe});var o=P(9058),L=P(4537),ie=P(7592),se=P(7879);class he{constructor(xe,Ae){this._delegate=xe,this.firebase=Ae,(0,ie._addComponent)(xe,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(xe,Ae=ie._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(xe);return!we.isInitialized()&&"EXPLICIT"===(null===(Ye=we.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&we.initialize(),we.getImmediate({identifier:Ae})}_removeServiceInstance(xe,Ae=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Ae)}_addComponent(xe){(0,ie._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,ie._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function Se(){const Ve=function Ue(Ve){const xe={},Ae={__esModule:!0,initializeApp:function Ce(K,k={}){const W=ie.initializeApp(K,k);if((0,o.r3)(xe,W.name))return xe[W.name];const pe=new Ve(W,Ae);return xe[W.name]=pe,pe},app:we,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function ve(K){const k=K.name,W=k.replace("-compat","");if(ie._registerComponent(K)&&"PUBLIC"===K.type){const pe=(Mt=we())=>{if("function"!=typeof Mt[W])throw Re.create("invalid-app-argument",{appName:k});return Mt[W]()};void 0!==K.serviceProps&&(0,o.ZB)(pe,K.serviceProps),Ae[W]=pe,Ve.prototype[W]=function(...Mt){return this._getService.bind(this,k).apply(this,K.multipleInstances?Mt:[])}}return"PUBLIC"===K.type?Ae[W]:null},removeApp:function Ye(K){delete xe[K]},useAsService:function Me(K,k){return"serverAuth"===k?null:k},modularAPIs:ie}};function we(K){if(!(0,o.r3)(xe,K=K||ie._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:K});return xe[K]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ce(){return Object.keys(xe).map(K=>xe[K])}}),we.App=Ve,Ae}(he);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function xe(Ae){(0,o.ZB)(Ve,Ae)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ve}(),j=new se.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=B;!function ue(Ve){(0,ie.registerVersion)("@firebase/app-compat","0.2.13",Ve)}()},7592:(it,Ee,P)=>{P.r(Ee),P.d(Ee,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Fr,_DEFAULT_ENTRY_NAME:()=>Q,_addComponent:()=>de,_addOrOverwriteComponent:()=>Ne,_apps:()=>oe,_clearComponents:()=>dt,_components:()=>J,_getProvider:()=>Ft,_registerComponent:()=>ot,_removeServiceInstance:()=>on,deleteApp:()=>Ur,getApp:()=>wt,getApps:()=>Tr,initializeApp:()=>Lr,onLog:()=>aa,registerVersion:()=>ei,setLogLevel:()=>Ws});var o=P(5861),L=P(4537),ie=P(7879),se=P(9058),he=P(1878);class ye{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function Re($e){const fe=$e.getComponent();return"VERSION"===fe?.type}(We)){const ut=We.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(We=>We).join(" ")}}const Ue="@firebase/app",B=new ie.Yd("@firebase/app"),Q="[DEFAULT]",te={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oe=new Map,J=new Map;function de($e,fe){try{$e.container.addComponent(fe)}catch(We){B.debug(`Component ${fe.name} failed to register with FirebaseApp ${$e.name}`,We)}}function Ne($e,fe){$e.container.addOrOverwriteComponent(fe)}function ot($e){const fe=$e.name;if(J.has(fe))return B.debug(`There were multiple attempts to register component ${fe}.`),!1;J.set(fe,$e);for(const We of oe.values())de(We,$e);return!0}function Ft($e,fe){const We=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),$e.container.getProvider(fe)}function on($e,fe,We=Q){Ft($e,fe).clearInstance(We)}function dt(){J.clear()}const je=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tn{constructor(fe,We,ut){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw je.create("app-deleted",{appName:this._name})}}const Fr="9.23.0";function Lr($e,fe={}){let We=$e;"object"!=typeof fe&&(fe={name:fe});const ut=Object.assign({name:Q,automaticDataCollectionEnabled:!1},fe),Gt=ut.name;if("string"!=typeof Gt||!Gt)throw je.create("bad-app-name",{appName:String(Gt)});if(We||(We=(0,se.aH)()),!We)throw je.create("no-options");const Qt=oe.get(Gt);if(Qt){if((0,se.vZ)(We,Qt.options)&&(0,se.vZ)(ut,Qt.config))return Qt;throw je.create("duplicate-app",{appName:Gt})}const Xn=new L.H0(Gt);for(const F of J.values())Xn.addComponent(F);const U=new tn(We,ut,Xn);return oe.set(Gt,U),U}function wt($e=Q){const fe=oe.get($e);if(!fe&&$e===Q&&(0,se.aH)())return Lr();if(!fe)throw je.create("no-app",{appName:$e});return fe}function Tr(){return Array.from(oe.values())}function Ur($e){return $i.apply(this,arguments)}function $i(){return($i=(0,o.Z)(function*($e){const fe=$e.name;oe.has(fe)&&(oe.delete(fe),yield Promise.all($e.container.getProviders().map(We=>We.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function ei($e,fe,We){var ut;let Gt=null!==(ut=te[$e])&&void 0!==ut?ut:$e;We&&(Gt+=`-${We}`);const Qt=Gt.match(/\s|\//),Xn=fe.match(/\s|\//);if(Qt||Xn){const U=[`Unable to register library "${Gt}" with version "${fe}":`];return Qt&&U.push(`library name "${Gt}" contains illegal characters (whitespace or "/")`),Qt&&Xn&&U.push("and"),Xn&&U.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void B.warn(U.join(" "))}ot(new L.wA(`${Gt}-version`,()=>({library:Gt,version:fe}),"VERSION"))}function aa($e,fe){if(null!==$e&&"function"!=typeof $e)throw je.create("invalid-log-argument");(0,ie.Am)($e,fe)}function Ws($e){(0,ie.Ub)($e)}const ts="firebase-heartbeat-database",zn=1,Tt="firebase-heartbeat-store";let Ot=null;function Vr(){return Ot||(Ot=(0,he.X3)(ts,zn,{upgrade:($e,fe)=>{0===fe&&$e.createObjectStore(Tt)}}).catch($e=>{throw je.create("idb-open",{originalErrorMessage:$e.message})})),Ot}function cr(){return(cr=(0,o.Z)(function*($e){try{return yield(yield Vr()).transaction(Tt).objectStore(Tt).get(rs($e))}catch(fe){if(fe instanceof se.ZR)B.warn(fe.message);else{const We=je.create("idb-get",{originalErrorMessage:fe?.message});B.warn(We.message)}}})).apply(this,arguments)}function ns($e,fe){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,o.Z)(function*($e,fe){try{const ut=(yield Vr()).transaction(Tt,"readwrite");yield ut.objectStore(Tt).put(fe,rs($e)),yield ut.done}catch(We){if(We instanceof se.ZR)B.warn(We.message);else{const ut=je.create("idb-set",{originalErrorMessage:We?.message});B.warn(ut.message)}}})).apply(this,arguments)}function rs($e){return`${$e.name}!${$e.options.appId}`}class Ht{constructor(fe){this.container=fe,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new ua(We),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var fe=this;return(0,o.Z)(function*(){const ut=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gt=Zc();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==Gt&&!fe._heartbeatsCache.heartbeats.some(Qt=>Qt.date===Gt))return fe._heartbeatsCache.heartbeats.push({date:Gt,agent:ut}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(Qt=>{const Xn=new Date(Qt.date).valueOf();return Date.now()-Xn<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,o.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const We=Zc(),{heartbeatsToSend:ut,unsentEntries:Gt}=function Nt($e,fe=1024){const We=[];let ut=$e.slice();for(const Gt of $e){const Qt=We.find(Xn=>Xn.agent===Gt.agent);if(Qt){if(Qt.dates.push(Gt.date),wi(We)>fe){Qt.dates.pop();break}}else if(We.push({agent:Gt.agent,dates:[Gt.date]}),wi(We)>fe){We.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:We,unsentEntries:ut}}(fe._heartbeatsCache.heartbeats),Qt=(0,se.L)(JSON.stringify({version:2,heartbeats:ut}));return fe._heartbeatsCache.lastSentHeartbeatDate=We,Gt.length>0?(fe._heartbeatsCache.heartbeats=Gt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),Qt})()}}function Zc(){return(new Date).toISOString().substring(0,10)}class ua{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,o.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function yt($e){return cr.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var We=this;return(0,o.Z)(function*(){var ut;if(yield We._canUseIndexedDBPromise){const Qt=yield We.read();return ns(We.app,{lastSentHeartbeatDate:null!==(ut=fe.lastSentHeartbeatDate)&&void 0!==ut?ut:Qt.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var We=this;return(0,o.Z)(function*(){var ut;if(yield We._canUseIndexedDBPromise){const Qt=yield We.read();return ns(We.app,{lastSentHeartbeatDate:null!==(ut=fe.lastSentHeartbeatDate)&&void 0!==ut?ut:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...fe.heartbeats]})}})()}}function wi($e){return(0,se.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function is($e){ot(new L.wA("platform-logger",fe=>new ye(fe),"PRIVATE")),ot(new L.wA("heartbeat",fe=>new Ht(fe),"PRIVATE")),ei(Ue,"0.9.13",$e),ei(Ue,"0.9.13","esm2017"),ei("fire-js","")}("")},120:(it,Ee,P)=>{P.d(Ee,{Z:()=>o.Z});var o=P(3399);o.Z.registerVersion("firebase","9.23.0","app-compat")},4537:(it,Ee,P)=>{P.d(Ee,{H0:()=>Ue,wA:()=>ie});var o=P(5861),L=P(9058);class ie{constructor(B,j,re){this.name=B,this.instanceFactory=j,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const se="[DEFAULT]";class he{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const re=new L.BH;if(this.instancesDeferred.set(j,re),this.isInitialized(j)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:j});Oe&&re.resolve(Oe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const re=this.normalizeInstanceIdentifier(B?.identifier),Oe=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(ue){if(Oe)return null;throw ue}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function Re(Se){return"EAGER"===Se.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[j,re]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(j);try{const ue=this.getOrInitializeService({instanceIdentifier:Oe});re.resolve(ue)}catch{}}}}clearInstance(B=se){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,o.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...j.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=se){return this.instances.has(B)}getOptions(B=se){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,re=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:re,options:j});for(const[ue,Qe]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(ue)&&Qe.resolve(Oe);return Oe}onInit(B,j){var re;const Oe=this.normalizeInstanceIdentifier(j),ue=null!==(re=this.onInitCallbacks.get(Oe))&&void 0!==re?re:new Set;ue.add(B),this.onInitCallbacks.set(Oe,ue);const Qe=this.instances.get(Oe);return Qe&&B(Qe,Oe),()=>{ue.delete(B)}}invokeOnInitCallbacks(B,j){const re=this.onInitCallbacks.get(j);if(re)for(const Oe of re)try{Oe(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let re=this.instances.get(B);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=B,Se===se?void 0:Se),options:j}),this.instances.set(B,re),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(re,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,re)}catch{}var Se;return re||null}normalizeInstanceIdentifier(B=se){return this.component?this.component.multipleInstances?B:se:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new he(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},7879:(it,Ee,P)=>{P.d(Ee,{Am:()=>Se,Ub:()=>Ue,Yd:()=>Re,in:()=>L});const o=[];var L=function(B){return B[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B}(L||{});const ie={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},se=L.INFO,he={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ye=(B,j,...re)=>{if(j<B.logLevel)return;const Oe=(new Date).toISOString(),ue=he[j];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ue](`[${Oe}]  ${B.name}:`,...re)};class Re{constructor(j){this.name=j,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in L))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?ie[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...j),this._logHandler(this,L.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...j),this._logHandler(this,L.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,L.INFO,...j),this._logHandler(this,L.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,L.WARN,...j),this._logHandler(this,L.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...j),this._logHandler(this,L.ERROR,...j)}}function Ue(B){o.forEach(j=>{j.setLogLevel(B)})}function Se(B,j){for(const re of o){let Oe=null;j&&j.level&&(Oe=ie[j.level]),re.userLogHandler=null===B?null:(ue,Qe,...Ve)=>{const xe=Ve.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Qe>=(Oe??ue.logLevel)&&B({level:L[Qe].toLowerCase(),message:xe,args:Ve,type:ue.name})}}}},1878:(it,Ee,P)=>{P.d(Ee,{X3:()=>we});var o=P(5861);const L=(k,W)=>W.some(pe=>k instanceof pe);let ie,se;const Re=new WeakMap,Ue=new WeakMap,Se=new WeakMap,B=new WeakMap,j=new WeakMap;let ue={get(k,W,pe){if(k instanceof IDBTransaction){if("done"===W)return Ue.get(k);if("objectStoreNames"===W)return k.objectStoreNames||Se.get(k);if("store"===W)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return Ae(k[W])},set:(k,W,pe)=>(k[W]=pe,!0),has:(k,W)=>k instanceof IDBTransaction&&("done"===W||"store"===W)||W in k};function xe(k){return"function"==typeof k?function Ve(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...W){return k.apply(Ye(this),W),Ae(Re.get(this))}:function(...W){return Ae(k.apply(Ye(this),W))}:function(W,...pe){const Mt=k.call(Ye(this),W,...pe);return Se.set(Mt,W.sort?W.sort():[W]),Ae(Mt)}}(k):(k instanceof IDBTransaction&&function Oe(k){if(Ue.has(k))return;const W=new Promise((pe,Mt)=>{const cn=()=>{k.removeEventListener("complete",Pn),k.removeEventListener("error",ln),k.removeEventListener("abort",ln)},Pn=()=>{pe(),cn()},ln=()=>{Mt(k.error||new DOMException("AbortError","AbortError")),cn()};k.addEventListener("complete",Pn),k.addEventListener("error",ln),k.addEventListener("abort",ln)});Ue.set(k,W)}(k),L(k,function he(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,ue):k)}function Ae(k){if(k instanceof IDBRequest)return function re(k){const W=new Promise((pe,Mt)=>{const cn=()=>{k.removeEventListener("success",Pn),k.removeEventListener("error",ln)},Pn=()=>{pe(Ae(k.result)),cn()},ln=()=>{Mt(k.error),cn()};k.addEventListener("success",Pn),k.addEventListener("error",ln)});return W.then(pe=>{pe instanceof IDBCursor&&Re.set(pe,k)}).catch(()=>{}),j.set(W,k),W}(k);if(B.has(k))return B.get(k);const W=xe(k);return W!==k&&(B.set(k,W),j.set(W,k)),W}const Ye=k=>j.get(k);function we(k,W,{blocked:pe,upgrade:Mt,blocking:cn,terminated:Pn}={}){const ln=indexedDB.open(k,W),fn=Ae(ln);return Mt&&ln.addEventListener("upgradeneeded",pn=>{Mt(Ae(ln.result),pn.oldVersion,pn.newVersion,Ae(ln.transaction),pn)}),pe&&ln.addEventListener("blocked",pn=>pe(pn.oldVersion,pn.newVersion,pn)),fn.then(pn=>{Pn&&pn.addEventListener("close",()=>Pn()),cn&&pn.addEventListener("versionchange",Xr=>cn(Xr.oldVersion,Xr.newVersion,Xr))}).catch(()=>{}),fn}const ce=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Me=new Map;function K(k,W){if(!(k instanceof IDBDatabase)||W in k||"string"!=typeof W)return;if(Me.get(W))return Me.get(W);const pe=W.replace(/FromIndex$/,""),Mt=W!==pe,cn=ve.includes(pe);if(!(pe in(Mt?IDBIndex:IDBObjectStore).prototype)||!cn&&!ce.includes(pe))return;const Pn=function(){var ln=(0,o.Z)(function*(fn,...pn){const Xr=this.transaction(fn,cn?"readwrite":"readonly");let Q=Xr.store;return Mt&&(Q=Q.index(pn.shift())),(yield Promise.all([Q[pe](...pn),cn&&Xr.done]))[0]});return function(pn){return ln.apply(this,arguments)}}();return Me.set(W,Pn),Pn}!function Qe(k){ue=k(ue)}(k=>({...k,get:(W,pe,Mt)=>K(W,pe)||k.get(W,pe,Mt),has:(W,pe)=>!!K(W,pe)||k.has(W,pe)}))},5861:(it,Ee,P)=>{function o(ie,se,he,ye,Re,Ue,Se){try{var B=ie[Ue](Se),j=B.value}catch(re){return void he(re)}B.done?se(j):Promise.resolve(j).then(ye,Re)}function L(ie){return function(){var se=this,he=arguments;return new Promise(function(ye,Re){var Ue=ie.apply(se,he);function Se(j){o(Ue,ye,Re,Se,B,"next",j)}function B(j){o(Ue,ye,Re,Se,B,"throw",j)}Se(void 0)})}}P.d(Ee,{Z:()=>L})},7582:(it,Ee,P)=>{function se(Q,te){var oe={};for(var J in Q)Object.prototype.hasOwnProperty.call(Q,J)&&te.indexOf(J)<0&&(oe[J]=Q[J]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(J=Object.getOwnPropertySymbols(Q);de<J.length;de++)te.indexOf(J[de])<0&&Object.prototype.propertyIsEnumerable.call(Q,J[de])&&(oe[J[de]]=Q[J[de]])}return oe}function re(Q,te,oe,J){return new(oe||(oe=Promise))(function(Ne,ot){function Ft(Dt){try{dt(J.next(Dt))}catch(je){ot(je)}}function on(Dt){try{dt(J.throw(Dt))}catch(je){ot(je)}}function dt(Dt){Dt.done?Ne(Dt.value):function de(Ne){return Ne instanceof oe?Ne:new oe(function(ot){ot(Ne)})}(Dt.value).then(Ft,on)}dt((J=J.apply(Q,te||[])).next())})}function Ce(Q){return this instanceof Ce?(this.v=Q,this):new Ce(Q)}function ce(Q,te,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,J=oe.apply(Q,te||[]),Ne=[];return de={},ot("next"),ot("throw"),ot("return"),de[Symbol.asyncIterator]=function(){return this},de;function ot(tn){J[tn]&&(de[tn]=function(Fr){return new Promise(function(Lr,wt){Ne.push([tn,Fr,Lr,wt])>1||Ft(tn,Fr)})})}function Ft(tn,Fr){try{!function on(tn){tn.value instanceof Ce?Promise.resolve(tn.value.v).then(dt,Dt):je(Ne[0][2],tn)}(J[tn](Fr))}catch(Lr){je(Ne[0][3],Lr)}}function dt(tn){Ft("next",tn)}function Dt(tn){Ft("throw",tn)}function je(tn,Fr){tn(Fr),Ne.shift(),Ne.length&&Ft(Ne[0][0],Ne[0][1])}}function Me(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,te=Q[Symbol.asyncIterator];return te?te.call(Q):(Q=function Ve(Q){var te="function"==typeof Symbol&&Symbol.iterator,oe=te&&Q[te],J=0;if(oe)return oe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&J>=Q.length&&(Q=void 0),{value:Q&&Q[J++],done:!Q}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),oe={},J("next"),J("throw"),J("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function J(Ne){oe[Ne]=Q[Ne]&&function(ot){return new Promise(function(Ft,on){!function de(Ne,ot,Ft,on){Promise.resolve(on).then(function(dt){Ne({value:dt,done:Ft})},ot)}(Ft,on,(ot=Q[Ne](ot)).done,ot.value)})}}}P.d(Ee,{FC:()=>ce,KL:()=>Me,_T:()=>se,mG:()=>re,qq:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},it=>{it(it.s=4130)}]);