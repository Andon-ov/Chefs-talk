"use strict";(self.webpackChunkchefs_talks=self.webpackChunkchefs_talks||[]).push([[179],{6304:(st,Ee,P)=>{P.d(Ee,{Dh:()=>Re,GT:()=>he,cc:()=>Oe,on:()=>Se,pX:()=>se,xv:()=>Ue});var s=P(8926),L=P(120);st=P.hmd(st);const ie=["ngOnDestroy"],se=(xe,Ae,Je,we={})=>new Proxy(xe,{get:(Te,ce)=>Je.runOutsideAngular(()=>{var ve;if(xe[ce])return!(null===(ve=we?.spy)||void 0===ve)&&ve.get&&we.spy.get(ce,xe[ce]),xe[ce];if(ie.indexOf(ce)>-1)return()=>{};const Me=Ae.toPromise().then(K=>{const k=K&&K[ce];return"function"==typeof k?k.bind(K):k&&k.then?k.then(W=>Je.run(()=>W)):Je.run(()=>k)});return new Proxy(()=>{},{get:(K,k)=>Me[k],apply:(K,k,W)=>Me.then(pe=>{var Mt;const cn=pe&&pe(...W);return!(null===(Mt=we?.spy)||void 0===Mt)&&Mt.apply&&we.spy.apply(ce,W,cn),cn})})})}),he=(xe,Ae)=>{Ae.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(we=>{Object.defineProperty(xe.prototype,we,Object.getOwnPropertyDescriptor(Je.prototype||Je,we))})})};class ye{constructor(Ae){return Ae}}const Re=new s.OlP("angularfire2.app.options"),Ue=new s.OlP("angularfire2.app.name");function Se(xe,Ae,Je){const Te="object"==typeof Je&&Je||{};Te.name=Te.name||"string"==typeof Je&&Je||"[DEFAULT]";const ve=L.Z.apps.filter(Me=>Me&&Me.name===Te.name)[0]||Ae.runOutsideAngular(()=>L.Z.initializeApp(xe,Te));try{JSON.stringify(xe)!==JSON.stringify(ve.options)&&B("error",`${ve.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(ve)}const B=(xe,...Ae)=>{(0,s.X6Q)()&&typeof console<"u"&&console[xe](...Ae)};function Oe(xe,Ae,Je,we,Te){const[,ce,ve]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===xe)||[];if(ce)return function ue(xe,Ae){try{return xe.toString()===Ae.toString()}catch{return xe===Ae}}(Te,ve)||(Be("error",`${Ae} was already initialized on the ${Je} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:Te,was:ve})),ce;{const Me=we();return globalThis.\u0275AngularfireInstanceCache.push([xe,Me,Te]),Me}}const Qe=!!st.hot,Be=(xe,...Ae)=>{(0,s.X6Q)()&&typeof console<"u"&&console[xe](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6710:(st,Ee,P)=>{P.d(Ee,{$:()=>ol,A:()=>Z,D:()=>ue,I:()=>Kc,J:()=>bu,L:()=>ji,N:()=>Qt,P:()=>Dl,Q:()=>mt,R:()=>OI,U:()=>Cn,V:()=>rl,W:()=>xo,X:()=>ss,Y:()=>qi,Z:()=>ws,_:()=>gh,a:()=>ku,a0:()=>TI,a1:()=>yn,a2:()=>aD,a3:()=>uD,a4:()=>S_,a5:()=>kp,a6:()=>Nu,a7:()=>va,a8:()=>M_,a9:()=>fr,aA:()=>k,aB:()=>Rl,aC:()=>ct,aD:()=>nr,aE:()=>ko,aF:()=>$u,aG:()=>Ni,aH:()=>_n,aL:()=>Fu,aO:()=>Si,aa:()=>ll,ab:()=>R_,ac:()=>P_,ad:()=>k_,ae:()=>Fp,af:()=>F_,ai:()=>Ru,aj:()=>cD,ak:()=>lD,an:()=>Du,ao:()=>_l,aq:()=>El,ar:()=>Ch,as:()=>pe,at:()=>Ln,au:()=>vt,av:()=>Te,aw:()=>Pa,ax:()=>zu,ay:()=>Un,az:()=>ce,b:()=>pr,c:()=>ui,d:()=>As,e:()=>Ml,f:()=>W_,g:()=>qn,h:()=>Hu,i:()=>Yp,j:()=>Oh,k:()=>fs,l:()=>Nh,m:()=>$n,p:()=>Ue,r:()=>at,s:()=>rr,u:()=>Xp});var s=P(5861),L=P(9058),ie=P(7592),se=P(7582),he=P(7879),ye=P(4537);const Ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ue=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new he.Yd("@firebase/auth");function we(I,...g){Ae.logLevel<=he.in.ERROR&&Ae.error(`Auth (${ie.SDK_VERSION}): ${I}`,...g)}function Te(I,...g){throw K(I,...g)}function ce(I,...g){return K(I,...g)}function ve(I,g,_){const w=Object.assign(Object.assign({},Qe()),{[g]:_});return new L.LL("auth","Firebase",w).create(g,{appName:I.name})}function Me(I,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Te(I,"argument-error"),ve(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K(I,...g){if("string"!=typeof I){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(_,...w)}return Be.create(I,...g)}function k(I,g,..._){if(!I)throw K(g,..._)}function W(I){const g="INTERNAL ASSERTION FAILED: "+I;throw we(g),new Error(g)}function pe(I,g){I||W(g)}function Mt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function cn(){return"http:"===kn()||"https:"===kn()}function kn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class pn{constructor(g,_){this.shortDelay=g,this.longDelay=_,pe(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ri(I,g){pe(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Y{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oe=new pn(3e4,6e4);function J(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function de(I,g,_,w){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(I,g,_,w,D={}){return ut(I,D,(0,s.Z)(function*(){let x={},q={};w&&("GET"===g?q=w:x={body:JSON.stringify(w)});const ee=(0,L.xO)(Object.assign({key:I.config.apiKey},q)).slice(1),Pe=yield I._getAdditionalHeaders();return Pe["Content-Type"]="application/json",I.languageCode&&(Pe["X-Firebase-Locale"]=I.languageCode),Y.fetch()(At(I,I.config.apiHost,_,ee),Object.assign({method:g,headers:Pe,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ut(I,g,_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(I,g,_){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},te),g);try{const D=new Ze(I),x=yield Promise.race([_(),D.promise]);D.clearNetworkTimeout();const q=yield x.json();if("needConfirmation"in q)throw nn(I,"account-exists-with-different-credential",q);if(x.ok&&!("errorMessage"in q))return q;{const ee=x.ok?q.errorMessage:q.error.message,[Pe,Le]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw nn(I,"credential-already-in-use",q);if("EMAIL_EXISTS"===Pe)throw nn(I,"email-already-in-use",q);if("USER_DISABLED"===Pe)throw nn(I,"user-disabled",q);const tt=w[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Le)throw ve(I,tt,Le);Te(I,tt)}}catch(D){if(D instanceof L.ZR)throw D;Te(I,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function on(I,g,_,w){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(I,g,_,w,D={}){const x=yield de(I,g,_,w,D);return"mfaPendingCredential"in x&&Te(I,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function At(I,g,_,w){const D=`${g}${_}?${w}`;return I.config.emulator?ri(I.config,D):`${I.config.apiScheme}://${D}`}class Ze{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(ce(this.auth,"network-request-failed")),oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nn(I,g,_){const w={appName:I.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const D=ce(I,g,w);return D.customData._tokenResponse=_,D}function Br(){return(Br=(0,s.Z)(function*(I,g){return de(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function br(){return(br=(0,s.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*(I,g){return de(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ii(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function es(){return(es=(0,s.Z)(function*(I,g=!1){const _=(0,L.m9)(I),w=yield _.getIdToken(g),D=Ct(w);k(D&&D.exp&&D.auth_time&&D.iat,_.auth,"internal-error");const x="object"==typeof D.firebase?D.firebase:void 0,q=x?.sign_in_provider;return{claims:D,token:w,authTime:ii(Yn(D.auth_time)),issuedAtTime:ii(Yn(D.iat)),expirationTime:ii(Yn(D.exp)),signInProvider:q||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function Yn(I){return 1e3*Number(I)}function Ct(I){const[g,_,w]=I.split(".");if(void 0===g||void 0===_||void 0===w)return we("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(_);return D?JSON.parse(D):(we("Failed to decode base64 JWT payload"),null)}catch(D){return we("Caught error parsing JWT payload as JSON",D?.toString()),null}}function Zr(I,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(I,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof L.ZR&&function dr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}class ts{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const D=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Vt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ii(this.lastLoginAt),this.creationTime=ii(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ns(I){return rn.apply(this,arguments)}function rn(){return rn=(0,s.Z)(function*(I){var g;const _=I.auth,w=yield I.getIdToken(),D=yield Zr(I,function Vr(I,g){return Vi.apply(this,arguments)}(_,{idToken:w}));k(D?.users.length,_,"internal-error");const x=D.users[0];I._notifyReloadListener(x);const q=null!==(g=x.providerUserInfo)&&void 0!==g&&g.length?function Nt(I){return I.map(g=>{var{providerId:_}=g,w=(0,se._T)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(x.providerUserInfo):[],ee=function zc(I,g){return[...I.filter(w=>!g.some(D=>D.providerId===w.providerId)),...g]}(I.providerData,q),tt=!!I.isAnonymous&&!(I.email&&x.passwordHash||ee?.length),kt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ee,metadata:new Vt(x.createdAt,x.lastLoginAt),isAnonymous:tt};Object.assign(I,kt)}),rn.apply(this,arguments)}function Gt(){return(Gt=(0,s.Z)(function*(I){const g=(0,L.m9)(I);yield ns(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ci(){return(Ci=(0,s.Z)(function*(I,g){const _=yield ut(I,{},(0,s.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:D,apiKey:x}=I.config,q=At(I,D,"/v1/token",`key=${x}`),ee=yield I._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",Y.fetch()(q,{method:"POST",headers:ee,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){k(g.idToken,"internal-error"),k(typeof g.idToken<"u","internal-error"),k(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ot(I){const g=Ct(I);return k(g,"internal-error"),k(typeof g.exp<"u","internal-error"),k(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,s.Z)(function*(){return k(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,s.Z)(function*(){const{accessToken:D,refreshToken:x,expiresIn:q}=yield function _a(I,g){return Ci.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(D,x,Number(q))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:D,expirationTime:x}=_,q=new rs;return w&&(k("string"==typeof w,"internal-error",{appName:g}),q.refreshToken=w),D&&(k("string"==typeof D,"internal-error",{appName:g}),q.accessToken=D),x&&(k("number"==typeof x,"internal-error",{appName:g}),q.expirationTime=x),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new rs,this.toJSON())}_performRefresh(){return W("not implemented")}}function qe(I,g){k("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class fe{constructor(g){var{uid:_,auth:w,stsTokenManager:D}=g,x=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ts(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Vt(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,s.Z)(function*(){const w=yield Zr(_,_.stsTokenManager.getToken(_.auth,g));return k(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function Ys(I){return es.apply(this,arguments)}(this,g)}reload(){return function mn(I){return Gt.apply(this,arguments)}(this)}_assign(g){this!==g&&(k(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new fe(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,s.Z)(function*(){let D=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),D=!0),_&&(yield ns(w)),yield w.auth._persistUserIfCurrent(w),D&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,s.Z)(function*(){const _=yield g.getIdToken();return yield Zr(g,function Ur(I,g){return Br.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,D,x,q,ee,Pe,Le,tt;const kt=null!==(w=_.displayName)&&void 0!==w?w:void 0,sr=null!==(D=_.email)&&void 0!==D?D:void 0,Rs=null!==(x=_.phoneNumber)&&void 0!==x?x:void 0,Gi=null!==(q=_.photoURL)&&void 0!==q?q:void 0,fg=null!==(ee=_.tenantId)&&void 0!==ee?ee:void 0,Oa=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,Bl=null!==(Le=_.createdAt)&&void 0!==Le?Le:void 0,ka=null!==(tt=_.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:Ju,emailVerified:Fa,isAnonymous:zi,providerData:Wi,stsTokenManager:hi}=_;k(Ju&&hi,g,"internal-error");const Xu=rs.fromJSON(this.name,hi);k("string"==typeof Ju,g,"internal-error"),qe(kt,g.name),qe(sr,g.name),k("boolean"==typeof Fa,g,"internal-error"),k("boolean"==typeof zi,g,"internal-error"),qe(Rs,g.name),qe(Gi,g.name),qe(fg,g.name),qe(Oa,g.name),qe(Bl,g.name),qe(ka,g.name);const Uo=new fe({uid:Ju,auth:g,email:sr,emailVerified:Fa,displayName:kt,isAnonymous:zi,photoURL:Gi,phoneNumber:Rs,tenantId:fg,stsTokenManager:Xu,createdAt:Bl,lastLoginAt:ka});return Wi&&Array.isArray(Wi)&&(Uo.providerData=Wi.map(ec=>Object.assign({},ec))),Oa&&(Uo._redirectEventId=Oa),Uo}static _fromIdTokenResponse(g,_,w=!1){return(0,s.Z)(function*(){const D=new rs;D.updateFromServerResponse(_);const x=new fe({uid:_.localId,auth:g,stsTokenManager:D,isAnonymous:w});return yield ns(x),x})()}}const We=new Map;function ct(I){pe(I instanceof Function,"Expected a class definition");let g=We.get(I);return g?(pe(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,We.set(I,g),g)}const Qt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,w){var D=this;return(0,s.Z)(function*(){D.storage[_]=w})()}_get(_){var w=this;return(0,s.Z)(function*(){const D=w.storage[_];return void 0===D?null:D})()}_remove(_){var w=this;return(0,s.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return I.type="NONE",I})();function nr(I,g,_){return`firebase:${I}:${g}:${_}`}class U{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:D,name:x}=this.auth;this.fullUserKey=nr(this.userKey,D.apiKey,x),this.fullPersistenceKey=nr("persistence",D.apiKey,x),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?fe._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,s.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,s.Z)(function*(){if(!_.length)return new U(ct(Qt),g,w);const D=(yield Promise.all(_.map(function(){var Le=(0,s.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return Le.apply(this,arguments)}}()))).filter(Le=>Le);let x=D[0]||ct(Qt);const q=nr(w,g.config.apiKey,g.name);let ee=null;for(const Le of _)try{const tt=yield Le._get(q);if(tt){const kt=fe._fromJSON(g,tt);Le!==x&&(ee=kt),x=Le;break}}catch{}const Pe=D.filter(Le=>Le._shouldAllowMigration);return x._shouldAllowMigration&&Pe.length?(x=Pe[0],ee&&(yield x._set(q,ee.toJSON())),yield Promise.all(_.map(function(){var Le=(0,s.Z)(function*(tt){if(tt!==x)try{yield tt._remove(q)}catch{}});return function(tt){return Le.apply(this,arguments)}}())),new U(x,g,w)):new U(x,g,w)})()}}function F(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(et(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if($(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Jt(g))return"Blackberry";if(Fn(g))return"Webos";if(le(g))return"Safari";if((g.includes("chrome/")||Q(g))&&!g.includes("edge/"))return"Chrome";if(vt(g))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function $(I=(0,L.z$)()){return/firefox\//i.test(I)}function le(I=(0,L.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Q(I=(0,L.z$)()){return/crios\//i.test(I)}function et(I=(0,L.z$)()){return/iemobile/i.test(I)}function vt(I=(0,L.z$)()){return/android/i.test(I)}function Jt(I=(0,L.z$)()){return/blackberry/i.test(I)}function Fn(I=(0,L.z$)()){return/webos/i.test(I)}function Ln(I=(0,L.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Un(I=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function is(I=(0,L.z$)()){return Ln(I)||vt(I)||Fn(I)||Jt(I)||/windows phone/i.test(I)||et(I)}function Eu(I,g=[]){let _;switch(I){case"Browser":_=F((0,L.z$)());break;case"Worker":_=`${F((0,L.z$)())}-${I}`;break;default:_=I}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ie.SDK_VERSION}/${w}`}function vs(){return(vs=(0,s.Z)(function*(I){return(yield de(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ap(I,g){return nh.apply(this,arguments)}function nh(){return(nh=(0,s.Z)(function*(I,g){return de(I,"GET","/v2/recaptchaConfig",J(I,g))})).apply(this,arguments)}function Dp(I){return void 0!==I&&void 0!==I.getResponse}function Ti(I){return void 0!==I&&void 0!==I.enterprise}class Ao{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function bi(I){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=g,w.onerror=D=>{const x=ce("internal-error");x.customData=D,_(x)},w.type="text/javascript",w.charset="UTF-8",function Es(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(w)})}function Zt(I){return`__${I}${Math.floor(1e6*Math.random())}`}class rh{constructor(g){this.type="recaptcha-enterprise",this.auth=_n(g)}verify(g="verify",_=!1){var w=this;return(0,s.Z)(function*(){function x(){return x=(0,s.Z)(function*(ee){if(!_){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Pe=(0,s.Z)(function*(Le,tt){Ap(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kt=>{if(void 0!==kt.recaptchaKey){const sr=new Ao(kt);return null==ee.tenantId?ee._agentRecaptchaConfig=sr:ee._tenantRecaptchaConfigs[ee.tenantId]=sr,Le(sr.siteKey)}tt(new Error("recaptcha Enterprise site key undefined"))}).catch(kt=>{tt(kt)})});return function(Le,tt){return Pe.apply(this,arguments)}}())}),x.apply(this,arguments)}function q(ee,Pe,Le){const tt=window.grecaptcha;Ti(tt)?tt.enterprise.ready(()=>{tt.enterprise.execute(ee,{action:g}).then(kt=>{Pe(kt)}).catch(()=>{Pe("NO_RECAPTCHA")})}):Le(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Pe)=>{(function D(ee){return x.apply(this,arguments)})(w.auth).then(Le=>{if(!_&&Ti(window.grecaptcha))q(Le,ee,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));bi("https://www.google.com/recaptcha/enterprise.js?render="+Le).then(()=>{q(Le,ee,Pe)}).catch(tt=>{Pe(tt)})}}).catch(Le=>{Pe(Le)})})})()}}function hr(I,g,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(I,g,_,w=!1){const D=new rh(I);let x;try{x=yield D.verify(_)}catch{x=yield D.verify(_,!0)}const q=Object.assign({},g);return Object.assign(q,w?{captchaResp:x}:{captchaResponse:x}),Object.assign(q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),q})).apply(this,arguments)}class Sp{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=x=>new Promise((q,ee)=>{try{q(g(x))}catch(Pe){ee(Pe)}});w.onAbort=_,this.queue.push(w);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,s.Z)(function*(){if(_.auth.currentUser===g)return;const w=[];try{for(const D of _.queue)yield D(g),D.onAbort&&w.push(D.onAbort)}catch(D){w.reverse();for(const x of w)try{x()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class Zi{constructor(g,_,w,D){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xp(this),this.idTokenSubscription=new xp(this),this.beforeStateQueue=new Sp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=ct(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var D,x;if(!w._deleted&&(w.persistenceManager=yield U.create(w,g),!w._deleted)){if(null!==(D=w._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(x=w.currentUser)||void 0===x?void 0:x.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,s.Z)(function*(){var w;const D=yield _.assertedPersistence.getCurrentUser();let x=D,q=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ee=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Pe=x?._redirectEventId,Le=yield _.tryRedirectSignIn(g);(!ee||ee===Pe)&&Le?.user&&(x=Le.user,q=!0)}if(!x)return _.directlySetCurrentUser(null);if(!x._redirectEventId){if(q)try{yield _.beforeStateQueue.runMiddleware(x)}catch(ee){x=D,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ee))}return x?_.reloadAndSetCurrentUserOrClear(x):_.directlySetCurrentUser(null)}return k(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===x._redirectEventId?_.directlySetCurrentUser(x):_.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(g){var _=this;return(0,s.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,s.Z)(function*(){try{yield ns(g)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function fn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,s.Z)(function*(){const w=g?(0,L.m9)(g):null;return w&&k(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return g&&k(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(ct(g))}))}initializeRecaptchaConfig(){var g=this;return(0,s.Z)(function*(){const _=yield Ap(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new Ao(_);null==g.tenantId?g._agentRecaptchaConfig=w:g._tenantRecaptchaConfigs[g.tenantId]=w,w.emailPasswordEnabled&&new rh(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,s.Z)(function*(){const D=yield w.getOrInitRedirectPersistenceManager(_);return null===g?D.removeCurrentUser():D.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&ct(g)||_._popupRedirectResolver;k(w,_,"argument-error"),_.redirectPersistenceManager=yield U.create(_,[ct(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,s.Z)(function*(){var w,D;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,s.Z)(function*(){if(g===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,D){if(this._deleted)return()=>{};const x="function"==typeof _?_:_.next.bind(_),q=this._isInitialized?Promise.resolve():this._initializationPromise;return k(q,this,"internal-error"),q.then(()=>x(this.currentUser)),"function"==typeof _?g.addObserver(_,w,D):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Eu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const D=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();D&&(w["X-Firebase-Client"]=D);const x=yield g._getAppCheckToken();return x&&(w["X-Firebase-AppCheck"]=x),w})()}_getAppCheckToken(){var g=this;return(0,s.Z)(function*(){var _;const w=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function Je(I,...g){Ae.logLevel<=he.in.WARN&&Ae.warn(`Auth (${ie.SDK_VERSION}): ${I}`,...g)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function _n(I){return(0,L.m9)(I)}class xp{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kc(I,g,_){const w=_n(I);k(w._canInitEmulator,w,"emulator-config-failed"),k(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const D=!!_?.disableWarnings,x=Tu(g),{host:q,port:ee}=function ih(I){const g=Tu(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(w);if(D){const x=D[1];return{host:x,port:sh(w.substr(x.length+1))}}{const[x,q]=w.split(":");return{host:x,port:sh(q)}}}(g);w.config.emulator={url:`${x}//${q}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:ee,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function y_(){function I(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Tu(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function sh(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class bu{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return W("not implemented")}_getIdTokenResponse(g){return W("not implemented")}_linkToIdToken(g,_){return W("not implemented")}_getReauthenticationResolver(g){return W("not implemented")}}function si(I,g){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,s.Z)(function*(I,g){return de(I,"POST","/v1/accounts:resetPassword",J(I,g))})).apply(this,arguments)}function Np(I,g){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,s.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function oi(){return(oi=(0,s.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",J(I,g))})).apply(this,arguments)}function oh(I,g){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,s.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithPassword",J(I,g))})).apply(this,arguments)}function Qc(I,g){return ah.apply(this,arguments)}function ah(){return(ah=(0,s.Z)(function*(I,g){return de(I,"POST","/v1/accounts:sendOobCode",J(I,g))})).apply(this,arguments)}function Jc(){return(Jc=(0,s.Z)(function*(I,g){return Qc(I,g)})).apply(this,arguments)}function uh(I,g){return ch.apply(this,arguments)}function ch(){return(ch=(0,s.Z)(function*(I,g){return Qc(I,g)})).apply(this,arguments)}function lh(I,g){return Au.apply(this,arguments)}function Au(){return(Au=(0,s.Z)(function*(I,g){return Qc(I,g)})).apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(I,g){return Qc(I,g)})).apply(this,arguments)}function el(){return(el=(0,s.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithEmailLink",J(I,g))})).apply(this,arguments)}function Bn(){return(Bn=(0,s.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithEmailLink",J(I,g))})).apply(this,arguments)}class Vn extends bu{constructor(g,_,w,D=null){super("password",w),this._email=g,this._password=_,this._tenantId=D}static _fromEmailAndPassword(g,_){return new Vn(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new Vn(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,s.Z)(function*(){var w;switch(_.signInMethod){case"password":const D={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=g._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const x=yield hr(g,D,"signInWithPassword");return oh(g,x)}return oh(g,D).catch(function(){var x=(0,s.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield hr(g,D,"signInWithPassword");return oh(g,ee)}return Promise.reject(q)});return function(q){return x.apply(this,arguments)}}());case"emailLink":return function dh(I,g){return el.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Te(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return Np(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Lt(I,g){return Bn.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:Te(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function jr(I,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,s.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithIdp",J(I,g))})).apply(this,arguments)}class ji extends bu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new ji(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Te("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:D}=_,x=(0,se._T)(_,["providerId","signInMethod"]);if(!w||!D)return null;const q=new ji(w,D);return q.idToken=x.idToken||void 0,q.accessToken=x.accessToken||void 0,q.secret=x.secret,q.nonce=x.nonce,q.pendingToken=x.pendingToken||null,q}_getIdTokenResponse(g){return jr(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,jr(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,jr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,L.xO)(_)}return g}}function fh(){return(fh=(0,s.Z)(function*(I,g){return de(I,"POST","/v1/accounts:sendVerificationCode",J(I,g))})).apply(this,arguments)}function un(){return(un=(0,s.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,g))})).apply(this,arguments)}function Tt(){return(Tt=(0,s.Z)(function*(I,g){const _=yield on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,g));if(_.temporaryProof)throw nn(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const tn={USER_NOT_FOUND:"user-not-found"};function Do(){return(Do=(0,s.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithPhoneNumber",J(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),tn)})).apply(this,arguments)}class En extends bu{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new En({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new En({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function ph(I,g){return un.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function ze(I,g){return Tt.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ai(I,g){return Do.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:D}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:D}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:x}=g;return w||_||D||x?new En({verificationId:_,verificationCode:w,phoneNumber:D,temporaryProof:x}):null}}class qr{constructor(g){var _,w,D,x,q,ee;const Pe=(0,L.zd)((0,L.pd)(g)),Le=null!==(_=Pe.apiKey)&&void 0!==_?_:null,tt=null!==(w=Pe.oobCode)&&void 0!==w?w:null,kt=function ya(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Pe.mode)&&void 0!==D?D:null);k(Le&&tt&&kt,"argument-error"),this.apiKey=Le,this.operation=kt,this.code=tt,this.continueUrl=null!==(x=Pe.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(q=Pe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ee=Pe.tenantId)&&void 0!==ee?ee:null}static parseLink(g){const _=function Mn(I){const g=(0,L.zd)((0,L.pd)(I)).link,_=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(I)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||_||g||I}(g);try{return new qr(_)}catch{return null}}}let mt=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,w){return Vn._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const D=qr.parseLink(w);return k(D,"argument-error"),Vn._fromEmailAndCode(_,D.code,D.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Di{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class So extends Di{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ss extends So{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return k("providerId"in _&&"signInMethod"in _,"argument-error"),ji._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return k(g.idToken||g.accessToken,"argument-error"),ji._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ss.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ss.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:x,nonce:q,providerId:ee}=g;if(!w&&!D&&!_&&!x||!ee)return null;try{return new ss(ee)._credential({idToken:_,accessToken:w,nonce:q,pendingToken:x})}catch{return null}}}let Cn=(()=>{class I extends So{constructor(){super("facebook.com")}static credential(_){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),rl=(()=>{class I extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:D}=_;if(!w&&!D)return null;try{return I.credential(w,D)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),xo=(()=>{class I extends So{constructor(){super("github.com")}static credential(_){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Si extends bu{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return jr(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,jr(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,jr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:D,pendingToken:x}=_;return w&&D&&x&&w===D?new Si(w,x):null}static _create(g,_){return new Si(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qi extends Di{constructor(g){k(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return qi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return qi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Si.fromJSON(g);return k(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return Si._create(w,_)}catch{return null}}}let ws=(()=>{class I extends So{constructor(){super("twitter.com")}static credential(_,w){return ji._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:D}=_;if(!w||!D)return null;try{return I.credential(w,D)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Js(I,g){return os.apply(this,arguments)}function os(){return(os=(0,s.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signUp",J(I,g))})).apply(this,arguments)}class ht{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,D=!1){return(0,s.Z)(function*(){const x=yield fe._fromIdTokenResponse(g,w,D),q=CI(w);return new ht({user:x,providerId:q,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const D=CI(w);return new ht({user:g,providerId:D,_tokenResponse:w,operationType:_})})()}}function CI(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function gh(I){return il.apply(this,arguments)}function il(){return(il=(0,s.Z)(function*(I){var g;const _=_n(I);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new ht({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Js(_,{returnSecureToken:!0}),D=yield ht._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(D.user),D})).apply(this,arguments)}class xi extends L.ZR{constructor(g,_,w,D){var x;super(_.code,_.message),this.operationType=w,this.user=D,Object.setPrototypeOf(this,xi.prototype),this.customData={appName:g.name,tenantId:null!==(x=g.tenantId)&&void 0!==x?x:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,D){return new xi(g,_,w,D)}}function sl(I,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?xi._fromErrorAndOperation(I,x,g,w):x})}function Mo(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Du(I,g){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,s.Z)(function*(I,g){const _=(0,L.m9)(I);yield Qn(!0,_,g);const{providerUserInfo:w}=yield function wt(I,g){return br.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),D=Mo(w||[]);return _.providerData=_.providerData.filter(x=>D.has(x.providerId)),D.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Zn.apply(this,arguments)}function w_(I,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,s.Z)(function*(I,g,_=!1){const w=yield Zr(I,g._linkToIdToken(I.auth,yield I.getIdToken()),_);return ht._forOperation(I,"link",w)})).apply(this,arguments)}function Qn(I,g,_){return Su.apply(this,arguments)}function Su(){return(Su=(0,s.Z)(function*(I,g,_){yield ns(g);const D=!1===I?"provider-already-linked":"no-such-provider";k(Mo(g.providerData).has(_)===I,g.auth,D)})).apply(this,arguments)}function Xs(I,g){return xu.apply(this,arguments)}function xu(){return(xu=(0,s.Z)(function*(I,g,_=!1){const{auth:w}=I,D="reauthenticate";try{const x=yield Zr(I,sl(w,D,g,I),_);k(x.idToken,w,"internal-error");const q=Ct(x.idToken);k(q,w,"internal-error");const{sub:ee}=q;return k(I.uid===ee,w,"user-mismatch"),ht._forOperation(I,D,x)}catch(x){throw"auth/user-not-found"===x?.code&&Te(w,"user-mismatch"),x}})).apply(this,arguments)}function $i(I,g){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,s.Z)(function*(I,g,_=!1){const w="signIn",D=yield sl(I,w,g),x=yield ht._fromIdTokenResponse(I,w,D);return _||(yield I._updateCurrentUser(x.user)),x})).apply(this,arguments)}function ol(I,g){return mh.apply(this,arguments)}function mh(){return(mh=(0,s.Z)(function*(I,g){return $i(_n(I),g)})).apply(this,arguments)}function TI(I,g){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,s.Z)(function*(I,g){const _=(0,L.m9)(I);return yield Qn(!1,_,g.providerId),w_(_,g)})).apply(this,arguments)}function yn(I,g){return C_.apply(this,arguments)}function C_(){return(C_=(0,s.Z)(function*(I,g){return Xs((0,L.m9)(I),g)})).apply(this,arguments)}function T_(){return(T_=(0,s.Z)(function*(I,g){return on(I,"POST","/v1/accounts:signInWithCustomToken",J(I,g))})).apply(this,arguments)}function aD(I,g){return b_.apply(this,arguments)}function b_(){return b_=(0,s.Z)(function*(I,g){const _=_n(I),w=yield function oD(I,g){return T_.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),D=yield ht._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(D.user),D}),b_.apply(this,arguments)}class _h{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?A_._fromServerResponse(g,_):"totpInfo"in _?Op._fromServerResponse(g,_):Te(g,"internal-error")}}class A_ extends _h{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new A_(_)}}class Op extends _h{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new Op(_)}}function al(I,g,_){var w;k((null===(w=_.url)||void 0===w?void 0:w.length)>0,I,"invalid-continue-uri"),k(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(k(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(k(_.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function uD(I,g,_){return D_.apply(this,arguments)}function D_(){return D_=(0,s.Z)(function*(I,g,_){var w;const D=_n(I),x={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const q=yield hr(D,x,"getOobCode",!0);_&&al(D,q,_),yield uh(D,q)}else _&&al(D,x,_),yield uh(D,x).catch(function(){var q=(0,s.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield hr(D,x,"getOobCode",!0);_&&al(D,Pe,_),yield uh(D,Pe)}});return function(ee){return q.apply(this,arguments)}}())}),D_.apply(this,arguments)}function S_(I,g,_){return ul.apply(this,arguments)}function ul(){return(ul=(0,s.Z)(function*(I,g,_){yield si((0,L.m9)(I),{oobCode:g,newPassword:_})})).apply(this,arguments)}function kp(I,g){return cl.apply(this,arguments)}function cl(){return cl=(0,s.Z)(function*(I,g){yield function wI(I,g){return oi.apply(this,arguments)}((0,L.m9)(I),{oobCode:g})}),cl.apply(this,arguments)}function Nu(I,g){return x_.apply(this,arguments)}function x_(){return(x_=(0,s.Z)(function*(I,g){const _=(0,L.m9)(I),w=yield si(_,{oobCode:g}),D=w.requestType;switch(k(D,_,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(w.mfaInfo,_,"internal-error");default:k(w.email,_,"internal-error")}let x=null;return w.mfaInfo&&(x=_h._fromServerResponse(_n(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:x},operation:D}})).apply(this,arguments)}function va(I,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,s.Z)(function*(I,g){const{data:_}=yield Nu((0,L.m9)(I),g);return _.email})).apply(this,arguments)}function M_(I,g,_){return N_.apply(this,arguments)}function N_(){return N_=(0,s.Z)(function*(I,g,_){var w;const D=_n(I),x={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let q;if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Le=yield hr(D,x,"signUpPassword");q=Js(D,Le)}else q=Js(D,x).catch(function(){var Le=(0,s.Z)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kt=yield hr(D,x,"signUpPassword");return Js(D,kt)}return Promise.reject(tt)});return function(tt){return Le.apply(this,arguments)}}());const ee=yield q.catch(Le=>Promise.reject(Le)),Pe=yield ht._fromIdTokenResponse(D,"signIn",ee);return yield D._updateCurrentUser(Pe.user),Pe}),N_.apply(this,arguments)}function fr(I,g,_){return ol((0,L.m9)(I),mt.credential(g,_))}function ll(I,g,_){return xr.apply(this,arguments)}function xr(){return xr=(0,s.Z)(function*(I,g,_){var w;const D=_n(I),x={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function q(ee,Pe){k(Pe.handleCodeInApp,D,"argument-error"),Pe&&al(D,ee,Pe)}if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield hr(D,x,"getOobCode",!0);q(ee,_),yield lh(D,ee)}else q(x,_),yield lh(D,x).catch(function(){var ee=(0,s.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Le=yield hr(D,x,"getOobCode",!0);q(Le,_),yield lh(D,Le)}});return function(Pe){return ee.apply(this,arguments)}}())}),xr.apply(this,arguments)}function R_(I,g){const _=qr.parseLink(g);return"EMAIL_SIGNIN"===_?.operation}function P_(I,g,_){return yh.apply(this,arguments)}function yh(){return(yh=(0,s.Z)(function*(I,g,_){const w=(0,L.m9)(I),D=mt.credentialWithLink(g,_||Mt());return k(D._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ol(w,D)})).apply(this,arguments)}function dl(){return(dl=(0,s.Z)(function*(I,g){return de(I,"POST","/v1/accounts:createAuthUri",J(I,g))})).apply(this,arguments)}function k_(I,g){return hl.apply(this,arguments)}function hl(){return hl=(0,s.Z)(function*(I,g){const w={identifier:g,continueUri:cn()?Mt():"http://localhost"},{signinMethods:D}=yield function O_(I,g){return dl.apply(this,arguments)}((0,L.m9)(I),w);return D||[]}),hl.apply(this,arguments)}function Fp(I,g){return fl.apply(this,arguments)}function fl(){return fl=(0,s.Z)(function*(I,g){const _=(0,L.m9)(I),D={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&al(_.auth,D,g);const{email:x}=yield function v_(I,g){return Jc.apply(this,arguments)}(_.auth,D);x!==I.email&&(yield I.reload())}),fl.apply(this,arguments)}function F_(I,g,_){return pl.apply(this,arguments)}function pl(){return pl=(0,s.Z)(function*(I,g,_){const w=(0,L.m9)(I),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};_&&al(w.auth,x,_);const{email:q}=yield function E_(I,g){return Xc.apply(this,arguments)}(w.auth,x);q!==I.email&&(yield I.reload())}),pl.apply(this,arguments)}function Ea(){return(Ea=(0,s.Z)(function*(I,g){return de(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ru(I,g){return vh.apply(this,arguments)}function vh(){return vh=(0,s.Z)(function*(I,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,L.m9)(I),x={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},q=yield Zr(w,function gl(I,g){return Ea.apply(this,arguments)}(w.auth,x));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const ee=w.providerData.find(({providerId:Pe})=>"password"===Pe);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)}),vh.apply(this,arguments)}function cD(I,g){return bI((0,L.m9)(I),g,null)}function lD(I,g){return bI((0,L.m9)(I),null,g)}function bI(I,g,_){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,s.Z)(function*(I,g,_){const{auth:w}=I,x={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(x.email=g),_&&(x.password=_);const q=yield Zr(I,Np(w,x));yield I._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class ml{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class Up extends ml{constructor(g,_,w,D){super(g,_,w),this.username=D}}class Ia extends ml{constructor(g,_){super(g,"facebook.com",_)}}class DI extends Up{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Eh extends ml{constructor(g,_){super(g,"google.com",_)}}class Bp extends Up{constructor(g,_,w){super(g,"twitter.com",_,w)}}function _l(I){const{user:g,_tokenResponse:_}=I;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function AI(I){var g,_;if(!I)return null;const{providerId:w}=I,D=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},x=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!w&&I?.idToken){const q=null===(_=null===(g=Ct(I.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(q)return new ml(x,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new Ia(x,D);case"github.com":return new DI(x,D);case"google.com":return new Eh(x,D);case"twitter.com":return new Bp(x,D,I.screenName||null);case"custom":case"anonymous":return new ml(x,null);default:return new ml(x,w,D)}}(_)}class eo{constructor(g,_,w){this.type=g,this.credential=_,this.auth=w}static _fromIdtoken(g,_){return new eo("enroll",g,_)}static _fromMfaPendingCredential(g){return new eo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return eo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return eo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Pu{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=_n(g),D=_.customData._serverResponse,x=(D.mfaInfo||[]).map(ee=>_h._fromServerResponse(w,ee));k(D.mfaPendingCredential,w,"internal-error");const q=eo._fromMfaPendingCredential(D.mfaPendingCredential);return new Pu(q,x,function(){var ee=(0,s.Z)(function*(Pe){const Le=yield Pe._process(w,q);delete D.mfaInfo,delete D.mfaPendingCredential;const tt=Object.assign(Object.assign({},D),{idToken:Le.idToken,refreshToken:Le.refreshToken});switch(_.operationType){case"signIn":const kt=yield ht._fromIdTokenResponse(w,_.operationType,tt);return yield w._updateCurrentUser(kt.user),kt;case"reauthenticate":return k(_.user,w,"internal-error"),ht._forOperation(_.user,_.operationType,tt);default:Te(w,"internal-error")}});return function(Pe){return ee.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,s.Z)(function*(){return _.signInResolver(g)})()}}function El(I,g){var _;const w=(0,L.m9)(I),D=g;return k(g.customData.operationType,w,"argument-error"),k(null===(_=D.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Pu._fromError(w,D)}class wh{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>_h._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new wh(g)}getSession(){var g=this;return(0,s.Z)(function*(){return eo._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var w=this;return(0,s.Z)(function*(){const D=g,x=yield w.getSession(),q=yield Zr(w.user,D._process(w.user.auth,x,_));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(g){var _=this;return(0,s.Z)(function*(){const w="string"==typeof g?g:g.uid,D=yield _.user.getIdToken();try{const x=yield Zr(_.user,function $p(I,g){return de(I,"POST","/v2/accounts/mfaEnrollment:withdraw",J(I,g))}(_.user.auth,{idToken:D,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:q})=>q!==w),yield _.user._updateTokensIfNecessary(x),yield _.user.reload()}catch(x){throw x}})()}}const wa=new WeakMap;function Ch(I){const g=(0,L.m9)(I);return wa.has(g)||wa.set(g,wh._fromUser(g)),wa.get(g)}const Mr="__sak";class Th{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Mr,"1"),this.storage.removeItem(Mr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const pr=(()=>{class I extends Th{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Z_(){const I=(0,L.z$)();return le(I)||Ln(I)}()&&function Xt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=is(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const D=this.storage.getItem(w),x=this.localCache[w];D!==x&&_(w,x,D)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ee,Pe,Le)=>{this.notifyListeners(ee,Le)});const D=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(D);if(_.newValue!==ee)null!==_.newValue?this.storage.setItem(D,_.newValue):this.storage.removeItem(D);else if(this.localCache[D]===_.newValue&&!w)return}const x=()=>{const ee=this.storage.getItem(D);!w&&this.localCache[D]===ee||this.notifyListeners(D,ee)},q=this.storage.getItem(D);!function an(){return(0,L.w1)()&&10===document.documentMode}()||q===_.newValue||_.newValue===_.oldValue?x():setTimeout(x,10)}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const x of Array.from(D))x(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var D=()=>super._set,x=this;return(0,s.Z)(function*(){yield D().call(x,_,w),x.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,D=this;return(0,s.Z)(function*(){const x=yield w().call(D,_);return D.localCache[_]=JSON.stringify(x),x})()}_remove(_){var w=()=>super._remove,D=this;return(0,s.Z)(function*(){yield w().call(D,_),delete D.localCache[_]})()}}return I.type="LOCAL",I})(),ku=(()=>{class I extends Th{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return I.type="SESSION",I})();let ai=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(x=>x.isListeningto(_));if(w)return w;const D=new I(_);return this.receivers.push(D),D}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,s.Z)(function*(){const D=_,{eventId:x,eventType:q,data:ee}=D.data,Pe=w.handlersMap[q];if(!Pe?.size)return;D.ports[0].postMessage({status:"ack",eventId:x,eventType:q});const Le=Array.from(Pe).map(function(){var kt=(0,s.Z)(function*(sr){return sr(D.origin,ee)});return function(sr){return kt.apply(this,arguments)}}()),tt=yield function Ca(I){return Promise.all(I.map(function(){var g=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(Le);D.ports[0].postMessage({status:"done",eventId:x,eventType:q,response:tt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Fu(I="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return I+_}class RI{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var D=this;return(0,s.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let q,ee;return new Promise((Pe,Le)=>{const tt=Fu("",20);x.port1.start();const kt=setTimeout(()=>{Le(new Error("unsupported_event"))},w);ee={messageChannel:x,onMessage(sr){const Rs=sr;if(Rs.data.eventId===tt)switch(Rs.data.status){case"ack":clearTimeout(kt),q=setTimeout(()=>{Le(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Pe(Rs.data.response);break;default:clearTimeout(kt),clearTimeout(q),Le(new Error("invalid_response"))}}},D.handlers.add(ee),x.port1.addEventListener("message",ee.onMessage),D.target.postMessage({eventType:g,eventId:tt,data:_},[x.port2])}).finally(()=>{ee&&D.removeMessageHandler(ee)})})()}}function jn(){return window}function Ah(){return typeof jn().WorkerGlobalScope<"u"&&"function"==typeof jn().importScripts}function Il(){return(Il=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gp="firebaseLocalStorageDb",Ta="firebaseLocalStorage",zp="fbase_key";class ba{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Sh(I,g){return I.transaction([Ta],g?"readwrite":"readonly").objectStore(Ta)}function xh(){const I=indexedDB.open(Gp,1);return new Promise((g,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(Ta,{keyPath:zp})}catch(D){_(D)}}),I.addEventListener("success",(0,s.Z)(function*(){const w=I.result;w.objectStoreNames.contains(Ta)?g(w):(w.close(),yield function q_(){const I=indexedDB.deleteDatabase(Gp);return new ba(I).toPromise()}(),g(yield xh()))}))})}function No(I,g,_){return wl.apply(this,arguments)}function wl(){return(wl=(0,s.Z)(function*(I,g,_){const w=Sh(I,!0).put({[zp]:g,value:_});return new ba(w).toPromise()})).apply(this,arguments)}function as(){return(as=(0,s.Z)(function*(I,g){const _=Sh(I,!1).get(g),w=yield new ba(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Kp(I,g){const _=Sh(I,!0).delete(g);return new ba(_).toPromise()}const Yp=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield xh()),_.db})()}_withRetries(_){var w=this;return(0,s.Z)(function*(){let D=0;for(;;)try{const x=yield w._openDb();return yield _(x)}catch(x){if(D++>3)throw x;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return Ah()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=ai._getInstance(function Dh(){return Ah()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(D,x){return{keyProcessed:(yield _._poll()).includes(x.key)}});return function(D,x){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(D,x){return["keyChanged"]});return function(D,x){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var w,D;if(_.activeServiceWorker=yield function j_(){return Il.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new RI(_.activeServiceWorker);const x=yield _.sender._send("ping",{},800);x&&null!==(w=x[0])&&void 0!==w&&w.fulfilled&&null!==(D=x[0])&&void 0!==D&&D.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Hp(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield xh();return yield No(_,Mr,"1"),yield Kp(_,Mr),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(x=>No(x,_,w)),D.localCache[_]=w,D.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,s.Z)(function*(){const D=yield w._withRetries(x=>function Wp(I,g){return as.apply(this,arguments)}(x,_));return w.localCache[_]=D,D})()}_remove(_){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(D=>Kp(D,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const w=yield _._withRetries(q=>{const ee=Sh(q,!1).getAll();return new ba(ee).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const D=[],x=new Set;for(const{fbase_key:q,value:ee}of w)x.add(q),JSON.stringify(_.localCache[q])!==JSON.stringify(ee)&&(_.notifyListeners(q,ee),D.push(q));for(const q of Object.keys(_.localCache))_.localCache[q]&&!x.has(q)&&(_.notifyListeners(q,null),D.push(q));return D})()}notifyListeners(_,w){this.localCache[_]=w;const D=this.listeners[_];if(D)for(const x of Array.from(D))x(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Lu=1e12;class Jp{constructor(g){this.auth=g,this.counter=Lu,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new PI(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||Lu;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Lu))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,s.Z)(function*(){var w;return null===(w=_._widgets.get(g||Lu))||void 0===w||w.execute(),""})()}}class PI{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof g?document.getElementById(g):g;k(D,"argument-error",{appName:_}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dD(I){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<I;w++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Uu=Zt("rcb"),Nr=new pn(3e4,6e4);class Mh{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=jn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return k(function Bu(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&Dp(jn().grecaptcha)?Promise.resolve(jn().grecaptcha):new Promise((w,D)=>{const x=jn().setTimeout(()=>{D(ce(g,"network-request-failed"))},Nr.get());jn()[Uu]=()=>{jn().clearTimeout(x),delete jn()[Uu];const ee=jn().grecaptcha;if(!ee||!Dp(ee))return void D(ce(g,"internal-error"));const Pe=ee.render;ee.render=(Le,tt)=>{const kt=Pe(Le,tt);return this.counter++,kt},this.hostLanguage=_,w(ee)},bi(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Uu,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(x),D(ce(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=jn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class to{load(g){return(0,s.Z)(function*(){return new Jp(g)})()}clearedOneInstance(){}}const G_="recaptcha",z_={theme:"light",type:"image"};class OI{constructor(g,_=Object.assign({},z_),w){this.parameters=_,this.type=G_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(w),this.isInvisible="invisible"===this.parameters.size,k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof g?document.getElementById(g):g;k(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new to:new Mh,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(x=>{const q=ee=>{ee&&(g.tokenChangeListeners.delete(q),x(ee))};g.tokenChangeListeners.add(q),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=jn()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){k(cn()&&!Ah(),g.auth,"internal-error"),yield function kI(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function th(I){return vs.apply(this,arguments)}(g.auth);k(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tl{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=En._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function rr(I,g,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,s.Z)(function*(I,g,_){const w=_n(I),D=yield Vu(w,g,(0,L.m9)(_));return new Tl(D,x=>ol(w,x))})).apply(this,arguments)}function Nh(I,g,_){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(I,g,_){const w=(0,L.m9)(I);yield Qn(!1,w,"phone");const D=yield Vu(w.auth,g,(0,L.m9)(_));return new Tl(D,x=>TI(w,x))})).apply(this,arguments)}function at(I,g,_){return ir.apply(this,arguments)}function ir(){return(ir=(0,s.Z)(function*(I,g,_){const w=(0,L.m9)(I),D=yield Vu(w.auth,g,(0,L.m9)(_));return new Tl(D,x=>yn(w,x))})).apply(this,arguments)}function Vu(I,g,_){return bl.apply(this,arguments)}function bl(){return bl=(0,s.Z)(function*(I,g,_){var w;const D=yield _.verify();try{let x;if(k("string"==typeof D,I,"argument-error"),k(_.type===G_,I,"argument-error"),x="string"==typeof g?{phoneNumber:g}:g,"session"in x){const q=x.session;if("phoneNumber"in x)return k("enroll"===q.type,I,"internal-error"),(yield function jp(I,g){return de(I,"POST","/v2/accounts/mfaEnrollment:start",J(I,g))}(I,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{k("signin"===q.type,I,"internal-error");const ee=(null===(w=x.multiFactorHint)||void 0===w?void 0:w.uid)||x.multiFactorUid;return k(ee,I,"missing-multi-factor-info"),(yield function H_(I,g){return de(I,"POST","/v2/accounts/mfaSignIn:start",J(I,g))}(I,{mfaPendingCredential:q.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield function tl(I,g){return fh.apply(this,arguments)}(I,{phoneNumber:x.phoneNumber,recaptchaToken:D});return q}}finally{_._reset()}}),bl.apply(this,arguments)}function Xp(I,g){return Al.apply(this,arguments)}function Al(){return(Al=(0,s.Z)(function*(I,g){yield w_((0,L.m9)(I),g)})).apply(this,arguments)}let Dl=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=_n(_)}verifyPhoneNumber(_,w){return Vu(this.auth,_,(0,L.m9)(w))}static credential(_,w){return En._fromVerification(_,w)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:D}=_;return w&&D?En._fromTokenResponse(w,D):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ro(I,g){return g?ct(g):(k(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Po extends bu{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return jr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return jr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return jr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function pt(I){return $i(I.auth,new Po(I),I.bypassAuthState)}function Oo(I){const{auth:g,user:_}=I;return k(_,g,"internal-error"),Xs(_,new Po(I),I.bypassAuthState)}function vn(I){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,s.Z)(function*(I){const{auth:g,user:_}=I;return k(_,g,"internal-error"),w_(_,new Po(I),I.bypassAuthState)})).apply(this,arguments)}class Aa{constructor(g,_,w,D,x=!1){this.auth=g,this.resolver=w,this.user=D,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,s.Z)(function*(w,D){g.pendingPromise={resolve:w,reject:D};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(x){g.reject(x)}});return function(w,D){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:D,postBody:x,tenantId:q,error:ee,type:Pe}=g;if(ee)return void _.reject(ee);const Le={auth:_.auth,requestUri:w,sessionId:D,tenantId:q||void 0,postBody:x||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(Le))}catch(tt){_.reject(tt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return pt;case"linkViaPopup":case"linkViaRedirect":return vn;case"reauthViaPopup":case"reauthViaRedirect":return Oo;default:Te(this.auth,"internal-error")}}resolve(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eg=new pn(2e3,1e4);function ui(I,g,_){return xl.apply(this,arguments)}function xl(){return(xl=(0,s.Z)(function*(I,g,_){const w=_n(I);Me(I,g,Di);const D=Ro(w,_);return new Ds(w,"signInViaPopup",g,D).executeNotNull()})).apply(this,arguments)}function Ml(I,g,_){return Da.apply(this,arguments)}function Da(){return(Da=(0,s.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Di);const D=Ro(w.auth,_);return new Ds(w.auth,"reauthViaPopup",g,D,w).executeNotNull()})).apply(this,arguments)}function As(I,g,_){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,s.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Di);const D=Ro(w.auth,_);return new Ds(w.auth,"linkViaPopup",g,D,w).executeNotNull()})).apply(this,arguments)}let Ds=(()=>{class I extends Aa{constructor(_,w,D,x,q){super(_,w,x,q),this.provider=D,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const w=yield _.execute();return k(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,s.Z)(function*(){pe(1===_.filter.length,"Popup operations only handle one event");const w=Fu();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(D=>{_.reject(D)}),_.resolver._isIframeWebStorageSupported(_.auth,D=>{D||_.reject(ce(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,D;this.pollId=null!==(D=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,eg.get())};_()}}return I.currentPopupAction=null,I})();const no="pendingRedirect",ro=new Map;class Zu extends Aa{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,s.Z)(function*(){let w=ro.get(_.auth._key());if(!w){try{const x=(yield function ju(I,g){return qu.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(x)}catch(D){w=()=>Promise.reject(D)}ro.set(_.auth._key(),w)}return _.bypassAuthState||ro.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const D=yield w.auth._redirectUserForId(g.eventId);if(D)return w.user=D,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function qu(){return(qu=(0,s.Z)(function*(I,g){const _=Sa(g),w=ci(I);if(!(yield w._isAvailable()))return!1;const D="true"===(yield w._get(_));return yield w._remove(_),D})).apply(this,arguments)}function Ph(I,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,s.Z)(function*(I,g){return ci(I)._set(Sa(g),"true")})).apply(this,arguments)}function Ni(){ro.clear()}function $u(I,g){ro.set(I._key(),g)}function ci(I){return ct(I._redirectPersistence)}function Sa(I){return nr(no,I.config.apiKey,I.name)}function W_(I,g,_){return function cs(I,g,_){return bn.apply(this,arguments)}(I,g,_)}function bn(){return(bn=(0,s.Z)(function*(I,g,_){const w=_n(I);Me(I,g,Di),yield w._initializationPromise;const D=Ro(w,_);return yield Ph(D,w),D._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Hu(I,g,_){return function FI(I,g,_){return $r.apply(this,arguments)}(I,g,_)}function $r(){return($r=(0,s.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Di),yield w.auth._initializationPromise;const D=Ro(w.auth,_);yield Ph(D,w.auth);const x=yield Ss(w);return D._openRedirect(w.auth,g,"reauthViaRedirect",x)})).apply(this,arguments)}function qn(I,g,_){return function Nl(I,g,_){return io.apply(this,arguments)}(I,g,_)}function io(){return(io=(0,s.Z)(function*(I,g,_){const w=(0,L.m9)(I);Me(w.auth,g,Di),yield w.auth._initializationPromise;const D=Ro(w.auth,_);yield Qn(!1,w,g.providerId),yield Ph(D,w.auth);const x=yield Ss(w);return D._openRedirect(w.auth,g,"linkViaRedirect",x)})).apply(this,arguments)}function Oh(I,g){return li.apply(this,arguments)}function li(){return(li=(0,s.Z)(function*(I,g){return yield _n(I)._initializationPromise,ko(I,g,!1)})).apply(this,arguments)}function ko(I,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(I,g,_=!1){const w=_n(I),D=Ro(w,g),q=yield new Zu(w,D,_).execute();return q&&!_&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,g)),q})).apply(this,arguments)}function Ss(I){return kh.apply(this,arguments)}function kh(){return(kh=(0,s.Z)(function*(I){const g=Fu(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Rl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function xa(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pl(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!Pl(g)){const D=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(ce(this.auth,D))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gu(g))}saveEventToCache(g){this.cachedEventUids.add(Gu(g)),this.lastProcessedEventTime=Date.now()}}function Gu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function Pl({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function zu(I){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,s.Z)(function*(I,g={}){return de(I,"GET","/v1/projects",g)})).apply(this,arguments)}const Dt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ma=/^https?/;function xs(){return(xs=(0,s.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield zu(I);for(const _ of g)try{if(ng(_))return}catch{}Te(I,"unauthorized-domain")})).apply(this,arguments)}function ng(I){const g=Mt(),{protocol:_,hostname:w}=new URL(g);if(I.startsWith("chrome-extension://")){const q=new URL(I);return""===q.hostname&&""===w?"chrome-extension:"===_&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&q.hostname===w}if(!Ma.test(_))return!1;if(Dt.test(I))return w===I;const D=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(w)}const K_=new pn(3e4,6e4);function Hr(){const I=jn().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Ku=null;const rg=new pn(5e3,15e3),Na="__/auth/iframe",ig="emulator/auth/iframe",Rr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function og(I){const g=I.config;k(g.authDomain,I,"auth-domain-config-required");const _=g.emulator?ri(g,ig):`https://${I.config.authDomain}/${Na}`,w={apiKey:g.apiKey,appName:I.name,v:ie.SDK_VERSION},D=sg.get(I.config.apiHost);D&&(w.eid=D);const x=I._getFrameworks();return x.length&&(w.fw=x.join(",")),`${_}?${(0,L.xO)(w).slice(1)}`}function kl(){return kl=(0,s.Z)(function*(I){const g=yield function Ms(I){return Ku=Ku||function so(I){return new Promise((g,_)=>{var w,D,x;function q(){Hr(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Hr(),_(ce(I,"network-request-failed"))},timeout:K_.get()})}if(null!==(D=null===(w=jn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==D&&D.Iframe)g(gapi.iframes.getContext());else{if(null===(x=jn().gapi)||void 0===x||!x.load){const ee=Zt("iframefcb");return jn()[ee]=()=>{gapi.load?q():_(ce(I,"network-request-failed"))},bi(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Pe=>_(Pe))}q()}}).catch(g=>{throw Ku=null,g})}(I),Ku}(I),_=jn().gapi;return k(_,I,"internal-error"),g.open({where:document.body,url:og(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rr,dontclear:!0},w=>new Promise(function(){var D=(0,s.Z)(function*(x,q){yield w.restyle({setHideOnLeave:!1});const ee=ce(I,"network-request-failed"),Pe=jn().setTimeout(()=>{q(ee)},rg.get());function Le(){jn().clearTimeout(Pe),x(w)}w.ping(Le).then(Le,()=>{q(ee)})});return function(x,q){return D.apply(this,arguments)}}()))}),kl.apply(this,arguments)}const Yu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ns{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ag="__/auth/handler",Y_="emulator/auth/handler",Lh=encodeURIComponent("fac");function Pa(I,g,_,w,D,x){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,s.Z)(function*(I,g,_,w,D,x){k(I.config.authDomain,I,"auth-domain-config-required"),k(I.config.apiKey,I,"invalid-api-key");const q={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:w,v:ie.SDK_VERSION,eventId:D};if(g instanceof Di){g.setDefaultLanguage(I.languageCode),q.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||(q.customParameters=JSON.stringify(g.getCustomParameters()));for(const[tt,kt]of Object.entries(x||{}))q[tt]=kt}if(g instanceof So){const tt=g.getScopes().filter(kt=>""!==kt);tt.length>0&&(q.scopes=tt.join(","))}I.tenantId&&(q.tid=I.tenantId);const ee=q;for(const tt of Object.keys(ee))void 0===ee[tt]&&delete ee[tt];const Pe=yield I._getAppCheckToken(),Le=Pe?`#${Lh}=${encodeURIComponent(Pe)}`:"";return`${function Bh({config:I}){return I.emulator?ri(I,Y_):`https://${I.authDomain}/${ag}`}(I)}?${(0,L.xO)(ee).slice(1)}${Le}`})).apply(this,arguments)}const ug="webStorageSupport",fs=class cg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ku,this._completeRedirectFn=ko,this._overrideRedirectResult=$u}_openPopup(g,_,w,D){var x=this;return(0,s.Z)(function*(){var q;pe(null===(q=x.eventManagers[g._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ee=yield Pa(g,_,w,Mt(),D);return function Fh(I,g,_,w=500,D=600){const x=Math.max((window.screen.availHeight-D)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Pe=Object.assign(Object.assign({},Yu),{width:w.toString(),height:D.toString(),top:x,left:q}),Le=(0,L.z$)().toLowerCase();_&&(ee=Q(Le)?"_blank":_),$(Le)&&(g=g||"http://localhost",Pe.scrollbars="yes");const tt=Object.entries(Pe).reduce((sr,[Rs,Gi])=>`${sr}${Rs}=${Gi},`,"");if(function qt(I=(0,L.z$)()){var g;return Ln(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Le)&&"_self"!==ee)return function hs(I,g){const _=document.createElement("a");_.href=I,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",ee),new Ns(null);const kt=window.open(g||"",ee,tt);k(kt,I,"popup-blocked");try{kt.focus()}catch{}return new Ns(kt)}(g,ee,Fu())})()}_openRedirect(g,_,w,D){var x=this;return(0,s.Z)(function*(){return yield x._originValidation(g),function Cs(I){jn().location.href=I}(yield Pa(g,_,w,Mt(),D)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:D,promise:x}=this.eventManagers[_];return D?Promise.resolve(D):(pe(x,"If manager is not set, promise should be"),x)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,s.Z)(function*(){const w=yield function Ol(I){return kl.apply(this,arguments)}(g),D=new Rl(g);return w.register("authEvent",x=>(k(x?.authEvent,g,"invalid-auth-event"),{status:D.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:D},_.iframes[g._key()]=w,D})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(ug,{type:ug},D=>{var x;const q=null===(x=D?.[0])||void 0===x?void 0:x[ug];void 0!==q&&_(!!q),Te(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function tg(I){return xs.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return is()||le()||Ln()}};class lg{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return W("unexpected MultiFactorSessionType")}}}class Fl extends lg{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Fl(g)}_finalizeEnroll(g,_,w){return function V_(I,g){return de(I,"POST","/v2/accounts/mfaEnrollment:finalize",J(I,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function gr(I,g){return de(I,"POST","/v2/accounts/mfaSignIn:finalize",J(I,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $n=(()=>{class I{constructor(){}static assertion(_){return Fl._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var Lo="@firebase/auth";class Ul{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.Pz)("authIdTokenMaxAge"),function Q_(I){(0,ie._registerComponent)(new ye.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),D=g.getProvider("heartbeat"),x=g.getProvider("app-check-internal"),{apiKey:q,authDomain:ee}=w.options;k(q&&!q.includes(":"),"invalid-api-key",{appName:w.name});const Pe={apiKey:q,authDomain:ee,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eu(I)},Le=new Zi(w,D,x,Pe);return function Cu(I,g){const _=g?.persistence||[],w=(Array.isArray(_)?_:[_]).map(ct);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(w,g?.popupRedirectResolver)}(Le,_),Le},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ye.wA("auth-internal",g=>{const _=_n(g.getProvider("auth").getImmediate());return new Ul(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Lo,"0.23.2",function Qu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ie.registerVersion)(Lo,"0.23.2","esm2017")}("Browser")},9058:(st,Ee,P)=>{P.d(Ee,{$s:()=>ct,BH:()=>ve,L:()=>Se,LL:()=>Ne,P0:()=>we,Pz:()=>ce,Sg:()=>Me,UG:()=>W,US:()=>ye,ZB:()=>re,ZR:()=>de,aH:()=>Te,b$:()=>cn,eu:()=>te,hl:()=>Y,jU:()=>pe,m9:()=>nr,ne:()=>Zr,pd:()=>Ct,q4:()=>Je,r3:()=>wt,ru:()=>Mt,tV:()=>B,uI:()=>k,vZ:()=>ii,w1:()=>ln,xO:()=>es,xb:()=>Vr,z$:()=>K,zI:()=>oe,zd:()=>Yn});const se=function(U){const F=[];let $=0;for(let le=0;le<U.length;le++){let Q=U.charCodeAt(le);Q<128?F[$++]=Q:Q<2048?(F[$++]=Q>>6|192,F[$++]=63&Q|128):55296==(64512&Q)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(Q=65536+((1023&Q)<<10)+(1023&U.charCodeAt(++le)),F[$++]=Q>>18|240,F[$++]=Q>>12&63|128,F[$++]=Q>>6&63|128,F[$++]=63&Q|128):(F[$++]=Q>>12|224,F[$++]=Q>>6&63|128,F[$++]=63&Q|128)}return F},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Q=0;Q<U.length;Q+=3){const et=U[Q],vt=Q+1<U.length,Jt=vt?U[Q+1]:0,Fn=Q+2<U.length,Ln=Fn?U[Q+2]:0;let an=(15&Jt)<<2|Ln>>6,is=63&Ln;Fn||(is=64,vt||(an=64)),le.push($[et>>2],$[(3&et)<<4|Jt>>4],$[an],$[is])}return le.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(se(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let $=0,le=0;for(;$<U.length;){const Q=U[$++];if(Q<128)F[le++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const et=U[$++];F[le++]=String.fromCharCode((31&Q)<<6|63&et)}else if(Q>239&&Q<365){const Fn=((7&Q)<<18|(63&U[$++])<<12|(63&U[$++])<<6|63&U[$++])-65536;F[le++]=String.fromCharCode(55296+(Fn>>10)),F[le++]=String.fromCharCode(56320+(1023&Fn))}else{const et=U[$++],vt=U[$++];F[le++]=String.fromCharCode((15&Q)<<12|(63&et)<<6|63&vt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Q=0;Q<U.length;){const et=$[U.charAt(Q++)],Jt=Q<U.length?$[U.charAt(Q)]:0;++Q;const Ln=Q<U.length?$[U.charAt(Q)]:64;++Q;const qt=Q<U.length?$[U.charAt(Q)]:64;if(++Q,null==et||null==Jt||null==Ln||null==qt)throw new Re;le.push(et<<2|Jt>>4),64!==Ln&&(le.push(Jt<<4&240|Ln>>2),64!==qt&&le.push(Ln<<6&192|qt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(U){return function(U){const F=se(U);return ye.encodeByteArray(F,!0)}(U).replace(/\./g,"")},B=function(U){try{return ye.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function re(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const $ in F)!F.hasOwnProperty($)||!Oe($)||(U[$]=re(U[$],F[$]));return U}function Oe(U){return"__proto__"!==U}const Ae=()=>{try{return function ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&B(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Je=U=>{var F,$;return null===($=null===(F=Ae())||void 0===F?void 0:F.emulatorHosts)||void 0===$?void 0:$[U]},we=U=>{const F=Je(U);if(!F)return;const $=F.lastIndexOf(":");if($<=0||$+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const le=parseInt(F.substring($+1),10);return"["===F[0]?[F.substring(1,$-1),le]:[F.substring(0,$),le]},Te=()=>{var U;return null===(U=Ae())||void 0===U?void 0:U.config},ce=U=>{var F;return null===(F=Ae())||void 0===F?void 0:F[`_${U}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,le))}}}function Me(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=F||"demo-project",Q=U.iat||0,et=U.sub||U.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Q,exp:Q+3600,auth_time:Q,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},U);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(vt)),""].join(".")}function K(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function W(){var U;const F=null===(U=Ae())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Mt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ln(){const U=K();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Y(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((U,F)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(le);Q.onsuccess=()=>{Q.result.close(),$||self.indexedDB.deleteDatabase(le),U(!0)},Q.onupgradeneeded=()=>{$=!1},Q.onerror=()=>{var et;F((null===(et=Q.error)||void 0===et?void 0:et.message)||"")}}catch($){F($)}})}function oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class de extends Error{constructor(F,$,le){super($),this.code=F,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(F,$,le){this.service=F,this.serviceName=$,this.errors=le}create(F,...$){const le=$[0]||{},Q=`${this.service}/${F}`,et=this.errors[F],vt=et?function ut(U,F){return U.replace(Ft,($,le)=>{const Q=F[le];return null!=Q?String(Q):`<${le}?>`})}(et,le):"Error";return new de(Q,`${this.serviceName}: ${vt} (${Q}).`,le)}}const Ft=/\{\$([^}]+)}/g;function wt(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function Vr(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function ii(U,F){if(U===F)return!0;const $=Object.keys(U),le=Object.keys(F);for(const Q of $){if(!le.includes(Q))return!1;const et=U[Q],vt=F[Q];if(ma(et)&&ma(vt)){if(!ii(et,vt))return!1}else if(et!==vt)return!1}for(const Q of le)if(!$.includes(Q))return!1;return!0}function ma(U){return null!==U&&"object"==typeof U}function es(U){const F=[];for(const[$,le]of Object.entries(U))Array.isArray(le)?le.forEach(Q=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(Q))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(le));return F.length?"&"+F.join("&"):""}function Yn(U){const F={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Q,et]=le.split("=");F[decodeURIComponent(Q)]=decodeURIComponent(et)}}),F}function Ct(U){const F=U.indexOf("?");if(!F)return"";const $=U.indexOf("#",F);return U.substring(F,$>0?$:void 0)}function Zr(U,F){const $=new yt(U,F);return $.subscribe.bind($)}class yt{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(le=>{this.error(le)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,le){let Q;if(void 0===F&&void 0===$&&void 0===le)throw new Error("Missing Observer.");Q=function ts(U,F){if("object"!=typeof U||null===U)return!1;for(const $ of F)if($ in U&&"function"==typeof U[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:le},void 0===Q.next&&(Q.next=Vt),void 0===Q.error&&(Q.error=Vt),void 0===Q.complete&&(Q.complete=Vt);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),et}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}const rs=1e3,qe=2,fe=144e5,We=.5;function ct(U,F=rs,$=qe){const le=F*Math.pow($,U),Q=Math.round(We*le*(Math.random()-.5)*2);return Math.min(fe,le+Q)}function nr(U){return U&&U._delegate?U._delegate:U}},1855:(st,Ee,P)=>{var s=P(8926);let L=null;function ie(){return L}class he{}const ye=new s.OlP("DocumentToken");let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Se)},providedIn:"platform"})}return n})();const Ue=new s.OlP("Location Initialized");let Se=(()=>{class n extends Re{constructor(){super(),this._doc=(0,s.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function B(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function re(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Qe)},providedIn:"root"})}return n})();const ue=new s.OlP("appBaseHref");let Qe=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return B(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+re(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const l=this.prepareExternalUrl(i+re(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){const l=this.prepareExternalUrl(i+re(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Re),s.LFG(ue,8))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Be=(()=>{class n extends Oe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=B(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let l=this.prepareExternalUrl(i+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){let l=this.prepareExternalUrl(i+re(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Re),s.LFG(ue,8))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})(),xe=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(we(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+re(r))}normalize(t){return n.stripTrailingSlash(function Je(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+re(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=re;static#t=this.joinWithSlash=B;static#n=this.stripTrailingSlash=Z;static#r=this.\u0275fac=function(r){return new(r||n)(s.LFG(Oe))};static#i=this.\u0275prov=s.Yz7({token:n,factory:function(){return function Ae(){return new xe((0,s.LFG)(Oe))}()},providedIn:"root"})}return n})();function we(n){return n.replace(/\/index.html$/,"")}var K=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(K||{}),k=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(k||{}),W=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(W||{}),pe=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(pe||{});function te(n,e){return wt((0,s.cg1)(n)[s.wAp.DateFormat],e)}function oe(n,e){return wt((0,s.cg1)(n)[s.wAp.TimeFormat],e)}function J(n,e){return wt((0,s.cg1)(n)[s.wAp.DateTimeFormat],e)}function de(n,e){const t=(0,s.cg1)(n),r=t[s.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===pe.CurrencyDecimal)return t[s.wAp.NumberSymbols][pe.Decimal];if(e===pe.CurrencyGroup)return t[s.wAp.NumberSymbols][pe.Group]}return r}function Ze(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function br(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ma=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ys={},es=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Yn||{}),Ct=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ct||{}),Ot=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ot||{});function Zr(n,e,t,r){let i=function F(n){if(le(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,l=1]=n.split("-").map(f=>+f);return yt(i,u-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ma))return function $(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,l,f,m,v),e}(r)}const e=new Date(n);if(!le(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=dr(t,e)||e;let f,l=[];for(;e;){if(f=es.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const T=l.pop();if(!T)break;e=T}}let m=i.getTimezoneOffset();r&&(m=Qt(r,m),i=function U(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function nr(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Qt(e,i)-i))}(i,r,!0));let v="";return l.forEach(T=>{const A=function zt(n){if(ct[n])return ct[n];let e;switch(n){case"G":case"GG":case"GGG":e=Gt(Ot.Eras,k.Abbreviated);break;case"GGGG":e=Gt(Ot.Eras,k.Wide);break;case"GGGGG":e=Gt(Ot.Eras,k.Narrow);break;case"y":e=rn(Ct.FullYear,1,0,!1,!0);break;case"yy":e=rn(Ct.FullYear,2,0,!0,!0);break;case"yyy":e=rn(Ct.FullYear,3,0,!1,!0);break;case"yyyy":e=rn(Ct.FullYear,4,0,!1,!0);break;case"Y":e=We(1);break;case"YY":e=We(2,!0);break;case"YYY":e=We(3);break;case"YYYY":e=We(4);break;case"M":case"L":e=rn(Ct.Month,1,1);break;case"MM":case"LL":e=rn(Ct.Month,2,1);break;case"MMM":e=Gt(Ot.Months,k.Abbreviated);break;case"MMMM":e=Gt(Ot.Months,k.Wide);break;case"MMMMM":e=Gt(Ot.Months,k.Narrow);break;case"LLL":e=Gt(Ot.Months,k.Abbreviated,K.Standalone);break;case"LLLL":e=Gt(Ot.Months,k.Wide,K.Standalone);break;case"LLLLL":e=Gt(Ot.Months,k.Narrow,K.Standalone);break;case"w":e=fe(1);break;case"ww":e=fe(2);break;case"W":e=fe(1,!0);break;case"d":e=rn(Ct.Date,1);break;case"dd":e=rn(Ct.Date,2);break;case"c":case"cc":e=rn(Ct.Day,1);break;case"ccc":e=Gt(Ot.Days,k.Abbreviated,K.Standalone);break;case"cccc":e=Gt(Ot.Days,k.Wide,K.Standalone);break;case"ccccc":e=Gt(Ot.Days,k.Narrow,K.Standalone);break;case"cccccc":e=Gt(Ot.Days,k.Short,K.Standalone);break;case"E":case"EE":case"EEE":e=Gt(Ot.Days,k.Abbreviated);break;case"EEEE":e=Gt(Ot.Days,k.Wide);break;case"EEEEE":e=Gt(Ot.Days,k.Narrow);break;case"EEEEEE":e=Gt(Ot.Days,k.Short);break;case"a":case"aa":case"aaa":e=Gt(Ot.DayPeriods,k.Abbreviated);break;case"aaaa":e=Gt(Ot.DayPeriods,k.Wide);break;case"aaaaa":e=Gt(Ot.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":e=Gt(Ot.DayPeriods,k.Abbreviated,K.Standalone,!0);break;case"bbbb":e=Gt(Ot.DayPeriods,k.Wide,K.Standalone,!0);break;case"bbbbb":e=Gt(Ot.DayPeriods,k.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":e=Gt(Ot.DayPeriods,k.Abbreviated,K.Format,!0);break;case"BBBB":e=Gt(Ot.DayPeriods,k.Wide,K.Format,!0);break;case"BBBBB":e=Gt(Ot.DayPeriods,k.Narrow,K.Format,!0);break;case"h":e=rn(Ct.Hours,1,-12);break;case"hh":e=rn(Ct.Hours,2,-12);break;case"H":e=rn(Ct.Hours,1);break;case"HH":e=rn(Ct.Hours,2);break;case"m":e=rn(Ct.Minutes,1);break;case"mm":e=rn(Ct.Minutes,2);break;case"s":e=rn(Ct.Seconds,1);break;case"ss":e=rn(Ct.Seconds,2);break;case"S":e=rn(Ct.FractionalSeconds,1);break;case"SS":e=rn(Ct.FractionalSeconds,2);break;case"SSS":e=rn(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Nt(Yn.Short);break;case"ZZZZZ":e=Nt(Yn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nt(Yn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nt(Yn.Long);break;default:return null}return ct[n]=e,e}(T);v+=A?A(i,t,m):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function yt(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function dr(n,e){const t=function cn(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(Ys[t]=Ys[t]||{},Ys[t][e])return Ys[t][e];let r="";switch(e){case"shortDate":r=te(n,W.Short);break;case"mediumDate":r=te(n,W.Medium);break;case"longDate":r=te(n,W.Long);break;case"fullDate":r=te(n,W.Full);break;case"shortTime":r=oe(n,W.Short);break;case"mediumTime":r=oe(n,W.Medium);break;case"longTime":r=oe(n,W.Long);break;case"fullTime":r=oe(n,W.Full);break;case"short":const i=dr(n,"shortTime"),u=dr(n,"shortDate");r=ts(J(n,W.Short),[i,u]);break;case"medium":const l=dr(n,"mediumTime"),f=dr(n,"mediumDate");r=ts(J(n,W.Medium),[l,f]);break;case"long":const m=dr(n,"longTime"),v=dr(n,"longDate");r=ts(J(n,W.Long),[m,v]);break;case"full":const T=dr(n,"fullTime"),A=dr(n,"fullDate");r=ts(J(n,W.Full),[T,A])}return r&&(Ys[t][e]=r),r}function ts(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Vt(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),u+l}function rn(n,e,t=0,r=!1,i=!1){return function(u,l){let f=function mn(n,e){switch(n){case Ct.FullYear:return e.getFullYear();case Ct.Month:return e.getMonth();case Ct.Date:return e.getDate();case Ct.Hours:return e.getHours();case Ct.Minutes:return e.getMinutes();case Ct.Seconds:return e.getSeconds();case Ct.FractionalSeconds:return e.getMilliseconds();case Ct.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||f>-t)&&(f+=t),n===Ct.Hours)0===f&&-12===t&&(f=12);else if(n===Ct.FractionalSeconds)return function ns(n,e){return Vt(n,3).substring(0,e)}(f,e);const m=de(l,pe.MinusSign);return Vt(f,e,m,r,i)}}function Gt(n,e,t=K.Format,r=!1){return function(i,u){return function zc(n,e,t,r,i,u){switch(t){case Ot.Months:return function fn(n,e,t){const r=(0,s.cg1)(n),u=wt([r[s.wAp.MonthsFormat],r[s.wAp.MonthsStandalone]],e);return wt(u,t)}(e,i,r)[n.getMonth()];case Ot.Days:return function ln(n,e,t){const r=(0,s.cg1)(n),u=wt([r[s.wAp.DaysFormat],r[s.wAp.DaysStandalone]],e);return wt(u,t)}(e,i,r)[n.getDay()];case Ot.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(u){const v=function nn(n){const e=(0,s.cg1)(n);return Ze(e),(e[s.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?br(r):[br(r[0]),br(r[1])])}(e),T=function Ur(n,e,t){const r=(0,s.cg1)(n);Ze(r);const u=wt([r[s.wAp.ExtraData][0],r[s.wAp.ExtraData][1]],e)||[];return wt(u,t)||[]}(e,i,r),A=v.findIndex(M=>{if(Array.isArray(M)){const[O,j]=M,G=l>=O.hours&&f>=O.minutes,X=l<j.hours||l===j.hours&&f<j.minutes;if(O.hours<j.hours){if(G&&X)return!0}else if(G||X)return!0}else if(M.hours===l&&M.minutes===f)return!0;return!1});if(-1!==A)return T[A]}return function kn(n,e,t){const r=(0,s.cg1)(n),u=wt([r[s.wAp.DayPeriodsFormat],r[s.wAp.DayPeriodsStandalone]],e);return wt(u,t)}(e,i,r)[l<12?0:1];case Ot.Eras:return function pn(n,e){return wt((0,s.cg1)(n)[s.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Nt(n){return function(e,t,r){const i=-1*r,u=de(t,pe.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Yn.Short:return(i>=0?"+":"")+Vt(l,2,u)+Vt(Math.abs(i%60),2,u);case Yn.ShortGMT:return"GMT"+(i>=0?"+":"")+Vt(l,1,u);case Yn.Long:return"GMT"+(i>=0?"+":"")+Vt(l,2,u)+":"+Vt(Math.abs(i%60),2,u);case Yn.Extended:return 0===r?"Z":(i>=0?"+":"")+Vt(l,2,u)+":"+Vt(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}const _a=0,Ci=4;function qe(n){return yt(n.getFullYear(),n.getMonth(),n.getDate()+(Ci-n.getDay()))}function fe(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+u)/7)}else{const u=qe(t),l=function rs(n){const e=yt(n,_a,1).getDay();return yt(n,0,1+(e<=Ci?Ci:Ci+7)-e)}(u.getFullYear()),f=u.getTime()-l.getTime();i=1+Math.round(f/6048e5)}return Vt(i,n,de(r,pe.MinusSign))}}function We(n,e=!1){return function(t,r){return Vt(qe(t).getFullYear(),n,de(r,pe.MinusSign),e)}}const ct={};function Qt(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function le(n){return n instanceof Date&&!isNaN(n.valueOf())}function Iu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class Sp{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Sp(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const f=r.get(u);r.move(f,l),_n(f,i)}});for(let i=0,u=r.length;i<u;i++){const f=r.get(i).context;f.index=i,f.count=u,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_n(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function _n(n,e){n.context.$implicit=e.item}let Ar=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Cu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Kc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Kc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.s_b),s.Y36(s.Rgc))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Cu{constructor(){this.$implicit=null,this.ngIf=null}}function Kc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}const E_=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Xc=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let dh=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,u){if(null==t||""===t||t!=t)return null;try{return Zr(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function oi(n,e){return new s.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.soG,16),s.Y36(E_,24),s.Y36(Xc,24))};static#t=this.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),tn=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({})}return n})();function qr(n){return"server"===n}let So=(()=>{class n{static#e=this.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new ss((0,s.LFG)(ye),window)})}return n})();class ss{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cn(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class xo{}class Eh extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bp extends Eh{static makeCurrent(){!function se(n){L||(L=n)}(new Bp)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function SI(){return _l=_l||document.querySelector("base"),_l?_l.getAttribute("href"):null}();return null==t?null:function Vp(n){yl=yl||document.createElement("a"),yl.setAttribute("href",n);const e=yl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_l=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Iu(document.cookie,e)}}let yl,_l=null,xI=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const Zp=new s.OlP("EventManagerPlugins");let U_=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new s.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Zp),s.LFG(s.R0b))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();class B_{constructor(e){this._doc=e}}const Ih="ng-app-id";let vl=(()=>{class n{constructor(t,r,i,u={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qr(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ih}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const u=i.get(t);return u.usage+=r,u.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,u=i?.get(r);if(u?.parentNode===t)return i.delete(r),u.removeAttribute(Ih),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Ih,this.appId),l}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(i):u.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye),s.LFG(s.AFp),s.LFG(s.Ojb,8),s.LFG(s.Lbi))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const eo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pu=/%COMP%/g,qp=new s.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function wa(n,e){return e.map(t=>t.replace(Pu,n))}let Ch=(()=>{class n{constructor(t,r,i,u,l,f,m,v=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=f,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=qr(f),this.defaultRenderer=new Mr(t,l,m,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===s.ifc.ShadowDom&&(r={...r,encapsulation:s.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof pr?i.applyToHost(t):i instanceof Ou&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const l=this.doc,f=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,A=this.platformIsServer;switch(r.encapsulation){case s.ifc.Emulated:u=new pr(m,v,r,this.appId,T,l,f,A);break;case s.ifc.ShadowDom:return new bh(m,v,t,r,l,f,this.nonce,A);default:u=new Ou(m,v,r,T,l,f,A)}i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(U_),s.LFG(vl),s.LFG(s.AFp),s.LFG(qp),s.LFG(ye),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(s.Ojb))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();class Mr{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(eo[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(sn(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(sn(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new s.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=eo[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=eo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=ie().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function sn(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bh extends Mr{constructor(e,t,r,i,u,l,f,m){super(e,u,l,m),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=wa(i.id,i.styles);for(const T of v){const A=document.createElement("style");f&&A.setAttribute("nonce",f),A.textContent=T,this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ou extends Mr{constructor(e,t,r,i,u,l,f,m){super(e,u,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=m?wa(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class pr extends Ou{constructor(e,t,r,i,u,l,f,m){const v=i+"-"+r.id;super(e,t,r,u,l,f,m,v),this.contentAttr=function $p(n){return"_ngcontent-%COMP%".replace(Pu,n)}(v),this.hostAttr=function wh(n){return"_nghost-%COMP%".replace(Pu,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let NI=(()=>{class n extends B_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const ku=["alt","control","meta","shift"],Ca={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ai={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fu=(()=>{class n extends B_{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ie().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),ku.forEach(v=>{const T=r.indexOf(v);T>-1&&(r.splice(T,1),l+=v+".")}),l+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=i,m.fullKey=l,m}static matchEventFullKeyCode(t,r){let i=Ca[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ku.forEach(l=>{l!==i&&(0,ai[l])(t)&&(u+=l+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const Gp=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function j_(){Bp.makeCurrent()},multi:!0},{provide:ye,useFactory:function Hp(){return(0,s.RDi)(document),document},deps:[]}]),ft=new s.OlP(""),Ta=[{provide:s.rWj,useClass:class L_{addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new s.vHH(5103,!1);return u},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let u=i.length,l=!1;const f=function(m){l=l||m,u--,0==u&&r(l)};i.forEach(m=>{m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ie().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],zp=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Il(){return new s.qLn},deps:[]},{provide:Zp,useClass:NI,multi:!0,deps:[ye,s.R0b,s.Lbi]},{provide:Zp,useClass:Fu,multi:!0,deps:[ye]},Ch,vl,U_,{provide:s.FYo,useExisting:Ch},{provide:xo,useClass:xI,deps:[]},[]];let ba=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ft,12))};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({providers:[...zp,...Ta],imports:[tn,s.hGG]})}return n})(),wl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye))};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function No(){return new wl((0,s.LFG)(ye))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let Uu=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(r){let i=null;return i=r?new(r||n):s.LFG(us),i},providedIn:"root"})}return n})(),us=(()=>{class n extends Uu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case s.q3G.NONE:return r;case s.q3G.HTML:return(0,s.qzn)(r,"HTML")?(0,s.z3N)(r):(0,s.EiD)(this._doc,String(r)).toString();case s.q3G.STYLE:return(0,s.qzn)(r,"Style")?(0,s.z3N)(r):r;case s.q3G.SCRIPT:if((0,s.qzn)(r,"Script"))return(0,s.z3N)(r);throw new s.vHH(5200,!1);case s.q3G.URL:return(0,s.qzn)(r,"URL")?(0,s.z3N)(r):(0,s.mCW)(String(r));case s.q3G.RESOURCE_URL:if((0,s.qzn)(r,"ResourceURL"))return(0,s.z3N)(r);throw new s.vHH(5201,!1);default:throw new s.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,s.JVY)(t)}bypassSecurityTrustStyle(t){return(0,s.L6k)(t)}bypassSecurityTrustScript(t){return(0,s.eBb)(t)}bypassSecurityTrustUrl(t){return(0,s.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,s.pB0)(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye))};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Nr(n){return new us(n.get(ye))}(s.LFG(s.zs3)),i},providedIn:"root"})}return n})();var rr=P(5592),bs=P(4674),Tn=P(2459),at=P(2096),ir=P(5619);const{isArray:Vu}=Array,{getPrototypeOf:bl,prototype:Xp,keys:Al}=Object;function Dl(n){if(1===n.length){const e=n[0];if(Vu(e))return{args:e,keys:null};if(function Ro(n){return n&&"object"==typeof n&&bl(n)===Xp}(e)){const t=Al(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Po=P(2737),pt=P(7398);const{isArray:Oo}=Array;function Sl(n){return(0,pt.U)(e=>function vn(n,e){return Oo(e)?n(...e):n(e)}(n,e))}var Aa=P(4564);function eg(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ui=P(8251),xl=P(7103);function Ml(...n){const e=(0,Aa.yG)(n),t=(0,Aa.jO)(n),{args:r,keys:i}=Dl(n);if(0===r.length)return(0,Tn.D)([],e);const u=new rr.y(function Da(n,e,t=Po.y){return r=>{As(e,()=>{const{length:i}=n,u=new Array(i);let l=i,f=i;for(let m=0;m<i;m++)As(e,()=>{const v=(0,Tn.D)(n[m],e);let T=!1;v.subscribe((0,ui.x)(r,A=>{u[m]=A,T||(T=!0,f--),f||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>eg(i,l):Po.y));return t?u.pipe(Sl(t)):u}function As(n,e,t){n?(0,xl.f)(t,n,e):e()}const Ds=(0,P(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var no=P(7537);function Zu(...n){return function ro(){return(0,no.J)(1)}()((0,Tn.D)(n,(0,Aa.yG)(n)))}var ju=P(4829);function qu(n){return new rr.y(e=>{(0,ju.Xf)(n()).subscribe(e)})}var Ph=P(8407);function Mi(n,e){const t=(0,bs.m)(n)?n:()=>n,r=i=>i.error(t());return new rr.y(e?i=>e.schedule(r,0,i):r)}var Ni=P(6232),$u=P(7394),ci=P(9360);function Sa(){return(0,ci.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ui.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class W_ extends rr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ci.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $u.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ui.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$u.w0.EMPTY)}return e}refCount(){return Sa()(this)}}var cs=P(8645),bn=P(4664);function Hu(n){return n<=0?()=>Ni.E:(0,ci.e)((e,t)=>{let r=0;e.subscribe((0,ui.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $r(n,e){return(0,ci.e)((t,r)=>{let i=0;t.subscribe((0,ui.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var qn=P(1631);function Nl(n){return(0,ci.e)((e,t)=>{let r=!1;e.subscribe((0,ui.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function io(n=Oh){return(0,ci.e)((e,t)=>{let r=!1;e.subscribe((0,ui.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Oh(){return new Ds}function li(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$r((i,u)=>n(i,u,r)):Po.y,Hu(1),t?Nl(e):io(()=>new Ds))}function ko(n,e){return(0,bs.m)(e)?(0,qn.z)(n,e,1):(0,qn.z)(n,1)}function Nn(n,e,t){const r=(0,bs.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,ci.e)((i,u)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let f=!0;i.subscribe((0,ui.x)(u,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),u.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),u.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),u.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Po.y}function Ss(n){return(0,ci.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,ui.x)(t,void 0,void 0,l=>{u=(0,ju.Xf)(n(l,Ss(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Rl(n){return n<=0?()=>Ni.E:(0,ci.e)((e,t)=>{let r=[];e.subscribe((0,ui.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xa(n){return(0,ci.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var zu=P(2420);const Dt="primary",Ma=Symbol("RouteTitle");class tg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xs(n){return new tg(n)}function ng(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const l=r[u],f=n[u];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!so(n[i],e[i]))return!1;return!0}function so(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Ku(n){return n.length>0?n[n.length-1]:null}function Ms(n){return function Nh(n){return!!n&&(n instanceof rr.y||(0,bs.m)(n.lift)&&(0,bs.m)(n.subscribe))}(n)?n:(0,s.QGY)(n)?(0,Tn.D)(Promise.resolve(n)):(0,at.of)(n)}const rg={exact:function sg(n,e,t){if(!Ns(n.segments,e.segments)||!Yu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!sg(n.children[r],e.children[r],t))return!1;return!0},subset:Ol},Na={exact:function Rr(n,e){return Hr(n,e)},subset:function og(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>so(n[t],e[t]))},ignored:()=>!0};function ig(n,e,t){return rg[t.paths](n.root,e.root,t.matrixParams)&&Na[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ol(n,e,t){return kl(n,e,e.segments,t)}function kl(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ns(i,t)||e.hasChildren()||!Yu(i,t,r))}if(n.segments.length===t.length){if(!Ns(n.segments,t)||!Yu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ol(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ns(n.segments,i)&&Yu(n.segments,i,r)&&n.children[Dt])&&kl(n.children[Dt],e,u,r)}}function Yu(n,e,t){return e.every((r,i)=>Na[t](n[i].parameters,r.parameters))}class oo{constructor(e=new Bt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xs(this.queryParams)),this._queryParamMap}toString(){return Y_.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lh(this)}}class ds{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xs(this.parameters)),this._parameterMap}toString(){return Fl(this)}}function Ns(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let hs=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return new ag},providedIn:"root"})}return n})();class ag{parse(e){const t=new UI(e);return new oo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Pa(e.root,!0)}`,r=function LI(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Bh(t)}=${Bh(i)}`).join("&"):`${Bh(t)}=${Bh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ug(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Y_=new ag;function Lh(n){return n.segments.map(e=>Fl(e)).join("/")}function Pa(n,e){if(!n.hasChildren())return Lh(n);if(e){const t=n.children[Dt]?Pa(n.children[Dt],!1):"",r=[];return Object.entries(n.children).forEach(([i,u])=>{i!==Dt&&r.push(`${i}:${Pa(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Fh(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Dt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Dt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Dt?[Pa(n.children[Dt],!1)]:[`${i}:${Pa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${Lh(n)}/${t[0]}`:`${Lh(n)}/(${t.join("//")})`}}function Uh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bh(n){return Uh(n).replace(/%3B/gi,";")}function cg(n){return Uh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fs(n){return decodeURIComponent(n)}function lg(n){return fs(n.replace(/\+/g,"%20"))}function Fl(n){return`${cg(n.path)}${function $n(n){return Object.keys(n).map(e=>`;${cg(e)}=${cg(n[e])}`).join("")}(n.parameters)}`}const Fo=/^[^\/()?;#]+/;function Ll(n){const e=n.match(Fo);return e?e[0]:""}const Pr=/^[^\/()?;=#]+/,Vh=/^[^=?&#]+/,Qu=/^[^&#]+/;class UI{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Dt]=new Bt(e,t)),r}parseSegment(){const e=Ll(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(e),new ds(fs(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Lo(n){const e=n.match(Pr);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ll(this.remaining);i&&(r=i,this.capture(r))}e[fs(t)]=fs(r)}parseQueryParam(e){const t=function Ul(n){const e=n.match(Vh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Q_(n){const e=n.match(Qu);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=lg(t),u=lg(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ll(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Dt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Dt]:new Bt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,!1)}}function dg(n){return n.segments.length>0?new Bt([],{[Dt]:n}):n}function hg(n){const e={};for(const r of Object.keys(n.children)){const u=hg(n.children[r]);if(r===Dt&&0===u.segments.length&&u.hasChildren())for(const[l,f]of Object.entries(u.children))e[l]=f;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function di(n){if(1===n.numberOfChildren&&n.children[Dt]){const e=n.children[Dt];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}function ao(n){return n instanceof oo}function g(n){let e;const i=dg(function t(u){const l={};for(const m of u.children){const v=t(m);l[m.outlet]=v}const f=new Bt(u.url,l);return u===n&&(e=f),f}(n.root));return e??i}function _(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return x(i,i,i,t,r);const u=function Pe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ee(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Object.entries(u.outlets).forEach(([m,v])=>{f[m]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===l?(u.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new ee(t,e,r)}(e);if(u.toRoot())return x(i,i,new Bt([],{}),t,r);const l=function tt(n,e,t){if(n.isAbsolute)return new Le(e,!0,0);if(!t)return new Le(e,!1,NaN);if(null===t.parent)return new Le(t,!0,0);const r=w(n.commands[0])?0:1;return function kt(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new s.vHH(4005,!1);i=r.segments.length}return new Le(r,!1,i-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,i,n),f=l.processChildren?Gi(l.segmentGroup,l.index,u.commands):Rs(l.segmentGroup,l.index,u.commands);return x(i,l.segmentGroup,f,t,r)}function w(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function D(n){return"object"==typeof n&&null!=n&&n.outlets}function x(n,e,t,r,i){let l,u={};r&&Object.entries(r).forEach(([m,v])=>{u[m]=Array.isArray(v)?v.map(T=>`${T}`):`${v}`}),l=n===e?t:q(n,e,t);const f=dg(hg(l));return new oo(f,u,i)}function q(n,e,t){const r={};return Object.entries(n.children).forEach(([i,u])=>{r[i]=u===e?t:q(u,e,t)}),new Bt(n.segments,r)}class ee{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&w(r[0]))throw new s.vHH(4003,!1);const i=r.find(D);if(i&&i!==Ku(r))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Le{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Rs(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return Gi(n,e,t);const r=function fg(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const l=n.segments[i],f=t[r];if(D(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!Ju(m,v,l))return u;r+=2}else{if(!Ju(m,{},l))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Bt(n.segments.slice(0,r.pathIndex),{});return u.children[Dt]=new Bt(n.segments.slice(r.pathIndex),n.children),Gi(u,0,i)}return r.match&&0===i.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?Oa(n,e,t):r.match?Gi(n,0,i):Oa(n,e,t)}function Gi(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const r=function sr(n){return D(n[0])?n[0].outlets:{[Dt]:n}}(t),i={};if(Object.keys(r).some(u=>u!==Dt)&&n.children[Dt]&&1===n.numberOfChildren&&0===n.children[Dt].segments.length){const u=Gi(n.children[Dt],e,t);return new Bt(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[u]=Rs(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(i[u]=l)}),new Bt(n.segments,i)}}function Oa(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(D(u)){const m=Bl(u.outlets);return new Bt(r,m)}if(0===i&&w(t[0])){r.push(new ds(n.segments[e].path,ka(t[0]))),i++;continue}const l=D(u)?u.outlets[Dt]:`${u}`,f=i<t.length-1?t[i+1]:null;l&&f&&w(f)?(r.push(new ds(l,ka(f))),i+=2):(r.push(new ds(l,{})),i++)}return new Bt(r,{})}function Bl(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Oa(new Bt([],{}),0,r))}),e}function ka(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Ju(n,e,t){return n==t.path&&Hr(e,t.parameters)}const Fa="imperative";class zi{constructor(e,t){this.id=e,this.url=t}}class Wi extends zi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hi extends zi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xu extends zi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uo extends zi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ec extends zi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BI extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r2 extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hD extends zi{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fD extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pD extends zi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VI{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZI{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jI{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mD{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class J_{}class X_{constructor(e){this.url=e}}class s2{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gg,this.attachRef=null}}let gg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new s2,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class mg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$I(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=$I(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=HI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return HI(e,this._root).map(t=>t.value)}}function $I(n,e){if(n===e.value)return e;for(const t of e.children){const r=$I(n,t);if(r)return r}return null}function HI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=HI(n,t);if(r.length)return r.unshift(e),r}return[]}class La{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _D extends mg{constructor(e,t){super(e),this.snapshot=t,yg(this,e)}toString(){return this.snapshot.toString()}}function GI(n,e){const t=function _g(n,e){const l=new jh([],{},{},"",{},Dt,e,null,{});return new tc("",new La(l,[]))}(0,e),r=new ir.X([new ds("",{})]),i=new ir.X({}),u=new ir.X({}),l=new ir.X({}),f=new ir.X(""),m=new fi(r,i,l,f,u,Dt,e,t.root);return m.snapshot=t.root,new _D(new La(m,[]),t)}class fi{constructor(e,t,r,i,u,l,f,m){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=u,this.outlet=l,this.component=f,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,pt.U)(v=>v[Ma]))??(0,at.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>xs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>xs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ey(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function zI(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class jh{get title(){return this.data?.[Ma]}constructor(e,t,r,i,u,l,f,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=f,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tc extends mg{constructor(e,t){super(t),this.url=e,yg(this,t)}toString(){return ty(this._root)}}function yg(n,e){e.value._routerState=n,e.children.forEach(t=>yg(n,t))}function ty(n){const e=n.children.length>0?` { ${n.children.map(ty).join(", ")} } `:"";return`${n.value}${e}`}function Vl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Hr(e.params,t.params)||n.paramsSubject.next(t.params),function K_(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Hr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Zl(n,e){const t=Hr(n.params,e.params)&&function Ra(n,e){return Ns(n,e)&&n.every((t,r)=>Hr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zl(n.parent,e.parent))}let jl=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dt,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(gg),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb),this.inputBinder=(0,s.f3M)(vg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new s.vHH(4013,!1);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new yD(t,f,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]})}return n})();class yD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===fi?this.route:e===gg?this.childContexts:this.parent.get(e,t)}}const vg=new s.OlP("");let WI=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Ml([r.queryParams,r.params,r.data]).pipe((0,bn.w)(([u,l,f],m)=>(f={...u,...l,...f},0===m?(0,at.of)(f):Promise.resolve(f)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,s.qFp)(r.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,u[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();function nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function vD(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nc(n,r,i);return nc(n,r)})}(n,e,t);return new La(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>nc(n,f)),l}}const r=function ED(n){return new fi(new ir.X(n.url),new ir.X(n.params),new ir.X(n.queryParams),new ir.X(n.fragment),new ir.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>nc(n,u));return new La(r,i)}}const ny="ngNavigationCancelingError";function ry(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ao(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function YI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ny]=!0,r.cancellationCode=e,t&&(r.url=t),r}function pi(n){return n&&n[ny]}let Eg=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(r,i){1&r&&s._UZ(0,"router-outlet")},dependencies:[jl],encapsulation:2})}return n})();function wg(n){const e=n.children&&n.children.map(wg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=Eg),t}function Ps(n){return n.outlet||Dt}function qh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class sy{constructor(e,t,r,i,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Vl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Zh(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,i[l],r),delete i[l]}),Object.values(i).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Zh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Zh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Zh(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new jI(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ZI(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Vl(i),i===u)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Vl(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=qh(i.snapshot);l.attachRef=null,l.route=i,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class nw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ua{constructor(e,t){this.component=e,this.route=t}}function TD(n,e,t){const r=n._root;return ql(r,e?e._root:null,t,[r.value])}function rc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,s.Z0I)(n)?e.get(n):n:r}function ql(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Zh(e);return n.children.forEach(l=>{(function rw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const m=function $l(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ns(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(n.url,e.url)||!Hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zl(n,e)||!Hr(n.queryParams,e.queryParams);default:return!Zl(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new nw(r)):(u.data=l.data,u._resolvedData=l._resolvedData),ql(n,e,u.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Ua(f.outlet.component,l))}else l&&Ba(e,f,i),i.canActivateChecks.push(new nw(r)),ql(n,null,u.component?f?f.children:null:t,r,i)})(l,u[l.value.outlet],t,r.concat([l.value]),i),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,f])=>Ba(f,t.getContext(l),i)),i}function Ba(n,e,t){const r=Zh(n),i=n.value;Object.entries(r).forEach(([u,l])=>{Ba(l,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ua(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Hl(n){return"function"==typeof n}function ay(n){return n instanceof Ds||"EmptyError"===n?.name}const ic=Symbol("INITIAL_VALUE");function Va(){return(0,bn.w)(n=>Ml(n.map(e=>e.pipe(Hu(1),function FI(...n){const e=(0,Aa.yG)(n);return(0,ci.e)((t,r)=>{(e?Zu(n,t,e):Zu(n,t)).subscribe(r)})}(ic)))).pipe((0,pt.U)(e=>{for(const t of e)if(!0!==t){if(t===ic)return ic;if(!1===t||t instanceof oo)return t}return!0}),$r(e=>e!==ic),Hu(1)))}function OD(n){return(0,Ph.z)(Nn(e=>{if(ao(e))throw ry(0,e)}),(0,pt.U)(e=>!0===e))}class bg{constructor(e){this.segmentGroup=e||null}}class ly{constructor(e){this.urlTree=e}}function oc(n){return Mi(new bg(n))}function dy(n){return Mi(new ly(n))}class Ag{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new s.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,at.of)(r);if(i.numberOfChildren>1||!i.children[Dt])return Mi(new s.vHH(4e3,!1));i=i.children[Dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new oo(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,u])=>{if("string"==typeof u&&u.startsWith(":")){const f=u.substring(1);r[i]=t[f]}else r[i]=u}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let l={};return Object.entries(t.children).forEach(([f,m])=>{l[f]=this.createSegmentGroup(e,m,r,i)}),new Bt(u,l)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new s.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const ac={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uw(n,e,t,r,i){const u=$h(n,e,t);return u.matched?(r=function QI(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Tg(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,at.of)(!0);const u=i.map(l=>{const f=rc(l,n);return Ms(function xD(n){return n&&Hl(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,at.of)(u).pipe(Va(),OD())}(r,e,t).pipe((0,pt.U)(l=>!0===l?u:{...ac}))):(0,at.of)(u)}function $h(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ac}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ng)(t,n,e);if(!i)return{...ac};const u={};Object.entries(i.posParams??{}).forEach(([f,m])=>{u[f]=m.path});const l=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Hh(n,e,t,r){return t.length>0&&function Gh(n,e,t){return t.some(r=>zh(n,e,r)&&Ps(r)!==Dt)}(n,t,r)?{segmentGroup:new Bt(e,fy(r,new Bt(t,n.children))),slicedSegments:[]}:0===t.length&&function kD(n,e,t){return t.some(r=>zh(n,e,r))}(n,t,r)?{segmentGroup:new Bt(n.segments,cw(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Bt(n.segments,n.children),slicedSegments:t}}function cw(n,e,t,r,i){const u={};for(const l of r)if(zh(n,t,l)&&!i[Ps(l)]){const f=new Bt([],{});u[Ps(l)]=f}return{...i,...u}}function fy(n,e){const t={};t[Dt]=e;for(const r of n)if(""===r.path&&Ps(r)!==Dt){const i=new Bt([],{});t[Ps(r)]=i}return t}function zh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class lw{constructor(e,t,r,i,u,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new Ag(this.urlSerializer,this.urlTree)}noMatchError(e){return new s.vHH(4002,!1)}recognize(){const e=Hh(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Dt).pipe(Ss(t=>{if(t instanceof ly)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof bg?this.noMatchError(t):t}),(0,pt.U)(t=>{const r=new jh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dt,this.rootComponentType,null,{}),i=new La(r,t),u=new tc("",i),l=function I(n,e,t=null,r=null){return _(g(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Dt).pipe(Ss(r=>{throw r instanceof bg?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=ey(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Tn.D)(i).pipe(ko(u=>{const l=r.children[u],f=function tw(n,e){const t=n.filter(r=>Ps(r)===e);return t.push(...n.filter(r=>Ps(r)!==e)),t}(t,u);return this.processSegmentGroup(e,f,l,u)}),function ls(n,e){return(0,ci.e)(function kh(n,e,t,r,i){return(u,l)=>{let f=t,m=e,v=0;u.subscribe((0,ui.x)(l,T=>{const A=v++;m=f?n(m,T,A):(f=!0,T),r&&l.next(m)},i&&(()=>{f&&l.next(m),l.complete()})))}}(n,e,arguments.length>=2,!0))}((u,l)=>(u.push(...l),u)),Nl(null),function Gu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$r((i,u)=>n(i,u,r)):Po.y,Rl(1),t?Nl(e):io(()=>new Ds))}(),(0,qn.z)(u=>{if(null===u)return oc(r);const l=Sg(u);return function dw(n){n.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,at.of)(l)}))}processSegment(e,t,r,i,u,l){return(0,Tn.D)(t).pipe(ko(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,r,i,u,l).pipe(Ss(m=>{if(m instanceof bg)return(0,at.of)(null);throw m}))),li(f=>!!f),Ss(f=>{if(ay(f))return function LD(n,e,t){return 0===e.length&&!n.children[t]}(r,i,u)?(0,at.of)([]):oc(r);throw f}))}processSegmentAgainstRoute(e,t,r,i,u,l,f){return function FD(n,e,t,r){return!!(Ps(n)===r||r!==Dt&&zh(e,t,n))&&("**"===n.path||$h(e,n,t).matched)}(r,i,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,u,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,u,l):oc(i):oc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dy(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,qn.z)(l=>{const f=new Bt(l,{});return this.processSegment(e,t,f,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:T}=$h(t,i,u);if(!f)return oc(t);const A=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,T);return i.redirectTo.startsWith("/")?dy(A):this.applyRedirects.lineralizeSegments(i,A).pipe((0,qn.z)(M=>this.processSegment(e,r,t,M.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,u,l){let f;if("**"===r.path){const m=i.length>0?Ku(i).parameters:{},v=new jh(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hw(r),Ps(r),r.component??r._loadedComponent??null,r,fw(r));f=(0,at.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=uw(t,r,i,e).pipe((0,pt.U)(({matched:m,consumedSegments:v,remainingSegments:T,parameters:A})=>m?{snapshot:new jh(v,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hw(r),Ps(r),r.component??r._loadedComponent??null,r,fw(r)),consumedSegments:v,remainingSegments:T}:null));return f.pipe((0,bn.w)(m=>null===m?oc(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,bn.w)(({routes:v})=>{const T=r._loadedInjector??e,{snapshot:A,consumedSegments:M,remainingSegments:O}=m,{segmentGroup:j,slicedSegments:G}=Hh(t,M,O,v);if(0===G.length&&j.hasChildren())return this.processChildren(T,v,j).pipe((0,pt.U)(Ce=>null===Ce?null:[new La(A,Ce)]));if(0===v.length&&0===G.length)return(0,at.of)([new La(A,[])]);const X=Ps(r)===u;return this.processSegment(T,v,j,G,X?Dt:u,!0).pipe((0,pt.U)(Ce=>[new La(A,Ce)]))}))))}getChildConfig(e,t,r){return t.children?(0,at.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,at.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function PD(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,at.of)(!0);const u=i.map(l=>{const f=rc(l,n);return Ms(function Cg(n){return n&&Hl(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,at.of)(u).pipe(Va(),OD())}(e,t,r).pipe((0,qn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Nn(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function aw(n){return Mi(YI(!1,3))}())):(0,at.of)({routes:[],injector:e})}}function Dg(n){const e=n.value.routeConfig;return e&&""===e.path}function Sg(n){const e=[],t=new Set;for(const r of n){if(!Dg(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Sg(r.children);e.push(new La(r.value,i))}return e.filter(r=>!t.has(r))}function hw(n){return n.data||{}}function fw(n){return n.resolve||{}}function Mg(n){return"string"==typeof n.title||null===n.title}function Ng(n){return(0,bn.w)(e=>{const t=n(e);return t?(0,Tn.D)(t).pipe((0,pt.U)(()=>e)):(0,at.of)(e)})}const uc=new s.OlP("ROUTES");let Rg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,at.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ms(t.loadComponent()).pipe((0,pt.U)(pw),Nn(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),xa(()=>{this.componentLoaders.delete(t)})),i=new W_(r,()=>new cs.x).pipe(Sa());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,at.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function cc(n,e,t,r){return Ms(n.loadChildren()).pipe((0,pt.U)(pw),(0,qn.z)(i=>i instanceof s.YKP||Array.isArray(i)?(0,at.of)(i):(0,Tn.D)(e.compileModuleAsync(i))),(0,pt.U)(i=>{r&&r(n);let u,l,f=!1;return Array.isArray(i)?(l=i,!0):(u=i.create(t).injector,l=u.get(uc,[],{optional:!0,self:!0}).flat()),{routes:l.map(wg),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(xa(()=>{this.childrenLoaders.delete(r)})),l=new W_(u,()=>new cs.x).pipe(Sa());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pw(n){return function ZD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Pg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new cs.x,this.transitionAbortSubject=new cs.x,this.configLoader=(0,s.f3M)(Rg),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(hs),this.rootContexts=(0,s.f3M)(gg),this.inputBindingEnabled=null!==(0,s.f3M)(vg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,at.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new VI(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new pg(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new ir.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($r(u=>0!==u.id),(0,pt.U)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,bn.w)(u=>{this.currentTransition=u;let l=!1,f=!1;return(0,at.of)(u).pipe(Nn(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,bn.w)(m=>{const v=m.currentBrowserUrl.toString(),T=!t.navigated||m.extractedUrl.toString()!==v||v!==m.currentUrlTree.toString();if(!T&&"reload"!==(m.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new Uo(m.id,this.urlSerializer.serialize(m.rawUrl),M,0)),m.resolve(null),Ni.E}if(t.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,at.of)(m).pipe((0,bn.w)(M=>{const O=this.transitions?.getValue();return this.events.next(new Wi(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),O!==this.transitions?.getValue()?Ni.E:Promise.resolve(M)}),function c2(n,e,t,r,i,u){return(0,qn.z)(l=>function UD(n,e,t,r,i,u,l="emptyOnly"){return new lw(n,e,t,r,i,l,u).recognize()}(n,e,t,r,l.extractedUrl,i,u).pipe((0,pt.U)(({state:f,tree:m})=>({...l,targetSnapshot:f,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Nn(M=>{u.targetSnapshot=M.targetSnapshot,u.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects};const O=new BI(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(O)}));if(T&&t.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:M,extractedUrl:O,source:j,restoredState:G,extras:X}=m,Ce=new Wi(M,this.urlSerializer.serialize(O),j,G);this.events.next(Ce);const Fe=GI(0,this.rootComponentType).snapshot;return this.currentTransition=u={...m,targetSnapshot:Fe,urlAfterRedirects:O,extras:{...X,skipLocationChange:!1,replaceUrl:!1}},(0,at.of)(u)}{const M="";return this.events.next(new Uo(m.id,this.urlSerializer.serialize(m.extractedUrl),M,1)),m.resolve(null),Ni.E}}),Nn(m=>{const v=new r2(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),(0,pt.U)(m=>(this.currentTransition=u={...m,guards:TD(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},u)),function uy(n,e){return(0,qn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,at.of)({...t,guardsResult:!0}):function ND(n,e,t,r){return(0,Tn.D)(n).pipe((0,qn.z)(i=>function ow(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,at.of)(!0);const l=u.map(f=>{const m=qh(e)??i,v=rc(f,m);return Ms(function SD(n){return n&&Hl(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(li())});return(0,at.of)(l).pipe(Va())}(i.component,i.route,t,e,r)),li(i=>!0!==i,!0))}(l,r,i,n).pipe((0,qn.z)(f=>f&&function oy(n){return"boolean"==typeof n}(f)?function RD(n,e,t,r){return(0,Tn.D)(e).pipe(ko(i=>Zu(function iw(n,e){return null!==n&&e&&e(new gD(n)),(0,at.of)(!0)}(i.route.parent,r),function cy(n,e){return null!==n&&e&&e(new i2(n)),(0,at.of)(!0)}(i.route,r),function sw(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function bD(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>qu(()=>{const f=l.guards.map(m=>{const v=qh(l.node)??t,T=rc(m,v);return Ms(function DD(n){return n&&Hl(n.canActivateChild)}(T)?T.canActivateChild(r,n):v.runInContext(()=>T(r,n))).pipe(li())});return(0,at.of)(f).pipe(Va())}));return(0,at.of)(u).pipe(Va())}(n,i.path,t),function sc(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,at.of)(!0);const i=r.map(u=>qu(()=>{const l=qh(e)??t,f=rc(u,l);return Ms(function AD(n){return n&&Hl(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(li())}));return(0,at.of)(i).pipe(Va())}(n,i.route,t))),li(i=>!0!==i,!0))}(r,u,n,e):(0,at.of)(f)),(0,pt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,m=>this.events.next(m)),Nn(m=>{if(u.guardsResult=m.guardsResult,ao(m.guardsResult))throw ry(0,m.guardsResult);const v=new hD(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(v)}),$r(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),Ng(m=>{if(m.guards.canActivateChecks.length)return(0,at.of)(m).pipe(Nn(v=>{const T=new fD(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(T)}),(0,bn.w)(v=>{let T=!1;return(0,at.of)(v).pipe(function BD(n,e){return(0,qn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,at.of)(t);let u=0;return(0,Tn.D)(i).pipe(ko(l=>function py(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Mg(i)&&(u[Ma]=i.title),function VD(n,e,t,r){const i=function Gl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,at.of)({});const u={};return(0,Tn.D)(i).pipe((0,qn.z)(l=>function xg(n,e,t,r){const i=qh(e)??r,u=rc(n,i);return Ms(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(li(),Nn(f=>{u[l]=f}))),Rl(1),function Pl(n){return(0,pt.U)(()=>n)}(u),Ss(l=>ay(l)?Ni.E:Mi(l)))}(u,n,e,r).pipe((0,pt.U)(l=>(n._resolvedData=l,n.data=ey(n,t).resolve,i&&Mg(i)&&(n.data[Ma]=i.title),null)))}(l.route,r,n,e)),Nn(()=>u++),Rl(1),(0,qn.z)(l=>u===i.length?(0,at.of)(t):Ni.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Nn({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(v,"",2)}}))}),Nn(v=>{const T=new pD(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(T)}))}),Ng(m=>{const v=T=>{const A=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(T.routeConfig).pipe(Nn(M=>{T.component=M}),(0,pt.U)(()=>{})));for(const M of T.children)A.push(...v(M));return A};return Ml(v(m.targetSnapshot.root)).pipe(Nl(),Hu(1))}),Ng(()=>this.afterPreactivation()),(0,pt.U)(m=>{const v=function KI(n,e,t){const r=nc(n,e._root,t?t._root:void 0);return new _D(r,e)}(t.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=u={...m,targetRouterState:v},u}),Nn(()=>{this.events.next(new J_)}),((n,e,t,r)=>(0,pt.U)(i=>(new sy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Hu(1),Nn({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hi(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),t.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),function Wu(n){return(0,ci.e)((e,t)=>{(0,ju.Xf)(n).subscribe((0,ui.x)(t,()=>t.complete(),zu.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Nn(m=>{throw m}))),xa(()=>{l||f||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Ss(m=>{if(f=!0,pi(m))this.events.next(new Xu(u.id,this.urlSerializer.serialize(u.extractedUrl),m.message,m.cancellationCode)),function ID(n){return pi(n)&&ao(n.url)}(m)?this.events.next(new X_(m.url)):u.resolve(!1);else{this.events.next(new ec(u.id,this.urlSerializer.serialize(u.extractedUrl),m,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(m))}catch(v){u.reject(v)}}return Ni.E}))}))}cancelNavigationTransition(t,r,i){const u=new Xu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gw(n){return n!==Fa}let mw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Dt);return r}getResolvedTitleForRoute(t){return t.data[Ma]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Bo)},providedIn:"root"})}return n})(),Bo=(()=>{class n extends mw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(wl))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(qD)},providedIn:"root"})}return n})();class jD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let qD=(()=>{class n extends jD{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Og=new s.OlP("",{providedIn:"root",factory:()=>({})});let $D=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(HD)},providedIn:"root"})}return n})(),HD=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Kh||{});function gy(n,e){n.events.pipe($r(t=>t instanceof hi||t instanceof Xu||t instanceof ec||t instanceof Uo),(0,pt.U)(t=>t instanceof hi||t instanceof Uo?Kh.COMPLETE:t instanceof Xu&&(0===t.code||1===t.code)?Kh.REDIRECTING:Kh.FAILED),$r(t=>t!==Kh.REDIRECTING),Hu(1)).subscribe(()=>{e()})}function GD(n){throw n}function zD(n,e,t){return e.parse("/")}const WD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let In=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this._events=new cs.x,this.options=(0,s.f3M)(Og,{optional:!0})||{},this.pendingTasks=(0,s.f3M)(s.HDt),this.errorHandler=this.options.errorHandler||GD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)($D),this.routeReuseStrategy=(0,s.f3M)(zl),this.titleStrategy=(0,s.f3M)(mw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,s.f3M)(uc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,s.f3M)(Pg),this.urlSerializer=(0,s.f3M)(hs),this.location=(0,s.f3M)(xe),this.componentInputBindingEnabled=!!(0,s.f3M)(vg,{optional:!0}),this.eventsSubscription=new $u.w0,this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new oo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GI(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Wl(r)&&this._events.next(r));if(r instanceof Wi)gw(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Uo)this.rawUrlTree=i.rawUrl;else if(r instanceof BI){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(u,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof J_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Xu)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof X_){const u=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gw(i.source)};this.scheduleNavigation(u,Fa,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof ec&&this.restoreHistory(i,!0),r instanceof hi&&(this.navigated=!0),Wl(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fa,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(u.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(wg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:l,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:l;let A,T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}null!==T&&(T=this.removeEmptyProps(T));try{A=g(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),A=this.currentUrlTree.root}return _(A,t,T,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ao(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,Fa,null,r)}navigate(t,r={skipLocationChange:!1}){return function Vo(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new s.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...WD}:!1===r?{...KD}:r,ao(t))return ig(this.currentUrlTree,t,i);const u=this.parseUrl(t);return ig(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,l){if(this.disposed)return Promise.resolve(!1);let f,m,v;l?(f=l.resolve,m=l.reject,v=l.promise):v=new Promise((A,M)=>{f=A,m=M});const T=this.pendingTasks.add();return gy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wl(n){return!(n instanceof J_||n instanceof X_)}let Ki=(()=>{class n{constructor(t,r,i,u,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new cs.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof hi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(In),s.Y36(fi),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Oe))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&s.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",s.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",s.VuI],replaceUrl:["replaceUrl","replaceUrl",s.VuI],routerLink:"routerLink"},standalone:!0,features:[s.Xq5,s.TTD]})}return n})();class YD{}let my=(()=>{class n{constructor(t,r,i,u,l){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe($r(t=>t instanceof hi),ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,s.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,f=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,Tn.D)(i).pipe((0,no.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,at.of)(null);const u=i.pipe((0,qn.z)(l=>null===l?(0,at.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Tn.D)([u,l]).pipe((0,no.J)())}return u})}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(In),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(YD),s.LFG(Rg))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Yh=new s.OlP("");let QD=(()=>{class n{constructor(t,r,i,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Uo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mD&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mD(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){s.$Z()};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();function Zo(n,e){return{\u0275kind:n,\u0275providers:e}}function Qh(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const r=n.get(In),i=n.get(yy);1===n.get(Jh)&&r.initialNavigation(),n.get(vw,null,s.XFs.Optional)?.setUpPreloading(),n.get(Yh,null,s.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const yy=new s.OlP("",{factory:()=>new cs.x}),Jh=new s.OlP("",{providedIn:"root",factory:()=>1}),vw=new s.OlP("");function vy(n){return Zo(0,[{provide:vw,useExisting:my},{provide:YD,useExisting:n}])}const Ey=new s.OlP("ROUTER_FORROOT_GUARD"),m2=[xe,{provide:hs,useClass:ag},In,gg,{provide:fi,useFactory:function _y(n){return n.routerState.root},deps:[In]},Rg,[]];function _2(){return new s.PXZ("Router",In)}let jo=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[m2,[],{provide:uc,multi:!0,useValue:t},{provide:Ey,useFactory:Iy,deps:[[In,new s.FiY,new s.tp0]]},{provide:Og,useValue:r||{}},r?.useHash?{provide:Oe,useClass:Be}:{provide:Oe,useClass:Qe},{provide:Yh,useFactory:()=>{const n=(0,s.f3M)(So),e=(0,s.f3M)(s.R0b),t=(0,s.f3M)(Og),r=(0,s.f3M)(Pg),i=(0,s.f3M)(hs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QD(i,r,n,e,t)}},r?.preloadingStrategy?vy(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:_2},r?.initialNavigation?wy(r):[],r?.bindToComponentInputs?Zo(8,[WI,{provide:vg,useExisting:WI}]).\u0275providers:[],[{provide:Cw,useFactory:Qh},{provide:s.tb,multi:!0,useExisting:Cw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:uc,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Ey,8))};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({})}return n})();function Iy(n){return"guarded"}function wy(n){return["disabled"===n.initialNavigation?Zo(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(In);return()=>{e.setUpLocationChangeListener()}}},{provide:Jh,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zo(2,[{provide:Jh,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const t=e.get(Ue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(In),u=e.get(yy);gy(i,()=>{r(!0)}),e.get(Pg).afterPreactivation=()=>(r(!0),u.closed?(0,at.of)(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const Cw=new s.OlP("");let Ty=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.Qsj),s.Y36(s.SBq))};static#t=this.\u0275dir=s.lG2({type:n})}return n})(),Yi=(()=>{class n extends Ty{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,features:[s.qOj]})}return n})();const uo=new s.OlP("NgValueAccessor"),by={provide:uo,useExisting:(0,s.Gpc)(()=>dc),multi:!0};let dc=(()=>{class n extends Yi{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&s.NdJ("change",function(l){return i.onChange(l.target.checked)})("blur",function(){return i.onTouched()})},features:[s._Bn([by]),s.qOj]})}return n})();const r1={provide:uo,useExisting:(0,s.Gpc)(()=>Hn),multi:!0},kg=new s.OlP("CompositionEventMode");let Hn=(()=>{class n extends Ty{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ay(){const n=ie()?ie().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(kg,8))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&s.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[s._Bn([r1]),s.qOj]})}return n})();function Qi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Fg(n){return null!=n&&"number"==typeof n.length}const Gr=new s.OlP("NgValidators"),Za=new s.OlP("NgAsyncValidators"),Sw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ke{static min(e){return function xw(n){return e=>{if(Qi(e.value)||Qi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Mw(n){return e=>{if(Qi(e.value)||Qi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Nw(e)}static requiredTrue(e){return function Lg(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Dy(n){return Qi(n.value)||Sw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Rw(n){return e=>Qi(e.value)||!Fg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Sy(n){return e=>Fg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Ug(n){if(!n)return xy;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Qi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Fw(e)}static composeAsync(e){return Bg(e)}}function Nw(n){return Qi(n.value)?{required:!0}:null}function xy(n){return null}function Pw(n){return null!=n}function Ow(n){return(0,s.QGY)(n)?(0,Tn.D)(n):n}function kw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function i1(n,e){return e.map(t=>t(n))}function ef(n){return n.map(e=>function v2(n){return!n.validate}(e)?e:t=>e.validate(t))}function Fw(n){if(!n)return null;const e=n.filter(Pw);return 0==e.length?null:function(t){return kw(i1(t,e))}}function tf(n){return null!=n?Fw(ef(n)):null}function Bg(n){if(!n)return null;const e=n.filter(Pw);return 0==e.length?null:function(t){return function Dw(...n){const e=(0,Aa.jO)(n),{args:t,keys:r}=Dl(n),i=new rr.y(u=>{const{length:l}=t;if(!l)return void u.complete();const f=new Array(l);let m=l,v=l;for(let T=0;T<l;T++){let A=!1;(0,ju.Xf)(t[T]).subscribe((0,ui.x)(u,M=>{A||(A=!0,v--),f[T]=M},()=>m--,void 0,()=>{(!m||!A)&&(v||u.next(r?eg(r,f):f),u.complete())}))}});return e?i.pipe(Sl(e)):i}(i1(t,e).map(Ow)).pipe((0,pt.U)(kw))}}function ja(n){return null!=n?Bg(ef(n)):null}function Vg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zg(n){return n._rawValidators}function Kl(n){return n._rawAsyncValidators}function Yl(n){return n?Array.isArray(n)?n:[n]:[]}function qo(n,e){return Array.isArray(n)?n.includes(e):n===e}function jg(n,e){const t=Yl(e);return Yl(n).forEach(i=>{qo(t,i)||t.push(i)}),t}function qg(n,e){return Yl(e).filter(t=>!qo(n,t))}class nf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ja(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ri extends nf{get formDirective(){return null}get path(){return null}}class co extends nf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ql{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lo=(()=>{class n extends Ql{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(co,2))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]})}return n})(),ho=(()=>{class n extends Ql{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Ri,10))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]})}return n})();const af="VALID",hc="INVALID",Jl="PENDING",fo="DISABLED";function fc(n){return(Hg(n)?n.validators:n)||null}function $g(n,e){return(Hg(e)?e.asyncValidators:n)||null}function Hg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Bw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new s.vHH(1e3,"");if(!r[t])throw new s.vHH(1001,"")}function Oy(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new s.vHH(1002,"")})}class uf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===af}get invalid(){return this.status===hc}get pending(){return this.status==Jl}get disabled(){return this.status===fo}get enabled(){return this.status!==fo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qg(e,this._rawAsyncValidators))}hasValidator(e){return qo(this._rawValidators,e)}hasAsyncValidator(e){return qo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Jl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fo,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=af,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===af||this.status===Jl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fo:af}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Jl,this._hasOwnPendingAsyncValidator=!0;const t=Ow(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?fo:this.errors?hc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jl)?Jl:this._anyControlsHaveStatus(hc)?hc:af}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function l1(n){return Array.isArray(n)?tf(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function d1(n){return Array.isArray(n)?ja(n):n||null}(this._rawAsyncValidators)}}class pc extends uf{constructor(e,t,r){super(fc(t),$g(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Oy(this,0,e),Object.keys(e).forEach(r=>{Bw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ky extends pc{}const gc=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xl}),Xl="always";function Gg(n,e){return[...e.path,n]}function ed(n,e,t=Xl){Kg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Os(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&h1(n,e)})}(n,e),function Fy(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Zw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&h1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function A2(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),cf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Wg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kg(n,e){const t=Zg(n);null!==e.validator?n.setValidators(Vg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Kl(n);null!==e.asyncValidator?n.setAsyncValidators(Vg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Wg(e._rawValidators,i),Wg(e._rawAsyncValidators,i)}function cf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Zg(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=Kl(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(l=>l!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Wg(e._rawValidators,r),Wg(e._rawAsyncValidators,r),t}function h1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function By(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Vy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Go=class extends uf{constructor(e=null,t,r){super(fc(t),$g(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Vy(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){By(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){By(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Vy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Hw=(()=>{class n extends Ri{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Gg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,features:[s.qOj]})}return n})(),ks=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const jy={provide:uo,useExisting:(0,s.Gpc)(()=>Fs),multi:!0};let Fs=(()=>{class n extends Yi{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&s.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([jy]),s.qOj]})}return n})(),qy=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({})}return n})();const Jg=new s.OlP("NgModelWithFormControlWarning"),R2={provide:Ri,useExisting:(0,s.Gpc)(()=>Ls)};let Ls=(()=>{class n extends Ri{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ed(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zg(t.control||null,t,!1),function g1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function p1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(zg(r||null,t),(n=>n instanceof Go)(i)&&(ed(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function $o(n,e){Kg(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ly(n,e){return cf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kg(this.form,this),this._oldForm&&cf(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Gr,10),s.Y36(Za,10),s.Y36(gc,8))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&s.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([R2]),s.qOj,s.TTD]})}return n})();const Yw={provide:Ri,useExisting:(0,s.Gpc)(()=>qa)};let qa=(()=>{class n extends Hw{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){$y(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Ri,13),s.Y36(Gr,10),s.Y36(Za,10))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s._Bn([Yw]),s.qOj]})}return n})();const P2={provide:Ri,useExisting:(0,s.Gpc)(()=>po)};let po=(()=>{class n extends Ri{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Gg(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$y(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Ri,13),s.Y36(Gr,10),s.Y36(Za,10))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s._Bn([P2]),s.qOj]})}return n})();function $y(n){return!(n instanceof qa||n instanceof Ls||n instanceof po)}const Qw={provide:co,useExisting:(0,s.Gpc)(()=>Us)};let Us=(()=>{class n extends co{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Jn(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Hn?t=u:function f1(n){return Object.getPrototypeOf(n.constructor)===Yi}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function Yg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Gg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(s.Y36(Ri,13),s.Y36(Gr,10),s.Y36(Za,10),s.Y36(uo,10),s.Y36(Jg,8))};static#n=this.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Qw]),s.qOj,s.TTD]})}return n})();const Jw={provide:uo,useExisting:(0,s.Gpc)(()=>go),multi:!0};function Hy(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let go=(()=>{class n extends Yi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Hy(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function St(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&s.NdJ("change",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([Jw]),s.qOj]})}return n})(),$a=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Hy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(go,9))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const td={provide:uo,useExisting:(0,s.Gpc)(()=>Ha),multi:!0};function Gy(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ha=(()=>{class n extends Yi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,l)=>{u._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const l=u;for(let f=0;f<l.length;f++){const v=this._getOptionValue(l[f].value);i.push(v)}}else{const l=r.options;for(let f=0;f<l.length;f++){const m=l[f];if(m.selected){const v=this._getOptionValue(m.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function C1(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&s.NdJ("change",function(l){return i.onChange(l.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([td]),s.qOj]})}return n})(),Wo=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Gy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Gy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Ha,9))};static#t=this.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),Ko=(()=>{class n{constructor(){this._validator=xy}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=s.lG2({type:n,features:[s.TTD]})}return n})();const T1={provide:Gr,useExisting:(0,s.Gpc)(()=>tm),multi:!0};let tm=(()=>{class n extends Ko{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.VuI,this.createValidator=t=>Nw}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}();static#t=this.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([T1]),s.qOj]})}return n})(),x1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[qy]})}return n})();class nm extends uf{constructor(e,t,r){super(fc(t),$g(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Oy(this,0,e),e.forEach((r,i)=>{Bw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function iC(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Yo=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return iC(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new pc(i,u)}record(t,r=null){const i=this._reduceControls(t);return new ky(i,r)}control(t,r,i){let u={};return this.useNonNullable?(iC(r)?u=r:(u.validators=r,u.asyncValidators=i),new Go(t,{...u,nonNullable:!0})):new Go(t,r,i)}array(t,r,i){const u=t.map(l=>this._createControl(l));return new nm(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Go||t instanceof uf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gc,useValue:t.callSetDisabledState??Xl}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[x1]})}return n})(),Xy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jg,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gc,useValue:t.callSetDisabledState??Xl}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[x1]})}return n})();var mi=P(7592);(0,mi.registerVersion)("firebase","9.23.0","app");var R=P(5861),gn=P(4537),zr=P(7879),_e=P(9058),sC=P(1878);class O1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function oC(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const rm="@firebase/app",Qo=new zr.Yd("@firebase/app"),Ga="[DEFAULT]",j1={[rm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},za=new Map,gf=new Map;function q1(n,e){try{n.container.addComponent(e)}catch(t){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mr(n){const e=n.name;if(gf.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;gf.set(e,n);for(const t of za.values())q1(t,n);return!0}function mf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Xo=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class H1{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}}const rd="10.5.2";function _C(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ga,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Xo.create("bad-app-name",{appName:String(i)});if(t||(t=(0,_e.aH)()),!t)throw Xo.create("no-options");const u=za.get(i);if(u){if((0,_e.vZ)(t,u.options)&&(0,_e.vZ)(r,u.config))return u;throw Xo.create("duplicate-app",{appName:i})}const l=new gn.H0(i);for(const m of gf.values())l.addComponent(m);const f=new H1(t,r,l);return za.set(i,f),f}function _i(n,e,t){var r;let i=null!==(r=j1[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const u=i.match(/\s|\//),l=e.match(/\s|\//);if(u||l){const f=[`Unable to register library "${i}" with version "${e}":`];return u&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),u&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Qo.warn(f.join(" "))}mr(new gn.wA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const G1="firebase-heartbeat-database",z1=1,_f="firebase-heartbeat-store";let nv=null;function rv(){return nv||(nv=(0,sC.X3)(G1,z1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(_f)}}).catch(n=>{throw Xo.create("idb-open",{originalErrorMessage:n.message})})),nv}function iv(){return(iv=(0,R.Z)(function*(n){try{return yield(yield rv()).transaction(_f).objectStore(_f).get(sv(n))}catch(e){if(e instanceof _e.ZR)Qo.warn(e.message);else{const t=Xo.create("idb-get",{originalErrorMessage:e?.message});Qo.warn(t.message)}}})).apply(this,arguments)}function W1(n,e){return om.apply(this,arguments)}function om(){return(om=(0,R.Z)(function*(n,e){try{const r=(yield rv()).transaction(_f,"readwrite");yield r.objectStore(_f).put(e,sv(n)),yield r.done}catch(t){if(t instanceof _e.ZR)Qo.warn(t.message);else{const r=Xo.create("idb-set",{originalErrorMessage:t?.message});Qo.warn(r.message)}}})).apply(this,arguments)}function sv(n){return`${n.name}!${n.options.appId}`}class K1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Y1(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,R.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IC();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(u=>u.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(u=>{const l=new Date(u.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,R.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=IC(),{heartbeatsToSend:r,unsentEntries:i}=function ov(n,e=1024){const t=[];let r=n.slice();for(const i of n){const u=t.find(l=>l.agent===i.agent);if(u){if(u.dates.push(i.date),Bs(t)>e){u.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Bs(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),u=(0,_e.L)(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),u})()}}function IC(){return(new Date).toISOString().substring(0,10)}class Y1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,R.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function EC(n){return iv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,R.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return W1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,R.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return W1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}})()}}function Bs(n){return(0,_e.L)(JSON.stringify({version:2,heartbeats:n})).length}!function yf(n){mr(new gn.wA("platform-logger",e=>new O1(e),"PRIVATE")),mr(new gn.wA("heartbeat",e=>new K1(e),"PRIVATE")),_i(rm,"0.9.22",n),_i(rm,"0.9.22","esm2017"),_i("fire-js","")}("");const Wr=(n,e)=>e.some(t=>n instanceof t);let Wa,vf;const _c=new WeakMap,Ka=new WeakMap,yc=new WeakMap,Ya=new WeakMap,Qa=new WeakMap;let Ja={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Ka.get(n);if("objectStoreNames"===e)return n.objectStoreNames||yc.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ea(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function CC(n){return"function"==typeof n?function wC(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function av(){return vf||(vf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(um(this),e),ea(_c.get(this))}:function(...e){return ea(n.apply(um(this),e))}:function(e,...t){const r=n.call(um(this),e,...t);return yc.set(r,e.sort?e.sort():[e]),ea(r)}}(n):(n instanceof IDBTransaction&&function od(n){if(Ka.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});Ka.set(n,e)}(n),Wr(n,function gs(){return Wa||(Wa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ja):n)}function ea(n){if(n instanceof IDBRequest)return function sd(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(ea(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&_c.set(t,n)}).catch(()=>{}),Qa.set(e,n),e}(n);if(Ya.has(n))return Ya.get(n);const e=CC(n);return e!==n&&(Ya.set(n,e),Qa.set(e,n)),e}const um=n=>Qa.get(n),bC=["get","getKey","getAll","getAllKeys","count"],AC=["put","add","delete","clear"],cm=new Map;function lm(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(cm.get(e))return cm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=AC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!bC.includes(t))return;const u=function(){var l=(0,R.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let T=v.store;return r&&(T=T.index(m.shift())),(yield Promise.all([T[t](...m),i&&v.done]))[0]});return function(m){return l.apply(this,arguments)}}();return cm.set(e,u),u}!function ad(n){Ja=n(Ja)}(n=>({...n,get:(e,t,r)=>lm(e,t)||n.get(e,t,r),has:(e,t)=>!!lm(e,t)||n.has(e,t)}));const DC="@firebase/installations",SC="0.6.4",J1=1e4,xC=`w:${SC}`,MC="FIS_v2",W2="https://firebaseinstallations.googleapis.com/v1",X1=36e5,ta=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dm(n){return n instanceof _e.ZR&&n.code.includes("request-failed")}function vc({projectId:n}){return`${W2}/projects/${n}/installations`}function hm(n){return{token:n.token,requestStatus:2,expiresIn:nS(n.expiresIn),creationTime:Date.now()}}function ud(n,e){return fm.apply(this,arguments)}function fm(){return(fm=(0,R.Z)(function*(n,e){const r=(yield e.json()).error;return ta.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function cd({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function cv(n){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,R.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function nS(n){return Number(n.replace("s","000"))}function lv(){return(lv=(0,R.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=vc(n),i=cd(n),u=e.getImmediate({optional:!0});if(u){const v=yield u.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:MC,appId:n.appId,sdkVersion:xC})},m=yield cv(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:hm(v.authToken)}}throw yield ud("Create Installation",m)})).apply(this,arguments)}function pm(n){return new Promise(e=>{setTimeout(e,n)})}const mm=/^[cdef][\w-]{21}$/,NC="";function sS(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function oS(n){return function gm(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return mm.test(t)?t:NC}catch{return NC}}function Xa(n){return`${n.appName}!${n.appId}`}const ld=new Map;function dv(n,e){const t=Xa(n);hv(t,e),function RC(n,e){const t=function PC(){return!eu&&"BroadcastChannel"in self&&(eu=new BroadcastChannel("[Firebase] FID Change"),eu.onmessage=n=>{hv(n.data.key,n.data.fid)}),eu}();t&&t.postMessage({key:n,fid:e}),function OC(){0===ld.size&&eu&&(eu.close(),eu=null)}()}(t,e)}function hv(n,e){const t=ld.get(n);if(t)for(const r of t)r(e)}let eu=null;const cS="firebase-installations-database",kC=1,na="firebase-installations-store";let Ef=null;function fv(){return Ef||(Ef=function TC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),f=ea(l);return r&&l.addEventListener("upgradeneeded",m=>{r(ea(l.result),m.oldVersion,m.newVersion,ea(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(m=>{u&&m.addEventListener("close",()=>u()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(cS,kC,{upgrade:(n,e)=>{0===e&&n.createObjectStore(na)}})),Ef}function Ic(n,e){return dd.apply(this,arguments)}function dd(){return(dd=(0,R.Z)(function*(n,e){const t=Xa(n),i=(yield fv()).transaction(na,"readwrite"),u=i.objectStore(na),l=yield u.get(t);return yield u.put(e,t),yield i.done,(!l||l.fid!==e.fid)&&dv(n,e.fid),e})).apply(this,arguments)}function If(n){return _m.apply(this,arguments)}function _m(){return(_m=(0,R.Z)(function*(n){const e=Xa(n),r=(yield fv()).transaction(na,"readwrite");yield r.objectStore(na).delete(e),yield r.done})).apply(this,arguments)}function wf(n,e){return pv.apply(this,arguments)}function pv(){return(pv=(0,R.Z)(function*(n,e){const t=Xa(n),i=(yield fv()).transaction(na,"readwrite"),u=i.objectStore(na),l=yield u.get(t),f=e(l);return void 0===f?yield u.delete(t):yield u.put(f,t),yield i.done,f&&(!l||l.fid!==f.fid)&&dv(n,f.fid),f})).apply(this,arguments)}function gv(n){return hd.apply(this,arguments)}function hd(){return hd=(0,R.Z)(function*(n){let e;const t=yield wf(n.appConfig,r=>{const i=function ym(n){return _v(n||{fid:sS(),registrationStatus:0})}(r),u=function FC(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ta.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function LC(n,e){return mv.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:lS(n)}:{installationEntry:e}}(n,i);return e=u.registrationPromise,u.installationEntry});return t.fid===NC?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),hd.apply(this,arguments)}function mv(){return mv=(0,R.Z)(function*(n,e){try{const t=yield function iS(n,e){return lv.apply(this,arguments)}(n,e);return Ic(n.appConfig,t)}catch(t){throw dm(t)&&409===t.customData.serverCode?yield If(n.appConfig):yield Ic(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),mv.apply(this,arguments)}function lS(n){return vm.apply(this,arguments)}function vm(){return(vm=(0,R.Z)(function*(n){let e=yield Em(n.appConfig);for(;1===e.registrationStatus;)yield pm(100),e=yield Em(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield gv(n);return r||t}return e})).apply(this,arguments)}function Em(n){return wf(n,e=>{if(!e)throw ta.create("installation-not-found");return _v(e)})}function _v(n){return function yv(n){return 1===n.registrationStatus&&n.registrationTime+J1<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function vv(){return(vv=(0,R.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function BC(n,{fid:e}){return`${vc(n)}/${e}/authTokens:generate`}(n,t),i=function uv(n,{refreshToken:e}){const t=cd(n);return t.append("Authorization",function rS(n){return`${MC} ${n}`}(e)),t}(n,t),u=e.getImmediate({optional:!0});if(u){const v=yield u.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:xC,appId:n.appId}})},m=yield cv(()=>fetch(r,f));if(m.ok)return hm(yield m.json());throw yield ud("Generate Auth Token",m)})).apply(this,arguments)}function Im(n){return wm.apply(this,arguments)}function wm(){return wm=(0,R.Z)(function*(n,e=!1){let t;const r=yield wf(n.appConfig,u=>{if(!Cm(u))throw ta.create("not-registered");const l=u.authToken;if(!e&&function jC(n){return 2===n.requestStatus&&!function qC(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+X1}(n)}(l))return u;if(1===l.requestStatus)return t=function VC(n,e){return Ev.apply(this,arguments)}(n,e),u;{if(!navigator.onLine)throw ta.create("app-offline");const f=function $C(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(u);return t=function dS(n,e){return Cf.apply(this,arguments)}(n,f),f}});return t?yield t:r.authToken}),wm.apply(this,arguments)}function Ev(){return(Ev=(0,R.Z)(function*(n,e){let t=yield ZC(n.appConfig);for(;1===t.authToken.requestStatus;)yield pm(100),t=yield ZC(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Im(n,e):r})).apply(this,arguments)}function ZC(n){return wf(n,e=>{if(!Cm(e))throw ta.create("not-registered");return function HC(n){return 1===n.requestStatus&&n.requestTime+J1<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Cf(){return Cf=(0,R.Z)(function*(n,e){try{const t=yield function UC(n,e){return vv.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Ic(n.appConfig,r),t}catch(t){if(!dm(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ic(n.appConfig,r)}else yield If(n.appConfig);throw t}}),Cf.apply(this,arguments)}function Cm(n){return void 0!==n&&2===n.registrationStatus}function Tm(){return(Tm=(0,R.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield gv(e);return r?r.catch(console.error):Im(e).catch(console.error),t.fid})).apply(this,arguments)}function bm(){return bm=(0,R.Z)(function*(n,e=!1){const t=n;return yield function Am(n){return mo.apply(this,arguments)}(t),(yield Im(t,e)).token}),bm.apply(this,arguments)}function mo(){return(mo=(0,R.Z)(function*(n){const{registrationPromise:e}=yield gv(n);e&&(yield e)})).apply(this,arguments)}function KC(n){return ta.create("missing-app-config-values",{valueName:n})}const YC="installations",QC=n=>{const e=n.getProvider("app").getImmediate(),t=function Q2(n){if(!n||!n.options)throw KC("App Configuration");if(!n.name)throw KC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw KC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:mf(e,"heartbeat"),_delete:()=>Promise.resolve()}},pS=n=>{const t=mf(n.getProvider("app").getImmediate(),YC).getImmediate();return{getId:()=>function GC(n){return Tm.apply(this,arguments)}(t),getToken:i=>function zC(n){return bm.apply(this,arguments)}(t,i)}};(function or(){mr(new gn.wA(YC,QC,"PUBLIC")),mr(new gn.wA("installations-internal",pS,"PRIVATE"))})(),_i(DC,SC),_i(DC,SC,"esm2017");const Dm="@firebase/remote-config",yi=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class IS{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,R.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const u=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&l.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(l),u})()}}function wS(n=navigator){return n.languages&&n.languages[0]||n.language}class CS{constructor(e,t,r,i,u,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=u,this.appId=l}fetch(e){var t=this;return(0,R.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:wS()},v={method:"POST",headers:f,body:JSON.stringify(m)},T=fetch(l,v),A=new Promise((Ce,Fe)=>{e.signal.addEventListener(()=>{const ke=new Error("The operation was aborted.");ke.name="AbortError",Fe(ke)})});let M;try{yield Promise.race([T,A]),M=yield T}catch(Ce){let Fe="fetch-client-network";throw"AbortError"===Ce?.name&&(Fe="fetch-timeout"),yi.create(Fe,{originalErrorMessage:Ce?.message})}let O=M.status;const j=M.headers.get("ETag")||void 0;let G,X;if(200===M.status){let Ce;try{Ce=yield M.json()}catch(Fe){throw yi.create("fetch-client-parse",{originalErrorMessage:Fe?.message})}G=Ce.entries,X=Ce.state}if("INSTANCE_STATE_UNSPECIFIED"===X?O=500:"NO_CHANGE"===X?O=304:("NO_TEMPLATE"===X||"EMPTY_CONFIG"===X)&&(G={}),304!==O&&200!==O)throw yi.create("fetch-status",{httpStatus:O});return{status:O,eTag:j,config:G}})()}}class TS{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,R.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,R.Z)(function*(){yield function Dv(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(yi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),u}catch(u){if(!function Af(n){if(!(n instanceof _e.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const l={throttleEndTimeMillis:Date.now()+(0,_e.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class AS{constructor(e,t,r,i,u){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Df(n,e){const t=n.target.error||void 0;return yi.create(e,{originalErrorMessage:t&&t?.message})}const tu="app_namespace_store";class iT{constructor(e,t,r,i=function rT(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Df(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(tu,{keyPath:"compositeKey"})}}catch(t){e(yi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,R.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([tu],"readonly").objectStore(tu),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=T=>{u(Df(T,"storage-get"))},v.onsuccess=T=>{const A=T.target.result;i(A?A.value:void 0)}}catch(v){u(yi.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,R.Z)(function*(){const i=yield r.openDbPromise;return new Promise((u,l)=>{const m=i.transaction([tu],"readwrite").objectStore(tu),v=r.createCompositeKey(e);try{const T=m.put({compositeKey:v,value:t});T.onerror=A=>{l(Df(A,"storage-set"))},T.onsuccess=()=>{u()}}catch(T){l(yi.create("storage-set",{originalErrorMessage:T?.message}))}})})()}delete(e){var t=this;return(0,R.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const f=r.transaction([tu],"readwrite").objectStore(tu),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=T=>{u(Df(T,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){u(yi.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class sT{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,R.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Mm(){return xf.apply(this,arguments)}function xf(){return(xf=(0,R.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}!function SS(){mr(new gn.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yi.create("registration-window");if(!(0,_e.hl)())throw yi.create("indexed-db-unavailable");const{projectId:u,apiKey:l,appId:f}=r.options;if(!u)throw yi.create("registration-project-id");if(!l)throw yi.create("registration-api-key");if(!f)throw yi.create("registration-app-id");const m=new iT(f,r.name,t=t||"firebase"),v=new sT(m),T=new zr.Yd(Dm);T.logLevel=zr.in.ERROR;const A=new CS(i,rd,t,u,l,f),M=new TS(A,m),O=new IS(M,m,v,T),j=new AS(r,O,v,m,T);return function bv(n){const e=(0,_e.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(j),j},"PUBLIC").setMultipleInstances(!0)),_i(Dm,"0.4.4"),_i(Dm,"0.4.4","esm2017")}();const oT=(n,e)=>e.some(t=>n instanceof t);let Sv,xv;const Mv=new WeakMap,Nm=new WeakMap,cT=new WeakMap,Nv=new WeakMap,Rv=new WeakMap;let Pv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Nm.get(n);if("objectStoreNames"===e)return n.objectStoreNames||cT.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ia(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function PS(n){return"function"==typeof n?function RS(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function uT(){return xv||(xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ov(this),e),ia(Mv.get(this))}:function(...e){return ia(n.apply(Ov(this),e))}:function(e,...t){const r=n.call(Ov(this),e,...t);return cT.set(r,e.sort?e.sort():[e]),ia(r)}}(n):(n instanceof IDBTransaction&&function MS(n){if(Nm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",l),n.removeEventListener("abort",l)},u=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",l),n.addEventListener("abort",l)});Nm.set(n,e)}(n),oT(n,function aT(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Pv):n)}function ia(n){if(n instanceof IDBRequest)return function xS(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",l)},u=()=>{t(ia(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Mv.set(t,n)}).catch(()=>{}),Rv.set(e,n),e}(n);if(Nv.has(n))return Nv.get(n);const e=PS(n);return e!==n&&(Nv.set(n,e),Rv.set(e,n)),e}const Ov=n=>Rv.get(n);function lT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const l=indexedDB.open(n,e),f=ia(l);return r&&l.addEventListener("upgradeneeded",m=>{r(ia(l.result),m.oldVersion,m.newVersion,ia(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(m=>{u&&m.addEventListener("close",()=>u()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function kv(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ia(t).then(()=>{})}const OS=["get","getKey","getAll","getAllKeys","count"],kS=["put","add","delete","clear"],Fv=new Map;function dT(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Fv.get(e))return Fv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=kS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!OS.includes(t))return;const u=function(){var l=(0,R.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let T=v.store;return r&&(T=T.index(m.shift())),(yield Promise.all([T[t](...m),i&&v.done]))[0]});return function(m){return l.apply(this,arguments)}}();return Fv.set(e,u),u}!function NS(n){Pv=n(Pv)}(n=>({...n,get:(e,t,r)=>dT(e,t)||n.get(e,t,r),has:(e,t)=>!!dT(e,t)||n.has(e,t)}));const FS="/firebase-messaging-sw.js",hT="/firebase-cloud-messaging-push-scope",Lv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fT="https://fcmregistrations.googleapis.com/v1",Uv="google.c.a.c_id",pT="google.c.a.c_l",gT="google.c.a.ts";var Mf=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Mf||{});function Eo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yT(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let u=0;u<r.length;++u)i[u]=r.charCodeAt(u);return i}const sa="fcm_token_details_db",LS=5,vT="fcm_token_object_Store";function ET(){return ET=(0,R.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(sa))return null;let e=null;return(yield lT(sa,LS,{upgrade:(r=(0,R.Z)(function*(i,u,l,f){var m;if(u<2||!i.objectStoreNames.contains(vT))return;const v=f.objectStore(vT),T=yield v.index("fcmSenderId").get(n);if(yield v.clear(),T)if(2===u){const A=T;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:null!==(m=A.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:"string"==typeof A.vapidKey?A.vapidKey:Eo(A.vapidKey)}}}else if(3===u){const A=T;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Eo(A.auth),p256dh:Eo(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Eo(A.vapidKey)}}}else if(4===u){const A=T;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Eo(A.auth),p256dh:Eo(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Eo(A.vapidKey)}}}}),function(u,l,f,m){return r.apply(this,arguments)})})).close(),yield kv(sa),yield kv("fcm_vapid_details_db"),yield kv("undefined"),function Bv(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),ET.apply(this,arguments)}const tF="firebase-messaging-database",IT=1,nu="firebase-messaging-store";let wT=null;function ru(){return wT||(wT=lT(tF,IT,{upgrade:(n,e)=>{0===e&&n.createObjectStore(nu)}})),wT}function CT(n){return Vv.apply(this,arguments)}function Vv(){return Vv=(0,R.Z)(function*(n){const e=_d(n),r=yield(yield ru()).transaction(nu).objectStore(nu).get(e);if(r)return r;{const i=yield function gd(n){return ET.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield Zv(n,i),i}}),Vv.apply(this,arguments)}function Zv(n,e){return iu.apply(this,arguments)}function iu(){return(iu=(0,R.Z)(function*(n,e){const t=_d(n),i=(yield ru()).transaction(nu,"readwrite");return yield i.objectStore(nu).put(e,t),yield i.done,e})).apply(this,arguments)}function md(){return(md=(0,R.Z)(function*(n){const e=_d(n),r=(yield ru()).transaction(nu,"readwrite");yield r.objectStore(nu).delete(e),yield r.done})).apply(this,arguments)}function _d({appConfig:n}){return n.appId}const Kr=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function TT(n,e){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,R.Z)(function*(n,e){const t=yield qv(n),r=bT(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(km(n.appConfig),i)).json()}catch(l){throw Kr.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(u.error)throw Kr.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw Kr.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function Pm(){return(Pm=(0,R.Z)(function*(n,e){const t=yield qv(n),r=bT(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${km(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw Kr.create("token-update-failed",{errorInfo:l?.toString()})}if(u.error)throw Kr.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw Kr.create("token-update-no-token");return u.token})).apply(this,arguments)}function jv(n,e){return Om.apply(this,arguments)}function Om(){return(Om=(0,R.Z)(function*(n,e){const r={method:"DELETE",headers:yield qv(n)};try{const u=yield(yield fetch(`${km(n.appConfig)}/${e}`,r)).json();if(u.error)throw Kr.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(i){throw Kr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function km({projectId:n}){return`${fT}/projects/${n}/registrations`}function qv(n){return $v.apply(this,arguments)}function $v(){return($v=(0,R.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function bT({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Lv&&(i.web.applicationPubKey=r),i}const Nf=6048e5;function Hv(){return Hv=(0,R.Z)(function*(n){const e=yield function Rf(n,e){return wc.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Eo(e.getKey("auth")),p256dh:Eo(e.getKey("p256dh"))},r=yield CT(n.firebaseDependencies);if(r){if(function ZS(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Nf?function DT(n,e){return Fm.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield jv(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Gv(n.firebaseDependencies,t)}return Gv(n.firebaseDependencies,t)}),Hv.apply(this,arguments)}function yd(){return yd=(0,R.Z)(function*(n){const e=yield CT(n.firebaseDependencies);e&&(yield jv(n.firebaseDependencies,e.token),yield function US(n){return md.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),yd.apply(this,arguments)}function Fm(){return Fm=(0,R.Z)(function*(n,e){try{const t=yield function BS(n,e){return Pm.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Zv(n.firebaseDependencies,r),t}catch(t){throw yield function AT(n){return yd.apply(this,arguments)}(n),t}}),Fm.apply(this,arguments)}function Gv(n,e){return zv.apply(this,arguments)}function zv(){return(zv=(0,R.Z)(function*(n,e){const r={token:yield TT(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Zv(n,r),r.token})).apply(this,arguments)}function wc(){return(wc=(0,R.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yT(e)})})).apply(this,arguments)}function ST(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function jS(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function xT(n,e){e.data&&(n.data=e.data)}(e,n),function MT(n,e){var t,r,i,u,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(u=e.notification)||void 0===u?void 0:u.click_action;f&&(n.fcmOptions.link=f);const m=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function RT(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Wv(n){return Kr.create("missing-app-config-values",{valueName:n})}RT("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),RT("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qS{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function PT(n){if(!n||!n.options)throw Wv("App Configuration Object");if(!n.name)throw Wv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Wv(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function OT(){return(OT=(0,R.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(FS,{scope:hT}),n.swRegistration.update().catch(()=>{})}catch(e){throw Kr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function kT(){return(kT=(0,R.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield function $S(n){return OT.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Kr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function vd(){return(vd=(0,R.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Lv)})).apply(this,arguments)}function Kv(){return Kv=(0,R.Z)(function*(n,e){if(!navigator)throw Kr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kr.create("permission-blocked");return yield function FT(n,e){return vd.apply(this,arguments)}(n,e?.vapidKey),yield function nF(n,e){return kT.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function VS(n){return Hv.apply(this,arguments)}(n)}),Kv.apply(this,arguments)}function Cc(){return(Cc=(0,R.Z)(function*(n,e,t){const r=function HS(n){switch(n){case Mf.NOTIFICATION_CLICKED:return"notification_open";case Mf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Uv],message_name:t[pT],message_time:t[gT],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Yv(){return Yv=(0,R.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Mf.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(ST(t)):n.onMessageHandler.next(ST(t)));const r=t.data;(function NT(n){return"object"==typeof n&&!!n&&Uv in n})(r)&&"1"===r["google.c.a.e"]&&(yield function UT(n,e,t){return Cc.apply(this,arguments)}(n,t.messageType,r))}),Yv.apply(this,arguments)}const BT="@firebase/messaging",WS=n=>{const e=new qS(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function GS(n,e){return Yv.apply(this,arguments)}(e,t)),e},VT=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function LT(n,e){return Kv.apply(this,arguments)}(e,r)}};function ZT(){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,R.Z)(function*(){try{yield(0,_e.eu)()}catch{return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function KS(){mr(new gn.wA("messaging",WS,"PUBLIC")),mr(new gn.wA("messaging-internal",VT,"PRIVATE")),_i(BT,"0.12.4"),_i(BT,"0.12.4","esm2017")}();const Bm="analytics",qT="firebase_id",$T="origin",XS=6e4,ex="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qv="https://www.googletagmanager.com/gtag/js",Xn=new zr.Yd("@firebase/analytics"),Yr=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nx(n){if(!n.startsWith(Qv)){const e=Yr.create("invalid-gtag-resource",{gtagURL:n});return Xn.warn(e.message),""}return n}function HT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Jv(){return(Jv=(0,R.Z)(function*(n,e,t,r,i,u){const l=r[i];try{if(l)yield e[l];else{const m=(yield HT(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){Xn.error(f)}n("config",i,u)})).apply(this,arguments)}function Vm(){return(Vm=(0,R.Z)(function*(n,e,t,r,i){try{let u=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const f=yield HT(t);for(const m of l){const v=f.find(A=>A.measurementId===m),T=v&&e[v.appId];if(!T){u=[];break}u.push(T)}}0===u.length&&(u=Object.values(e)),yield Promise.all(u),n("event",r,i||{})}catch(u){Xn.error(u)}})).apply(this,arguments)}const zT=30,WT=new class dx{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function hx(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Pf(){return(Pf=(0,R.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:hx(r)},u=ex.replace("{app-id}",t),l=yield fetch(u,i);if(200!==l.status&&304!==l.status){let f="";try{const m=yield l.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw Yr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()})).apply(this,arguments)}function Of(){return(Of=(0,R.Z)(function*(n,e=WT,t){const{appId:r,apiKey:i,measurementId:u}=n.options;if(!r)throw Yr.create("no-app-id");if(!i){if(u)return{measurementId:u,appId:r};throw Yr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new QT;return setTimeout((0,R.Z)(function*(){f.abort()}),void 0!==t?t:XS),YT({appId:r,apiKey:i,measurementId:u},l,f,e)})).apply(this,arguments)}function YT(n,e,t){return e4.apply(this,arguments)}function e4(){return e4=(0,R.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=WT){var u;const{appId:l,measurementId:f}=n;try{yield function t4(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(Yr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(m){if(f)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:f};throw m}try{const m=yield function Xv(n){return Pf.apply(this,arguments)}(n);return i.deleteThrottleMetadata(l),m}catch(m){const v=m;if(!function fx(n){if(!(n instanceof _e.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v)){if(i.deleteThrottleMetadata(l),f)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:l,measurementId:f};throw m}const T=503===Number(null===(u=v?.customData)||void 0===u?void 0:u.httpStatus)?(0,_e.$s)(t,i.intervalMillis,zT):(0,_e.$s)(t,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+T,backoffCount:t+1};return i.setThrottleMetadata(l,A),Xn.debug(`Calling attemptFetch again in ${T} millis`),YT(n,A,r,i)}}),e4.apply(this,arguments)}class QT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let oa,$m;function n4(){return(n4=(0,R.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const u=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:u}))}})).apply(this,arguments)}function u4(){return(u4=(0,R.Z)(function*(){if(!(0,_e.hl)())return Xn.warn(Yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(n){return Xn.warn(Yr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function c4(){return c4=(0,R.Z)(function*(n,e,t,r,i,u,l){var f;const m=function KT(n){return Of.apply(this,arguments)}(n);m.then(O=>{t[O.measurementId]=O.appId,n.options.measurementId&&O.measurementId!==n.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>Xn.error(O)),e.push(m);const v=function gx(){return u4.apply(this,arguments)}().then(O=>{if(O)return r.getId()}),[T,A]=yield Promise.all([m,v]);(function cx(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Qv)&&t.src.includes(n))return t;return null})(u)||function ix(n,e){const t=function rx(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:nx}),r=document.createElement("script"),i=`${Qv}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(u,T.measurementId),$m&&(i("consent","default",$m),function o4(n){$m=n}(void 0)),i("js",new Date);const M=null!==(f=l?.config)&&void 0!==f?f:{};return M[$T]="firebase",M.update=!0,null!=A&&(M[qT]=A),i("config",T.measurementId,M),oa&&(i("set",oa),function a4(n){oa=n}(void 0)),T.measurementId}),c4.apply(this,arguments)}class eb{constructor(e){this.app=e}_delete(){return delete aa[this.app.options.appId],Promise.resolve()}}let aa={},l4=[];const tb={};let nb,Io,Hm="dataLayer",d4=!1;function Ex(n,e,t){!function vx(){const n=[];if((0,_e.ru)()&&n.push("This is a browser extension environment."),(0,_e.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Yr.create("invalid-analytics-context",{errorInfo:e});Xn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Yr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Yr.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=aa[r])throw Yr.create("already-exists",{id:r});if(!d4){!function sx(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Hm);const{wrappedGtag:u,gtagCore:l}=function ux(n,e,t,r,i){let u=function(...l){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(u=window[i]),window[i]=function GT(n,e,t,r){function u(){return u=(0,R.Z)(function*(l,...f){try{if("event"===l){const[m,v]=f;yield function ax(n,e,t,r,i){return Vm.apply(this,arguments)}(n,e,t,m,v)}else if("config"===l){const[m,v]=f;yield function ox(n,e,t,r,i,u){return Jv.apply(this,arguments)}(n,e,t,r,m,v)}else if("consent"===l){const[m]=f;n("consent","update",m)}else if("get"===l){const[m,v,T]=f;n("get",m,v,T)}else if("set"===l){const[m]=f;n("set",m)}else n(l,...f)}catch(m){Xn.error(m)}}),u.apply(this,arguments)}return function i(l){return u.apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[i]}}(aa,l4,tb,Hm,"gtag");Io=u,nb=l,d4=!0}return aa[r]=function mx(n,e,t,r,i,u,l){return c4.apply(this,arguments)}(n,l4,tb,e,nb,Hm,t),new eb(n)}function wx(){return h4.apply(this,arguments)}function h4(){return(h4=(0,R.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}const ib="@firebase/analytics";!function cF(){mr(new gn.wA(Bm,(e,{options:t})=>Ex(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),mr(new gn.wA("analytics-internal",function n(e){try{const t=e.getProvider(Bm).getImmediate();return{logEvent:(r,i,u)=>function rb(n,e,t,r){n=(0,_e.m9)(n),function JT(n,e,t,r,i){return n4.apply(this,arguments)}(Io,aa[n.app.options.appId],e,t,r).catch(i=>Xn.error(i))}(t,r,i,u)}}catch(t){throw Yr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),_i(ib,"0.10.0"),_i(ib,"0.10.0","esm2017")}();class sb extends $u.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Ff={setInterval(n,e,...t){const{delegate:r}=Ff;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ff;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var xx=P(9039);class ob extends sb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,u=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return Ff.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ff.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(u){r=!0,i=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,xx.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Ac={now:()=>(Ac.delegate||Date).now(),delegate:void 0};class Lf{constructor(e,t=Lf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Lf.now=Ac.now;class Gm extends Lf{constructor(e,t=Lf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const lF=new class Nx extends Gm{}(class Mx extends ob{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),hF=new Gm(ob);var Uf=P(5137),Ed=P(3093);const Wm=new s.GfV("7.6.1"),Id="__angularfire_symbol__analyticsIsSupportedValue",Km="__angularfire_symbol__analyticsIsSupported",f4="__angularfire_symbol__remoteConfigIsSupportedValue",Ym="__angularfire_symbol__remoteConfigIsSupported",wd="__angularfire_symbol__messagingIsSupportedValue",p4="__angularfire_symbol__messagingIsSupported";globalThis[Km]||(globalThis[Km]=wx().then(n=>globalThis[Id]=n).catch(()=>globalThis[Id]=!1)),globalThis[p4]||(globalThis[p4]=ZT().then(n=>globalThis[wd]=n).catch(()=>globalThis[wd]=!1)),globalThis[Ym]||(globalThis[Ym]=Mm().then(n=>globalThis[f4]=n).catch(()=>globalThis[f4]=!1));const Cd=(n,e)=>{const t=e?[e]:(0,mi.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function Td(){}class ab{constructor(e,t=lF){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class ub{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Td,{},Td,Td)),t.pipe(Nn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Jm=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ab(Zone.current)),this.insideAngular=t.run(()=>new ab(Zone.current,hF)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ua(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Dc(n){return ua().ngZone.run(()=>n())}function lb(n){return ua(),function kx(n){return function(t){return(t=t.lift(new ub(n.ngZone))).pipe((0,Uf.R)(n.outsideAngular),(0,Ed.Q)(n.insideAngular))}}(ua())(n)}const m4=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Dc(()=>n.apply(void 0,r))},Oi=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=Dc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Td,{},Td,Td)))),r[u]=m4(r[u],t));const i=function cb(n){return ua().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof rr.y){const u=ua();return i.pipe((0,Uf.R)(u.outsideAngular),(0,Ed.Q)(u.insideAngular))}return Dc(()=>i)}return i instanceof rr.y?i.pipe(lb):i instanceof Promise?Dc(()=>new Promise((u,l)=>i.then(f=>Dc(()=>u(f)),f=>Dc(()=>l(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Dc(()=>i)};class Sc{constructor(e){return e}}class Xm{constructor(){return(0,mi.getApps)()}}const _4=new s.OlP("angularfire2._apps"),Lx={provide:Sc,useFactory:function Fx(n){return n&&1===n.length?n[0]:new Sc((0,mi.getApp)())},deps:[[new s.FiY,_4]]},Ux={provide:Xm,deps:[[new s.FiY,_4]]};function hb(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Sc(r)}}let y4=(()=>{class n{constructor(t){(0,mi.registerVersion)("angularfire",Wm.full,"core"),(0,mi.registerVersion)("angularfire",Wm.full,"app"),(0,mi.registerVersion)("angular",s.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Lx,Ux]}),n})();function fb(n,...e){return{ngModule:y4,providers:[{provide:_4,useFactory:hb(n),multi:!0,deps:[s.R0b,s.zs3,Jm,...e]}]}}const Zx=Oi(mi.initializeApp,!0);P(6710);class xc{constructor(){return Cd("auth")}}const t0=new Map,n0={activated:!1,tokenObservers:[]},vb={initialized:!1,enabled:!1};function Rn(n){return t0.get(n)||Object.assign({},n0)}function s0(){return vb}const Eb="https://content-firebaseappcheck.googleapis.com/v1",Ib="exchangeDebugToken",wb={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class cM{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,R.Z)(function*(){t.stop();try{t.pending=new _e.BH,yield function VF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _e.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Gn=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function w4(n){if(!Rn(n).activated)throw Gn.create("use-before-activation",{appName:n.name})}function a0(n,e){return T4.apply(this,arguments)}function T4(){return(T4=(0,R.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,u)}catch(A){throw Gn.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==l.status)throw Gn.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(A){throw Gn.create("fetch-parse-error",{originalErrorMessage:A?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Gn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+v,issuedAtTimeMillis:T}})).apply(this,arguments)}function Cb(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Eb}/projects/${t}/apps/${r}:${Ib}?key=${i}`,body:{debug_token:e}}}const hM="firebase-app-check-database",fM=1,Vf="firebase-app-check-store";let u0=null;function Zf(){return(Zf=(0,R.Z)(function*(n,e){const r=(yield function bb(){return u0||(u0=new Promise((n,e)=>{try{const t=indexedDB.open(hM,fM);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Gn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Vf,{keyPath:"compositeKey"})}}catch(t){e(Gn.create("storage-open",{originalErrorMessage:t?.message}))}}),u0)}()).transaction(Vf,"readwrite"),u=r.objectStore(Vf).put({compositeKey:n,value:e});return new Promise((l,f)=>{u.onsuccess=m=>{l()},r.onerror=m=>{var v;f(Gn.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const bd=new zr.Yd("@firebase/app-check");function c0(n,e){return(0,_e.hl)()?function gM(n,e){return function A4(n,e){return Zf.apply(this,arguments)}(function S4(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{bd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function l0(){return s0().enabled}function M4(){return jf.apply(this,arguments)}function jf(){return(jf=(0,R.Z)(function*(){const n=s0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Sb={error:"UNKNOWN_ERROR"};function N4(n){return _e.US.encodeString(JSON.stringify(n),!1)}function Ad(n){return R4.apply(this,arguments)}function R4(){return(R4=(0,R.Z)(function*(n,e=!1){const t=n.app;w4(t);const r=Rn(t);let u,i=r.token;if(i&&!qf(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(qf(m)?i=m:yield c0(t,void 0))}if(!e&&i&&qf(i))return{token:i.token};let f,l=!1;if(l0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=a0(Cb(t,yield M4()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield c0(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Rn(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?bd.warn(m.message):bd.error(m),u=m}return i?u?f=qf(i)?{token:i.token,internalError:u}:F4(u):(f={token:i.token},r.token=i,yield c0(t,i)):f=F4(u),l&&function k4(n,e){const t=Rn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function yM(n){return d0.apply(this,arguments)}function d0(){return(d0=(0,R.Z)(function*(n){const e=n.app;w4(e);const{provider:t}=Rn(e);if(l0()){const r=yield M4(),{token:i}=yield a0(Cb(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function O4(n,e){const t=Rn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function xb(n){const{app:e}=n,t=Rn(e);let r=t.tokenRefresher;r||(r=function vM(n){const{app:e}=n;return new cM((0,R.Z)(function*(){let r;if(r=Rn(e).token?yield Ad(n,!0):yield Ad(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Rn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},wb.RETRIAL_MIN_WAIT,wb.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qf(n){return n.expireTimeMillis-Date.now()>0}function F4(n){return{token:N4(Sb),error:n}}class EM{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Rn(this.app);for(const t of e)O4(this.app,t.next);return Promise.resolve()}}const AM="app-check-internal";!function zF(){mr(new gn.wA("app-check",n=>function Mb(n,e){return new EM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(AM).initialize()})),mr(new gn.wA(AM,n=>function jF(n){return{getToken:e=>Ad(n,e),getLimitedUseToken:()=>yM(n),addTokenListener:e=>function P4(n,e,t,r){const{app:i}=n,u=Rn(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&qf(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),xb(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>xb(n))}(n,"INTERNAL",e),removeTokenListener:e=>O4(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),_i("@firebase/app-check","0.8.0")}();class Z4{constructor(){return Cd("app-check")}}typeof window<"u"&&window;var He,xM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vs={},g0=g0||{},bt=xM||self;function Hf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Gf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var m0="closure_uid_"+(1e9*Math.random()>>>0),q4=0;function YF(n,e,t){return n.call.apply(n.bind,arguments)}function qb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function _r(n,e,t){return(_r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?YF:qb).apply(null,arguments)}function _0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function yr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Nc(){this.s=this.s,this.o=this.o}Nc.prototype.s=!1,Nc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function MM(n){Object.prototype.hasOwnProperty.call(n,m0)&&n[m0]||(n[m0]=++q4)}(this)},Nc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $b=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $4(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Hb(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Hf(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let l=0;l<u;l++)n[i+l]=r[l]}else n.push(r)}}function Jr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Jr.prototype.h=function(){this.defaultPrevented=!0};var Gb=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",()=>{},e),bt.removeEventListener("test",()=>{},e)}catch{}return n}();function xd(n){return/^[\s\xa0]*$/.test(n)}function y0(){var n=bt.navigator;return n&&(n=n.userAgent)?n:""}function Zs(n){return-1!=y0().indexOf(n)}function v0(n){return v0[" "](n),n}v0[" "]=function(){};var G4,n,NM=Zs("Opera"),ou=Zs("Trident")||Zs("MSIE"),H4=Zs("Edge"),E0=H4||ou,zb=Zs("Gecko")&&!(-1!=y0().toLowerCase().indexOf("webkit")&&!Zs("Edge"))&&!(Zs("Trident")||Zs("MSIE"))&&!Zs("Edge"),I0=-1!=y0().toLowerCase().indexOf("webkit")&&!Zs("Edge");function Wb(){var n=bt.document;return n?n.documentMode:void 0}e:{var w0="",C0=(n=y0(),zb?/rv:([^\);]+)(\)|;)/.exec(n):H4?/Edge\/([\d\.]+)/.exec(n):ou?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):I0?/WebKit\/(\S+)/.exec(n):NM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(C0&&(w0=C0?C0[1]:""),ou){var Kb=Wb();if(null!=Kb&&Kb>parseFloat(w0)){G4=String(Kb);break e}}G4=w0}var PM=bt.document&&ou&&(Wb()||parseInt(G4,10))||void 0;function T0(n,e){if(Jr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zb){e:{try{v0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:XF[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&T0.$.h.call(this)}}yr(T0,Jr);var XF={2:"touch",3:"pen",4:"mouse"};T0.prototype.h=function(){T0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zf="closure_listenable_"+(1e6*Math.random()|0),OM=0;function eL(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++OM,this.fa=this.ia=!1}function W4(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Yb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kM(n){const e={};for(const t in n)e[t]=n[t];return e}const Qb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FM(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Qb.length;u++)t=Qb[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function K4(n){this.src=n,this.g={},this.h=0}function Jb(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=$b(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(W4(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Xb(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}K4.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Xb(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new eL(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var eA="closure_lm_"+(1e6*Math.random()|0),Y4={};function LM(n,e,t,r,i){if(r&&r.once)return c(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)LM(n,e[u],t,r,i);return null}return t=b(t),n&&n[zf]?n.O(e,t,Gf(r)?!!r.capture:!!r,i):o(n,e,t,!1,r,i)}function o(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var l=Gf(i)?!!i.capture:!!i,f=E(n);if(f||(n[eA]=f=new K4(n)),(t=f.add(e,t,r,l,u)).proxy)return t;if(r=function a(){const e=y;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Gb||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(p(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function c(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)c(n,e[u],t,r,i);return null}return t=b(t),n&&n[zf]?n.P(e,t,Gf(r)?!!r.capture:!!r,i):o(n,e,t,!0,r,i)}function d(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)d(n,e[u],t,r,i);else r=Gf(r)?!!r.capture:!!r,t=b(t),n&&n[zf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Xb(u=n.g[e],t,r,i))&&(W4(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=E(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Xb(e,t,r,i)),(t=-1<n?e[n]:null)&&h(t))}function h(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[zf])Jb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(p(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=E(e))?(Jb(t,n),0==t.h&&(t.src=null,e[eA]=null)):W4(n)}}}function p(n){return n in Y4?Y4[n]:Y4[n]="on"+n}function y(n,e){if(n.fa)n=!0;else{e=new T0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&h(n),n=t.call(r,e)}return n}function E(n){return(n=n[eA])instanceof K4?n:null}var C="__closure_events_fn_"+(1e9*Math.random()>>>0);function b(n){return"function"==typeof n?n:(n[C]||(n[C]=function(e){return n.handleEvent(e)}),n[C])}function S(){Nc.call(this),this.i=new K4(this),this.S=this,this.J=null}function N(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Jr(e,n);else if(e instanceof Jr)e.target=e.target||n;else{var i=e;FM(e=new Jr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];i=V(l,r,!0,e)&&i}if(i=V(l=e.g=n,r,!0,e)&&i,i=V(l,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=V(l=e.g=t[u],r,!1,e)&&i}function V(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var f=l.listener,m=l.la||l.src;l.ia&&Jb(n.i,l),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}yr(S,Nc),S.prototype[zf]=!0,S.prototype.removeEventListener=function(n,e,t,r){d(this,n,e,t,r)},S.prototype.N=function(){if(S.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)W4(t[r]);delete n.g[e],n.h--}}this.J=null},S.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},S.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var H=bt.JSON.stringify;function be(){var n=js;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var nt=new class ae{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new me,n=>n.reset());class me{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Et(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Rt(n){bt.setTimeout(()=>{throw n},0)}let $t,vr=!1,js=new class je{constructor(){this.h=this.g=null}add(e,t){const r=nt.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Rc=()=>{const n=bt.Promise.resolve(void 0);$t=()=>{n.then(Q4)}};var Q4=()=>{for(var n;n=be();){try{n.h.call(n.g)}catch(t){Rt(t)}var e=nt;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vr=!1};function b0(n,e){S.call(this),this.h=n||1,this.g=e||bt,this.j=_r(this.qb,this),this.l=Date.now()}function J4(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function UM(n,e,t){if("function"==typeof n)t&&(n=_r(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_r(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function nL(n){n.g=UM(()=>{n.g=null,n.i&&(n.i=!1,nL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}yr(b0,S),(He=b0.prototype).ga=!1,He.T=null,He.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),N(this,"tick"),this.ga&&(J4(this),this.start()))}},He.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.N=function(){b0.$.N.call(this),J4(this),delete this.g};class cj extends Nc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nL(this)}N(){super.N(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function X4(n){Nc.call(this),this.h=n,this.g={}}yr(X4,Nc);var rL=[];function iL(n,e,t,r){Array.isArray(t)||(t&&(rL[0]=t.toString()),t=rL);for(var i=0;i<t.length;i++){var u=LM(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function sL(n){Yb(n.g,function(e,t){this.g.hasOwnProperty(t)&&h(e)},n),n.g={}}function tA(){this.g=!0}function A0(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fj(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<i.length;l++)i[l]=""}}}return H(t)}catch{return e}}(n,t)+(r?" "+r:"")})}X4.prototype.N=function(){X4.$.N.call(this),sL(this)},X4.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tA.prototype.Ea=function(){this.g=!1},tA.prototype.info=function(){};var Wf={},oL=null;function nA(){return oL=oL||new S}function aL(n){Jr.call(this,Wf.Ta,n)}function eE(n){const e=nA();N(e,new aL(e))}function uL(n,e){Jr.call(this,Wf.STAT_EVENT,n),this.stat=e}function Ji(n){const e=nA();N(e,new uL(e,n))}function cL(n,e){Jr.call(this,Wf.Ua,n),this.size=e}function tE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}Wf.Ta="serverreachability",yr(aL,Jr),Wf.STAT_EVENT="statevent",yr(uL,Jr),Wf.Ua="timingevent",yr(cL,Jr);var rA={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function BM(){}function hL(){}BM.prototype.h=null;var jM,nE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function VM(){Jr.call(this,"d")}function ZM(){Jr.call(this,"c")}function iA(){}function rE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new X4(this),this.P=pj,this.V=new b0(n=E0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fL}function fL(){this.i=null,this.g="",this.h=!1}yr(VM,Jr),yr(ZM,Jr),yr(iA,BM),iA.prototype.g=function(){return new XMLHttpRequest},iA.prototype.i=function(){return{}},jM=new iA;var pj=45e3,qM={},sA={};function $M(n,e,t){n.L=1,n.v=cA(Pc(e)),n.s=t,n.S=!0,pL(n,null)}function pL(n,e){n.G=Date.now(),iE(n),n.A=Pc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),TL(t.i,"t",r),n.C=0,t=n.l.J,n.h=new fL,n.g=WL(n.l,t?e:null,!n.s),0<n.O&&(n.M=new cj(_r(n.Pa,n,n.g),n.O)),iL(n.U,n.g,"readystatechange",n.nb),e=n.I?kM(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),eE(),function lj(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var l="",f=u.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var T=v[0];v=v[1];var A=T.split("_");l=2<=A.length&&"type"==A[1]?l+(T+"=")+v+"&":l+(T+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function gL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function mL(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=gj(n,t),i==sA){4==e&&(n.o=4,Ji(14),r=!1),A0(n.j,n.m,null,"[Incomplete Response]");break}if(i==qM){n.o=4,Ji(15),A0(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}A0(n.j,n.m,i,null),HM(n,i)}gL(n)&&i!=sA&&i!=qM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ji(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),JM(e),e.M=!0,Ji(11))):(A0(n.j,n.m,t,"[Invalid Chunked Response]"),Kf(n),sE(n))}function gj(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?sA:(t=Number(e.substring(t,r)),isNaN(t)?qM:(r+=1)+t>e.length?sA:(e=e.slice(r,r+t),n.C=r+t,e))}function iE(n){n.Y=Date.now()+n.P,_L(n,n.P)}function _L(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=tE(_r(n.lb,n),e)}function oA(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function sE(n){0==n.l.H||n.J||$L(n.l,n)}function Kf(n){oA(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,J4(n.V),sL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function HM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||GM(t.i,n)))if(!n.K&&GM(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;gA(t),fA(t)}QM(t),Ji(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=tE(_r(t.ib,t),6e3));if(1>=DL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Qf(t,11)}else if((n.K||t.g==n)&&gA(t),!xd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const T=v[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const A=v[4];null!=A&&(t.Ga=A,t.l.info("SVER="+t.Ga));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.L=r=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const O=n.g;if(O){const j=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var u=r.i;u.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(zM(u,u.h),u.h=null))}if(r.F){const G=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;G&&(r.Da=G,An(r.I,r.F,G))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=zL(r,r.J?r.pa:null,r.Y),l.K){SL(r.i,l);var f=l,m=r.L;m&&f.setTimeout(m),f.B&&(oA(f),iE(f)),r.g=l}else jL(r);0<t.j.length&&pA(t)}else"stop"!=v[0]&&"close"!=v[0]||Qf(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Qf(t,7):YM(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}eE()}catch{}}function yL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Hf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function _j(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Hf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function mj(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Hf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(He=rE.prototype).setTimeout=function(n){this.P=n},He.nb=function(n){n=n.target;const e=this.M;e&&3==au(n)?e.l():this.Pa(n)},He.Pa=function(n){try{if(n==this.g)e:{const T=au(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||E0||this.g&&(this.h.h||this.g.ja()||FL(this.g)))){this.J||4!=T||7==e||eE(),oA(this);var t=this.g.da();this.ca=t;t:if(gL(this)){var r=FL(this.g);n="";var i=r.length,u=4==au(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kf(this),sE(this);var l="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function dj(n,e,t,r,i,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xd(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Ji(12),Kf(this),sE(this);break e}A0(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,HM(this,t)}this.S?(mL(this,T,l),E0&&this.i&&3==T&&(iL(this.U,this.V,"tick",this.mb),this.V.start())):(A0(this.j,this.m,l,null),HM(this,l)),4==T&&Kf(this),this.i&&!this.J&&(4==T?$L(this.l,this):(this.i=!1,iE(this)))}else(function kj(n){const e={};n=(n.g&&2<=au(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(xd(n[r]))continue;var t=Et(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[i]||[];e[i]=u,u.push(t)}!function tL(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ji(12)):(this.o=0,Ji(13)),Kf(this),sE(this)}}}catch{}},He.mb=function(){if(this.g){var n=au(this.g),e=this.g.ja();this.C<e.length&&(oA(this),mL(this,n,e),this.i&&4!=n&&iE(this))}},He.cancel=function(){this.J=!0,Kf(this)},He.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hj(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(eE(),Ji(17)),Kf(this),this.o=2,sE(this)):_L(this,this.Y-n)};var vL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Yf){this.h=n.h,aA(this,n.j),this.s=n.s,this.g=n.g,uA(this,n.m),this.l=n.l;var e=n.i,t=new uE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),EL(this,t),this.o=n.o}else n&&(e=String(n).match(vL))?(this.h=!1,aA(this,e[1]||"",!0),this.s=oE(e[2]||""),this.g=oE(e[3]||"",!0),uA(this,e[4]),this.l=oE(e[5]||"",!0),EL(this,e[6]||"",!0),this.o=oE(e[7]||"")):(this.h=!1,this.i=new uE(null,this.h))}function Pc(n){return new Yf(n)}function aA(n,e,t){n.j=t?oE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function uA(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function EL(n,e,t){e instanceof uE?(n.i=e,function Tj(n,e){e&&!n.j&&(Md(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(wL(this,r),TL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=aE(e,wj)),n.i=new uE(e,n.h))}function An(n,e,t){n.i.set(e,t)}function cA(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function oE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function aE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vj),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vj(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(aE(e,IL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(aE(e,IL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(aE(t,"/"==t.charAt(0)?Ij:Ej,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",aE(t,Cj)),n.join("")};var IL=/[#\/\?@]/g,Ej=/[#\?:]/g,Ij=/[#\?]/g,wj=/[#\?@]/g,Cj=/#/g;function uE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Md(n){n.g||(n.g=new Map,n.h=0,n.i&&function yj(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wL(n,e){Md(n),e=D0(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function CL(n,e){return Md(n),e=D0(n,e),n.g.has(e)}function TL(n,e,t){wL(n,e),0<t.length&&(n.i=null,n.g.set(D0(n,e),$4(t)),n.h+=t.length)}function D0(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bL(n){this.l=n||Aj,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ka&&bt.g.Ka()&&bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=uE.prototype).add=function(n,e){Md(this),this.i=null,n=D0(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},He.forEach=function(n,e){Md(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},He.ta=function(){Md(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},He.Z=function(n){Md(this);let e=[];if("string"==typeof n)CL(this,n)&&(e=e.concat(this.g.get(D0(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},He.set=function(n,e){return Md(this),this.i=null,CL(this,n=D0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},He.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=u;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var Aj=10;function AL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function DL(n){return n.h?1:n.g?n.g.size:0}function GM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function zM(n,e){n.g?n.g.add(e):n.h=e}function SL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return $4(n.i)}bL.prototype.cancel=function(){if(this.i=xL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Dj=class{stringify(n){return bt.JSON.stringify(n,void 0)}parse(n){return bt.JSON.parse(n,void 0)}};function Sj(){this.g=new Dj}function xj(n,e,t){const r=t||"";try{yL(n,function(i,u){let l=i;Gf(i)&&(l=H(i)),e.push(r+u+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function lA(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cE(n){this.l=n.fc||null,this.j=n.ob||!1}function dA(n,e){S.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=WM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yr(cE,BM),cE.prototype.g=function(){return new dA(this.l,this.j)},cE.prototype.i=function(n){return function(){return n}}({}),yr(dA,S);var WM=0;function ML(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function lE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dE(n)}function dE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=dA.prototype).open=function(n,e){if(this.readyState!=WM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dE(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lE(this)),this.readyState=WM},He.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dE(this)),this.g&&(this.readyState=3,dE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ML(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},He.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lE(this):dE(this),3==this.readyState&&ML(this)}},He.Za=function(n){this.g&&(this.response=this.responseText=n,lE(this))},He.Ya=function(n){this.g&&(this.response=n,lE(this))},He.ka=function(){this.g&&lE(this)},He.setRequestHeader=function(n,e){this.v.append(n,e)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Nj=bt.JSON.parse;function er(n){S.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=NL,this.L=this.M=!1}yr(er,S);var NL="",Rj=/^https?$/i,Pj=["POST","PUT"];function RL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,PL(n),hA(n)}function PL(n){n.F||(n.F=!0,N(n,"complete"),N(n,"error"))}function OL(n){if(n.h&&typeof g0<"u"&&(!n.C[1]||4!=au(n)||2!=n.da()))if(n.v&&4==au(n))UM(n.La,0,n);else if(N(n,"readystatechange"),4==au(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(vL)[1]||null;!i&&bt.self&&bt.self.location&&(i=bt.self.location.protocol.slice(0,-1)),r=!Rj.test(i?i.toLowerCase():"")}t=r}if(t)N(n,"complete"),N(n,"success");else{n.m=6;try{var u=2<au(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",PL(n)}}finally{hA(n)}}}function hA(n,e){if(n.g){kL(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||N(n,"ready");try{t.onreadystatechange=r}catch{}}}function kL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function au(n){return n.g?n.g.readyState:0}function FL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case NL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function LL(n){let e="";return Yb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function KM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=LL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function hE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function UL(n){this.Ga=0,this.j=[],this.l=new tA,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hE("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hE("baseRetryDelayMs",5e3,n),this.hb=hE("retryDelaySeedMs",1e4,n),this.eb=hE("forwardChannelMaxRetries",2,n),this.xa=hE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new bL(n&&n.concurrentRequestLimit),this.Ja=new Sj,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function YM(n){if(BL(n),3==n.H){var e=n.W++,t=Pc(n.I);if(An(t,"SID",n.K),An(t,"RID",e),An(t,"TYPE","terminate"),fE(n,t),(e=new rE(n,n.l,e)).L=2,e.v=cA(Pc(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon)try{t=bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=WL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),iE(e)}GL(n)}function fA(n){n.g&&(JM(n),n.g.cancel(),n.g=null)}function BL(n){fA(n),n.u&&(bt.clearTimeout(n.u),n.u=null),gA(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function pA(n){if(!AL(n.i)&&!n.m){n.m=!0;var e=n.Na;$t||Rc(),vr||($t(),vr=!0),js.add(e,n),n.C=0}}function VL(n,e){var t;t=e?e.m:n.W++;const r=Pc(n.I);An(r,"SID",n.K),An(r,"RID",t),An(r,"AID",n.V),fE(n,r),n.o&&n.s&&KM(r,n.o,n.s),t=new rE(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ZL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),zM(n.i,t),$M(t,r,e)}function fE(n,e){n.na&&Yb(n.na,function(t,r){An(e,r,t)}),n.h&&yL({},function(t,r){An(e,r,t)})}function ZL(n,e,t){t=Math.min(n.j.length,t);var r=n.h?_r(n.h.Va,n.h,n):null;e:{var i=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=i[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let f=!0;for(let m=0;m<t;m++){let v=i[m].g;const T=i[m].map;if(v-=u,0>v)u=Math.max(0,i[m].g-100),f=!1;else try{xj(T,l,"req"+v+"_")}catch{r&&r(T)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function jL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;$t||Rc(),vr||($t(),vr=!0),js.add(e,n),n.A=0}}function QM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=tE(_r(n.Ma,n),HL(n,n.A)),n.A++,0))}function JM(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function qL(n){n.g=new rE(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Pc(n.wa);An(e,"RID","rpc"),An(e,"SID",n.K),An(e,"AID",n.V),An(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&An(e,"TO",n.qa),An(e,"TYPE","xmlhttp"),fE(n,e),n.o&&n.s&&KM(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=cA(Pc(e)),t.s=null,t.S=!0,pL(t,n)}function gA(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function $L(n,e){var t=null;if(n.g==e){gA(n),JM(n),n.g=null;var r=2}else{if(!GM(n.i,e))return;t=e.F,SL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;N(r=nA(),new cL(r,t)),pA(n)}else jL(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Fj(n,e){return!(DL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=tE(_r(n.Na,n,e),HL(n,n.C)),n.C++,0)))}(n,e)||2==r&&QM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Qf(n,5);break;case 4:Qf(n,10);break;case 3:Qf(n,6);break;default:Qf(n,2)}}function HL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Qf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=_r(n.pb,n);t||(t=new Yf("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||aA(t,"https"),cA(t)),function Mj(n,e){const t=new tA;if(bt.Image){const r=new Image;r.onload=_0(lA,t,r,"TestLoadImage: loaded",!0,e),r.onerror=_0(lA,t,r,"TestLoadImage: error",!1,e),r.onabort=_0(lA,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=_0(lA,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ji(2);n.H=0,n.h&&n.h.za(e),GL(n),BL(n)}function GL(n){if(n.H=0,n.ma=[],n.h){const e=xL(n.i);(0!=e.length||0!=n.j.length)&&(Hb(n.ma,e),Hb(n.ma,n.j),n.i.i.length=0,$4(n.j),n.j.length=0),n.h.ya()}}function zL(n,e,t){var r=t instanceof Yf?Pc(t):new Yf(t);if(""!=r.g)e&&(r.g=e+"."+r.g),uA(r,r.m);else{var i=bt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Yf(null);r&&aA(u,r),e&&(u.g=e),i&&uA(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&An(r,t,e),An(r,"VER",n.ra),fE(n,r),r}function WL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new er(t&&n.Ha&&!n.va?new cE({ob:!0}):n.va)).Oa(n.J),e}function KL(){}function mA(){if(ou&&!(10<=Number(PM)))throw Error("Environmental error: no available transport.")}function qs(n,e){S.call(this),this.g=new UL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!xd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new S0(this)}function YL(n){VM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function QL(){ZM.call(this),this.status=1}function S0(n){this.g=n}function la(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function XM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=u+((l=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function dn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(He=er.prototype).Oa=function(n){this.M=n},He.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jM.g(),this.C=function dL(n){return n.h||(n.h=n.i())}(this.u?this.u:jM),this.g.onreadystatechange=_r(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void RL(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=bt.FormData&&n instanceof bt.FormData,!(0<=$b(Pj,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kL(this),0<this.B&&((this.L=function Oj(n){return ou&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_r(this.ua,this)):this.A=UM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){RL(this,u)}},He.ua=function(){typeof g0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,N(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,N(this,"complete"),N(this,"abort"),hA(this))},He.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hA(this,!0)),er.$.N.call(this)},He.La=function(){this.s||(this.G||this.v||this.l?OL(this):this.kb())},He.kb=function(){OL(this)},He.isActive=function(){return!!this.g},He.da=function(){try{return 2<au(this)?this.g.status:-1}catch{return-1}},He.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},He.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Nj(e)}},He.Ia=function(){return this.m},He.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=UL.prototype).ra=8,He.H=1,He.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new rE(this,this.l,n);let u=this.s;if(this.U&&(u?(u=kM(u),FM(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZL(this,i,e),An(t=Pc(this.I),"RID",n),An(t,"CVER",22),this.F&&An(t,"X-HTTP-Session-Id",this.F),fE(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(LL(u)))+"&"+e:this.o&&KM(t,this.o,u)),zM(this.i,i),this.bb&&An(t,"TYPE","init"),this.P?(An(t,"$req",e),An(t,"SID","null"),i.aa=!0,$M(i,t,null)):$M(i,t,e),this.H=2}}else 3==this.H&&(n?VL(this,n):0==this.j.length||AL(this.i)||VL(this))},He.Ma=function(){if(this.u=null,qL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=tE(_r(this.jb,this),n)}},He.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ji(10),fA(this),qL(this))},He.ib=function(){null!=this.v&&(this.v=null,fA(this),QM(this),Ji(19))},He.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ji(2)):(this.l.info("Failed to ping google.com"),Ji(1))},He.isActive=function(){return!!this.h&&this.h.isActive(this)},(He=KL.prototype).Ba=function(){},He.Aa=function(){},He.za=function(){},He.ya=function(){},He.isActive=function(){return!0},He.Va=function(){},mA.prototype.g=function(n,e){return new qs(n,e)},yr(qs,S),qs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ji(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=zL(n,null,n.Y),pA(n)},qs.prototype.close=function(){YM(this.g)},qs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=H(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&pA(e)},qs.prototype.N=function(){this.g.h=null,delete this.j,YM(this.g),delete this.g,qs.$.N.call(this)},yr(YL,VM),yr(QL,ZM),yr(S0,KL),S0.prototype.Ba=function(){N(this.g,"a")},S0.prototype.Aa=function(n){N(this.g,new YL(n))},S0.prototype.za=function(n){N(this.g,new QL)},S0.prototype.ya=function(){N(this.g,"b")},yr(la,function Lj(){this.blockSize=-1}),la.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},la.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)XM(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){XM(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){XM(this,r),i=0;break}}this.h=i,this.i+=e},la.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Uj={};function eN(n){return-128<=n&&128>n?function JF(n,e){var t=Uj;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new dn([0|e],0>e?-1:0)}):new dn([0|n],0>n?-1:0)}function uu(n){if(isNaN(n)||!isFinite(n))return x0;if(0>n)return vi(uu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=tN;return new dn(e,0)}var tN=4294967296,x0=eN(0),nN=eN(1),XL=eN(16777216);function Oc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function wo(n){return-1==n.h}function vi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new dn(t,~n.h).add(nN)}function _A(n,e){return n.add(vi(e))}function yA(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function pE(n,e){this.g=n,this.h=e}function vA(n,e){if(Oc(e))throw Error("division by zero");if(Oc(n))return new pE(x0,x0);if(wo(n))return e=vA(vi(n),e),new pE(vi(e.g),vi(e.h));if(wo(e))return e=vA(n,vi(e)),new pE(vi(e.g),e.h);if(30<n.g.length){if(wo(n)||wo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=nN,r=e;0>=r.X(n);)t=eU(t),r=eU(r);var i=M0(t,1),u=M0(r,1);for(r=M0(r,2),t=M0(t,2);!Oc(r);){var l=u.add(r);0>=l.X(n)&&(i=i.add(t),u=l),r=M0(r,1),t=M0(t,1)}return e=_A(n,i.R(e)),new pE(i,e)}for(i=x0;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=uu(t)).R(e);wo(l)||0<l.X(n);)l=(u=uu(t-=r)).R(e);Oc(u)&&(u=nN),i=i.add(u),n=_A(n,l)}return new pE(i,n)}function eU(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new dn(t,n.h)}function M0(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new dn(i,n.h)}(He=dn.prototype).ea=function(){if(wo(this))return-vi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:tN+r)*e,e*=tN}return n},He.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Oc(this))return"0";if(wo(this))return"-"+vi(this).toString(n);for(var e=uu(Math.pow(n,6)),t=this,r="";;){var i=vA(t,e).g,u=((0<(t=_A(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Oc(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},He.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},He.X=function(n){return wo(n=_A(this,n))?-1:Oc(n)?0:1},He.abs=function(){return wo(this)?vi(this):this},He.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),l=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(u&=65535)}return new dn(t,-2147483648&t[t.length-1]?-1:0)},He.R=function(n){if(Oc(this)||Oc(n))return x0;if(wo(this))return wo(n)?vi(this).R(vi(n)):vi(vi(this).R(n));if(wo(n))return vi(this.R(vi(n)));if(0>this.X(XL)&&0>n.X(XL))return uu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=l*m,yA(t,2*r+2*i),t[2*r+2*i+1]+=u*m,yA(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,yA(t,2*r+2*i+1),t[2*r+2*i+2]+=u*f,yA(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new dn(t,0)},He.gb=function(n){return vA(this,n).h},He.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new dn(t,this.h&n.h)},He.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new dn(t,this.h|n.h)},He.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new dn(t,this.h^n.h)},mA.prototype.createWebChannel=mA.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,rA.NO_ERROR=0,rA.TIMEOUT=8,rA.HTTP_ERROR=6,lL.COMPLETE="complete",hL.EventType=nE,nE.OPEN="a",nE.CLOSE="b",nE.ERROR="c",nE.MESSAGE="d",S.prototype.listen=S.prototype.O,er.prototype.listenOnce=er.prototype.P,er.prototype.getLastError=er.prototype.Sa,er.prototype.getLastErrorCode=er.prototype.Ia,er.prototype.getStatus=er.prototype.da,er.prototype.getResponseJson=er.prototype.Wa,er.prototype.getResponseText=er.prototype.ja,er.prototype.send=er.prototype.ha,er.prototype.setWithCredentials=er.prototype.Oa,la.prototype.digest=la.prototype.l,la.prototype.reset=la.prototype.reset,la.prototype.update=la.prototype.j,dn.prototype.add=dn.prototype.add,dn.prototype.multiply=dn.prototype.R,dn.prototype.modulo=dn.prototype.gb,dn.prototype.compare=dn.prototype.X,dn.prototype.toNumber=dn.prototype.ea,dn.prototype.toString=dn.prototype.toString,dn.prototype.getBits=dn.prototype.D,dn.fromNumber=uu,dn.fromString=function JL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return vi(JL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=uu(Math.pow(e,8)),r=x0,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+u),e);8>u?(u=uu(Math.pow(e,u)),r=r.R(u).add(uu(l))):r=(r=r.R(t)).add(uu(l))}return r};var Bj=Vs.createWebChannelTransport=function(){return new mA},Vj=Vs.getStatEventTarget=function(){return nA()},rN=Vs.ErrorCode=rA,Zj=Vs.EventType=lL,jj=Vs.Event=Wf,tU=Vs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qj=Vs.FetchXmlHttpFactory=cE,EA=Vs.WebChannel=hL,$j=Vs.XhrIo=er,Hj=Vs.Md5=la,N0=Vs.Integer=dn;const nU="@firebase/firestore";class Xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");let R0="9.23.0";const Nd=new zr.Yd("@firebase/firestore");function iN(){return Nd.logLevel}function De(n,...e){if(Nd.logLevel<=zr.in.DEBUG){const t=e.map(sN);Nd.debug(`Firestore (${R0}): ${n}`,...t)}}function ar(n,...e){if(Nd.logLevel<=zr.in.ERROR){const t=e.map(sN);Nd.error(`Firestore (${R0}): ${n}`,...t)}}function da(n,...e){if(Nd.logLevel<=zr.in.WARN){const t=e.map(sN);Nd.warn(`Firestore (${R0}): ${n}`,...t)}}function sN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${R0}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function it(n,e){n||Xe()}function Ge(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xr.UNAUTHENTICATED))}shutdown(){}}class zj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wj{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new kr,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,R.Z)(function*(){yield v.promise,yield u(r.currentUser)}))},m=v=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new kr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it("string"==typeof r.accessToken),new rU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(null===e||"string"==typeof e),new Xr(e)}}class Kj{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yj{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Kj(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qj{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it("string"==typeof t.token),this.T=t.token,new iU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class sU{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Jj(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[u]%62))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function P0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new zn(0,0))}static max(){return new ot(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gE{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gE?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),l=t.get(i);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends gE{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const Xj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends gE{construct(e,t,r){return new ur(e,t,r)}static isValidIdentifier(e){return Xj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ie(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Ie(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(u(),i++)}if(u(),l)throw new Ie(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(t)}static emptyPath(){return new ur([])}}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Wt.fromString(e))}static fromName(e){return new $e(Wt.fromString(e).popFirst(5))}static empty(){return new $e(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Wt(e.slice()))}}function uU(n){return new $s(n.readTime,n.key,-1)}class $s{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $s(ot.min(),$e.empty(),-1)}static max(){return new $s(ot.max(),$e.empty(),-1)}}function aN(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const cU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rd(n){return uN.apply(this,arguments)}function uN(){return uN=(0,R.Z)(function*(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==cU)throw n;De("LocalStore","Unexpectedly lost primary lease")}),uN.apply(this,arguments)}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,r)=>{t(e)})}static reject(e){return new z((t,r)=>{r(e)})}static waitFor(e){return new z((t,r)=>{let i=0,u=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++u,l&&u===i&&t()},m=>r(m))}),l=!0,u===i&&t()})}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next(i=>i?z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new z((r,i)=>{const u=e.length,l=new Array(u);let f=0;for(let m=0;m<u;m++){const v=m;t(e[v]).next(T=>{l[v]=T,++f,f===u&&r(l)},T=>i(T))}})}static doWhile(e,t){return new z((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function Pd(n){return"IndexedDbTransactionError"===n.name}let Hs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function yE(n){return null==n}function vE(n){return 0===n&&1/n==-1/0}function yU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Od(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class wn{constructor(e,t){this.comparator=e,this.root=t||Ei.EMPTY}insert(e,t){return new wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bA(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bA(this.root,e,this.comparator,!1)}getReverseIterator(){return new bA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bA(this.root,e,this.comparator,!0)}}class bA{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ei{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Ei.RED,this.left=i??Ei.EMPTY,this.right=u??Ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Ei(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ei.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1,Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ei(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EU(this.data.getIterator())}getIteratorFrom(e){return new EU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class EU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ms{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new ms([])}unionWith(e){let t=new Dn(ur.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return P0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class IU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new IU("Invalid base64 string: "+i):i}}(e);return new Fr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const bq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kd(n){if(it(!!n),"string"==typeof n){let e=0;const t=bq.exec(n);if(it(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tr(n.seconds),nanos:tr(n.nanos)}}function tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function kc(n){return"string"==typeof n?Fr.fromBase64String(n):Fr.fromUint8Array(n)}function AA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function DA(n){const e=n.mapValue.fields.__previous_value__;return AA(e)?DA(e):e}function EE(n){const e=kd(n.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}class Aq{constructor(e,t,r,i,u,l,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class ep{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ep("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ep&&e.projectId===this.projectId&&e.database===this.database}}const Fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ld(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?AA(n)?4:bU(n)?9007199254740991:10:Xe()}function lu(n,e){if(n===e)return!0;const t=Ld(n);if(t!==Ld(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return EE(n).isEqual(EE(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=kd(r.timestampValue),l=kd(i.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,kc(n.bytesValue).isEqual(kc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return tr(r.geoPointValue.latitude)===tr(i.geoPointValue.latitude)&&tr(r.geoPointValue.longitude)===tr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tr(r.integerValue)===tr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=tr(r.doubleValue),l=tr(i.doubleValue);return u===l?vE(u)===vE(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return P0(n.arrayValue.values||[],e.arrayValue.values||[],lu);case 10:return function(r,i){const u=r.mapValue.fields||{},l=i.mapValue.fields||{};if(yU(u)!==yU(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===l[f]||!lu(u[f],l[f])))return!1;return!0}(n,e);default:return Xe()}var i}function IE(n,e){return void 0!==(n.values||[]).find(t=>lu(t,e))}function Ud(n,e){if(n===e)return 0;const t=Ld(n),r=Ld(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const l=tr(i.integerValue||i.doubleValue),f=tr(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return wU(n.timestampValue,e.timestampValue);case 4:return wU(EE(n),EE(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(i,u){const l=kc(i),f=kc(u);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const l=i.split("/"),f=u.split("/");for(let m=0;m<l.length&&m<f.length;m++){const v=xt(l[m],f[m]);if(0!==v)return v}return xt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const l=xt(tr(i.latitude),tr(u.latitude));return 0!==l?l:xt(tr(i.longitude),tr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const l=i.values||[],f=u.values||[];for(let m=0;m<l.length&&m<f.length;++m){const v=Ud(l[m],f[m]);if(v)return v}return xt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Fd.mapValue&&u===Fd.mapValue)return 0;if(i===Fd.mapValue)return 1;if(u===Fd.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let T=0;T<f.length&&T<v.length;++T){const A=xt(f[T],v[T]);if(0!==A)return A;const M=Ud(l[f[T]],m[v[T]]);if(0!==M)return M}return xt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function wU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=kd(n),r=kd(e),i=xt(t.seconds,r.seconds);return 0!==i?i:xt(t.nanos,r.nanos)}function k0(n){return dN(n)}function dN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=kd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?kc(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const l of r.values||[])u?u=!1:i+=",",i+=dN(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const f of i)l?l=!1:u+=",",u+=`${f}:${dN(r.fields[f])}`;return u+"}"}(n.mapValue):Xe();var e}function tp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hN(n){return!!n&&"integerValue"in n}function wE(n){return!!n&&"arrayValue"in n}function CU(n){return!!n&&"nullValue"in n}function TU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function MA(n){return!!n&&"mapValue"in n}function CE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Od(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=CE(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=CE(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!MA(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=CE(t)}setAll(e){let t=ur.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=CE(l):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());MA(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];MA(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Od(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Ii(CE(this.value))}}function SU(n){const e=[];return Od(n.fields,(t,r)=>{const i=new ur([t]);if(MA(r)){const u=SU(r.mapValue).fields;if(0===u.length)e.push(i);else for(const l of u)e.push(i.child(l))}else e.push(i)}),new ms(e)}class Sn{constructor(e,t,r,i,u,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Sn(e,0,ot.min(),ot.min(),ot.min(),Ii.empty(),0)}static newFoundDocument(e,t,r,i){return new Sn(e,1,t,ot.min(),r,i,0)}static newNoDocument(e,t){return new Sn(e,2,t,ot.min(),ot.min(),Ii.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,ot.min(),ot.min(),Ii.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ot.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bd{constructor(e,t){this.position=e,this.inclusive=t}}function xU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],l=n.position[i];if(r=u.field.isKeyField()?$e.comparator($e.fromName(l.referenceValue),t.key):Ud(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function MU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!lu(n.position[t],e.position[t]))return!1;return!0}class F0{constructor(e,t="asc"){this.field=e,this.dir=t}}function xq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class NU{}class jt extends NU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Mq(e,t,r):"array-contains"===t?new Pq(e,r):"in"===t?new LU(e,r):"not-in"===t?new Oq(e,r):"array-contains-any"===t?new kq(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Nq(e,r):new Rq(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ud(t,this.value)):null!==t&&Ld(this.value)===Ld(t)&&this.matchesComparison(Ud(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class hn extends NU{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new hn(e,t)}matches(e){return L0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function L0(n){return"and"===n.op}function pN(n){return function RU(n){for(const e of n.filters)if(e instanceof hn)return!1;return!0}(n)&&L0(n)}function gN(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+k0(n.value);if(pN(n))return n.filters.map(e=>gN(e)).join(",");{const e=n.filters.map(t=>gN(t)).join(",");return`${n.op}(${e})`}}function PU(n,e){return n instanceof jt?(t=n,(r=e)instanceof jt&&t.op===r.op&&t.field.isEqual(r.field)&&lu(t.value,r.value)):n instanceof hn?function(t,r){return r instanceof hn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,l)=>i&&PU(u,r.filters[l]),!0)}(n,e):void Xe();var t,r}function kU(n){return n instanceof jt?`${(e=n).field.canonicalString()} ${e.op} ${k0(e.value)}`:n instanceof hn?function(e){return e.op.toString()+" {"+e.getFilters().map(kU).join(" ,")+"}"}(n):"Filter";var e}class Mq extends jt{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nq extends jt{constructor(e,t){super(e,"in",t),this.keys=FU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Rq extends jt{constructor(e,t){super(e,"not-in",t),this.keys=FU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class Pq extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wE(t)&&IE(t.arrayValue,this.value)}}class LU extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&IE(this.value.arrayValue,t)}}class Oq extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(IE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!IE(this.value.arrayValue,t)}}class kq extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>IE(this.value.arrayValue,r))}}class Fq{constructor(e,t=null,r=[],i=[],u=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=l,this.endAt=f,this.dt=null}}function mN(n,e=null,t=[],r=[],i=null,u=null,l=null){return new Fq(n,e,t,r,i,u,l)}function np(n){const e=Ge(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>gN(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),yE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>k0(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>k0(r)).join(",")),e.dt=t}return e.dt}function TE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MU(n.startAt,e.startAt)&&MU(n.endAt,e.endAt)}function NA(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Fc{constructor(e,t=null,r=[],i=[],u=null,l="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=l,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function U0(n){return new Fc(n)}function ZU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function _N(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function PA(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function yN(n){return null!==n.collectionGroup}function rp(n){const e=Ge(n);if(null===e.wt){e.wt=[];const t=PA(e),r=_N(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new F0(t)),e.wt.push(new F0(ur.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new F0(ur.keyField(),u))}}}return e.wt}function Xi(n){const e=Ge(n);if(!e._t)if("F"===e.limitType)e._t=mN(e.path,e.collectionGroup,rp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of rp(e))t.push(new F0(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Bd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bd(e.startAt.position,e.startAt.inclusive):null;e._t=mN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function vN(n,e){e.getFirstInequalityField(),PA(n);const t=n.filters.concat([e]);return new Fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function OA(n,e,t){return new Fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bE(n,e){return TE(Xi(n),Xi(e))&&n.limitType===e.limitType}function jU(n){return`${np(Xi(n))}|lt:${n.limitType}`}function EN(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>kU(r)).join(", ")}]`),yE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>k0(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>k0(r)).join(",")),`Target(${t})`}(Xi(n))}; limitType=${n.limitType})`}function AE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$e.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of rp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,l){const f=xU(i,u,l);return i.inclusive?f<=0:f<0}(t.startAt,rp(t),r)||t.endAt&&!function(i,u,l){const f=xU(i,u,l);return i.inclusive?f>=0:f>0}(t.endAt,rp(t),r)));var t,r}function $U(n){return(e,t)=>{let r=!1;for(const i of rp(n)){const u=Lq(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function Lq(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(i,u,l){const f=u.data.field(i),m=l.data.field(i);return null!==f&&null!==m?Ud(f,m):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class Lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Od(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return vU(this.inner)}size(){return this.innerSize}}const Uq=new wn($e.comparator);function _s(){return Uq}const HU=new wn($e.comparator);function DE(...n){let e=HU;for(const t of n)e=e.insert(t.key,t);return e}function GU(n){let e=HU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function du(){return SE()}function zU(){return SE()}function SE(){return new Lc(n=>n.toString(),(n,e)=>n.isEqual(e))}const Bq=new wn($e.comparator),Vq=new Dn($e.comparator);function Pt(...n){let e=Vq;for(const t of n)e=e.add(t);return e}const Zq=new Dn(xt);function WU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vE(e)?"-0":e}}function KU(n){return{integerValue:""+n}}function YU(n,e){return function dU(n){return"number"==typeof n&&Number.isInteger(n)&&!vE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?KU(e):WU(n,e)}class kA{constructor(){this._=void 0}}function jq(n,e,t){return n instanceof B0?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&AA(i)&&(i=DA(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof ip?JU(n,e):n instanceof sp?XU(n,e):function(r,i){const u=QU(r,i),l=e5(u)+e5(r.gt);return hN(u)&&hN(r.gt)?KU(l):WU(r.serializer,l)}(n,e)}function qq(n,e,t){return n instanceof ip?JU(n,e):n instanceof sp?XU(n,e):t}function QU(n,e){return n instanceof V0?hN(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class B0 extends kA{}class ip extends kA{constructor(e){super(),this.elements=e}}function JU(n,e){const t=t5(e);for(const r of n.elements)t.some(i=>lu(i,r))||t.push(r);return{arrayValue:{values:t}}}class sp extends kA{constructor(e){super(),this.elements=e}}function XU(n,e){let t=t5(e);for(const r of n.elements)t=t.filter(i=>!lu(i,r));return{arrayValue:{values:t}}}class V0 extends kA{constructor(e,t){super(),this.serializer=e,this.gt=t}}function e5(n){return tr(n.integerValue||n.doubleValue)}function t5(n){return wE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Hq{constructor(e,t){this.version=e,this.transformResults=t}}class Pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function FA(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class LA{}function n5(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new j0(n.key,Pn.none()):new Z0(n.key,n.data,Pn.none());{const t=n.data,r=Ii.empty();let i=new Dn(ur.comparator);for(let u of e.fields)if(!i.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),i=i.add(u)}return new Uc(n.key,r,new ms(i.toArray()),Pn.none())}}function Gq(n,e,t){n instanceof Z0?function(r,i,u){const l=r.value.clone(),f=s5(r.fieldTransforms,i,u.transformResults);l.setAll(f),i.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Uc?function(r,i,u){if(!FA(r.precondition,i))return void i.convertToUnknownDocument(u.version);const l=s5(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(i5(r)),f.setAll(l),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ME(n,e,t,r){return n instanceof Z0?function(i,u,l,f){if(!FA(i.precondition,u))return l;const m=i.value.clone(),v=o5(i.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Uc?function(i,u,l,f){if(!FA(i.precondition,u))return l;const m=o5(i.fieldTransforms,f,u),v=u.data;return v.setAll(i5(i)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,FA(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function zq(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=QU(r.transform,i||null);null!=u&&(null===t&&(t=Ii.empty()),t.set(r.field,u))}return t||null}function r5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&P0(t,r,(i,u)=>function $q(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ip&&r instanceof ip||t instanceof sp&&r instanceof sp?P0(t.elements,r.elements,lu):t instanceof V0&&r instanceof V0?lu(t.gt,r.gt):t instanceof B0&&r instanceof B0);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Z0 extends LA{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uc extends LA{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function i5(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function s5(n,e,t){const r=new Map;it(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],l=u.transform,f=e.data.field(u.field);r.set(u.field,qq(l,f,t[i]))}return r}function o5(n,e,t){const r=new Map;for(const i of n){const u=i.transform,l=t.data.field(i.field);r.set(i.field,jq(u,l,e))}return r}class j0 extends LA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wN extends LA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&Gq(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ME(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ME(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=zU();return this.mutations.forEach(i=>{const u=e.get(i.key),l=u.overlayedDocument;let f=this.applyToLocalView(l,u.mutatedFields);f=t.has(i.key)?null:f;const m=n5(l,f);null!==m&&r.set(i.key,m),l.isValidDocument()||l.convertToNoDocument(ot.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pt())}isEqual(e){return this.batchId===e.batchId&&P0(this.mutations,e.mutations,(t,r)=>r5(t,r))&&P0(this.baseMutations,e.baseMutations,(t,r)=>r5(t,r))}}class TN{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){it(e.mutations.length===r.length);let i=Bq;const u=e.mutations;for(let l=0;l<u.length;l++)i=i.insert(u[l].key,r[l].version);return new TN(e,t,r,i)}}class bN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kq{constructor(e,t){this.count=e,this.unchangedNames=t}}var Er,Kt;function u5(n){if(void 0===n)return ar("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Er.OK:return ne.OK;case Er.CANCELLED:return ne.CANCELLED;case Er.UNKNOWN:return ne.UNKNOWN;case Er.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Er.INTERNAL:return ne.INTERNAL;case Er.UNAVAILABLE:return ne.UNAVAILABLE;case Er.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Er.NOT_FOUND:return ne.NOT_FOUND;case Er.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Er.ABORTED:return ne.ABORTED;case Er.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Er.DATA_LOSS:return ne.DATA_LOSS;default:return Xe()}}(Kt=Er||(Er={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class AN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return UA}static getOrCreateInstance(){return null===UA&&(UA=new AN),UA}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let UA=null;const Yq=new N0([4294967295,4294967295],0);function l5(n){const e=function c5(){return new TextEncoder}().encode(n),t=new Hj;return t.update(e),new Uint8Array(t.digest())}function d5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new N0([t,r],0),new N0([i,u],0)]}class DN{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new NE(`Invalid padding: ${t}`);if(r<0)throw new NE(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new NE(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new NE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=N0.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(N0.fromNumber(r)));return 1===i.compare(Yq)&&(i=new N0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=l5(e),[r,i]=d5(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new DN(u,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=l5(e),[r,i]=d5(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,i,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class NE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class RE{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,PE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new RE(ot.min(),i,new wn(xt),_s(),Pt())}}class PE{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new PE(r,t,Pt(),Pt(),Pt())}}class BA{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class h5{constructor(e,t){this.targetId=e,this.Vt=t}}class f5{constructor(e,t,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class p5{constructor(){this.St=0,this.Dt=m5(),this.Ct=Fr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Pt(),t=Pt(),r=Pt();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new PE(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=m5()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Qq{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=_s(),this.zt=g5(),this.Wt=new wn(xt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(NA(l))if(0===i){const f=new $e(l.path);this.Yt(r,f,Sn.newNoDocument(f,ot.min()))}else it(1===i);else{const f=this.ie(r);if(f!==i){const m=this.re(e,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=AN.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,T,A){var M,O,j,G,X,Ce;const Fe={localCacheCount:T,existenceFilterCount:A.count},ke=A.unchangedNames;return ke&&(Fe.bloomFilter={applied:0===v,hashCount:null!==(M=ke?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(G=null===(j=null===(O=ke?.bits)||void 0===O?void 0:O.bitmap)||void 0===j?void 0:j.length)&&void 0!==G?G:0,padding:null!==(Ce=null===(X=ke?.bits)||void 0===X?void 0:X.padding)&&void 0!==Ce?Ce:0}),Fe}(m,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:f=0}=r;let m,v;try{m=kc(u).toUint8Array()}catch(T){if(T instanceof IU)return da("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{v=new DN(m,l,f)}catch(T){return da(T instanceof NE?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===v.It?1:i!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(f)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const f=this.se(l);if(f){if(u.current&&NA(f.target)){const m=new $e(f.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,Sn.newNoDocument(m,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Pt();this.zt.forEach((u,l)=>{let f=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const i=new RE(e,t,this.Wt,this.jt,r);return this.jt=_s(),this.zt=g5(),this.Wt=new wn(xt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new p5,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Dn(xt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||De("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new p5),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function g5(){return new wn($e.comparator)}function m5(){return new wn($e.comparator)}const Jq={asc:"ASCENDING",desc:"DESCENDING"},Xq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e$={and:"AND",or:"OR"};class t${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function SN(n,e){return n.useProto3Json||yE(e)?e:{value:e}}function q0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _5(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function n$(n,e){return q0(n,e.toTimestamp())}function cr(n){return it(!!n),ot.fromTimestamp(function(e){const t=kd(e);return new zn(t.seconds,t.nanos)}(n))}function xN(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function y5(n){const e=Wt.fromString(n);return it(D5(e)),e}function OE(n,e){return xN(n.databaseId,e.path)}function hu(n,e){const t=y5(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(E5(t))}function MN(n,e){return xN(n.databaseId,e)}function kE(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function E5(n){return it(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function I5(n,e,t){return{name:OE(n,e),fields:t.value.mapValue.fields}}function C5(n,e){return{documents:[MN(n,e.path)]}}function RN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=MN(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=MN(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return A5(hn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(m){if(0!==m.length)return m.map(v=>{return{field:Vd((T=v).field),direction:a$(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=SN(n,e.limit);var f,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function T5(n){let e=function v5(n){const e=y5(n);return 4===e.length?Wt.emptyPath():E5(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){it(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const A=b5(T);return A instanceof hn&&pN(A)?A.getFilters():[A]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new F0($0((A=T).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,yE(A)?null:A}(t.limit));let m=null;var T;t.startAt&&(m=new Bd((T=t.startAt).values||[],!!T.before));let v=null;return t.endAt&&(v=function(T){return new Bd(T.values||[],!T.before)}(t.endAt)),function VU(n,e,t,r,i,u,l,f){return new Fc(n,e,t,r,i,u,l,f)}(e,i,l,u,f,"F",m,v)}function b5(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$0(e.unaryFilter.field);return jt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=$0(e.unaryFilter.field);return jt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$0(e.unaryFilter.field);return jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$0(e.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):void 0!==n.fieldFilter?jt.create($0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return hn.create(e.compositeFilter.filters.map(t=>b5(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Xe()}}(e.compositeFilter.op))}(n):Xe();var e}function a$(n){return Jq[n]}function u$(n){return Xq[n]}function c$(n){return e$[n]}function Vd(n){return{fieldPath:n.canonicalString()}}function $0(n){return ur.fromServerFormat(n.fieldPath)}function A5(n){return n instanceof jt?function(e){if("=="===e.op){if(TU(e.value))return{unaryFilter:{field:Vd(e.field),op:"IS_NAN"}};if(CU(e.value))return{unaryFilter:{field:Vd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(TU(e.value))return{unaryFilter:{field:Vd(e.field),op:"IS_NOT_NAN"}};if(CU(e.value))return{unaryFilter:{field:Vd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vd(e.field),op:u$(e.op),value:e.value}}}(n):n instanceof hn?function(e){const t=e.getFilters().map(r=>A5(r));return 1===t.length?t[0]:{compositeFilter:{op:c$(e.op),filters:t}}}(n):Xe()}function l$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function D5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Bc{constructor(e,t,r,i,u=ot.min(),l=ot.min(),f=Fr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Bc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class S5{constructor(e){this.fe=e}}function PN(n){const e=T5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?OA(e,e.limit,"L"):e}class cp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(tr(e.integerValue));else if("doubleValue"in e){const r=tr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),vE(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(kc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?bU(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Xe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),$e.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}cp.Ve=new cp;class v${constructor(){this.rn=new BN}addToCollectionParentIndex(e,t){return this.rn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve($s.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class BN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dn(Wt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Wt.comparator)).toArray()}}new Uint8Array(0);class Fi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fi(e,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fi.DEFAULT_COLLECTION_PERCENTILE=10,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fi.DEFAULT=new Fi(41943040,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fi.DISABLED=new Fi(-1,0,0);class dp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new dp(0)}static Mn(){return new dp(-1)}}class b${constructor(){this.changes=new Lc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class S${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class eB{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&ME(r.mutation,i,ms.empty(),zn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pt()){const i=du();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let l=DE();return u.forEach((f,m)=>{l=l.insert(f,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=du();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let u=_s();const l=SE(),f=SE();return t.forEach((m,v)=>{const T=r.get(v.key);i.has(v.key)&&(void 0===T||T.mutation instanceof Uc)?u=u.insert(v.key,v):void 0!==T?(l.set(v.key,T.mutation.getFieldMask()),ME(T.mutation,v,T.mutation.getFieldMask(),zn.now())):l.set(v.key,ms.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((v,T)=>l.set(v,T)),t.forEach((v,T)=>{var A;return f.set(v,new S$(T,null!==(A=l.get(v))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=SE();let i=new wn((l,f)=>l-f),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let T=r.get(m)||ms.empty();T=f.applyToLocalView(v,T),r.set(m,T);const A=(i.get(f.batchId)||Pt()).add(m);i=i.insert(f.batchId,A)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,T=m.value,A=zU();T.forEach(M=>{if(!u.has(M)){const O=n5(t.get(M),r.get(M));null!==O&&A.set(M,O),u=u.add(M)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,A))}return z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return $e.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const l=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):z.resolve(du());let f=-1,m=u;return l.next(v=>z.forEach(v,(T,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),u.get(T)?z.resolve():this.remoteDocumentCache.getEntry(e,T).next(M=>{m=m.insert(T,M)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,m,v,Pt())).next(T=>({batchId:f,changes:GU(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let i=DE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=DE();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,f=>{const m=(v=t,T=f.child(i),new Fc(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,T;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((T,A)=>{u=u.insert(T,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((f,m)=>{const v=m.getKey();null===u.get(v)&&(u=u.insert(v,Sn.newInvalidDocument(v)))});let l=DE();return u.forEach((f,m)=>{const v=i.get(f);void 0!==v&&ME(v.mutation,m,ms.empty(),zn.now()),AE(t,m)&&(l=l.insert(f,m))}),l})}}class x${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return z.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:cr(r.createTime)}),z.resolve()}getNamedQuery(e,t){return z.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:PN(r.bundledQuery),readTime:cr(r.readTime)}),z.resolve();var r}}class M${constructor(){this.overlays=new wn($e.comparator),this.ls=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=du();return z.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const i=du(),u=t.length+1,l=new $e(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&m.largestBatchId>r&&i.set(m.getKey(),m)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new wn((v,T)=>v-T);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let T=u.get(v.largestBatchId);null===T&&(T=du(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const f=du(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,T)=>f.set(v,T)),!(f.size()>=i)););return z.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new bN(t,r));let u=this.ls.get(t);void 0===u&&(u=Pt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class VN{constructor(){this.fs=new Dn(ti.ds),this.ws=new Dn(ti._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ti(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ti(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new $e(new Wt([])),r=new ti(t,e),i=new ti(t,e+1),u=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new $e(new Wt([])),r=new ti(t,e),i=new ti(t,e+1);let u=Pt();return this.ws.forEachInRange([r,i],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new ti(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ti{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return $e.comparator(e.key,t.key)||xt(e.As,t.As)}static _s(e,t){return xt(e.As,t.As)||$e.comparator(e.key,t.key)}}class N${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Dn(ti.ds)}checkEmpty(e){return z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const l=new CN(u,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new ti(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return z.resolve(l)}lookupMutationBatch(e,t){return z.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ti(t,0),i=new ti(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);u.push(f)}),z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(xt);return t.forEach(i=>{const u=new ti(i,0),l=new ti(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],f=>{r=r.add(f.As)})}),z.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;$e.isDocumentKey(u)||(u=u.child(""));const l=new ti(new $e(u),0);let f=new Dn(xt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m.As)),!0)},l),z.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){it(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return z.forEach(t.mutations,i=>{const u=new ti(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ti(t,0),i=this.Rs.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return z.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class R${constructor(e){this.Ds=e,this.docs=new wn($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let r=_s();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Sn.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=_s();const l=t.path,f=new $e(l.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:T}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||aN(uU(T),r)<=0||(i.has(T.key)||AE(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return z.resolve(u)}getAllFromCollectionGroup(e,t,r,i){Xe()}Cs(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new P$(this)}getSize(e){return z.resolve(this.size)}}class P$ extends b${constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class O${constructor(e){this.persistence=e,this.xs=new Lc(t=>np(t),TE),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Ns=0,this.ks=new VN,this.targetCount=0,this.Ms=dp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),z.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new dp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Fn(t),z.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),z.waitFor(u).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(l=>{u.push(i.markPotentiallyOrphaned(e,l))}),z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.ks.containsKey(t))}}class ZN{constructor(e,t){this.$s={},this.overlays={},this.Os=new Hs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new O$(this),this.indexManager=new v$,this.remoteDocumentCache=new R$(r=>this.referenceDelegate.Ls(r)),this.serializer=new S5(t),this.qs=new x$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new M$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new N$(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){De("MemoryPersistence","Starting transaction:",e);const i=new k$(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return z.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class k$ extends nq{constructor(e){super(),this.currentSequenceNumber=e}}class WA{constructor(e){this.persistence=e,this.Qs=new VN,this.js=null}static zs(e){return new WA(e)}get Ws(){if(this.js)return this.js;throw Xe()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),z.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Ws,r=>{const i=$e.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,ot.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return z.or([()=>z.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class HN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Pt(),i=Pt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new HN(e,t.fromCache,r,i)}}class nB{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(ZU(t))return z.resolve(null);let r=Xi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=OA(t,null,"F"),r=Xi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Pt(...u);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.ji(t,f);return this.zi(t,v,l,m.readTime)?this.Ki(e,OA(t,null,"F")):this.Wi(e,v,t,m)}))})))}Gi(e,t,r,i){return ZU(t)||i.isEqual(ot.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,i)?this.Qi(e,t):(iN()<=zr.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),EN(t)),this.Wi(e,l,t,function aU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(1e9===r?new zn(t+1,0):new zn(t,r));return new $s(i,$e.empty(),e)}(i,-1)))})}ji(e,t){let r=new Dn($U(e));return t.forEach((i,u)=>{AE(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return iN()<=zr.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",EN(t)),this.Ui.getDocumentsMatchingQuery(e,t,$s.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class L${constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new wn(xt),this.Yi=new Lc(u=>np(u),TE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function iB(n,e){return GN.apply(this,arguments)}function GN(){return GN=(0,R.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],f=[];let m=Pt();for(const v of i){l.push(v.batchId);for(const T of v.mutations)m=m.add(T.key)}for(const v of u){f.push(v.batchId);for(const T of v.mutations)m=m.add(T.key)}return t.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),GN.apply(this,arguments)}function sB(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function V$(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function W0(n,e,t){return zN.apply(this,arguments)}function zN(){return zN=(0,R.Z)(function*(n,e,t){const r=Ge(n),i=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Pd(l))throw l;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),zN.apply(this,arguments)}function QA(n,e,t){const r=Ge(n);let i=ot.min(),u=Pt();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,m,v){const T=Ge(f),A=T.Yi.get(v);return void 0!==A?z.resolve(T.Ji.get(A)):T.Bs.getTargetData(m,v)}(r,l,Xi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(m=>{u=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:ot.min(),t?u:Pt())).next(f=>(function cB(n,e,t){let r=n.Xi.get(e)||ot.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function qU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:u})))}class JN{constructor(){this.activeTargetIds=function IN(){return Zq}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hB{constructor(){this.Hr=new JN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new JN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class q${Yr(e){}shutdown(){}}class fB{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let e3=null;function eR(){return null===e3?e3=268435456+Math.round(2147483648*Math.random()):e3++,"0x"+e3.toString(16)}const $$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H${constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Li="WebChannelConnection";class G$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const l=eR(),f=this.To(e,t);De("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const m={};return this.Eo(m,i,u),this.Ao(e,f,m,r).then(v=>(De("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw da("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,i,u,l){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+R0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${$$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=eR();return new Promise((l,f)=>{const m=new $j;m.setWithCredentials(!0),m.listenOnce(Zj.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case rN.NO_ERROR:const T=m.getResponseJson();De(Li,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),l(T);break;case rN.TIMEOUT:De(Li,`RPC '${e}' ${u} timed out`),f(new Ie(ne.DEADLINE_EXCEEDED,"Request time out"));break;case rN.HTTP_ERROR:const A=m.getStatus();if(De(Li,`RPC '${e}' ${u} failed with status:`,A,"response text:",m.getResponseText()),A>0){let M=m.getResponseJson();Array.isArray(M)&&(M=M[0]);const O=M?.error;if(O&&O.status&&O.message){const j=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN}(O.status);f(new Ie(j,O.message))}else f(new Ie(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Ie(ne.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{De(Li,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(i);De(Li,`RPC '${e}' ${u} sending request:`,i),m.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=eR(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Bj(),f=Vj(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new qj({})),this.Eo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const T=u.join("");De(Li,`Creating RPC '${e}' stream ${i}: ${T}`,m);const A=l.createWebChannel(T,m);let M=!1,O=!1;const j=new H$({ro:X=>{O?De(Li,`Not sending because RPC '${e}' stream ${i} is closed:`,X):(M||(De(Li,`Opening RPC '${e}' stream ${i} transport.`),A.open(),M=!0),De(Li,`RPC '${e}' stream ${i} sending:`,X),A.send(X))},oo:()=>A.close()}),G=(X,Ce,Fe)=>{X.listen(Ce,ke=>{try{Fe(ke)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return G(A,EA.EventType.OPEN,()=>{O||De(Li,`RPC '${e}' stream ${i} transport opened.`)}),G(A,EA.EventType.CLOSE,()=>{O||(O=!0,De(Li,`RPC '${e}' stream ${i} transport closed`),j.wo())}),G(A,EA.EventType.ERROR,X=>{O||(O=!0,da(Li,`RPC '${e}' stream ${i} transport errored:`,X),j.wo(new Ie(ne.UNAVAILABLE,"The operation could not be completed")))}),G(A,EA.EventType.MESSAGE,X=>{var Ce;if(!O){const Fe=X.data[0];it(!!Fe);const Ye=Fe.error||(null===(Ce=Fe[0])||void 0===Ce?void 0:Ce.error);if(Ye){De(Li,`RPC '${e}' stream ${i} received error:`,Ye);const _t=Ye.status;let gt=function(Tr){const Ui=Er[Tr];if(void 0!==Ui)return u5(Ui)}(_t),Yt=Ye.message;void 0===gt&&(gt=ne.INTERNAL,Yt="Unknown error status: "+_t+" with message "+Ye.message),O=!0,j.wo(new Ie(gt,Yt)),A.close()}else De(Li,`RPC '${e}' stream ${i} received:`,Fe),j._o(Fe)}}),G(f,jj.STAT_EVENT,X=>{X.stat===tU.PROXY?De(Li,`RPC '${e}' stream ${i} detected buffering proxy`):X.stat===tU.NOPROXY&&De(Li,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{j.fo()},0),j}}function t3(){return typeof document<"u"?document:null}function HE(n){return new t$(n,!0)}class tR{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class gB{constructor(e,t,r,i,u,l,f,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new tR(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,R.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,R.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,R.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ie(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,R.Z)(function*(){e.state=0,e.start()}))}tu(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z$ extends gB{constructor(e,t,r,i,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function i$(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:Xe(),i=e.targetChange.targetIds||[],u=function(m,v){return m.useProto3Json?(it(void 0===v||"string"==typeof v),Fr.fromBase64String(v||"")):(it(void 0===v||v instanceof Uint8Array),Fr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(m){const v=void 0===m.code?ne.UNKNOWN:u5(m.code);return new Ie(v,m.message||"")}(l);t=new f5(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=hu(n,r.document.name),u=cr(r.document.updateTime),l=r.document.createTime?cr(r.document.createTime):ot.min(),f=new Ii({mapValue:{fields:r.document.fields}}),m=Sn.newFoundDocument(i,u,l,f);t=new BA(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=hu(n,r.document),u=r.readTime?cr(r.readTime):ot.min(),l=Sn.newNoDocument(i,u);t=new BA([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=hu(n,r.document);t=new BA([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:i=0,unchangedNames:u}=r,l=new Kq(i,u);t=new h5(r.targetId,l)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return ot.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?ot.min():u.readTime?cr(u.readTime):ot.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=kE(this.serializer),t.addTarget=function(i,u){let l;const f=u.target;if(l=NA(f)?{documents:C5(i,f)}:{query:RN(i,f)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=_5(i,u.resumeToken);const m=SN(i,u.expectedCount);null!==m&&(l.expectedCount=m)}else if(u.snapshotVersion.compareTo(ot.min())>0){l.readTime=q0(i,u.snapshotVersion.toTimestamp());const m=SN(i,u.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const r=function o$(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=kE(this.serializer),t.removeTarget=e,this.Wo(t)}}class W$ extends gB{constructor(e,t,r,i,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function s$(n,e){return n&&n.length>0?(it(void 0!==e),n.map(t=>function(r,i){let u=cr(r.updateTime?r.updateTime:i);return u.isEqual(ot.min())&&(u=cr(i)),new Hq(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=cr(e.commitTime);return this.listener.cu(r,t)}return it(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=kE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function FE(n,e){let t;if(e instanceof Z0)t={update:I5(n,e.key,e.value)};else if(e instanceof j0)t={delete:OE(n,e.key)};else if(e instanceof Uc)t={update:I5(n,e.key,e.data),updateMask:l$(e.fieldMask)};else{if(!(e instanceof wN))return Xe();t={verify:OE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const l=u.transform;if(l instanceof B0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ip)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof sp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof V0)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:n$(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Xe()),t;var i}(this.serializer,r))};this.Wo(t)}}class K$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ie(ne.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(ne.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class Q${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ar(t),this.mu=!1):De("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class J${constructor(e,t,r,i,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(f=>{r.enqueueAndForget((0,R.Z)(function*(){var m;$d(l)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,R.Z)(function*(v){const T=Ge(v);T.vu.add(4),yield K0(T),T.bu.set("Unknown"),T.vu.delete(4),yield GE(T)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new Q$(r,i)}}function GE(n){return rR.apply(this,arguments)}function rR(){return rR=(0,R.Z)(function*(n){if($d(n))for(const e of n.Ru)yield e(!0)}),rR.apply(this,arguments)}function K0(n){return iR.apply(this,arguments)}function iR(){return iR=(0,R.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),iR.apply(this,arguments)}function n3(n,e){const t=Ge(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),aR(t)?oR(t):Q0(t).Ko()&&sR(t,e))}function zE(n,e){const t=Ge(n),r=Q0(t);t.Au.delete(e),r.Ko()&&mB(t,e),0===t.Au.size&&(r.Ko()?r.jo():$d(t)&&t.bu.set("Unknown"))}function sR(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Q0(n).su(e)}function mB(n,e){n.Vu.qt(e),Q0(n).iu(e)}function oR(n){n.Vu=new Qq({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Q0(n).start(),n.bu.gu()}function aR(n){return $d(n)&&!Q0(n).Uo()&&n.Au.size>0}function $d(n){return 0===Ge(n).vu.size}function _B(n){n.Vu=void 0}function X$(n){return uR.apply(this,arguments)}function uR(){return uR=(0,R.Z)(function*(n){n.Au.forEach((e,t)=>{sR(n,e)})}),uR.apply(this,arguments)}function eH(n,e){return cR.apply(this,arguments)}function cR(){return cR=(0,R.Z)(function*(n,e){_B(n),aR(n)?(n.bu.Iu(e),oR(n)):n.bu.set("Unknown")}),cR.apply(this,arguments)}function tH(n,e,t){return lR.apply(this,arguments)}function lR(){return lR=(0,R.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof f5&&2===e.state&&e.cause)try{yield(r=(0,R.Z)(function*(i,u){const l=u.cause;for(const f of u.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield r3(n,r)}else if(e instanceof BA?n.Vu.Ht(e):e instanceof h5?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ot.min()))try{const r=yield sB(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const l=i.Vu.ce(u);return l.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(m);v&&i.Au.set(m,v.withResumeToken(f.resumeToken,u))}}),l.targetMismatches.forEach((f,m)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(Fr.EMPTY_BYTE_STRING,v.snapshotVersion)),mB(i,f);const T=new Bc(v.target,f,m,v.sequenceNumber);sR(i,T)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){De("RemoteStore","Failed to raise snapshot:",r),yield r3(n,r)}var r}),lR.apply(this,arguments)}function r3(n,e,t){return dR.apply(this,arguments)}function dR(){return dR=(0,R.Z)(function*(n,e,t){if(!Pd(e))throw e;n.vu.add(1),yield K0(n),n.bu.set("Offline"),t||(t=()=>sB(n.localStore)),n.asyncQueue.enqueueRetryable((0,R.Z)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield GE(n)}))}),dR.apply(this,arguments)}function yB(n,e){return e().catch(t=>r3(n,t,e))}function Y0(n){return hR.apply(this,arguments)}function hR(){return hR=(0,R.Z)(function*(n){const e=Ge(n),t=Hd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;nH(e);)try{const i=yield V$(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,rH(e,i)}catch(i){yield r3(e,i)}vB(e)&&EB(e)}),hR.apply(this,arguments)}function nH(n){return $d(n)&&n.Eu.length<10}function rH(n,e){n.Eu.push(e);const t=Hd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function vB(n){return $d(n)&&!Hd(n).Uo()&&n.Eu.length>0}function EB(n){Hd(n).start()}function iH(n){return fR.apply(this,arguments)}function fR(){return fR=(0,R.Z)(function*(n){Hd(n).hu()}),fR.apply(this,arguments)}function sH(n){return pR.apply(this,arguments)}function pR(){return pR=(0,R.Z)(function*(n){const e=Hd(n);for(const t of n.Eu)e.uu(t.mutations)}),pR.apply(this,arguments)}function oH(n,e,t){return gR.apply(this,arguments)}function gR(){return gR=(0,R.Z)(function*(n,e,t){const r=n.Eu.shift(),i=TN.from(r,e,t);yield yB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Y0(n)}),gR.apply(this,arguments)}function aH(n,e){return mR.apply(this,arguments)}function mR(){return mR=(0,R.Z)(function*(n,e){var t;e&&Hd(n).ou&&(yield(t=(0,R.Z)(function*(r,i){if(function a5(n){switch(n){default:return Xe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}(u=i.code)&&u!==ne.ABORTED){const l=r.Eu.shift();Hd(r).Qo(),yield yB(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Y0(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),vB(n)&&EB(n)}),mR.apply(this,arguments)}function IB(n,e){return _R.apply(this,arguments)}function _R(){return _R=(0,R.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=$d(t);t.vu.add(3),yield K0(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield GE(t)}),_R.apply(this,arguments)}function vR(){return vR=(0,R.Z)(function*(n,e){const t=Ge(n);e?(t.vu.delete(2),yield GE(t)):e||(t.vu.add(2),yield K0(t),t.bu.set("Unknown"))}),vR.apply(this,arguments)}function Q0(n){return n.Su||(n.Su=function(e,t,r){const i=Ge(e);return i.fu(),new z$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:X$.bind(null,n),ao:eH.bind(null,n),nu:tH.bind(null,n)}),n.Ru.push(function(){var e=(0,R.Z)(function*(t){t?(n.Su.Qo(),aR(n)?oR(n):n.bu.set("Unknown")):(yield n.Su.stop(),_B(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Hd(n){return n.Du||(n.Du=function(e,t,r){const i=Ge(e);return i.fu(),new W$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:iH.bind(null,n),ao:aH.bind(null,n),au:sH.bind(null,n),cu:oH.bind(null,n)}),n.Ru.push(function(){var e=(0,R.Z)(function*(t){t?(n.Du.Qo(),yield Y0(n)):(yield n.Du.stop(),n.Eu.length>0&&(De("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class ER{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,u){const l=Date.now()+r,f=new ER(e,t,l,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J0(n,e){if(ar("AsyncQueue",`${e}: ${n}`),Pd(n))return new Ie(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class X0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=DE(),this.sortedSet=new wn(this.comparator)}static emptySet(e){return new X0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof X0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new X0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class wB{constructor(){this.Cu=new wn($e.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Xe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class e_{constructor(e,t,r,i,u,l,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,u){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new e_(e,t,X0.emptySet(t),l,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class uH{constructor(){this.Nu=void 0,this.listeners=[]}}class cH{constructor(){this.queries=new Lc(e=>jU(e),bE),this.onlineState="Unknown",this.ku=new Set}}function IR(n,e){return wR.apply(this,arguments)}function wR(){return wR=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new uH),i)try{u.Nu=yield t.onListen(r)}catch(l){const f=J0(l,`Initialization of query '${EN(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&bR(t)}),wR.apply(this,arguments)}function CR(n,e){return TR.apply(this,arguments)}function TR(){return TR=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),TR.apply(this,arguments)}function lH(n,e){const t=Ge(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&bR(t)}function dH(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function bR(n){n.ku.forEach(e=>{e.next()})}class AR{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new e_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=e_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class bB{constructor(e){this.key=e}}class AB{constructor(e){this.key=e}}class DB{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Pt(),this.mutatedKeys=Pt(),this.tc=$U(e),this.ec=new X0(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new wB,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const M=i.get(T),O=AE(this.query,A)?A:null,j=!!M&&this.mutatedKeys.has(M.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let X=!1;M&&O?M.data.isEqual(O.data)?j!==G&&(r.track({type:3,doc:O}),X=!0):this.rc(M,O)||(r.track({type:2,doc:O}),X=!0,(m&&this.tc(O,m)>0||v&&this.tc(O,v)<0)&&(f=!0)):!M&&O?(r.track({type:0,doc:O}),X=!0):M&&!O&&(r.track({type:1,doc:M}),X=!0,(m||v)&&(f=!0)),X&&(O?(l=l.add(O),u=G?u.add(T):u.delete(T)):(l=l.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:f,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((v,T)=>function(A,M){const O=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return O(A)-O(M)}(v.type,T.type)||this.tc(v.doc,T.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==u.length||m?{snapshot:new e_(this.query,e.ec,i,u,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new wB,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Pt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new AB(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new bB(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Pt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return e_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gH{constructor(e){this.key=e,this.fc=!1}}class mH{constructor(e,t,r,i,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Lc(f=>jU(f),bE),this._c=new Map,this.mc=new Set,this.gc=new wn($e.comparator),this.yc=new Map,this.Ic=new VN,this.Tc={},this.Ec=new Map,this.Ac=dp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function _H(n,e){return DR.apply(this,arguments)}function DR(){return DR=(0,R.Z)(function*(n,e){const t=function YR(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EH.bind(null,e),e.dc.nu=lH.bind(null,e.eventManager),e.dc.Pc=dH.bind(null,e.eventManager),e}(n);let r,i;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.lc();else{const l=yield function z0(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,z.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Bc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Xi(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield function SR(n,e,t,r,i){return xR.apply(this,arguments)}(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&n3(t.remoteStore,l)}return i}),DR.apply(this,arguments)}function xR(){return xR=(0,R.Z)(function*(n,e,t,r,i){n.Rc=(A,M,O)=>{return(j=(0,R.Z)(function*(G,X,Ce,Fe){let ke=X.view.sc(Ce);ke.zi&&(ke=yield QA(G.localStore,X.query,!1).then(({documents:gt})=>X.view.sc(gt,ke)));const Ye=Fe&&Fe.targetChanges.get(X.targetId),_t=X.view.applyChanges(ke,G.isPrimaryClient,Ye);return BR(G,X.targetId,_t.cc),_t.snapshot}),function(G,X,Ce,Fe){return j.apply(this,arguments)})(n,A,M,O);var j};const u=yield QA(n.localStore,e,!0),l=new DB(e,u.ir),f=l.sc(u.documents),m=PE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=l.applyChanges(f,n.isPrimaryClient,m);BR(n,t,v.cc);const T=new pH(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),xR.apply(this,arguments)}function yH(n,e){return MR.apply(this,arguments)}function MR(){return MR=(0,R.Z)(function*(n,e){const t=Ge(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!bE(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield W0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),zE(t.remoteStore,r.targetId),t_(t,r.targetId)}).catch(Rd))):(t_(t,r.targetId),yield W0(t.localStore,r.targetId,!0))}),MR.apply(this,arguments)}function NR(){return NR=(0,R.Z)(function*(n,e,t){const r=function QR(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wH.bind(null,e),e}(n);try{const i=yield function(u,l){const f=Ge(u),m=zn.now(),v=l.reduce((M,O)=>M.add(O.key),Pt());let T,A;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=_s(),j=Pt();return f.Zi.getEntries(M,v).next(G=>{O=G,O.forEach((X,Ce)=>{Ce.isValidDocument()||(j=j.add(X))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,O)).next(G=>{T=G;const X=[];for(const Ce of l){const Fe=zq(Ce,T.get(Ce.key).overlayedDocument);null!=Fe&&X.push(new Uc(Ce.key,Fe,SU(Fe.value.mapValue),Pn.exists(!0)))}return f.mutationQueue.addMutationBatch(M,m,X,l)}).next(G=>{A=G;const X=G.applyToLocalDocumentSet(T,j);return f.documentOverlayCache.saveOverlays(M,G.batchId,X)})}).then(()=>({batchId:A.batchId,changes:GU(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,f){let m=u.Tc[u.currentUser.toKey()];m||(m=new wn(xt)),m=m.insert(l,f),u.Tc[u.currentUser.toKey()]=m}(r,i.batchId,t),yield Vc(r,i.changes),yield Y0(r.remoteStore)}catch(i){const u=J0(i,"Failed to persist write");t.reject(u)}}),NR.apply(this,arguments)}function SB(n,e){return RR.apply(this,arguments)}function RR(){return RR=(0,R.Z)(function*(n,e){const t=Ge(n);try{const r=yield function B$(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((T,A)=>{const M=i.get(A);if(!M)return;f.push(t.Bs.removeMatchingKeys(u,T.removedDocuments,A).next(()=>t.Bs.addMatchingKeys(u,T.addedDocuments,A)));let O=M.withSequenceNumber(u.currentSequenceNumber);var j,G,X;null!==e.targetMismatches.get(A)?O=O.withResumeToken(Fr.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,r)),i=i.insert(A,O),G=O,X=T,(0===(j=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(u,O))});let m=_s(),v=Pt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),f.push(function oB(n,e,t){let r=Pt(),i=Pt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=_s();return t.forEach((f,m)=>{const v=u.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(ot.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):De("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:i}})}(u,l,e.documentUpdates).next(T=>{m=T.nr,v=T.sr})),!r.isEqual(ot.min())){const T=t.Bs.getLastRemoteSnapshotVersion(u).next(A=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(T)}return z.waitFor(f).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,v)).next(()=>m)}).then(u=>(t.Ji=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const l=t.yc.get(u);l&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?it(l.fc):i.removedDocuments.size>0&&(it(l.fc),l.fc=!1))}),yield Vc(t,r,e)}catch(r){yield Rd(r)}}),RR.apply(this,arguments)}function xB(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(u,l){const f=Ge(u);f.onlineState=l;let m=!1;f.queries.forEach((v,T)=>{for(const A of T.listeners)A.Mu(l)&&(m=!0)}),m&&bR(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EH(n,e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,R.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),u=i&&i.key;if(u){let l=new wn($e.comparator);l=l.insert(u,Sn.newNoDocument(u,ot.min()));const f=Pt().add(u),m=new RE(ot.min(),new Map,new wn(xt),l,f);yield SB(r,m),r.gc=r.gc.remove(u),r.yc.delete(e),VR(r)}else yield W0(r.localStore,e,!1).then(()=>t_(r,e,t)).catch(Rd)}),PR.apply(this,arguments)}function IH(n,e){return OR.apply(this,arguments)}function OR(){return OR=(0,R.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield function U$(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,m,v){const T=m.batch,A=T.keys();let M=z.resolve();return A.forEach(O=>{M=M.next(()=>v.getEntry(f,O)).next(j=>{const G=m.docVersions.get(O);it(null!==G),j.version.compareTo(G)<0&&(T.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),v.addEntry(j)))})}),M.next(()=>l.mutationQueue.removeMutationBatch(f,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=Pt();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(f=f.add(l.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);UR(t,r,null),LR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(t,i)}catch(i){yield Rd(i)}}),OR.apply(this,arguments)}function wH(n,e,t){return kR.apply(this,arguments)}function kR(){return kR=(0,R.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(u,l){const f=Ge(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,l).next(T=>(it(null!==T),v=T.keys(),f.mutationQueue.removeMutationBatch(m,T))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);UR(r,e,t),LR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(r,i)}catch(i){yield Rd(i)}}),kR.apply(this,arguments)}function LR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function UR(n,e,t){const r=Ge(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function t_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||MB(n,r)})}function MB(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(zE(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),VR(n))}function BR(n,e,t){for(const r of t)r instanceof bB?(n.Ic.addReference(r.key,e),TH(n,r)):r instanceof AB?(De("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||MB(n,r.key)):Xe()}function TH(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(De("SyncEngine","New document in limbo: "+t),n.mc.add(r),VR(n))}function VR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new $e(Wt.fromString(e)),r=n.Ac.next();n.yc.set(r,new gH(t)),n.gc=n.gc.insert(t,r),n3(n.remoteStore,new Bc(Xi(U0(t.path)),r,"TargetPurposeLimboResolution",Hs.ct))}}function Vc(n,e,t){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,R.Z)(function*(n,e,t){const r=Ge(n),i=[],u=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{l.push(r.Rc(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const T=HN.Li(m.targetId,v);u.push(T)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,R.Z)(function*(m,v){const T=Ge(m);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>z.forEach(v,M=>z.forEach(M.Fi,O=>T.persistence.referenceDelegate.addReference(A,M.targetId,O)).next(()=>z.forEach(M.Bi,O=>T.persistence.referenceDelegate.removeReference(A,M.targetId,O)))))}catch(A){if(!Pd(A))throw A;De("LocalStore","Failed to update sequence numbers: "+A)}for(const A of v){const M=A.targetId;if(!A.fromCache){const O=T.Ji.get(M),G=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);T.Ji=T.Ji.insert(M,G)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,u))}),ZR.apply(this,arguments)}function bH(n,e){return jR.apply(this,arguments)}function jR(){return jR=(0,R.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const r=yield iB(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Ie(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(t,r.er)}var i}),jR.apply(this,arguments)}function AH(n,e){const t=Ge(n),r=t.yc.get(e);if(r&&r.fc)return Pt().add(r.key);{let i=Pt();const u=t._c.get(e);if(!u)return i;for(const l of u){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}class i3{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,R.Z)(function*(){t.serializer=HE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function rB(n,e,t,r){return new L$(n,e,t,r)}(this.persistence,new nB,e.initialUser,this.serializer)}createPersistence(e){return new ZN(WA.zs,this.serializer)}createSharedClientState(e){return new hB}terminate(){var e=this;return(0,R.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class n_{initialize(e,t){var r=this;return(0,R.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>xB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=bH.bind(null,r.syncEngine),yield function yR(n,e){return vR.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cH}createDatastore(e){const t=HE(e.databaseInfo.databaseId),r=new G$(e.databaseInfo);return new K$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>xB(this.syncEngine,f,0),l=fB.D()?new fB:new q$,new J$(t,r,i,u,l);var t,r,i,u,l}createSyncEngine(e,t){return function(r,i,u,l,f,m,v){const T=new mH(r,i,u,l,f,m);return v&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,R.Z)(function*(t){const r=Ge(t);De("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield K0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class s3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BH{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xr.UNAUTHENTICATED,this.clientId=sU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,R.Z)(function*(f){De("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(De("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,R.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,R.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=J0(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function o3(n,e){return JR.apply(this,arguments)}function JR(){return JR=(0,R.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,R.Z)(function*(u){r.isEqual(u)||(yield iB(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),JR.apply(this,arguments)}function XR(n,e){return eP.apply(this,arguments)}function eP(){return eP=(0,R.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function tP(n){return nP.apply(this,arguments)}(n);De("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>IB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>IB(e.remoteStore,u)),n._onlineComponents=e}),eP.apply(this,arguments)}function nP(){return nP=(0,R.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{yield o3(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function FB(n){return"FirebaseError"===n.name?n.code===ne.FAILED_PRECONDITION||n.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;da("Error using user provided cache. Falling back to memory cache: "+t),yield o3(n,new i3)}}else De("FirestoreClient","Using default OfflineComponentProvider"),yield o3(n,new i3);return n._offlineComponents}),nP.apply(this,arguments)}function a3(n){return rP.apply(this,arguments)}function rP(){return rP=(0,R.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),yield XR(n,n._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),yield XR(n,new n_))),n._onlineComponents}),rP.apply(this,arguments)}function r_(n){return sP.apply(this,arguments)}function sP(){return sP=(0,R.Z)(function*(n){const e=yield a3(n),t=e.eventManager;return t.onListen=_H.bind(null,e.syncEngine),t.onUnlisten=yH.bind(null,e.syncEngine),t}),sP.apply(this,arguments)}function jB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const qB=new Map;function oP(n,e,t){if(!t)throw new Ie(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $B(n){if(!$e.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HB(n){if($e.isDocumentKey(n))throw new Ie(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function c3(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function Ht(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=c3(n);throw new Ie(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class zB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ie(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ie(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function WH(n,e,t,r){if(!0===e&&!0===r)throw new Ie(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class WE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ie(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gj;switch(t.type){case"firstParty":return new Yj(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ie(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qB.get(e);t&&(De("ComponentProvider","Removing Datastore"),qB.delete(e),t.terminate())}(this),Promise.resolve()}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wi(this.firestore,e,this._query)}}class fu extends wi{constructor(e,t,r){super(e,t,U0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new $e(e))}withConverter(e){return new fu(this.firestore,e,this._path)}}function YH(n,e,...t){if(n=(0,_e.m9)(n),oP("collection","path",e),n instanceof WE){const r=Wt.fromString(e,...t);return HB(r),new fu(n,null,r)}{if(!(n instanceof lr||n instanceof fu))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return HB(r),new fu(n.firestore,null,r)}}function WB(n,e,...t){if(n=(0,_e.m9)(n),1===arguments.length&&(e=sU.A()),oP("doc","path",e),n instanceof WE){const r=Wt.fromString(e,...t);return $B(r),new lr(n,null,new $e(r))}{if(!(n instanceof lr||n instanceof fu))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return $B(r),new lr(n.firestore,n instanceof fu?n.converter:null,new $e(r))}}class QH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new tR(this,"async_queue_retry"),this.Xc=()=>{const t=t3();t&&De("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=t3();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=t3();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new kr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,R.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Pd(t))throw t;De("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=ER.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}sa(){var e=this;return(0,R.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class xn extends WE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new QH,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YB(this),this._firestoreClient.terminate()}}function XH(n,e){const t="object"==typeof n?n:(0,mi.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,mi._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,_e.P0)("firestore");u&&function KH(n,e,t,r={}){var i;const u=(n=Ht(n,WE))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=Xr.MOCK_USER;else{f=(0,_e.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ie(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Xr(v)}n._authCredentials=new zj(new rU(f,m))}}(i,...u)}return i}function Ir(n){return n._firestoreClient||YB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YB(n){var e,t,r;const i=n._freezeSettings(),u=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Aq(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,jB(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new BH(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class fp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fp(Fr.fromBase64String(e))}catch(t){throw new Ie(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fp(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class i_{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ie(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uP{constructor(e){this._methodName=e}}class cP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const t8=/^__.*__$/;class n8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Z0(e,this.data,t,this.fieldTransforms)}}class XB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class l3{constructor(e,t,r,i,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new l3(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return h3(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(eV(this.ca)&&t8.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class r8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||HE(e)}ya(e,t,r,i=!1){return new l3({ca:e,methodName:t,ga:r,path:ur.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s_(n){const e=n._freezeSettings(),t=HE(n._databaseId);return new r8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lP(n,e,t,r,i,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,i);hP("Data must be an object, but it was:",l,r);const f=sV(r,l);let m,v;if(u.merge)m=new ms(l.fieldMask),v=l.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const M=QE(e,A,t);if(!l.contains(M))throw new Ie(ne.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);aV(T,M)||T.push(M)}m=new ms(T),v=l.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,v=l.fieldTransforms;return new n8(new Ii(f),m,v)}class YE extends uP{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof YE}}function pp(n,e){if(oV(n=(0,_e.m9)(n)))return hP("Unsupported field value:",e,n),sV(n,e);if(n instanceof uP)return function(t,r){if(!eV(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const l of t){let f=pp(l,r.wa(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return YU(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=zn.fromDate(t);return{timestampValue:q0(r.serializer,i)}}if(t instanceof zn){const i=new zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:q0(r.serializer,i)}}if(t instanceof cP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fp)return{bytesValue:_5(r.serializer,t._byteString)};if(t instanceof lr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xN(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${c3(t)}`)}(n,e)}function sV(n,e){const t={};return vU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Od(n,(r,i)=>{const u=pp(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function oV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zn||n instanceof cP||n instanceof fp||n instanceof lr||n instanceof uP)}function hP(n,e,t){if(!oV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=c3(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function QE(n,e,t){if((e=(0,_e.m9)(e))instanceof i_)return e._internalPath;if("string"==typeof e)return d3(n,e);throw h3("Field path arguments must be of type string or ",n,!1,void 0,t)}const a8=new RegExp("[~\\*/\\[\\]]");function d3(n,e,t){if(e.search(a8)>=0)throw h3(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new i_(...e.split("."))._internalPath}catch{throw h3(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function h3(n,e,t,r,i){const u=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(u||l)&&(m+=" (found",u&&(m+=` in field ${r}`),l&&(m+=` in document ${i}`),m+=")"),new Ie(ne.INVALID_ARGUMENT,f+n+m)}function aV(n,e){return n.some(t=>t.isEqual(e))}class fP{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new u8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(f3("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class u8 extends fP{data(){return super.data()}}function f3(n,e){return"string"==typeof e?d3(n,e):e instanceof i_?e._internalPath:e._delegate._internalPath}class pP{}class c8 extends pP{}function l8(n,e,...t){let r=[];e instanceof pP&&r.push(e),r=r.concat(t),function(i){const u=i.filter(f=>f instanceof o_).length,l=i.filter(f=>f instanceof JE).length;if(u>1||u>0&&l>0)throw new Ie(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class JE extends c8{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new JE(e,t,r)}_apply(e){const t=this._parse(e);return hV(e._query,t),new wi(e.firestore,e.converter,vN(e._query,t))}_parse(e){const t=s_(e.firestore);return function(i,u,l,f,m,v,T){let A;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ie(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){dV(T,v);const M=[];for(const O of T)M.push(lV(f,i,O));A={arrayValue:{values:M}}}else A=lV(f,i,T)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||dV(T,v),A=function iV(n,e,t,r=!1){return pp(t,n.ya(r?4:3,e))}(l,"where",T,"in"===v||"not-in"===v);return jt.create(m,v,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function d8(n,e,t){const r=e,i=f3("where",n);return JE._create(i,r,t)}class o_ extends pP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new o_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const l=i.getFlattenedFilters();for(const f of l)hV(u,f),u=vN(u,f)}(e._query,t),new wi(e.firestore,e.converter,vN(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function lV(n,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new Ie(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yN(e)&&-1!==t.indexOf("/"))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!$e.isDocumentKey(r))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tp(n,new $e(r))}if(t instanceof lr)return tp(n,t._key);throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c3(t)}.`)}function dV(n,e){if(!Array.isArray(n)||0===n.length)throw new Ie(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hV(n,e){if(e.isInequality()){const r=PA(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=_N(n);null!==u&&function fV(n,e,t){if(!t.isEqual(e))throw new Ie(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,u)}const t=function(r,i){for(const u of r)for(const l of u.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ie(ne.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class h8{convertValue(e,t="none"){switch(Ld(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Od(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new cP(tr(e.latitude),tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=DA(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(EE(e));default:return null}}convertTimestamp(e){const t=kd(e);return new zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);it(D5(r));const i=new ep(r.get(1),r.get(3)),u=new $e(r.popFirst(5));return i.isEqual(t)||ar(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function mP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a_ extends fP{constructor(e,t,r,i,u,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(f3("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _3 extends a_{data(e={}){return super.data(e)}}class u_{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _3(this._firestore,this._userDataWriter,r.key,r,new gp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new _3(r._firestore,r._userDataWriter,l.doc.key,l.doc,new gp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new _3(r._firestore,r._userDataWriter,l.doc.key,l.doc,new gp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==l.type&&(m=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),v=u.indexOf(l.doc.key)),{type:p8(l.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function p8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function g8(n){n=Ht(n,lr);const e=Ht(n.firestore,xn);return function VB(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function(i,u,l,f,m){const v=new s3({next:A=>{u.enqueueAndForget(()=>CR(i,T));const M=A.docs.has(l);!M&&A.fromCache?m.reject(new Ie(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&f&&"server"===f.source?m.reject(new Ie(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new AR(U0(l.path),v,{includeMetadataChanges:!0,Ku:!0});return IR(i,T)}(yield r_(n),n.asyncQueue,e,t,r)})),r.promise}(Ir(e),n._key).then(t=>function _P(n,e,t){const r=t.docs.get(e._key),i=new Gd(n);return new a_(n,i,e._key,r,new gp(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Gd extends h8{constructor(e){super(),this.firestore=e}convertBytes(e){return new fp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function m8(n){n=Ht(n,wi);const e=Ht(n.firestore,xn),t=Ir(e),r=new Gd(e);return function uV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function ZB(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function(i,u,l,f,m){const v=new s3({next:A=>{u.enqueueAndForget(()=>CR(i,T)),A.fromCache&&"server"===f.source?m.reject(new Ie(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new AR(l,v,{includeMetadataChanges:!0,Ku:!0});return IR(i,T)}(yield r_(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new u_(e,r,n,i))}function _8(n,e,t){n=Ht(n,lr);const r=Ht(n.firestore,xn),i=mP(n.converter,e,t);return XE(r,[lP(s_(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Pn.none())])}function y8(n,e,t,...r){n=Ht(n,lr);const i=Ht(n.firestore,xn),u=s_(i);let l;return l="string"==typeof(e=(0,_e.m9)(e))||e instanceof i_?function rV(n,e,t,r,i,u){const l=n.ya(1,e,t),f=[QE(e,r,t)],m=[i];if(u.length%2!=0)throw new Ie(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<u.length;M+=2)f.push(QE(e,u[M])),m.push(u[M+1]);const v=[],T=Ii.empty();for(let M=f.length-1;M>=0;--M)if(!aV(v,f[M])){const O=f[M];let j=m[M];j=(0,_e.m9)(j);const G=l.da(O);if(j instanceof YE)v.push(O);else{const X=pp(j,G);null!=X&&(v.push(O),T.set(O,X))}}const A=new ms(v);return new XB(T,A,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function nV(n,e,t,r){const i=n.ya(1,e,t);hP("Data must be an object, but it was:",i,r);const u=[],l=Ii.empty();Od(r,(m,v)=>{const T=d3(e,m,t);v=(0,_e.m9)(v);const A=i.da(T);if(v instanceof YE)u.push(T);else{const M=pp(v,A);null!=M&&(u.push(T),l.set(T,M))}});const f=new ms(u);return new XB(l,f,i.fieldTransforms)}(u,"updateDoc",n._key,e),XE(i,[l.toMutation(n._key,Pn.exists(!0))])}function v8(n){return XE(Ht(n.firestore,xn),[new j0(n._key,Pn.none())])}function E8(n,e){const t=Ht(n.firestore,xn),r=WB(n),i=mP(n.converter,e);return XE(t,[lP(s_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function XE(n,e){return function(t,r){const i=new kr;return t.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function vH(n,e,t){return NR.apply(this,arguments)}(yield function iP(n){return a3(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Ir(n),e)}!function(n,e=!0){R0=mi.SDK_VERSION,(0,mi._registerComponent)(new gn.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),l=new xn(new Wj(t.getProvider("auth-internal")),new Qj(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ep(f.options.projectId,m)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,mi.registerVersion)(nU,"3.13.0",n),(0,mi.registerVersion)(nU,"3.13.0","esm2017")}();class Lr{constructor(e){return e}}const mV="firestore",yP=new s.OlP("angularfire2.firestore-instances");function O8(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Lr(r)}}const k8={provide:class R8{constructor(){return Cd(mV)}},deps:[[new s.FiY,yP]]},F8={provide:Lr,useFactory:function P8(n,e){const t=function Qm(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(l=>l.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(mV,n,e);return t&&new Lr(t)},deps:[[new s.FiY,yP],Sc]};let L8=(()=>{class n{constructor(){(0,mi.registerVersion)("angularfire",Wm.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[F8,k8]}),n})();function U8(n,...e){return{ngModule:L8,providers:[{provide:yP,useFactory:O8(n),multi:!0,deps:[s.R0b,s.zs3,Jm,Xm,[new s.FiY,xc],[new s.FiY,Z4],...e]}]}}const v3=Oi(E8,!0),pu=Oi(YH,!0),B8=Oi(v8,!0),Gs=Oi(WB,!0),mp=Oi(g8,!0),c_=Oi(m8,!0),V8=Oi(XH,!0),_V=Oi(l8,!0),Z8=Oi(_8,!0),E3=Oi(y8,!0),yV=Oi(d8,!0);_i("firebase","10.5.2","app");const I3_firebaseConfig={apiKey:"AIzaSyBqXpKb2qj9VKAYX_DOaOyGV6e-lsUhxG8",authDomain:"chefs-talks.firebaseapp.com",projectId:"chefs-talks",storageBucket:"chefs-talks.appspot.com",messagingSenderId:"821574305127",appId:"1:821574305127:web:1ec43d2f164a6f2c151bc2",measurementId:"G-96713DEB05"},I3_cloudinaryConfig_cloudName="dsla98vyk",I3_cloudinaryConfig_uploadPreset="chefs_talks";_C(I3_firebaseConfig);let eI=(()=>{class n{constructor(){this.cloudName=I3_cloudinaryConfig_cloudName,this.uploadPreset=I3_cloudinaryConfig_uploadPreset,this.imageUploaded=new s.vpe}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(t,r)=>{!t&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(t){this.imageUploaded.emit(t)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:3,vars:0,consts:[["id","upload_widget",1,"cloudinary-button","button",3,"click"]],template:function(r,i){1&r&&(s.TgZ(0,"div")(1,"button",0),s.NdJ("click",function(){return i.openWidget()}),s._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()())},styles:[".cloudinary-button[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);text-decoration:none;font-size:16px;line-height:28px;cursor:pointer;font-weight:400;display:block;border-radius:4px;padding:10px 14px}.cloudinary-button[_ngcontent-%COMP%]:hover{background-color:var(--secondColor)}"]})}return n})();function $8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"p",11),s._uU(2,"\u0412\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s._UZ(3,"input",22),s.TgZ(4,"button",23),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.removeImage())}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()()}}function H8(n,e){1&n&&(s.TgZ(0,"div",25),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),s.qZA())}function G8(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,H8,2,0,"div",24),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.categoryForm.get("name"))||null==r.errors?null:r.errors.required)}}function z8(n,e){1&n&&(s.TgZ(0,"div",25),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u044e! "),s.qZA())}function W8(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,z8,2,0,"div",24),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.categoryForm.get("menu"))||null==r.errors?null:r.errors.required)}}let K8=(()=>{class n{constructor(t,r){this.fb=t,this.firestore=r,this.categoryForm=this.fb.group({name:["",[Ke.required]],is_active:[!1],menu:["",[Ke.required]],order_index:[0],note:[""],image:[""]})}onSubmit(){this.categoryForm.valid?(this.addCategory(this.categoryForm.value),this.categoryForm.reset()):console.log(this.categoryForm.errors)}removeImage(){this.categoryForm.get("image")?.setValue("")}addImageToForm(t){this.categoryForm.get("image")?.setValue(t)}get image(){return this.categoryForm.get("image")}addCategory(t){v3(pu(this.firestore,"Category"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Yo),s.Y36(Lr))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-category-form"]],decls:46,vars:4,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup","ngSubmit"],[3,"imageUploaded"],[4,"ngIf"],[1,"checkbox-wrapper"],[1,"checkbox-label","hint"],["type","checkbox","formControlName","is_active",1,"sc-gJwTLC","ikxBAC"],["type","text","formControlName","name","required",""],["for","menu"],[1,"hint"],["id","menu","formControlName","menu"],["value","\u041e\u0441\u043d\u043e\u0432\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0437\u043e\u043d\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0422\u0435\u0441\u0442\u043e\u0432\u043e \u041c\u0435\u043d\u044e"],["formControlName","note"],["type","number","formControlName","order_index"],["type","submit"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["type","text","id","image","formControlName","image"],["type","button",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),s.qZA(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(5,"app-image-upload",4),s.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),s.qZA(),s.YNc(6,$8,6,0,"div",5),s.TgZ(7,"div",6)(8,"label",7),s._uU(9,"\u0429\u0435 \u0431\u044a\u0434\u0435 \u043b\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430 \u0432\u0438\u0434\u0438\u043c\u0430 \u0432\u044a\u0432 \u0441\u0430\u0439\u0442\u0430?"),s.qZA(),s._uU(10," \u041d\u0435 "),s._UZ(11,"input",8),s._uU(12," \u0414\u0430 "),s.qZA(),s.TgZ(13,"label"),s._uU(14," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s._UZ(15,"input",9),s.qZA(),s.YNc(16,G8,2,1,"div",5),s.TgZ(17,"label",10),s._uU(18,"\u041c\u0435\u043d\u044e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(19,"p",11),s._uU(20,"\u041a\u044a\u043c \u043a\u043e\u0435 \u043c\u0435\u043d\u044e \u0441\u043f\u0430\u0434\u0430 \u0442\u0430\u0437\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f?"),s.qZA(),s.TgZ(21,"select",12)(22,"option",13),s._uU(23,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e"),s.qZA(),s.TgZ(24,"option",14),s._uU(25,"\u0421\u0435\u0437\u043e\u043d\u043d\u043e"),s.qZA(),s.TgZ(26,"option",15),s._uU(27,"\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u043e"),s.qZA(),s.TgZ(28,"option",16),s._uU(29,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e"),s.qZA()(),s.YNc(30,W8,2,1,"div",5),s.TgZ(31,"label"),s._uU(32," \u0411\u0435\u043b\u0435\u0436\u043a\u0430: "),s.TgZ(33,"span",11),s._uU(34,"\u041d\u044f\u043a\u043e\u043b\u043a\u043e \u0434\u0443\u043c\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),s.qZA(),s._UZ(35,"textarea",17),s.qZA(),s.TgZ(36,"label"),s._uU(37," \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),s.TgZ(38,"span",11),s._uU(39,"\u0420\u0435\u0434 \u043d\u0430 \u043f\u043e\u0434\u0440\u0435\u0434\u0431\u0430 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\u0442\u0435"),s.qZA(),s._UZ(40,"input",18),s.qZA(),s.TgZ(41,"button",19),s._uU(42,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),s.qZA(),s.TgZ(43,"a",20),s._UZ(44,"i",21),s._uU(45,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA()()()()),2&r){let u,l,f;s.xp6(4),s.Q6J("formGroup",i.categoryForm),s.xp6(2),s.Q6J("ngIf",""!==(null==(u=i.categoryForm.get("image"))?null:u.value)),s.xp6(10),s.Q6J("ngIf",null==(l=i.categoryForm.get("name"))?null:l.touched),s.xp6(14),s.Q6J("ngIf",null==(f=i.categoryForm.get("menu"))?null:f.touched)}},dependencies:[Ar,ks,$a,Wo,Hn,Fs,dc,go,lo,ho,tm,Ls,Us,eI],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return n})();var vV=P(7582);const Y8=function EV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},IV=new _e.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),w3=new zr.Yd("@firebase/auth");function C3(n,...e){w3.logLevel<=zr.in.ERROR&&w3.error(`Auth (${rd}): ${n}`,...e)}function ys(n,...e){throw vP(n,...e)}function gu(n,...e){return vP(n,...e)}function vP(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return IV.create(n,...e)}function Ve(n,e,...t){if(!n)throw vP(e,...t)}function mu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw C3(e),new Error(e)}function zd(n,e){n||mu(e)}function tI(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function CV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class nI{constructor(e,t){this.shortDelay=e,this.longDelay=t,zd(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,_e.uI)()||(0,_e.b$)()}get(){return function J8(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function EP(){return"http:"===CV()||"https:"===CV()}()||(0,_e.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function IP(n,e){zd(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class TV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void mu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void mu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void mu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},tG=new nI(3e4,6e4);function On(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wn(n,e,t,r){return wP.apply(this,arguments)}function wP(){return wP=(0,R.Z)(function*(n,e,t,r,i={}){return bV(n,i,(0,R.Z)(function*(){let u={},l={};r&&("GET"===e?l=r:u={body:JSON.stringify(r)});const f=(0,_e.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),TV.fetch()(AV(n,n.config.apiHost,t,f),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))}))}),wP.apply(this,arguments)}function bV(n,e,t){return CP.apply(this,arguments)}function CP(){return CP=(0,R.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},eG),e);try{const i=new rG(n),u=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield u.json();if("needConfirmation"in l)throw rI(n,"account-exists-with-different-credential",l);if(u.ok&&!("errorMessage"in l))return l;{const f=u.ok?l.errorMessage:l.error.message,[m,v]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===m)throw rI(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===m)throw rI(n,"email-already-in-use",l);if("USER_DISABLED"===m)throw rI(n,"user-disabled",l);const T=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw function wV(n,e,t){const r=Object.assign(Object.assign({},Y8()),{[e]:t});return new _e.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,T,v);ys(n,T)}}catch(i){if(i instanceof _e.ZR)throw i;ys(n,"network-request-failed",{message:String(i)})}}),CP.apply(this,arguments)}function Zc(n,e,t,r){return TP.apply(this,arguments)}function TP(){return TP=(0,R.Z)(function*(n,e,t,r,i={}){const u=yield Wn(n,e,t,r,i);return"mfaPendingCredential"in u&&ys(n,"multi-factor-auth-required",{_serverResponse:u}),u}),TP.apply(this,arguments)}function AV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?IP(n.config,i):`${n.config.apiScheme}://${i}`}function nG(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rG{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gu(this.auth,"network-request-failed")),tG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rI(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=gu(n,e,r);return i.customData._tokenResponse=t,i}function SV(n){return void 0!==n&&void 0!==n.enterprise}class xV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nG(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function AP(){return AP=(0,R.Z)(function*(n,e){return Wn(n,"GET","/v2/recaptchaConfig",On(n,e))}),AP.apply(this,arguments)}function DP(){return DP=(0,R.Z)(function*(n,e){return Wn(n,"POST","/v1/accounts:delete",e)}),DP.apply(this,arguments)}function xP(){return xP=(0,R.Z)(function*(n,e){return Wn(n,"POST","/v1/accounts:lookup",e)}),xP.apply(this,arguments)}function iI(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function MP(){return MP=(0,R.Z)(function*(n,e=!1){const t=(0,_e.m9)(n),r=yield t.getIdToken(e),i=T3(r);Ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const u="object"==typeof i.firebase?i.firebase:void 0,l=u?.sign_in_provider;return{claims:i,token:r,authTime:iI(NP(i.auth_time)),issuedAtTime:iI(NP(i.iat)),expirationTime:iI(NP(i.exp)),signInProvider:l||null,signInSecondFactor:u?.sign_in_second_factor||null}}),MP.apply(this,arguments)}function NP(n){return 1e3*Number(n)}function T3(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return C3("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,_e.tV)(t);return i?JSON.parse(i):(C3("Failed to decode base64 JWT payload"),null)}catch(i){return C3("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jc(n,e){return RP.apply(this,arguments)}function RP(){return RP=(0,R.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof _e.ZR&&function lG({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),RP.apply(this,arguments)}class dG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,R.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,R.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class NV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iI(this.lastLoginAt),this.creationTime=iI(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sI(n){return PP.apply(this,arguments)}function PP(){return PP=(0,R.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield jc(n,function aG(n,e){return xP.apply(this,arguments)}(t,{idToken:r}));Ve(i?.users.length,t,"internal-error");const u=i.users[0];n._notifyReloadListener(u);const l=null!==(e=u.providerUserInfo)&&void 0!==e&&e.length?function pG(n){return n.map(e=>{var{providerId:t}=e,r=(0,vV._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(u.providerUserInfo):[],f=function fG(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),T=!!n.isAnonymous&&!(n.email&&u.passwordHash||f?.length),A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new NV(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(n,A)}),PP.apply(this,arguments)}function OP(){return OP=(0,R.Z)(function*(n){const e=(0,_e.m9)(n);yield sI(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),OP.apply(this,arguments)}function kP(){return kP=(0,R.Z)(function*(n,e){const t=yield bV(n,{},(0,R.Z)(function*(){const r=(0,_e.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:u}=n.config,l=AV(n,i,"/v1/token",`key=${u}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",TV.fetch()(l,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),kP.apply(this,arguments)}class oI{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function cG(n){const e=T3(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,R.Z)(function*(){return Ve(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,R.Z)(function*(){const{accessToken:i,refreshToken:u,expiresIn:l}=yield function gG(n,e){return kP.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,u,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:u}=t,l=new oI;return r&&(Ve("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(Ve("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),u&&(Ve("number"==typeof u,"internal-error",{appName:e}),l.expirationTime=u),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oI,this.toJSON())}_performRefresh(){return mu("not implemented")}}function Wd(n,e){Ve("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class _p{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,u=(0,vV._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new NV(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,R.Z)(function*(){const r=yield jc(t,t.stsTokenManager.getToken(t.auth,e));return Ve(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function uG(n){return MP.apply(this,arguments)}(this,e)}reload(){return function hG(n){return OP.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _p(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,R.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield sI(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,R.Z)(function*(){const t=yield e.getIdToken();return yield jc(e,function sG(n,e){return DP.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,u,l,f,m,v,T;const A=null!==(r=t.displayName)&&void 0!==r?r:void 0,M=null!==(i=t.email)&&void 0!==i?i:void 0,O=null!==(u=t.phoneNumber)&&void 0!==u?u:void 0,j=null!==(l=t.photoURL)&&void 0!==l?l:void 0,G=null!==(f=t.tenantId)&&void 0!==f?f:void 0,X=null!==(m=t._redirectEventId)&&void 0!==m?m:void 0,Ce=null!==(v=t.createdAt)&&void 0!==v?v:void 0,Fe=null!==(T=t.lastLoginAt)&&void 0!==T?T:void 0,{uid:ke,emailVerified:Ye,isAnonymous:_t,providerData:gt,stsTokenManager:Yt}=t;Ve(ke&&Yt,e,"internal-error");const Tr=oI.fromJSON(this.name,Yt);Ve("string"==typeof ke,e,"internal-error"),Wd(A,e.name),Wd(M,e.name),Ve("boolean"==typeof Ye,e,"internal-error"),Ve("boolean"==typeof _t,e,"internal-error"),Wd(O,e.name),Wd(j,e.name),Wd(G,e.name),Wd(X,e.name),Wd(Ce,e.name),Wd(Fe,e.name);const Ui=new _p({uid:ke,auth:e,email:M,emailVerified:Ye,displayName:A,isAnonymous:_t,photoURL:j,phoneNumber:O,tenantId:G,stsTokenManager:Tr,createdAt:Ce,lastLoginAt:Fe});return gt&&Array.isArray(gt)&&(Ui.providerData=gt.map(ga=>Object.assign({},ga))),X&&(Ui._redirectEventId=X),Ui}static _fromIdTokenResponse(e,t,r=!1){return(0,R.Z)(function*(){const i=new oI;i.updateFromServerResponse(t);const u=new _p({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sI(u),u})()}}const RV=new Map;function qc(n){zd(n instanceof Function,"Expected a class definition");let e=RV.get(n);return e?(zd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,RV.set(n,e),e)}const PV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,R.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,R.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,R.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function b3(n,e,t){return`firebase:${n}:${e}:${t}`}class d_{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:u}=this.auth;this.fullUserKey=b3(this.userKey,i.apiKey,u),this.fullPersistenceKey=b3("persistence",i.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,R.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?_p._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,R.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,R.Z)(function*(){if(!t.length)return new d_(qc(PV),e,r);const i=(yield Promise.all(t.map(function(){var v=(0,R.Z)(function*(T){if(yield T._isAvailable())return T});return function(T){return v.apply(this,arguments)}}()))).filter(v=>v);let u=i[0]||qc(PV);const l=b3(r,e.config.apiKey,e.name);let f=null;for(const v of t)try{const T=yield v._get(l);if(T){const A=_p._fromJSON(e,T);v!==u&&(f=A),u=v;break}}catch{}const m=i.filter(v=>v._shouldAllowMigration);return u._shouldAllowMigration&&m.length?(u=m[0],f&&(yield u._set(l,f.toJSON())),yield Promise.all(t.map(function(){var v=(0,R.Z)(function*(T){if(T!==u)try{yield T._remove(l)}catch{}});return function(T){return v.apply(this,arguments)}}())),new d_(u,e,r)):new d_(u,e,r)})()}}function OV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BV(e))return"Blackberry";if(VV(e))return"Webos";if(FP(e))return"Safari";if((e.includes("chrome/")||FV(e))&&!e.includes("edge/"))return"Chrome";if(UV(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function kV(n=(0,_e.z$)()){return/firefox\//i.test(n)}function FP(n=(0,_e.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FV(n=(0,_e.z$)()){return/crios\//i.test(n)}function LV(n=(0,_e.z$)()){return/iemobile/i.test(n)}function UV(n=(0,_e.z$)()){return/android/i.test(n)}function BV(n=(0,_e.z$)()){return/blackberry/i.test(n)}function VV(n=(0,_e.z$)()){return/webos/i.test(n)}function A3(n=(0,_e.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ZV(n=(0,_e.z$)()){return A3(n)||UV(n)||VV(n)||BV(n)||/windows phone/i.test(n)||LV(n)}function jV(n,e=[]){let t;switch(n){case"Browser":t=OV((0,_e.z$)());break;case"Worker":t=`${OV((0,_e.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rd}/${r}`}class vG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((l,f)=>{try{l(e(u))}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,R.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const u of r)try{u()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function LP(){return LP=(0,R.Z)(function*(n,e={}){return Wn(n,"GET","/v2/passwordPolicy",On(n,e))}),LP.apply(this,arguments)}class wG{constructor(e){var t,r,i,u;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=l.minPasswordLength)&&void 0!==t?t:6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),void 0!==l.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),void 0!==l.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),void 0!==l.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),void 0!==l.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(u=e.forceUpgradeOnSignin)&&void 0!==u&&u,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,u,l,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=null===(t=m.meetsMinPasswordLength)||void 0===t||t),m.isValid&&(m.isValid=null===(r=m.meetsMaxPasswordLength)||void 0===r||r),m.isValid&&(m.isValid=null===(i=m.containsLowercaseLetter)||void 0===i||i),m.isValid&&(m.isValid=null===(u=m.containsUppercaseLetter)||void 0===u||u),m.isValid&&(m.isValid=null===(l=m.containsNumericCharacter)||void 0===l||l),m.isValid&&(m.isValid=null===(f=m.containsNonAlphanumericCharacter)||void 0===f||f),m}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class CG{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qV(this),this.idTokenSubscription=new qV(this),this.beforeStateQueue=new vG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=qc(t)),this._initializationPromise=this.queue((0,R.Z)(function*(){var i,u;if(!r._deleted&&(r.persistenceManager=yield d_.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,R.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,R.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let u=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const f=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,m=u?._redirectEventId,v=yield t.tryRedirectSignIn(e);(!f||f===m)&&v?.user&&(u=v.user,l=!0)}if(!u)return t.directlySetCurrentUser(null);if(!u._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(u)}catch(f){u=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(f))}return u?t.reloadAndSetCurrentUserOrClear(u):t.directlySetCurrentUser(null)}return Ve(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===u._redirectEventId?t.directlySetCurrentUser(u):t.reloadAndSetCurrentUserOrClear(u)})()}tryRedirectSignIn(e){var t=this;return(0,R.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,R.Z)(function*(){try{yield sI(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function X8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,R.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,R.Z)(function*(){const r=e?(0,_e.m9)(e):null;return r&&Ve(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,R.Z)(function*(){if(!r._deleted)return e&&Ve(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,R.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,R.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,R.Z)(function*(){yield t.assertedPersistence.setPersistence(qc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,R.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,R.Z)(function*(){const t=yield function EG(n){return LP.apply(this,arguments)}(e),r=new wG(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _e.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,R.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,R.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&qc(e)||t._popupRedirectResolver;Ve(r,t,"argument-error"),t.redirectPersistenceManager=yield d_.create(t,[qc(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,R.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,R.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,R.Z)(function*(){if(e===t.currentUser)return t.queue((0,R.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const u="function"==typeof t?t:t.next.bind(t);let l=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{l||u(this.currentUser)}),"function"==typeof t){const m=e.addObserver(t,r,i);return()=>{l=!0,m()}}{const m=e.addObserver(t);return()=>{l=!0,m()}}}directlySetCurrentUser(e){var t=this;return(0,R.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,R.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const u=yield e._getAppCheckToken();return u&&(r["X-Firebase-AppCheck"]=u),r})()}_getAppCheckToken(){var e=this;return(0,R.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Q8(n,...e){w3.logLevel<=zr.in.WARN&&w3.warn(`Auth (${rd}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function wr(n){return(0,_e.m9)(n)}class qV{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,_e.ne)(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function UP(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const u=gu("internal-error");u.customData=i,t(u)},r.type="text/javascript",r.charset="UTF-8",function TG(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function $V(n){return`__${n}${Math.floor(1e6*Math.random())}`}class HV{constructor(e){this.type="recaptcha-enterprise",this.auth=wr(e)}verify(e="verify",t=!1){var r=this;return(0,R.Z)(function*(){function u(){return u=(0,R.Z)(function*(f){if(!t){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var m=(0,R.Z)(function*(v,T){(function MV(n,e){return AP.apply(this,arguments)})(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(void 0!==A.recaptchaKey){const M=new xV(A);return null==f.tenantId?f._agentRecaptchaConfig=M:f._tenantRecaptchaConfigs[f.tenantId]=M,v(M.siteKey)}T(new Error("recaptcha Enterprise site key undefined"))}).catch(A=>{T(A)})});return function(v,T){return m.apply(this,arguments)}}())}),u.apply(this,arguments)}function l(f,m,v){const T=window.grecaptcha;SV(T)?T.enterprise.ready(()=>{T.enterprise.execute(f,{action:e}).then(A=>{m(A)}).catch(()=>{m("NO_RECAPTCHA")})}):v(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,m)=>{(function i(f){return u.apply(this,arguments)})(r.auth).then(v=>{if(!t&&SV(window.grecaptcha))l(v,f,m);else{if(typeof window>"u")return void m(new Error("RecaptchaVerifier is only supported in browser"));UP("https://www.google.com/recaptcha/enterprise.js?render="+v).then(()=>{l(v,f,m)}).catch(T=>{m(T)})}}).catch(v=>{m(v)})})})()}}function GV(n,e,t){return BP.apply(this,arguments)}function BP(){return BP=(0,R.Z)(function*(n,e,t,r=!1){const i=new HV(n);let u;try{u=yield i.verify(t)}catch{u=yield i.verify(t,!0)}const l=Object.assign({},e);return Object.assign(l,r?{captchaResp:u}:{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}),BP.apply(this,arguments)}function D3(n,e,t,r){return VP.apply(this,arguments)}function VP(){return VP=(0,R.Z)(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=yield GV(n,e,t,"getOobCode"===t);return r(n,u)}return r(n,e).catch(function(){var u=(0,R.Z)(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=yield GV(n,e,t,"getOobCode"===t);return r(n,f)}return Promise.reject(l)});return function(l){return u.apply(this,arguments)}}())}),VP.apply(this,arguments)}function zV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function WV(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class KV{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mu("not implemented")}_getIdTokenResponse(e){return mu("not implemented")}_linkToIdToken(e,t){return mu("not implemented")}_getReauthenticationResolver(e){return mu("not implemented")}}function qP(){return qP=(0,R.Z)(function*(n,e){return Wn(n,"POST","/v1/accounts:update",e)}),qP.apply(this,arguments)}function kG(n,e){return HP.apply(this,arguments)}function HP(){return HP=(0,R.Z)(function*(n,e){return Zc(n,"POST","/v1/accounts:signInWithPassword",On(n,e))}),HP.apply(this,arguments)}function GP(){return GP=(0,R.Z)(function*(n,e){return Wn(n,"POST","/v1/accounts:sendOobCode",On(n,e))}),GP.apply(this,arguments)}function LG(n,e){return WP.apply(this,arguments)}function WP(){return WP=(0,R.Z)(function*(n,e){return function S3(n,e){return GP.apply(this,arguments)}(n,e)}),WP.apply(this,arguments)}function QP(){return QP=(0,R.Z)(function*(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",On(n,e))}),QP.apply(this,arguments)}function JP(){return JP=(0,R.Z)(function*(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",On(n,e))}),JP.apply(this,arguments)}class aI extends KV{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new aI(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new aI(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,R.Z)(function*(){switch(t.signInMethod){case"password":return D3(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",kG);case"emailLink":return function VG(n,e){return QP.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:ys(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,R.Z)(function*(){switch(r.signInMethod){case"password":return function QV(n,e){return qP.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function ZG(n,e){return JP.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:ys(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function $c(n,e){return XP.apply(this,arguments)}function XP(){return XP=(0,R.Z)(function*(n,e){return Zc(n,"POST","/v1/accounts:signInWithIdp",On(n,e))}),XP.apply(this,arguments)}class lI{constructor(e){var t,r,i,u,l,f;const m=(0,_e.zd)((0,_e.pd)(e)),v=null!==(t=m.apiKey)&&void 0!==t?t:null,T=null!==(r=m.oobCode)&&void 0!==r?r:null,A=function WG(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=m.mode)&&void 0!==i?i:null);Ve(v&&T&&A,"argument-error"),this.apiKey=v,this.operation=A,this.code=T,this.continueUrl=null!==(u=m.continueUrl)&&void 0!==u?u:null,this.languageCode=null!==(l=m.languageCode)&&void 0!==l?l:null,this.tenantId=null!==(f=m.tenantId)&&void 0!==f?f:null}static parseLink(e){const t=function KG(n){const e=(0,_e.zd)((0,_e.pd)(n)).link,t=e?(0,_e.zd)((0,_e.pd)(e)).deep_link_id:null,r=(0,_e.zd)((0,_e.pd)(n)).deep_link_id;return(r?(0,_e.zd)((0,_e.pd)(r)).link:null)||r||t||e||n}(e);try{return new lI(t)}catch{return null}}}let JV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return aI._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=lI.parseLink(r);return Ve(i,"argument-error"),aI._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Kd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class YG extends Kd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function XV(n,e){return sO.apply(this,arguments)}function sO(){return sO=(0,R.Z)(function*(n,e){return Zc(n,"POST","/v1/accounts:signUp",On(n,e))}),sO.apply(this,arguments)}class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,R.Z)(function*(){const u=yield _p._fromIdTokenResponse(e,r,i),l=e6(r);return new Co({user:u,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,R.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=e6(r);return new Co({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function e6(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class M3 extends _e.ZR{constructor(e,t,r,i){var u;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,M3.prototype),this.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new M3(e,t,r,i)}}function t6(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw"auth/multi-factor-auth-required"===u.code?M3._fromErrorAndOperation(n,u,e,r):u})}function cO(){return cO=(0,R.Z)(function*(n,e,t=!1){const r=yield jc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Co._forOperation(n,"link",r)}),cO.apply(this,arguments)}function dO(){return dO=(0,R.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const u=yield jc(n,t6(r,i,e,n),t);Ve(u.idToken,r,"internal-error");const l=T3(u.idToken);Ve(l,r,"internal-error");const{sub:f}=l;return Ve(n.uid===f,r,"user-mismatch"),Co._forOperation(n,i,u)}catch(u){throw"auth/user-not-found"===u?.code&&ys(r,"user-mismatch"),u}}),dO.apply(this,arguments)}function i6(n,e){return hO.apply(this,arguments)}function hO(){return hO=(0,R.Z)(function*(n,e,t=!1){const r="signIn",i=yield t6(n,r,e),u=yield Co._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(u.user)),u}),hO.apply(this,arguments)}function pO(){return pO=(0,R.Z)(function*(n,e){return i6(wr(n),e)}),pO.apply(this,arguments)}function wO(n){return CO.apply(this,arguments)}function CO(){return CO=(0,R.Z)(function*(n){const e=wr(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())}),CO.apply(this,arguments)}function TO(){return TO=(0,R.Z)(function*(n,e,t){const r=wr(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&function R3(n,e,t){var r;Ve((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),Ve(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ve(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ve(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}(r,i,t),yield D3(r,i,"getOobCode",LG)}),TO.apply(this,arguments)}function xO(){return xO=(0,R.Z)(function*(n,e,t){const r=wr(n),l=yield D3(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XV).catch(m=>{throw"auth/password-does-not-meet-requirements"===m.code&&wO(n),m}),f=yield Co._fromIdTokenResponse(r,"signIn",l);return yield r._updateCurrentUser(f.user),f}),xO.apply(this,arguments)}const P3="__sak";class o6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(P3,"1"),this.storage.removeItem(P3),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const C7=(()=>{class n extends o6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function E7(){const n=(0,_e.z$)();return FP(n)||A3(n)}()&&function yG(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ZV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),u=this.localCache[r];i!==u&&t(r,u,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((f,m,v)=>{this.notifyListeners(f,v)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(t.newValue!==f)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const u=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},l=this.storage.getItem(i);!function _G(){return(0,_e.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?u():setTimeout(u,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,u=this;return(0,R.Z)(function*(){yield i().call(u,t,r),u.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,R.Z)(function*(){const u=yield r().call(i,t);return i.localCache[t]=JSON.stringify(u),u})()}_remove(t){var r=()=>super._remove,i=this;return(0,R.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),a6=(()=>{class n extends o6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let b7=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,R.Z)(function*(){const i=t,{eventId:u,eventType:l,data:f}=i.data,m=r.handlersMap[l];if(!m?.size)return;i.ports[0].postMessage({status:"ack",eventId:u,eventType:l});const v=Array.from(m).map(function(){var A=(0,R.Z)(function*(M){return M(i.origin,f)});return function(M){return A.apply(this,arguments)}}()),T=yield function T7(n){return Promise.all(n.map(function(){var e=(0,R.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(v);i.ports[0].postMessage({status:"done",eventId:u,eventType:l,response:T})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function HO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class A7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,R.Z)(function*(){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let l,f;return new Promise((m,v)=>{const T=HO("",20);u.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:u,onMessage(M){const O=M;if(O.data.eventId===T)switch(O.data.status){case"ack":clearTimeout(A),l=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(O.data.response);break;default:clearTimeout(A),clearTimeout(l),v(new Error("invalid_response"))}}},i.handlers.add(f),u.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:e,eventId:T,data:t},[u.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function Cr(){return window}function GO(){return typeof Cr().WorkerGlobalScope<"u"&&"function"==typeof Cr().importScripts}function zO(){return(zO=(0,R.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const u6="firebaseLocalStorageDb",O3="firebaseLocalStorage",c6="fbase_key";class hI{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function k3(n,e){return n.transaction([O3],e?"readwrite":"readonly").objectStore(O3)}function WO(){const n=indexedDB.open(u6,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(O3,{keyPath:c6})}catch(i){t(i)}}),n.addEventListener("success",(0,R.Z)(function*(){const r=n.result;r.objectStoreNames.contains(O3)?e(r):(r.close(),yield function R7(){const n=indexedDB.deleteDatabase(u6);return new hI(n).toPromise()}(),e(yield WO()))}))})}function l6(n,e,t){return KO.apply(this,arguments)}function KO(){return KO=(0,R.Z)(function*(n,e,t){const r=k3(n,!0).put({[c6]:e,value:t});return new hI(r).toPromise()}),KO.apply(this,arguments)}function YO(){return YO=(0,R.Z)(function*(n,e){const t=k3(n,!1).get(e),r=yield new hI(t).toPromise();return void 0===r?null:r.value}),YO.apply(this,arguments)}function d6(n,e){const t=k3(n,!0).delete(e);return new hI(t).toPromise()}const F7=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,R.Z)(function*(){return t.db||(t.db=yield WO()),t.db})()}_withRetries(t){var r=this;return(0,R.Z)(function*(){let i=0;for(;;)try{const u=yield r._openDb();return yield t(u)}catch(u){if(i++>3)throw u;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,R.Z)(function*(){return GO()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,R.Z)(function*(){t.receiver=b7._getInstance(function M7(){return GO()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,R.Z)(function*(i,u){return{keyProcessed:(yield t._poll()).includes(u.key)}});return function(i,u){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,R.Z)(function*(i,u){return["keyChanged"]});return function(i,u){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,R.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function S7(){return zO.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new A7(t.activeServiceWorker);const u=yield t.sender._send("ping",{},800);u&&null!==(r=u[0])&&void 0!==r&&r.fulfilled&&null!==(i=u[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,R.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function x7(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.Z)(function*(){try{if(!indexedDB)return!1;const t=yield WO();return yield l6(t,P3,"1"),yield d6(t,P3),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,R.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,R.Z)(function*(){return i._withPendingWrite((0,R.Z)(function*(){return yield i._withRetries(u=>l6(u,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,R.Z)(function*(){const i=yield r._withRetries(u=>function P7(n,e){return YO.apply(this,arguments)}(u,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,R.Z)(function*(){return r._withPendingWrite((0,R.Z)(function*(){return yield r._withRetries(i=>d6(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,R.Z)(function*(){const r=yield t._withRetries(l=>{const f=k3(l,!1).getAll();return new hI(f).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],u=new Set;for(const{fbase_key:l,value:f}of r)u.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(f)&&(t.notifyListeners(l,f),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!u.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const u of Array.from(i))u(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,R.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();$V("rcb"),new nI(3e4,6e4);class sk extends KV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $c(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $c(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $c(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function J7(n){return i6(n.auth,new sk(n),n.bypassAuthState)}function X7(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),function r6(n,e){return dO.apply(this,arguments)}(t,new sk(n),n.bypassAuthState)}function ez(n){return ok.apply(this,arguments)}function ok(){return ok=(0,R.Z)(function*(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),function uO(n,e){return cO.apply(this,arguments)}(t,new sk(n),n.bypassAuthState)}),ok.apply(this,arguments)}class tz{constructor(e,t,r,i,u=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,R.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(u){e.reject(u)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,R.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:u,tenantId:l,error:f,type:m}=e;if(f)return void t.reject(f);const v={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:u||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(m)(v))}catch(T){t.reject(T)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J7;case"linkViaPopup":case"linkViaRedirect":return ez;case"reauthViaPopup":case"reauthViaRedirect":return X7;default:ys(this.auth,"internal-error")}}resolve(e){zd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new nI(2e3,1e4);const nz="pendingRedirect",fI=new Map;class rz extends tz{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,R.Z)(function*(){let r=fI.get(t.auth._key());if(!r){try{const u=(yield function iz(n,e){return dk.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(u)}catch(i){r=()=>Promise.reject(i)}fI.set(t.auth._key(),r)}return t.bypassAuthState||fI.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,R.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,R.Z)(function*(){})()}cleanUp(){}}function dk(){return dk=(0,R.Z)(function*(n,e){const t=function p6(n){return b3(nz,n.config.apiKey,n.name)}(e),r=function f6(n){return qc(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),dk.apply(this,arguments)}function sz(n,e){fI.set(n._key(),e)}function g6(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,R.Z)(function*(n,e,t=!1){const r=wr(n),i=function vp(n,e){return e?qc(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new rz(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l}),yk.apply(this,arguments)}class lz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function dz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y6(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!y6(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(gu(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_6(e))}saveEventToCache(e){this.cachedEventUids.add(_6(e)),this.lastProcessedEventTime=Date.now()}}function _6(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function y6({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Ek(){return Ek=(0,R.Z)(function*(n,e={}){return Wn(n,"GET","/v1/projects",e)}),Ek.apply(this,arguments)}const fz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pz=/^https?/;function Ik(){return Ik=(0,R.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function hz(n){return Ek.apply(this,arguments)}(n);for(const t of e)try{if(mz(t))return}catch{}ys(n,"unauthorized-domain")}),Ik.apply(this,arguments)}function mz(n){const e=tI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!pz.test(t))return!1;if(fz.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _z=new nI(3e4,6e4);function v6(){const n=Cr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let L3=null;const Ez=new nI(5e3,15e3),Iz="__/auth/iframe",wz="emulator/auth/iframe",Cz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bz(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?IP(e,wz):`https://${n.config.authDomain}/${Iz}`,r={apiKey:e.apiKey,appName:n.name,v:rd},i=Tz.get(n.config.apiHost);i&&(r.eid=i);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${(0,_e.xO)(r).slice(1)}`}function wk(){return wk=(0,R.Z)(function*(n){const e=yield function vz(n){return L3=L3||function yz(n){return new Promise((e,t)=>{var r,i,u;function l(){v6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v6(),t(gu(n,"network-request-failed"))},timeout:_z.get()})}if(null!==(i=null===(r=Cr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(u=Cr().gapi)||void 0===u||!u.load){const f=$V("iframefcb");return Cr()[f]=()=>{gapi.load?l():t(gu(n,"network-request-failed"))},UP(`https://apis.google.com/js/api.js?onload=${f}`).catch(m=>t(m))}l()}}).catch(e=>{throw L3=null,e})}(n),L3}(n),t=Cr().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:bz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cz,dontclear:!0},r=>new Promise(function(){var i=(0,R.Z)(function*(u,l){yield r.restyle({setHideOnLeave:!1});const f=gu(n,"network-request-failed"),m=Cr().setTimeout(()=>{l(f)},Ez.get());function v(){Cr().clearTimeout(m),u(r)}r.ping(v).then(v,()=>{l(f)})});return function(u,l){return i.apply(this,arguments)}}()))}),wk.apply(this,arguments)}const Dz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class E6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Oz="__/auth/handler",kz="emulator/auth/handler",Fz=encodeURIComponent("fac");function I6(n,e,t,r,i,u){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,R.Z)(function*(n,e,t,r,i,u){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:rd,eventId:i};if(e instanceof Kd){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,_e.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries(u||{}))l[T]=A}if(e instanceof YG){const T=e.getScopes().filter(A=>""!==A);T.length>0&&(l.scopes=T.join(","))}n.tenantId&&(l.tid=n.tenantId);const f=l;for(const T of Object.keys(f))void 0===f[T]&&delete f[T];const m=yield n._getAppCheckToken(),v=m?`#${Fz}=${encodeURIComponent(m)}`:"";return`${function Lz({config:n}){return n.emulator?IP(n,kz):`https://${n.authDomain}/${Oz}`}(n)}?${(0,_e.xO)(f).slice(1)}${v}`}),Ck.apply(this,arguments)}const Tk="webStorageSupport",Bz=class Uz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a6,this._completeRedirectFn=g6,this._overrideRedirectResult=sz}_openPopup(e,t,r,i){var u=this;return(0,R.Z)(function*(){var l;zd(null===(l=u.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const f=yield I6(e,t,r,tI(),i);return function Rz(n,e,t,r=500,i=600){const u=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},Dz),{width:r.toString(),height:i.toString(),top:u,left:l}),v=(0,_e.z$)().toLowerCase();t&&(f=FV(v)?"_blank":t),kV(v)&&(e=e||"http://localhost",m.scrollbars="yes");const T=Object.entries(m).reduce((M,[O,j])=>`${M}${O}=${j},`,"");if(function mG(n=(0,_e.z$)()){var e;return A3(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(v)&&"_self"!==f)return function Pz(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",f),new E6(null);const A=window.open(e||"",f,T);Ve(A,n,"popup-blocked");try{A.focus()}catch{}return new E6(A)}(e,f,HO())})()}_openRedirect(e,t,r,i){var u=this;return(0,R.Z)(function*(){return yield u._originValidation(e),function D7(n){Cr().location.href=n}(yield I6(e,t,r,tI(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:u}=this.eventManagers[t];return i?Promise.resolve(i):(zd(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,R.Z)(function*(){const r=yield function Az(n){return wk.apply(this,arguments)}(e),i=new lz(e);return r.register("authEvent",u=>(Ve(u?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tk,{type:Tk},i=>{var u;const l=null===(u=i?.[0])||void 0===u?void 0:u[Tk];void 0!==l&&t(!!l),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function gz(n){return Ik.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZV()||FP()||A3()}};var T6="@firebase/auth";class Vz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,R.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $z=(0,_e.Pz)("authIdTokenMaxAge")||300;let A6=null;const Hz=n=>function(){var e=(0,R.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>$z)return;const u=r?.token;A6!==u&&(A6=u,yield fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function B3(n=function yC(n=Ga){const e=za.get(n);if(!e&&n===Ga&&(0,_e.aH)())return _C();if(!e)throw Xo.create("no-app",{appName:n});return e}()){const e=mf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function xG(n,e){const t=mf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),u=t.getOptions();if((0,_e.vZ)(u,e??{}))return i;ys(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Bz,persistence:[F7,C7,a6]}),r=(0,_e.Pz)("authTokenSyncURL");if(r){const u=Hz(r);(function p7(n,e,t){(0,_e.m9)(n).beforeAuthStateChanged(e,t)})(t,u,()=>u(t.currentUser)),function f7(n,e,t,r){(0,_e.m9)(n).onIdTokenChanged(e,t,r)}(t,l=>u(l))}const i=(0,_e.q4)("auth");return i&&function NG(n,e,t){const r=wr(n);Ve(r._canInitEmulator,r,"emulator-config-failed"),Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,u=zV(e),{host:l,port:f}=function RG(n){const e=zV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const u=i[1];return{host:u,port:WV(r.substr(u.length+1))}}{const[u,l]=r.split(":");return{host:u,port:WV(l)}}}(e);r.config.emulator={url:`${u}//${l}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function PG(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function jz(n){mr(new gn.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=r.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:l,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jV(n)},v=new CG(r,i,u,m);return function MG(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(qc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),mr(new gn.wA("auth-internal",e=>{const t=wr(e.getProvider("auth").getImmediate());return new Vz(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(T6,"1.3.2",function Zz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),_i(T6,"1.3.2","esm2017")}("Browser");let fa=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r,this.userDataSubject=new ir.X(null),this.userData$=this.userDataSubject.asObservable();const i=localStorage.getItem("user");if(i){const u=JSON.parse(i);this.userDataSubject.next(u)}}registerUser(t,r,i){var u=this;return(0,R.Z)(function*(){try{const l=yield u.createUserWithEmailAndPassword(t,r),f=l.user.uid;yield u.addAdditionalAuthData(f,i),yield u.saveUserData(l.user,i),u.router.navigate(["categories"])}catch(l){u.handleError(l)}})()}loginUser(t,r){var i=this;return(0,R.Z)(function*(){try{const u=yield i.signInWithEmailAndPassword(t,r),l=u.user.uid,f=yield i.getAdditionalAuthDataById(l);yield i.saveUserData(u.user,f),i.router.navigate(["categories"])}catch(u){i.handleError(u)}})()}logoutUser(){var t=this;return(0,R.Z)(function*(){try{yield t.signOutAuth(),yield t.clearUserData(),t.router.navigate(["sign-in"])}catch(r){t.handleError(r)}})()}forgotPassword(t){var r=this;return(0,R.Z)(function*(){try{yield r.sendPasswordResetEmail(t),window.alert("Password reset email sent, check your inbox."),r.router.navigate(["sign-in"])}catch(i){r.handleError(i),window.alert(i)}})()}sendPasswordResetEmail(t){return function n7(n,e,t){return TO.apply(this,arguments)}(B3(),t)}createUserWithEmailAndPassword(t,r){return function i7(n,e,t){return xO.apply(this,arguments)}(B3(),t,r)}signInWithEmailAndPassword(t,r){return function s7(n,e,t){return function fO(n,e){return pO.apply(this,arguments)}((0,_e.m9)(n),JV.credential(e,t)).catch(function(){var r=(0,R.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&wO(n),i});return function(i){return r.apply(this,arguments)}}())}(B3(),t,r)}signOutAuth(){return function g7(n){return(0,_e.m9)(n).signOut()}(B3())}addAdditionalAuthData(t,r){return Z8(Gs(this.firestore,"Auth",t),r)}getAdditionalAuthDataById(t){var r=this;return(0,R.Z)(function*(){const i=Gs(r.firestore,"Auth",t),u=yield mp(i);return u.exists()?u.data():null})()}saveUserData(t,r){return new Promise((i,u)=>{if(t&&r){const l={...t,...r};localStorage.setItem("user",JSON.stringify(l)),this.userDataSubject.next(l),i()}else localStorage.setItem("user","null"),this.userDataSubject.next(null),u()})}clearUserData(){return new Promise((t,r)=>{localStorage.removeItem("user"),this.userDataSubject.next(null),t()})}handleError(t){if(t instanceof Error){const i=t.message;console.error(`Error (${t.name}): ${i}`),alert(i)}else console.error("Unknown error:",t),alert(t)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Lr),s.LFG(In))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Gz=function(n){return["/recipe",n]};function zz(n,e){if(1&n&&(s.TgZ(0,"div")(1,"a",6)(2,"div",7)(3,"div",8),s._UZ(4,"img",9),s.qZA(),s.TgZ(5,"p",10),s._uU(6),s.qZA()()()()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("routerLink",s.VKq(4,Gz,t.id)),s.xp6(3),s.s9C("alt",t.title),s.Q6J("src",t.image_recipe,s.LSH),s.xp6(2),s.Oqu(t.title)}}let Wz=(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.authService=i,this.recipes=[],this.category=null,this.firestore=(0,s.f3M)(Lr),this.authService.userData$.subscribe(u=>{this.userData=u})}ngOnInit(){var t=this;this.route.params.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.id,f=pu(t.firestore,"Recipe"),m=Gs(t.firestore,"Category",u),v=yield mp(m);v.exists()&&(t.category=v.data());const T=_V(f,yV("category","==",u));c_(T).then(A=>{const M=[];A.forEach(O=>{const j=O.data();M.push({title:j.title,image_recipe:j.image_recipe[0]?j.image_recipe[0].image_recipe:null,order_index:j.order_index,id:O.id})}),t.recipes=M.sort((O,j)=>Number(O.order_index)-Number(j.order_index))}).catch(A=>{console.error("Error retrieving recipes: ",A)})});return function(i){return r.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fi),s.Y36(In),s.Y36(fa))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-category"]],decls:8,vars:3,consts:[[1,"mainLong"],[1,"category"],[1,"category-title"],[1,"category-subtitle"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[1,"recipe-image"],[3,"src","alt"],[1,"recipe-title"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3),s.qZA(),s.TgZ(4,"h4",3),s._uU(5),s.qZA(),s.TgZ(6,"div",4),s.YNc(7,zz,7,6,"div",5),s.qZA()()()),2&r&&(s.xp6(3),s.hij(" ",null==i.category?null:i.category.name," "),s.xp6(2),s.hij(" ",null==i.category?null:i.category.note," "),s.xp6(2),s.Q6J("ngForOf",i.recipes))},dependencies:[Zi,Ki],styles:[".category[_ngcontent-%COMP%]{width:1200px;margin:0 auto;position:relative}.category-title[_ngcontent-%COMP%]{text-align:center;font-family:var(--titleFont)}.category-subtitle[_ngcontent-%COMP%]{font-style:italic;text-align:center;font-weight:200;margin-bottom:20px}.recipe-list[_ngcontent-%COMP%]{position:relative;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{border:1px solid var(--mainWhiteColor);margin:5px;position:relative}.recipe-image[_ngcontent-%COMP%]{padding:5px;position:relative}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:fill}.recipe-title[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);background:var(--backgroundColor);color:var(--mainBlackColor);font-weight:600;padding:0 5px;margin:0;text-align:center;width:100%;text-transform:capitalize;top:70%;height:30%;font-family:var(--titleFont);display:flex;align-items:center;justify-content:center}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(.95);transition:1s ease-in-out}.recipe-item[_ngcontent-%COMP%]:hover   .recipe-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:2%;height:30%;color:var(--mainBlackColor);background:var(--mainMagnoliaColor);transition:1s ease-in-out}@media (max-width: 460px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5%}.recipe-item[_ngcontent-%COMP%]{width:100%}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px;height:25%;top:75%}}@media (min-width: 461px) and (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 10%}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:16px;height:20%;top:79%}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 5%;column-gap:10px}.recipe-item[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.category[_ngcontent-%COMP%]{max-width:100%}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}}"]})}return n})(),h_=(()=>{class n{constructor(t){this.firestore=t}getBaseRecipe(){const r=pu(this.firestore,"BaseRecipe");return new rr.y(i=>{c_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}getBaseById(t){var r=this;return(0,R.Z)(function*(){const i=Gs(r.firestore,"BaseRecipe",t),u=yield mp(i);return u.exists()?u.data():null})()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Lr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ak=(()=>{class n{constructor(t){this.firestore=t}getCategories(){const r=pu(this.firestore,"Category");return new rr.y(i=>{c_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Lr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),f_=(()=>{class n{constructor(t){this.firestore=t}getAllergens(){const r=pu(this.firestore,"Allergens");return new rr.y(i=>{c_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Lr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D6=(()=>{class n{constructor(t){this.firestore=t}getPlates(){const r=pu(this.firestore,"Plates");return new rr.y(i=>{c_(r).then(u=>{const l=[];u.forEach(f=>{const v={...f.data(),id:f.id};l.push(v)}),i.next(l),i.complete()}).catch(u=>{i.error(u)})})}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Lr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kz(n,e){1&n&&(s.TgZ(0,"div",46),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),s.qZA())}function Yz(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,Kz,2,0,"div",45),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("title"))||null==r.errors?null:r.errors.required)}}function Qz(n,e){if(1&n&&(s.TgZ(0,"option",47),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.name," ")}}function Jz(n,e){1&n&&(s.TgZ(0,"div",46),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),s.qZA())}function Xz(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,Jz,2,0,"div",45),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("category"))||null==r.errors?null:r.errors.required)}}function e9(n,e){1&n&&(s.TgZ(0,"div",46),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),s.qZA())}function t9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,e9,2,0,"div",45),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("description"))||null==r.errors?null:r.errors.required)}}function n9(n,e){1&n&&(s.TgZ(0,"div",46),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0435\u0437\u043e\u043d! "),s.qZA())}function r9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,n9,2,0,"div",45),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("season"))||null==r.errors?null:r.errors.required)}}function i9(n,e){1&n&&(s.TgZ(0,"div",46),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function s9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,i9,2,0,"div",45),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("unit"))||null==r.errors?null:r.errors.required)}}function o9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",48)(1,"input",49),s.NdJ("change",function(){const u=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.toggleAllergenSelection(u.id))}),s.qZA(),s.TgZ(2,"label",50),s._uU(3),s.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=s.oxw();s.xp6(1),s.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),s.xp6(1),s.s9C("for","allergen"+r),s.xp6(1),s.Oqu(t.name)}}function a9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",51)(1,"p",7),s._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s._UZ(3,"input",52),s.TgZ(4,"button",36),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeImage(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function u9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",51)(1,"p",7),s._uU(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),s.qZA(),s._UZ(3,"input",53),s.TgZ(4,"button",36),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeVideo(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function c9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",51)(1,"p",7),s._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),s.qZA(),s._UZ(3,"input",54),s.TgZ(4,"button",36),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removePreparation(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function l9(n,e){if(1&n&&(s.TgZ(0,"option",47),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.name," ")}}function d9(n,e){1&n&&(s.TgZ(0,"div",46),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0447\u0438\u043d\u0438\u044f! "),s.qZA())}function h9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,d9,2,0,"div",45),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeForm.get("food_plate"))||null==r.errors?null:r.errors.required)}}function f9(n,e){1&n&&(s.TgZ(0,"div",46),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function p9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,f9,2,0,"div",45),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function g9(n,e){1&n&&(s.TgZ(0,"div",46),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function m9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,g9,2,0,"div",45),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function _9(n,e){1&n&&(s.TgZ(0,"div",46),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function y9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,_9,2,0,"div",45),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function v9(n,e){if(1&n&&(s.TgZ(0,"option",47),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.title," ")}}function E9(n,e){if(1&n&&(s.TgZ(0,"div",51)(1,"div",55),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s.TgZ(6,"label",56),s._uU(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(8,"input",57),s.YNc(9,p9,2,1,"div",5),s.TgZ(10,"label",58),s._uU(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(12,"input",59),s.YNc(13,m9,2,1,"div",5),s.TgZ(14,"label",24),s._uU(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(16,"p",7),s._uU(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),s.qZA(),s.TgZ(18,"select",60)(19,"option",26),s._uU(20,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(21,"option",27),s._uU(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(23,"option",28),s._uU(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(25,"option",29),s._uU(26,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(27,y9,2,1,"div",5),s.TgZ(28,"label",61),s._uU(29,"\u0411\u0440\u043e\u0439\u043a\u0430: "),s.qZA(),s.TgZ(30,"p",7),s._uU(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),s.qZA(),s._UZ(32,"input",62),s.TgZ(33,"label",63),s._uU(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),s.qZA(),s.TgZ(35,"p",7),s._uU(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),s._UZ(37,"br"),s._uU(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),s.qZA(),s._UZ(39,"input",64),s.TgZ(40,"label",65),s._uU(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),s.qZA(),s.TgZ(42,"p",7),s._uU(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),s.qZA(),s.TgZ(44,"select",66),s.YNc(45,v9,2,2,"option",9),s.qZA(),s.TgZ(46,"label",40),s._uU(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),s.qZA(),s.TgZ(48,"p",7),s._uU(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),s.qZA(),s._UZ(50,"input",67),s.qZA()),2&n){const t=e.index,r=s.oxw();let i,u,l;s.Q6J("formGroupName",t),s.xp6(9),s.Q6J("ngIf",null==(i=r.recipeForm.get("ingredients."+t+".name"))?null:i.touched),s.xp6(4),s.Q6J("ngIf",null==(u=r.recipeForm.get("ingredients."+t+".amount"))?null:u.touched),s.xp6(14),s.Q6J("ngIf",null==(l=r.recipeForm.get("ingredients."+t+".unit"))?null:l.touched),s.xp6(18),s.Q6J("ngForOf",r.baseRecipes)}}let I9=(()=>{class n{constructor(t,r,i,u,l,f){this.fb=r,this.baseRecipeService=i,this.categoriesService=u,this.allergenService=l,this.platesService=f,this.allergens=[],this.plates=[],this.baseRecipes=[],this.categories=[],this.currentOrderIndex=1,this.firestore=t,this.recipeForm=this.fb.group({title:["",[Ke.required]],category:this.fb.control([null,[Ke.required]]),description:["",[Ke.required]],season:["",[Ke.required]],unit:["",[Ke.required]],summary:[""],release_time:[0],serving_value:[0],order_index:[0],allergens:this.fb.array([]),food_plate:this.fb.control([null,[Ke.required]]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[Ke.required]],amount:[null,[Ke.required]],base:this.fb.control(null),unit:["",[Ke.required]],order_index:[0],preparation_method:[""],quantity:[0]})])}),this.getAllergens(),this.getPlates()}ngOnInit(){this.getBaseRecipe(),this.getCategory()}addImage(){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(t){this.recipeForm.get("image_recipe").removeAt(t)}addImageToForm(t){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.recipeForm.get("video_recipe").removeAt(t)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.recipeForm.get("preparation_method").removeAt(t)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:["",[Ke.required]],amount:[null,[Ke.required]],base:this.fb.control(null),unit:["",[Ke.required]],order_index:this.currentOrderIndex,preparation_method:[""],quantity:[0]})),this.currentOrderIndex++}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Go(t)):this.added_allergens.removeAt(r)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}get added_allergens(){return this.recipeForm.get("allergens")}onSubmit(){this.recipeForm.valid&&(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}getCategory(){this.categoriesService.getCategories().subscribe({next:t=>{this.categories=t},error:t=>{console.error("Error fetching recipes:",t)}})}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getPlates(){this.platesService.getPlates().subscribe({next:t=>{this.plates=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addRecipe(t){v3(pu(this.firestore,"Recipe"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Lr),s.Y36(Yo),s.Y36(h_),s.Y36(Ak),s.Y36(f_),s.Y36(D6))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-recipe-form"]],decls:108,vars:14,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","category"],[1,"hint"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],["formArrayName","ingredients",1,"ingredients"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["id","ingredient_unit","formControlName","unit"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["type","text","id","ingredient_preparation_method","formControlName","preparation_method"],["for","base"],["id","base","formControlName","base"],["type","number","id","ingredient_order_index","formControlName","order_index"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(4,"form",3)(5,"label"),s._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s._UZ(7,"input",4),s.qZA(),s.YNc(8,Yz,2,1,"div",5),s.TgZ(9,"label",6),s._uU(10,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(11,"p",7),s._uU(12,"\u041a\u044a\u043c \u043a\u043e\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043f\u0440\u0435\u043d\u0430\u0434\u043b\u0435\u0436\u0438 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s.TgZ(13,"select",8),s.YNc(14,Qz,2,2,"option",9),s.qZA(),s.YNc(15,Xz,2,1,"div",5),s.TgZ(16,"div")(17,"label",10),s._uU(18,"\u0420\u0435\u0437\u044e\u043c\u0435:"),s.qZA(),s.TgZ(19,"p",7),s._uU(20,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(21,"input",11),s.qZA(),s.TgZ(22,"div")(23,"label",12),s._uU(24,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(25,"textarea",13),s.qZA(),s.YNc(26,t9,2,1,"div",5),s.TgZ(27,"div")(28,"label",14),s._uU(29,"\u0421\u0435\u0437\u043e\u043d (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(30,"p",7),s._uU(31,"\u0412 \u043a\u043e\u0439 \u0441\u0435\u0437\u043e\u043d \u0449\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s.TgZ(32,"select",15)(33,"option",16),s._uU(34,"\u041f\u0440\u043e\u043b\u0435\u0442"),s.qZA(),s.TgZ(35,"option",17),s._uU(36,"\u041b\u044f\u0442\u043e"),s.qZA(),s.TgZ(37,"option",18),s._uU(38,"\u0415\u0441\u0435\u043d"),s.qZA(),s.TgZ(39,"option",19),s._uU(40,"\u0417\u0438\u043c\u0430"),s.qZA()()(),s.YNc(41,r9,2,1,"div",5),s.TgZ(42,"div")(43,"label",20),s._uU(44,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435: "),s.qZA(),s.TgZ(45,"p",7),s._uU(46,"\u0417\u0430 \u043a\u043e\u043b\u043a\u043e \u0432\u0440\u0435\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s._UZ(47,"input",21),s.qZA(),s.TgZ(48,"div")(49,"label",22),s._uU(50,"\u0413\u043e\u0442\u043e\u0432\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: "),s.qZA(),s.TgZ(51,"p",7),s._uU(52,"\u041a\u043e\u043b\u043a\u043e \u0442\u0435\u0436\u0438 \u0433\u043e\u0442\u043e\u0432\u043e\u0442\u043e \u044f\u0441\u0442\u0438\u0435?"),s.qZA(),s._UZ(53,"input",23),s.qZA(),s._UZ(54,"br"),s.TgZ(55,"label",24),s._uU(56,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(57,"p",7),s._uU(58,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),s.qZA(),s.TgZ(59,"select",25)(60,"option",26),s._uU(61,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(62,"option",27),s._uU(63,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(64,"option",28),s._uU(65,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(66,"option",29),s._uU(67,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(68,s9,2,1,"div",5),s.TgZ(69,"div",30)(70,"label"),s._uU(71,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),s.qZA(),s.YNc(72,o9,4,5,"div",31),s.qZA(),s.TgZ(73,"div")(74,"app-image-upload",32),s.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),s.qZA(),s.TgZ(75,"div",33),s.YNc(76,a9,6,1,"div",34),s.qZA(),s.TgZ(77,"div",35),s.YNc(78,u9,6,1,"div",34),s.TgZ(79,"button",36),s.NdJ("click",function(){return i.addVideo()}),s._uU(80," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),s.qZA()(),s.TgZ(81,"div",37),s.YNc(82,c9,6,1,"div",34),s.TgZ(83,"button",36),s.NdJ("click",function(){return i.addPreparation()}),s._uU(84," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),s.qZA()(),s.TgZ(85,"label",38),s._uU(86,"\u0427\u0438\u043d\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(87,"p",7),s._uU(88,"\u0412 \u043a\u043e\u044f \u0447\u0438\u043d\u0438\u044f \u0449\u0435 \u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0440\u0430 \u044f\u0441\u0442\u0438\u0435\u0442\u043e?"),s.qZA(),s.TgZ(89,"select",39),s.YNc(90,l9,2,2,"option",9),s.qZA(),s.YNc(91,h9,2,1,"div",5),s.TgZ(92,"div")(93,"label",40),s._uU(94,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),s.qZA(),s.TgZ(95,"p",7),s._uU(96,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u0438\u0442\u0435 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),s.qZA(),s._UZ(97,"input",41),s.qZA()(),s.TgZ(98,"div",42),s.YNc(99,E9,51,5,"div",34),s.qZA(),s._UZ(100,"br"),s.TgZ(101,"button",36),s.NdJ("click",function(){return i.addIngredient()}),s._uU(102," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),s.qZA(),s.TgZ(103,"button",36),s.NdJ("click",function(){return i.onSubmit()}),s._uU(104,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(105,"a",43),s._UZ(106,"i",44),s._uU(107,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA()()()()),2&r){let u,l,f,m,v,T;s.xp6(4),s.Q6J("formGroup",i.recipeForm),s.xp6(4),s.Q6J("ngIf",null==(u=i.recipeForm.get("title"))?null:u.touched),s.xp6(6),s.Q6J("ngForOf",i.categories),s.xp6(1),s.Q6J("ngIf",null==(l=i.recipeForm.get("category"))?null:l.touched),s.xp6(11),s.Q6J("ngIf",null==(f=i.recipeForm.get("description"))?null:f.touched),s.xp6(15),s.Q6J("ngIf",null==(m=i.recipeForm.get("season"))?null:m.touched),s.xp6(27),s.Q6J("ngIf",null==(v=i.recipeForm.get("unit"))?null:v.touched),s.xp6(4),s.Q6J("ngForOf",i.allergens),s.xp6(4),s.Q6J("ngForOf",i.image_recipe.controls),s.xp6(2),s.Q6J("ngForOf",i.video_recipe.controls),s.xp6(4),s.Q6J("ngForOf",i.preparation_method.controls),s.xp6(8),s.Q6J("ngForOf",i.plates),s.xp6(1),s.Q6J("ngIf",null==(T=i.recipeForm.get("food_plate"))?null:T.touched),s.xp6(8),s.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[Zi,Ar,ks,$a,Wo,Hn,Fs,go,lo,ho,Ls,Us,qa,po,eI],styles:["@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return n})(),S6=(()=>{class n{constructor(t){this.firestore=t}getRecipeById(t){var r=this;return(0,R.Z)(function*(){const i=Gs(r.firestore,"Recipe",t),u=yield mp(i);return u.exists()?u.data():null})()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Lr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dk=(()=>{class n{constructor(t){this.firestore=t,this.commentAddedSubject=new cs.x}getCommentsForRecipe(t){var r=this;return(0,R.Z)(function*(){try{const i=pu(r.firestore,"Comments"),u=_V(i,yV("recipeId","==",t)),l=yield c_(u),f=[];return l.forEach(m=>{const v=m.data();f.push({create_time:v.create_time,name:v.name,recipeId:v.recipeId,text:v.text,uid:v.uid,id:m.id})}),f.sort((m,v)=>{const T=m.create_time.toDate();return v.create_time.toDate()-T}),f}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(t){var r=this;return(0,R.Z)(function*(){try{const i="Comments",u=yield v3(pu(r.firestore,i),t);return r.commentAddedSubject.next(),u.id}catch(i){return console.error("Error adding comment:",i),null}})()}deleteComment(t){var r=this;return(0,R.Z)(function*(){try{const u=Gs(r.firestore,"Comments",t);yield B8(u),console.log("Comment deleted successfully:",t)}catch(i){console.error("Error deleting comment:",i)}})()}getCommentById(t){var r=this;return(0,R.Z)(function*(){const i=Gs(r.firestore,"Comments",t),u=yield mp(i);if(u.exists()){const l=u.data();return console.log(l.recipeId),u.data()}return null})()}editComment(t,r){var i=this;return(0,R.Z)(function*(){try{const l=Gs(i.firestore,"Comments",t);yield E3(l,r),console.log("Comment edited successfully:",t)}catch(u){console.error("Error editing comment:",u)}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Lr))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function w9(n,e){1&n&&(s.TgZ(0,"div",9),s._uU(1," \u041c\u043e\u043b\u044f \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440! "),s.qZA())}function C9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,w9,2,0,"div",8),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.commentForm.get("text"))||null==r.errors?null:r.errors.required)}}let T9=(()=>{class n{constructor(t,r,i,u){this.fb=t,this.commentService=i,this.authService=u,this.timestamp=new Date,this.fullName="",this.userData=null,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:[""],text:["",Ke.required],recipeId:[this.recipeId],create_time:[this.timestamp],uid:[""]}),this.authService.userData$.subscribe({next:t=>{t?(this.userData=t,this.fullName=this.userData.firstName+" "+this.userData.lastName):this.fullName="\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d"},error:t=>{}})}onSubmit(){var t=this;return(0,R.Z)(function*(){if(t.timestamp=new Date,t.commentForm.valid){t.commentForm.patchValue({name:t.fullName}),t.commentForm.patchValue({recipeId:t.recipeId}),t.commentForm.patchValue({create_time:t.timestamp}),t.commentForm.patchValue({uid:t.userData.uid});try{(yield t.commentService.addComment(t.commentForm.value))?(alert("\u0412\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"),t.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Yo),s.Y36(Lr),s.Y36(Dk),s.Y36(fa))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:14,vars:2,consts:[[1,"commentWrapper"],["id","commentForm",3,"formGroup","ngSubmit"],[1,"divider"],[1,"form-group"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"form",1),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(2,"div",2),s._UZ(3,"hr"),s.TgZ(4,"p"),s._uU(5,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0439\u0442\u0435\xa0\xa0"),s.qZA(),s._UZ(6,"hr"),s.qZA(),s.TgZ(7,"div",3)(8,"label",4),s._uU(9,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(10,"textarea",5),s.qZA(),s.YNc(11,C9,2,1,"div",6),s.TgZ(12,"button",7),s._uU(13,"\u041f\u0443\u0431\u043b\u0438\u043a\u0443\u0432\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"),s.qZA()()()),2&r){let u;s.xp6(1),s.Q6J("formGroup",i.commentForm),s.xp6(10),s.Q6J("ngIf",null==(u=i.commentForm.get("text"))?null:u.touched)}},dependencies:[Ar,ks,Hn,lo,ho,Ls,Us],styles:["form#commentForm[_ngcontent-%COMP%]{background-color:var(--backgroundColor);max-width:100%;border:unset}"]})}return n})(),V3=(()=>{class n{constructor(t){this.sanitizer=t}transform(t){let r;if(t.startsWith("https://m."))r=new URLSearchParams(t.split("?")[1]).get("v")||"";else{const u=t.split("/");r=u[u.length-1]}return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Uu,16))};static#t=this.\u0275pipe=s.Yjl({name:"safeUrl",type:n,pure:!0})}return n})();function b9(n,e){if(1&n&&(s.TgZ(0,"div",20),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.hij(" ",null==t.recipe?null:t.recipe.summary," ")}}function A9(n,e){1&n&&(s.TgZ(0,"div"),s._UZ(1,"br"),s.qZA())}function D9(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"img",23),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",t.image_recipe,s.LSH)}}function S9(n,e){if(1&n&&(s.TgZ(0,"ul",21),s.YNc(1,D9,2,1,"li",22),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",null==t.recipe?null:t.recipe.image_recipe)}}function x9(n,e){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("\xa0",null==t.recipe?null:t.recipe.unit,"")}}function M9(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",11),s._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),s.qZA()(),s.TgZ(4,"td")(5,"span",12),s._uU(6),s.YNc(7,x9,2,1,"span",24),s.qZA()()()),2&n){const t=s.oxw();s.xp6(6),s.hij("",null==t.recipe?null:t.recipe.serving_value," "),s.xp6(1),s.Q6J("ngIf",null==t.recipe?null:t.recipe.unit)}}function N9(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",11),s._uU(3,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u043d\u0435"),s.qZA()(),s.TgZ(4,"td")(5,"span",12),s._uU(6),s.qZA()()()),2&n){const t=s.oxw();s.xp6(6),s.hij("",null==t.recipe?null:t.recipe.release_time,"\xa0 \u043c\u0438\u043d\u0443\u0442\u0438")}}function R9(n,e){1&n&&(s.ynx(0),s._uU(1,", "),s.BQk())}function P9(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"span",12),s._uU(2),s.qZA(),s.YNc(3,R9,2,0,"ng-container",4),s.BQk()),2&n){const t=e.$implicit,r=e.last;s.xp6(2),s.Oqu(t.name),s.xp6(1),s.Q6J("ngIf",!r)}}function O9(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,P9,4,2,"ng-container",22),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",t.allergens)}}function k9(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",11),s._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),s.qZA()(),s.TgZ(4,"td"),s.YNc(5,O9,2,1,"div",4),s.qZA()()),2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngIf",t.allergens.length>0)}}function F9(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"div",25),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"p",26),s._uU(8),s.qZA(),s._UZ(9,"br"),s.BQk()),2&n){const t=s.oxw();s.xp6(8),s.hij(" ",null==t.recipe?null:t.recipe.description," ")}}function L9(n,e){1&n&&(s.TgZ(0,"div",25),s._UZ(1,"hr"),s.TgZ(2,"p"),s._uU(3,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),s.qZA(),s._UZ(4,"hr"),s.qZA())}function U9(n,e){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.AsE(" - ",t.amount," ",t.unit," ")}}function B9(n,e){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.hij("(",t.quantity," \u0431\u0440.)")}}const V9=function(n){return["/base",n]};function Z9(n,e){if(1&n&&(s.TgZ(0,"span",12)(1,"a",6),s._uU(2," \xa0\xa0"),s._UZ(3,"i",29),s._uU(4," \xa0\xa0"),s._UZ(5,"i",30),s._uU(6," \xa0\xa0"),s._UZ(7,"i",31),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.Q6J("routerLink",s.VKq(1,V9,t.base))}}function j9(n,e){if(1&n&&(s.TgZ(0,"span",11)(1,"i"),s._uU(2),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",t.preparation_method,"")}}function q9(n,e){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.YNc(2,U9,2,2,"ng-container",4),s.YNc(3,B9,2,1,"span",4),s.YNc(4,Z9,8,3,"span",24),s._UZ(5,"br"),s.YNc(6,j9,3,1,"span",28),s.qZA()),2&n){const t=s.oxw().$implicit,r=s.oxw();s.xp6(1),s.hij(" ",t.name," "),s.xp6(1),s.Q6J("ngIf",r.userData.isCook),s.xp6(1),s.Q6J("ngIf",t.quantity),s.xp6(1),s.Q6J("ngIf",t.base),s.xp6(2),s.Q6J("ngIf",t.preparation_method)}}function $9(n,e){if(1&n&&(s.TgZ(0,"ul",27),s.YNc(1,q9,7,5,"li",4),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",null==t.recipe?null:t.recipe.ingredients)}}function H9(n,e){1&n&&(s.TgZ(0,"div",25),s._UZ(1,"hr"),s.TgZ(2,"p"),s._uU(3,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),s.qZA(),s._UZ(4,"hr"),s.qZA())}function G9(n,e){if(1&n&&(s.TgZ(0,"ul",32)(1,"li"),s._uU(2),s.qZA()()),2&n){const t=e.$implicit;s.xp6(2),s.Oqu(t.preparation_method)}}function z9(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"iframe",35),s.ALo(2,"safeUrl"),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",s.lcZ(2,1,t.video_recipe),s.uOi)}}function W9(n,e){if(1&n&&(s.TgZ(0,"div",34)(1,"div",25),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"ul"),s.YNc(8,z9,3,3,"li",22),s.qZA()()),2&n){const t=s.oxw(2);s.xp6(8),s.Q6J("ngForOf",null==t.recipe?null:t.recipe.video_recipe)}}function K9(n,e){if(1&n&&(s.ynx(0),s.YNc(1,W9,9,1,"div",33),s.BQk()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",(null==t.recipe?null:t.recipe.video_recipe)&&(null==t.recipe||null==t.recipe.video_recipe?null:t.recipe.video_recipe.length)>0)}}function Y9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.navigateToRecipeEdit())}),s._uU(1," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439\u0442\u0435 "),s.qZA()}}function Q9(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"app-comment-form",36),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("recipeId",t.recipeId)}}function J9(n,e){1&n&&(s.TgZ(0,"div",25),s._UZ(1,"hr"),s.TgZ(2,"p"),s._uU(3,"\xa0\xa0\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\xa0\xa0"),s.qZA(),s._UZ(4,"hr"),s.qZA())}function X9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",16),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,u=s.oxw(2);return s.KtG(u.deleteComment(i.id))}),s._UZ(1,"i",40),s.qZA()}}function eW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",16),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit,u=s.oxw(2);return s.KtG(u.navigateToCommentEdit(i.id))}),s._UZ(1,"i",41),s.qZA()}}function tW(n,e){if(1&n&&(s.TgZ(0,"ul")(1,"li"),s._uU(2),s.qZA(),s.TgZ(3,"li"),s._uU(4),s.qZA(),s.TgZ(5,"li",38)(6,"p"),s._uU(7),s.ALo(8,"date"),s.qZA(),s.TgZ(9,"div",39),s.YNc(10,X9,2,0,"span",18),s.YNc(11,eW,2,0,"span",18),s.qZA()()()),2&n){const t=e.$implicit,r=s.oxw(2);s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.text),s.xp6(3),s.hij(" ",s.xi3(8,5,t.create_time.toDate(),"dd/MM/yyyy HH:mm:ss")," "),s.xp6(3),s.Q6J("ngIf",t.uid==r.userData.uid),s.xp6(1),s.Q6J("ngIf",t.uid==r.userData.uid)}}function nW(n,e){if(1&n&&(s.TgZ(0,"section",37),s.YNc(1,tW,12,8,"ul",22),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.comments)}}const rW=function(n){return["/category",n]};let iW=(()=>{class n{constructor(t,r,i,u,l,f,m){var v=this;this.route=t,this.recipeService=r,this.firestore=i,this.commentService=u,this.allergenService=l,this.authService=f,this.router=m,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.showCommentForm=!1,this.allergens=[],this.route.paramMap.subscribe(function(){var T=(0,R.Z)(function*(A){const M=A.get("id");if(v.recipeId=M,M)try{v.recipe=yield v.recipeService.getRecipeById(M),v.comments=yield u.getCommentsForRecipe(M),v.recipe?yield v.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(O){console.error("An error occurred while retrieving the recipe:",O)}else console.error("Recipe ID not provided.")});return function(A){return T.apply(this,arguments)}}()),u.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}navigateToRecipeEdit(){this.router.navigate(["/recipe-edit",this.recipeId])}navigateToCommentEdit(t){this.router.navigate(["/comment-edit",t])}ngOnInit(){this.getAllergens(),this.authService.userData$.subscribe(t=>{this.userData=t})}toggleCommentForm(){this.showCommentForm=!this.showCommentForm}deleteComment(t){this.commentService.deleteComment(t),this.loadCommentsForRecipe()}loadCommentsForRecipe(){var t=this;return(0,R.Z)(function*(){t.recipeId&&(t.comments=yield t.commentService.getCommentsForRecipe(t.recipeId))})()}loadCategoryAndPlateData(){var t=this;return(0,R.Z)(function*(){const r=t.recipe?.food_plate,i=t.recipe?.category;if(r){const u=Gs(t.firestore,"Plates/"+r),l=yield mp(u);l.exists()&&(t.plate=l.data())}if(i){const u=Gs(t.firestore,"Category/"+i),l=yield mp(u);l.exists()&&(t.category=l.data())}})()}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{const i=(this.recipe?.allergens||[]).filter(Boolean);t.forEach(u=>{const l=u.id;i.filter(m=>m===l).length>0&&this.allergens.push(u)})},error:t=>{console.error("Error fetching recipes:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fi),s.Y36(S6),s.Y36(Lr),s.Y36(Dk),s.Y36(f_),s.Y36(fa),s.Y36(In))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-recipe"]],decls:47,vars:23,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"recipe-title"],["class","recipe-summary",4,"ngIf"],[4,"ngIf"],[1,"recipe-category"],[3,"routerLink"],[1,"fa-solid","fa-backward","fa-beat-fade"],[1,"recipe-hero"],["class","recipe-image",4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["class","divider",4,"ngIf"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[3,"click"],["href","javascript:history.back()",1,"btn"],[3,"click",4,"ngIf"],["class","comments",4,"ngIf"],[1,"recipe-summary"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],["class","value",4,"ngIf"],[1,"divider"],[1,"recipe-description-text","description"],[1,"recipe-ingredients"],["class","key",4,"ngIf"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],[1,"recipe-preparation-method"],["class","recipe-videos",4,"ngIf"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"recipeId"],[1,"comments"],[1,"comments-last"],[1,"commentBtnWrapper"],[1,"fa-solid","fa-trash","fa-shake"],[1,"fa-regular","fa-pen-to-square","fa-flip"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3),s.qZA(),s.YNc(4,b9,2,1,"div",3),s.YNc(5,A9,2,0,"div",4),s.TgZ(6,"div",5)(7,"a",6),s._UZ(8,"i",7),s._uU(9),s.qZA()(),s.TgZ(10,"div",8),s.YNc(11,S9,2,1,"ul",9),s.TgZ(12,"table",10)(13,"tr")(14,"td")(15,"span",11),s._uU(16,"\u0421\u0435\u0437\u043e\u043d"),s.qZA()(),s.TgZ(17,"td")(18,"span",12),s._uU(19),s.qZA()()(),s.YNc(20,M9,8,2,"tr",4),s.YNc(21,N9,7,1,"tr",4),s.TgZ(22,"tr")(23,"td")(24,"span",11),s._uU(25,"\u0427\u0438\u043d\u0438\u044f"),s.qZA()(),s.TgZ(26,"td")(27,"span",12),s._uU(28),s.qZA()()(),s.YNc(29,k9,6,1,"tr",4),s.qZA(),s.YNc(30,F9,10,1,"ng-container",4),s.YNc(31,L9,5,0,"div",13),s._UZ(32,"br"),s.YNc(33,$9,2,1,"ul",14),s.YNc(34,H9,5,0,"div",13),s._UZ(35,"br"),s.YNc(36,G9,3,1,"ul",15),s.YNc(37,K9,2,1,"ng-container",4),s.TgZ(38,"button",16),s.NdJ("click",function(){return i.toggleCommentForm()}),s._uU(39,"\u0418\u0441\u043a\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0430\u0442\u0435?"),s.qZA(),s.TgZ(40,"a",17),s._UZ(41,"i",7),s._uU(42,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA(),s.YNc(43,Y9,2,0,"button",18),s.YNc(44,Q9,2,1,"div",4),s.YNc(45,J9,5,0,"div",13),s.YNc(46,nW,2,1,"section",19),s.qZA()()()),2&r&&(s.xp6(3),s.Oqu(null==i.recipe?null:i.recipe.title),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.summary),s.xp6(1),s.Q6J("ngIf",!(null!=i.recipe&&i.recipe.summary)),s.xp6(2),s.Q6J("routerLink",s.VKq(21,rW,null==i.recipe?null:i.recipe.category)),s.xp6(2),s.hij(" ",null==i.category?null:i.category.name," "),s.xp6(2),s.Q6J("ngIf",(null==i.recipe?null:i.recipe.image_recipe)&&(null==i.recipe||null==i.recipe.image_recipe?null:i.recipe.image_recipe.length)>0),s.xp6(8),s.Oqu(null==i.recipe?null:i.recipe.season),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.serving_value),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.release_time),s.xp6(7),s.Oqu(null==i.plate?null:i.plate.name),s.xp6(1),s.Q6J("ngIf",(null==i.recipe||null==i.recipe.allergens?null:i.recipe.allergens.length)>0),s.xp6(1),s.Q6J("ngIf",i.userData.isCook),s.xp6(1),s.Q6J("ngIf",null==i.recipe?null:i.recipe.ingredients),s.xp6(2),s.Q6J("ngForOf",null==i.recipe?null:i.recipe.ingredients),s.xp6(1),s.Q6J("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),s.xp6(2),s.Q6J("ngForOf",null==i.recipe?null:i.recipe.preparation_method),s.xp6(1),s.Q6J("ngIf",i.userData.isCook),s.xp6(6),s.Q6J("ngIf",i.userData&&i.userData.isAdmin),s.xp6(1),s.Q6J("ngIf",i.showCommentForm),s.xp6(1),s.Q6J("ngIf",i.comments.length>0),s.xp6(1),s.Q6J("ngIf",i.comments.length>0))},dependencies:[Zi,Ar,Ki,T9,dh,V3],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:26px;text-align:center;font-family:var(--titleFont)}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;text-align:center;font-style:italic;white-space:pre-wrap}.recipe-category[_ngcontent-%COMP%]{font-style:italic;margin-bottom:10px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-hero[_ngcontent-%COMP%]{grid-template-columns:70% 30%;gap:20px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}.btn[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}.comments[_ngcontent-%COMP%]{border:1px solid var(--borderColor);margin:30px 0;padding:20px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:10px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:5px}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--mainGreyColor)}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--backgroundColor);padding-left:5px;border-radius:5px}.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainMagnoliaColor);font-style:italic;border-radius:5px}.commentBtnWrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.comments-last[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]})}return n})();function sW(n,e){1&n&&(s.TgZ(0,"div",35),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),s.qZA())}function oW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,sW,2,0,"div",34),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseForm.get("title"))||null==r.errors?null:r.errors.required)}}function aW(n,e){1&n&&(s.TgZ(0,"div",35),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),s.qZA())}function uW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,aW,2,0,"div",34),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseForm.get("base_type"))||null==r.errors?null:r.errors.required)}}function cW(n,e){1&n&&(s.TgZ(0,"div",35),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),s.qZA())}function lW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,cW,2,0,"div",34),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseForm.get("description"))||null==r.errors?null:r.errors.required)}}function dW(n,e){1&n&&(s.TgZ(0,"div",35),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),s.qZA())}function hW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,dW,2,0,"div",34),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseForm.get("base_yield"))||null==r.errors?null:r.errors.required)}}function fW(n,e){1&n&&(s.TgZ(0,"div",35),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function pW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,fW,2,0,"div",34),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseForm.get("unit"))||null==r.errors?null:r.errors.required)}}function gW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",36)(1,"input",37),s.NdJ("change",function(){const u=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.toggleAllergenSelection(u.id))}),s.qZA(),s.TgZ(2,"label",38),s._uU(3),s.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=s.oxw();s.xp6(1),s.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),s.xp6(1),s.s9C("for","allergen"+r),s.xp6(1),s.Oqu(t.name)}}function mW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",39)(1,"p",7),s._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s._UZ(3,"input",40),s.TgZ(4,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeImage(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function _W(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",39)(1,"p",7),s._uU(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),s.qZA(),s._UZ(3,"input",41),s.TgZ(4,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeVideo(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function yW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",39)(1,"p",7),s._uU(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),s.qZA(),s._UZ(3,"input",42),s.TgZ(4,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removePreparation(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),s.qZA()()}2&n&&s.Q6J("formGroupName",e.index)}function vW(n,e){1&n&&(s.TgZ(0,"div",35),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function EW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,vW,2,0,"div",34),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function IW(n,e){1&n&&(s.TgZ(0,"div",35),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function wW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,IW,2,0,"div",34),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function CW(n,e){1&n&&(s.TgZ(0,"div",35),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function TW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,CW,2,0,"div",34),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function bW(n,e){if(1&n&&(s.TgZ(0,"option",58),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.title," ")}}function AW(n,e){if(1&n&&(s.TgZ(0,"div",39)(1,"div",43),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0430\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s.TgZ(6,"label",44),s._uU(7,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(8,"input",45),s.YNc(9,EW,2,1,"div",5),s.TgZ(10,"label",46),s._uU(11,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(12,"input",47),s.YNc(13,wW,2,1,"div",5),s.TgZ(14,"label",15),s._uU(15,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(16,"p",7),s._uU(17,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),s.qZA(),s.TgZ(18,"select",48)(19,"option",17),s._uU(20,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(21,"option",18),s._uU(22,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(23,"option",19),s._uU(24,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(25,"option",20),s._uU(26,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(27,TW,2,1,"div",5),s.TgZ(28,"label",49),s._uU(29,"\u0411\u0440\u043e\u0439\u043a\u0430:"),s.qZA(),s.TgZ(30,"p",7),s._uU(31," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),s.qZA(),s._UZ(32,"input",50),s.TgZ(33,"label",51),s._uU(34,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),s.qZA(),s.TgZ(35,"p",7),s._uU(36," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),s._UZ(37,"br"),s._uU(38," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),s.qZA(),s._UZ(39,"input",52),s.TgZ(40,"label",53),s._uU(41,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),s.qZA(),s.TgZ(42,"p",7),s._uU(43," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),s.qZA(),s.TgZ(44,"select",54),s.YNc(45,bW,2,2,"option",55),s.qZA(),s.TgZ(46,"label",56),s._uU(47,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),s.qZA(),s.TgZ(48,"p",7),s._uU(49,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),s.qZA(),s._UZ(50,"input",57),s.qZA()),2&n){const t=e.index,r=s.oxw();let i,u,l;s.Q6J("formGroupName",t),s.xp6(9),s.Q6J("ngIf",null==(i=r.baseForm.get("ingredients."+t+".name"))?null:i.touched),s.xp6(4),s.Q6J("ngIf",null==(u=r.baseForm.get("ingredients."+t+".amount"))?null:u.touched),s.xp6(14),s.Q6J("ngIf",null==(l=r.baseForm.get("ingredients."+t+".unit"))?null:l.touched),s.xp6(18),s.Q6J("ngForOf",r.baseRecipes)}}let DW=(()=>{class n{constructor(t,r,i,u){this.fb=r,this.baseRecipeService=i,this.allergenService=u,this.allergens=[],this.baseRecipes=[],this.currentOrderIndex=1,this.firestore=t,this.baseForm=this.fb.group({title:["",[Ke.required]],base_type:["",[Ke.required]],summary:[""],description:["",[Ke.required]],base_yield:["",[Ke.required]],unit:["",[Ke.required]],base_recipe_portions:[0],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:["",[Ke.required]],amount:[null,[Ke.required]],base:this.fb.control(null),unit:["",[Ke.required]],order_index:[0],preparation_method:"",quantity:[0]})])})}ngOnInit(){this.getBaseRecipe(),this.getAllergens()}addImage(){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(t){this.baseForm.get("image_recipe").removeAt(t)}addImageToForm(t){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:t}))}addVideo(){this.baseForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.baseForm.get("video_recipe").removeAt(t)}addPreparation(){this.baseForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.baseForm.get("preparation_method").removeAt(t)}addIngredient(){this.baseForm.get("ingredients").push(this.fb.group({name:["",[Ke.required]],amount:[null,[Ke.required]],base:this.fb.control(null),order_index:this.currentOrderIndex,preparation_method:"",quantity:[0],unit:["",[Ke.required]]})),this.currentOrderIndex++}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Go(t)):this.added_allergens.removeAt(r)}get ingredients(){return this.baseForm.get("ingredients")}get image_recipe(){return this.baseForm.get("image_recipe")}get video_recipe(){return this.baseForm.get("video_recipe")}get preparation_method(){return this.baseForm.get("preparation_method")}get added_allergens(){return this.baseForm.get("allergens")}onSubmit(){this.baseForm.valid&&(this.addBaseRecipe(this.baseForm.value),this.baseForm.reset())}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addBaseRecipe(t){v3(pu(this.firestore,"BaseRecipe"),t).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Lr),s.Y36(Yo),s.Y36(h_),s.Y36(f_))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-base-form"]],decls:80,vars:11,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","base_recipe_portions"],["type","number","id","base_recipe_portions","formControlName","base_recipe_portions"],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method"],["formArrayName","ingredients",1,"ingredients"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["class","errors",4,"ngIf"],[1,"errors"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],["type","text","id","image_recipe","formControlName","image_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["type","text","id","preparation_method","formControlName","preparation_method"],[1,"divider"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["id","ingredient_unit","formControlName","unit"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","preparation_method"],["type","text","id","ingredient_preparation_method","formControlName","preparation_method"],["for","base"],["id","base","formControlName","base"],[3,"value",4,"ngFor","ngForOf"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],[3,"value"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(4,"form",3)(5,"label"),s._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s._UZ(7,"input",4),s.qZA(),s.YNc(8,oW,2,1,"div",5),s.TgZ(9,"div")(10,"label",6),s._uU(11,"\u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(12,"p",7),s._uU(13,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),s.qZA(),s._UZ(14,"input",8),s.qZA(),s.YNc(15,uW,2,1,"div",5),s.TgZ(16,"div")(17,"label",9),s._uU(18,"\u0420\u0435\u0437\u044e\u043c\u0435:"),s.qZA(),s.TgZ(19,"p",7),s._uU(20,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(21,"input",10),s.qZA(),s.TgZ(22,"div")(23,"label",11),s._uU(24,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(25,"textarea",12),s.qZA(),s.YNc(26,lW,2,1,"div",5),s.TgZ(27,"div")(28,"label",13),s._uU(29,"\u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(30,"p",7),s._uU(31,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f"),s.qZA(),s._UZ(32,"input",14),s.qZA(),s.YNc(33,hW,2,1,"div",5),s.TgZ(34,"label",15),s._uU(35,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(36,"p",7),s._uU(37,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),s.qZA(),s.TgZ(38,"select",16)(39,"option",17),s._uU(40,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(41,"option",18),s._uU(42,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(43,"option",19),s._uU(44,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(45,"option",20),s._uU(46,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(47,pW,2,1,"div",5),s.TgZ(48,"div")(49,"label",21),s._uU(50,"\u041f\u043e\u0440\u0446\u0438\u0439: "),s.qZA(),s.TgZ(51,"p",7),s._uU(52,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(53,"input",22),s.qZA(),s.TgZ(54,"div")(55,"div",23)(56,"label"),s._uU(57,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),s.qZA(),s.YNc(58,gW,4,5,"div",24),s.qZA(),s.TgZ(59,"app-image-upload",25),s.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),s.qZA(),s.TgZ(60,"div",26),s.YNc(61,mW,6,1,"div",27),s.qZA(),s.TgZ(62,"div",28),s.YNc(63,_W,6,1,"div",27),s.TgZ(64,"button",29),s.NdJ("click",function(){return i.addVideo()}),s._uU(65," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),s.qZA()(),s.TgZ(66,"div",30),s.YNc(67,yW,6,1,"div",27),s.TgZ(68,"button",29),s.NdJ("click",function(){return i.addPreparation()}),s._uU(69," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),s.qZA()()(),s.TgZ(70,"div",31),s.YNc(71,AW,51,5,"div",27),s.qZA(),s._UZ(72,"br"),s.TgZ(73,"button",29),s.NdJ("click",function(){return i.addIngredient()}),s._uU(74," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),s.qZA(),s.TgZ(75,"button",29),s.NdJ("click",function(){return i.onSubmit()}),s._uU(76," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 "),s.qZA(),s.TgZ(77,"a",32),s._UZ(78,"i",33),s._uU(79,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA()()()()),2&r){let u,l,f,m,v;s.xp6(4),s.Q6J("formGroup",i.baseForm),s.xp6(4),s.Q6J("ngIf",null==(u=i.baseForm.get("title"))?null:u.touched),s.xp6(7),s.Q6J("ngIf",null==(l=i.baseForm.get("base_type"))?null:l.touched),s.xp6(11),s.Q6J("ngIf",null==(f=i.baseForm.get("description"))?null:f.touched),s.xp6(7),s.Q6J("ngIf",null==(m=i.baseForm.get("base_yield"))?null:m.touched),s.xp6(14),s.Q6J("ngIf",null==(v=i.baseForm.get("unit"))?null:v.touched),s.xp6(11),s.Q6J("ngForOf",i.allergens),s.xp6(3),s.Q6J("ngForOf",i.image_recipe.controls),s.xp6(2),s.Q6J("ngForOf",i.video_recipe.controls),s.xp6(4),s.Q6J("ngForOf",i.preparation_method.controls),s.xp6(4),s.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[Zi,Ar,ks,$a,Wo,Hn,Fs,go,lo,ho,Ls,Us,qa,po,eI],styles:["@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return n})();function SW(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",10),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0420\u0435\u0437\u044e\u043c\u0435\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"div",11),s._uU(8),s.qZA()()),2&n){const t=s.oxw();s.xp6(8),s.Oqu(null==t.base?null:t.base.summary)}}function xW(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"img",16),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",t.image_recipe,s.LSH)}}function MW(n,e){if(1&n&&(s.TgZ(0,"ul",14),s.YNc(1,xW,2,1,"li",15),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",null==t.base?null:t.base.image_recipe)}}function NW(n,e){if(1&n&&(s.TgZ(0,"div",17)(1,"div",10),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u041f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"p",18),s._uU(8),s.qZA()()),2&n){const t=s.oxw(2);s.xp6(8),s.Oqu(null==t.base?null:t.base.description)}}function RW(n,e){if(1&n&&(s.ynx(0),s.YNc(1,MW,2,1,"ul",12),s.YNc(2,NW,9,1,"div",13),s.BQk()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",(null==t.base?null:t.base.image_recipe)&&(null==t.base||null==t.base.image_recipe?null:t.base.image_recipe.length)>0),s.xp6(1),s.Q6J("ngIf",null==t.base?null:t.base.description)}}function PW(n,e){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.AsE(" - ",t.amount," ",t.unit," ")}}function OW(n,e){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.hij("(",t.quantity," \u0431\u0440.)")}}const kW=function(n){return["/base",n]};function FW(n,e){if(1&n&&(s.TgZ(0,"span",6)(1,"a",23),s._uU(2," \xa0\xa0"),s._UZ(3,"i",24),s._uU(4," \xa0\xa0"),s._UZ(5,"i",25),s._uU(6," \xa0\xa0"),s._UZ(7,"i",26),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(1),s.Q6J("routerLink",s.VKq(1,kW,t.base))}}function LW(n,e){if(1&n&&(s.TgZ(0,"span",5)(1,"i"),s._uU(2),s.qZA()()),2&n){const t=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",t.preparation_method,"")}}function UW(n,e){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.YNc(2,PW,2,2,"ng-container",3),s.YNc(3,OW,2,1,"span",3),s.YNc(4,FW,8,3,"span",21),s._UZ(5,"br"),s.YNc(6,LW,3,1,"span",22),s.qZA()),2&n){const t=s.oxw().$implicit,r=s.oxw(2);s.xp6(1),s.hij(" ",t.name," "),s.xp6(1),s.Q6J("ngIf",r.userData.isCook),s.xp6(1),s.Q6J("ngIf",t.quantity),s.xp6(1),s.Q6J("ngIf",t.base),s.xp6(2),s.Q6J("ngIf",t.preparation_method)}}function BW(n,e){if(1&n&&(s.TgZ(0,"ul",20),s.YNc(1,UW,7,5,"li",3),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",null==t.base?null:t.base.ingredients)}}function VW(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",10),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.YNc(7,BW,2,1,"ul",19),s.qZA()),2&n){const t=s.oxw();s.xp6(7),s.Q6J("ngForOf",null==t.base?null:t.base.ingredients)}}function ZW(n,e){if(1&n&&(s.TgZ(0,"ul",28)(1,"li"),s._uU(2),s.qZA()()),2&n){const t=e.$implicit;s.xp6(2),s.Oqu(t.preparation_method)}}function jW(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",10),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u041c\u0435\u0442\u043e\u0434\u0438\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.YNc(7,ZW,3,1,"ul",27),s.qZA()),2&n){const t=s.oxw();s.xp6(7),s.Q6J("ngForOf",null==t.base?null:t.base.preparation_method)}}function qW(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",5),s._uU(3,"\u041f\u043e\u0440\u0446\u0438\u0439"),s.qZA()(),s.TgZ(4,"td")(5,"span",6),s._uU(6),s.qZA()()()),2&n){const t=s.oxw(2);s.xp6(6),s.hij("",null==t.base?null:t.base.base_recipe_portions,"\xa0\u0431\u0440. ")}}function $W(n,e){if(1&n&&(s.TgZ(0,"span",6),s._uU(1),s.qZA()),2&n){const t=s.oxw(3);s.xp6(1),s.hij("\xa0",null==t.base?null:t.base.unit,"")}}function HW(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",5),s._uU(3,"\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),s.qZA()(),s.TgZ(4,"td")(5,"span",6),s._uU(6),s.YNc(7,$W,2,1,"span",21),s.qZA()()()),2&n){const t=s.oxw(2);s.xp6(6),s.Oqu(null==t.base?null:t.base.base_yield),s.xp6(1),s.Q6J("ngIf",null==t.base?null:t.base.unit)}}function GW(n,e){if(1&n&&(s.ynx(0),s.YNc(1,qW,7,1,"tr",3),s.YNc(2,HW,8,2,"tr",3),s.BQk()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",null==t.base?null:t.base.base_recipe_portions),s.xp6(1),s.Q6J("ngIf",null==t.base?null:t.base.base_yield)}}function zW(n,e){1&n&&(s.ynx(0),s._uU(1,", "),s.BQk())}function WW(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"span",6),s._uU(2),s.qZA(),s.YNc(3,zW,2,0,"ng-container",3),s.BQk()),2&n){const t=e.$implicit,r=e.last;s.xp6(2),s.Oqu(t.name),s.xp6(1),s.Q6J("ngIf",!r)}}function KW(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,WW,4,2,"ng-container",15),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",t.allergens)}}function YW(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"span",5),s._uU(3," \u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),s.qZA()(),s.TgZ(4,"td"),s.YNc(5,KW,2,1,"div",3),s.qZA()()),2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngIf",t.allergens.length>0)}}function QW(n,e){if(1&n&&(s.TgZ(0,"li"),s._UZ(1,"iframe",31),s.ALo(2,"safeUrl"),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",s.lcZ(2,1,t.video_recipe),s.uOi)}}function JW(n,e){if(1&n&&(s.TgZ(0,"div",30)(1,"div",10),s._UZ(2,"hr"),s.TgZ(3,"p"),s._uU(4,"\xa0\xa0\u0412\u0438\u0434\u0435\u043e\xa0\xa0"),s.qZA(),s._UZ(5,"hr"),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"ul"),s.YNc(8,QW,3,3,"li",15),s.qZA()()),2&n){const t=s.oxw(2);s.xp6(8),s.Q6J("ngForOf",null==t.base?null:t.base.video_recipe)}}function XW(n,e){if(1&n&&(s.ynx(0),s.YNc(1,JW,9,1,"div",29),s.BQk()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",(null==t.base?null:t.base.video_recipe)&&(null==t.base||null==t.base.video_recipe?null:t.base.video_recipe.length)>0)}}function eK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.navigateToEdit())}),s._uU(1," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439\u0442\u0435 "),s.qZA()}}let tK=(()=>{class n{constructor(t,r,i,u,l){var f=this;this.route=t,this.router=r,this.baseRecipeService=i,this.authService=u,this.allergenService=l,this.base=null,this.baseId="",this.allergens=[],this.route.paramMap.subscribe(function(){var m=(0,R.Z)(function*(v){const T=v.get("id");if(f.baseId=T,T)try{f.base=yield f.baseRecipeService.getBaseById(T)}catch(A){console.error("An error occurred while retrieving the recipe:",A)}else console.error("Recipe ID not provided.")});return function(v){return m.apply(this,arguments)}}()),this.authService.userData$.subscribe(m=>{this.userData=m})}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}ngOnInit(){this.getAllergens()}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{const i=(this.base?.allergens||[]).filter(Boolean);t.forEach(u=>{const l=u.id;i.filter(m=>m===l).length>0&&this.allergens.push(u)})},error:t=>{console.error("Error fetching recipes:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fi),s.Y36(In),s.Y36(h_),s.Y36(fa),s.Y36(f_))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-base-recipe"]],decls:25,vars:10,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title-black"],[4,"ngIf"],[1,"recipe-other-details"],[1,"key"],[1,"value"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],[3,"click",4,"ngIf"],[1,"divider"],[1,"recipe-summary"],["class","recipe-image",4,"ngIf"],["class","recipe-description",4,"ngIf"],[1,"recipe-image"],[4,"ngFor","ngForOf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-description"],[1,"recipe-description-text"],["class","recipe-ingredients",4,"ngFor","ngForOf"],[1,"recipe-ingredients"],["class","value",4,"ngIf"],["class","key",4,"ngIf"],[3,"routerLink"],[1,"fa-solid","fa-forward"],[1,"fa-solid","fa-magnifying-glass","fa-beat-fade"],[1,"fa-solid","fa-backward"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-preparation-method"],["class","recipe-videos",4,"ngIf"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[3,"click"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3),s.qZA(),s.YNc(4,SW,9,1,"div",3),s.YNc(5,RW,3,2,"ng-container",3),s.YNc(6,VW,8,1,"div",3),s.YNc(7,jW,8,1,"div",3),s.TgZ(8,"table",4)(9,"tr")(10,"td")(11,"span",5),s._uU(12,"\u0422\u0438\u043f"),s.qZA()(),s.TgZ(13,"td")(14,"span",6),s._uU(15),s.qZA()()(),s.YNc(16,GW,3,2,"ng-container",3),s.YNc(17,YW,6,1,"tr",3),s.qZA(),s.YNc(18,XW,2,1,"ng-container",3),s._UZ(19,"br"),s.TgZ(20,"a",7),s._UZ(21,"i",8),s._uU(22,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA(),s.YNc(23,eK,2,0,"button",9),s.qZA(),s._UZ(24,"br"),s.qZA()),2&r&&(s.xp6(3),s.Oqu(null==i.base?null:i.base.title),s.xp6(1),s.Q6J("ngIf",null==i.base?null:i.base.summary),s.xp6(1),s.Q6J("ngIf",i.userData.isCook),s.xp6(1),s.Q6J("ngIf",null==i.base?null:i.base.ingredients),s.xp6(1),s.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),s.xp6(8),s.Oqu(null==i.base?null:i.base.base_type),s.xp6(1),s.Q6J("ngIf",i.userData.isCook),s.xp6(1),s.Q6J("ngIf",(null==i.base||null==i.base.allergens?null:i.base.allergens.length)>0),s.xp6(1),s.Q6J("ngIf",i.userData.isCook),s.xp6(5),s.Q6J("ngIf",i.userData&&i.userData.isAdmin))},dependencies:[Zi,Ar,Ki,V3],styles:[".recipe-container[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;white-space:pre-wrap}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:var(--mainColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]{padding:0 16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;list-style-type:disc}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainColor)}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondColor)}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return n})();const nK=function(n){return["/base",n]};function rK(n,e){if(1&n&&(s.TgZ(0,"div")(1,"a",5)(2,"div",6)(3,"h3"),s._uU(4),s.qZA()()()()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("routerLink",s.VKq(2,nK,t.id)),s.xp6(3),s.Oqu(t.title)}}let iK=(()=>{class n{constructor(t,r){this.baseRecipeService=t,this.authService=r,this.baseRecipes=[],this.authService.userData$.subscribe(i=>{this.userData=i})}ngOnInit(){this.getBaseRecipes()}getBaseRecipes(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t.sort((r,i)=>r.title.localeCompare(i.title))},error:t=>{console.error("Error fetching categories:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(h_),s.Y36(fa))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-base-list"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"card"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0411\u0430\u0437\u043e\u0432\u0438 \u0420\u0435\u0446\u0435\u043f\u0442\u0438"),s.qZA(),s.TgZ(4,"div",3),s.YNc(5,rK,5,4,"div",4),s.qZA()()()),2&r&&(s.xp6(5),s.Q6J("ngForOf",i.baseRecipes))},dependencies:[Zi,Ki],styles:['.recipe-list[_ngcontent-%COMP%]{width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);column-gap:20px}.card[_ngcontent-%COMP%]{border-radius:5px;margin:10px 0;text-align:center;padding:20px;transition:transform .2s;position:relative;background:var(--mainColor);color:var(--mainWhiteColor);display:flex;align-items:center;justify-content:center;cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:scale(.96)}.card[_ngcontent-%COMP%]:before, .card[_ngcontent-%COMP%]:after{position:absolute;content:"";width:20%;height:20%;display:flex;align-items:center;justify-content:center;font-weight:700;background-color:var(--secondColor);transition:all .5s}.card[_ngcontent-%COMP%]:before{top:0;right:0;border-radius:0 15px 0 100%}.card[_ngcontent-%COMP%]:after{bottom:0;left:0;border-radius:0 100% 0 15px}.card[_ngcontent-%COMP%]:hover:before, .card[_ngcontent-%COMP%]:hover:after{width:100%;height:100%;border-radius:5px;transition:all .5s}.card[_ngcontent-%COMP%]:hover:after{content:"\\41f\\43e\\43a\\430\\436\\438"}@media (max-width: 767px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}.wrapper[_ngcontent-%COMP%]{padding:0 20px}}@media (min-width: 768px) and (max-width: 1023px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);width:100%}}@media (min-width: 1024px) and (max-width: 1440px){.recipe-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);width:100%}}']})}return n})();function sK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),s.qZA())}function oK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,sK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseFormEdit.get("title"))||null==r.errors?null:r.errors.required)}}function aK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0432\u0438\u0434! "),s.qZA())}function uK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,aK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseFormEdit.get("base_type"))||null==r.errors?null:r.errors.required)}}function cK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),s.qZA())}function lK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,cK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseFormEdit.get("description"))||null==r.errors?null:r.errors.required)}}function dK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0438\u0432! "),s.qZA())}function hK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,dK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseFormEdit.get("base_yield"))||null==r.errors?null:r.errors.required)}}function fK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function pK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,fK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.baseFormEdit.get("unit"))||null==r.errors?null:r.errors.required)}}function gK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",37)(1,"input",38),s.NdJ("change",function(){const u=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.toggleAllergenSelection(u.id))}),s.qZA(),s.TgZ(2,"label",39),s._uU(3),s.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=s.oxw();s.xp6(1),s.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),s.xp6(1),s.s9C("for","allergen"+r),s.xp6(1),s.Oqu(t.name)}}function mK(n,e){if(1&n&&s._UZ(0,"img",44),2&n){const t=s.oxw().index,r=s.oxw();let i;s.Q6J("src",null==(i=r.image_recipe.controls[t].get("image_recipe"))?null:i.value,s.LSH)}}function _K(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",40)(1,"p",8),s._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s.TgZ(3,"label",41),s._uU(4,"\u0421\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s._UZ(5,"input",42),s.YNc(6,mK,1,1,"img",43),s.TgZ(7,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeImage(u))}),s._uU(8," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i;s.Q6J("formGroupName",t),s.xp6(3),s.Q6J("for","image_recipe"+t),s.xp6(2),s.Q6J("id","image_recipe"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.image_recipe.controls[t].get("image_recipe"))?null:i.value)}}function yK(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"iframe",46),s.ALo(2,"safeUrl"),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("src",s.lcZ(2,1,null==(i=r.video_recipe.controls[t].get("video_recipe"))?null:i.value),s.uOi)}}function vK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",40)(1,"label",41),s._uU(2,"\u0412\u0438\u0434\u0435\u043e"),s.qZA(),s._UZ(3,"input",45),s.YNc(4,yK,3,3,"div",6),s.TgZ(5,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeVideo(u))}),s._uU(6," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","video_recipe"+t),s.xp6(2),s.Q6J("id","video_recipe"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.video_recipe.controls[t].get("video_recipe"))?null:i.value)}}function EK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",40)(1,"label",41),s._uU(2,"\u041c\u0435\u0442\u043e\u0434"),s.qZA(),s._UZ(3,"input",48),s.TgZ(4,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw(2);return s.KtG(l.removePreparation(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),s.qZA()()}if(2&n){const t=e.index;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","method"+t),s.xp6(2),s.Q6J("id","method"+t)}}function IK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",47)(1,"p",8),s._uU(2,"\u041c\u0435\u0442\u043e\u0434\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438:"),s.qZA(),s.YNc(3,EK,6,3,"div",27),s.TgZ(4,"button",29),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addPreparation())}),s._uU(5," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(3),s.Q6J("ngForOf",t.preparation_method.controls)}}function wK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function CK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,wK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function TK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function bK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,TK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function AK(n,e){1&n&&(s.TgZ(0,"div",36),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function DK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,AK,2,0,"div",35),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function SK(n,e){if(1&n&&(s.TgZ(0,"option",56),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.title," ")}}function xK(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",40)(1,"label",41),s._uU(2,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(3,"input",49),s.YNc(4,CK,2,1,"div",6),s.TgZ(5,"label",41),s._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(7,"input",50),s.YNc(8,bK,2,1,"div",6),s.TgZ(9,"label",41),s._uU(10,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(11,"p",8),s._uU(12,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),s.qZA(),s.TgZ(13,"select",51)(14,"option",18),s._uU(15,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(16,"option",19),s._uU(17,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(18,"option",20),s._uU(19,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(20,"option",21),s._uU(21,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(22,DK,2,1,"div",6),s.TgZ(23,"label",41),s._uU(24,"\u0411\u0440\u043e\u0439\u043a\u0430:"),s.qZA(),s.TgZ(25,"p",8),s._uU(26," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),s.qZA(),s._UZ(27,"input",52),s.TgZ(28,"label",41),s._uU(29,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),s.qZA(),s.TgZ(30,"p",8),s._uU(31," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),s._UZ(32,"br"),s._uU(33," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),s.qZA(),s._UZ(34,"input",48),s.TgZ(35,"label",41),s._uU(36,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),s.qZA(),s.TgZ(37,"p",8),s._uU(38," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),s.qZA(),s.TgZ(39,"select",53),s.YNc(40,SK,2,2,"option",54),s.qZA(),s.TgZ(41,"label",41),s._uU(42,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),s.qZA(),s.TgZ(43,"p",8),s._uU(44,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),s.qZA(),s._UZ(45,"input",55),s.TgZ(46,"button",29),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeIngredient(u))}),s._uU(47," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i,u,l;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","name"+t),s.xp6(2),s.Q6J("id","name"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.baseFormEdit.get("ingredients."+t+".name"))?null:i.touched),s.xp6(1),s.Q6J("for","amount"+t),s.xp6(2),s.Q6J("id","amount"+t),s.xp6(1),s.Q6J("ngIf",null==(u=r.baseFormEdit.get("ingredients."+t+".amount"))?null:u.touched),s.xp6(1),s.Q6J("for","unit"+t),s.xp6(4),s.Q6J("id","unit"+t),s.xp6(9),s.Q6J("ngIf",null==(l=r.baseFormEdit.get("ingredients."+t+".unit"))?null:l.touched),s.xp6(1),s.Q6J("for","quantity"+t),s.xp6(4),s.Q6J("id","quantity"+t),s.xp6(1),s.Q6J("for","preparation_method"+t),s.xp6(6),s.Q6J("id","preparation_method"+t),s.xp6(1),s.Q6J("for","base"+t),s.xp6(4),s.Q6J("id","base"+t),s.xp6(1),s.Q6J("ngForOf",r.baseRecipes),s.xp6(1),s.Q6J("for","order_index"+t),s.xp6(4),s.Q6J("id","order_index"+t)}}let MK=(()=>{class n{constructor(t,r,i,u,l,f){this.route=t,this.router=r,this.fb=i,this.baseRecipeService=u,this.allergenService=l,this.base=null,this.baseId="",this.baseRecipes=[],this.allergens=[],this.firestore=f}navigateToEdit(){this.router.navigate(["/base-edit",this.baseId])}ngOnInit(){var t=this;return(0,R.Z)(function*(){t.initializeForm(),yield t.loadData(),t.getBaseRecipe(),t.getAllergens()})()}initializeForm(){this.baseFormEdit=this.fb.group({title:["",[Ke.required]],base_type:["",[Ke.required]],description:["",[Ke.required]],base_yield:["",[Ke.required]],unit:["",[Ke.required]],summary:[""],base_recipe_portions:[0],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([])})}loadData(){var t=this;return(0,R.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.get("id");if(t.baseId=u,u)try{t.base=yield t.baseRecipeService.getBaseById(u),t.patchFormWithBaseData()}catch(l){throw console.error("An error occurred while retrieving the recipe:",l),l}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithBaseData(){if(this.base&&this.baseFormEdit){const t=this.baseFormEdit.get("ingredients"),r=this.baseFormEdit.get("image_recipe"),i=this.baseFormEdit.get("video_recipe"),u=this.baseFormEdit.get("preparation_method"),l=this.baseFormEdit.get("allergens");t.clear(),r.clear(),i.clear(),u.clear(),l.clear(),this.base.ingredients.forEach(f=>{t.push(this.fb.group({name:[f.name,[Ke.required]],amount:[f.amount,[Ke.required]],base:[f.base],unit:[f.unit,[Ke.required]],order_index:[f.order_index],preparation_method:[f.preparation_method],quantity:[f.quantity]}))}),this.base.image_recipe&&this.base.image_recipe.length>0&&this.base.image_recipe.forEach(f=>{r.push(this.fb.group({image_recipe:[f.image_recipe]}))}),this.base.video_recipe&&this.base.video_recipe.length>0&&this.base.video_recipe.forEach(f=>{i.push(this.fb.group({video_recipe:[f.video_recipe]}))}),this.base.preparation_method&&this.base.preparation_method.length>0&&this.base.preparation_method.forEach(f=>{u.push(this.fb.group({preparation_method:[f.preparation_method]}))}),this.base.allergens&&this.base.allergens.length>0&&this.base.allergens.forEach(f=>{l.push(this.fb.control(f))}),this.baseFormEdit.patchValue({title:this.base.title,base_type:this.base.base_type,summary:this.base.summary,description:this.base.description,base_yield:this.base.base_yield,unit:this.base.unit,selectedAllergen:this.base.selectedAllergen,selectedAllergenNames:this.base.selectedAllergenNames,base_recipe_portions:this.base.base_recipe_portions})}}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Go(t)):this.added_allergens.removeAt(r)}addIngredient(){this.baseFormEdit.get("ingredients").push(this.fb.group({name:["",[Ke.required]],amount:["",[Ke.required]],base:this.fb.control(""),unit:["",[Ke.required]],order_index:[0],preparation_method:"",quantity:[0]}))}removeIngredient(t){this.baseFormEdit.get("ingredients").removeAt(t)}get ingredients(){return this.baseFormEdit.get("ingredients")}get image_recipe(){return this.baseFormEdit.get("image_recipe")}get video_recipe(){return this.baseFormEdit.get("video_recipe")}get preparation_method(){return this.baseFormEdit.get("preparation_method")}get added_allergens(){return this.baseFormEdit.get("allergens")}onSubmit(){this.baseFormEdit.valid&&(this.addBaseRecipe(this.baseFormEdit.value),this.baseFormEdit.reset())}addPreparation(){this.baseFormEdit.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.baseFormEdit.get("preparation_method").removeAt(t)}addVideo(){this.baseFormEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.baseFormEdit.get("video_recipe").removeAt(t)}removeImage(t){this.baseFormEdit.get("image_recipe").removeAt(t)}addImageToForm(t){this.baseFormEdit.get("image_recipe").push(this.fb.group({image_recipe:t}))}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}addBaseRecipe(t){const i=Gs(this.firestore,"BaseRecipe",this.baseId);E3(i,t),this.router.navigate(["/base",this.baseId])}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fi),s.Y36(In),s.Y36(Yo),s.Y36(h_),s.Y36(f_),s.Y36(Lr))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-base-form-edit"]],decls:75,vars:11,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","summary"],["id","summary","formControlName","summary"],["for","description"],["rows","10","id","description","formControlName","description"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["type","text","id","base_recipe_portions","formControlName","base_recipe_portions"],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method",4,"ngIf"],[1,"divider"],["formArrayName","ingredients"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["class","errors",4,"ngIf"],[1,"errors"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","formControlName","video_recipe",3,"id"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],["formArrayName","preparation_method"],["type","text","formControlName","preparation_method",3,"id"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["type","number","formControlName","quantity",3,"id"],["formControlName","base",3,"id"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","order_index",3,"id"],[3,"value"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(4,"form",3)(5,"label",4),s._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s._UZ(7,"input",5),s.YNc(8,oK,2,1,"div",6),s.TgZ(9,"label",7),s._uU(10," \u0412\u0438\u0434 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s.TgZ(11,"p",8),s._uU(12,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),s.qZA(),s._UZ(13,"input",9),s.YNc(14,uK,2,1,"div",6),s.TgZ(15,"label",10),s._uU(16," \u0420\u0435\u0437\u044e\u043c\u0435: "),s.qZA(),s.TgZ(17,"p",8),s._uU(18,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(19,"textarea",11),s.TgZ(20,"label",12),s._uU(21," \u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s._UZ(22,"textarea",13),s.YNc(23,lK,2,1,"div",6),s.TgZ(24,"label",14),s._uU(25," \u0414\u043e\u0431\u0438\u0432 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s.TgZ(26,"p",8),s._uU(27,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f"),s.qZA(),s._UZ(28,"input",15),s.YNc(29,hK,2,1,"div",6),s.TgZ(30,"label",16),s._uU(31," \u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s.TgZ(32,"p",8),s._uU(33,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),s.qZA(),s.TgZ(34,"select",17)(35,"option",18),s._uU(36,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(37,"option",19),s._uU(38,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(39,"option",20),s._uU(40,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(41,"option",21),s._uU(42,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(43,pK,2,1,"div",6),s.TgZ(44,"label",16),s._uU(45," \u041f\u043e\u0440\u0446\u0438\u0439: "),s.qZA(),s.TgZ(46,"p",8),s._uU(47,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(48,"input",22),s.TgZ(49,"div",23)(50,"label"),s._uU(51,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),s.qZA(),s.YNc(52,gK,4,5,"div",24),s.qZA(),s.TgZ(53,"app-image-upload",25),s.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),s.qZA(),s.TgZ(54,"div",26),s.YNc(55,_K,9,4,"div",27),s.qZA(),s.TgZ(56,"div",28),s.YNc(57,vK,7,4,"div",27),s.TgZ(58,"button",29),s.NdJ("click",function(){return i.addVideo()}),s._uU(59," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),s.qZA()(),s.YNc(60,IK,6,1,"div",30),s.TgZ(61,"div",31),s._UZ(62,"hr"),s.TgZ(63,"p"),s._uU(64,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),s.qZA(),s._UZ(65,"hr"),s.qZA(),s.TgZ(66,"div",32),s.YNc(67,xK,48,19,"div",27),s.qZA(),s.TgZ(68,"button",29),s.NdJ("click",function(){return i.addIngredient()}),s._uU(69," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),s.qZA(),s.TgZ(70,"button",29),s.NdJ("click",function(){return i.onSubmit()}),s._uU(71,"\u0417\u0430\u043f\u0430\u0437\u0435\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435"),s.qZA(),s.TgZ(72,"a",33),s._UZ(73,"i",34),s._uU(74,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA()()()()),2&r){let u,l,f,m,v;s.xp6(4),s.Q6J("formGroup",i.baseFormEdit),s.xp6(4),s.Q6J("ngIf",null==(u=i.baseFormEdit.get("title"))?null:u.touched),s.xp6(6),s.Q6J("ngIf",null==(l=i.baseFormEdit.get("base_type"))?null:l.touched),s.xp6(9),s.Q6J("ngIf",null==(f=i.baseFormEdit.get("description"))?null:f.touched),s.xp6(6),s.Q6J("ngIf",null==(m=i.baseFormEdit.get("base_yield"))?null:m.touched),s.xp6(14),s.Q6J("ngIf",null==(v=i.baseFormEdit.get("unit"))?null:v.touched),s.xp6(9),s.Q6J("ngForOf",i.allergens),s.xp6(3),s.Q6J("ngForOf",i.image_recipe.controls),s.xp6(2),s.Q6J("ngForOf",i.video_recipe.controls),s.xp6(3),s.Q6J("ngIf",(null==i.base?null:i.base.preparation_method)&&(null==i.base||null==i.base.preparation_method?null:i.base.preparation_method.length)>0),s.xp6(7),s.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[Zi,Ar,ks,$a,Wo,Hn,Fs,go,lo,ho,Ls,Us,qa,po,eI,V3],styles:["@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return n})();function NK(n,e){1&n&&(s.TgZ(0,"div",14),s._uU(1," \u0418\u043c\u0435\u0439\u043b\u044a\u0442 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u0435\u043d! "),s.qZA())}function RK(n,e){1&n&&(s.TgZ(0,"div",14),s._uU(1," \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b! "),s.qZA())}function PK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,NK,2,0,"div",15),s.YNc(2,RK,2,0,"div",15),s.qZA()),2&n){const t=s.oxw();let r,i;s.xp6(1),s.Q6J("ngIf",null==(r=t.signInForm.get("email"))||null==r.errors?null:r.errors.required),s.xp6(1),s.Q6J("ngIf",null==(i=t.signInForm.get("email"))||null==i.errors?null:i.errors.email)}}function OK(n,e){1&n&&(s.TgZ(0,"div",14),s._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430! "),s.qZA())}function kK(n,e){1&n&&(s.TgZ(0,"div",14),s._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430! "),s.qZA())}function FK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,OK,2,0,"div",15),s.YNc(2,kK,2,0,"div",15),s.qZA()),2&n){const t=s.oxw();let r,i;s.xp6(1),s.Q6J("ngIf",null==(r=t.signInForm.get("password"))||null==r.errors?null:r.errors.required),s.xp6(1),s.Q6J("ngIf",null==(i=t.signInForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function LK(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Oqu(t.loginError)}}let UK=(()=>{class n{constructor(t,r){this.authService=t,this.fb=r,this.loginError=null,this.signInForm=this.fb.group({email:["",[Ke.required,Ke.email]],password:["",[Ke.required,Ke.minLength(6)]]})}submitSignInForm(){var t=this;return(0,R.Z)(function*(){if(t.signInForm.valid){const{email:r,password:i}=t.signInForm.value;try{yield t.authService.loginUser(r,i)}catch(u){console.log(u)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fa),s.Y36(Yo))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-in"]],decls:26,vars:4,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[3,"formGroup","ngSubmit"],[1,"formGroup"],["for","email"],["type","text","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","current-password"],["type","submit"],["href","#","routerLink","/sign-up"],[1,"hint"],["href","#","routerLink","/forgot-password"],[1,"errors"],["class","errors",4,"ngIf"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0412\u0445\u043e\u0434"),s.qZA(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return i.submitSignInForm()}),s.TgZ(5,"div",4)(6,"label",5),s._uU(7,"\u0418\u043c\u0435\u0439\u043b"),s.qZA(),s._UZ(8,"input",6),s.YNc(9,PK,3,2,"div",7),s.qZA(),s.TgZ(10,"div",4)(11,"label",8),s._uU(12,"\u041f\u0430\u0440\u043e\u043b\u0430"),s.qZA(),s._UZ(13,"input",9),s.YNc(14,FK,3,2,"div",7),s.qZA(),s.TgZ(15,"div",4)(16,"button",10),s._uU(17,"\u0412\u043b\u0435\u0437\u0442\u0435"),s.qZA()(),s.YNc(18,LK,2,1,"div",7),s.TgZ(19,"div")(20,"a",11)(21,"div",12),s._uU(22,"\u0412\u0441\u0435 \u043e\u0449\u0435 \u043d\u044f\u043c\u0430\u0442\u0435 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f?"),s.qZA()(),s.TgZ(23,"a",13)(24,"div",14),s._uU(25,"\u0417\u0430\u0431\u0440\u0430\u0432\u0438\u0445\u0442\u0435 \u0432\u0430\u0448\u0430\u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u0430?"),s.qZA()()()()()()),2&r){let u,l;s.xp6(4),s.Q6J("formGroup",i.signInForm),s.xp6(5),s.Q6J("ngIf",(null==(u=i.signInForm.get("email"))?null:u.invalid)&&(null==(u=i.signInForm.get("email"))?null:u.touched)),s.xp6(5),s.Q6J("ngIf",(null==(l=i.signInForm.get("password"))?null:l.invalid)&&(null==(l=i.signInForm.get("password"))?null:l.touched)),s.xp6(4),s.Q6J("ngIf",i.loginError)}},dependencies:[Ar,ks,Hn,lo,ho,Ls,Us,Ki],styles:["@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return n})();function BK(n,e){1&n&&(s.TgZ(0,"div",28),s._uU(1," \u0418\u043c\u0435\u0439\u043b\u044a\u0442 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u0435\u043d! "),s.qZA())}function VK(n,e){1&n&&(s.TgZ(0,"div",28),s._uU(1," \u041c\u043e\u043b\u044f \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441! "),s.qZA())}function ZK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,BK,2,0,"div",27),s.YNc(2,VK,2,0,"div",27),s.qZA()),2&n){const t=s.oxw();let r,i;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("email"))||null==r.errors?null:r.errors.required),s.xp6(1),s.Q6J("ngIf",null==(i=t.signUpForm.get("email"))||null==i.errors?null:i.errors.email)}}function jK(n,e){1&n&&(s.TgZ(0,"div",28),s._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430! "),s.qZA())}function qK(n,e){1&n&&(s.TgZ(0,"div",28),s._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430! "),s.qZA())}function $K(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,jK,2,0,"div",27),s.YNc(2,qK,2,0,"div",27),s.qZA()),2&n){const t=s.oxw();let r,i;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("password"))||null==r.errors?null:r.errors.required),s.xp6(1),s.Q6J("ngIf",null==(i=t.signUpForm.get("password"))||null==i.errors?null:i.errors.minlength)}}function HK(n,e){1&n&&(s.TgZ(0,"div",28),s._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430! "),s.qZA())}function GK(n,e){1&n&&(s.TgZ(0,"div",28),s._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0437\u043d\u0430\u043a\u0430 \u0434\u044a\u043b\u0433\u0430! "),s.qZA())}function zK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,HK,2,0,"div",27),s.YNc(2,GK,2,0,"div",27),s.qZA()),2&n){const t=s.oxw();let r,i;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),s.xp6(1),s.Q6J("ngIf",null==(i=t.signUpForm.get("repeatPassword"))||null==i.errors?null:i.errors.minlength)}}function WK(n,e){1&n&&(s.TgZ(0,"div",28),s._uU(1," \u0418\u043c\u0435\u0442\u043e \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e! "),s.qZA())}function KK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,WK,2,0,"div",27),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("firstName"))||null==r.errors?null:r.errors.required)}}function YK(n,e){1&n&&(s.TgZ(0,"div",28),s._uU(1," \u0424\u0430\u043c\u0438\u043b\u0438\u044f\u0442\u0430 \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0430! "),s.qZA())}function QK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,YK,2,0,"div",27),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("lastName"))||null==r.errors?null:r.errors.required)}}function JK(n,e){1&n&&(s.TgZ(0,"div",28),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0432 \u043a\u043e\u0439 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442 \u0440\u0430\u0431\u043e\u0442\u0438\u0442\u0435! "),s.qZA())}function XK(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,JK,2,0,"div",27),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.signUpForm.get("fromRestaurant"))||null==r.errors?null:r.errors.required)}}let eY=(()=>{class n{constructor(t,r,i){this.authService=t,this.fb=r,this.router=i,this.signUpForm=this.fb.group({email:["",[Ke.required,Ke.email]],password:["",[Ke.required,Ke.minLength(6)]],repeatPassword:["",Ke.required],firstName:["",Ke.required],lastName:["",Ke.required],fromRestaurant:["",Ke.required],isActive:[!0,Ke.required],isAdmin:[!1,Ke.required],isCook:[!0,Ke.required]})}submitSignUpForm(){var t=this;return(0,R.Z)(function*(){if(t.signUpForm.valid){const{email:r,password:i,repeatPassword:u,...l}=t.signUpForm.value;if(i!==u)return void alert("Password do not match!");try{yield t.authService.registerUser(r,i,l)}catch(f){alert(f)}}})()}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fa),s.Y36(Yo),s.Y36(In))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-up"]],decls:49,vars:7,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","id","email","formControlName","email","autocomplete","email"],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","new-password"],["for","repeatPassword"],["type","password","id","repeatPassword","formControlName","repeatPassword","autocomplete","new-password"],["for","firstName"],["type","text","id","firstName","formControlName","firstName"],["for","lastName"],["type","text","id","lastName","formControlName","lastName"],[1,"form-group"],["for","fromRestaurant"],["id","fromRestaurant","name","fromRestaurant","formControlName","fromRestaurant"],["value","Romance-1"],["value","Romance-2"],["value","Romance-3"],["value","Romance-5"],[1,"checkbox-wrapper"],["type","checkbox","formControlName","isCook",1,"sc-gJwTLC","ikxBAC"],["type","submit"],["href","#","routerLink","/sign-in"],[1,"hint"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),s.qZA(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return i.submitSignUpForm()}),s.TgZ(5,"label",4),s._uU(6,"\u0418\u043c\u0435\u0439\u043b:"),s.qZA(),s._UZ(7,"input",5),s.YNc(8,ZK,3,2,"div",6),s.TgZ(9,"label",7),s._uU(10,"\u041f\u0430\u0440\u043e\u043b\u0430:"),s.qZA(),s._UZ(11,"input",8),s.YNc(12,$K,3,2,"div",6),s.TgZ(13,"label",9),s._uU(14,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438 \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430:"),s.qZA(),s._UZ(15,"input",10),s.YNc(16,zK,3,2,"div",6),s.TgZ(17,"label",11),s._uU(18,"\u0418\u043c\u0435:"),s.qZA(),s._UZ(19,"input",12),s.YNc(20,KK,2,1,"div",6),s.TgZ(21,"label",13),s._uU(22,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),s.qZA(),s._UZ(23,"input",14),s.YNc(24,QK,2,1,"div",6),s.TgZ(25,"div",15)(26,"label",16),s._uU(27,"\u041e\u0442 \u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442:"),s.qZA(),s.TgZ(28,"select",17)(29,"option",18),s._uU(30,"Romance 1"),s.qZA(),s.TgZ(31,"option",19),s._uU(32,"Romance 2"),s.qZA(),s.TgZ(33,"option",20),s._uU(34,"Romance 3"),s.qZA(),s.TgZ(35,"option",21),s._uU(36,"Romance 5"),s.qZA()()(),s.YNc(37,XK,2,1,"div",6),s._UZ(38,"br"),s.TgZ(39,"div",22)(40,"span"),s._uU(41," \u0413\u043e\u0442\u0432\u0430\u0447 \u043b\u0438 \u0441\u0438? \xa0\u041d\u0435"),s.qZA(),s._UZ(42,"input",23),s._uU(43," \u0414\u0430 "),s.qZA(),s.TgZ(44,"button",24),s._uU(45,"\u0418\u0437\u043f\u0440\u0430\u0442\u0438"),s.qZA(),s.TgZ(46,"a",25)(47,"div",26),s._uU(48,"\u0412\u0435\u0447\u0435 \u0438\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f?"),s.qZA()()()()()),2&r){let u,l,f,m,v,T;s.xp6(4),s.Q6J("formGroup",i.signUpForm),s.xp6(4),s.Q6J("ngIf",(null==(u=i.signUpForm.get("email"))?null:u.invalid)&&(null==(u=i.signUpForm.get("email"))?null:u.touched)),s.xp6(4),s.Q6J("ngIf",(null==(l=i.signUpForm.get("password"))?null:l.invalid)&&(null==(l=i.signUpForm.get("password"))?null:l.touched)),s.xp6(4),s.Q6J("ngIf",(null==(f=i.signUpForm.get("repeatPassword"))?null:f.invalid)&&(null==(f=i.signUpForm.get("repeatPassword"))?null:f.touched)),s.xp6(4),s.Q6J("ngIf",(null==(m=i.signUpForm.get("firstName"))?null:m.invalid)&&(null==(m=i.signUpForm.get("firstName"))?null:m.touched)),s.xp6(4),s.Q6J("ngIf",(null==(v=i.signUpForm.get("lastName"))?null:v.invalid)&&(null==(v=i.signUpForm.get("lastName"))?null:v.touched)),s.xp6(13),s.Q6J("ngIf",(null==(T=i.signUpForm.get("fromRestaurant"))?null:T.invalid)&&(null==(T=i.signUpForm.get("fromRestaurant"))?null:T.touched))}},dependencies:[Ar,ks,$a,Wo,Hn,dc,go,lo,ho,Ls,Us,Ki],styles:[".checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return n})(),tY=(()=>{class n{transform(t){return new Date(parseInt(t,10)).toLocaleString()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=s.Yjl({name:"timestampFormat",type:n,pure:!0})}return n})();function nY(n,e){1&n&&(s.TgZ(0,"div",4)(1,"span"),s._uU(2,"\u0420\u043e\u043b\u044f:"),s.qZA(),s.TgZ(3,"span"),s._uU(4,"\u0413\u043e\u0442\u0432\u0430\u0447"),s.qZA()())}function rY(n,e){1&n&&(s.TgZ(0,"div",4)(1,"span"),s._uU(2,"\u0420\u043e\u043b\u044f:"),s.qZA(),s.TgZ(3,"span"),s._uU(4,"\u0421\u0435\u0440\u0432\u0438\u0442\u044c\u043e\u0440"),s.qZA()())}let iY=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.authService.userData$.subscribe(t=>{this.user=t})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fa))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],decls:39,vars:12,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"user-details"],[1,"detail"],["class","detail",4,"ngIf"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0437\u0430 \u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f"),s.qZA(),s.TgZ(4,"div",3)(5,"div",4)(6,"span"),s._uU(7,"\u0418\u043c\u0435\u0439\u043b:"),s.qZA(),s.TgZ(8,"span"),s._uU(9),s.qZA()(),s.TgZ(10,"div",4)(11,"span"),s._uU(12,"\u0418\u043c\u0435:"),s.qZA(),s.TgZ(13,"span"),s._uU(14),s.qZA()(),s.TgZ(15,"div",4)(16,"span"),s._uU(17,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),s.qZA(),s.TgZ(18,"span"),s._uU(19),s.qZA()(),s.TgZ(20,"div",4)(21,"span"),s._uU(22,"\u0412\u0440\u0435\u043c\u0435 \u043d\u0430 \u0421\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435:"),s.qZA(),s.TgZ(23,"span"),s._uU(24),s.ALo(25,"timestampFormat"),s.qZA()(),s.TgZ(26,"div",4)(27,"span"),s._uU(28,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u043e \u0412\u043b\u0438\u0437\u0430\u043d\u0435:"),s.qZA(),s.TgZ(29,"span"),s._uU(30),s.ALo(31,"timestampFormat"),s.qZA()(),s.YNc(32,nY,5,0,"div",5),s.YNc(33,rY,5,0,"div",5),s.TgZ(34,"div",4)(35,"span"),s._uU(36,"\u041e\u0442 \u0420\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442:"),s.qZA(),s.TgZ(37,"span"),s._uU(38),s.qZA()()()()()),2&r&&(s.xp6(9),s.Oqu(i.user.email),s.xp6(5),s.Oqu(i.user.firstName),s.xp6(5),s.Oqu(i.user.lastName),s.xp6(5),s.Oqu(s.lcZ(25,8,i.user.metadata.createdAt)),s.xp6(6),s.Oqu(s.lcZ(31,10,i.user.metadata.lastLoginAt)),s.xp6(2),s.Q6J("ngIf",i.user.isCook),s.xp6(1),s.Q6J("ngIf",!i.user.isCook),s.xp6(5),s.Oqu(i.user.fromRestaurant))},dependencies:[Ar,tY],styles:[".user-details[_ngcontent-%COMP%]{background-color:var(--mainColor);color:var(--mainWhiteColor);display:flex;flex-direction:column;align-items:center;padding:20px;border:1px solid var(--borderColor);border-radius:8px;box-shadow:0 2px 4px #0000001a}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:10px}.detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){margin-left:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%}"]})}return n})();const sY=function(n){return["/category/",n]};function oY(n,e){if(1&n&&(s.TgZ(0,"ul",5)(1,"li",6)(2,"a",7)(3,"div",8)(4,"div",9),s._UZ(5,"img",10),s.qZA(),s.TgZ(6,"h3",11),s._uU(7),s.qZA()()()()()),2&n){const t=e.$implicit;s.xp6(2),s.Q6J("routerLink",s.VKq(3,sY,t.id)),s.xp6(3),s.Q6J("src",t.image,s.LSH),s.xp6(2),s.Oqu(t.name)}}let aY=(()=>{class n{constructor(t){this.categoryService=t,this.categories=[]}ngOnInit(){this.getCategory()}getCategory(){this.categoryService.getCategories().subscribe({next:t=>{this.categories=t.sort((r,i)=>r.order_index-i.order_index).filter(r=>r.is_active)},error:t=>{console.error("Error fetching categories:",t)}})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Ak))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-categories-list"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"categories-list"],[1,"title-white"],[1,"wrapper"],["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[1,"card-item"],[3,"routerLink"],["tabindex","0",1,"card"],[1,"card-image"],["alt","category.name",3,"src"],[1,"card-title"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"section",1)(2,"h1",2),s._uU(3,"\u041c\u0435\u043d\u044e"),s.qZA(),s.TgZ(4,"section",3),s.YNc(5,oY,8,5,"ul",4),s.qZA()()()),2&r&&(s.xp6(5),s.Q6J("ngForOf",i.categories))},dependencies:[Zi,Ki],styles:[".categories-list[_ngcontent-%COMP%]{margin:0 auto 50px;max-width:1200px}.category-title[_ngcontent-%COMP%]{color:var(--mainWhiteColor);margin:30px 0;text-align:center;font-size:32px;font-family:var(--titleFont)}.wrapper[_ngcontent-%COMP%]{place-self:center;margin:0 auto 50px 0;display:grid;grid-template-columns:repeat(4,1fr);gap:30px}.cards[_ngcontent-%COMP%]{display:grid;flex-wrap:wrap;list-style:none;margin:0;padding:0;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.card-item[_ngcontent-%COMP%]{display:flex;background-color:var(--backgroundColor)}.card[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:5px 25px 5px 50px;transition:transform .1s linear,box-shadow .2s}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}.card-title[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:90%;height:auto;color:var(--mainWhiteColor);padding:.5rem;border-radius:5px 0 0 5px;transform:rotate(-3.3deg);transform-origin:left top;overflow:hidden;z-index:1;background-color:var(--animatedTitleBackground);animation:0s 0s _ngcontent-%COMP%_fly-in 0 reverse both;font-family:var(--titleFont)}@media (min-width: 535px){.card-title[_ngcontent-%COMP%]{animation:.5s .25s fly-out 1 both}}.card[_ngcontent-%COMP%]:focus   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{animation:.5s ease-in 0s _ngcontent-%COMP%_fly-in 1 both}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 5px -5px #0003}@keyframes _ngcontent-%COMP%_fly-in{0%{top:0;right:0;font-size:1.325rem}25%{top:0;right:-200%;font-size:1.325rem}26%{font-size:2rem}to{top:2rem;right:0;font-size:2rem}}@media (max-width: 460px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;width:80%}}@media (min-width: 461px) and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;display:flex;flex-direction:column}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;width:100%;grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;grid-template-columns:repeat(3,1fr)}}"]})}return n})(),uY=(()=>{class n{constructor(t){this.authService=t}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fa))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],[1,"hint"],[1,"formGroup"],["type","email","placeholder","\u0418\u043c\u0435\u0439\u043b \u0410\u0434\u0440\u0435\u0441","required","",1,"formControl"],["passwordResetEmail",""],[1,"errors"],[1,"buttons"],["type","submit","value","\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u0438\u043c\u0435\u0439\u043b",1,"btn",3,"click"],["href","#","routerLink","/sign-in"],[1,"btn"]],template:function(r,i){if(1&r){const u=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),s._uU(3,"\u0417\u0430\u0431\u0440\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"),s.qZA(),s.TgZ(4,"p",3),s._uU(5," \u041c\u043e\u043b\u044f, \u0432\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441, \u0437\u0430 \u0434\u0430 \u0438\u0437\u043f\u0440\u0430\u0442\u0438\u043c \u0438\u043c\u0435\u0439\u043b \u0437\u0430 \u0441\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430. "),s.qZA(),s.TgZ(6,"div",4),s._UZ(7,"input",5,6),s.qZA(),s.TgZ(9,"p",7),s._uU(10,"\u0410\u043a\u043e \u043d\u0435 \u043d\u0430\u043c\u0438\u0440\u0430\u0442\u0435 \u0438\u043c\u0435\u0439\u043b\u044a\u0442 \u043c\u043e\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u0442\u0435 \u0432 \u0441\u043f\u0430\u043c \u043f\u0430\u043f\u043a\u0430\u0442\u0430!"),s.qZA(),s._UZ(11,"br"),s.TgZ(12,"div",8)(13,"input",9),s.NdJ("click",function(){s.CHM(u);const f=s.MAs(8);return s.KtG(i.authService.forgotPassword(f.value))}),s.qZA(),s.TgZ(14,"a",10)(15,"div",11),s._uU(16,"\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043a\u044a\u043c \u0412\u0445\u043e\u0434"),s.qZA()()()()()}},dependencies:[Ki],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.wrapper[_ngcontent-%COMP%]{padding:0 5%}"]})}return n})();function cY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),s.qZA())}function lY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,cY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("title"))||null==r.errors?null:r.errors.required)}}function dY(n,e){if(1&n&&(s.TgZ(0,"option",49),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.name," ")}}function hY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f! "),s.qZA())}function fY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,hY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("category"))||null==r.errors?null:r.errors.required)}}function pY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435! "),s.qZA())}function gY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,pY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("description"))||null==r.errors?null:r.errors.required)}}function mY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0435\u0437\u043e\u043d! "),s.qZA())}function _Y(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,mY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("season"))||null==r.errors?null:r.errors.required)}}function yY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function vY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,yY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("unit"))||null==r.errors?null:r.errors.required)}}function EY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",50)(1,"input",51),s.NdJ("change",function(){const u=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.toggleAllergenSelection(u.id))}),s.qZA(),s.TgZ(2,"label",52),s._uU(3),s.qZA()()}if(2&n){const t=e.$implicit,r=e.index,i=s.oxw();s.xp6(1),s.Q6J("id","allergen"+r)("value",t.id)("checked",i.isAllergenSelected(t.id)),s.xp6(1),s.s9C("for","allergen"+r),s.xp6(1),s.Oqu(t.name)}}function IY(n,e){if(1&n&&s._UZ(0,"img",57),2&n){const t=s.oxw().index,r=s.oxw();let i;s.Q6J("src",null==(i=r.image_recipe.controls[t].get("image_recipe"))?null:i.value,s.LSH)}}function wY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",53)(1,"p",8),s._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s.TgZ(3,"label",54),s._uU(4,"\u0421\u043d\u0438\u043c\u043a\u0430"),s.qZA(),s._UZ(5,"input",55),s.YNc(6,IY,1,1,"img",56),s.TgZ(7,"button",37),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeImage(u))}),s._uU(8," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i;s.Q6J("formGroupName",t),s.xp6(3),s.Q6J("for","image_recipe"+t),s.xp6(2),s.Q6J("id","image_recipe"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.image_recipe.controls[t].get("image_recipe"))?null:i.value)}}function CY(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"iframe",59),s.ALo(2,"safeUrl"),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("src",s.lcZ(2,1,null==(i=r.video_recipe.controls[t].get("video_recipe"))?null:i.value),s.uOi)}}function TY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",53)(1,"label",54),s._uU(2,"\u0412\u0438\u0434\u0435\u043e"),s.qZA(),s._UZ(3,"input",58),s.YNc(4,CY,3,3,"div",6),s.TgZ(5,"button",37),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeVideo(u))}),s._uU(6," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","video_recipe"+t),s.xp6(2),s.Q6J("id","video_recipe"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.video_recipe.controls[t].get("video_recipe"))?null:i.value)}}function bY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",53)(1,"label",54),s._uU(2,"\u041c\u0435\u0442\u043e\u0434"),s.qZA(),s._UZ(3,"input",61),s.TgZ(4,"button",37),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw(2);return s.KtG(l.removePreparation(u))}),s._uU(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 "),s.qZA()()}if(2&n){const t=e.index;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","method"+t),s.xp6(2),s.Q6J("id","method"+t)}}function AY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",60)(1,"p",8),s._uU(2,"\u041c\u0435\u0442\u043e\u0434\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438:"),s.qZA(),s.YNc(3,bY,6,3,"div",35),s.TgZ(4,"button",37),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addPreparation())}),s._uU(5," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(3),s.Q6J("ngForOf",t.preparation_method.controls)}}function DY(n,e){if(1&n&&(s.TgZ(0,"option",49),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.name," ")}}function SY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0447\u0438\u043d\u0438\u044f! "),s.qZA())}function xY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,SY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.recipeFormEdit.get("food_plate"))||null==r.errors?null:r.errors.required)}}function MY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function NY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,MY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeFormEdit.get("ingredients."+t+".name"))||null==i.errors?null:i.errors.required)}}function RY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u0442\u043e \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430! "),s.qZA())}function PY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,RY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeFormEdit.get("ingredients."+t+".amount"))||null==i.errors?null:i.errors.required)}}function OY(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430! "),s.qZA())}function kY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,OY,2,0,"div",47),s.qZA()),2&n){const t=s.oxw().index,r=s.oxw();let i;s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeFormEdit.get("ingredients."+t+".unit"))||null==i.errors?null:i.errors.required)}}function FY(n,e){if(1&n&&(s.TgZ(0,"option",49),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t.id),s.xp6(1),s.hij(" ",t.title," ")}}function LY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",53)(1,"label",54),s._uU(2,"\u0418\u043c\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(3,"input",62),s.YNc(4,NY,2,1,"div",6),s.TgZ(5,"label",54),s._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(7,"input",63),s.YNc(8,PY,2,1,"div",6),s.TgZ(9,"label",54),s._uU(10,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(11,"p",8),s._uU(12,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),s.qZA(),s.TgZ(13,"select",64)(14,"option",27),s._uU(15,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(16,"option",28),s._uU(17,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(18,"option",29),s._uU(19,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(20,"option",30),s._uU(21,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(22,kY,2,1,"div",6),s.TgZ(23,"label",54),s._uU(24,"\u0411\u0440\u043e\u0439\u043a\u0430:"),s.qZA(),s.TgZ(25,"p",8),s._uU(26," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),s.qZA(),s._UZ(27,"input",65),s.TgZ(28,"label",54),s._uU(29,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),s.qZA(),s.TgZ(30,"p",8),s._uU(31," \u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0430 \u0441\u044a\u0441 \u0437\u0430\u043f\u0435\u0442\u0430\u0439\u043a\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b: "),s._UZ(32,"br"),s._uU(33," \u041f\u0440\u0438\u043c\u0435\u0440: \u041f\u043e\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435, \u0438\u0437\u043c\u0438\u0432\u0430\u043d\u0435, \u043d\u0430\u0440\u044f\u0437\u0432\u0430\u043d\u0435. "),s.qZA(),s._UZ(34,"input",61),s.TgZ(35,"label",54),s._uU(36,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),s.qZA(),s.TgZ(37,"p",8),s._uU(38," \u0410\u043a\u043e \u0442\u0430\u0437\u0438 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0435 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430 \u043c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u044f? "),s.qZA(),s.TgZ(39,"select",66),s.YNc(40,FY,2,2,"option",10),s.qZA(),s.TgZ(41,"label",54),s._uU(42,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442:"),s.qZA(),s.TgZ(43,"p",8),s._uU(44,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),s.qZA(),s._UZ(45,"input",67),s.TgZ(46,"button",37),s.NdJ("click",function(){const u=s.CHM(t).index,l=s.oxw();return s.KtG(l.removeIngredient(u))}),s._uU(47," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430 "),s.qZA()()}if(2&n){const t=e.index,r=s.oxw();let i,u,l;s.Q6J("formGroupName",t),s.xp6(1),s.Q6J("for","name"+t),s.xp6(2),s.Q6J("id","name"+t),s.xp6(1),s.Q6J("ngIf",null==(i=r.recipeFormEdit.get("ingredients."+t+".name"))?null:i.touched),s.xp6(1),s.Q6J("for","amount"+t),s.xp6(2),s.Q6J("id","amount"+t),s.xp6(1),s.Q6J("ngIf",null==(u=r.recipeFormEdit.get("ingredients."+t+".amount"))?null:u.touched),s.xp6(1),s.Q6J("for","unit"+t),s.xp6(4),s.Q6J("id","unit"+t),s.xp6(9),s.Q6J("ngIf",null==(l=r.recipeFormEdit.get("ingredients."+t+".unit"))?null:l.touched),s.xp6(1),s.Q6J("for","quantity"+t),s.xp6(4),s.Q6J("id","quantity"+t),s.xp6(1),s.Q6J("for","preparation_method"+t),s.xp6(6),s.Q6J("id","preparation_method"+t),s.xp6(1),s.Q6J("for","base"+t),s.xp6(4),s.Q6J("id","base"+t),s.xp6(1),s.Q6J("ngForOf",r.baseRecipes),s.xp6(1),s.Q6J("for","order_index"+t),s.xp6(4),s.Q6J("id","order_index"+t)}}let UY=(()=>{class n{constructor(t,r,i,u,l,f,m,v,T){this.route=t,this.router=r,this.fb=i,this.recipeService=u,this.baseRecipeService=l,this.allergenService=f,this.categoryService=m,this.plateService=v,this.recipe=null,this.recipeId="",this.baseRecipes=[],this.categories=[],this.plates=[],this.allergens=[],this.firestore=T}ngOnInit(){var t=this;return(0,R.Z)(function*(){t.initializeForm(),yield t.loadData(),t.getBaseRecipe(),t.getAllergens(),t.getCategories(),t.getPlates()})()}initializeForm(){this.recipeFormEdit=this.fb.group({title:["",[Ke.required]],description:["",[Ke.required]],unit:["",[Ke.required]],summary:[""],allergens:this.fb.array([]),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),season:["",[Ke.required]],release_time:[0],serving_value:[0],order_index:[0],category:["",[Ke.required]],food_plate:["",[Ke.required]],ingredients:this.fb.array([])})}loadData(){var t=this;return(0,R.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.get("id");if(t.recipeId=u,u)try{t.recipe=yield t.recipeService.getRecipeById(u),t.patchFormWithRecipeData()}catch(l){throw console.error("An error occurred while retrieving the recipe:",l),l}else console.error("Recipe ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}patchFormWithRecipeData(){if(this.recipe&&this.recipeFormEdit){const t=this.recipeFormEdit.get("ingredients"),r=this.recipeFormEdit.get("image_recipe"),i=this.recipeFormEdit.get("video_recipe"),u=this.recipeFormEdit.get("preparation_method"),l=this.recipeFormEdit.get("allergens");t.clear(),r.clear(),i.clear(),u.clear(),l.clear(),this.recipe.ingredients.forEach(f=>{t.push(this.fb.group({name:[f.name,[Ke.required]],amount:[f.amount,[Ke.required]],base:[f.base],unit:[f.unit,[Ke.required]],order_index:[f.order_index],preparation_method:[f.preparation_method],quantity:[f.quantity]}))}),this.recipe.image_recipe&&this.recipe.image_recipe.length>0&&this.recipe.image_recipe.forEach(f=>{r.push(this.fb.group({image_recipe:[f.image_recipe]}))}),this.recipe.video_recipe&&this.recipe.video_recipe.length>0&&this.recipe.video_recipe.forEach(f=>{i.push(this.fb.group({video_recipe:[f.video_recipe]}))}),this.recipe.preparation_method&&this.recipe.preparation_method.length>0&&this.recipe.preparation_method.forEach(f=>{u.push(this.fb.group({preparation_method:[f.preparation_method]}))}),this.recipe.allergens&&this.recipe.allergens.length>0&&this.recipe.allergens.forEach(f=>{l.push(this.fb.control(f))}),this.recipeFormEdit.patchValue({title:this.recipe.title,season:this.recipe.season,summary:this.recipe.summary,description:this.recipe.description,category:this.recipe.category,food_plate:this.recipe.food_plate,unit:this.recipe.unit,release_time:this.recipe.release_time,serving_value:this.recipe.serving_value,order_index:this.recipe.order_index})}}isAllergenSelected(t){return this.added_allergens.value.some(r=>r===t)}toggleAllergenSelection(t){const r=this.added_allergens.value.indexOf(t);-1===r?this.added_allergens.push(new Go(t)):this.added_allergens.removeAt(r)}addIngredient(){this.recipeFormEdit.get("ingredients").push(this.fb.group({name:["",[Ke.required]],amount:["",[Ke.required]],base:this.fb.control(""),unit:["",[Ke.required]],order_index:[0],preparation_method:"",quantity:[0]}))}removeIngredient(t){this.recipeFormEdit.get("ingredients").removeAt(t)}get ingredients(){return this.recipeFormEdit.get("ingredients")}get image_recipe(){return this.recipeFormEdit.get("image_recipe")}get video_recipe(){return this.recipeFormEdit.get("video_recipe")}get preparation_method(){return this.recipeFormEdit.get("preparation_method")}get added_allergens(){return this.recipeFormEdit.get("allergens")}onSubmit(){this.recipeFormEdit.valid?(this.addRecipe(this.recipeFormEdit.value),this.recipeFormEdit.reset()):console.log("form invalid")}addPreparation(){this.recipeFormEdit.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(t){this.recipeFormEdit.get("preparation_method").removeAt(t)}addVideo(){this.recipeFormEdit.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(t){this.recipeFormEdit.get("video_recipe").removeAt(t)}removeImage(t){this.recipeFormEdit.get("image_recipe").removeAt(t)}addImageToForm(t){this.recipeFormEdit.get("image_recipe").push(this.fb.group({image_recipe:t}))}getAllergens(){this.allergenService.getAllergens().subscribe({next:t=>{this.allergens=t},error:t=>{console.error("Error fetching recipes:",t)}})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:t=>{this.baseRecipes=t},error:t=>{console.error("Error fetching recipes:",t)}})}getCategories(){this.categoryService.getCategories().subscribe({next:t=>{this.categories=t},error:t=>{console.error("Error fetching categories:",t)}})}getPlates(){this.plateService.getPlates().subscribe({next:t=>{this.plates=t},error:t=>{console.error("Error fetching plates:",t)}})}addRecipe(t){const i=Gs(this.firestore,"Recipe",this.recipeId);E3(i,t),this.router.navigate(["/recipe",this.recipeId])}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fi),s.Y36(In),s.Y36(Yo),s.Y36(S6),s.Y36(h_),s.Y36(f_),s.Y36(Ak),s.Y36(D6),s.Y36(Lr))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-recipe-form-edit"]],decls:101,vars:14,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-black"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],[4,"ngIf"],["for","category"],[1,"hint"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","summary"],["rows","10","id","summary","formControlName","summary"],["for","description"],["rows","10","id","description","formControlName","description"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["formArrayName","allergens"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["type","button",3,"click"],["formArrayName","preparation_method",4,"ngIf"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["for","order_index"],["type","text","id","order_index","formControlName","order_index"],[1,"divider"],["formArrayName","ingredients"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["class","errors",4,"ngIf"],[1,"errors"],[3,"value"],[1,"checkbox-wrapper"],["type","checkbox",1,"sc-gJwTLC","ikxBAC",3,"id","value","checked","change"],[1,"checkbox-label",3,"for"],[3,"formGroupName"],[3,"for"],["type","text","formControlName","image_recipe",3,"id"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],["alt","Image Preview",1,"image-preview",3,"src"],["type","text","formControlName","video_recipe",3,"id"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],["formArrayName","preparation_method"],["type","text","formControlName","preparation_method",3,"id"],["type","text","formControlName","name",3,"id"],["type","number","formControlName","amount",3,"id"],["formControlName","unit",3,"id"],["type","number","formControlName","quantity",3,"id"],["formControlName","base",3,"id"],["type","number","formControlName","order_index",3,"id"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(4,"form",3)(5,"label",4),s._uU(6," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s._UZ(7,"input",5),s.YNc(8,lY,2,1,"div",6),s.TgZ(9,"label",7),s._uU(10,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(11,"p",8),s._uU(12,"\u041a\u044a\u043c \u043a\u043e\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043f\u0440\u0435\u043d\u0430\u0434\u043b\u0435\u0436\u0438 \u0442\u0430\u0437\u0438 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s.TgZ(13,"select",9),s.YNc(14,dY,2,2,"option",10),s.qZA(),s.YNc(15,fY,2,1,"div",6),s.TgZ(16,"label",11),s._uU(17," \u0420\u0435\u0437\u044e\u043c\u0435: "),s.qZA(),s.TgZ(18,"p",8),s._uU(19,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s._UZ(20,"textarea",12),s.TgZ(21,"label",13),s._uU(22," \u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s._UZ(23,"textarea",14),s.YNc(24,gY,2,1,"div",6),s.TgZ(25,"label",15),s._uU(26,"\u0421\u0435\u0437\u043e\u043d (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(27,"p",8),s._uU(28,"\u0412 \u043a\u043e\u0439 \u0441\u0435\u0437\u043e\u043d \u0449\u0435 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s.TgZ(29,"select",16)(30,"option",17),s._uU(31,"\u041f\u0440\u043e\u043b\u0435\u0442"),s.qZA(),s.TgZ(32,"option",18),s._uU(33,"\u041b\u044f\u0442\u043e"),s.qZA(),s.TgZ(34,"option",19),s._uU(35,"\u0415\u0441\u0435\u043d"),s.qZA(),s.TgZ(36,"option",20),s._uU(37,"\u0417\u0438\u043c\u0430"),s.qZA()(),s.YNc(38,_Y,2,1,"div",6),s.TgZ(39,"label",21),s._uU(40,"\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u043f\u044a\u043b\u043d\u0435\u043d\u0438\u0435: "),s.qZA(),s.TgZ(41,"p",8),s._uU(42,"\u0417\u0430 \u043a\u043e\u043b\u043a\u043e \u0432\u0440\u0435\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043c\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u0430?"),s.qZA(),s._UZ(43,"input",22),s.TgZ(44,"label",23),s._uU(45,"\u0413\u043e\u0442\u043e\u0432\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: "),s.qZA(),s.TgZ(46,"p",8),s._uU(47,"\u041a\u043e\u043b\u043a\u043e \u0442\u0435\u0436\u0438 \u0433\u043e\u0442\u043e\u0432\u043e\u0442\u043e \u044f\u0441\u0442\u0438\u0435?"),s.qZA(),s._UZ(48,"input",24),s.TgZ(49,"label",25),s._uU(50," \u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),s.qZA(),s.TgZ(51,"p",8),s._uU(52,"\u0412 \u043a\u043e\u044f\u0442\u043e \u0438\u0437\u043c\u0435\u0440\u0432\u0430\u043c\u0435 \u0434\u043e\u0431\u0438\u0432\u044a\u0442"),s.qZA(),s.TgZ(53,"select",26)(54,"option",27),s._uU(55,"\u0413\u0440\u0430\u043c"),s.qZA(),s.TgZ(56,"option",28),s._uU(57,"\u041a\u0438\u043b\u043e\u0433\u0440\u0430\u043c"),s.qZA(),s.TgZ(58,"option",29),s._uU(59,"\u041c\u0438\u043b\u0438\u043b\u0438\u0442\u044a\u0440"),s.qZA(),s.TgZ(60,"option",30),s._uU(61,"\u041b\u0438\u0442\u044a\u0440"),s.qZA()(),s.YNc(62,vY,2,1,"div",6),s.TgZ(63,"div",31)(64,"label"),s._uU(65,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: "),s.qZA(),s.YNc(66,EY,4,5,"div",32),s.qZA(),s.TgZ(67,"app-image-upload",33),s.NdJ("imageUploaded",function(l){return i.addImageToForm(l)}),s.qZA(),s.TgZ(68,"div",34),s.YNc(69,wY,9,4,"div",35),s.qZA(),s.TgZ(70,"div",36),s.YNc(71,TY,7,4,"div",35),s.TgZ(72,"button",37),s.NdJ("click",function(){return i.addVideo()}),s._uU(73," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),s.qZA()(),s.YNc(74,AY,6,1,"div",38),s.TgZ(75,"label",39),s._uU(76,"\u0427\u0438\u043d\u0438\u044f (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s.TgZ(77,"p",8),s._uU(78,"\u0412 \u043a\u043e\u044f \u0447\u0438\u043d\u0438\u044f \u0449\u0435 \u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0440\u0430 \u044f\u0441\u0442\u0438\u0435\u0442\u043e?"),s.qZA(),s.TgZ(79,"select",40),s.YNc(80,DY,2,2,"option",10),s.qZA(),s.YNc(81,xY,2,1,"div",6),s.TgZ(82,"label",41),s._uU(83,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),s.qZA(),s.TgZ(84,"p",8),s._uU(85,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0440\u0435\u0446\u0435\u043f\u0442\u0438\u0442\u0435 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),s.qZA(),s._UZ(86,"input",42),s.TgZ(87,"div",43),s._UZ(88,"hr"),s.TgZ(89,"p"),s._uU(90,"\xa0\xa0\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438\xa0\xa0"),s.qZA(),s._UZ(91,"hr"),s.qZA(),s.TgZ(92,"div",44),s.YNc(93,LY,48,19,"div",35),s.qZA(),s.TgZ(94,"button",37),s.NdJ("click",function(){return i.addIngredient()}),s._uU(95," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 "),s.qZA(),s.TgZ(96,"button",37),s.NdJ("click",function(){return i.onSubmit()}),s._uU(97,"\u0417\u0430\u043f\u0430\u0437\u0435\u0442\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435"),s.qZA(),s.TgZ(98,"a",45),s._UZ(99,"i",46),s._uU(100,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA()()()()),2&r){let u,l,f,m,v,T;s.xp6(4),s.Q6J("formGroup",i.recipeFormEdit),s.xp6(4),s.Q6J("ngIf",null==(u=i.recipeFormEdit.get("title"))?null:u.touched),s.xp6(6),s.Q6J("ngForOf",i.categories),s.xp6(1),s.Q6J("ngIf",null==(l=i.recipeFormEdit.get("category"))?null:l.touched),s.xp6(9),s.Q6J("ngIf",null==(f=i.recipeFormEdit.get("description"))?null:f.touched),s.xp6(14),s.Q6J("ngIf",null==(m=i.recipeFormEdit.get("season"))?null:m.touched),s.xp6(24),s.Q6J("ngIf",null==(v=i.recipeFormEdit.get("unit"))?null:v.touched),s.xp6(4),s.Q6J("ngForOf",i.allergens),s.xp6(3),s.Q6J("ngForOf",i.image_recipe.controls),s.xp6(2),s.Q6J("ngForOf",i.video_recipe.controls),s.xp6(3),s.Q6J("ngIf",(null==i.recipe?null:i.recipe.preparation_method)&&(null==i.recipe||null==i.recipe.preparation_method?null:i.recipe.preparation_method.length)>0),s.xp6(6),s.Q6J("ngForOf",i.plates),s.xp6(1),s.Q6J("ngIf",null==(T=i.recipeFormEdit.get("food_plate"))?null:T.touched),s.xp6(12),s.Q6J("ngForOf",i.ingredients.controls)}},dependencies:[Zi,Ar,ks,$a,Wo,Hn,Fs,go,lo,ho,Ls,Us,qa,po,eI,V3],styles:["@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return n})();function BY(n,e){1&n&&(s.TgZ(0,"div",12),s._uU(1," \u041c\u043e\u043b\u044f \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440! "),s.qZA())}function VY(n,e){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,BY,2,0,"div",11),s.qZA()),2&n){const t=s.oxw();let r;s.xp6(1),s.Q6J("ngIf",null==(r=t.commentFormEdit.get("text"))||null==r.errors?null:r.errors.required)}}const ZY=[{path:"",redirectTo:"/categories",pathMatch:"full"},{path:"categories",component:aY},{path:"add-category",component:K8},{path:"add-recipe",component:I9},{path:"add-base",component:DW},{path:"base/:id",component:tK},{path:"base",component:iK},{path:"category/:id",component:Wz},{path:"recipe/:id",component:iW,canActivate:[(n,e)=>{const t=(0,s.f3M)(fa),r=(0,s.f3M)(In);return t.userData$.pipe((0,bn.w)(i=>(0,at.of)(!!i&&i.isActive)),(0,pt.U)(i=>!!i||(console.log("Not authorized"),r.createUrlTree(["/sign-in"]))))}]},{path:"base-edit/:id",component:MK},{path:"recipe-edit/:id",component:UY},{path:"comment-edit/:id",component:(()=>{class n{constructor(t,r,i,u,l){this.route=t,this.commentService=r,this.fb=i,this.router=u,this.comment=null,this.commentId="",this.firestore=l}ngOnInit(){var t=this;return(0,R.Z)(function*(){t.initializeForm(),yield t.loadData()})()}loadData(){var t=this;return(0,R.Z)(function*(){t.route.paramMap.subscribe(function(){var r=(0,R.Z)(function*(i){const u=i.get("id");if(t.commentId=u,u)try{t.comment=yield t.commentService.getCommentById(u),t.patchFormWithCommentData()}catch(l){throw console.error("An error occurred while retrieving the comment:",l),l}else console.error("Comment ID not provided.")});return function(i){return r.apply(this,arguments)}}())})()}initializeForm(){this.commentFormEdit=this.fb.group({name:[""],text:["",Ke.required],recipeId:[""],create_time:[""],uid:[""]})}patchFormWithCommentData(){this.commentFormEdit.patchValue({name:this.comment?.name,text:this.comment?.text,recipeId:this.comment?.recipeId,create_time:this.comment?.create_time,uid:this.comment?.uid,id:this.comment?.id})}onSubmit(){this.commentFormEdit.valid?(this.editComment(this.commentFormEdit.value),this.commentFormEdit.reset()):console.log("form invalid")}editComment(t){const i=Gs(this.firestore,"Comments",this.commentId);E3(i,t),this.router.navigate(["/recipe",this.comment?.recipeId])}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fi),s.Y36(Dk),s.Y36(Yo),s.Y36(In),s.Y36(Lr))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-comment-form-edit"]],decls:15,vars:2,consts:[[1,"mainLong"],[1,"wrapper"],[1,"title-white"],["id","commentFormEdit",3,"formGroup","ngSubmit"],[1,"form-group"],["for","text"],["id","text","formControlName","text",1,"form-control"],[4,"ngIf"],["type","submit"],["href","javascript:history.back()",1,"btn"],[1,"fa-solid","fa-backward","fa-beat-fade"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),s._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"),s.qZA(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(5,"div",4)(6,"label",5),s._uU(7,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),s.qZA(),s._UZ(8,"textarea",6),s.qZA(),s.YNc(9,VY,2,1,"div",7),s.TgZ(10,"button",8),s._uU(11,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0430"),s.qZA(),s.TgZ(12,"a",9),s._UZ(13,"i",10),s._uU(14,"\xa0\xa0\u0412\u044a\u0440\u043d\u0438 \u0441\u0435 \u043d\u0430\u0437\u0430\u0434"),s.qZA()()()()),2&r){let u;s.xp6(4),s.Q6J("formGroup",i.commentFormEdit),s.xp6(5),s.Q6J("ngIf",null==(u=i.commentFormEdit.get("text"))?null:u.touched)}},dependencies:[Ar,ks,Hn,lo,ho,Ls,Us],styles:["@media (max-width: 460px){form[_ngcontent-%COMP%]{background-color:var(--mainBackgroundColor);border:none}}"]})}return n})()},{path:"sign-in",component:UK},{path:"sign-up",component:eY},{path:"dashboard",component:iY},{path:"forgot-password",component:uY}];let jY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[jo.forRoot(ZY,{useHash:!0}),jo]})}return n})();function qY(n,e){1&n&&(s.TgZ(0,"li")(1,"a",10),s._uU(2,"\u0411\u0430\u0437\u0438"),s.qZA()())}function $Y(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",14),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.closeMenu())}),s.TgZ(1,"a",15),s._uU(2,"\u041c\u0435\u043d\u044e"),s.qZA(),s.TgZ(3,"a",16),s._uU(4,"\u0420\u0435\u0446\u0435\u043f\u0442\u0430"),s.qZA(),s.TgZ(5,"a",17),s._uU(6,"\u0411\u0430\u0437\u0430"),s.qZA()()}}function HY(n,e){if(1&n){const t=s.EpF();s.ynx(0),s.TgZ(1,"div",11)(2,"button",12),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.toggleMenu())}),s._uU(3," \u0414\u043e\u0431\u0430\u0432\u0438 "),s.qZA(),s.YNc(4,$Y,7,0,"div",13),s.qZA(),s.BQk()}if(2&n){const t=s.oxw();s.xp6(4),s.Q6J("ngIf",t.isMenuOpen)}}function GY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",14),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.closeMenu())}),s.TgZ(1,"a",18),s._uU(2,"\u041f\u0440\u043e\u0444\u0438\u043b"),s.qZA(),s.TgZ(3,"a",19),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.logout())}),s._uU(4,"\u0418\u0437\u0445\u043e\u0434"),s.qZA()()}}function zY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",11)(1,"button",12),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.toggleMenu())}),s.TgZ(2,"span"),s._uU(3),s.qZA()(),s.YNc(4,GY,5,0,"div",13),s.qZA()}if(2&n){const t=s.oxw();s.xp6(3),s.Oqu(t.getUserDisplayName()),s.xp6(1),s.Q6J("ngIf",t.isMenuOpen)}}function WY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",14),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.closeMenu())}),s.TgZ(1,"a",22),s._uU(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),s.qZA(),s.TgZ(3,"a",23),s._uU(4,"\u0412\u0445\u043e\u0434"),s.qZA()()}}function KY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",11)(1,"button",12),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.toggleMenu())}),s.TgZ(2,"span"),s._UZ(3,"i",20),s.qZA(),s._UZ(4,"i",21),s.qZA(),s.YNc(5,WY,5,0,"div",13),s.qZA()}if(2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngIf",t.isMenuOpen)}}let YY=(()=>{class n{constructor(t){this.authService=t,this.isMenuOpen=!1,this.userData=null,this.userDataSubject=new ir.X(null),this.userDataSubscription=this.userDataSubject.subscribe(r=>{this.userData=r})}ngOnInit(){this.authService.userData$.subscribe({next:t=>{t?(this.userDataSubject.next(t),console.log("\u0418\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b:",t)):(this.userDataSubject.next(null),console.log("\u041d\u044f\u043c\u0430\u0442\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b."))},error:t=>{}})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.authService.logoutUser()}getUserDisplayName(){return this.userData?this.userData.lastName:"Anonymous"}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(fa))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:16,vars:4,consts:[[1,"header"],[1,"wrapper"],[1,"logo"],["src","../../../assets/ChefsTalksLast.png","alt",""],[1,"navigation"],["routerLink","/categories"],[4,"ngIf"],[1,"dropdown-menu"],["class","dropdown",4,"ngIf","ngIfElse"],["anonymousUser",""],["routerLink","/base"],[1,"dropdown"],[1,"dropBtn",3,"click"],["class","dropdown-content",3,"click",4,"ngIf"],[1,"dropdown-content",3,"click"],["href","#","routerLink","/add-category"],["href","#","routerLink","/add-recipe"],["href","#","routerLink","/add-base"],["routerLink","/dashboard"],[3,"click"],[1,"fa-regular","fa-user","fa-flip"],[1,"fa","fa-caret-down"],["routerLink","/sign-up"],["routerLink","/sign-in"]],template:function(r,i){if(1&r&&(s.TgZ(0,"header",0)(1,"div",1)(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"nav",4)(5,"ul")(6,"li")(7,"a",5),s._uU(8,"\u041c\u0435\u043d\u044e"),s.qZA()(),s.YNc(9,qY,3,0,"li",6),s.qZA(),s.TgZ(10,"div",7),s.YNc(11,HY,5,1,"ng-container",6),s.TgZ(12,"div"),s.YNc(13,zY,5,2,"div",8),s.YNc(14,KY,6,1,"ng-template",null,9,s.W1O),s.qZA()()()()()),2&r){const u=s.MAs(15);s.xp6(9),s.Q6J("ngIf",i.userData),s.xp6(2),s.Q6J("ngIf",i.userData&&i.userData.isAdmin),s.xp6(2),s.Q6J("ngIf",i.userData)("ngIfElse",u)}},dependencies:[Ar,Ki],styles:[".header[_ngcontent-%COMP%]{height:8dvh;background-color:var(--mainColor);color:var(--mainWhiteColor)}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1200px;display:flex;justify-content:space-between;align-items:center;margin:0 auto}.logo[_ngcontent-%COMP%]{font-size:32px;font-weight:900;text-decoration:underline}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}.navigation[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:var(--titleFont);border:1px solid var(--mainWhiteColor);padding:10px 15px;font-weight:700;text-transform:uppercase;background-color:var(--mainWhiteColor);border-radius:5px;color:var(--mainColor);transition:.6s ease,color .3s ease}.dropdown-menu[_ngcontent-%COMP%]{display:flex;gap:10px}.dropdown[_ngcontent-%COMP%]{position:relative;display:flex;z-index:2}.dropBtn[_ngcontent-%COMP%]{font-family:var(--titleFont);border:1px solid var(--mainWhiteColor);padding:7px 10px;font-weight:700;text-transform:uppercase;background-color:var(--mainWhiteColor);color:var(--mainColor);border-radius:5px;transition:.6s ease,color .3s ease;margin:unset}.fa.fa-caret-down[_ngcontent-%COMP%]{padding-left:5px}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:-3px;min-width:120px;z-index:1;text-align:center}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainBlackColor);text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--mainWhiteColor)}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column;padding-top:50px}.dropdown[_ngcontent-%COMP%]:hover   .dropBtn[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--secondColor);color:var(--mainWhiteColor)}@media (max-width: 460px){.header[_ngcontent-%COMP%]{height:25dvh}.wrapper[_ngcontent-%COMP%]{display:flex;justify-items:center;flex-direction:column;justify-content:space-evenly}.navigation[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto auto;justify-items:stretch;justify-content:space-evenly}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}button[_ngcontent-%COMP%]{width:100%;margin:unset}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:7px 10px}.dropdown-menu[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}.dropdown-content[_ngcontent-%COMP%]{padding-top:10px}}@media (min-width: 461px) and (max-width: 767px){.header[_ngcontent-%COMP%]{height:17dvh}.wrapper[_ngcontent-%COMP%]{height:100%;max-width:1200px;display:flex;flex-direction:column;justify-content:center;gap:10px}.logo[_ngcontent-%COMP%]{font-size:26px;font-weight:600}button[_ngcontent-%COMP%]{width:100%;margin:unset}}@media (min-width: 768px) and (max-width: 1023px){.wrapper[_ngcontent-%COMP%]{padding:0 5%}button[_ngcontent-%COMP%]{width:100%;margin:unset}}@media (min-width: 1024px) and (max-width: 1440px){.wrapper[_ngcontent-%COMP%]{padding:0 5%}button[_ngcontent-%COMP%]{width:100%;margin:unset}}"]})}return n})(),QY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(r,i){1&r&&(s.TgZ(0,"footer",0)(1,"p"),s._uU(2,"\xa9 2023 Chefs Talks"),s.qZA()())},styles:[".footer[_ngcontent-%COMP%]{height:5dvh;background-color:var(--secondColor);color:var(--mainWhiteColor);text-align:center;padding:10px}"]})}return n})(),JY=(()=>{class n{constructor(){this.title="chefs-talks"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&s._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[jl,YY,QY]})}return n})(),XY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[tn,jo]})}return n})();class Z3{}class j3{}class _u{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof _u?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new _u;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof _u?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===u.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class eQ{encodeKey(e){return x6(e)}encodeValue(e){return x6(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nQ=/%(\d[a-f0-9])/gi,rQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function x6(n){return encodeURIComponent(n).replace(nQ,(e,t)=>rQ[t]??e)}function q3(n){return`${n}`}class Yd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new eQ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tQ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[l,f]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],m=t.get(l)||[];m.push(f),t.set(l,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(q3):[q3(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Yd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(q3(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(q3(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class iQ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function M6(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function N6(n){return typeof Blob<"u"&&n instanceof Blob}function R6(n){return typeof FormData<"u"&&n instanceof FormData}class pI{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function sQ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new _u),this.context||(this.context=new iQ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new Yd,this.urlWithParams=t}serializeBody(){return null===this.body?null:M6(this.body)||N6(this.body)||R6(this.body)||function oQ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||R6(this.body)?null:N6(this.body)?this.body.type||null:M6(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((A,M)=>A.set(M,e.setHeaders[M]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((A,M)=>A.set(M,e.setParams[M]),v)),new pI(t,r,u,{params:v,headers:m,context:T,reportProgress:f,responseType:i,withCredentials:l})}}var p_=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(p_||{});class Sk{constructor(e,t=200,r="OK"){this.headers=e.headers||new _u,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class xk extends Sk{constructor(e={}){super(e),this.type=p_.ResponseHeader}clone(e={}){return new xk({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class g_ extends Sk{constructor(e={}){super(e),this.type=p_.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new g_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class P6 extends Sk{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Mk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let aQ=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof pI)u=t;else{let m,v;m=i.headers instanceof _u?i.headers:new _u(i.headers),i.params&&(v=i.params instanceof Yd?i.params:new Yd({fromObject:i.params})),u=new pI(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,at.of)(u).pipe(ko(m=>this.handler.handle(m)));if(t instanceof pI||"events"===i.observe)return l;const f=l.pipe($r(m=>m instanceof g_));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return f.pipe((0,pt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,pt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,pt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,pt.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Yd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Mk(i,r))}post(t,r,i={}){return this.request("POST",t,Mk(i,r))}put(t,r,i={}){return this.request("PUT",t,Mk(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(Z3))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();function F6(n,e){return e(n)}function cQ(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const dQ=new s.OlP(""),gI=new s.OlP(""),L6=new s.OlP("");function hQ(){let n=null;return(e,t)=>{null===n&&(n=((0,s.f3M)(dQ,{optional:!0})??[]).reduceRight(cQ,F6));const r=(0,s.f3M)(s.HDt),i=r.add();return n(e,t).pipe(xa(()=>r.remove(i)))}}let U6=(()=>{class n extends Z3{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,s.f3M)(s.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(gI),...this.injector.get(L6,[])]));this.chain=i.reduceRight((u,l)=>function lQ(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(u,l,this.injector),F6)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(xa(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(j3),s.LFG(s.lqb))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const mQ=/^\)\]\}',?\n/;let V6=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new s.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Tn.D)(r.\u0275loadImpl()):(0,at.of)(null)).pipe((0,bn.w)(()=>new rr.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((G,X)=>l.setRequestHeader(G,X.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&l.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();l.responseType="json"!==G?G:"text"}const f=t.serializeBody();let m=null;const v=()=>{if(null!==m)return m;const G=l.statusText||"OK",X=new _u(l.getAllResponseHeaders()),Ce=function _Q(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return m=new xk({headers:X,status:l.status,statusText:G,url:Ce}),m},T=()=>{let{headers:G,status:X,statusText:Ce,url:Fe}=v(),ke=null;204!==X&&(ke=typeof l.response>"u"?l.responseText:l.response),0===X&&(X=ke?200:0);let Ye=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof ke){const _t=ke;ke=ke.replace(mQ,"");try{ke=""!==ke?JSON.parse(ke):null}catch(gt){ke=_t,Ye&&(Ye=!1,ke={error:gt,text:ke})}}Ye?(u.next(new g_({body:ke,headers:G,status:X,statusText:Ce,url:Fe||void 0})),u.complete()):u.error(new P6({error:ke,headers:G,status:X,statusText:Ce,url:Fe||void 0}))},A=G=>{const{url:X}=v(),Ce=new P6({error:G,status:l.status||0,statusText:l.statusText||"Unknown Error",url:X||void 0});u.error(Ce)};let M=!1;const O=G=>{M||(u.next(v()),M=!0);let X={type:p_.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(X.total=G.total),"text"===t.responseType&&l.responseText&&(X.partialText=l.responseText),u.next(X)},j=G=>{let X={type:p_.UploadProgress,loaded:G.loaded};G.lengthComputable&&(X.total=G.total),u.next(X)};return l.addEventListener("load",T),l.addEventListener("error",A),l.addEventListener("timeout",A),l.addEventListener("abort",A),t.reportProgress&&(l.addEventListener("progress",O),null!==f&&l.upload&&l.upload.addEventListener("progress",j)),l.send(f),u.next({type:p_.Sent}),()=>{l.removeEventListener("error",A),l.removeEventListener("abort",A),l.removeEventListener("load",T),l.removeEventListener("timeout",A),t.reportProgress&&(l.removeEventListener("progress",O),null!==f&&l.upload&&l.upload.removeEventListener("progress",j)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(xo))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const Nk=new s.OlP("XSRF_ENABLED"),Z6=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),j6=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class q6{}let EQ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Iu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye),s.LFG(s.Lbi),s.LFG(Z6))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();function IQ(n,e){const t=n.url.toLowerCase();if(!(0,s.f3M)(Nk)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,s.f3M)(q6).getToken(),i=(0,s.f3M)(j6);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Qd=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Qd||{});function wQ(...n){const e=[aQ,V6,U6,{provide:Z3,useExisting:U6},{provide:j3,useExisting:V6},{provide:gI,useValue:IQ,multi:!0},{provide:Nk,useValue:!0},{provide:q6,useClass:EQ}];for(const t of n)e.push(...t.\u0275providers);return(0,s.MR2)(e)}const $6=new s.OlP("LEGACY_INTERCEPTOR_FN");function CQ(){return function Ep(n,e){return{\u0275kind:n,\u0275providers:e}}(Qd.LegacyInterceptors,[{provide:$6,useFactory:hQ},{provide:gI,useExisting:$6,multi:!0}])}let TQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({providers:[wQ(CQ())]})}return n})(),H6=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[tn]})}return n})(),MQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[tn,Xy,H6]})}return n})(),NQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[]]}),n})();class G6{}class RQ{}const Hc="*";function z6(n,e=null){return{type:2,steps:n,options:e}}function W6(n){return{type:6,styles:n,offset:null}}class mI{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class K6{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==u&&this._onFinish()}),l.onDestroy(()=>{++r==u&&this._onDestroy()}),l.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Y6(n){return new s.vHH(3e3,!1)}function Jd(n){switch(n.length){case 0:return new mI;case 1:return n[0];default:return new K6(n)}}function Q6(n,e,t=new Map,r=new Map){const i=[],u=[];let l=-1,f=null;if(e.forEach(m=>{const v=m.get("offset"),T=v==l,A=T&&f||new Map;m.forEach((M,O)=>{let j=O,G=M;if("offset"!==O)switch(j=n.normalizePropertyName(j,i),G){case"!":G=t.get(O);break;case Hc:G=r.get(O);break;default:G=n.normalizeStyleValue(O,j,G,i)}A.set(j,G)}),T||u.push(A),f=A,l=v}),i.length)throw function tJ(n){return new s.vHH(3502,!1)}();return u}function Pk(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Ok(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Ok(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Ok(t,"destroy",n)))}}function Ok(n,e,t){const u=kk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function kk(n,e,t,r,i="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!l}}function zs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function J6(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const fJ=(()=>typeof document>"u"?null:document.documentElement)();function Fk(n){const e=n.parentNode||n.host||null;return e===fJ?null:e}let Ip=null,X6=!1;function eZ(n,e){for(;e;){if(e===n)return!0;e=Fk(e)}return!1}function tZ(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let nZ=(()=>{class n{validateStyleProperty(t){return function gJ(n){Ip||(Ip=function mJ(){return typeof document<"u"?document.body:null}()||{},X6=!!Ip.style&&"WebkitAppearance"in Ip.style);let e=!0;return Ip.style&&!function pJ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ip.style,!e&&X6&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ip.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return eZ(t,r)}getParentElement(t){return Fk(t)}query(t,r,i){return tZ(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,l,f=[],m){return new mI(i,u)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})(),Lk=(()=>{class n{static#e=this.NOOP=new nZ}return n})();const _J=1e3,Uk="ng-enter",H3="ng-leave",G3="ng-trigger",z3=".ng-trigger",iZ="ng-animating",Bk=".ng-animating";function Gc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Vk(parseFloat(e[1]),e[2])}function Vk(n,e){return"s"===e?n*_J:n}function W3(n,e,t){return n.hasOwnProperty("duration")?n:function vJ(n,e,t){let i,u=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Y6()),{duration:0,delay:0,easing:""};i=Vk(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(u=Vk(parseFloat(m),f[4]));const v=f[5];v&&(l=v)}else i=n;if(!t){let f=!1,m=e.length;i<0&&(e.push(function PQ(){return new s.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function OQ(){return new s.vHH(3101,!1)}()),f=!0),f&&e.splice(m,0,Y6())}return{duration:i,delay:u,easing:l}}(n,e,t)}function _I(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function sZ(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Xd(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function yu(n,e,t){e.forEach((r,i)=>{const u=jk(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r})}function wp(n,e){e.forEach((t,r)=>{const i=jk(r);n.style[i]=""})}function yI(n){return Array.isArray(n)?1==n.length?n[0]:z6(n):n}const Zk=new RegExp("{{\\s*(.+?)\\s*}}","g");function aZ(n){let e=[];if("string"==typeof n){let t;for(;t=Zk.exec(n);)e.push(t[1]);Zk.lastIndex=0}return e}function vI(n,e,t){const r=n.toString(),i=r.replace(Zk,(u,l)=>{let f=e[l];return null==f&&(t.push(function FQ(n){return new s.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function K3(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const wJ=/-+([a-z0-9])/g;function jk(n){return n.replace(wJ,(...e)=>e[1].toUpperCase())}function Ws(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function LQ(n){return new s.vHH(3004,!1)}()}}function uZ(n,e){return window.getComputedStyle(n)[e]}const Y3="*";function bJ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function AJ(n,e,t){if(":"==n[0]){const m=function DJ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function QQ(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function YQ(n){return new s.vHH(3015,!1)}()),e;const i=r[1],u=r[2],l=r[3];e.push(cZ(i,l));"<"==u[0]&&!(i==Y3&&l==Y3)&&e.push(cZ(l,i))}(r,t,e)):t.push(n),t}const Q3=new Set(["true","1"]),J3=new Set(["false","0"]);function cZ(n,e){const t=Q3.has(n)||J3.has(n),r=Q3.has(e)||J3.has(e);return(i,u)=>{let l=n==Y3||n==i,f=e==Y3||e==u;return!l&&t&&"boolean"==typeof i&&(l=i?Q3.has(n):J3.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?Q3.has(e):J3.has(e)),l&&f}}const SJ=new RegExp("s*:selfs*,?","g");function qk(n,e,t,r){return new xJ(n).build(e,t,r)}class xJ{constructor(e){this._driver=e}build(e,t,r){const i=new RJ(t);return this._resetContextStyleTimingState(i),Ws(this,yI(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function BQ(){return new s.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const m=f,v=m.name;v.toString().split(/\s*,\s*/).forEach(T=>{m.name=T,u.push(this.visitState(m,t))}),m.name=v}else if(1==f.type){const m=this.visitTransition(f,t);r+=m.queryCount,i+=m.depCount,l.push(m)}else t.errors.push(function VQ(){return new s.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(m=>{aZ(m).forEach(v=>{l.hasOwnProperty(v)||u.add(v)})})}),u.size&&(K3(u.values()),t.errors.push(function ZQ(n,e){return new s.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ws(this,yI(e.animation),t);return{type:1,matchers:bJ(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Cp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ws(this,r,t)),options:Cp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(l=>{t.currentTime=r;const f=Ws(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Cp(e.options)}}visitAnimate(e,t){const r=function OJ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return $k(W3(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=$k(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=W3(t,e);return $k(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:W6({});if(5==u.type)i=this.visitKeyframes(u,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=W6(v)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(l,t);m.isEmptyStep=f,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Hc?r.push(f):t.errors.push(new s.vHH(3002,!1)):r.push(sZ(f));let u=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!u))for(let m of f.values())if(m.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),T=v.get(m);let A=!0;T&&(u!=i&&u>=T.startTime&&i<=T.endTime&&(t.errors.push(function qQ(n,e,t,r,i){return new s.vHH(3010,!1)}()),A=!1),u=T.startTime),A&&v.set(m,{startTime:u,endTime:i}),t.options&&function IJ(n,e,t){const r=e.params||{},i=aZ(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function kQ(n){return new s.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function $Q(){return new s.vHH(3011,!1)}()),r;let u=0;const l=[];let f=!1,m=!1,v=0;const T=e.steps.map(Ce=>{const Fe=this._makeStyleAst(Ce,t);let ke=null!=Fe.offset?Fe.offset:function PJ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Fe.styles),Ye=0;return null!=ke&&(u++,Ye=Fe.offset=ke),m=m||Ye<0||Ye>1,f=f||Ye<v,v=Ye,l.push(Ye),Fe});m&&t.errors.push(function HQ(){return new s.vHH(3012,!1)}()),f&&t.errors.push(function GQ(){return new s.vHH(3200,!1)}());const A=e.steps.length;let M=0;u>0&&u<A?t.errors.push(function zQ(){return new s.vHH(3202,!1)}()):0==u&&(M=1/(A-1));const O=A-1,j=t.currentTime,G=t.currentAnimateTimings,X=G.duration;return T.forEach((Ce,Fe)=>{const ke=M>0?Fe==O?1:M*Fe:l[Fe],Ye=ke*X;t.currentTime=j+G.delay+Ye,G.duration=Ye,this._validateStyleAst(Ce,t),Ce.offset=ke,r.styles.push(Ce)}),r}visitReference(e,t){return{type:8,animation:Ws(this,yI(e.animation),t),options:Cp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Cp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Cp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function MJ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(SJ,"")),n=n.replace(/@\*/g,z3).replace(/@\w+/g,t=>z3+"-"+t.slice(1)).replace(/:animating/g,Bk),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,zs(t.collectedStyles,t.currentQuerySelector,new Map);const f=Ws(this,yI(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Cp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function WQ(){return new s.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:W3(e.timings,t.errors,!0);return{type:12,animation:Ws(this,yI(e.animation),t),timings:r,options:null}}}class RJ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cp(n){return n?(n=_I(n)).params&&(n.params=function NJ(n){return n?_I(n):null}(n.params)):n={},n}function $k(n,e,t){return{duration:n,delay:e,easing:t}}function Hk(n,e,t,r,i,u,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:l,subTimeline:f}}class X3{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const LJ=new RegExp(":enter","g"),BJ=new RegExp(":leave","g");function Gk(n,e,t,r,i,u=new Map,l=new Map,f,m,v=[]){return(new VJ).buildKeyframes(n,e,t,r,i,u,l,f,m,v)}class VJ{buildKeyframes(e,t,r,i,u,l,f,m,v,T=[]){v=v||new X3;const A=new zk(e,t,v,i,u,T,[]);A.options=m;const M=m.delay?Gc(m.delay):0;A.currentTimeline.delayNextStep(M),A.currentTimeline.setStyles([l],null,A.errors,m),Ws(this,r,A);const O=A.timelines.filter(j=>j.containsAnimation());if(O.length&&f.size){let j;for(let G=O.length-1;G>=0;G--){const X=O[G];if(X.element===t){j=X;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([f],null,A.errors,m)}return O.length?O.map(j=>j.buildKeyframes()):[Hk(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const l="number"==typeof u?u:Gc(vI(u,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?Gc(r.duration):null,f=null!=r.delay?Gc(r.delay):null;return 0!==l&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,l,f);u=Math.max(u,v.duration+v.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Ws(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=eD);const l=Gc(u.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ws(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Gc(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),Ws(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return W3(t.params?vI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(m=>{f.forwardTime((m.offset||0)*u),f.setStyles(m.styles,m.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Gc(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=eD);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let m=null;f.forEach((v,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,v);u&&A.delayNextStep(u),v===t.element&&(m=A.currentTimeline),Ws(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),f=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const T=t.currentTimeline;m&&T.delayNextStep(m);const A=T.currentTime;Ws(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const eD={};class zk{constructor(e,t,r,i,u,l,f,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new tD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Gc(r.duration)),null!=r.delay&&(i.delay=Gc(r.delay));const u=r.params;if(u){let l=i.params;l||(l=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=vI(u[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new zk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=eD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new ZJ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(LJ,"."+this._enterClassName)).replace(BJ,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!u&&0==f.length&&l.push(function KQ(n){return new s.vHH(3014,!1)}()),f}}class tD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new tD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Hc),this._currentKeyframe.set(t,Hc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},l=function jJ(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,Hc)}else Xd(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,m]of l){const v=vI(m,u,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Hc),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,m)=>{const v=Xd(f,new Map,this._backFill);v.forEach((T,A)=>{"!"===T?e.add(A):T===Hc&&t.add(A)}),r||v.set("offset",m/this.duration),i.push(v)});const u=e.size?K3(e.values()):[],l=t.size?K3(t.values()):[];if(r){const f=i[0],m=new Map(f);f.set("offset",0),m.set("offset",1),i=[f,m]}return Hk(this.element,i,u,l,this.duration,this.startTime,this.easing,!1)}}class ZJ extends tD{constructor(e,t,r,i,u,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,f=t/l,m=Xd(e[0]);m.set("offset",0),u.push(m);const v=Xd(e[0]);v.set("offset",hZ(f)),u.push(v);const T=e.length-1;for(let A=1;A<=T;A++){let M=Xd(e[A]);const O=M.get("offset");M.set("offset",hZ((t+O*r)/l)),u.push(M)}r=l,t=0,i="",e=u}return Hk(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function hZ(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Wk{}const qJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $J extends Wk{normalizePropertyName(e,t){return jk(e)}normalizeStyleValue(e,t,r,i){let u="";const l=r.toString().trim();if(qJ.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function UQ(n,e){return new s.vHH(3005,!1)}())}return l+u}}function fZ(n,e,t,r,i,u,l,f,m,v,T,A,M){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:f,queriedElements:m,preStyleProps:v,postStyleProps:T,totalTime:A,errors:M}}const Kk={};class pZ{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function HJ(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,l,f,m,v,T){const A=[],M=this.ast.options&&this.ast.options.params||Kk,j=this.buildStyles(r,f&&f.params||Kk,A),G=m&&m.params||Kk,X=this.buildStyles(i,G,A),Ce=new Set,Fe=new Map,ke=new Map,Ye="void"===i,_t={params:GJ(G,M),delay:this.ast.options?.delay},gt=T?[]:Gk(e,t,this.ast.animation,u,l,j,X,_t,v,A);let Yt=0;if(gt.forEach(Ui=>{Yt=Math.max(Ui.duration+Ui.delay,Yt)}),A.length)return fZ(t,this._triggerName,r,i,Ye,j,X,[],[],Fe,ke,Yt,A);gt.forEach(Ui=>{const ga=Ui.element,RZ=zs(Fe,ga,new Set);Ui.preStyleProps.forEach(Tp=>RZ.add(Tp));const II=zs(ke,ga,new Set);Ui.postStyleProps.forEach(Tp=>II.add(Tp)),ga!==t&&Ce.add(ga)});const Tr=K3(Ce.values());return fZ(t,this._triggerName,r,i,Ye,j,X,gt,Tr,Fe,ke,Yt)}}function GJ(n,e){const t=_I(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class zJ{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=_I(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!==l&&(i[u]=l)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((l,f)=>{l&&(l=vI(l,i,t));const m=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,m,l,t),r.set(f,l)})}),r}}class KJ{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new zJ(i.style,i.options&&i.options.params||{},r))}),gZ(this.states,"true","1"),gZ(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new pZ(e,i,this.states))}),this.fallbackTransition=function YJ(n,e,t){return new pZ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function gZ(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const QJ=new X3;class JJ{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=qk(this._driver,t,r,[]);if(r.length)throw function nJ(n){return new s.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=Q6(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let l;const f=new Map;if(u?(l=Gk(this._driver,t,u,Uk,H3,new Map,new Map,r,QJ,i),l.forEach(T=>{const A=zs(f,T.element,new Map);T.postStyleProps.forEach(M=>A.set(M,null))})):(i.push(function rJ(){return new s.vHH(3300,!1)}()),l=[]),i.length)throw function iJ(n){return new s.vHH(3504,!1)}();f.forEach((T,A)=>{T.forEach((M,O)=>{T.set(O,this._driver.computeStyle(A,O,Hc))})});const v=Jd(l.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,new Map,A)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function sJ(n){return new s.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=kk(t,"","","");return Pk(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const mZ="ng-animate-queued",Yk="ng-animate-disabled",rX=[],_Z={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pa="__ng_removed";class Qk{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function uX(n){return n??null}(r?e.value:e),r){const u=_I(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const EI="void",Jk=new Qk(EI);class sX{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,To(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function oJ(n,e){return new s.vHH(3302,!1)}();if(null==r||0==r.length)throw function aJ(n){return new s.vHH(3303,!1)}();if(!function cX(n){return"start"==n||"done"==n}(r))throw function uJ(n,e){return new s.vHH(3400,!1)}();const u=zs(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};u.push(l);const f=zs(this._engine.statesByElement,e,new Map);return f.has(t)||(To(e,G3),To(e,G3+"-"+t),f.set(t,Jk)),()=>{this._engine.afterFlush(()=>{const m=u.indexOf(l);m>=0&&u.splice(m,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function cJ(n){return new s.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),l=new Xk(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(To(e,G3),To(e,G3+"-"+t),this._engine.statesByElement.set(e,f=new Map));let m=f.get(t);const v=new Qk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),f.set(t,v),m||(m=Jk),v.value!==EI&&m.value===v.value){if(!function hX(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(m.params,v.params)){const G=[],X=u.matchStyles(m.value,m.params,G),Ce=u.matchStyles(v.value,v.params,G);G.length?this._engine.reportError(G):this._engine.afterFlush(()=>{wp(e,X),yu(e,Ce)})}return}const M=zs(this._engine.playersByElement,e,[]);M.forEach(G=>{G.namespaceId==this.id&&G.triggerName==t&&G.queued&&G.destroy()});let O=u.matchTransition(m.value,v.value,e,v.params),j=!1;if(!O){if(!i)return;O=u.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:O,fromState:m,toState:v,player:l,isFallbackTransition:j}),j||(To(e,mZ),l.onStart(()=>{m_(e,mZ)})),l.onDone(()=>{let G=this.players.indexOf(l);G>=0&&this.players.splice(G,1);const X=this._engine.playersByElement.get(e);if(X){let Ce=X.indexOf(l);Ce>=0&&X.splice(Ce,1)}}),this.players.push(l),M.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,z3,!0);r.forEach(i=>{if(i[pa])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),l=new Map;if(u){const f=[];if(u.forEach((m,v)=>{if(l.set(v,m.value),this._triggers.has(v)){const T=this.trigger(e,v,EI,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&Jd(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const l=u.name;if(i.has(l))return;i.add(l);const m=this._triggers.get(l).fallbackTransition,v=r.get(l)||Jk,T=new Qk(EI),A=new Xk(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:v,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[pa];(!u||u===_Z)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){To(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(f=>{if(f.name==r.triggerName){const m=kk(u,r.triggerName,r.fromState.value,r.toState.value);m._data=e,Pk(r.player,f.phase,m,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class oX{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new sX(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const m=i.get(f);if(m){const v=r.indexOf(m);r.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(nD(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!nD(t))return;const u=t[pa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),To(e,Yk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),m_(e,Yk))}removeNode(e,t,r){if(nD(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[pa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return nD(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,z3,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Bk,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Jd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[pa];if(t&&t.setForRemoval){if(e[pa]=_Z,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Yk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)To(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Jd(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function lJ(n){return new s.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new X3,i=[],u=new Map,l=[],f=new Map,m=new Map,v=new Map,T=new Set;this.disabledNodes.forEach(rt=>{T.add(rt);const lt=this.driver.query(rt,".ng-animate-queued",!0);for(let It=0;It<lt.length;It++)T.add(lt[It])});const A=this.bodyNode,M=Array.from(this.statesByElement.keys()),O=EZ(M,this.collectedEnterElements),j=new Map;let G=0;O.forEach((rt,lt)=>{const It=Uk+G++;j.set(lt,It),rt.forEach(en=>To(en,It))});const X=[],Ce=new Set,Fe=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const lt=this.collectedLeaveElements[rt],It=lt[pa];It&&It.setForRemoval&&(X.push(lt),Ce.add(lt),It.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(en=>Ce.add(en)):Fe.add(lt))}const ke=new Map,Ye=EZ(M,Array.from(Ce));Ye.forEach((rt,lt)=>{const It=H3+G++;ke.set(lt,It),rt.forEach(en=>To(en,It))}),e.push(()=>{O.forEach((rt,lt)=>{const It=j.get(lt);rt.forEach(en=>m_(en,It))}),Ye.forEach((rt,lt)=>{const It=ke.get(lt);rt.forEach(en=>m_(en,It))}),X.forEach(rt=>{this.processLeaveNode(rt)})});const _t=[],gt=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(t).forEach(It=>{const en=It.player,ni=It.element;if(_t.push(en),this.collectedEnterElements.length){const Bi=ni[pa];if(Bi&&Bi.setForMove){if(Bi.previousTriggersValues&&Bi.previousTriggersValues.has(It.triggerName)){const bp=Bi.previousTriggersValues.get(It.triggerName),bo=this.statesByElement.get(It.element);if(bo&&bo.has(It.triggerName)){const sD=bo.get(It.triggerName);sD.value=bp,bo.set(It.triggerName,sD)}}return void en.destroy()}}const vu=!A||!this.driver.containsElement(A,ni),Ks=ke.get(ni),eh=j.get(ni),Kn=this._buildInstruction(It,r,eh,Ks,vu);if(Kn.errors&&Kn.errors.length)return void gt.push(Kn);if(vu)return en.onStart(()=>wp(ni,Kn.fromStyles)),en.onDestroy(()=>yu(ni,Kn.toStyles)),void i.push(en);if(It.isFallbackTransition)return en.onStart(()=>wp(ni,Kn.fromStyles)),en.onDestroy(()=>yu(ni,Kn.toStyles)),void i.push(en);const kZ=[];Kn.timelines.forEach(Bi=>{Bi.stretchStartingKeyframe=!0,this.disabledNodes.has(Bi.element)||kZ.push(Bi)}),Kn.timelines=kZ,r.append(ni,Kn.timelines),l.push({instruction:Kn,player:en,element:ni}),Kn.queriedElements.forEach(Bi=>zs(f,Bi,[]).push(en)),Kn.preStyleProps.forEach((Bi,bp)=>{if(Bi.size){let bo=m.get(bp);bo||m.set(bp,bo=new Set),Bi.forEach((sD,n2)=>bo.add(n2))}}),Kn.postStyleProps.forEach((Bi,bp)=>{let bo=v.get(bp);bo||v.set(bp,bo=new Set),Bi.forEach((sD,n2)=>bo.add(n2))})});if(gt.length){const rt=[];gt.forEach(lt=>{rt.push(function dJ(n,e){return new s.vHH(3505,!1)}())}),_t.forEach(lt=>lt.destroy()),this.reportError(rt)}const Yt=new Map,Tr=new Map;l.forEach(rt=>{const lt=rt.element;r.has(lt)&&(Tr.set(lt,lt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,Yt))}),i.forEach(rt=>{const lt=rt.element;this._getPreviousPlayers(lt,!1,rt.namespaceId,rt.triggerName,null).forEach(en=>{zs(Yt,lt,[]).push(en),en.destroy()})});const Ui=X.filter(rt=>wZ(rt,m,v)),ga=new Map;vZ(ga,this.driver,Fe,v,Hc).forEach(rt=>{wZ(rt,m,v)&&Ui.push(rt)});const II=new Map;O.forEach((rt,lt)=>{vZ(II,this.driver,new Set(rt),m,"!")}),Ui.forEach(rt=>{const lt=ga.get(rt),It=II.get(rt);ga.set(rt,new Map([...lt?.entries()??[],...It?.entries()??[]]))});const Tp=[],PZ=[],OZ={};l.forEach(rt=>{const{element:lt,player:It,instruction:en}=rt;if(r.has(lt)){if(T.has(lt))return It.onDestroy(()=>yu(lt,en.toStyles)),It.disabled=!0,It.overrideTotalTime(en.totalTime),void i.push(It);let ni=OZ;if(Tr.size>1){let Ks=lt;const eh=[];for(;Ks=Ks.parentNode;){const Kn=Tr.get(Ks);if(Kn){ni=Kn;break}eh.push(Ks)}eh.forEach(Kn=>Tr.set(Kn,ni))}const vu=this._buildAnimation(It.namespaceId,en,Yt,u,II,ga);if(It.setRealPlayer(vu),ni===OZ)Tp.push(It);else{const Ks=this.playersByElement.get(ni);Ks&&Ks.length&&(It.parentPlayer=Jd(Ks)),i.push(It)}}else wp(lt,en.fromStyles),It.onDestroy(()=>yu(lt,en.toStyles)),PZ.push(It),T.has(lt)&&i.push(It)}),PZ.forEach(rt=>{const lt=u.get(rt.element);if(lt&&lt.length){const It=Jd(lt);rt.setRealPlayer(It)}}),i.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<X.length;rt++){const lt=X[rt],It=lt[pa];if(m_(lt,H3),It&&It.hasAnimation)continue;let en=[];if(f.size){let vu=f.get(lt);vu&&vu.length&&en.push(...vu);let Ks=this.driver.query(lt,Bk,!0);for(let eh=0;eh<Ks.length;eh++){let Kn=f.get(Ks[eh]);Kn&&Kn.length&&en.push(...Kn)}}const ni=en.filter(vu=>!vu.destroyed);ni.length?lX(this,lt,ni):this.processLeaveNode(lt)}return X.length=0,Tp.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const lt=this.players.indexOf(rt);this.players.splice(lt,1)}),rt.play()}),Tp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const m=!u||u==EI;f.forEach(v=>{v.queued||!m&&v.triggerName!=i||l.push(v)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,T=v!==u,A=zs(r,v,[]);this._getPreviousPlayers(v,T,l,f,t.toState).forEach(O=>{const j=O.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),O.destroy(),A.push(O)})}wp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,l){const f=t.triggerName,m=t.element,v=[],T=new Set,A=new Set,M=t.timelines.map(j=>{const G=j.element;T.add(G);const X=G[pa];if(X&&X.removedBeforeQueried)return new mI(j.duration,j.delay);const Ce=G!==m,Fe=function dX(n){const e=[];return IZ(n,e),e}((r.get(G)||rX).map(Yt=>Yt.getRealPlayer())).filter(Yt=>!!Yt.element&&Yt.element===G),ke=u.get(G),Ye=l.get(G),_t=Q6(this._normalizer,j.keyframes,ke,Ye),gt=this._buildPlayer(j,_t,Fe);if(j.subTimeline&&i&&A.add(G),Ce){const Yt=new Xk(e,f,G);Yt.setRealPlayer(gt),v.push(Yt)}return gt});v.forEach(j=>{zs(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function aX(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,j.element,j))}),T.forEach(j=>To(j,iZ));const O=Jd(M);return O.onDestroy(()=>{T.forEach(j=>m_(j,iZ)),yu(m,t.toStyles)}),A.forEach(j=>{zs(i,j,[]).push(O)}),O}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new mI(e.duration,e.delay)}}class Xk{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new mI,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Pk(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){zs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function nD(n){return n&&1===n.nodeType}function yZ(n,e){const t=n.style.display;return n.style.display=e??"none",t}function vZ(n,e,t,r,i){const u=[];t.forEach(m=>u.push(yZ(m)));const l=[];r.forEach((m,v)=>{const T=new Map;m.forEach(A=>{const M=e.computeStyle(v,A,i);T.set(A,M),(!M||0==M.length)&&(v[pa]=iX,l.push(v))}),n.set(v,T)});let f=0;return t.forEach(m=>yZ(m,u[f++])),l}function EZ(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function l(f){if(!f)return 1;let m=u.get(f);if(m)return m;const v=f.parentNode;return m=t.has(v)?v:i.has(v)?1:l(v),u.set(f,m),m}return e.forEach(f=>{const m=l(f);1!==m&&t.get(m).push(f)}),t}function To(n,e){n.classList?.add(e)}function m_(n,e){n.classList?.remove(e)}function lX(n,e,t){Jd(t).onDone(()=>n.processLeaveNode(e))}function IZ(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof K6?IZ(r.players,e):e.push(r)}}function wZ(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class rD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new oX(e,t,r),this._timelineEngine=new JJ(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const m=[],T=qk(this._driver,u,m,[]);if(m.length)throw function eJ(n,e){return new s.vHH(3404,!1)}();f=function WJ(n,e,t){return new KJ(n,e,t)}(i,T,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,l]=J6(r);this._timelineEngine.command(u,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[l,f]=J6(r);return this._timelineEngine.listen(l,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let pX=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&yu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yu(this._element,this._initialStyles),this._endStyles&&(yu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wp(this._element,this._endStyles),this._endStyles=null),yu(this._element,this._initialStyles),this._state=3)}}return n})();function e2(n){let e=null;return n.forEach((t,r)=>{(function gX(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class CZ{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:uZ(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class mX{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return eZ(e,t)}getParentElement(e){return Fk(e)}query(e,t,r){return tZ(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,l=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(m.easing=u);const v=new Map,T=l.filter(O=>O instanceof CZ);(function CJ(n,e){return 0===n||0===e})(r,i)&&T.forEach(O=>{O.currentSnapshot.forEach((j,G)=>v.set(G,j))});let A=function EJ(n){return n.length?n[0]instanceof Map?n:n.map(e=>sZ(e)):[]}(t).map(O=>Xd(O));A=function TJ(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,l)=>{r.has(l)||i.push(l),r.set(l,u)}),i.length)for(let u=1;u<e.length;u++){let l=e[u];i.forEach(f=>l.set(f,uZ(n,f)))}}return e}(e,A,v);const M=function fX(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=e2(e[0]),e.length>1&&(r=e2(e[e.length-1]))):e instanceof Map&&(t=e2(e)),t||r?new pX(n,t,r):null}(e,A);return new CZ(e,A,m,M)}}let _X=(()=>{class n extends G6{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?z6(t):t;return TZ(this._renderer,null,r,"register",[i]),new yX(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(s.FYo),s.LFG(ye))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();class yX extends RQ{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new vX(this._id,e,t||{},this._renderer)}}class vX{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return TZ(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function TZ(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const bZ="@.disabled";let EX=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(u,l)=>{const f=l?.parentNode(u);f&&l.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(u);return T||(T=new AZ("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,T)),T}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const m=T=>{Array.isArray(T)?T.forEach(m):this.engine.registerTrigger(l,f,t,T.name,T)};return r.data.animation.forEach(m),new IX(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,f]=u;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(s.FYo),s.LFG(rD),s.LFG(s.R0b))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();class AZ{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==bZ?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class IX extends AZ{constructor(e,t,r,i,u){super(t,r,i,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==bZ?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function wX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),l="";return"@"!=u.charAt(0)&&([u,l]=function CX(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let TX=(()=>{class n extends rD{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ye),s.LFG(Lk),s.LFG(Wk),s.LFG(s.z2F))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const DZ=[{provide:G6,useClass:_X},{provide:Wk,useFactory:function bX(){return new $J}},{provide:rD,useClass:TX},{provide:s.FYo,useFactory:function AX(n,e,t){return new EX(n,e,t)},deps:[Ch,rD,s.R0b]}],t2=[{provide:Lk,useFactory:()=>new mX},{provide:s.QbO,useValue:"BrowserAnimations"},...DZ],SZ=[{provide:Lk,useClass:nZ},{provide:s.QbO,useValue:"NoopAnimations"},...DZ];let DX=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?SZ:t2}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({providers:t2,imports:[ba]})}return n})();var SX=P(3019);class xX extends cs.x{constructor(e=1/0,t=1/0,r=Ac){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!i&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const l=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)f=m;f&&r.splice(0,f+1)}}}var MX=P(3020);function xZ(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,MX.B)({connector:()=>new xX(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function MZ(n,e){return(0,bs.m)(e)?(0,bn.w)(()=>n,e):(0,bn.w)(()=>n)}var __=P(6304),NX=P(120);const PX=new s.OlP("angularfire2.auth.use-emulator"),OX=new s.OlP("angularfire2.auth.settings"),kX=new s.OlP("angularfire2.auth.tenant-id"),FX=new s.OlP("angularfire2.auth.langugage-code"),LX=new s.OlP("angularfire2.auth.use-device-language"),UX=new s.OlP("angularfire.auth.persistence");let NZ=(()=>{class n{constructor(t,r,i,u,l,f,m,v,T,A,M,O){const j=new cs.x,G=(0,at.of)(void 0).pipe((0,Ed.Q)(l.outsideAngular),(0,bn.w)(()=>u.runOutsideAngular(()=>P.e(661).then(P.bind(P,8661)))),(0,pt.U)(()=>(0,__.on)(t,u,r)),(0,pt.U)(X=>((n,e,t,r,i,u,l,f)=>(0,__.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,u&&m.useDeviceLanguage(),l)for(const[v,T]of Object.entries(l))m.settings[v]=T;return f&&m.setPersistence(f),m},[t,r,i,u,l,f]))(X,u,f,v,T,A,m,M)),xZ({bufferSize:1,refCount:!1}));if(qr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,at.of)(null);else{G.pipe(li()).subscribe();const Ce=G.pipe((0,bn.w)(Ye=>Ye.getRedirectResult().then(_t=>_t,()=>null)),lb,xZ({bufferSize:1,refCount:!1})),Fe=G.pipe((0,bn.w)(Ye=>new rr.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ye.onAuthStateChanged(gt=>_t.next(gt),gt=>_t.error(gt),()=>_t.complete()))})))),ke=G.pipe((0,bn.w)(Ye=>new rr.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ye.onIdTokenChanged(gt=>_t.next(gt),gt=>_t.error(gt),()=>_t.complete()))}))));this.authState=Ce.pipe(MZ(Fe),(0,Uf.R)(l.outsideAngular),(0,Ed.Q)(l.insideAngular)),this.user=Ce.pipe(MZ(ke),(0,Uf.R)(l.outsideAngular),(0,Ed.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,bn.w)(Ye=>Ye?(0,Tn.D)(Ye.getIdToken()):(0,at.of)(null))),this.idTokenResult=this.user.pipe((0,bn.w)(Ye=>Ye?(0,Tn.D)(Ye.getIdTokenResult()):(0,at.of)(null))),this.credential=(0,SX.T)(Ce,j,this.authState.pipe($r(Ye=>!Ye))).pipe((0,pt.U)(Ye=>Ye?.user?Ye:null),(0,Uf.R)(l.outsideAngular),(0,Ed.Q)(l.insideAngular))}return(0,__.pX)(this,G,u,{spy:{apply:(X,Ce,Fe)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&Fe.then(ke=>j.next(ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(__.Dh),s.LFG(__.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Jm),s.LFG(PX,8),s.LFG(OX,8),s.LFG(kX,8),s.LFG(FX,8),s.LFG(LX,8),s.LFG(UX,8),s.LFG(Z4,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VX=(()=>{class n{constructor(){NX.Z.registerVersion("angularfire",Wm.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[NZ]}),n})(),ZX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[tn,Jy,Xy,jo]})}return n})(),jX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n,bootstrap:[JY]});static#n=this.\u0275inj=s.cJS({providers:[{provide:Oe,useClass:Be}],imports:[ba,VX,jY,XY,H6,MQ,jo,TQ,Xy,ZX,fb(()=>Zx(I3_firebaseConfig)),U8(()=>V8()),NQ,DX]})}return n})();Gp().bootstrapModule(jX).catch(n=>console.error(n))},5619:(st,Ee,P)=>{P.d(Ee,{X:()=>L});var s=P(8645);class L extends s.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const he=super._subscribe(se);return!he.closed&&se.next(this._value),he}getValue(){const{hasError:se,thrownError:he,_value:ye}=this;if(se)throw he;return this._throwIfClosed(),ye}next(se){super.next(this._value=se)}}},5592:(st,Ee,P)=>{P.d(Ee,{y:()=>Ue});var s=P(305),L=P(7394),ie=P(4850),se=P(8407),he=P(2653),ye=P(4674),Re=P(1441);let Ue=(()=>{class re{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const Qe=new re;return Qe.source=this,Qe.operator=ue,Qe}subscribe(ue,Qe,Be){const xe=function Z(re){return re&&re instanceof s.Lv||function B(re){return re&&(0,ye.m)(re.next)&&(0,ye.m)(re.error)&&(0,ye.m)(re.complete)}(re)&&(0,L.Nn)(re)}(ue)?ue:new s.Hp(ue,Qe,Be);return(0,Re.x)(()=>{const{operator:Ae,source:Je}=this;xe.add(Ae?Ae.call(xe,Je):Je?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Qe){ue.error(Qe)}}forEach(ue,Qe){return new(Qe=Se(Qe))((Be,xe)=>{const Ae=new s.Hp({next:Je=>{try{ue(Je)}catch(we){xe(we),Ae.unsubscribe()}},error:xe,complete:Be});this.subscribe(Ae)})}_subscribe(ue){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(ue)}[ie.L](){return this}pipe(...ue){return(0,se.U)(ue)(this)}toPromise(ue){return new(ue=Se(ue))((Qe,Be)=>{let xe;this.subscribe(Ae=>xe=Ae,Ae=>Be(Ae),()=>Qe(xe))})}}return re.create=Oe=>new re(Oe),re})();function Se(re){var Oe;return null!==(Oe=re??he.config.Promise)&&void 0!==Oe?Oe:Promise}},8645:(st,Ee,P)=>{P.d(Ee,{x:()=>Re});var s=P(5592),L=P(7394);const se=(0,P(2306).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=P(9039),ye=P(1441);let Re=(()=>{class Se extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const re=new Ue(this,this);return re.operator=Z,re}_throwIfClosed(){if(this.closed)throw new se}next(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(Z)}})}error(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:re}=this;for(;re.length;)re.shift().error(Z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:re,isStopped:Oe,observers:ue}=this;return re||Oe?L.Lc:(this.currentObservers=null,ue.push(Z),new L.w0(()=>{this.currentObservers=null,(0,he.P)(ue,Z)}))}_checkFinalizedStatuses(Z){const{hasError:re,thrownError:Oe,isStopped:ue}=this;re?Z.error(Oe):ue&&Z.complete()}asObservable(){const Z=new s.y;return Z.source=this,Z}}return Se.create=(B,Z)=>new Ue(B,Z),Se})();class Ue extends Re{constructor(B,Z){super(),this.destination=B,this.source=Z}next(B){var Z,re;null===(re=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===re||re.call(Z,B)}error(B){var Z,re;null===(re=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===re||re.call(Z,B)}complete(){var B,Z;null===(Z=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===Z||Z.call(B)}_subscribe(B){var Z,re;return null!==(re=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(B))&&void 0!==re?re:L.Lc}}},305:(st,Ee,P)=>{P.d(Ee,{Hp:()=>Be,Lv:()=>re});var s=P(4674),L=P(7394),ie=P(2653),se=P(3894),he=P(2420);const ye=Se("C",void 0,void 0);function Se(Te,ce,ve){return{kind:Te,value:ce,error:ve}}var B=P(7599),Z=P(1441);class re extends L.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,L.Nn)(ce)&&ce.add(this)):this.destination=we}static create(ce,ve,Me){return new Be(ce,ve,Me)}next(ce){this.isStopped?Je(function Ue(Te){return Se("N",Te,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?Je(function Re(Te){return Se("E",void 0,Te)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?Je(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function ue(Te,ce){return Oe.call(Te,ce)}class Qe{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:ve}=this;if(ve.next)try{ve.next(ce)}catch(Me){xe(Me)}}error(ce){const{partialObserver:ve}=this;if(ve.error)try{ve.error(ce)}catch(Me){xe(Me)}else xe(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(ve){xe(ve)}}}class Be extends re{constructor(ce,ve,Me){let K;if(super(),(0,s.m)(ce)||!ce)K={next:ce??void 0,error:ve??void 0,complete:Me??void 0};else{let k;this&&ie.config.useDeprecatedNextContext?(k=Object.create(ce),k.unsubscribe=()=>this.unsubscribe(),K={next:ce.next&&ue(ce.next,k),error:ce.error&&ue(ce.error,k),complete:ce.complete&&ue(ce.complete,k)}):K=ce}this.destination=new Qe(K)}}function xe(Te){ie.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Te):(0,se.h)(Te)}function Je(Te,ce){const{onStoppedNotification:ve}=ie.config;ve&&B.z.setTimeout(()=>ve(Te,ce))}const we={closed:!0,next:he.Z,error:function Ae(Te){throw Te},complete:he.Z}},7394:(st,Ee,P)=>{P.d(Ee,{Lc:()=>ye,w0:()=>he,Nn:()=>Re});var s=P(4674);const ie=(0,P(2306).d)(Se=>function(Z){Se(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((re,Oe)=>`${Oe+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var se=P(9039);class he{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const ue of Z)ue.remove(this);else Z.remove(this);const{initialTeardown:re}=this;if((0,s.m)(re))try{re()}catch(ue){B=ue instanceof ie?ue.errors:[ue]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const ue of Oe)try{Ue(ue)}catch(Qe){B=B??[],Qe instanceof ie?B=[...B,...Qe.errors]:B.push(Qe)}}if(B)throw new ie(B)}}add(B){var Z;if(B&&B!==this)if(this.closed)Ue(B);else{if(B instanceof he){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(B)}}_hasParent(B){const{_parentage:Z}=this;return Z===B||Array.isArray(Z)&&Z.includes(B)}_addParent(B){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(B),Z):Z?[Z,B]:B}_removeParent(B){const{_parentage:Z}=this;Z===B?this._parentage=null:Array.isArray(Z)&&(0,se.P)(Z,B)}remove(B){const{_finalizers:Z}=this;Z&&(0,se.P)(Z,B),B instanceof he&&B._removeParent(this)}}he.EMPTY=(()=>{const Se=new he;return Se.closed=!0,Se})();const ye=he.EMPTY;function Re(Se){return Se instanceof he||Se&&"closed"in Se&&(0,s.m)(Se.remove)&&(0,s.m)(Se.add)&&(0,s.m)(Se.unsubscribe)}function Ue(Se){(0,s.m)(Se)?Se():Se.unsubscribe()}},2653:(st,Ee,P)=>{P.d(Ee,{config:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(st,Ee,P)=>{P.d(Ee,{E:()=>L});const L=new(P(5592).y)(he=>he.complete())},2459:(st,Ee,P)=>{P.d(Ee,{D:()=>ce});var s=P(4829),L=P(3093),ie=P(5137),ye=P(5592),Ue=P(4971),Se=P(4674),B=P(7103);function re(ve,Me){if(!ve)throw new Error("Iterable cannot be null");return new ye.y(K=>{(0,B.f)(K,Me,()=>{const k=ve[Symbol.asyncIterator]();(0,B.f)(K,Me,()=>{k.next().then(W=>{W.done?K.complete():K.next(W.value)})},0,!0)})})}var Oe=P(8382),ue=P(4026),Qe=P(4266),Be=P(3664),xe=P(5726),Ae=P(9853),Je=P(541);function ce(ve,Me){return Me?function Te(ve,Me){if(null!=ve){if((0,Oe.c)(ve))return function se(ve,Me){return(0,s.Xf)(ve).pipe((0,ie.R)(Me),(0,L.Q)(Me))}(ve,Me);if((0,Qe.z)(ve))return function Re(ve,Me){return new ye.y(K=>{let k=0;return Me.schedule(function(){k===ve.length?K.complete():(K.next(ve[k++]),K.closed||this.schedule())})})}(ve,Me);if((0,ue.t)(ve))return function he(ve,Me){return(0,s.Xf)(ve).pipe((0,ie.R)(Me),(0,L.Q)(Me))}(ve,Me);if((0,xe.D)(ve))return re(ve,Me);if((0,Be.T)(ve))return function Z(ve,Me){return new ye.y(K=>{let k;return(0,B.f)(K,Me,()=>{k=ve[Ue.h](),(0,B.f)(K,Me,()=>{let W,pe;try{({value:W,done:pe}=k.next())}catch(Mt){return void K.error(Mt)}pe?K.complete():K.next(W)},0,!0)}),()=>(0,Se.m)(k?.return)&&k.return()})}(ve,Me);if((0,Je.L)(ve))return function we(ve,Me){return re((0,Je.Q)(ve),Me)}(ve,Me)}throw(0,Ae.z)(ve)}(ve,Me):(0,s.Xf)(ve)}},4829:(st,Ee,P)=>{P.d(Ee,{Xf:()=>Oe});var s=P(7582),L=P(4266),ie=P(4026),se=P(5592),he=P(8382),ye=P(5726),Re=P(9853),Ue=P(3664),Se=P(541),B=P(4674),Z=P(3894),re=P(4850);function Oe(Te){if(Te instanceof se.y)return Te;if(null!=Te){if((0,he.c)(Te))return function ue(Te){return new se.y(ce=>{const ve=Te[re.L]();if((0,B.m)(ve.subscribe))return ve.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,L.z)(Te))return function Qe(Te){return new se.y(ce=>{for(let ve=0;ve<Te.length&&!ce.closed;ve++)ce.next(Te[ve]);ce.complete()})}(Te);if((0,ie.t)(Te))return function Be(Te){return new se.y(ce=>{Te.then(ve=>{ce.closed||(ce.next(ve),ce.complete())},ve=>ce.error(ve)).then(null,Z.h)})}(Te);if((0,ye.D)(Te))return Ae(Te);if((0,Ue.T)(Te))return function xe(Te){return new se.y(ce=>{for(const ve of Te)if(ce.next(ve),ce.closed)return;ce.complete()})}(Te);if((0,Se.L)(Te))return function Je(Te){return Ae((0,Se.Q)(Te))}(Te)}throw(0,Re.z)(Te)}function Ae(Te){return new se.y(ce=>{(function we(Te,ce){var ve,Me,K,k;return(0,s.mG)(this,void 0,void 0,function*(){try{for(ve=(0,s.KL)(Te);!(Me=yield ve.next()).done;)if(ce.next(Me.value),ce.closed)return}catch(W){K={error:W}}finally{try{Me&&!Me.done&&(k=ve.return)&&(yield k.call(ve))}finally{if(K)throw K.error}}ce.complete()})})(Te,ce).catch(ve=>ce.error(ve))})}},3019:(st,Ee,P)=>{P.d(Ee,{T:()=>ye});var s=P(7537),L=P(4829),ie=P(6232),se=P(4564),he=P(2459);function ye(...Re){const Ue=(0,se.yG)(Re),Se=(0,se._6)(Re,1/0),B=Re;return B.length?1===B.length?(0,L.Xf)(B[0]):(0,s.J)(Se)((0,he.D)(B,Ue)):ie.E}},2096:(st,Ee,P)=>{P.d(Ee,{of:()=>ie});var s=P(4564),L=P(2459);function ie(...se){const he=(0,s.yG)(se);return(0,L.D)(se,he)}},8251:(st,Ee,P)=>{P.d(Ee,{x:()=>L});var s=P(305);function L(se,he,ye,Re,Ue){return new ie(se,he,ye,Re,Ue)}class ie extends s.Lv{constructor(he,ye,Re,Ue,Se,B){super(he),this.onFinalize=Se,this.shouldUnsubscribe=B,this._next=ye?function(Z){try{ye(Z)}catch(re){he.error(re)}}:super._next,this._error=Ue?function(Z){try{Ue(Z)}catch(re){he.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(Z){he.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},7398:(st,Ee,P)=>{P.d(Ee,{U:()=>ie});var s=P(9360),L=P(8251);function ie(se,he){return(0,s.e)((ye,Re)=>{let Ue=0;ye.subscribe((0,L.x)(Re,Se=>{Re.next(se.call(he,Se,Ue++))}))})}},7537:(st,Ee,P)=>{P.d(Ee,{J:()=>ie});var s=P(1631),L=P(2737);function ie(se=1/0){return(0,s.z)(L.y,se)}},1631:(st,Ee,P)=>{P.d(Ee,{z:()=>Ue});var s=P(7398),L=P(4829),ie=P(9360),se=P(7103),he=P(8251),Re=P(4674);function Ue(Se,B,Z=1/0){return(0,Re.m)(B)?Ue((re,Oe)=>(0,s.U)((ue,Qe)=>B(re,ue,Oe,Qe))((0,L.Xf)(Se(re,Oe))),Z):("number"==typeof B&&(Z=B),(0,ie.e)((re,Oe)=>function ye(Se,B,Z,re,Oe,ue,Qe,Be){const xe=[];let Ae=0,Je=0,we=!1;const Te=()=>{we&&!xe.length&&!Ae&&B.complete()},ce=Me=>Ae<re?ve(Me):xe.push(Me),ve=Me=>{ue&&B.next(Me),Ae++;let K=!1;(0,L.Xf)(Z(Me,Je++)).subscribe((0,he.x)(B,k=>{Oe?.(k),ue?ce(k):B.next(k)},()=>{K=!0},void 0,()=>{if(K)try{for(Ae--;xe.length&&Ae<re;){const k=xe.shift();Qe?(0,se.f)(B,Qe,()=>ve(k)):ve(k)}Te()}catch(k){B.error(k)}}))};return Se.subscribe((0,he.x)(B,ce,()=>{we=!0,Te()})),()=>{Be?.()}}(re,Oe,Se,Z)))}},3093:(st,Ee,P)=>{P.d(Ee,{Q:()=>se});var s=P(7103),L=P(9360),ie=P(8251);function se(he,ye=0){return(0,L.e)((Re,Ue)=>{Re.subscribe((0,ie.x)(Ue,Se=>(0,s.f)(Ue,he,()=>Ue.next(Se),ye),()=>(0,s.f)(Ue,he,()=>Ue.complete(),ye),Se=>(0,s.f)(Ue,he,()=>Ue.error(Se),ye)))})}},3020:(st,Ee,P)=>{P.d(Ee,{B:()=>he});var s=P(4829),L=P(8645),ie=P(305),se=P(9360);function he(Re={}){const{connector:Ue=(()=>new L.x),resetOnError:Se=!0,resetOnComplete:B=!0,resetOnRefCountZero:Z=!0}=Re;return re=>{let Oe,ue,Qe,Be=0,xe=!1,Ae=!1;const Je=()=>{ue?.unsubscribe(),ue=void 0},we=()=>{Je(),Oe=Qe=void 0,xe=Ae=!1},Te=()=>{const ce=Oe;we(),ce?.unsubscribe()};return(0,se.e)((ce,ve)=>{Be++,!Ae&&!xe&&Je();const Me=Qe=Qe??Ue();ve.add(()=>{Be--,0===Be&&!Ae&&!xe&&(ue=ye(Te,Z))}),Me.subscribe(ve),!Oe&&Be>0&&(Oe=new ie.Hp({next:K=>Me.next(K),error:K=>{Ae=!0,Je(),ue=ye(we,Se,K),Me.error(K)},complete:()=>{xe=!0,Je(),ue=ye(we,B),Me.complete()}}),(0,s.Xf)(ce).subscribe(Oe))})(re)}}function ye(Re,Ue,...Se){if(!0===Ue)return void Re();if(!1===Ue)return;const B=new ie.Hp({next:()=>{B.unsubscribe(),Re()}});return(0,s.Xf)(Ue(...Se)).subscribe(B)}},5137:(st,Ee,P)=>{P.d(Ee,{R:()=>L});var s=P(9360);function L(ie,se=0){return(0,s.e)((he,ye)=>{ye.add(ie.schedule(()=>he.subscribe(ye),se))})}},4664:(st,Ee,P)=>{P.d(Ee,{w:()=>se});var s=P(4829),L=P(9360),ie=P(8251);function se(he,ye){return(0,L.e)((Re,Ue)=>{let Se=null,B=0,Z=!1;const re=()=>Z&&!Se&&Ue.complete();Re.subscribe((0,ie.x)(Ue,Oe=>{Se?.unsubscribe();let ue=0;const Qe=B++;(0,s.Xf)(he(Oe,Qe)).subscribe(Se=(0,ie.x)(Ue,Be=>Ue.next(ye?ye(Oe,Be,Qe,ue++):Be),()=>{Se=null,re()}))},()=>{Z=!0,re()}))})}},7599:(st,Ee,P)=>{P.d(Ee,{z:()=>s});const s={setTimeout(L,ie,...se){const{delegate:he}=s;return he?.setTimeout?he.setTimeout(L,ie,...se):setTimeout(L,ie,...se)},clearTimeout(L){const{delegate:ie}=s;return(ie?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(st,Ee,P)=>{P.d(Ee,{h:()=>L});const L=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(st,Ee,P)=>{P.d(Ee,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(st,Ee,P)=>{P.d(Ee,{_6:()=>ye,jO:()=>se,yG:()=>he});var s=P(4674);function ie(Re){return Re[Re.length-1]}function se(Re){return(0,s.m)(ie(Re))?Re.pop():void 0}function he(Re){return function L(Re){return Re&&(0,s.m)(Re.schedule)}(ie(Re))?Re.pop():void 0}function ye(Re,Ue){return"number"==typeof ie(Re)?Re.pop():Ue}},9039:(st,Ee,P)=>{function s(L,ie){if(L){const se=L.indexOf(ie);0<=se&&L.splice(se,1)}}P.d(Ee,{P:()=>s})},2306:(st,Ee,P)=>{function s(L){const se=L(he=>{Error.call(he),he.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Ee,{d:()=>s})},1441:(st,Ee,P)=>{P.d(Ee,{O:()=>se,x:()=>ie});var s=P(2653);let L=null;function ie(he){if(s.config.useDeprecatedSynchronousErrorHandling){const ye=!L;if(ye&&(L={errorThrown:!1,error:null}),he(),ye){const{errorThrown:Re,error:Ue}=L;if(L=null,Re)throw Ue}}else he()}function se(he){s.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=he)}},7103:(st,Ee,P)=>{function s(L,ie,se,he=0,ye=!1){const Re=ie.schedule(function(){se(),ye?L.add(this.schedule(null,he)):this.unsubscribe()},he);if(L.add(Re),!ye)return Re}P.d(Ee,{f:()=>s})},2737:(st,Ee,P)=>{function s(L){return L}P.d(Ee,{y:()=>s})},4266:(st,Ee,P)=>{P.d(Ee,{z:()=>s});const s=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(st,Ee,P)=>{P.d(Ee,{D:()=>L});var s=P(4674);function L(ie){return Symbol.asyncIterator&&(0,s.m)(ie?.[Symbol.asyncIterator])}},4674:(st,Ee,P)=>{function s(L){return"function"==typeof L}P.d(Ee,{m:()=>s})},8382:(st,Ee,P)=>{P.d(Ee,{c:()=>ie});var s=P(4850),L=P(4674);function ie(se){return(0,L.m)(se[s.L])}},3664:(st,Ee,P)=>{P.d(Ee,{T:()=>ie});var s=P(4971),L=P(4674);function ie(se){return(0,L.m)(se?.[s.h])}},4026:(st,Ee,P)=>{P.d(Ee,{t:()=>L});var s=P(4674);function L(ie){return(0,s.m)(ie?.then)}},541:(st,Ee,P)=>{P.d(Ee,{L:()=>se,Q:()=>ie});var s=P(7582),L=P(4674);function ie(he){return(0,s.FC)(this,arguments,function*(){const Re=he.getReader();try{for(;;){const{value:Ue,done:Se}=yield(0,s.qq)(Re.read());if(Se)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(Ue)}}finally{Re.releaseLock()}})}function se(he){return(0,L.m)(he?.getReader)}},9360:(st,Ee,P)=>{P.d(Ee,{A:()=>L,e:()=>ie});var s=P(4674);function L(se){return(0,s.m)(se?.lift)}function ie(se){return he=>{if(L(he))return he.lift(function(ye){try{return se(ye,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(st,Ee,P)=>{function s(){}P.d(Ee,{Z:()=>s})},8407:(st,Ee,P)=>{P.d(Ee,{U:()=>ie,z:()=>L});var s=P(2737);function L(...se){return ie(se)}function ie(se){return 0===se.length?s.y:1===se.length?se[0]:function(ye){return se.reduce((Re,Ue)=>Ue(Re),ye)}}},3894:(st,Ee,P)=>{P.d(Ee,{h:()=>ie});var s=P(2653),L=P(7599);function ie(se){L.z.setTimeout(()=>{const{onUnhandledError:he}=s.config;if(!he)throw se;he(se)})}},9853:(st,Ee,P)=>{function s(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ee,{z:()=>s})},8926:(st,Ee,P)=>{P.d(Ee,{QbO:()=>Pw,tb:()=>Ad,AFp:()=>Dy,ip1:()=>t0,hGG:()=>$4,z2F:()=>ca,Ojb:()=>Ow,sBO:()=>$F,Sil:()=>uM,EJc:()=>s0,Xts:()=>Xh,SBq:()=>fc,lqb:()=>Hn,qLn:()=>$o,vpe:()=>Ho,XFs:()=>yt,OlP:()=>Nt,zs3:()=>Os,ZZ4:()=>q4,aQg:()=>_r,soG:()=>r0,YKP:()=>JT,h0i:()=>oa,PXZ:()=>O4,R0b:()=>Jn,FiY:()=>sr,Lbi:()=>Ug,g9A:()=>Sy,Qsj:()=>d1,FYo:()=>$g,JOm:()=>jl,q3G:()=>lc,tp0:()=>Gi,Rgc:()=>zm,dDg:()=>x4,eoX:()=>l0,q4F:()=>uf,GfV:()=>Oy,s_b:()=>Cd,ifc:()=>Es,VuI:()=>OM,MMx:()=>Zm,Lck:()=>n4,eFA:()=>F4,Gpc:()=>Je,f3M:()=>Xt,X6Q:()=>Fb,$WT:()=>jr,MR2:()=>wy,_c5:()=>$b,qFp:()=>Y4,rg0:()=>U_,c2e:()=>vb,zSh:()=>by,HDt:()=>Ib,wAp:()=>ru,vHH:()=>K,lri:()=>c0,rWj:()=>Db,JZr:()=>Me,EiD:()=>yy,mCW:()=>In,qzn:()=>zl,JVY:()=>qD,pB0:()=>Kh,eBb:()=>$D,L6k:()=>Og,LAX:()=>HD,cg1:()=>Bv,kL8:()=>IT,dqk:()=>mn,Z0I:()=>ii,eJc:()=>pb,QGY:()=>Em,F4k:()=>_v,RDi:()=>VD,AaK:()=>Be,z3N:()=>Bo,qOj:()=>vC,Xq5:()=>sv,TTD:()=>El,_Bn:()=>QT,jDz:()=>jm,xp6:()=>go,uIk:()=>av,ekj:()=>bv,Suo:()=>Bx,Xpm:()=>Jc,lG2:()=>dh,Yz7:()=>wt,cJS:()=>Vr,oAB:()=>Au,Yjl:()=>el,Y36:()=>td,_UZ:()=>If,BQk:()=>ym,ynx:()=>hd,qZA:()=>dd,TgZ:()=>Ic,EpF:()=>vm,n5z:()=>og,LFG:()=>an,$8M:()=>oo,$Z:()=>Gy,NdJ:()=>yv,CRH:()=>Vx,oxw:()=>VC,ALo:()=>Dx,lcZ:()=>sb,xi3:()=>Ff,Q6J:()=>na,s9C:()=>Cf,VKq:()=>yx,iGM:()=>fb,MAs:()=>kC,KtG:()=>H_,CHM:()=>Yp,uOi:()=>Ew,LSH:()=>vy,P3R:()=>Ey,YNc:()=>hv,W1O:()=>v4,_uU:()=>iT,Oqu:()=>Sf,hij:()=>Mm,AsE:()=>xf});var s=P(8645),L=P(7394),ie=P(5592),se=P(3019),he=P(5619),ye=P(2096),Re=P(3020),Ue=P(4664),Se=P(2737),B=P(9360),Z=P(8251);function Oe(o,a){return o===a}function ue(o){for(let a in o)if(o[a]===ue)return a;throw Error("Could not find renamed property on target object.")}function Qe(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function Be(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Be).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function xe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Ae=ue({__forward_ref__:ue});function Je(o){return o.__forward_ref__=Je,o.toString=function(){return Be(this())},o}function we(o){return Te(o)?o():o}function Te(o){return"function"==typeof o&&o.hasOwnProperty(Ae)&&o.__forward_ref__===Je}function ce(o){return o&&!!o.\u0275providers}const Me="https://g.co/ng/security#xss";class K extends Error{constructor(a,c){super(function k(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function W(o){return"string"==typeof o?o:null==o?"":String(o)}function ln(o,a){throw new K(-201,!1)}function At(o,a){null==o&&function Ze(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function wt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Vr(o){return{providers:o.providers||[],imports:o.imports||[]}}function Vi(o){return ma(o,Yn)||ma(o,Ot)}function ii(o){return null!==Vi(o)}function ma(o,a){return o.hasOwnProperty(a)?o[a]:null}function es(o){return o&&(o.hasOwnProperty(Ct)||o.hasOwnProperty(Zr))?o[Ct]:null}const Yn=ue({\u0275prov:ue}),Ct=ue({\u0275inj:ue}),Ot=ue({ngInjectableDef:ue}),Zr=ue({ngInjectorDef:ue});var yt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(yt||{});let dr;function Vt(o){const a=dr;return dr=o,a}function ns(o,a,c){const d=Vi(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&yt.Optional?null:void 0!==a?a:void ln(Be(o))}const mn=globalThis;class Nt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=wt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const F={},$="__NG_DI_FLAG__",le="ngTempTokenPath",et=/\n/gm,Jt="__source";let Fn;function Un(o){const a=Fn;return Fn=o,a}function qt(o,a=yt.Default){if(void 0===Fn)throw new K(-203,!1);return null===Fn?ns(o,void 0,a):Fn.get(o,a&yt.Optional?null:void 0,a)}function an(o,a=yt.Default){return(function ts(){return dr}()||qt)(we(o),a)}function Xt(o,a=yt.Default){return an(o,Eu(a))}function Eu(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function th(o){const a=[];for(let c=0;c<o.length;c++){const d=we(o[c]);if(Array.isArray(d)){if(0===d.length)throw new K(900,!1);let h,p=yt.Default;for(let y=0;y<d.length;y++){const E=d[y],C=Ap(E);"number"==typeof C?-1===C?h=E.token:p|=C:h=E}a.push(an(h,p))}else a.push(an(d))}return a}function vs(o,a){return o[$]=a,o.prototype[$]=a,o}function Ap(o){return o[$]}function Ti(o){return{toString:o}.toString()}var Ao=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Ao||{}),Es=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(Es||{});const bi={},Zt=[],Iu=ue({\u0275cmp:ue}),wu=ue({\u0275dir:ue}),Wc=ue({\u0275pipe:ue}),rh=ue({\u0275mod:ue}),hr=ue({\u0275fac:ue}),Qs=ue({__NG_ELEMENT_ID__:ue}),Sp=ue({__NG_ENV_ID__:ue});function Zi(o,a,c){let d=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||o.charCodeAt(h+p)<=32)return h}c=h+1}}function _n(o,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const p=c[d++],y=c[d++],E=c[d++];o.setAttribute(a,y,E,p)}else{const p=h,y=c[++d];Ar(p)?o.setProperty(a,p,y):o.setAttribute(a,p,y),d++}}return d}function xp(o){return 3===o||4===o||6===o}function Ar(o){return 64===o.charCodeAt(0)}function Cu(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Kc(o,c,h,null,-1===c||2===c?a[++d]:null)}}return o}function Kc(o,a,c,d,h){let p=0,y=o.length;if(-1===a)y=-1;else for(;p<o.length;){const E=o[p++];if("number"==typeof E){if(E===a){y=-1;break}if(E>a){y=p-1;break}}}for(;p<o.length;){const E=o[p];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(o[p+1]=h));if(d===o[p+1])return void(o[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(o.splice(y,0,a),p=y+1),o.splice(p++,0,c),null!==d&&o.splice(p++,0,d),null!==h&&o.splice(p++,0,h)}const Tu="ng-template";function ih(o,a,c){let d=0,h=!0;for(;d<o.length;){let p=o[d++];if("string"==typeof p&&h){const y=o[d++];if(c&&"class"===p&&-1!==Zi(y.toLowerCase(),a,0))return!0}else{if(1===p){for(;d<o.length&&"string"==typeof(p=o[d++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function sh(o){return 4===o.type&&o.value!==Tu}function y_(o,a,c){return a===(4!==o.type||c?o.value:Tu)}function bu(o,a,c){let d=4;const h=o.attrs||[],p=function wI(o){for(let a=0;a<o.length;a++)if(xp(o[a]))return a;return o.length}(h);let y=!1;for(let E=0;E<a.length;E++){const C=a[E];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!y_(o,C,c)||""===C&&1===a.length){if(si(d))return!1;y=!0}}else{const b=8&d?C:a[++E];if(8&d&&null!==o.attrs){if(!ih(o.attrs,b,c)){if(si(d))return!1;y=!0}continue}const N=Mp(8&d?"class":C,h,sh(o),c);if(-1===N){if(si(d))return!1;y=!0;continue}if(""!==b){let V;V=N>p?"":h[N+1].toLowerCase();const H=8&d?V:null;if(H&&-1!==Zi(H,b,0)||2&d&&b!==V){if(si(d))return!1;y=!0}}}}else{if(!y&&!si(d)&&!si(C))return!1;if(y&&si(C))continue;y=!1,d=C|1&d}}return si(d)||y}function si(o){return 0==(1&o)}function Mp(o,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let p=!1;for(;h<a.length;){const y=a[h];if(y===o)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=a[++h];for(;"string"==typeof E;)E=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function oi(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function Np(o,a,c=!1){for(let d=0;d<a.length;d++)if(bu(o,a[d],c))return!0;return!1}function Yc(o,a){return o?":not("+a.trim()+")":a}function Qc(o){let a=o[0],c=1,d=2,h="",p=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&d){const E=o[++c];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!si(y)&&(a+=Yc(p,h),h=""),d=y,p=p||!si(d);c++}return""!==h&&(a+=Yc(p,h)),a}function Jc(o){return Ti(()=>{const a=hh(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Ao.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||Es.Emulated,styles:o.styles||Zt,_:null,schemas:o.schemas||null,tView:null,id:""};ji(c);const d=o.dependencies;return c.directiveDefs=tl(d,!1),c.pipeDefs=tl(d,!0),c.id=function ph(o){let a=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function ch(o){return Lt(o)||Bn(o)}function lh(o){return null!==o}function Au(o){return Ti(()=>({type:o.type,bootstrap:o.bootstrap||Zt,declarations:o.declarations||Zt,imports:o.imports||Zt,exports:o.exports||Zt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Xc(o,a){if(null==o)return bi;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,a&&(a[h]=p)}return c}function dh(o){return Ti(()=>{const a=hh(o);return ji(a),a})}function el(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Lt(o){return o[Iu]||null}function Bn(o){return o[wu]||null}function Vn(o){return o[Wc]||null}function jr(o){const a=Lt(o)||Bn(o)||Vn(o);return null!==a&&a.standalone}function Dr(o,a){const c=o[rh]||null;if(!c&&!0===a)throw new Error(`Type ${Be(o)} does not have '\u0275mod' property.`);return c}function hh(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||bi,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Zt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xc(o.inputs,a),outputs:Xc(o.outputs)}}function ji(o){o.features?.forEach(a=>a(o))}function tl(o,a){if(!o)return null;const c=a?Vn:ch;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(lh)}const un=0,ze=1,Tt=2,tn=3,Ai=4,Do=5,En=6,ya=7,Mn=8,qr=9,nl=10,mt=11,Di=12,So=13,ss=14,Cn=15,rl=16,xo=17,Is=18,Si=19,I_=20,qi=21,ws=22,Js=23,os=24,ht=25,gh=1,il=2,xi=7,Mo=9,Zn=11;function Sr(o){return Array.isArray(o)&&"object"==typeof o[gh]}function Qn(o){return Array.isArray(o)&&!0===o[gh]}function Su(o){return 0!=(4&o.flags)}function Xs(o){return o.componentOffset>-1}function xu(o){return 1==(1&o.flags)}function $i(o){return!!o.template}function Mu(o){return 0!=(512&o[Tt])}function va(o,a){return o.hasOwnProperty(hr)?o[hr]:null}let fr=null,ll=!1;function xr(o){const a=fr;return fr=o,a}const R_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function yh(o){if(!Ea(o)||o.dirty){if(!o.producerMustRecompute(o)&&!fl(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function k_(o){o.dirty=!0,function O_(o){if(void 0===o.liveConsumerNode)return;const a=ll;ll=!0;try{for(const c of o.liveConsumerNode)c.dirty||k_(c)}finally{ll=a}}(o),o.consumerMarkedDirty?.(o)}function hl(o){return o&&(o.nextProducerIndex=0),xr(o)}function Fp(o,a){if(xr(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(Ea(o))for(let c=o.nextProducerIndex;c<o.producerNode.length;c++)gl(o.producerNode[c],o.producerIndexOfThis[c]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function fl(o){Ru(o);for(let a=0;a<o.producerNode.length;a++){const c=o.producerNode[a],d=o.producerLastReadVersion[a];if(d!==c.version||(yh(c),d!==c.version))return!0}return!1}function F_(o){if(Ru(o),Ea(o))for(let a=0;a<o.producerNode.length;a++)gl(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function gl(o,a){if(function vh(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Ru(o),1===o.liveConsumerNode.length)for(let d=0;d<o.producerNode.length;d++)gl(o.producerNode[d],o.producerIndexOfThis[d]);const c=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[c],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[c],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const d=o.liveConsumerIndexOfThis[a],h=o.liveConsumerNode[a];Ru(h),h.producerIndexOfThis[d]=a}}function Ea(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Ru(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let Up=null;function U_(o){const a=xr(null);try{return o()}finally{xr(a)}}const Ih=()=>{},vl=(()=>({...R_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Ih}))();class Pu{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function El(){return jp}function jp(o){return o.type.prototype.ngOnChanges&&(o.setInput=MI),V_}function V_(){const o=$p(this),a=o?.current;if(a){const c=o.previous;if(c===bi)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function MI(o,a,c,d){const h=this.declaredInputs[c],p=$p(o)||function wh(o,a){return o[qp]=a}(o,{previous:bi,current:null}),y=p.current||(p.current={}),E=p.previous,C=E[h];y[h]=new Pu(C&&C.currentValue,a,E===bi),o[d]=a}El.ngInherit=!0;const qp="__ngSimpleChanges__";function $p(o){return o[qp]||null}const Mr=function(o,a,c){};function sn(o){for(;Array.isArray(o);)o=o[un];return o}function Ou(o,a){return sn(a[o])}function pr(o,a){return sn(a[o.index])}function ku(o,a){return o.data[a]}function Ca(o,a){return o[a]}function ai(o,a){const c=a[o];return Sr(c)?c:c[un]}function Cs(o,a){return null==a?null:o[a]}function Ah(o){o[xo]=0}function j_(o){1024&o[Tt]||(o[Tt]|=1024,Hp(o,1))}function Il(o){1024&o[Tt]&&(o[Tt]&=-1025,Hp(o,-1))}function Hp(o,a){let c=o[tn];if(null===c)return;c[Do]+=a;let d=c;for(c=c[tn];null!==c&&(1===a&&1===d[Do]||-1===a&&0===d[Do]);)c[Do]+=a,d=c,c=c[tn]}const ft={lFrame:bl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xh(){return ft.bindingsEnabled}function ge(){return ft.lFrame.lView}function Ut(){return ft.lFrame.tView}function Yp(o){return ft.lFrame.contextLView=o,o[Mn]}function H_(o){return ft.lFrame.contextLView=null,o}function gr(){let o=Qp();for(;null!==o&&64===o.type;)o=o.parent;return o}function Qp(){return ft.lFrame.currentTNode}function Ts(o,a){const c=ft.lFrame;c.currentTNode=o,c.isParent=a}function Lu(){return ft.lFrame.isParent}function Jp(){ft.lFrame.isParent=!1}function Nr(){const o=ft.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Bu(){return ft.lFrame.bindingIndex++}function to(o){const a=ft.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function OI(o,a){const c=ft.lFrame;c.bindingIndex=c.bindingRootIndex=o,Tl(a)}function Tl(o){ft.lFrame.currentDirectiveIndex=o}function bs(){return ft.lFrame.currentQueryIndex}function Nh(o){ft.lFrame.currentQueryIndex=o}function Tn(o){const a=o[ze];return 2===a.type?a.declTNode:1===a.type?o[En]:null}function at(o,a,c){if(c&yt.SkipSelf){let h=a,p=o;for(;!(h=h.parent,null!==h||c&yt.Host||(h=Tn(p),null===h||(p=p[ss],10&h.type))););if(null===h)return!1;a=h,o=p}const d=ft.lFrame=Vu();return d.currentTNode=a,d.lView=o,!0}function ir(o){const a=Vu(),c=o[ze];ft.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Vu(){const o=ft.lFrame,a=null===o?null:o.child;return null===a?bl(o):a}function bl(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Xp(){const o=ft.lFrame;return ft.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Al=Xp;function Dl(){const o=Xp();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function pt(){return ft.lFrame.selectedIndex}function Oo(o){ft.lFrame.selectedIndex=o}function vn(){const o=ft.lFrame;return ku(o.tView,o.selectedIndex)}let Ml=!0;function Da(){return Ml}function As(o){Ml=o}function Ds(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:S}=p;y&&(o.contentHooks??=[]).push(-c,y),E&&((o.contentHooks??=[]).push(c,E),(o.contentCheckHooks??=[]).push(c,E)),C&&(o.viewHooks??=[]).push(-c,C),b&&((o.viewHooks??=[]).push(c,b),(o.viewCheckHooks??=[]).push(c,b)),null!=S&&(o.destroyHooks??=[]).push(c,S)}}function no(o,a,c){ju(o,a,3,c)}function ro(o,a,c,d){(3&o[Tt])===c&&ju(o,a,c,d)}function Zu(o,a){let c=o[Tt];(3&c)===a&&(c&=8191,c+=1,o[Tt]=c)}function ju(o,a,c,d){const p=d??-1,y=a.length-1;let E=0;for(let C=void 0!==d?65535&o[xo]:0;C<y;C++)if("number"==typeof a[C+1]){if(E=a[C],null!=d&&E>=d)break}else a[C]<0&&(o[xo]+=65536),(E<p||-1==p)&&(Ph(o,c,a,C),o[xo]=(4294901760&o[xo])+C+2),C++}function qu(o,a){Mr(4,o,a);const c=xr(null);try{a.call(o)}finally{xr(c),Mr(5,o,a)}}function Ph(o,a,c,d){const h=c[d]<0,p=c[d+1],E=o[h?-c[d]:c[d]];h?o[Tt]>>13<o[xo]>>16&&(3&o[Tt])===a&&(o[Tt]+=8192,qu(E,p)):qu(E,p)}const Mi=-1;class Ni{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function $r(o){return o!==Mi}function qn(o){return 32767&o}function io(o,a){let c=function Nl(o){return o>>16}(o),d=a;for(;c>0;)d=d[ss],c--;return d}let Oh=!0;function li(o){const a=Oh;return Oh=o,a}const Nn=255,Ss=5;let kh=0;const ls={};function Gu(o,a){const c=xa(o,a);if(-1!==c)return c;const d=a[ze];d.firstCreatePass&&(o.injectorIndex=a.length,Pl(d.data,o),Pl(a,null),Pl(d.blueprint,null));const h=zu(o,a),p=o.injectorIndex;if($r(h)){const y=qn(h),E=io(h,a),C=E[ze].data;for(let b=0;b<8;b++)a[p+b]=E[y+b]|C[y+b]}return a[p+8]=h,p}function Pl(o,a){o.push(0,0,0,0,0,0,0,0,a)}function xa(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function zu(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=Yu(h),null===d)return Mi;if(c++,h=h[ss],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Mi}function Wu(o,a,c){!function Rl(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Qs)&&(d=c[Qs]),null==d&&(d=c[Qs]=kh++);const h=d&Nn;a.data[o+(h>>Ss)]|=1<<h}(o,a,c)}function Ma(o,a,c){if(c&yt.Optional||void 0!==o)return o;ln()}function tg(o,a,c,d){if(c&yt.Optional&&void 0===d&&(d=null),!(c&(yt.Self|yt.Host))){const h=o[qr],p=Vt(void 0);try{return h?h.get(a,d,c&yt.Optional):ns(a,d,c&yt.Optional)}finally{Vt(p)}}return Ma(d,0,c)}function xs(o,a,c,d=yt.Default,h){if(null!==o){if(2048&a[Tt]&&!(d&yt.Self)){const y=function kl(o,a,c,d,h){let p=o,y=a;for(;null!==p&&null!==y&&2048&y[Tt]&&!(512&y[Tt]);){const E=ng(p,y,c,d|yt.Self,ls);if(E!==ls)return E;let C=p.parent;if(!C){const b=y[I_];if(b){const S=b.get(c,ls,d);if(S!==ls)return S}C=Yu(y),y=y[ss]}p=C}return h}(o,a,c,d,ls);if(y!==ls)return y}const p=ng(o,a,c,d,ls);if(p!==ls)return p}return tg(a,c,d,h)}function ng(o,a,c,d,h){const p=function Ku(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Qs)?o[Qs]:void 0;return"number"==typeof a?a>=0?a&Nn:sg:a}(c);if("function"==typeof p){if(!at(a,o,d))return d&yt.Host?Ma(h,0,d):tg(a,c,d,h);try{let y;if(y=p(d),null!=y||d&yt.Optional)return y;ln()}finally{Al()}}else if("number"==typeof p){let y=null,E=xa(o,a),C=Mi,b=d&yt.Host?a[Cn][En]:null;for((-1===E||d&yt.SkipSelf)&&(C=-1===E?zu(o,a):a[E+8],C!==Mi&&rg(d,!1)?(y=a[ze],E=qn(C),a=io(C,a)):E=-1);-1!==E;){const S=a[ze];if(Ms(p,E,S.data)){const N=K_(E,a,c,y,d,b);if(N!==ls)return N}C=a[E+8],C!==Mi&&rg(d,a[ze].data[E+8]===b)&&Ms(p,E,a)?(y=S,E=qn(C),a=io(C,a)):E=-1}}return h}function K_(o,a,c,d,h,p){const y=a[ze],E=y.data[o+8],S=Hr(E,y,c,null==d?Xs(E)&&Oh:d!=y&&0!=(3&E.type),h&yt.Host&&p===E);return null!==S?so(a,y,S,E):ls}function Hr(o,a,c,d,h){const p=o.providerIndexes,y=a.data,E=1048575&p,C=o.directiveStart,S=p>>20,V=h?E+S:o.directiveEnd;for(let H=d?E:E+S;H<V;H++){const ae=y[H];if(H<C&&c===ae||H>=C&&ae.type===c)return H}if(h){const H=y[C];if(H&&$i(H)&&H.type===c)return C}return null}function so(o,a,c,d){let h=o[c];const p=a.data;if(function $u(o){return o instanceof Ni}(h)){const y=h;y.resolving&&function Mt(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new K(-200,`Circular dependency in DI detected for ${o}${c}`)}(function pe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():W(o)}(p[c]));const E=li(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?Vt(y.injectImpl):null;at(o,d,yt.Default);try{h=o[c]=y.factory(void 0,p,o,d),a.firstCreatePass&&c>=d.directiveStart&&function Rh(o,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const y=jp(a);(c.preOrderHooks??=[]).push(o,y),(c.preOrderCheckHooks??=[]).push(o,y)}h&&(c.preOrderHooks??=[]).push(0-o,h),p&&((c.preOrderHooks??=[]).push(o,p),(c.preOrderCheckHooks??=[]).push(o,p))}(c,p[c],a)}finally{null!==b&&Vt(b),li(E),y.resolving=!1,Al()}}return h}function Ms(o,a,c){return!!(c[a+(o>>Ss)]&1<<o)}function rg(o,a){return!(o&yt.Self||o&yt.Host&&a)}class Rr{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return xs(this._tNode,this._lView,a,Eu(d),c)}}function sg(){return new Rr(gr(),ge())}function og(o){return Ti(()=>{const a=o.prototype.constructor,c=a[hr]||Ol(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const p=h[hr]||Ol(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ol(o){return Te(o)?()=>{const a=Ol(we(o));return a&&a()}:va(o)}function Yu(o){const a=o[ze],c=a.type;return 2===c?a.declTNode:1===c?o[En]:null}function oo(o){return function Dt(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(xp(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(gr(),o)}const ds="__parameters__";function hs(o,a,c){return Ti(()=>{const d=function Fh(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(C,b,S){const N=C.hasOwnProperty(ds)?C[ds]:Object.defineProperty(C,ds,{value:[]})[ds];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(y),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function Lo(o,a){o.forEach(c=>Array.isArray(c)?Lo(c,a):a(c))}function Vh(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Ul(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function di(o,a,c){let d=I(o,a);return d>=0?o[1|d]=c:(d=~d,function dg(o,a,c,d){let h=o.length;if(h==a)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function ao(o,a){const c=I(o,a);if(c>=0)return o[1|c]}function I(o,a){return function _(o,a,c){let d=0,h=o.length>>c;for(;h!==d;){const p=d+(h-d>>1),y=o[p<<c];if(a===y)return p<<c;y>a?h=p:d=p+1}return~(h<<c)}(o,a,1)}const sr=vs(hs("Optional"),8),Gi=vs(hs("SkipSelf"),4);function Vl(o){return 128==(128&o.flags)}var jl=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(jl||{});const yD=/^>|^->|<!--|-->|--!>|<!-$/g,vg=/(<|>)/g,WI="\u200b$1\u200b";const nc=new Map;let vD=0;const JI="__ngContext__";function gi(o,a){Sr(a)?(o[JI]=a[Si],function ny(o){nc.set(o[Si],o)}(a)):o[JI]=a}let iy;function sy(o,a){return iy(o,a)}function Ua(o){const a=o[tn];return Qn(a)?a[tn]:a}function rc(o){return rw(o[Di])}function ql(o){return rw(o[Ai])}function rw(o){for(;null!==o&&!Qn(o);)o=o[Ai];return o}function $l(o,a,c,d,h){if(null!=d){let p,y=!1;Qn(d)?p=d:Sr(d)&&(y=!0,d=d[un]);const E=sn(d);0===o&&null!==c?null==h?sw(a,c,E):sc(a,c,E,h||null,!0):1===o&&null!==c?sc(a,c,E,h||null,!0):2===o?function Hh(o,a,c){const d=Tg(o,a);d&&function PD(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}(a,E,y):3===o&&a.destroyNode(E),null!=p&&function FD(o,a,c,d,h){const p=c[xi];p!==sn(c)&&$l(a,o,d,p,h);for(let E=Zn;E<c.length;E++){const C=c[E];Gh(C[ze],C,o,a,d,p)}}(a,o,p,c,h)}}function oy(o,a){return o.createComment(function KI(o){return o.replace(yD,a=>a.replace(vg,WI))}(a))}function Cg(o,a,c){return o.createElement(a,c)}function ay(o,a){const c=o[Mo],d=c.indexOf(a);Il(a),c.splice(d,1)}function ic(o,a){if(o.length<=Zn)return;const c=Zn+a,d=o[c];if(d){const h=d[rl];null!==h&&h!==o&&ay(h,d),a>0&&(o[c-1][Ai]=d[Ai]);const p=Ul(o,Zn+a);!function AD(o,a){Gh(o,a,a[mt],2,null,null),a[un]=null,a[En]=null}(d[ze],d);const y=p[Is];null!==y&&y.detachView(p[ze]),d[tn]=null,d[Ai]=null,d[Tt]&=-129}return d}function Va(o,a){if(!(256&a[Tt])){const c=a[mt];a[Js]&&F_(a[Js]),a[os]&&F_(a[os]),c.destroyNode&&Gh(o,a,c,3,null,null),function xD(o){let a=o[Di];if(!a)return uy(o[ze],o);for(;a;){let c=null;if(Sr(a))c=a[Di];else{const d=a[Zn];d&&(c=d)}if(!c){for(;a&&!a[Ai]&&a!==o;)Sr(a)&&uy(a[ze],a),a=a[tn];null===a&&(a=o),Sr(a)&&uy(a[ze],a),c=a&&a[Ai]}a=c}}(a)}}function uy(o,a){if(!(256&a[Tt])){a[Tt]&=-129,a[Tt]|=256,function RD(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Ni)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],C=p[y+1];Mr(4,E,C);try{C.call(E)}finally{Mr(5,E,C)}}else{Mr(4,h,p);try{p.call(h)}finally{Mr(5,h,p)}}}}}(o,a),function ND(o,a){const c=o.cleanup,d=a[ya];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+3];y>=0?d[y]():d[-y].unsubscribe(),p+=2}else c[p].call(d[c[p+1]]);null!==d&&(a[ya]=null);const h=a[qi];if(null!==h){a[qi]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(o,a),1===a[ze].type&&a[mt].destroy();const c=a[rl];if(null!==c&&Qn(a[tn])){c!==a[tn]&&ay(c,a);const d=a[Is];null!==d&&d.detachView(o)}!function YI(o){nc.delete(o[Si])}(a)}}function cy(o,a,c){return function iw(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[un];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=o.data[d.directiveStart+h];if(p===Es.None||p===Es.Emulated)return null}return pr(d,c)}}(o,a.parent,c)}function sc(o,a,c,d,h){o.insertBefore(a,c,d,h)}function sw(o,a,c){o.appendChild(a,c)}function ow(o,a,c,d,h){null!==d?sc(o,a,c,d,h):sw(o,a,c)}function Tg(o,a){return o.parentNode(a)}let hy,Dg,py,xg,dy=function oc(o,a,c){return 40&o.type?pr(o,c):null};function Ag(o,a,c,d){const h=cy(o,d,a),p=a[mt],E=function ly(o,a,c){return dy(o,a,c)}(d.parent||a[En],d,a);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)ow(p,h,c[C],E,!1);else ow(p,h,c,E,!1);void 0!==hy&&hy(p,d,a,c,h)}function ac(o,a){if(null!==a){const c=a.type;if(3&c)return pr(a,o);if(4&c)return $h(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return ac(o,d);{const h=o[a.index];return Qn(h)?$h(-1,h):sn(h)}}if(32&c)return sy(a,o)()||sn(o[a.index]);{const d=uw(o,a);return null!==d?Array.isArray(d)?d[0]:ac(Ua(o[Cn]),d):ac(o,a.next)}}return null}function uw(o,a){return null!==a?o[Cn][En].projection[a.projection]:null}function $h(o,a){const c=Zn+o+1;if(c<a.length){const d=a[c],h=d[ze].firstChild;if(null!==h)return ac(d,h)}return a[xi]}function fy(o,a,c,d,h,p,y){for(;null!=c;){const E=d[c.index],C=c.type;if(y&&0===a&&(E&&gi(sn(E),d),c.flags|=2),32!=(32&c.flags))if(8&C)fy(o,a,c.child,d,h,p,!1),$l(a,o,h,E,p);else if(32&C){const b=sy(c,d);let S;for(;S=b();)$l(a,o,h,S,p);$l(a,o,h,E,p)}else 16&C?zh(o,a,d,c,h,p):$l(a,o,h,E,p);c=y?c.projectionNext:c.next}}function Gh(o,a,c,d,h,p){fy(c,d,o.firstChild,a,h,p,!1)}function zh(o,a,c,d,h,p){const y=c[Cn],C=y[En].projection[d.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)$l(a,o,h,C[b],p);else{let b=C;const S=y[tn];Vl(d)&&(b.flags|=128),fy(o,a,b,S,h,p,!0)}}function lw(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function dw(o,a,c){const{mergedAttrs:d,classes:h,styles:p}=c;null!==d&&_n(o,a,d),null!==h&&lw(o,a,h),null!==p&&function UD(o,a,c){o.setAttribute(a,"style",c)}(o,a,p)}function Wh(o){return function Sg(){if(void 0===Dg&&(Dg=null,mn.trustedTypes))try{Dg=mn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Dg}()?.createHTML(o)||o}function VD(o){py=o}function Rg(o){return function Mg(){if(void 0===xg&&(xg=null,mn.trustedTypes))try{xg=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return xg}()?.createScriptURL(o)||o}class cc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}class ZD extends cc{getTypeName(){return"HTML"}}class pw extends cc{getTypeName(){return"Style"}}class Pg extends cc{getTypeName(){return"Script"}}class gw extends cc{getTypeName(){return"URL"}}class mw extends cc{getTypeName(){return"ResourceURL"}}function Bo(o){return o instanceof cc?o.changingThisBreaksApplicationSecurity:o}function zl(o,a){const c=function jD(o){return o instanceof cc&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Me})`)}return c===a}function qD(o){return new ZD(o)}function Og(o){return new pw(o)}function $D(o){return new Pg(o)}function HD(o){return new gw(o)}function Kh(o){return new mw(o)}class GD{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Wh(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class zD{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Wh(a),c}}const KD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function In(o){return(o=String(o)).match(KD)?o:"unsafe:"+o}function Vo(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Wl(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const Ki=Vo("area,br,col,hr,img,wbr"),_w=Vo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yw=Vo("rp,rt"),my=Wl(Ki,Wl(_w,Vo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wl(yw,Vo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wl(yw,_w)),Yh=Vo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_y=Wl(Yh,Vo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zo=Vo("script,style,template");class JD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!my.hasOwnProperty(c))return this.sanitizedSomething=!0,!Zo.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,E=y.toLowerCase();if(!_y.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=p.value;Yh[E]&&(C=In(C)),this.buf.push(" ",y,'="',XD(C),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();my.hasOwnProperty(c)&&!Ki.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(XD(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const l2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d2=/([^\#-~ |!])/g;function XD(o){return o.replace(/&/g,"&amp;").replace(l2,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(d2,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qh;function yy(o,a){let c=null;try{Qh=Qh||function gy(o){const a=new zD(o);return function WD(){try{return!!(new window.DOMParser).parseFromString(Wh(""),"text/html")}catch{return!1}}()?new GD(a):a}(o);let d=a?String(a):"";c=Qh.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=Qh.getInertBodyElement(d)}while(d!==p);return Wh((new JD).sanitizeChildren(Jh(c)||c))}finally{if(c){const d=Jh(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Jh(o){return"content"in o&&function e1(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var lc=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(lc||{});function vy(o){const a=jo();return a?a.sanitize(lc.URL,o)||"":zl(o,"URL")?Bo(o):In(W(o))}function Ew(o){const a=jo();if(a)return Rg(a.sanitize(lc.RESOURCE_URL,o)||"");if(zl(o,"ResourceURL"))return Rg(Bo(o));throw new K(904,!1)}function Ey(o,a,c){return function g2(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?Ew:vy}(a,c)(o)}function jo(){const o=ge();return o&&o[nl].sanitizer}const Xh=new Nt("ENVIRONMENT_INITIALIZER"),Iw=new Nt("INJECTOR",-1),ww=new Nt("INJECTOR_DEF_TYPES");class Iy{get(a,c=F){if(c===F){const d=new Error(`NullInjectorError: No provider for ${Be(a)}!`);throw d.name="NullInjectorError",d}return c}}function wy(o){return{\u0275providers:o}}function Cw(...o){return{\u0275providers:Tw(0,o),\u0275fromNgModule:!0}}function Tw(o,...a){const c=[],d=new Set;let h;const p=y=>{c.push(y)};return Lo(a,y=>{const E=y;Cy(E,p,[],d)&&(h||=[],h.push(E))}),void 0!==h&&n1(h,p),c}function n1(o,a){for(let c=0;c<o.length;c++){const{ngModule:d,providers:h}=o[c];bw(h,p=>{a(p,d)})}}function Cy(o,a,c,d){if(!(o=we(o)))return!1;let h=null,p=es(o);const y=!p&&Lt(o);if(p||y){if(y&&!y.standalone)return!1;h=o}else{const C=o.ngModule;if(p=es(C),!p)return!1;h=C}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const b of C)Cy(b,a,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let b;d.add(h);try{Lo(p.imports,S=>{Cy(S,a,c,d)&&(b||=[],b.push(S))})}finally{}void 0!==b&&n1(b,a)}if(!E){const b=va(h)||(()=>new h);a({provide:h,useFactory:b,deps:Zt},h),a({provide:ww,useValue:h,multi:!0},h),a({provide:Xh,useValue:()=>an(h),multi:!0},h)}const C=p.providers;if(null!=C&&!E){const b=o;bw(C,S=>{a(S,b)})}}}return h!==o&&void 0!==o.providers}function bw(o,a){for(let c of o)ce(c)&&(c=c.\u0275providers),Array.isArray(c)?bw(c,a):a(c)}const y2=ue({provide:String,useValue:ue});function Aw(o){return null!==o&&"object"==typeof o&&y2 in o}function Yi(o){return"function"==typeof o}const by=new Nt("Set Injector scope."),dc={},r1={};let Ay;function kg(){return void 0===Ay&&(Ay=new Iy),Ay}class Hn{}class Qi extends Hn{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lg(a,y=>this.processProvider(y)),this.records.set(Iw,Ke(void 0,this)),h.has("environment")&&this.records.set(Hn,Ke(void 0,this));const p=this.records.get(by);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ww.multi,Zt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=Un(this),d=Vt(void 0);try{return a()}finally{Un(c),Vt(d)}}get(a,c=F,d=yt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Sp))return a[Sp](this);d=Eu(d);const p=Un(this),y=Vt(void 0);try{if(!(d&yt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const b=function Nw(o){return"function"==typeof o||"object"==typeof o&&o instanceof Nt}(a)&&Vi(a);C=b&&this.injectableDefInScope(b)?Ke(Fg(a),dc):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&yt.Self?kg():this.parent).get(a,c=d&yt.Optional&&c===F?null:c)}catch(E){if("NullInjectorError"===E.name){if((E[le]=E[le]||[]).unshift(Be(a)),p)throw E;return function nh(o,a,c,d){const h=o[le];throw a[Jt]&&h.unshift(a[Jt]),o.message=function Dp(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=Be(a);if(Array.isArray(a))h=a.map(Be).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let E=a[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):Be(E)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(et,"\n  ")}`}("\n"+o.message,h,c,d),o.ngTokenPath=h,o[le]=null,o}(E,a,"R3InjectorError",this.source)}throw E}finally{Vt(y),Un(p)}}resolveInjectorInitializers(){const a=Un(this),c=Vt(void 0);try{const h=this.get(Xh.multi,Zt,yt.Self);for(const p of h)p()}finally{Un(a),Vt(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(Be(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(a){let c=Yi(a=we(a))?a:we(a&&a.provide);const d=function Za(o){return Aw(o)?Ke(void 0,o.useValue):Ke(Sw(o),dc)}(a);if(Yi(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Ke(void 0,dc,!0),h.factory=()=>th(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===dc&&(c.value=r1,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Mw(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=we(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Fg(o){const a=Vi(o),c=null!==a?a.factory:va(o);if(null!==c)return c;if(o instanceof Nt)throw new K(204,!1);if(o instanceof Function)return function Gr(o){const a=o.length;if(a>0)throw function Qu(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}(a,"?"),new K(204,!1);const c=function Ys(o){return o&&(o[Yn]||o[Ot])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new K(204,!1)}function Sw(o,a,c){let d;if(Yi(o)){const h=we(o);return va(h)||Fg(h)}if(Aw(o))d=()=>we(o.useValue);else if(function Ty(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...th(o.deps||[]));else if(function Dw(o){return!(!o||!o.useExisting)}(o))d=()=>an(we(o.useExisting));else{const h=we(o&&(o.useClass||o.provide));if(!function xw(o){return!!o.deps}(o))return va(h)||Fg(h);d=()=>new h(...th(o.deps))}return d}function Ke(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Lg(o,a){for(const c of o)Array.isArray(c)?Lg(c,a):c&&ce(c)?Lg(c.\u0275providers,a):a(c)}const Dy=new Nt("AppId",{providedIn:"root",factory:()=>Rw}),Rw="ng",Sy=new Nt("Platform Initializer"),Ug=new Nt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pw=new Nt("AnimationModuleType"),Ow=new Nt("CSP nonce",{providedIn:"root",factory:()=>function Gl(){if(void 0!==py)return py;if(typeof document<"u")return document;throw new K(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let s1=(o,a,c)=>null;function rf(o,a,c=!1){return s1(o,a,c)}class u1{}class Py{}class af{resolveComponentFactory(a){throw function T2(o){const a=Error(`No component factory found for ${Be(o)}.`);return a.ngComponent=o,a}(a)}}let hc=(()=>{class o{static#e=this.NULL=new af}return o})();function Jl(){return fo(gr(),ge())}function fo(o,a){return new fc(pr(o,a))}let fc=(()=>{class o{constructor(c){this.nativeElement=c}static#e=this.__NG_ELEMENT_ID__=Jl}return o})();function l1(o){return o instanceof fc?o.nativeElement:o}class $g{}let d1=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Hg(){const o=ge(),c=ai(gr().index,o);return(Sr(c)?c:o)[mt]}()}return o})(),Bw=(()=>{class o{static#e=this.\u0275prov=wt({token:o,providedIn:"root",factory:()=>null})}return o})();class Oy{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const uf=new Oy("16.2.11"),pc={};function Kg(o,a=null,c=null,d){const h=cf(o,a,c,d);return h.resolveInjectorInitializers(),h}function cf(o,a=null,c=null,d,h=new Set){const p=[c||Zt,Cw(o)];return d=d||("object"==typeof o?void 0:Be(o)),new Qi(p,a||kg(),d||null,h)}let Os=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=F;static#t=this.NULL=new Iy;static create(c,d){if(Array.isArray(c))return Kg({name:""},d,c,"");{const h=c.name??"";return Kg({name:h},c.parent,c.providers,h)}}static#n=this.\u0275prov=wt({token:o,providedIn:"any",factory:()=>an(Iw)});static#r=this.__NG_ELEMENT_ID__=-1}return o})();function Fy(o){return o.ngOriginalError}class $o{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Fy(a);for(;c&&Fy(c);)c=Fy(c);return c||null}}function jw(o){return a=>{setTimeout(o,void 0,a)}}const Ho=class Uy extends s.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,p=c||(()=>null),y=d;if(a&&"object"==typeof a){const C=a;h=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=jw(p),h&&(h=jw(h)),y&&(y=jw(y)));const E=super.subscribe({next:h,error:p,complete:y});return a instanceof L.w0&&a.add(E),E}};function Yg(...o){}class Jn{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ho(!1),this.onMicrotaskEmpty=new Ho(!1),this.onStable=new Ho(!1),this.onError=new Ho(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function f1(){const o="function"==typeof mn.requestAnimationFrame;let a=mn[o?"requestAnimationFrame":"setTimeout"],c=mn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function lf(o){const a=()=>{!function m1(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(mn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,df(o),o.isCheckStableRunning=!0,qw(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),df(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,y,E)=>{if(function Hw(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(E))return c.invokeTask(h,p,y,E);try{return By(o),c.invokeTask(h,p,y,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),Vy(o)}},onInvoke:(c,d,h,p,y,E,C)=>{try{return By(o),c.invoke(h,p,y,E,C)}finally{o.shouldCoalesceRunChangeDetection&&a(),Vy(o)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,df(o),qw(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jn.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(Jn.isInAngularZone())throw new K(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,a,g1,Yg,Yg);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const g1={};function qw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function df(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function By(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Vy(o){o._nesting--,qw(o)}class Go{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ho,this.onMicrotaskEmpty=new Ho,this.onStable=new Ho,this.onError=new Ho}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const _1=new Nt("",{providedIn:"root",factory:$w});function $w(){const o=Xt(Jn);let a=!0;const c=new ie.y(h=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{h.next(a),h.complete()})}),d=new ie.y(h=>{let p;o.runOutsideAngular(()=>{p=o.onStable.subscribe(()=>{Jn.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const y=o.onUnstable.subscribe(()=>{Jn.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,se.T)(c,d.pipe((0,Re.B)()))}function zo(o){return o instanceof Function?o():o}let jy=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=wt({token:o,providedIn:"root",factory:()=>new o})}return o})();function Fs(o){for(;o;){o[Tt]|=64;const a=Ua(o);if(Mu(o)&&!a)return o;o=a}return null}const qy=new Nt("",{providedIn:"root",factory:()=>!1});let po=null;function $y(o,a){return o[a]??Hy()}function Qw(o,a){const c=Hy();c.producerNode?.length&&(o[a]=po,c.lView=o,po=Jw())}const Us={...R_,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Fs(o.lView)},lView:null};function Jw(){return Object.create(Us)}function Hy(){return po??=Jw(),po}const St={};function go(o){$a(Ut(),ge(),pt()+o,!1)}function $a(o,a,c,d){if(!d)if(3==(3&a[Tt])){const p=o.preOrderCheckHooks;null!==p&&no(a,p,c)}else{const p=o.preOrderHooks;null!==p&&ro(a,p,0,c)}Oo(c)}function td(o,a=yt.Default){const c=ge();return null===c?an(o,a):xs(gr(),c,we(o),a)}function Gy(){throw new Error("invalid")}function zy(o,a,c,d,h,p,y,E,C,b,S){const N=a.blueprint.slice();return N[un]=h,N[Tt]=140|d,(null!==b||o&&2048&o[Tt])&&(N[Tt]|=2048),Ah(N),N[tn]=N[ss]=o,N[Mn]=c,N[nl]=y||o&&o[nl],N[mt]=E||o&&o[mt],N[qr]=C||o&&o[qr]||null,N[En]=p,N[Si]=function ED(){return vD++}(),N[ws]=S,N[I_]=b,N[Cn]=2==a.type?o[Cn]:N,N}function Ha(o,a,c,d,h){let p=o.data[a];if(null===p)p=function Wo(o,a,c,d,h){const p=Qp(),y=Lu(),C=o.data[a]=function tC(o,a,c,d,h,p){let y=a?a.injectorIndex:-1,E=0;return function No(){return null!==ft.skipHydrationRootTNode}()&&(E|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,d,h);return null===o.firstChild&&(o.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C,C.prev=p)),C}(o,a,c,d,h),function G_(){return ft.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const y=function Cl(){const o=ft.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Ts(p,!0),p}function nd(o,a,c,d){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function Wy(o,a,c,d,h){const p=$y(a,Js),y=pt(),E=2&d;try{Oo(-1),E&&a.length>ht&&$a(o,a,ht,!1),Mr(E?2:0,h);const b=E?p:null,S=hl(b);try{null!==b&&(b.dirty=!1),c(d,h)}finally{Fp(b,S)}}finally{E&&null===a[Js]&&Qw(a,Js),Oo(y),Mr(E?3:1,h)}}function Ko(o,a,c){if(Su(a)){const d=xr(null);try{const p=a.directiveEnd;for(let y=a.directiveStart;y<p;y++){const E=o.data[y];E.contentQueries&&E.contentQueries(1,c[y],y)}}finally{xr(d)}}}function Ky(o,a,c){xh()&&(function Yo(o,a,c,d){const h=c.directiveStart,p=c.directiveEnd;Xs(c)&&function R(o,a,c){const d=pr(a,o),h=Xw(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const E=ff(o,zy(o,h,null,y,d,a,null,o[nl].rendererFactory.createRenderer(d,c),null,null,null));o[a.index]=E}(a,c,o.data[h+c.componentOffset]),o.firstCreatePass||Gu(c,a),gi(d,a);const y=c.initialInputs;for(let E=h;E<p;E++){const C=o.data[E],b=so(a,o,E,c);gi(b,a),null!==y&&_e(0,E-h,b,C,0,y),$i(C)&&(ai(c.index,a)[Mn]=so(a,o,E,c))}}(o,a,c,pr(c,a)),64==(64&c.flags)&&N1(o,a,c))}function Xg(o,a,c=pr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],E=-1===y?c(a,o):o[y];o[h++]=E}}}function Xw(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=em(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function em(o,a,c,d,h,p,y,E,C,b,S){const N=ht+d,V=N+h,H=function T1(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:St);return c}(N,V),ae="function"==typeof b?b():b;return H[ze]={type:o,blueprint:H,template:c,queries:null,viewQuery:E,declTNode:a,data:H.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ae,incompleteFirstPass:!1,ssrId:S}}let Yy=o=>null;function nC(o,a,c,d){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const p=o[h];null===d?Qy(c,a,h,p):d.hasOwnProperty(h)&&Qy(c,a,d[h],p)}return c}function Qy(o,a,c,d){o.hasOwnProperty(c)?o[c].push(a,d):o[c]=[a,d]}function ps(o,a,c,d,h,p,y,E){const C=pr(a,c);let S,b=a.inputs;!E&&null!=b&&(S=b[d])?(ev(o,c,S,d,h),Xs(a)&&function O2(o,a){const c=ai(a,o);16&c[Tt]||(c[Tt]|=64)}(c,a.index)):3&a.type&&(d=function rC(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=y?y(h,a.value||"",d):h,p.setProperty(C,d,h))}function nm(o,a,c,d){if(xh()){const h=null===d?null:{"":-1},p=function U2(o,a){const c=o.directiveRegistry;let d=null,h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];if(Np(a,y.selectors,!1))if(d||(d=[]),$i(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),Jy(o,a,E.length)}else d.unshift(y),Jy(o,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(o,c);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&M1(o,a,c,y,h,E),h&&function Xy(o,a,c){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new K(-301,!1);d.push(a[h],p)}}}(c,d,h)}c.mergedAttrs=Cu(c.mergedAttrs,c.attrs)}function M1(o,a,c,d,h,p){for(let b=0;b<d.length;b++)Wu(Gu(c,a),o,d[b].type);!function R1(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,d.length);for(let b=0;b<d.length;b++){const S=d[b];S.providersResolver&&S.providersResolver(S)}let y=!1,E=!1,C=nd(o,a,d.length,null);for(let b=0;b<d.length;b++){const S=d[b];c.mergedAttrs=Cu(c.mergedAttrs,S.hostAttrs),P1(o,c,a,C,S),mi(C,S,h),null!==S.contentQueries&&(c.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(c.flags|=64);const N=S.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),y=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),E=!0),C++}!function S1(o,a,c){const h=a.directiveEnd,p=o.data,y=a.attrs,E=[];let C=null,b=null;for(let S=a.directiveStart;S<h;S++){const N=p[S],V=c?c.get(N):null,ae=V?V.outputs:null;C=nC(N.inputs,S,C,V?V.inputs:null),b=nC(N.outputs,S,b,ae);const be=null===C||null===y||sh(a)?null:O1(C,S,y);E.push(be)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=8),C.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=C,a.outputs=b}(o,c,p)}function N1(o,a,c){const d=c.directiveStart,h=c.directiveEnd,p=c.index,y=function kI(){return ft.lFrame.currentDirectiveIndex}();try{Oo(p);for(let E=d;E<h;E++){const C=o.data[E],b=a[E];Tl(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&L2(C,b)}}finally{Oo(-1),Tl(y)}}function L2(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Jy(o,a,c){a.componentOffset=c,(o.components??=[]).push(a.index)}function mi(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;$i(a)&&(c[""]=o)}}function P1(o,a,c,d,h){o.data[d]=h;const p=h.factory||(h.factory=va(h.type)),y=new Ni(p,$i(h),td);o.blueprint[d]=y,c[d]=y,function F2(o,a,c,d,h){const p=h.hostBindings;if(p){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const E=~a.index;(function iC(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=E&&y.push(E),y.push(c,d,p)}}(o,a,d,nd(o,c,h.hostVars,St),h)}function gn(o,a,c,d,h,p){const y=pr(o,a);!function zr(o,a,c,d,h,p,y){if(null==p)o.removeAttribute(a,h,c);else{const E=null==y?W(p):y(p,d||"",h);o.setAttribute(a,h,E,c)}}(a[mt],y,p,o.value,c,d,h)}function _e(o,a,c,d,h,p){const y=p[a];if(null!==y)for(let E=0;E<y.length;)sC(d,c,y[E++],y[E++],y[E++])}function sC(o,a,c,d,h){const p=xr(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(d)&&(h=y[d].call(a,h)),null!==o.setInput?o.setInput(a,h,c,d):a[d]=h}finally{xr(p)}}function O1(o,a,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===d&&(d=[]);const y=o[p];for(let E=0;E<y.length;E+=2)if(y[E]===a){d.push(p,y[E+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function oC(o,a,c,d){return[o,!0,!1,a,null,0,d,c,null,null,null]}function rm(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d+1];if(-1!==p){const y=o.data[p];Nh(c[d]),y.contentQueries(2,a[p],p)}}}function ff(o,a){return o[Di]?o[So][Ai]=a:o[Di]=a,o[So]=a,a}function Qo(o,a,c){Nh(0);const d=xr(null);try{a(o,c)}finally{xr(d)}}function aC(o){return o[ya]||(o[ya]=[])}function uC(o){return o.cleanup||(o.cleanup=[])}function lC(o,a){const c=o[qr],d=c?c.get($o,null):null;d&&d.handleError(a)}function ev(o,a,c,d,h){for(let p=0;p<c.length;){const y=c[p++],E=c[p++];sC(o.data[y],a[y],d,E,h)}}function Jo(o,a,c){const d=Ou(a,o);!function Hl(o,a,c){o.setValue(a,c)}(o[mt],d,c)}function k1(o,a){const c=ai(a,o),d=c[ze];!function F1(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])}(d,c);const h=c[un];null!==h&&null===c[ws]&&(c[ws]=rf(h,c[qr])),tv(d,c,c[Mn])}function tv(o,a,c){ir(a);try{const d=o.viewQuery;null!==d&&Qo(1,d,c);const h=o.template;null!==h&&Wy(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&rm(o,a),o.staticViewQueries&&Qo(2,o.viewQuery,c);const p=o.components;null!==p&&function L1(o,a){for(let c=0;c<a.length;c++)k1(o,a[c])}(a,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[Tt]&=-5,Dl()}}let dC=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(c,d,h){const p=typeof Zone>"u"?null:Zone.current,y=function B_(o,a,c){const d=Object.create(vl);c&&(d.consumerAllowSignalWrites=!0),d.fn=o,d.schedule=a;const h=y=>{d.cleanupFn=y};return d.ref={notify:()=>k_(d),run:()=>{if(d.dirty=!1,d.hasRun&&!fl(d))return;d.hasRun=!0;const y=hl(d);try{d.cleanupFn(),d.cleanupFn=Ih,d.fn(h)}finally{Fp(d,y)}},cleanup:()=>d.cleanupFn()},d.ref}(c,b=>{this.all.has(b)&&this.queue.set(b,p)},h);let E;this.all.add(y),y.notify();const C=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=d?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=wt({token:o,providedIn:"root",factory:()=>new o})}return o})();function im(o,a,c){let d=c?o.styles:null,h=c?o.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?p=E:1==p?h=xe(h,E):2==p&&(d=xe(d,E+": "+a[++y]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}function pf(o,a,c,d,h=!1){for(;null!==c;){const p=a[c.index];null!==p&&d.push(sn(p)),Qn(p)&&hC(p,d);const y=c.type;if(8&y)pf(o,a,c.child,d);else if(32&y){const E=sy(c,a);let C;for(;C=E();)d.push(C)}else if(16&y){const E=uw(a,c);if(Array.isArray(E))d.push(...E);else{const C=Ua(a[Cn]);pf(C[ze],C,E,d,!0)}}c=h?c.projectionNext:c.next}return d}function hC(o,a){for(let c=Zn;c<o.length;c++){const d=o[c],h=d[ze].firstChild;null!==h&&pf(d[ze],d,h,a)}o[xi]!==o[un]&&a.push(o[xi])}function sm(o,a,c,d=!0){const h=a[nl],p=h.rendererFactory,y=h.afterRenderEventManager;p.begin?.(),y?.begin();try{fC(o,a,o.template,c)}catch(C){throw d&&lC(a,C),C}finally{p.end?.(),h.effectManager?.flush(),y?.end()}}function fC(o,a,c,d){const h=a[Tt];if(256!=(256&h)){a[nl].effectManager?.flush(),ir(a);try{Ah(a),function Mh(o){return ft.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Wy(o,a,c,2,d);const y=3==(3&h);if(y){const b=o.preOrderCheckHooks;null!==b&&no(a,b,null)}else{const b=o.preOrderHooks;null!==b&&ro(a,b,0,null),Zu(a,0)}if(function V1(o){for(let a=rc(o);null!==a;a=ql(a)){if(!a[il])continue;const c=a[Mo];for(let d=0;d<c.length;d++){j_(c[d])}}}(a),pC(a,2),null!==o.contentQueries&&rm(o,a),y){const b=o.contentCheckHooks;null!==b&&no(a,b)}else{const b=o.contentHooks;null!==b&&ro(a,b,1),Zu(a,1)}!function C1(o,a){const c=o.hostBindingOpCodes;if(null===c)return;const d=$y(a,os);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Oo(~p);else{const y=p,E=c[++h],C=c[++h];OI(E,y),d.dirty=!1;const b=hl(d);try{C(2,a[y])}finally{Fp(d,b)}}}}finally{null===a[os]&&Qw(a,os),Oo(-1)}}(o,a);const E=o.components;null!==E&&mC(a,E,0);const C=o.viewQuery;if(null!==C&&Qo(2,C,d),y){const b=o.viewCheckHooks;null!==b&&no(a,b)}else{const b=o.viewHooks;null!==b&&ro(a,b,2),Zu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Tt]&=-73,Il(a)}finally{Dl()}}}function pC(o,a){for(let c=rc(o);null!==c;c=ql(c))for(let d=Zn;d<c.length;d++)gC(c[d],a)}function Z1(o,a,c){gC(ai(a,o),c)}function gC(o,a){if(!function RI(o){return 128==(128&o[Tt])}(o))return;const c=o[ze],d=o[Tt];if(80&d&&0===a||1024&d||2===a)fC(c,o,c.template,o[Mn]);else if(o[Do]>0){pC(o,1);const h=c.components;null!==h&&mC(o,h,1)}}function mC(o,a,c){for(let d=0;d<a.length;d++)Z1(o,a[d],c)}class Ga{get rootNodes(){const a=this._lView,c=a[ze];return pf(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(a){this._lView[Mn]=a}get destroyed(){return 256==(256&this._lView[Tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[tn];if(Qn(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(ic(a,d),Ul(c,d))}this._attachedToViewContainer=!1}Va(this._lView[ze],this._lView)}onDestroy(a){!function Dh(o,a){if(256==(256&o[Tt]))throw new K(911,!1);null===o[qi]&&(o[qi]=[]),o[qi].push(a)}(this._lView,a)}markForCheck(){Fs(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tt]&=-129}reattach(){this._lView[Tt]|=128}detectChanges(){sm(this._lView[ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function SD(o,a){Gh(o,a,a[mt],2,null,null)}(this._lView[ze],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=a}}class j1 extends Ga{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;sm(a[ze],a,a[Mn],!1)}checkNoChanges(){}get context(){return null}}class za extends hc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Lt(a);return new mr(c,this.ngModule)}}function gf(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class Z2{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=Eu(d);const h=this.injector.get(a,pc,d);return h!==pc||c===pc?h:this.parentInjector.get(a,c,d)}}class mr extends Py{get inputs(){const a=this.componentDef,c=a.inputTransforms,d=gf(a.inputs);if(null!==c)for(const h of d)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return d}get outputs(){return gf(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function ah(o){return o.map(Qc).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let p=(h=h||this.ngModule)instanceof Hn?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Z2(a,p):a,E=y.get($g,null);if(null===E)throw new K(407,!1);const N={rendererFactory:E,sanitizer:y.get(Bw,null),effectManager:y.get(dC,null),afterRenderEventManager:y.get(jy,null)},V=E.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",ae=d?function b1(o,a,c,d){const p=d.get(qy,!1)||c===Es.ShadowDom,y=o.selectRootElement(a,p);return function tm(o){Yy(o)}(y),y}(V,d,this.componentDef.encapsulation,y):Cg(V,H,function q1(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(H)),nt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let me=null;null!==ae&&(me=rf(ae,y,!0));const Et=em(0,null,null,1,0,null,null,null,null,null,null),Rt=zy(null,Et,null,nt,null,null,N,V,y,null,me);let $t,vr;ir(Rt);try{const js=this.componentDef;let Rc,Q4=null;js.findHostDirectiveDefs?(Rc=[],Q4=new Map,js.findHostDirectiveDefs(js,Rc,Q4),Rc.push(js)):Rc=[js];const b0=function j2(o,a){const c=o[ze],d=ht;return o[d]=a,Ha(c,d,2,"#host",null)}(Rt,ae),J4=function q2(o,a,c,d,h,p,y){const E=h[ze];!function $1(o,a,c,d){for(const h of o)a.mergedAttrs=Cu(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(im(a,a.mergedAttrs,!0),null!==c&&dw(d,c,a))}(d,o,a,y);let C=null;null!==a&&(C=rf(a,h[qr]));const b=p.rendererFactory.createRenderer(a,c);let S=16;c.signals?S=4096:c.onPush&&(S=64);const N=zy(h,Xw(c),null,S,h[o.index],o,p,b,null,null,C);return E.firstCreatePass&&Jy(E,o,d.length-1),ff(h,N),h[o.index]=N}(b0,ae,js,Rc,Rt,N,V);vr=ku(Et,ht),ae&&function H1(o,a,c,d){if(d)_n(o,c,["ng-version",uf.full]);else{const{attrs:h,classes:p}=function v_(o){const a=[],c=[];let d=1,h=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===h?""!==p&&a.push(p,o[++d]):8===h&&c.push(p);else{if(!si(h))break;h=p}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&_n(o,c,h),p&&p.length>0&&lw(o,c,p.join(" "))}}(V,js,ae,d),void 0!==c&&function rd(o,a,c){const d=o.projection=[];for(let h=0;h<a.length;h++){const p=c[h];d.push(null!=p?Array.from(p):null)}}(vr,this.ngContentSelectors,c),$t=function Xo(o,a,c,d,h,p){const y=gr(),E=h[ze],C=pr(y,h);M1(E,h,y,c,null,d);for(let S=0;S<c.length;S++)gi(so(h,E,y.directiveStart+S,y),h);N1(E,h,y),C&&gi(C,h);const b=so(h,E,y.directiveStart+y.componentOffset,y);if(o[Mn]=h[Mn]=b,null!==p)for(const S of p)S(b,a);return Ko(E,y,o),b}(J4,js,Rc,Q4,Rt,[_C]),tv(Et,Rt,null)}finally{Dl()}return new mf(this.componentType,$t,fo(vr,Rt),Rt,vr)}}class mf extends u1{constructor(a,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new j1(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const p=this._rootLView;ev(p[ze],p,h,a,c),this.previousInputValues.set(a,c),Fs(ai(this._tNode.index,p))}}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function _C(){const o=gr();Ds(ge()[ze],o)}function vC(o){let a=function yC(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let h;if($i(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new K(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const y=o;y.inputs=id(o.inputs),y.inputTransforms=id(o.inputTransforms),y.declaredInputs=id(o.declaredInputs),y.outputs=id(o.outputs);const E=h.hostBindings;E&&G2(o,E);const C=h.viewQuery,b=h.contentQueries;if(C&&_i(o,C),b&&H2(o,b),Qe(o.inputs,h.inputs),Qe(o.declaredInputs,h.declaredInputs),Qe(o.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),Qe(y.inputTransforms,h.inputTransforms)),$i(h)&&h.data.animation){const S=o.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(o),E===vC&&(c=!1)}}a=Object.getPrototypeOf(a)}!function $2(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Cu(h.hostAttrs,c=Cu(c,h.hostAttrs))}}(d)}function id(o){return o===bi?{}:o===Zt?[]:o}function _i(o,a){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function H2(o,a){const c=o.contentQueries;o.contentQueries=c?(d,h,p)=>{a(d,h,p),c(d,h,p)}:a}function G2(o,a){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function sv(o){const a=o.inputConfig,c={};for(const d in a)if(a.hasOwnProperty(d)){const h=a[d];Array.isArray(h)&&h[2]&&(c[d]=h[2])}o.inputTransforms=c}function am(o){return!!ov(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function ov(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Bs(o,a,c){return o[a]=c}function Wr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Wa(o,a,c,d){const h=Wr(o,a,c);return Wr(o,a+1,d)||h}function av(o,a,c,d){const h=ge();return Wr(h,Bu(),a)&&(Ut(),gn(vn(),h,o,a,c,d)),av}function Ka(o,a,c,d){return Wr(o,Bu(),c)?a+W(c)+d:St}function yc(o,a,c,d,h,p){const E=Wa(o,function us(){return ft.lFrame.bindingIndex}(),c,h);return to(2),E?a+W(c)+d+W(h)+p:St}function hv(o,a,c,d,h,p,y,E){const C=ge(),b=Ut(),S=o+ht,N=b.firstCreatePass?function uS(o,a,c,d,h,p,y,E,C){const b=a.consts,S=Ha(a,o,4,y||null,Cs(b,E));nm(a,c,S,Cs(b,C)),Ds(a,S);const N=S.tView=em(2,S,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,b,null);return null!==a.queries&&(a.queries.template(a,S),N.queries=a.queries.embeddedTView(S)),S}(S,b,C,a,c,d,h,p,y):b.data[S];Ts(N,!1);const V=RC(b,C,N,o);Da()&&Ag(b,C,V,N),gi(V,C),ff(C,C[S]=oC(V,C,V,N)),xu(N)&&Ky(b,C,N),null!=y&&Xg(C,N,E)}let RC=function eu(o,a,c,d){return As(!0),a[mt].createComment("")};function kC(o){return Ca(function PI(){return ft.lFrame.contextLView}(),ht+o)}function na(o,a,c){const d=ge();return Wr(d,Bu(),a)&&ps(Ut(),vn(),d,o,a,d[mt],c,!1),na}function Ef(o,a,c,d,h){const y=h?"class":"style";ev(o,c,a.inputs[y],y,d)}function Ic(o,a,c,d){const h=ge(),p=Ut(),y=ht+o,E=h[mt],C=p.firstCreatePass?function fv(o,a,c,d,h,p){const y=a.consts,C=Ha(a,o,2,d,Cs(y,h));return nm(a,c,C,Cs(y,p)),null!==C.attrs&&im(C,C.attrs,!1),null!==C.mergedAttrs&&im(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(y,p,h,a,c,d):p.data[y],b=_m(p,h,C,E,a,o);h[y]=b;const S=xu(C);return Ts(C,!0),dw(E,b,C),32!=(32&C.flags)&&Da()&&Ag(p,h,b,C),0===function ba(){return ft.lFrame.elementDepthCount}()&&gi(b,h),function Sh(){ft.lFrame.elementDepthCount++}(),S&&(Ky(p,h,C),Ko(p,C,h)),null!==d&&Xg(h,C),Ic}function dd(){let o=gr();Lu()?Jp():(o=o.parent,Ts(o,!1));const a=o;(function wl(o){return ft.skipHydrationRootTNode===o})(a)&&function $_(){ft.skipHydrationRootTNode=null}(),function q_(){ft.lFrame.elementDepthCount--}();const c=Ut();return c.firstCreatePass&&(Ds(c,o),Su(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function cs(o){return 0!=(8&o.flags)}(a)&&Ef(c,a,ge(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function bn(o){return 0!=(16&o.flags)}(a)&&Ef(c,a,ge(),a.stylesWithoutHost,!1),dd}function If(o,a,c,d){return Ic(o,a,c,d),dd(),If}let _m=(o,a,c,d,h,p)=>(As(!0),Cg(d,h,function xl(){return ft.lFrame.currentNamespace}()));function hd(o,a,c){const d=ge(),h=Ut(),p=o+ht,y=h.firstCreatePass?function gv(o,a,c,d,h){const p=a.consts,y=Cs(p,d),E=Ha(a,o,8,"ng-container",y);return null!==y&&im(E,y,!0),nm(a,c,E,Cs(p,h)),null!==a.queries&&a.queries.elementStart(a,E),E}(p,h,d,a,c):h.data[p];Ts(y,!0);const E=LC(h,d,y,o);return d[p]=E,Da()&&Ag(h,d,E,y),gi(E,d),xu(y)&&(Ky(h,d,y),Ko(h,y,d)),null!=c&&Xg(d,y),hd}function ym(){let o=gr();const a=Ut();return Lu()?Jp():(o=o.parent,Ts(o,!1)),a.firstCreatePass&&(Ds(a,o),Su(o)&&a.queries.elementEnd(o)),ym}let LC=(o,a,c,d)=>(As(!0),oy(a[mt],""));function vm(){return ge()}function Em(o){return!!o&&"function"==typeof o.then}function _v(o){return!!o&&"function"==typeof o.subscribe}function yv(o,a,c,d){const h=ge(),p=Ut(),y=gr();return function BC(o,a,c,d,h,p,y){const E=xu(d),b=o.firstCreatePass&&uC(o),S=a[Mn],N=aC(a);let V=!0;if(3&d.type||y){const be=pr(d,a),je=y?y(be):be,nt=N.length,me=y?Rt=>y(sn(Rt[d.index])):d.index;let Et=null;if(!y&&E&&(Et=function vv(o,a,c,d){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===d){const E=a[ya],C=h[p+2];return E.length>C?E[C]:null}"string"==typeof y&&(p+=2)}return null}(o,a,h,d.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,V=!1;else{p=wm(d,a,S,p,!1);const Rt=c.listen(je,h,p);N.push(p,Rt),b&&b.push(h,me,nt,nt+1)}}else p=wm(d,a,S,p,!1);const H=d.outputs;let ae;if(V&&null!==H&&(ae=H[h])){const be=ae.length;if(be)for(let je=0;je<be;je+=2){const $t=a[ae[je]][ae[je+1]].subscribe(p),vr=N.length;N.push(p,$t),b&&b.push(h,d.index,vr,-(vr+1))}}}(p,h,h[mt],y,o,a,d),yv}function Im(o,a,c,d){try{return Mr(6,a,c),!1!==c(d)}catch(h){return lC(o,h),!1}finally{Mr(7,a,c)}}function wm(o,a,c,d,h){return function p(y){if(y===Function)return d;Fs(o.componentOffset>-1?ai(o.index,a):a);let C=Im(a,c,d,y),b=p.__ngNextListenerFn__;for(;b;)C=Im(a,c,b,y)&&C,b=b.__ngNextListenerFn__;return h&&!1===C&&y.preventDefault(),C}}function VC(o=1){return function Ro(o){return(ft.lFrame.contextLView=function Po(o,a){for(;o>0;)a=a[ss],o--;return a}(o,ft.lFrame.contextLView))[Mn]}(o)}function Cf(o,a,c){return Cm(o,"",a,"",c),Cf}function Cm(o,a,c,d,h){const p=ge(),y=Ka(p,a,c,d);return y!==St&&ps(Ut(),vn(),p,o,y,p[mt],h,!1),Cm}function Am(o,a){return o<<17|a<<2}function mo(o){return o>>17&32767}function wv(o){return 2|o}function fd(o){return(131068&o)>>2}function Tf(o,a){return-131069&o|a<<2}function WC(o){return 1|o}function QC(o,a,c,d,h){const p=o[c+1],y=null===a;let E=d?mo(p):fd(p),C=!1;for(;0!==E&&(!1===C||y);){const S=o[E+1];pS(o[E],a)&&(C=!0,o[E+1]=d?WC(S):wv(S)),E=d?mo(S):fd(S)}C&&(o[c+1]=d?wv(p):WC(p))}function pS(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&I(o,a)>=0}function bv(o,a){return function yo(o,a,c,d){const h=ge(),p=Ut(),y=to(2);p.firstUpdatePass&&function vS(o,a,c,d){const h=o.data;if(null===h[c+1]){const p=h[pt()],y=function bf(o,a){return a>=o.expandoStartIndex}(o,c);(function rT(o,a){return 0!=(o.flags&(a?8:16))})(p,d)&&null===a&&!y&&(a=!1),a=function ES(o,a,c,d){const h=function rr(o){const a=ft.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=Af(c=Dv(null,o,a,c,d),a.attrs,d),p=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==h)if(c=Dv(h,o,a,c,d),null===p){let C=function IS(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==fd(d))return o[mo(d)]}(o,a,d);void 0!==C&&Array.isArray(C)&&(C=Dv(null,o,a,C[1],d),C=Af(C,a.attrs,d),function wS(o,a,c,d){o[mo(c?a.classBindings:a.styleBindings)]=d}(o,a,d,C))}else p=function CS(o,a,c){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=Af(d,o[p].hostAttrs,c);return Af(d,a.attrs,c)}(o,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,d),function YC(o,a,c,d,h,p){let y=p?a.classBindings:a.styleBindings,E=mo(y),C=fd(y);o[d]=c;let S,b=!1;if(Array.isArray(c)?(S=c[1],(null===S||I(c,S)>0)&&(b=!0)):S=c,h)if(0!==C){const V=mo(o[E+1]);o[d+1]=Am(V,E),0!==V&&(o[V+1]=Tf(o[V+1],d)),o[E+1]=function Iv(o,a){return 131071&o|a<<17}(o[E+1],d)}else o[d+1]=Am(E,0),0!==E&&(o[E+1]=Tf(o[E+1],d)),E=d;else o[d+1]=Am(C,0),0===E?E=d:o[C+1]=Tf(o[C+1],d),C=d;b&&(o[d+1]=wv(o[d+1])),QC(o,S,d,!0),QC(o,S,d,!1),function fS(o,a,c,d,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&I(p,a)>=0&&(c[d+1]=WC(c[d+1]))}(a,S,o,d,p),y=Am(E,C),p?a.classBindings=y:a.styleBindings=y}(h,p,a,c,y,d)}}(p,o,y,d),a!==St&&Wr(h,y,a)&&function Df(o,a,c,d,h,p,y,E){if(!(3&a.type))return;const C=o.data,b=C[E+1],S=function Y2(o){return 1==(1&o)}(b)?tu(C,a,c,h,fd(b),y):void 0;xm(S)||(xm(p)||function hS(o){return 2==(2&o)}(b)&&(p=tu(C,null,c,h,E,y)),function LD(o,a,c,d,h){if(a)h?o.addClass(c,d):o.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:jl.DashCase;null==h?o.removeStyle(c,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=jl.Important),o.setStyle(c,d,h,p))}}(d,y,Ou(pt(),c),h,p))}(p,p.data[pt()],h,h[mt],o,h[y+1]=function DS(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Be(Bo(o)))),o}(a,c),d,y)}(o,a,null,!0),bv}function Dv(o,a,c,d,h){let p=null;const y=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<y&&(p=a[E],d=Af(d,p.hostAttrs,h),p!==o);)E++;return null!==o&&(c.directiveStylingLast=E),d}function Af(o,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?h=y:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),di(o,y,!!c||a[++p]))}return void 0===o?null:o}function tu(o,a,c,d,h,p){const y=null===a;let E;for(;h>0;){const C=o[h],b=Array.isArray(C),S=b?C[1]:C,N=null===S;let V=c[h+1];V===St&&(V=N?Zt:void 0);let H=N?ao(V,d):S===d?V:void 0;if(b&&!xm(H)&&(H=ao(C,d)),xm(H)&&(E=H,y))return E;const ae=o[h+1];h=y?mo(ae):fd(ae)}if(null!==a){let C=p?a.residualClasses:a.residualStyles;null!=C&&(E=ao(C,d))}return E}function xm(o){return void 0!==o}function iT(o,a=""){const c=ge(),d=Ut(),h=o+ht,p=d.firstCreatePass?Ha(d,h,1,a,null):d.data[h],y=sT(d,c,p,a,o);c[h]=y,Da()&&Ag(d,c,y,p),Ts(p,!1)}let sT=(o,a,c,d,h)=>(As(!0),function Ba(o,a){return o.createText(a)}(a[mt],d));function Sf(o){return Mm("",o,""),Sf}function Mm(o,a,c){const d=ge(),h=Ka(d,o,a,c);return h!==St&&Jo(d,pt(),h),Mm}function xf(o,a,c,d,h){const p=ge(),y=yc(p,o,a,c,d,h);return y!==St&&Jo(p,pt(),y),xf}const sa=void 0;var vT=["en",[["a","p"],["AM","PM"],sa],[["AM","PM"],sa,sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sa,"{1} 'at' {0}",sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LS(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let gd={};function Bv(o){const a=function CT(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=nu(a);if(c)return c;const d=a.split("-")[0];if(c=nu(d),c)return c;if("en"===d)return vT;throw new K(701,!1)}function IT(o){return Bv(o)[ru.PluralCase]}function nu(o){return o in gd||(gd[o]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[o]),gd[o]}var ru=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(ru||{});const iu="en-US";let TT=iu;function Xv(o,a,c,d,h){if(o=we(o),Array.isArray(o))for(let p=0;p<o.length;p++)Xv(o[p],a,c,d,h);else{const p=Ut(),y=ge(),E=gr();let C=Yi(o)?o:we(o.provide);const b=Sw(o),S=1048575&E.providerIndexes,N=E.directiveStart,V=E.providerIndexes>>20;if(Yi(o)||!o.multi){const H=new Ni(b,h,td),ae=Of(C,a,h?S:S+V,N);-1===ae?(Wu(Gu(E,y),p,C),Pf(p,o,a.length),a.push(C),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(H),y.push(H)):(c[ae]=H,y[ae]=H)}else{const H=Of(C,a,S+V,N),ae=Of(C,a,S,S+V),je=ae>=0&&c[ae];if(h&&!je||!h&&!(H>=0&&c[H])){Wu(Gu(E,y),p,C);const nt=function fx(o,a,c,d,h){const p=new Ni(o,c,td);return p.multi=[],p.index=a,p.componentProviders=0,KT(p,h,d&&!c),p}(h?e4:YT,c.length,h,d,b);!h&&je&&(c[ae].providerFactory=nt),Pf(p,o,a.length,0),a.push(C),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(nt),y.push(nt)}else Pf(p,o,H>-1?H:ae,KT(c[h?ae:H],b,!h&&d));!h&&d&&je&&c[ae].componentProviders++}}}function Pf(o,a,c,d){const h=Yi(a),p=function uo(o){return!!o.useClass}(a);if(h||p){const C=(p?we(a.useClass):a).prototype.ngOnDestroy;if(C){const b=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const S=b.indexOf(c);-1===S?b.push(c,[d,C]):b[S+1].push(d,C)}else b.push(c,C)}}}function KT(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Of(o,a,c,d){for(let h=c;h<d;h++)if(a[h]===o)return h;return-1}function YT(o,a,c,d){return t4(this.multi,[])}function e4(o,a,c,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=so(c,c[ze],this.providerFactory.index,d);p=E.slice(0,y),t4(h,p);for(let C=y;C<E.length;C++)p.push(E[C])}else p=[],t4(h,p);return p}function t4(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function QT(o,a=[]){return c=>{c.providersResolver=(d,h)=>function hx(o,a,c){const d=Ut();if(d.firstCreatePass){const h=$i(o);Xv(c,d.data,d.blueprint,h,!0),Xv(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class oa{}class JT{}function n4(o,a){return new kf(o,a??null,[])}class kf extends oa{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new za(this);const h=Dr(a);this._bootstrapComponents=zo(h.bootstrap),this._r3Injector=cf(a,c,[{provide:oa,useValue:this},{provide:hc,useValue:this.componentFactoryResolver},...d],Be(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class r4 extends JT{constructor(a){super(),this.moduleType=a}create(a){return new kf(this.moduleType,a,[])}}class XT extends oa{constructor(a){super(),this.componentFactoryResolver=new za(this),this.instance=null;const c=new Qi([...a.providers,{provide:oa,useValue:this},{provide:hc,useValue:this.componentFactoryResolver}],a.parent||kg(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Zm(o,a,c=null){return new XT({providers:o,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let px=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=Tw(0,c.type),h=d.length>0?Zm([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=wt({token:o,providedIn:"environment",factory:()=>new o(an(Hn))})}return o})();function jm(o){o.getStandaloneInjector=a=>a.get(px).getOrCreateStandaloneInjector(o)}function yx(o,a,c,d){return Cx(ge(),Nr(),o,a,c,d)}function bc(o,a){const c=o[a];return c===St?void 0:c}function Cx(o,a,c,d,h,p){const y=a+c;return Wr(o,y,h)?Bs(o,y+1,p?d.call(p,h):d(h)):bc(o,y+1)}function Dx(o,a){const c=Ut();let d;const h=o+ht;c.firstCreatePass?(d=function ib(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks??=[]).push(h,d.onDestroy)):d=c.data[h];const p=d.factory||(d.factory=va(d.type)),E=Vt(td);try{const C=li(!1),b=p();return li(C),function cS(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,ge(),h,b),b}finally{Vt(E)}}function sb(o,a,c){const d=o+ht,h=ge(),p=Ca(h,d);return Ac(h,d)?Cx(h,Nr(),a,p.transform,c,p):p.transform(c)}function Ff(o,a,c,d){const h=o+ht,p=ge(),y=Ca(p,h);return Ac(p,h)?function Tx(o,a,c,d,h,p,y){const E=a+c;return Wa(o,E,h,p)?Bs(o,E+2,y?d.call(y,h,p):d(h,p)):bc(o,E+2)}(p,Nr(),a,y.transform,c,d,y):y.transform(c,d)}function Ac(o,a){return o[ze].data[a].pure}function Lf(){return this._results[Symbol.iterator]()}class Gm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ho)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Gm.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=Lf)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function Pr(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ll(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],p=a[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function dF(o,a,c,d=!0){const h=a[ze];if(function u2(o,a,c,d){const h=Zn+d,p=c.length;d>0&&(c[h-1][Ai]=a),d<p-Zn?(a[Ai]=c[h],Vh(c,Zn+d,a)):(c.push(a),a[Ai]=null),a[tn]=c;const y=a[rl];null!==y&&c!==y&&function MD(o,a){const c=o[Mo];a[Cn]!==a[tn][tn][Cn]&&(o[il]=!0),null===c?o[Mo]=[a]:c.push(a)}(y,a);const E=a[Is];null!==E&&E.insertView(o),a[Tt]|=128}(h,a,o,c),d){const p=$h(c,o),y=a[mt],E=Tg(y,o[xi]);null!==E&&function DD(o,a,c,d,h,p){d[un]=h,d[En]=a,Gh(o,d,c,1,h,p)}(h,o[En],y,a,E,p)}}let zm=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Wm}return o})();const Uf=zm,Ed=class extends Uf{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,d){const h=function Nx(o,a,c,d){const h=a.tView,E=zy(o,h,c,4096&o[Tt]?4096:16,null,a,null,null,null,d?.injector??null,d?.hydrationInfo??null);E[rl]=o[a.index];const b=o[Is];return null!==b&&(E[Is]=b.createEmbeddedView(h)),tv(h,E,c),E}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:d});return new Ga(h)}};function Wm(){return Id(gr(),ge())}function Id(o,a){return 4&o.type?new Ed(a,o,fo(o,a)):null}let Cd=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Td}return o})();function Td(){return cb(gr(),ge())}const ab=Cd,ub=class extends ab{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return fo(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){const a=zu(this._hostTNode,this._hostLView);if($r(a)){const c=io(a,this._hostLView),d=qn(a);return new Rr(c[ze].data[d+8],c)}return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Jm(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Zn}createEmbeddedView(a,c,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const E=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(E,h,false),E}createComponent(a,c,d,h,p){const y=a&&!function Fo(o){return"function"==typeof o}(a);let E;if(y)E=c;else{const be=c||{};E=be.index,d=be.injector,h=be.projectableNodes,p=be.environmentInjector||be.ngModuleRef}const C=y?a:new mr(Lt(a)),b=d||this.parentInjector;if(!p&&null==C.ngModule){const je=(y?b:this.parentInjector).get(Hn,null);je&&(p=je)}Lt(C.componentType??{});const H=C.create(b,h,null,p);return this.insertImpl(H.hostView,E,false),H}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const h=a._lView;if(function jn(o){return Qn(o[tn])}(h)){const C=this.indexOf(a);if(-1!==C)this.detach(C);else{const b=h[tn],S=new ub(b,b[En],b[tn]);S.detach(S.indexOf(a))}}const y=this._adjustIndex(c),E=this._lContainer;return dF(E,h,y,!d),a.attachToViewContainerRef(),Vh(ua(E),y,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Jm(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=ic(this._lContainer,c);d&&(Ul(ua(this._lContainer),c),Va(d[ze],d))}detach(a){const c=this._adjustIndex(a,-1),d=ic(this._lContainer,c);return d&&null!=Ul(ua(this._lContainer),c)?new Ga(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function Jm(o){return o[8]}function ua(o){return o[8]||(o[8]=[])}function cb(o,a){let c;const d=a[o.index];return Qn(d)?c=d:(c=oC(d,a,null,o),a[o.index]=c,ff(a,c)),Px(c,a,o,d),new ub(c,o,a)}let Px=function Ox(o,a,c,d){if(o[xi])return;let h;h=8&c.type?sn(d):function Dc(o,a){const c=o[mt],d=c.createComment(""),h=pr(a,o);return sc(c,Tg(c,h),d,function bg(o,a){return o.nextSibling(a)}(c,h),!1),d}(a,c),o[xi]=h};class m4{constructor(a){this.queryList=a,this.matches=null}clone(){return new m4(this.queryList)}setDirty(){this.queryList.setDirty()}}class Oi{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Oi(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==$x(a,c).matches&&this.queries[c].setDirty()}}class Sc{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Xm{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new Xm(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class db{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new db(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,c,Fx(c,p)),this.matchTNodeWithReadOption(a,c,Hr(c,a,p,!1,!1))}else d===zm?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Hr(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===fc||h===Cd||h===zm&&4&c.type)this.addMatch(c.index,-2);else{const p=Hr(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Fx(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function Lx(o,a,c,d){return-1===c?function _4(o,a){return 11&o.type?fo(o,a):4&o.type?Id(o,a):null}(a,o):-2===c?function Ux(o,a,c){return c===fc?fo(a,o):c===zm?Id(a,o):c===Cd?cb(a,o):void 0}(o,a,d):so(o,o[ze],c,a)}function hb(o,a,c,d){const h=a[Is].queries[d];if(null===h.matches){const p=o.data,y=c.matches,E=[];for(let C=0;C<y.length;C+=2){const b=y[C];E.push(b<0?null:Lx(a,p[b],y[C+1],c.metadata.read))}h.matches=E}return h.matches}function y4(o,a,c,d){const h=o.queries.getByIndex(c),p=h.matches;if(null!==p){const y=hb(o,a,h,c);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)d.push(y[E/2]);else{const b=p[E+1],S=a[-C];for(let N=Zn;N<S.length;N++){const V=S[N];V[rl]===V[tn]&&y4(V[ze],V,b,d)}if(null!==S[Mo]){const N=S[Mo];for(let V=0;V<N.length;V++){const H=N[V];y4(H[ze],H,b,d)}}}}}return d}function fb(o){const a=ge(),c=Ut(),d=bs();Nh(d+1);const h=$x(c,d);if(o.dirty&&function Fu(o){return 4==(4&o[Tt])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?y4(c,a,d,[]):hb(c,a,h,d);o.reset(p,l1),o.notifyOnChanges()}return!0}return!1}function Bx(o,a,c,d){const h=Ut();if(h.firstCreatePass){const p=gr();(function qx(o,a,c){null===o.queries&&(o.queries=new Xm),o.queries.track(new db(a,c))})(h,new Sc(a,c,d),p.index),function mF(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}!function jx(o,a,c){const d=new Gm(4==(4&c));(function D1(o,a,c,d){const h=aC(a);h.push(c),o.firstCreatePass&&uC(o).push(d,h.length-1)})(o,a,d,d.destroy),null===a[Is]&&(a[Is]=new Oi),a[Is].queries.push(new m4(d))}(h,ge(),c)}function Vx(){return function Zx(o,a){return o[Is].queries[a].queryList}(ge(),bs())}function $x(o,a){return o.queries.getByIndex(a)}function v4(o,a){return Id(o,a)}function pb(o){return!!Dr(o)}const t0=new Nt("Application Initializer");let n0=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=Xt(t0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const p=h();if(Em(p))c.push(p);else if(_v(p)){const y=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});c.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),vb=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const r0=new Nt("LocaleId",{providedIn:"root",factory:()=>Xt(r0,yt.Optional|yt.SkipSelf)||function Rn(){return typeof $localize<"u"&&$localize.locale||iu}()}),s0=new Nt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ib=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class wb{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let uM=(()=>{class o{compileModuleSync(c){return new r4(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=zo(Dr(c).declarations).reduce((y,E)=>{const C=Lt(E);return C&&y.push(new mr(C)),y},[]);return new wb(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const c0=new Nt(""),Db=new Nt("");let jf,x4=(()=>{class o{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jf||(function M4(o){jf=o}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}static#e=this.\u0275fac=function(d){return new(d||o)(an(Jn),an(l0),an(Db))};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac})}return o})(),l0=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return jf?.findTestabilityInTree(this,c,d)??null}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),su=null;const Sb=new Nt("AllowMultipleToken"),N4=new Nt("PlatformDestroyListeners"),Ad=new Nt("appBootstrapListener");class O4{constructor(a,c){this.name=a,this.token=c}}function F4(o,a,c=[]){const d=`Platform: ${a}`,h=new Nt(d);return(p=[])=>{let y=L4();if(!y||y.injector.get(Sb,!1)){const E=[...c,...p,{provide:h,useValue:!0}];o?o(E):function xb(o){if(su&&!su.get(Sb,!1))throw new K(400,!1);(function d0(){!function DI(o){Up=o}(()=>{throw new K(600,!1)})})(),su=o;const a=o.get(Nb);(function k4(o){o.get(Sy,null)?.forEach(c=>c())})(o)}(function Mb(o=[],a){return Os.create({name:a,providers:[{provide:by,useValue:"platform"},{provide:N4,useValue:new Set([()=>su=null])},...o]})}(E,d))}return function EM(o){const a=L4();if(!a)throw new K(401,!1);return a}()}}function L4(){return su?.get(Nb)??null}let Nb=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function IM(o="zone.js",a){return"noop"===o?new Go:"zone.js"===o?new Jn(a):o}(d?.ngZone,function Rb(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function i4(o,a,c){return new kf(o,a,c)}(c.moduleType,this.injector,function B4(o){return[{provide:Jn,useFactory:o},{provide:Xh,multi:!0,useFactory:()=>{const a=Xt(CM,{optional:!0});return()=>a.initialize()}},{provide:h0,useFactory:wM},{provide:_1,useFactory:$w}]}(()=>h)),y=p.injector.get($o,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:C=>{y.handleError(C)}});p.onDestroy(()=>{$f(this._modules,p),E.unsubscribe()})}),function Pb(o,a,c){try{const d=c();return Em(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(y,h,()=>{const E=p.injector.get(n0);return E.runInitializers(),E.donePromise.then(()=>(function Rm(o){At(o,"Expected localeId to be defined"),"string"==typeof o&&(TT=o.toLowerCase().replace(/_/g,"-"))}(p.injector.get(r0,iu)||iu),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,d=[]){const h=Ob({},d);return function R4(o,a,c){const d=new r4(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(ca);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new K(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(N4,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||o)(an(Os))};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function Ob(o,a){return Array.isArray(a)?a.reduce(Ob,o):{...o,...a}}let ca=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xt(h0),this.zoneIsStable=Xt(_1),this.componentTypes=[],this.components=[],this.isStable=Xt(Ib).hasPendingTasks.pipe((0,Ue.w)(c=>c?(0,ye.of)(!1):this.zoneIsStable),function re(o,a=Se.y){return o=o??Oe,(0,B.e)((c,d)=>{let h,p=!0;c.subscribe((0,Z.x)(d,y=>{const E=a(y);(p||!o(h,E))&&(p=!1,h=E,d.next(y))}))})}(),(0,Re.B)()),this._injector=Xt(Hn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof Py;if(!this._injector.get(n0).done)throw!h&&jr(c),new K(405,!1);let y;y=h?c:this._injector.get(hc).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const E=function P4(o){return o.isBoundToModule}(y)?void 0:this._injector.get(oa),b=y.create(Os.NULL,[],d||y.selector,E),S=b.location.nativeElement,N=b.injector.get(c0,null);return N?.registerApplication(S),b.onDestroy(()=>{this.detachView(b.hostView),$f(this.components,b),N?.unregisterApplication(S)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;$f(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Ad,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>$f(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new K(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function $f(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}const h0=new Nt("",{providedIn:"root",factory:()=>Xt($o).handleError.bind(void 0)});function wM(){const o=Xt(Jn),a=Xt($o);return c=>o.runOutsideAngular(()=>a.handleError(c))}let CM=(()=>{class o{constructor(){this.zone=Xt(Jn),this.applicationRef=Xt(ca)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Fb(){return!1}let $F=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=HF}return o})();function HF(o){return function V4(o,a,c){if(Xs(o)&&!c){const d=ai(o.index,a);return new Ga(d,d)}return 47&o.type?new Ga(a[Cn],a):null}(gr(),ge(),16==(16&o))}class SM{constructor(){}supports(a){return am(a)}create(a){return new xM(a)}}const KF=(o,a)=>a;class xM{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||KF}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<bt(d,h,p)?c:d,E=bt(y,h,p),C=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const b=E-h,S=C-h;if(b!=S){for(let V=0;V<b;V++){const H=V<p.length?p[V]:p[V]=0,ae=H+V;S<=ae&&ae<b&&(p[V]=H+1)}p[y.previousIndex]=S-b}}E!==C&&a(y,E,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!am(a))throw new K(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],y=this._trackByFn(E,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,E)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,E),d=!0),c=c._next}else h=0,function IC(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,E=>{y=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,E,y,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new Vs(c,d),p,h),a}_verifyReinsertion(a,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new g0),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new g0),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Vs{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class He{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class g0{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new He,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bt(o,a,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class Hf{constructor(){}supports(a){return a instanceof Map||ov(a)}create(){return new Gf}}class Gf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||ov(a)))throw new K(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new MM(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class MM{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m0(){return new q4([new SM])}let q4=(()=>{class o{static#e=this.\u0275prov=wt({token:o,providedIn:"root",factory:m0});constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||m0()),deps:[[o,new Gi,new sr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new K(901,!1)}}return o})();function qb(){return new _r([new Hf])}let _r=(()=>{class o{static#e=this.\u0275prov=wt({token:o,providedIn:"root",factory:qb});constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||qb()),deps:[[o,new Gi,new sr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new K(901,!1)}}return o})();const $b=F4(null,"core",[]);let $4=(()=>{class o{constructor(c){}static#e=this.\u0275fac=function(d){return new(d||o)(an(ca))};static#t=this.\u0275mod=Au({type:o});static#n=this.\u0275inj=Vr({})}return o})();function OM(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function Y4(o){const a=Lt(o);if(!a)return null;const c=new mr(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(st,Ee,P)=>{P.d(Ee,{Z:()=>Qe});var s=P(9058),L=P(4537),ie=P(7592),se=P(7879);class he{constructor(xe,Ae){this._delegate=xe,this.firebase=Ae,(0,ie._addComponent)(xe,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(xe,Ae=ie._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(xe);return!we.isInitialized()&&"EXPLICIT"===(null===(Je=we.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&we.initialize(),we.getImmediate({identifier:Ae})}_removeServiceInstance(xe,Ae=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Ae)}_addComponent(xe){(0,ie._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,ie._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function Se(){const Be=function Ue(Be){const xe={},Ae={__esModule:!0,initializeApp:function Te(K,k={}){const W=ie.initializeApp(K,k);if((0,s.r3)(xe,W.name))return xe[W.name];const pe=new Be(W,Ae);return xe[W.name]=pe,pe},app:we,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function ve(K){const k=K.name,W=k.replace("-compat","");if(ie._registerComponent(K)&&"PUBLIC"===K.type){const pe=(Mt=we())=>{if("function"!=typeof Mt[W])throw Re.create("invalid-app-argument",{appName:k});return Mt[W]()};void 0!==K.serviceProps&&(0,s.ZB)(pe,K.serviceProps),Ae[W]=pe,Be.prototype[W]=function(...Mt){return this._getService.bind(this,k).apply(this,K.multipleInstances?Mt:[])}}return"PUBLIC"===K.type?Ae[W]:null},removeApp:function Je(K){delete xe[K]},useAsService:function Me(K,k){return"serverAuth"===k?null:k},modularAPIs:ie}};function we(K){if(!(0,s.r3)(xe,K=K||ie._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:K});return xe[K]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ce(){return Object.keys(xe).map(K=>xe[K])}}),we.App=Be,Ae}(he);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function xe(Ae){(0,s.ZB)(Be,Ae)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Be}(),Z=new se.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=B;!function ue(Be){(0,ie.registerVersion)("@firebase/app-compat","0.2.13",Be)}()},7592:(st,Ee,P)=>{P.r(Ee),P.d(Ee,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Ur,_DEFAULT_ENTRY_NAME:()=>Y,_addComponent:()=>de,_addOrOverwriteComponent:()=>Ne,_apps:()=>oe,_clearComponents:()=>dt,_components:()=>J,_getProvider:()=>Ft,_registerComponent:()=>ut,_removeServiceInstance:()=>on,deleteApp:()=>Vr,getApp:()=>wt,getApps:()=>br,initializeApp:()=>Br,onLog:()=>ma,registerVersion:()=>ii,setLogLevel:()=>Ys});var s=P(5861),L=P(4537),ie=P(7879),se=P(9058),he=P(1878);class ye{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function Re(qe){const fe=qe.getComponent();return"VERSION"===fe?.type}(We)){const ct=We.getImmediate();return`${ct.library}/${ct.version}`}return null}).filter(We=>We).join(" ")}}const Ue="@firebase/app",B=new ie.Yd("@firebase/app"),Y="[DEFAULT]",te={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oe=new Map,J=new Map;function de(qe,fe){try{qe.container.addComponent(fe)}catch(We){B.debug(`Component ${fe.name} failed to register with FirebaseApp ${qe.name}`,We)}}function Ne(qe,fe){qe.container.addOrOverwriteComponent(fe)}function ut(qe){const fe=qe.name;if(J.has(fe))return B.debug(`There were multiple attempts to register component ${fe}.`),!1;J.set(fe,qe);for(const We of oe.values())de(We,qe);return!0}function Ft(qe,fe){const We=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),qe.container.getProvider(fe)}function on(qe,fe,We=Y){Ft(qe,fe).clearInstance(We)}function dt(){J.clear()}const Ze=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nn{constructor(fe,We,ct){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}}const Ur="9.23.0";function Br(qe,fe={}){let We=qe;"object"!=typeof fe&&(fe={name:fe});const ct=Object.assign({name:Y,automaticDataCollectionEnabled:!1},fe),zt=ct.name;if("string"!=typeof zt||!zt)throw Ze.create("bad-app-name",{appName:String(zt)});if(We||(We=(0,se.aH)()),!We)throw Ze.create("no-options");const Qt=oe.get(zt);if(Qt){if((0,se.vZ)(We,Qt.options)&&(0,se.vZ)(ct,Qt.config))return Qt;throw Ze.create("duplicate-app",{appName:zt})}const nr=new L.H0(zt);for(const F of J.values())nr.addComponent(F);const U=new nn(We,ct,nr);return oe.set(zt,U),U}function wt(qe=Y){const fe=oe.get(qe);if(!fe&&qe===Y&&(0,se.aH)())return Br();if(!fe)throw Ze.create("no-app",{appName:qe});return fe}function br(){return Array.from(oe.values())}function Vr(qe){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*(qe){const fe=qe.name;oe.has(fe)&&(oe.delete(fe),yield Promise.all(qe.container.getProviders().map(We=>We.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function ii(qe,fe,We){var ct;let zt=null!==(ct=te[qe])&&void 0!==ct?ct:qe;We&&(zt+=`-${We}`);const Qt=zt.match(/\s|\//),nr=fe.match(/\s|\//);if(Qt||nr){const U=[`Unable to register library "${zt}" with version "${fe}":`];return Qt&&U.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Qt&&nr&&U.push("and"),nr&&U.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void B.warn(U.join(" "))}ut(new L.wA(`${zt}-version`,()=>({library:zt,version:fe}),"VERSION"))}function ma(qe,fe){if(null!==qe&&"function"!=typeof qe)throw Ze.create("invalid-log-argument");(0,ie.Am)(qe,fe)}function Ys(qe){(0,ie.Ub)(qe)}const es="firebase-heartbeat-database",Yn=1,Ct="firebase-heartbeat-store";let Ot=null;function Zr(){return Ot||(Ot=(0,he.X3)(es,Yn,{upgrade:(qe,fe)=>{0===fe&&qe.createObjectStore(Ct)}}).catch(qe=>{throw Ze.create("idb-open",{originalErrorMessage:qe.message})})),Ot}function dr(){return(dr=(0,s.Z)(function*(qe){try{return yield(yield Zr()).transaction(Ct).objectStore(Ct).get(ns(qe))}catch(fe){if(fe instanceof se.ZR)B.warn(fe.message);else{const We=Ze.create("idb-get",{originalErrorMessage:fe?.message});B.warn(We.message)}}})).apply(this,arguments)}function ts(qe,fe){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(qe,fe){try{const ct=(yield Zr()).transaction(Ct,"readwrite");yield ct.objectStore(Ct).put(fe,ns(qe)),yield ct.done}catch(We){if(We instanceof se.ZR)B.warn(We.message);else{const ct=Ze.create("idb-set",{originalErrorMessage:We?.message});B.warn(ct.message)}}})).apply(this,arguments)}function ns(qe){return`${qe.name}!${qe.options.appId}`}class Gt{constructor(fe){this.container=fe,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new _a(We),this._heartbeatsCachePromise=this._storage.read().then(ct=>(this._heartbeatsCache=ct,ct))}triggerHeartbeat(){var fe=this;return(0,s.Z)(function*(){const ct=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=zc();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==zt&&!fe._heartbeatsCache.heartbeats.some(Qt=>Qt.date===zt))return fe._heartbeatsCache.heartbeats.push({date:zt,agent:ct}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(Qt=>{const nr=new Date(Qt.date).valueOf();return Date.now()-nr<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,s.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const We=zc(),{heartbeatsToSend:ct,unsentEntries:zt}=function Nt(qe,fe=1024){const We=[];let ct=qe.slice();for(const zt of qe){const Qt=We.find(nr=>nr.agent===zt.agent);if(Qt){if(Qt.dates.push(zt.date),Ci(We)>fe){Qt.dates.pop();break}}else if(We.push({agent:zt.agent,dates:[zt.date]}),Ci(We)>fe){We.pop();break}ct=ct.slice(1)}return{heartbeatsToSend:We,unsentEntries:ct}}(fe._heartbeatsCache.heartbeats),Qt=(0,se.L)(JSON.stringify({version:2,heartbeats:ct}));return fe._heartbeatsCache.lastSentHeartbeatDate=We,zt.length>0?(fe._heartbeatsCache.heartbeats=zt,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),Qt})()}}function zc(){return(new Date).toISOString().substring(0,10)}class _a{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,s.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function yt(qe){return dr.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var We=this;return(0,s.Z)(function*(){var ct;if(yield We._canUseIndexedDBPromise){const Qt=yield We.read();return ts(We.app,{lastSentHeartbeatDate:null!==(ct=fe.lastSentHeartbeatDate)&&void 0!==ct?ct:Qt.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var We=this;return(0,s.Z)(function*(){var ct;if(yield We._canUseIndexedDBPromise){const Qt=yield We.read();return ts(We.app,{lastSentHeartbeatDate:null!==(ct=fe.lastSentHeartbeatDate)&&void 0!==ct?ct:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...fe.heartbeats]})}})()}}function Ci(qe){return(0,se.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function rs(qe){ut(new L.wA("platform-logger",fe=>new ye(fe),"PRIVATE")),ut(new L.wA("heartbeat",fe=>new Gt(fe),"PRIVATE")),ii(Ue,"0.9.13",qe),ii(Ue,"0.9.13","esm2017"),ii("fire-js","")}("")},120:(st,Ee,P)=>{P.d(Ee,{Z:()=>s.Z});var s=P(3399);s.Z.registerVersion("firebase","9.23.0","app-compat")},4537:(st,Ee,P)=>{P.d(Ee,{H0:()=>Ue,wA:()=>ie});var s=P(5861),L=P(9058);class ie{constructor(B,Z,re){this.name=B,this.instanceFactory=Z,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const se="[DEFAULT]";class he{constructor(B,Z){this.name=B,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const Z=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(Z)){const re=new L.BH;if(this.instancesDeferred.set(Z,re),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:Z});Oe&&re.resolve(Oe)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(B){var Z;const re=this.normalizeInstanceIdentifier(B?.identifier),Oe=null!==(Z=B?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(ue){if(Oe)return null;throw ue}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function Re(Se){return"EAGER"===Se.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Z,re]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(Z);try{const ue=this.getOrInitializeService({instanceIdentifier:Oe});re.resolve(ue)}catch{}}}}clearInstance(B=se){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,s.Z)(function*(){const Z=Array.from(B.instances.values());yield Promise.all([...Z.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...Z.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=se){return this.instances.has(B)}getOptions(B=se){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:Z={}}=B,re=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:re,options:Z});for(const[ue,Qe]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(ue)&&Qe.resolve(Oe);return Oe}onInit(B,Z){var re;const Oe=this.normalizeInstanceIdentifier(Z),ue=null!==(re=this.onInitCallbacks.get(Oe))&&void 0!==re?re:new Set;ue.add(B),this.onInitCallbacks.set(Oe,ue);const Qe=this.instances.get(Oe);return Qe&&B(Qe,Oe),()=>{ue.delete(B)}}invokeOnInitCallbacks(B,Z){const re=this.onInitCallbacks.get(Z);if(re)for(const Oe of re)try{Oe(B,Z)}catch{}}getOrInitializeService({instanceIdentifier:B,options:Z={}}){let re=this.instances.get(B);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=B,Se===se?void 0:Se),options:Z}),this.instances.set(B,re),this.instancesOptions.set(B,Z),this.invokeOnInitCallbacks(re,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,re)}catch{}var Se;return re||null}normalizeInstanceIdentifier(B=se){return this.component?this.component.multipleInstances?B:se:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const Z=this.getProvider(B.name);if(Z.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);Z.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const Z=new he(B,this);return this.providers.set(B,Z),Z}getProviders(){return Array.from(this.providers.values())}}},7879:(st,Ee,P)=>{P.d(Ee,{Am:()=>Se,Ub:()=>Ue,Yd:()=>Re,in:()=>L});const s=[];var L=function(B){return B[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B}(L||{});const ie={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},se=L.INFO,he={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ye=(B,Z,...re)=>{if(Z<B.logLevel)return;const Oe=(new Date).toISOString(),ue=he[Z];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[ue](`[${Oe}]  ${B.name}:`,...re)};class Re{constructor(Z){this.name=Z,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in L))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?ie[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...Z),this._logHandler(this,L.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...Z),this._logHandler(this,L.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,L.INFO,...Z),this._logHandler(this,L.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,L.WARN,...Z),this._logHandler(this,L.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...Z),this._logHandler(this,L.ERROR,...Z)}}function Ue(B){s.forEach(Z=>{Z.setLogLevel(B)})}function Se(B,Z){for(const re of s){let Oe=null;Z&&Z.level&&(Oe=ie[Z.level]),re.userLogHandler=null===B?null:(ue,Qe,...Be)=>{const xe=Be.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Qe>=(Oe??ue.logLevel)&&B({level:L[Qe].toLowerCase(),message:xe,args:Be,type:ue.name})}}}},1878:(st,Ee,P)=>{P.d(Ee,{X3:()=>we});var s=P(5861);const L=(k,W)=>W.some(pe=>k instanceof pe);let ie,se;const Re=new WeakMap,Ue=new WeakMap,Se=new WeakMap,B=new WeakMap,Z=new WeakMap;let ue={get(k,W,pe){if(k instanceof IDBTransaction){if("done"===W)return Ue.get(k);if("objectStoreNames"===W)return k.objectStoreNames||Se.get(k);if("store"===W)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return Ae(k[W])},set:(k,W,pe)=>(k[W]=pe,!0),has:(k,W)=>k instanceof IDBTransaction&&("done"===W||"store"===W)||W in k};function xe(k){return"function"==typeof k?function Be(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...W){return k.apply(Je(this),W),Ae(Re.get(this))}:function(...W){return Ae(k.apply(Je(this),W))}:function(W,...pe){const Mt=k.call(Je(this),W,...pe);return Se.set(Mt,W.sort?W.sort():[W]),Ae(Mt)}}(k):(k instanceof IDBTransaction&&function Oe(k){if(Ue.has(k))return;const W=new Promise((pe,Mt)=>{const cn=()=>{k.removeEventListener("complete",kn),k.removeEventListener("error",ln),k.removeEventListener("abort",ln)},kn=()=>{pe(),cn()},ln=()=>{Mt(k.error||new DOMException("AbortError","AbortError")),cn()};k.addEventListener("complete",kn),k.addEventListener("error",ln),k.addEventListener("abort",ln)});Ue.set(k,W)}(k),L(k,function he(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,ue):k)}function Ae(k){if(k instanceof IDBRequest)return function re(k){const W=new Promise((pe,Mt)=>{const cn=()=>{k.removeEventListener("success",kn),k.removeEventListener("error",ln)},kn=()=>{pe(Ae(k.result)),cn()},ln=()=>{Mt(k.error),cn()};k.addEventListener("success",kn),k.addEventListener("error",ln)});return W.then(pe=>{pe instanceof IDBCursor&&Re.set(pe,k)}).catch(()=>{}),Z.set(W,k),W}(k);if(B.has(k))return B.get(k);const W=xe(k);return W!==k&&(B.set(k,W),Z.set(W,k)),W}const Je=k=>Z.get(k);function we(k,W,{blocked:pe,upgrade:Mt,blocking:cn,terminated:kn}={}){const ln=indexedDB.open(k,W),fn=Ae(ln);return Mt&&ln.addEventListener("upgradeneeded",pn=>{Mt(Ae(ln.result),pn.oldVersion,pn.newVersion,Ae(ln.transaction),pn)}),pe&&ln.addEventListener("blocked",pn=>pe(pn.oldVersion,pn.newVersion,pn)),fn.then(pn=>{kn&&pn.addEventListener("close",()=>kn()),cn&&pn.addEventListener("versionchange",ri=>cn(ri.oldVersion,ri.newVersion,ri))}).catch(()=>{}),fn}const ce=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Me=new Map;function K(k,W){if(!(k instanceof IDBDatabase)||W in k||"string"!=typeof W)return;if(Me.get(W))return Me.get(W);const pe=W.replace(/FromIndex$/,""),Mt=W!==pe,cn=ve.includes(pe);if(!(pe in(Mt?IDBIndex:IDBObjectStore).prototype)||!cn&&!ce.includes(pe))return;const kn=function(){var ln=(0,s.Z)(function*(fn,...pn){const ri=this.transaction(fn,cn?"readwrite":"readonly");let Y=ri.store;return Mt&&(Y=Y.index(pn.shift())),(yield Promise.all([Y[pe](...pn),cn&&ri.done]))[0]});return function(pn){return ln.apply(this,arguments)}}();return Me.set(W,kn),kn}!function Qe(k){ue=k(ue)}(k=>({...k,get:(W,pe,Mt)=>K(W,pe)||k.get(W,pe,Mt),has:(W,pe)=>!!K(W,pe)||k.has(W,pe)}))},5861:(st,Ee,P)=>{function s(ie,se,he,ye,Re,Ue,Se){try{var B=ie[Ue](Se),Z=B.value}catch(re){return void he(re)}B.done?se(Z):Promise.resolve(Z).then(ye,Re)}function L(ie){return function(){var se=this,he=arguments;return new Promise(function(ye,Re){var Ue=ie.apply(se,he);function Se(Z){s(Ue,ye,Re,Se,B,"next",Z)}function B(Z){s(Ue,ye,Re,Se,B,"throw",Z)}Se(void 0)})}}P.d(Ee,{Z:()=>L})},7582:(st,Ee,P)=>{function se(Y,te){var oe={};for(var J in Y)Object.prototype.hasOwnProperty.call(Y,J)&&te.indexOf(J)<0&&(oe[J]=Y[J]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(J=Object.getOwnPropertySymbols(Y);de<J.length;de++)te.indexOf(J[de])<0&&Object.prototype.propertyIsEnumerable.call(Y,J[de])&&(oe[J[de]]=Y[J[de]])}return oe}function re(Y,te,oe,J){return new(oe||(oe=Promise))(function(Ne,ut){function Ft(At){try{dt(J.next(At))}catch(Ze){ut(Ze)}}function on(At){try{dt(J.throw(At))}catch(Ze){ut(Ze)}}function dt(At){At.done?Ne(At.value):function de(Ne){return Ne instanceof oe?Ne:new oe(function(ut){ut(Ne)})}(At.value).then(Ft,on)}dt((J=J.apply(Y,te||[])).next())})}function Te(Y){return this instanceof Te?(this.v=Y,this):new Te(Y)}function ce(Y,te,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,J=oe.apply(Y,te||[]),Ne=[];return de={},ut("next"),ut("throw"),ut("return"),de[Symbol.asyncIterator]=function(){return this},de;function ut(nn){J[nn]&&(de[nn]=function(Ur){return new Promise(function(Br,wt){Ne.push([nn,Ur,Br,wt])>1||Ft(nn,Ur)})})}function Ft(nn,Ur){try{!function on(nn){nn.value instanceof Te?Promise.resolve(nn.value.v).then(dt,At):Ze(Ne[0][2],nn)}(J[nn](Ur))}catch(Br){Ze(Ne[0][3],Br)}}function dt(nn){Ft("next",nn)}function At(nn){Ft("throw",nn)}function Ze(nn,Ur){nn(Ur),Ne.shift(),Ne.length&&Ft(Ne[0][0],Ne[0][1])}}function Me(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,te=Y[Symbol.asyncIterator];return te?te.call(Y):(Y=function Be(Y){var te="function"==typeof Symbol&&Symbol.iterator,oe=te&&Y[te],J=0;if(oe)return oe.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&J>=Y.length&&(Y=void 0),{value:Y&&Y[J++],done:!Y}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),oe={},J("next"),J("throw"),J("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function J(Ne){oe[Ne]=Y[Ne]&&function(ut){return new Promise(function(Ft,on){!function de(Ne,ut,Ft,on){Promise.resolve(on).then(function(dt){Ne({value:dt,done:Ft})},ut)}(Ft,on,(ut=Y[Ne](ut)).done,ut.value)})}}}P.d(Ee,{FC:()=>ce,KL:()=>Me,_T:()=>se,mG:()=>re,qq:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},st=>{st(st.s=1855)}]);