"use strict";(self.webpackChunkchefs_talks=self.webpackChunkchefs_talks||[]).push([[179],{764:()=>{function Oe(t){return"function"==typeof t}function Fc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Xh=Fc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Da(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class xn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Oe(r))try{r()}catch(s){e=s instanceof Xh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{c2(s)}catch(o){e=e??[],o instanceof Xh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Xh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)c2(e);else{if(e instanceof xn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Da(n,e)}remove(e){const{_finalizers:n}=this;n&&Da(n,e),e instanceof xn&&e._removeParent(this)}}xn.EMPTY=(()=>{const t=new xn;return t.closed=!0,t})();const a2=xn.EMPTY;function u2(t){return t instanceof xn||t&&"closed"in t&&Oe(t.remove)&&Oe(t.add)&&Oe(t.unsubscribe)}function c2(t){Oe(t)?t():t.unsubscribe()}const ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Jh={setTimeout(t,e,...n){const{delegate:r}=Jh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Jh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function l2(t){Jh.setTimeout(()=>{const{onUnhandledError:e}=ao;if(!e)throw t;e(t)})}function l_(){}const TU=d_("C",void 0,void 0);function d_(t,e,n){return{kind:t,value:e,error:n}}let uo=null;function Zh(t){if(ao.useDeprecatedSynchronousErrorHandling){const e=!uo;if(e&&(uo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=uo;if(uo=null,n)throw r}}else t()}class h_ extends xn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,u2(e)&&e.add(this)):this.destination=kU}static create(e,n,r){return new Lc(e,n,r)}next(e){this.isStopped?p_(function AU(t){return d_("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?p_(function SU(t){return d_("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?p_(TU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xU=Function.prototype.bind;function f_(t,e){return xU.call(t,e)}class NU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ef(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ef(r)}else ef(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ef(n)}}}class Lc extends h_{constructor(e,n,r){let i;if(super(),Oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ao.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&f_(e.next,s),error:e.error&&f_(e.error,s),complete:e.complete&&f_(e.complete,s)}):i=e}this.destination=new NU(i)}}function ef(t){ao.useDeprecatedSynchronousErrorHandling?function MU(t){ao.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=t)}(t):l2(t)}function p_(t,e){const{onStoppedNotification:n}=ao;n&&Jh.setTimeout(()=>n(t,e))}const kU={closed:!0,next:l_,error:function RU(t){throw t},complete:l_},g_="function"==typeof Symbol&&Symbol.observable||"@@observable";function fs(t){return t}function d2(t){return 0===t.length?fs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function FU(t){return t&&t instanceof h_||function OU(t){return t&&Oe(t.next)&&Oe(t.error)&&Oe(t.complete)}(t)&&u2(t)}(n)?n:new Lc(n,r,i);return Zh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=h2(r))((i,s)=>{const o=new Lc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[g_](){return this}pipe(...n){return d2(n)(this)}toPromise(n){return new(n=h2(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function h2(t){var e;return null!==(e=t??ao.Promise)&&void 0!==e?e:Promise}const LU=Fc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let lr=(()=>{class t extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new f2(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new LU}next(n){Zh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Zh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Zh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?a2:(this.currentObservers=null,s.push(n),new xn(()=>{this.currentObservers=null,Da(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return t.create=(e,n)=>new f2(e,n),t})();class f2 extends lr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:a2}}function p2(t){return Oe(t?.lift)}function Tt(t){return e=>{if(p2(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function vt(t,e,n,r,i){return new VU(t,e,n,r,i)}class VU extends h_{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function De(t,e){return Tt((n,r)=>{let i=0;n.subscribe(vt(r,s=>{r.next(t.call(e,s,i++))}))})}function __(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ps(t){return this instanceof ps?(this.v=t,this):new ps(t)}function _2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function w_(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const v2=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function w2(t){return Oe(t?.then)}function E2(t){return Oe(t[g_])}function b2(t){return Symbol.asyncIterator&&Oe(t?.[Symbol.asyncIterator])}function I2(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const C2=function sj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function D2(t){return Oe(t?.[C2])}function T2(t){return function y2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ps?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ps(n.read());if(i)return yield ps(void 0);yield yield ps(r)}}finally{n.releaseLock()}})}function S2(t){return Oe(t?.getReader)}function $n(t){if(t instanceof Fe)return t;if(null!=t){if(E2(t))return function oj(t){return new Fe(e=>{const n=t[g_]();if(Oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(v2(t))return function aj(t){return new Fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(w2(t))return function uj(t){return new Fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,l2)})}(t);if(b2(t))return A2(t);if(D2(t))return function cj(t){return new Fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(S2(t))return function lj(t){return A2(T2(t))}(t)}throw I2(t)}function A2(t){return new Fe(e=>{(function dj(t,e){var n,r,i,s;return function g2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=_2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ci(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ht(t,e,n=1/0){return Oe(e)?Ht((r,i)=>De((s,o)=>e(r,s,i,o))($n(t(r,i))),n):("number"==typeof e&&(n=e),Tt((r,i)=>function hj(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;$n(n(g,l++)).subscribe(vt(e,E=>{i?.(E),s?f(E):e.next(E)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const E=u.shift();o?Ci(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(vt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ta(t=1/0){return Ht(fs,t)}const Wr=new Fe(t=>t.complete());function E_(t){return t[t.length-1]}function M2(t){return Oe(E_(t))?t.pop():void 0}function Vc(t){return function pj(t){return t&&Oe(t.schedule)}(E_(t))?t.pop():void 0}function tf(t,e=0){return Tt((n,r)=>{n.subscribe(vt(r,i=>Ci(r,t,()=>r.next(i),e),()=>Ci(r,t,()=>r.complete(),e),i=>Ci(r,t,()=>r.error(i),e)))})}function nf(t,e=0){return Tt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function x2(t,e){if(!t)throw new Error("Iterable cannot be null");return new Fe(n=>{Ci(n,e,()=>{const r=t[Symbol.asyncIterator]();Ci(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function St(t,e){return e?function Ej(t,e){if(null!=t){if(E2(t))return function mj(t,e){return $n(t).pipe(nf(e),tf(e))}(t,e);if(v2(t))return function _j(t,e){return new Fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(w2(t))return function yj(t,e){return $n(t).pipe(nf(e),tf(e))}(t,e);if(b2(t))return x2(t,e);if(D2(t))return function vj(t,e){return new Fe(n=>{let r;return Ci(n,e,()=>{r=t[C2](),Ci(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Oe(r?.return)&&r.return()})}(t,e);if(S2(t))return function wj(t,e){return x2(T2(t),e)}(t,e)}throw I2(t)}(t,e):$n(t)}class dr extends lr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function J(...t){return St(t,Vc(t))}function N2(t={}){const{connector:e=(()=>new lr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Tt((g,m)=>{c++,!d&&!l&&h();const E=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=b_(p,i))}),E.subscribe(m),!o&&c>0&&(o=new Lc({next:w=>E.next(w),error:w=>{d=!0,h(),a=b_(f,n,w),E.error(w)},complete:()=>{l=!0,h(),a=b_(f,r),E.complete()}}),$n(g).subscribe(o))})(s)}}function b_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Lc({next:()=>{r.unsubscribe(),t()}});return $n(e(...n)).subscribe(r)}function xr(t,e){return Tt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(vt(r,u=>{i?.unsubscribe();let c=0;const l=s++;$n(t(u,l)).subscribe(i=vt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Cj(t,e){return t===e}function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function rf(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function At(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(At).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function I_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Dj=xe({__forward_ref__:xe});function Be(t){return t.__forward_ref__=Be,t.toString=function(){return At(this())},t}function te(t){return C_(t)?t():t}function C_(t){return"function"==typeof t&&t.hasOwnProperty(Dj)&&t.__forward_ref__===Be}function D_(t){return t&&!!t.\u0275providers}const R2="https://g.co/ng/security#xss";class D extends Error{constructor(e,n){super(function sf(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ie(t){return"string"==typeof t?t:null==t?"":String(t)}function T_(t,e){throw new D(-201,!1)}function hr(t,e){null==t&&function Z(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function af(t){return k2(t,cf)||k2(t,P2)}function k2(t,e){return t.hasOwnProperty(e)?t[e]:null}function uf(t){return t&&(t.hasOwnProperty(S_)||t.hasOwnProperty(kj))?t[S_]:null}const cf=xe({\u0275prov:xe}),S_=xe({\u0275inj:xe}),P2=xe({ngInjectableDef:xe}),kj=xe({ngInjectorDef:xe});var pe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pe||{});let A_;function Nn(t){const e=A_;return A_=t,e}function F2(t,e,n){const r=af(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pe.Optional?null:void 0!==e?e:void T_(At(t))}const Ue=globalThis;class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Bc={},k_="__NG_DI_FLAG__",lf="ngTempTokenPath",Fj=/\n/gm,V2="__source";let Sa;function gs(t){const e=Sa;return Sa=t,e}function Bj(t,e=pe.Default){if(void 0===Sa)throw new D(-203,!1);return null===Sa?F2(t,void 0,e):Sa.get(t,e&pe.Optional?null:void 0,e)}function L(t,e=pe.Default){return(function O2(){return A_}()||Bj)(te(t),e)}function j(t,e=pe.Default){return L(t,df(e))}function df(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function P_(t){const e=[];for(let n=0;n<t.length;n++){const r=te(t[n]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,s=pe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Uj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function Uc(t,e){return t[k_]=e,t.prototype[k_]=e,t}function Uj(t){return t[k_]}function Di(t){return{toString:t}.toString()}var hf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(hf||{}),fr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fr||{});const Kr={},Ce=[],ff=xe({\u0275cmp:xe}),O_=xe({\u0275dir:xe}),F_=xe({\u0275pipe:xe}),U2=xe({\u0275mod:xe}),Ti=xe({\u0275fac:xe}),jc=xe({__NG_ELEMENT_ID__:xe}),j2=xe({__NG_ENV_ID__:xe});function $2(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function L_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];G2(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function H2(t){return 3===t||4===t||6===t}function G2(t){return 64===t.charCodeAt(0)}function $c(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||z2(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function z2(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const q2="ng-template";function Hj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==$2(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function W2(t){return 4===t.type&&t.value!==q2}function Gj(t,e,n){return e===(4!==t.type||n?t.value:q2)}function zj(t,e,n){let r=4;const i=t.attrs||[],s=function Kj(t){for(let e=0;e<t.length;e++)if(H2(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Gj(t,u,n)||""===u&&1===e.length){if(Nr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Hj(t.attrs,c,n)){if(Nr(r))return!1;o=!0}continue}const d=qj(8&r?"class":u,i,W2(t),n);if(-1===d){if(Nr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==$2(f,c,0)||2&r&&c!==h){if(Nr(r))return!1;o=!0}}}}else{if(!o&&!Nr(r)&&!Nr(u))return!1;if(o&&Nr(u))continue;o=!1,r=u|1&r}}return Nr(r)||o}function Nr(t){return 0==(1&t)}function qj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Qj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function K2(t,e,n=!1){for(let r=0;r<e.length;r++)if(zj(t,e[r],n))return!0;return!1}function Q2(t,e){return t?":not("+e.trim()+")":e}function Xj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Nr(o)&&(e+=Q2(s,i),i=""),r=o,s=s||!Nr(r);n++}return""!==i&&(e+=Q2(s,i)),e}function Pt(t){return Di(()=>{const e=X2(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fr.Emulated,styles:t.styles||Ce,_:null,schemas:t.schemas||null,tView:null,id:""};J2(n);const r=t.dependencies;return n.directiveDefs=pf(r,!1),n.pipeDefs=pf(r,!0),n.id=function s$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function t$(t){return _e(t)||zt(t)}function n$(t){return null!==t}function Gt(t){return Di(()=>({type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Y2(t,e){if(null==t)return Kr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function ne(t){return Di(()=>{const e=X2(t);return J2(e),e})}function yn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function _e(t){return t[ff]||null}function zt(t){return t[O_]||null}function _n(t){return t[F_]||null}function Gn(t,e){const n=t[U2]||null;if(!n&&!0===e)throw new Error(`Type ${At(t)} does not have '\u0275mod' property.`);return n}function X2(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Kr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Y2(t.inputs,e),outputs:Y2(t.outputs)}}function J2(t){t.features?.forEach(e=>e(t))}function pf(t,e){if(!t)return null;const n=e?_n:t$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(n$)}const st=0,U=1,le=2,Ye=3,Rr=4,Hc=5,on=6,Ma=7,ht=8,ms=9,xa=10,se=11,Gc=12,Z2=13,Na=14,ft=15,zc=16,Ra=17,Qr=18,qc=19,eM=20,ys=21,Si=22,Wc=23,Kc=24,ge=25,V_=1,tM=2,Yr=7,ka=9,qt=11;function Rn(t){return Array.isArray(t)&&"object"==typeof t[V_]}function vn(t){return Array.isArray(t)&&!0===t[V_]}function B_(t){return 0!=(4&t.flags)}function lo(t){return t.componentOffset>-1}function mf(t){return 1==(1&t.flags)}function kr(t){return!!t.template}function U_(t){return 0!=(512&t[le])}function ho(t,e){return t.hasOwnProperty(Ti)?t[Ti]:null}let Wt=null,yf=!1;function pr(t){const e=Wt;return Wt=t,e}const iM={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function oM(t){if(!Yc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!cM(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function uM(t){t.dirty=!0,function aM(t){if(void 0===t.liveConsumerNode)return;const e=yf;yf=!0;try{for(const n of t.liveConsumerNode)n.dirty||uM(n)}finally{yf=e}}(t),t.consumerMarkedDirty?.(t)}function $_(t){return t&&(t.nextProducerIndex=0),pr(t)}function H_(t,e){if(pr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Yc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_f(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cM(t){Pa(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(oM(n),r!==n.version))return!0}return!1}function lM(t){if(Pa(t),Yc(t))for(let e=0;e<t.producerNode.length;e++)_f(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _f(t,e){if(function hM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Pa(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)_f(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pa(i),i.producerIndexOfThis[r]=e}}function Yc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let fM=null;const yM=()=>{},_$=(()=>({...iM,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:yM}))();class v${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function gr(){return _M}function _M(t){return t.type.prototype.ngOnChanges&&(t.setInput=E$),w$}function w$(){const t=wM(this),e=t?.current;if(e){const n=t.previous;if(n===Kr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function E$(t,e,n,r){const i=this.declaredInputs[n],s=wM(t)||function b$(t,e){return t[vM]=e}(t,{previous:Kr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new v$(u&&u.currentValue,e,a===Kr),t[r]=e}gr.ngInherit=!0;const vM="__ngSimpleChanges__";function wM(t){return t[vM]||null}const Xr=function(t,e,n){};function je(t){for(;Array.isArray(t);)t=t[st];return t}function vf(t,e){return je(e[t])}function kn(t,e){return je(e[t.index])}function IM(t,e){return t.data[e]}function Oa(t,e){return t[e]}function zn(t,e){const n=e[t];return Rn(n)?n:n[st]}function vs(t,e){return null==e?null:t[e]}function CM(t){t[Ra]=0}function A$(t){1024&t[le]||(t[le]|=1024,TM(t,1))}function DM(t){1024&t[le]&&(t[le]&=-1025,TM(t,-1))}function TM(t,e){let n=t[Ye];if(null===n)return;n[Hc]+=e;let r=n;for(n=n[Ye];null!==n&&(1===e&&1===r[Hc]||-1===e&&0===r[Hc]);)n[Hc]+=e,r=n,n=n[Ye]}const ee={lFrame:LM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function MM(){return ee.bindingsEnabled}function A(){return ee.lFrame.lView}function ve(){return ee.lFrame.tView}function mr(t){return ee.lFrame.contextLView=t,t[ht]}function yr(t){return ee.lFrame.contextLView=null,t}function Kt(){let t=xM();for(;null!==t&&64===t.type;)t=t.parent;return t}function xM(){return ee.lFrame.currentTNode}function Jr(t,e){const n=ee.lFrame;n.currentTNode=t,n.isParent=e}function K_(){return ee.lFrame.isParent}function wn(){const t=ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ai(){return ee.lFrame.bindingIndex}function La(){return ee.lFrame.bindingIndex++}function Mi(t){const e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function U$(t,e){const n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Y_(e)}function Y_(t){ee.lFrame.currentDirectiveIndex=t}function J_(t){ee.lFrame.currentQueryIndex=t}function $$(t){const e=t[U];return 2===e.type?e.declTNode:1===e.type?t[on]:null}function OM(t,e,n){if(n&pe.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&pe.Host||(i=$$(s),null===i||(s=s[Na],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ee.lFrame=FM();return r.currentTNode=e,r.lView=t,!0}function Z_(t){const e=FM(),n=t[U];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function FM(){const t=ee.lFrame,e=null===t?null:t.child;return null===e?LM(t):e}function LM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function VM(){const t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const BM=VM;function ev(){const t=VM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function En(){return ee.lFrame.selectedIndex}function fo(t){ee.lFrame.selectedIndex=t}function Ze(){const t=ee.lFrame;return IM(t.tView,t.selectedIndex)}let $M=!0;function wf(){return $M}function ws(t){$M=t}function Ef(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function bf(t,e,n){HM(t,e,3,n)}function If(t,e,n,r){(3&t[le])===n&&HM(t,e,n,r)}function tv(t,e){let n=t[le];(3&n)===e&&(n&=8191,n+=1,t[le]=n)}function HM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Ra]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Ra]+=65536),(a<s||-1==s)&&(Q$(t,n,e,u),t[Ra]=(4294901760&t[Ra])+u+2),u++}function GM(t,e){Xr(4,t,e);const n=pr(null);try{e.call(t)}finally{pr(n),Xr(5,t,e)}}function Q$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[le]>>13<t[Ra]>>16&&(3&t[le])===e&&(t[le]+=8192,GM(a,s)):GM(a,s)}const Va=-1;class Jc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function rv(t){return t!==Va}function Zc(t){return 32767&t}function el(t,e){let n=function Z$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Na],n--;return r}let iv=!0;function Cf(t){const e=iv;return iv=t,e}const zM=255,qM=5;let eH=0;const Zr={};function Df(t,e){const n=WM(t,e);if(-1!==n)return n;const r=e[U];r.firstCreatePass&&(t.injectorIndex=e.length,sv(r.data,t),sv(e,null),sv(r.blueprint,null));const i=Tf(t,e),s=t.injectorIndex;if(rv(i)){const o=Zc(i),a=el(i,e),u=a[U].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function sv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function WM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Tf(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=ex(i),null===r)return Va;if(n++,i=i[Na],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Va}function ov(t,e,n){!function tH(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(jc)&&(r=n[jc]),null==r&&(r=n[jc]=eH++);const i=r&zM;e.data[t+(i>>qM)]|=1<<i}(t,e,n)}function KM(t,e,n){if(n&pe.Optional||void 0!==t)return t;T_()}function QM(t,e,n,r){if(n&pe.Optional&&void 0===r&&(r=null),!(n&(pe.Self|pe.Host))){const i=t[ms],s=Nn(void 0);try{return i?i.get(e,r,n&pe.Optional):F2(e,r,n&pe.Optional)}finally{Nn(s)}}return KM(r,0,n)}function YM(t,e,n,r=pe.Default,i){if(null!==t){if(2048&e[le]&&!(r&pe.Self)){const o=function aH(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[le]&&!(512&o[le]);){const a=XM(s,o,n,r|pe.Self,Zr);if(a!==Zr)return a;let u=s.parent;if(!u){const c=o[eM];if(c){const l=c.get(n,Zr,r);if(l!==Zr)return l}u=ex(o),o=o[Na]}s=u}return i}(t,e,n,r,Zr);if(o!==Zr)return o}const s=XM(t,e,n,r,Zr);if(s!==Zr)return s}return QM(e,n,r,i)}function XM(t,e,n,r,i){const s=function iH(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(jc)?t[jc]:void 0;return"number"==typeof e?e>=0?e&zM:oH:e}(n);if("function"==typeof s){if(!OM(e,t,r))return r&pe.Host?KM(i,0,r):QM(e,n,r,i);try{let o;if(o=s(r),null!=o||r&pe.Optional)return o;T_()}finally{BM()}}else if("number"==typeof s){let o=null,a=WM(t,e),u=Va,c=r&pe.Host?e[ft][on]:null;for((-1===a||r&pe.SkipSelf)&&(u=-1===a?Tf(t,e):e[a+8],u!==Va&&ZM(r,!1)?(o=e[U],a=Zc(u),e=el(u,e)):a=-1);-1!==a;){const l=e[U];if(JM(s,a,l.data)){const d=rH(a,e,n,o,r,c);if(d!==Zr)return d}u=e[a+8],u!==Va&&ZM(r,e[U].data[a+8]===c)&&JM(s,a,e)?(o=l,a=Zc(u),e=el(u,e)):a=-1}}return i}function rH(t,e,n,r,i,s){const o=e[U],a=o.data[t+8],l=function Sf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&kr(f)&&f.type===n)return u}return null}(a,o,n,null==r?lo(a)&&iv:r!=o&&0!=(3&a.type),i&pe.Host&&s===a);return null!==l?po(e,o,l,a):Zr}function po(t,e,n,r){let i=t[n];const s=e.data;if(function Y$(t){return t instanceof Jc}(i)){const o=i;o.resolving&&function Tj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new D(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Me(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ie(t)}(s[n]));const a=Cf(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Nn(o.injectImpl):null;OM(t,r,pe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function K$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=_M(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Nn(c),Cf(a),o.resolving=!1,BM()}}return i}function JM(t,e,n){return!!(n[e+(t>>qM)]&1<<t)}function ZM(t,e){return!(t&pe.Self||t&pe.Host&&e)}class bn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return YM(this._tNode,this._lView,e,df(r),n)}}function oH(){return new bn(Kt(),A())}function Qt(t){return Di(()=>{const e=t.prototype.constructor,n=e[Ti]||av(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ti]||av(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function av(t){return C_(t)?()=>{const e=av(te(t));return e&&e()}:ho(t)}function ex(t){const e=t[U],n=e.type;return 2===n?e.declTNode:1===n?t[on]:null}const Ua="__parameters__";function $a(t,e,n){return Di(()=>{const r=function uv(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ua)?u[Ua]:Object.defineProperty(u,Ua,{value:[]})[Ua];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ga(t,e){t.forEach(n=>Array.isArray(n)?Ga(n,e):e(n))}function nx(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qn(t,e,n){let r=za(t,e);return r>=0?t[1|r]=n:(r=~r,function pH(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function cv(t,e){const n=za(t,e);if(n>=0)return t[1|n]}function za(t,e){return function rx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Pn=Uc($a("Optional"),8),Nf=Uc($a("SkipSelf"),4);function Ff(t){return 128==(128&t.flags)}var Es=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Es||{});const pv=new Map;let VH=0;const mv="__ngContext__";function an(t,e){Rn(e)?(t[mv]=e[qc],function UH(t){pv.set(t[qc],t)}(e)):t[mv]=e}let yv;function _v(t,e){return yv(t,e)}function ol(t){const e=t[Ye];return vn(e)?e[Ye]:e}function Ix(t){return Dx(t[Gc])}function Cx(t){return Dx(t[Rr])}function Dx(t){for(;null!==t&&!vn(t);)t=t[Rr];return t}function Ka(t,e,n,r,i){if(null!=r){let s,o=!1;vn(r)?s=r:Rn(r)&&(o=!0,r=r[st]);const a=je(r);0===t&&null!==n?null==i?Mx(e,n,a):go(e,n,a,i||null,!0):1===t&&null!==n?go(e,n,a,i||null,!0):2===t?function Hf(t,e,n){const r=jf(t,e);r&&function sG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function uG(t,e,n,r,i){const s=n[Yr];s!==je(n)&&Ka(e,t,r,s,i);for(let a=qt;a<n.length;a++){const u=n[a];ul(u[U],u,t,e,r,s)}}(e,t,s,n,i)}}function Bf(t,e,n){return t.createElement(e,n)}function Sx(t,e){const n=t[ka],r=n.indexOf(e);DM(e),n.splice(r,1)}function Uf(t,e){if(t.length<=qt)return;const n=qt+e,r=t[n];if(r){const i=r[zc];null!==i&&i!==t&&Sx(i,r),e>0&&(t[n-1][Rr]=r[Rr]);const s=Mf(t,qt+e);!function XH(t,e){ul(t,e,e[se],2,null,null),e[st]=null,e[on]=null}(r[U],r);const o=s[Qr];null!==o&&o.detachView(s[U]),r[Ye]=null,r[Rr]=null,r[le]&=-129}return r}function wv(t,e){if(!(256&e[le])){const n=e[se];e[Wc]&&lM(e[Wc]),e[Kc]&&lM(e[Kc]),n.destroyNode&&ul(t,e,n,3,null,null),function eG(t){let e=t[Gc];if(!e)return Ev(t[U],t);for(;e;){let n=null;if(Rn(e))n=e[Gc];else{const r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[Rr]&&e!==t;)Rn(e)&&Ev(e[U],e),e=e[Ye];null===e&&(e=t),Rn(e)&&Ev(e[U],e),n=e&&e[Rr]}e=n}}(e)}}function Ev(t,e){if(!(256&e[le])){e[le]&=-129,e[le]|=256,function iG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Jc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Xr(4,a,u);try{u.call(a)}finally{Xr(5,a,u)}}else{Xr(4,i,s);try{s.call(i)}finally{Xr(5,i,s)}}}}}(t,e),function rG(t,e){const n=t.cleanup,r=e[Ma];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ma]=null);const i=e[ys];if(null!==i){e[ys]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[U].type&&e[se].destroy();const n=e[zc];if(null!==n&&vn(e[Ye])){n!==e[Ye]&&Sx(n,e);const r=e[Qr];null!==r&&r.detachView(t)}!function jH(t){pv.delete(t[qc])}(e)}}function bv(t,e,n){return function Ax(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[st];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===fr.None||s===fr.Emulated)return null}return kn(r,n)}}(t,e.parent,n)}function go(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Mx(t,e,n){t.appendChild(e,n)}function xx(t,e,n,r,i){null!==r?go(t,e,n,r,i):Mx(t,e,n)}function jf(t,e){return t.parentNode(e)}let Iv,Gf,Sv,zf,kx=function Rx(t,e,n){return 40&t.type?kn(t,n):null};function $f(t,e,n,r){const i=bv(t,r,e),s=e[se],a=function Nx(t,e,n){return kx(t,e,n)}(r.parent||e[on],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)xx(s,i,n[u],a,!1);else xx(s,i,n,a,!1);void 0!==Iv&&Iv(s,r,e,n,i)}function al(t,e){if(null!==e){const n=e.type;if(3&n)return kn(e,t);if(4&n)return Cv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return al(t,r);{const i=t[e.index];return vn(i)?Cv(-1,i):je(i)}}if(32&n)return _v(e,t)()||je(t[e.index]);{const r=Ox(t,e);return null!==r?Array.isArray(r)?r[0]:al(ol(t[ft]),r):al(t,e.next)}}return null}function Ox(t,e){return null!==e?t[ft][on].projection[e.projection]:null}function Cv(t,e){const n=qt+t+1;if(n<e.length){const r=e[n],i=r[U].firstChild;if(null!==i)return al(r,i)}return e[Yr]}function Dv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&an(je(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Dv(t,e,n.child,r,i,s,!1),Ka(e,t,i,a,s);else if(32&u){const c=_v(n,r);let l;for(;l=c();)Ka(e,t,i,l,s);Ka(e,t,i,a,s)}else 16&u?Lx(t,e,r,n,i,s):Ka(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ul(t,e,n,r,i,s){Dv(n,r,t.firstChild,e,i,s,!1)}function Lx(t,e,n,r,i,s){const o=n[ft],u=o[on].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ka(e,t,i,u[c],s);else{let c=u;const l=o[Ye];Ff(r)&&(c.flags|=128),Dv(t,e,c,l,i,s,!0)}}function Vx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Bx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&L_(t,e,r),null!==i&&Vx(t,e,i),null!==s&&function lG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Qa(t){return function Tv(){if(void 0===Gf&&(Gf=null,Ue.trustedTypes))try{Gf=Ue.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gf}()?.createHTML(t)||t}function $x(t){return function Av(){if(void 0===zf&&(zf=null,Ue.trustedTypes))try{zf=Ue.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zf}()?.createScriptURL(t)||t}class mo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${R2})`}}class gG extends mo{getTypeName(){return"HTML"}}class mG extends mo{getTypeName(){return"Style"}}class yG extends mo{getTypeName(){return"Script"}}class _G extends mo{getTypeName(){return"URL"}}class vG extends mo{getTypeName(){return"ResourceURL"}}function Wn(t){return t instanceof mo?t.changingThisBreaksApplicationSecurity:t}function ei(t,e){const n=function wG(t){return t instanceof mo&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${R2})`)}return n===e}class TG{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Qa(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class SG{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Qa(e),n}}const MG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qf(t){return(t=String(t)).match(MG)?t:"unsafe:"+t}function xi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function cl(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Gx=xi("area,br,col,hr,img,wbr"),zx=xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qx=xi("rp,rt"),Mv=cl(Gx,cl(zx,xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cl(qx,xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cl(qx,zx)),xv=xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wx=cl(xv,xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xG=xi("script,style,template");class NG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Mv.hasOwnProperty(n))return this.sanitizedSomething=!0,!xG.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Wx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;xv[a]&&(u=qf(u)),this.buf.push(" ",o,'="',Kx(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Mv.hasOwnProperty(n)&&!Gx.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Kx(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const RG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kG=/([^\#-~ |!])/g;function Kx(t){return t.replace(/&/g,"&amp;").replace(RG,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(kG,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wf;function Qx(t,e){let n=null;try{Wf=Wf||function Hx(t){const e=new SG(t);return function AG(){try{return!!(new window.DOMParser).parseFromString(Qa(""),"text/html")}catch{return!1}}()?new TG(e):e}(t);let r=e?String(e):"";n=Wf.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Wf.getInertBodyElement(r)}while(r!==s);return Qa((new NG).sanitizeChildren(Nv(n)||n))}finally{if(n){const r=Nv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Nv(t){return"content"in t&&function PG(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vr||{});function Xa(t){const e=ll();return e?e.sanitize(vr.URL,t)||"":ei(t,"URL")?Wn(t):qf(ie(t))}function Kf(t){const e=ll();if(e)return $x(e.sanitize(vr.RESOURCE_URL,t)||"");if(ei(t,"ResourceURL"))return $x(Wn(t));throw new D(904,!1)}function ll(){const t=A();return t&&t[xa].sanitizer}const dl=new B("ENVIRONMENT_INITIALIZER"),Xx=new B("INJECTOR",-1),Jx=new B("INJECTOR_DEF_TYPES");class Rv{get(e,n=Bc){if(n===Bc){const r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return n}}function jG(...t){return{\u0275providers:Zx(0,t),\u0275fromNgModule:!0}}function Zx(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Ga(e,o=>{const a=o;Qf(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&e4(i,s),n}function e4(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Pv(i,s=>{e(s,r)})}}function Qf(t,e,n,r){if(!(t=te(t)))return!1;let i=null,s=uf(t);const o=!s&&_e(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=uf(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Qf(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ga(s.imports,l=>{Qf(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&e4(c,e)}if(!a){const c=ho(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ce},i),e({provide:Jx,useValue:i,multi:!0},i),e({provide:dl,useValue:()=>L(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Pv(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Pv(t,e){for(let n of t)D_(n)&&(n=n.\u0275providers),Array.isArray(n)?Pv(n,e):e(n)}const $G=xe({provide:String,useValue:xe});function Ov(t){return null!==t&&"object"==typeof t&&$G in t}function yo(t){return"function"==typeof t}const Fv=new B("Set Injector scope."),Yf={},GG={};let Lv;function Xf(){return void 0===Lv&&(Lv=new Rv),Lv}class Kn{}class Ja extends Kn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bv(e,o=>this.processProvider(o)),this.records.set(Xx,Za(void 0,this)),i.has("environment")&&this.records.set(Kn,Za(void 0,this));const s=this.records.get(Fv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Jx.multi,Ce,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=gs(this),r=Nn(void 0);try{return e()}finally{gs(n),Nn(r)}}get(e,n=Bc,r=pe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(j2))return e[j2](this);r=df(r);const s=gs(this),o=Nn(void 0);try{if(!(r&pe.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function QG(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&af(e);u=c&&this.injectableDefInScope(c)?Za(Vv(e),Yf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&pe.Self?Xf():this.parent).get(e,n=r&pe.Optional&&n===Bc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[lf]=a[lf]||[]).unshift(At(e)),s)throw a;return function jj(t,e,n,r){const i=t[lf];throw e[V2]&&i.unshift(e[V2]),t.message=function $j(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):At(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Fj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[lf]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Nn(o),gs(s)}}resolveInjectorInitializers(){const e=gs(this),n=Nn(void 0);try{const i=this.get(dl.multi,Ce,pe.Self);for(const s of i)s()}finally{gs(e),Nn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let n=yo(e=te(e))?e:te(e&&e.provide);const r=function qG(t){return Ov(t)?Za(void 0,t.useValue):Za(r4(t),Yf)}(e);if(yo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Za(void 0,Yf,!0),i.factory=()=>P_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Yf&&(n.value=GG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function KG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=te(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Vv(t){const e=af(t),n=null!==e?e.factory:ho(t);if(null!==n)return n;if(t instanceof B)throw new D(204,!1);if(t instanceof Function)return function zG(t){const e=t.length;if(e>0)throw function rl(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new D(204,!1);const n=function Rj(t){return t&&(t[cf]||t[P2])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new D(204,!1)}function r4(t,e,n){let r;if(yo(t)){const i=te(t);return ho(i)||Vv(i)}if(Ov(t))r=()=>te(t.useValue);else if(function n4(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...P_(t.deps||[]));else if(function t4(t){return!(!t||!t.useExisting)}(t))r=()=>L(te(t.useExisting));else{const i=te(t&&(t.useClass||t.provide));if(!function WG(t){return!!t.deps}(t))return ho(i)||Vv(i);r=()=>new i(...P_(t.deps))}return r}function Za(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Bv(t,e){for(const n of t)Array.isArray(n)?Bv(n,e):n&&D_(n)?Bv(n.\u0275providers,e):e(n)}const Jf=new B("AppId",{providedIn:"root",factory:()=>YG}),YG="ng",i4=new B("Platform Initializer"),Ni=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),s4=new B("AnimationModuleType"),o4=new B("CSP nonce",{providedIn:"root",factory:()=>function Ya(){if(void 0!==Sv)return Sv;if(typeof document<"u")return document;throw new D(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let a4=(t,e,n)=>null;function Wv(t,e,n=!1){return a4(t,e,n)}class oz{}class l4{}class uz{resolveComponentFactory(e){throw function az(t){const e=Error(`No component factory found for ${At(t)}.`);return e.ngComponent=t,e}(e)}}let ip=(()=>{class t{static#e=this.NULL=new uz}return t})();function cz(){return nu(Kt(),A())}function nu(t,e){return new Qn(kn(t,e))}let Qn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=cz}return t})();class pl{}let Ri=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function dz(){const t=A(),n=zn(Kt().index,t);return(Rn(n)?n:t)[se]}()}return t})(),hz=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();class ru{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Yv=new ru("16.2.11"),Xv={};function g4(t,e=null,n=null,r){const i=m4(t,e,n,r);return i.resolveInjectorInitializers(),i}function m4(t,e=null,n=null,r,i=new Set){const s=[n||Ce,jG(t)];return r=r||("object"==typeof t?void 0:At(t)),new Ja(s,e||Xf(),r||null,i)}let un=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Bc;static#t=this.NULL=new Rv;static create(n,r){if(Array.isArray(n))return g4({name:""},r,n,"");{const i=n.name??"";return g4({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=G({token:t,providedIn:"any",factory:()=>L(Xx)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Zv(t){return t.ngOriginalError}class ki{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zv(e);for(;n&&Zv(n);)n=Zv(n);return n||null}}function t0(t){return e=>{setTimeout(t,void 0,e)}}const et=class vz extends lr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=t0(s),i&&(i=t0(i)),o&&(o=t0(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof xn&&e.add(a),a}};function _4(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function wz(){const t="function"==typeof Ue.requestAnimationFrame;let e=Ue[t?"requestAnimationFrame":"setTimeout"],n=Ue[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Iz(t){const e=()=>{!function bz(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ue,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,r0(t),t.isCheckStableRunning=!0,n0(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),r0(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function Dz(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return v4(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),w4(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return v4(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),w4(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,r0(t),n0(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ez,_4,_4);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Ez={};function n0(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function r0(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function v4(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function w4(t){t._nesting--,n0(t)}class Cz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const E4=new B("",{providedIn:"root",factory:b4});function b4(){const t=j(Te);let e=!0;return function bj(...t){const e=Vc(t),n=function gj(t,e){return"number"==typeof E_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?$n(r[0]):Ta(n)(St(r,e)):Wr}(new Fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(N2()))}function Pi(t){return t instanceof Function?t():t}let s0=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function gl(t){for(;t;){t[le]|=64;const e=ol(t);if(U_(t)&&!e)return t;t=e}return null}const S4=new B("",{providedIn:"root",factory:()=>!1});let op=null;function N4(t,e){return t[e]??P4()}function R4(t,e){const n=P4();n.producerNode?.length&&(t[e]=op,n.lView=t,op=k4())}const Oz={...iM,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{gl(t.lView)},lView:null};function k4(){return Object.create(Oz)}function P4(){return op??=k4(),op}const ue={};function x(t){O4(ve(),A(),En()+t,!1)}function O4(t,e,n,r){if(!r)if(3==(3&e[le])){const s=t.preOrderCheckHooks;null!==s&&bf(e,s,n)}else{const s=t.preOrderHooks;null!==s&&If(e,s,0,n)}fo(n)}function S(t,e=pe.Default){const n=A();return null===n?L(t,e):YM(Kt(),n,te(t),e)}function ap(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[st]=i,d[le]=140|r,(null!==c||t&&2048&t[le])&&(d[le]|=2048),CM(d),d[Ye]=d[Na]=t,d[ht]=n,d[xa]=o||t&&t[xa],d[se]=a||t&&t[se],d[ms]=u||t&&t[ms]||null,d[on]=s,d[qc]=function BH(){return VH++}(),d[Si]=l,d[eM]=c,d[ft]=2==e.type?t[ft]:d,d}function ou(t,e,n,r,i){let s=t.data[e];if(null===s)s=function o0(t,e,n,r,i){const s=xM(),o=K_(),u=t.data[e]=function Hz(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Fa(){return null!==ee.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function B$(){return ee.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Xc(){const t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Jr(s,!0),s}function ml(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function L4(t,e,n,r,i){const s=N4(e,Wc),o=En(),a=2&r;try{fo(-1),a&&e.length>ge&&O4(t,e,ge,!1),Xr(a?2:0,i);const c=a?s:null,l=$_(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{H_(c,l)}}finally{a&&null===e[Wc]&&R4(e,Wc),fo(o),Xr(a?3:1,i)}}function a0(t,e,n){if(B_(e)){const r=pr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{pr(r)}}}function u0(t,e,n){MM()&&(function Yz(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;lo(n)&&function rq(t,e,n){const r=kn(e,t),i=V4(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=up(t,ap(t,i,null,o,r,e,null,t[xa].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Df(n,e),an(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=po(e,t,a,n);an(c,e),null!==o&&iq(0,a-i,c,u,0,o),kr(u)&&(zn(n.index,e)[ht]=po(e,t,a,n))}}(t,e,n,kn(n,e)),64==(64&n.flags)&&H4(t,e,n))}function c0(t,e,n=kn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function V4(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=l0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function l0(t,e,n,r,i,s,o,a,u,c,l){const d=ge+r,h=d+i,f=function Lz(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ue);return n}(d,h),p="function"==typeof c?c():c;return f[U]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let B4=t=>null;function U4(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?j4(n,e,i,s):r.hasOwnProperty(i)&&j4(n,e,r[i],s)}return n}function j4(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Yn(t,e,n,r,i,s,o,a){const u=kn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(g0(t,n,l,r,i),lo(e)&&function qz(t,e){const n=zn(e,t);16&n[le]||(n[le]|=64)}(n,e.index)):3&e.type&&(r=function zz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function d0(t,e,n,r){if(MM()){const i=null===r?null:{"":-1},s=function Jz(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(K2(e,o.selectors,!1))if(r||(r=[]),kr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),h0(t,e,a.length)}else r.unshift(o),h0(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&$4(t,e,n,o,i,a),i&&function Zz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new D(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=$c(n.mergedAttrs,n.attrs)}function $4(t,e,n,r,i,s){for(let c=0;c<r.length;c++)ov(Df(n,e),t,r[c].type);!function tq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=ml(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=$c(n.mergedAttrs,l.hostAttrs),nq(t,n,e,u,l),eq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function Gz(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=U4(d.inputs,l,u,h?h.inputs:null),c=U4(d.outputs,l,c,p);const g=null===u||null===o||W2(e)?null:sq(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function H4(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function j$(){return ee.lFrame.currentDirectiveIndex}();try{fo(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Y_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Xz(u,c)}}finally{fo(-1),Y_(o)}}function Xz(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function h0(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function eq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kr(e)&&(n[""]=t)}}function nq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ho(i.type)),o=new Jc(s,kr(i),S);t.blueprint[r]=o,n[r]=o,function Kz(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Qz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,ml(t,n,i.hostVars,ue),i)}function ti(t,e,n,r,i,s){const o=kn(t,e);!function f0(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?ie(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[se],o,s,t.value,n,r,i)}function iq(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)G4(r,n,o[a++],o[a++],o[a++])}function G4(t,e,n,r,i){const s=pr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{pr(s)}}function sq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function z4(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function q4(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];J_(n[r]),o.contentQueries(2,e[s],s)}}}function up(t,e){return t[Gc]?t[Z2][Rr]=e:t[Gc]=e,t[Z2]=e,e}function p0(t,e,n){J_(0);const r=pr(null);try{e(t,n)}finally{pr(r)}}function Y4(t,e){const n=t[ms],r=n?n.get(ki,null):null;r&&r.handleError(e)}function g0(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];G4(t.data[o],e[o],r,a,i)}}function Oi(t,e,n){const r=vf(e,t);!function Tx(t,e,n){t.setValue(e,n)}(t[se],r,n)}function oq(t,e){const n=zn(e,t),r=n[U];!function aq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[st];null!==i&&null===n[Si]&&(n[Si]=Wv(i,n[ms])),m0(r,n,n[ht])}function m0(t,e,n){Z_(e);try{const r=t.viewQuery;null!==r&&p0(1,r,n);const i=t.template;null!==i&&L4(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&q4(t,e),t.staticViewQueries&&p0(2,t.viewQuery,n);const s=t.components;null!==s&&function uq(t,e){for(let n=0;n<e.length;n++)oq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[le]&=-5,ev()}}let X4=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function y$(t,e,n){const r=Object.create(_$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>uM(r),run:()=>{if(r.dirty=!1,r.hasRun&&!cM(r))return;r.hasRun=!0;const o=$_(r);try{r.cleanupFn(),r.cleanupFn=yM,r.fn(i)}finally{H_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function cp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=I_(i,a):2==s&&(r=I_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function yl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(je(s)),vn(s)&&J4(s,r);const o=n.type;if(8&o)yl(t,e,n.child,r);else if(32&o){const a=_v(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Ox(e,n);if(Array.isArray(a))r.push(...a);else{const u=ol(e[ft]);yl(u[U],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function J4(t,e){for(let n=qt;n<t.length;n++){const r=t[n],i=r[U].firstChild;null!==i&&yl(r[U],r,i,e)}t[Yr]!==t[st]&&e.push(t[Yr])}function lp(t,e,n,r=!0){const i=e[xa],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{Z4(t,e,t.template,n)}catch(u){throw r&&Y4(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function Z4(t,e,n,r){const i=e[le];if(256!=(256&i)){e[xa].effectManager?.flush(),Z_(e);try{CM(e),function RM(t){return ee.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&L4(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&bf(e,c,null)}else{const c=t.preOrderHooks;null!==c&&If(e,c,0,null),tv(e,0)}if(function dq(t){for(let e=Ix(t);null!==e;e=Cx(e)){if(!e[tM])continue;const n=e[ka];for(let r=0;r<n.length;r++){A$(n[r])}}}(e),eN(e,2),null!==t.contentQueries&&q4(t,e),o){const c=t.contentCheckHooks;null!==c&&bf(e,c)}else{const c=t.contentHooks;null!==c&&If(e,c,1),tv(e,1)}!function Fz(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=N4(e,Kc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)fo(~s);else{const o=s,a=n[++i],u=n[++i];U$(a,o),r.dirty=!1;const c=$_(r);try{u(2,e[o])}finally{H_(r,c)}}}}finally{null===e[Kc]&&R4(e,Kc),fo(-1)}}(t,e);const a=t.components;null!==a&&nN(e,a,0);const u=t.viewQuery;if(null!==u&&p0(2,u,r),o){const c=t.viewCheckHooks;null!==c&&bf(e,c)}else{const c=t.viewHooks;null!==c&&If(e,c,2),tv(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[le]&=-73,DM(e)}finally{ev()}}}function eN(t,e){for(let n=Ix(t);null!==n;n=Cx(n))for(let r=qt;r<n.length;r++)tN(n[r],e)}function hq(t,e,n){tN(zn(e,t),n)}function tN(t,e){if(!function T$(t){return 128==(128&t[le])}(t))return;const n=t[U],r=t[le];if(80&r&&0===e||1024&r||2===e)Z4(n,t,n.template,t[ht]);else if(t[Hc]>0){eN(t,1);const i=n.components;null!==i&&nN(t,i,1)}}function nN(t,e,n){for(let r=0;r<e.length;r++)hq(t,e[r],n)}class _l{get rootNodes(){const e=this._lView,n=e[U];return yl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ht]}set context(e){this._lView[ht]=e}get destroyed(){return 256==(256&this._lView[le])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ye];if(vn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Uf(e,r),Mf(n,r))}this._attachedToViewContainer=!1}wv(this._lView[U],this._lView)}onDestroy(e){!function SM(t,e){if(256==(256&t[le]))throw new D(911,!1);null===t[ys]&&(t[ys]=[]),t[ys].push(e)}(this._lView,e)}markForCheck(){gl(this._cdRefInjectingView||this._lView)}detach(){this._lView[le]&=-129}reattach(){this._lView[le]|=128}detectChanges(){lp(this._lView[U],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZH(t,e){ul(t,e,e[se],2,null,null)}(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class fq extends _l{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;lp(e[U],e,e[ht],!1)}checkNoChanges(){}get context(){return null}}class rN extends ip{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_e(e);return new vl(n,this.ngModule)}}function iN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class gq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=df(r);const i=this.injector.get(e,Xv,r);return i!==Xv||n===Xv?i:this.parentInjector.get(e,n,r)}}class vl extends l4{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=iN(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return iN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Jj(t){return t.map(Xj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Kn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new gq(e,s):e,a=o.get(pl,null);if(null===a)throw new D(407,!1);const d={rendererFactory:a,sanitizer:o.get(hz,null),effectManager:o.get(X4,null),afterRenderEventManager:o.get(s0,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function Vz(t,e,n,r){const s=r.get(S4,!1)||n===fr.ShadowDom,o=t.selectRootElement(e,s);return function Bz(t){B4(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Bf(h,f,function pq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==p&&(w=Wv(p,o,!0));const T=l0(0,null,null,1,0,null,null,null,null,null,null),R=ap(null,T,null,E,null,null,d,h,o,null,w);let $,Q;Z_(R);try{const ce=this.componentDef;let Ve,Dt=null;ce.findHostDirectiveDefs?(Ve=[],Dt=new Map,ce.findHostDirectiveDefs(ce,Ve,Dt),Ve.push(ce)):Ve=[ce];const ur=function yq(t,e){const n=t[U],r=ge;return t[r]=e,ou(n,r,2,"#host",null)}(R,p),u_=function _q(t,e,n,r,i,s,o){const a=i[U];!function vq(t,e,n,r){for(const i of t)e.mergedAttrs=$c(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(cp(e,e.mergedAttrs,!0),null!==n&&Bx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=Wv(e,i[ms]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=ap(i,V4(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&h0(a,t,r.length-1),up(i,d),i[t.index]=d}(ur,p,ce,Ve,R,d,h);Q=IM(T,ge),p&&function Eq(t,e,n,r){if(r)L_(t,n,["ng-version",Yv.full]);else{const{attrs:i,classes:s}=function Zj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Nr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&L_(t,n,i),s&&s.length>0&&Vx(t,n,s.join(" "))}}(h,ce,p,r),void 0!==n&&function bq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Q,this.ngContentSelectors,n),$=function wq(t,e,n,r,i,s){const o=Kt(),a=i[U],u=kn(o,i);$4(a,i,o,n,null,r);for(let l=0;l<n.length;l++)an(po(i,a,o.directiveStart+l,o),i);H4(a,i,o),u&&an(u,i);const c=po(i,a,o.directiveStart+o.componentOffset,o);if(t[ht]=i[ht]=c,null!==s)for(const l of s)l(c,e);return a0(a,o,t),c}(u_,ce,Ve,Dt,R,[Iq]),m0(T,R,null)}finally{ev()}return new mq(this.componentType,$,nu(Q,R),R,Q)}}class mq extends oz{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;g0(s[U],s,i,e,n),this.previousInputValues.set(e,n),gl(zn(this._tNode.index,s))}}get injector(){return new bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Iq(){const t=Kt();Ef(A()[U],t)}function Ne(t){let e=function sN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(kr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=dp(t.inputs),o.inputTransforms=dp(t.inputTransforms),o.declaredInputs=dp(t.declaredInputs),o.outputs=dp(t.outputs);const a=i.hostBindings;a&&Sq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Dq(t,u),c&&Tq(t,c),rf(t.inputs,i.inputs),rf(t.declaredInputs,i.declaredInputs),rf(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),rf(o.inputTransforms,i.inputTransforms)),kr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ne&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Cq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$c(i.hostAttrs,n=$c(n,i.hostAttrs))}}(r)}function dp(t){return t===Kr?{}:t===Ce?[]:t}function Dq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Tq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Sq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function cN(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function hp(t){return!!function y0(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ni(t,e,n){return t[e]=n}function cn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function _o(t,e,n,r){const i=cn(t,e,n);return cn(t,e+1,r)||i}function ri(t,e,n,r){const i=A();return cn(i,La(),e)&&(ve(),ti(Ze(),i,t,e,n,r)),ri}function uu(t,e,n,r){return cn(t,La(),n)?e+ie(n)+r:ue}function lu(t,e,n,r,i,s,o,a){const c=function fp(t,e,n,r,i){const s=_o(t,e,n,r);return cn(t,e+2,i)||s}(t,Ai(),n,i,o);return Mi(3),c?e+ie(n)+r+ie(i)+s+ie(o)+a:ue}function oe(t,e,n,r,i,s,o,a){const u=A(),c=ve(),l=t+ge,d=c.firstCreatePass?function Jq(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ou(e,t,4,o||null,vs(c,a));d0(e,n,l,vs(c,u)),Ef(e,l);const d=l.tView=l0(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Jr(d,!1);const h=bN(c,u,d,t);wf()&&$f(c,u,h,d),an(h,u),up(u,u[l]=z4(h,u,h,d)),mf(d)&&u0(c,u,d),null!=o&&c0(u,d,a)}let bN=function IN(t,e,n,r){return ws(!0),e[se].createComment("")};function O(t,e,n){const r=A();return cn(r,La(),e)&&Yn(ve(),Ze(),r,t,e,r[se],n,!1),O}function I0(t,e,n,r,i){const o=i?"class":"style";g0(t,n,e.inputs[o],o,r)}function _(t,e,n,r){const i=A(),s=ve(),o=ge+t,a=i[se],u=s.firstCreatePass?function rW(t,e,n,r,i,s){const o=e.consts,u=ou(e,t,2,r,vs(o,i));return d0(e,n,u,vs(o,s)),null!==u.attrs&&cp(u,u.attrs,!1),null!==u.mergedAttrs&&cp(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=CN(s,i,u,a,e,t);i[o]=c;const l=mf(u);return Jr(u,!0),Bx(a,c,u),32!=(32&u.flags)&&wf()&&$f(s,i,c,u),0===function x$(){return ee.lFrame.elementDepthCount}()&&an(c,i),function N$(){ee.lFrame.elementDepthCount++}(),l&&(u0(s,i,u),a0(s,u,i)),null!==r&&c0(i,u),_}function y(){let t=Kt();K_()?function Q_(){ee.lFrame.isParent=!1}():(t=t.parent,Jr(t,!1));const e=t;(function k$(t){return ee.skipHydrationRootTNode===t})(e)&&function L$(){ee.skipHydrationRootTNode=null}(),function R$(){ee.lFrame.elementDepthCount--}();const n=ve();return n.firstCreatePass&&(Ef(n,t),B_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function X$(t){return 0!=(8&t.flags)}(e)&&I0(n,e,A(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function J$(t){return 0!=(16&t.flags)}(e)&&I0(n,e,A(),e.stylesWithoutHost,!1),y}function q(t,e,n,r){return _(t,e,n,r),y(),q}let CN=(t,e,n,r,i,s)=>(ws(!0),Bf(r,i,function jM(){return ee.lFrame.currentNamespace}()));function Fi(){return A()}function Cl(t){return!!t&&"function"==typeof t.then}function SN(t){return!!t&&"function"==typeof t.subscribe}function fe(t,e,n,r){const i=A(),s=ve(),o=Kt();return function MN(t,e,n,r,i,s,o){const a=mf(r),c=t.firstCreatePass&&function K4(t){return t.cleanup||(t.cleanup=[])}(t),l=e[ht],d=function W4(t){return t[Ma]||(t[Ma]=[])}(e);let h=!0;if(3&r.type||o){const g=kn(r,e),m=o?o(g):g,E=d.length,w=o?R=>o(je(R[r.index])):r.index;let T=null;if(!o&&a&&(T=function cW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ma],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,h=!1;else{s=NN(r,e,l,s,!1);const R=n.listen(m,i,s);d.push(s,R),c&&c.push(i,w,E,E+1)}}else s=NN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const $=e[p[m]][p[m+1]].subscribe(s),Q=d.length;d.push(s,$),c&&c.push(i,r.index,Q,-(Q+1))}}}(s,i,i[se],o,t,e,r),fe}function xN(t,e,n,r){try{return Xr(6,e,n),!1!==n(r)}catch(i){return Y4(t,i),!1}finally{Xr(7,e,n)}}function NN(t,e,n,r,i){return function s(o){if(o===Function)return r;gl(t.componentOffset>-1?zn(t.index,e):e);let u=xN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=xN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function $e(t=1){return function H$(t){return(ee.lFrame.contextLView=function G$(t,e){for(;t>0;)e=e[Na],t--;return e}(t,ee.lFrame.contextLView))[ht]}(t)}function T0(t,e,n){return S0(t,"",e,"",n),T0}function S0(t,e,n,r,i){const s=A(),o=uu(s,e,n,r);return o!==ue&&Yn(ve(),Ze(),s,t,o,s[se],i,!1),S0}function yp(t,e){return t<<17|e<<2}function bs(t){return t>>17&32767}function A0(t){return 2|t}function vo(t){return(131068&t)>>2}function M0(t,e){return-131069&t|e<<2}function x0(t){return 1|t}function UN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?bs(s):vo(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];_W(t[a],e)&&(u=!0,t[a+1]=r?x0(l):A0(l)),a=r?bs(l):vo(l)}u&&(t[n+1]=r?A0(s):x0(s))}function _W(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&za(t,e)>=0}function _p(t,e){return function Pr(t,e,n,r){const i=A(),s=ve(),o=Mi(2);s.firstUpdatePass&&function QN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[En()],o=function KN(t,e){return e>=t.expandoStartIndex}(t,n);(function ZN(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function SW(t,e,n,r){const i=function X_(t){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Dl(n=N0(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=N0(i,t,e,n,r),null===s){let u=function AW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==vo(r))return t[bs(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=N0(null,t,e,u[1],r),u=Dl(u,e.attrs,r),function MW(t,e,n,r){t[bs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function xW(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Dl(r,t[s].hostAttrs,n);return Dl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function mW(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=bs(o),u=vo(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||za(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=bs(t[a+1]);t[r+1]=yp(h,a),0!==h&&(t[h+1]=M0(t[h+1],r)),t[a+1]=function pW(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=yp(a,0),0!==a&&(t[a+1]=M0(t[a+1],r)),a=r;else t[r+1]=yp(u,0),0===a?a=r:t[u+1]=M0(t[u+1],r),u=r;c&&(t[r+1]=A0(t[r+1])),UN(t,l,r,!0),UN(t,l,r,!1),function yW(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&za(s,e)>=0&&(n[r+1]=x0(n[r+1]))}(e,l,t,r,s),o=yp(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ue&&cn(i,o,e)&&function XN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function gW(t){return 1==(1&t)}(c)?JN(u,e,n,i,vo(c),o):void 0;vp(l)||(vp(s)||function fW(t){return 2==(2&t)}(c)&&(s=JN(u,null,n,i,a,o)),function cG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Es.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Es.Important),t.setStyle(n,r,i,s))}}(r,o,vf(En(),n),i,s))}(s,s.data[En()],i,i[se],t,i[o+1]=function PW(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=At(Wn(t)))),t}(e,n),r,o)}(t,e,null,!0),_p}function N0(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Dl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Dl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qn(t,o,!!n||e[++s]))}return void 0===t?null:t}function JN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ue&&(h=d?Ce:void 0);let f=d?cv(h,r):l===r?h:void 0;if(c&&!vp(f)&&(f=cv(u,r)),vp(f)&&(a=f,o))return a;const p=t[i+1];i=o?bs(p):vo(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=cv(u,r))}return a}function vp(t){return void 0!==t}function b(t,e=""){const n=A(),r=ve(),i=t+ge,s=r.firstCreatePass?ou(r,i,1,e,null):r.data[i],o=eR(r,n,s,e,t);n[i]=o,wf()&&$f(r,n,o,s),Jr(s,!1)}let eR=(t,e,n,r,i)=>(ws(!0),function Vf(t,e){return t.createText(e)}(e[se],r));function ot(t){return tt("",t,""),ot}function tt(t,e,n){const r=A(),i=uu(r,t,e,n);return i!==ue&&Oi(r,En(),i),tt}function wp(t,e,n,r,i){const s=A(),o=function cu(t,e,n,r,i,s){const a=_o(t,Ai(),n,i);return Mi(2),a?e+ie(n)+r+ie(i)+s:ue}(s,t,e,n,r,i);return o!==ue&&Oi(s,En(),o),wp}function Ep(t,e,n,r,i,s,o){const a=A(),u=lu(a,t,e,n,r,i,s,o);return u!==ue&&Oi(a,En(),u),Ep}const wo=void 0;var nK=["en",[["a","p"],["AM","PM"],wo],[["AM","PM"],wo,wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wo,"{1} 'at' {0}",wo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tK(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let yu={};function In(t){const e=function rK(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=vR(e);if(n)return n;const r=e.split("-")[0];if(n=vR(r),n)return n;if("en"===r)return nK;throw new D(701,!1)}function vR(t){return t in yu||(yu[t]=Ue.ng&&Ue.ng.common&&Ue.ng.common.locales&&Ue.ng.common.locales[t]),yu[t]}var He=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(He||{});const _u="en-US";let wR=_u;function P0(t,e,n,r,i){if(t=te(t),Array.isArray(t))for(let s=0;s<t.length;s++)P0(t[s],e,n,r,i);else{const s=ve(),o=A(),a=Kt();let u=yo(t)?t:te(t.provide);const c=r4(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(yo(t)||!t.multi){const f=new Jc(c,i,S),p=F0(u,e,i?l:l+h,d);-1===p?(ov(Df(a,o),s,u),O0(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=F0(u,e,l+h,d),p=F0(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){ov(Df(a,o),s,u);const E=function tQ(t,e,n,r,i){const s=new Jc(t,n,S);return s.multi=[],s.index=e,s.componentProviders=0,zR(s,i,r&&!n),s}(i?eQ:ZK,n.length,i,r,c);!i&&m&&(n[p].providerFactory=E),O0(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)}else O0(s,t,f>-1?f:p,zR(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function O0(t,e,n,r){const i=yo(e),s=function HG(t){return!!t.useClass}(e);if(i||s){const u=(s?te(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function zR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function F0(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ZK(t,e,n,r){return L0(this.multi,[])}function eQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=po(n,n[U],this.providerFactory.index,r);s=a.slice(0,o),L0(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],L0(i,s);return s}function L0(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Xe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function JK(t,e,n){const r=ve();if(r.firstCreatePass){const i=kr(t);P0(n,r.data,r.blueprint,i,!0),P0(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Eo{}class qR{}class V0 extends Eo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rN(this);const i=Gn(e);this._bootstrapComponents=Pi(i.bootstrap),this._r3Injector=m4(e,n,[{provide:Eo,useValue:this},{provide:ip,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class B0 extends qR{constructor(e){super(),this.moduleType=e}create(e){return new V0(this.moduleType,e,[])}}class WR extends Eo{constructor(e){super(),this.componentFactoryResolver=new rN(this),this.instance=null;const n=new Ja([...e.providers,{provide:Eo,useValue:this},{provide:ip,useValue:this.componentFactoryResolver}],e.parent||Xf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function U0(t,e,n=null){return new WR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let iQ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Zx(0,n.type),i=r.length>0?U0([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(L(Kn))})}return t})();function KR(t){t.getStandaloneInjector=e=>e.get(iQ).getOrCreateStandaloneInjector(t)}function bo(t,e,n,r){return tk(A(),wn(),t,e,n,r)}function Nl(t,e){const n=t[e];return n===ue?void 0:n}function tk(t,e,n,r,i,s){const o=e+n;return cn(t,o,i)?ni(t,o+1,s?r.call(s,i):r(i)):Nl(t,o+1)}function Rl(t,e){const n=ve();let r;const i=t+ge;n.firstCreatePass?(r=function bQ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ho(r.type)),a=Nn(S);try{const u=Cf(!1),c=s();return Cf(u),function tW(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,A(),i,c),c}finally{Nn(a)}}function Tp(t,e,n){const r=t+ge,i=A(),s=Oa(i,r);return kl(i,r)?tk(i,wn(),e,s.transform,n,s):s.transform(n)}function ok(t,e,n,r){const i=t+ge,s=A(),o=Oa(s,i);return kl(s,i)?function nk(t,e,n,r,i,s,o){const a=e+n;return _o(t,a,i,s)?ni(t,a+2,o?r.call(o,i,s):r(i,s)):Nl(t,a+2)}(s,wn(),e,o.transform,n,r,o):o.transform(n,r)}function kl(t,e){return t[U].data[e].pure}function AQ(t,e,n,r=!0){const i=e[U];if(function tG(t,e,n,r){const i=qt+r,s=n.length;r>0&&(n[i-1][Rr]=e),r<s-qt?(e[Rr]=n[i],nx(n,qt+r,e)):(n.push(e),e[Rr]=null),e[Ye]=n;const o=e[zc];null!==o&&n!==o&&function nG(t,e){const n=t[ka];e[ft]!==e[Ye][Ye][ft]&&(t[tM]=!0),null===n?t[ka]=[e]:n.push(e)}(o,e);const a=e[Qr];null!==a&&a.insertView(t),e[le]|=128}(i,e,t,n),r){const s=Cv(n,t),o=e[se],a=jf(o,t[Yr]);null!==a&&function JH(t,e,n,r,i,s){r[st]=i,r[on]=e,ul(t,r,n,1,i,s)}(i,t[on],o,e,a,s)}}Symbol;let Li=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=NQ}return t})();const MQ=Li,xQ=class extends MQ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function SQ(t,e,n,r){const i=e.tView,a=ap(t,i,n,4096&t[le]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[zc]=t[e.index];const c=t[Qr];return null!==c&&(a[Qr]=c.createEmbeddedView(i)),m0(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new _l(i)}};function NQ(){return function Sp(t,e){return 4&t.type?new xQ(e,t,nu(t,e)):null}(Kt(),A())}let Fr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=LQ}return t})();function LQ(){return function fk(t,e){let n;const r=e[t.index];return vn(r)?n=r:(n=z4(r,e,null,t),e[t.index]=n,up(e,n)),pk(n,e,t,r),new dk(n,t,e)}(Kt(),A())}const VQ=Fr,dk=class extends VQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return nu(this._hostTNode,this._hostLView)}get injector(){return new bn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Tf(this._hostTNode,this._hostLView);if(rv(e)){const n=el(e,this._hostLView),r=Zc(e);return new bn(n[U].data[r+8],n)}return new bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=hk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function nl(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new vl(_e(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(Kn,null);m&&(s=m)}_e(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function S$(t){return vn(t[Ye])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ye],l=new dk(c,c[on],c[Ye]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return AQ(a,i,o,!r),e.attachToViewContainerRef(),nx(H0(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=hk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Uf(this._lContainer,n);r&&(Mf(H0(this._lContainer),n),wv(r[U],r))}detach(e){const n=this._adjustIndex(e,-1),r=Uf(this._lContainer,n);return r&&null!=Mf(H0(this._lContainer),n)?new _l(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function hk(t){return t[8]}function H0(t){return t[8]||(t[8]=[])}let pk=function gk(t,e,n,r){if(t[Yr])return;let i;i=8&n.type?je(r):function BQ(t,e){const n=t[se],r=n.createComment(""),i=kn(e,t);return go(n,jf(n,i),r,function oG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Yr]=i};const ew=new B("Application Initializer");let tw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=j(ew,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Cl(s))n.push(s);else if(SN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Uk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Vi=new B("LocaleId",{providedIn:"root",factory:()=>j(Vi,pe.Optional|pe.SkipSelf)||function mY(){return typeof $localize<"u"&&$localize.locale||_u}()});let xp=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class vY{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let jk=(()=>{class t{compileModuleSync(n){return new B0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Pi(Gn(n).declarations).reduce((o,a)=>{const u=_e(a);return u&&o.push(new vl(u)),o},[]);return new vY(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zk=new B(""),Rp=new B("");let ow,iw=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ow||(function jY(t){ow=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(L(Te),L(sw),L(Rp))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),sw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ow?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Is=null;const qk=new B("AllowMultipleToken"),aw=new B("PlatformDestroyListeners"),uw=new B("appBootstrapListener");class Kk{constructor(e,n){this.name=e,this.token=n}}function Yk(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=cw();if(!o||o.injector.get(qk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function GY(t){if(Is&&!Is.get(qk,!1))throw new D(400,!1);(function Wk(){!function h$(t){fM=t}(()=>{throw new D(600,!1)})})(),Is=t;const e=t.get(Jk);(function Qk(t){t.get(i4,null)?.forEach(n=>n())})(t)}(function Xk(t=[],e){return un.create({name:e,providers:[{provide:Fv,useValue:"platform"},{provide:aw,useValue:new Set([()=>Is=null])},...t]})}(a,r))}return function qY(t){const e=cw();if(!e)throw new D(401,!1);return e}()}}function cw(){return Is?.get(Jk)??null}let Jk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function WY(t="zone.js",e){return"noop"===t?new Cz:"zone.js"===t?new Te(e):t}(r?.ngZone,function Zk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function rQ(t,e,n){return new V0(t,e,n)}(n.moduleType,this.injector,function iP(t){return[{provide:Te,useFactory:t},{provide:dl,multi:!0,useFactory:()=>{const e=j(QY,{optional:!0});return()=>e.initialize()}},{provide:rP,useFactory:KY},{provide:E4,useFactory:b4}]}(()=>i)),o=s.injector.get(ki,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{kp(this._modules,s),a.unsubscribe()})}),function eP(t,e,n){try{const r=n();return Cl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(tw);return a.runInitializers(),a.donePromise.then(()=>(function ER(t){hr(t,"Expected localeId to be defined"),"string"==typeof t&&(wR=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Vi,_u)||_u),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=tP({},r);return function $Y(t,e,n){const r=new B0(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Io);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new D(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(aw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(L(un))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function tP(t,e){return Array.isArray(e)?e.reduce(tP,t):{...t,...e}}let Io=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(rP),this.zoneIsStable=j(E4),this.componentTypes=[],this.components=[],this.isStable=j(xp).hasPendingTasks.pipe(xr(n=>n?J(!1):this.zoneIsStable),function Ij(t,e=fs){return t=t??Cj,Tt((n,r)=>{let i,s=!0;n.subscribe(vt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),N2()),this._injector=j(Kn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof l4;if(!this._injector.get(tw).done)throw!i&&function Aa(t){const e=_e(t)||zt(t)||_n(t);return null!==e&&e.standalone}(n),new D(405,!1);let o;o=i?n:this._injector.get(ip).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function HY(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Eo),c=o.create(un.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(zk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),kp(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;kp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(uw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>kp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const rP=new B("",{providedIn:"root",factory:()=>j(ki).handleError.bind(void 0)});function KY(){const t=j(Te),e=j(ki);return n=>t.runOutsideAngular(()=>e.handleError(n))}let QY=(()=>{class t{constructor(){this.zone=j(Te),this.applicationRef=j(Io)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Pp=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XY}return t})();function XY(t){return function JY(t,e,n){if(lo(t)&&!n){const r=zn(t.index,e);return new _l(r,r)}return 47&t.type?new _l(e[ft],e):null}(Kt(),A(),16==(16&t))}class uP{constructor(){}supports(e){return hp(e)}create(e){return new iX(e)}}const rX=(t,e)=>e;class iX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<lP(r,i,s)?n:r,a=lP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!hp(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Pq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new sX(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new cP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class cP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new oX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function hP(){return new Lp([new uP])}let Lp=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:hP});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||hP()),deps:[[t,new Nf,new Pn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new D(901,!1)}}return t})();const dX=Yk(null,"core",[]);let hX=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(L(Io))};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({})}return t})();function Eu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let gw=null;function Cs(){return gw}class TX{}const Yt=new B("DocumentToken");let mw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return j(AX)},providedIn:"platform"})}return t})();const SX=new B("Location Initialized");let AX=(()=>{class t extends mw{constructor(){super(),this._doc=j(Yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cs().getBaseHref(this._doc)}onPopState(n){const r=Cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function yw(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function bP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Bi(t){return t&&"?"!==t[0]?"?"+t:t}let Do=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return j(CP)},providedIn:"root"})}return t})();const IP=new B("appBaseHref");let CP=(()=>{class t extends Do{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(Yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return yw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Bi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Bi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Bi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(L(mw),L(IP,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MX=(()=>{class t extends Do{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=yw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Bi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Bi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(L(mw),L(IP,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),_w=(()=>{class t{constructor(n){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function RX(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(bP(DP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Bi(r))}normalize(n){return t.stripTrailingSlash(function NX(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,DP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Bi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Bi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Bi;static#t=this.joinWithSlash=yw;static#n=this.stripTrailingSlash=bP;static#r=this.\u0275fac=function(r){return new(r||t)(L(Do))};static#i=this.\u0275prov=G({token:t,factory:function(){return function xX(){return new _w(L(Do))}()},providedIn:"root"})}return t})();function DP(t){return t.replace(/\/index.html$/,"")}var Dn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Dn||{}),Le=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Le||{}),Xn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Xn||{}),pt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(pt||{});function Up(t,e){return br(In(t)[He.DateFormat],e)}function jp(t,e){return br(In(t)[He.TimeFormat],e)}function $p(t,e){return br(In(t)[He.DateTimeFormat],e)}function Er(t,e){const n=In(t),r=n[He.NumberSymbols][e];if(typeof r>"u"){if(e===pt.CurrencyDecimal)return n[He.NumberSymbols][pt.Decimal];if(e===pt.CurrencyGroup)return n[He.NumberSymbols][pt.Group]}return r}function SP(t){if(!t[He.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[He.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function br(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function ww(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const qX=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ll={},WX=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ui=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Ui||{}),Se=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Se||{}),Ae=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ae||{});function KX(t,e,n,r){let i=function rJ(t){if(xP(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return Hp(i,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(qX))return function iJ(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(t);if(!xP(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=ji(n,e)||e;let a,o=[];for(;e;){if(a=WX.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=MP(r,u),i=function nJ(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function tJ(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(MP(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function eJ(t){if(bw[t])return bw[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ge(Ae.Eras,Le.Abbreviated);break;case"GGGG":e=Ge(Ae.Eras,Le.Wide);break;case"GGGGG":e=Ge(Ae.Eras,Le.Narrow);break;case"y":e=wt(Se.FullYear,1,0,!1,!0);break;case"yy":e=wt(Se.FullYear,2,0,!0,!0);break;case"yyy":e=wt(Se.FullYear,3,0,!1,!0);break;case"yyyy":e=wt(Se.FullYear,4,0,!1,!0);break;case"Y":e=Wp(1);break;case"YY":e=Wp(2,!0);break;case"YYY":e=Wp(3);break;case"YYYY":e=Wp(4);break;case"M":case"L":e=wt(Se.Month,1,1);break;case"MM":case"LL":e=wt(Se.Month,2,1);break;case"MMM":e=Ge(Ae.Months,Le.Abbreviated);break;case"MMMM":e=Ge(Ae.Months,Le.Wide);break;case"MMMMM":e=Ge(Ae.Months,Le.Narrow);break;case"LLL":e=Ge(Ae.Months,Le.Abbreviated,Dn.Standalone);break;case"LLLL":e=Ge(Ae.Months,Le.Wide,Dn.Standalone);break;case"LLLLL":e=Ge(Ae.Months,Le.Narrow,Dn.Standalone);break;case"w":e=Ew(1);break;case"ww":e=Ew(2);break;case"W":e=Ew(1,!0);break;case"d":e=wt(Se.Date,1);break;case"dd":e=wt(Se.Date,2);break;case"c":case"cc":e=wt(Se.Day,1);break;case"ccc":e=Ge(Ae.Days,Le.Abbreviated,Dn.Standalone);break;case"cccc":e=Ge(Ae.Days,Le.Wide,Dn.Standalone);break;case"ccccc":e=Ge(Ae.Days,Le.Narrow,Dn.Standalone);break;case"cccccc":e=Ge(Ae.Days,Le.Short,Dn.Standalone);break;case"E":case"EE":case"EEE":e=Ge(Ae.Days,Le.Abbreviated);break;case"EEEE":e=Ge(Ae.Days,Le.Wide);break;case"EEEEE":e=Ge(Ae.Days,Le.Narrow);break;case"EEEEEE":e=Ge(Ae.Days,Le.Short);break;case"a":case"aa":case"aaa":e=Ge(Ae.DayPeriods,Le.Abbreviated);break;case"aaaa":e=Ge(Ae.DayPeriods,Le.Wide);break;case"aaaaa":e=Ge(Ae.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":e=Ge(Ae.DayPeriods,Le.Abbreviated,Dn.Standalone,!0);break;case"bbbb":e=Ge(Ae.DayPeriods,Le.Wide,Dn.Standalone,!0);break;case"bbbbb":e=Ge(Ae.DayPeriods,Le.Narrow,Dn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(Ae.DayPeriods,Le.Abbreviated,Dn.Format,!0);break;case"BBBB":e=Ge(Ae.DayPeriods,Le.Wide,Dn.Format,!0);break;case"BBBBB":e=Ge(Ae.DayPeriods,Le.Narrow,Dn.Format,!0);break;case"h":e=wt(Se.Hours,1,-12);break;case"hh":e=wt(Se.Hours,2,-12);break;case"H":e=wt(Se.Hours,1);break;case"HH":e=wt(Se.Hours,2);break;case"m":e=wt(Se.Minutes,1);break;case"mm":e=wt(Se.Minutes,2);break;case"s":e=wt(Se.Seconds,1);break;case"ss":e=wt(Se.Seconds,2);break;case"S":e=wt(Se.FractionalSeconds,1);break;case"SS":e=wt(Se.FractionalSeconds,2);break;case"SSS":e=wt(Se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zp(Ui.Short);break;case"ZZZZZ":e=zp(Ui.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zp(Ui.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zp(Ui.Long);break;default:return null}return bw[t]=e,e}(l);c+=d?d(i,n,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Hp(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function ji(t,e){const n=function PX(t){return In(t)[He.LocaleId]}(t);if(Ll[n]=Ll[n]||{},Ll[n][e])return Ll[n][e];let r="";switch(e){case"shortDate":r=Up(t,Xn.Short);break;case"mediumDate":r=Up(t,Xn.Medium);break;case"longDate":r=Up(t,Xn.Long);break;case"fullDate":r=Up(t,Xn.Full);break;case"shortTime":r=jp(t,Xn.Short);break;case"mediumTime":r=jp(t,Xn.Medium);break;case"longTime":r=jp(t,Xn.Long);break;case"fullTime":r=jp(t,Xn.Full);break;case"short":const i=ji(t,"shortTime"),s=ji(t,"shortDate");r=Gp($p(t,Xn.Short),[i,s]);break;case"medium":const o=ji(t,"mediumTime"),a=ji(t,"mediumDate");r=Gp($p(t,Xn.Medium),[o,a]);break;case"long":const u=ji(t,"longTime"),c=ji(t,"longDate");r=Gp($p(t,Xn.Long),[u,c]);break;case"full":const l=ji(t,"fullTime"),d=ji(t,"fullDate");r=Gp($p(t,Xn.Full),[l,d])}return r&&(Ll[n][e]=r),r}function Gp(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Lr(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function wt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function YX(t,e){switch(t){case Se.FullYear:return e.getFullYear();case Se.Month:return e.getMonth();case Se.Date:return e.getDate();case Se.Hours:return e.getHours();case Se.Minutes:return e.getMinutes();case Se.Seconds:return e.getSeconds();case Se.FractionalSeconds:return e.getMilliseconds();case Se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Se.Hours)0===a&&-12===n&&(a=12);else if(t===Se.FractionalSeconds)return function QX(t,e){return Lr(t,3).substring(0,e)}(a,e);const u=Er(o,pt.MinusSign);return Lr(a,e,u,r,i)}}function Ge(t,e,n=Dn.Format,r=!1){return function(i,s){return function XX(t,e,n,r,i,s){switch(n){case Ae.Months:return function LX(t,e,n){const r=In(t),s=br([r[He.MonthsFormat],r[He.MonthsStandalone]],e);return br(s,n)}(e,i,r)[t.getMonth()];case Ae.Days:return function FX(t,e,n){const r=In(t),s=br([r[He.DaysFormat],r[He.DaysStandalone]],e);return br(s,n)}(e,i,r)[t.getDay()];case Ae.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const c=function jX(t){const e=In(t);return SP(e),(e[He.ExtraData][2]||[]).map(r=>"string"==typeof r?ww(r):[ww(r[0]),ww(r[1])])}(e),l=function $X(t,e,n){const r=In(t);SP(r);const s=br([r[He.ExtraData][0],r[He.ExtraData][1]],e)||[];return br(s,n)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function OX(t,e,n){const r=In(t),s=br([r[He.DayPeriodsFormat],r[He.DayPeriodsStandalone]],e);return br(s,n)}(e,i,r)[o<12?0:1];case Ae.Eras:return function VX(t,e){return br(In(t)[He.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function zp(t){return function(e,n,r){const i=-1*r,s=Er(n,pt.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ui.Short:return(i>=0?"+":"")+Lr(o,2,s)+Lr(Math.abs(i%60),2,s);case Ui.ShortGMT:return"GMT"+(i>=0?"+":"")+Lr(o,1,s);case Ui.Long:return"GMT"+(i>=0?"+":"")+Lr(o,2,s)+":"+Lr(Math.abs(i%60),2,s);case Ui.Extended:return 0===r?"Z":(i>=0?"+":"")+Lr(o,2,s)+":"+Lr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const JX=0,qp=4;function AP(t){return Hp(t.getFullYear(),t.getMonth(),t.getDate()+(qp-t.getDay()))}function Ew(t,e=!1){return function(n,r){let i;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=AP(n),o=function ZX(t){const e=Hp(t,JX,1).getDay();return Hp(t,0,1+(e<=qp?qp:qp+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Lr(i,t,Er(r,pt.MinusSign))}}function Wp(t,e=!1){return function(n,r){return Lr(AP(n).getFullYear(),t,Er(r,pt.MinusSign),e)}}const bw={};function MP(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function xP(t){return t instanceof Date&&!isNaN(t.valueOf())}function PP(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class _J{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ds=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new _J(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),LP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{LP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(S(Fr),S(Li),S(Lp))};static#t=this.\u0275dir=ne({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function LP(t,e){t.context.$implicit=e.item}let Iu=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new vJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){VP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){VP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(S(Fr),S(Li))};static#t=this.\u0275dir=ne({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class vJ{constructor(){this.$implicit=null,this.ngIf=null}}function VP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${At(e)}'.`)}const RJ=new B("DATE_PIPE_DEFAULT_TIMEZONE"),kJ=new B("DATE_PIPE_DEFAULT_OPTIONS");let UP=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(null==n||""===n||n!=n)return null;try{return KX(n,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Vr(t,e){return new D(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||t)(S(Vi,16),S(RJ,24),S(kJ,24))};static#t=this.\u0275pipe=yn({name:"date",type:t,pure:!0,standalone:!0})}return t})(),jP=(()=>{class t{transform(n){return JSON.stringify(n,null,2)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=yn({name:"json",type:t,pure:!1,standalone:!0})}return t})(),kw=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({})}return t})();function GP(t){return"server"===t}let zJ=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new qJ(L(Yt),window)})}return t})();class qJ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function WJ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zP{}class mZ extends TX{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fw extends mZ{static makeCurrent(){!function DX(t){gw||(gw=t)}(new Fw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function yZ(){return Ul=Ul||document.querySelector("base"),Ul?Ul.getAttribute("href"):null}();return null==n?null:function _Z(t){Xp=Xp||document.createElement("a"),Xp.setAttribute("href",t);const e=Xp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return PP(document.cookie,e)}}let Xp,Ul=null,wZ=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const Lw=new B("EventManagerPlugins");let YP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(L(Lw),L(Te))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class XP{constructor(e){this._doc=e}}const Vw="ng-app-id";let JP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=GP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Vw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Vw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Vw,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(L(Yt),L(Jf),L(o4,8),L(Ni))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const Bw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uw=/%COMP%/g,CZ=new B("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function e3(t,e){return e.map(n=>n.replace(Uw,t))}let jw=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=GP(a),this.defaultRenderer=new $w(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fr.ShadowDom&&(r={...r,encapsulation:fr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof n3?i.applyToHost(n):i instanceof Hw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case fr.Emulated:s=new n3(u,c,r,this.appId,l,o,a,d);break;case fr.ShadowDom:return new AZ(u,c,n,r,o,a,this.nonce,d);default:s=new Hw(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(L(YP),L(JP),L(Jf),L(CZ),L(Yt),L(Ni),L(Te),L(o4))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class $w{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Bw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(t3(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(t3(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Bw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Bw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Es.DashCase|Es.Important)?e.style.setProperty(n,r,i&Es.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Es.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Cs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function t3(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class AZ extends $w{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=e3(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Hw extends $w{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?e3(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class n3 extends Hw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function DZ(t){return"_ngcontent-%COMP%".replace(Uw,t)}(c),this.hostAttr=function TZ(t){return"_nghost-%COMP%".replace(Uw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let MZ=(()=>{class t extends XP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(L(Yt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const r3=["alt","control","meta","shift"],xZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NZ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let RZ=(()=>{class t extends XP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),r3.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=xZ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),r3.forEach(o=>{o!==i&&(0,NZ[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(L(Yt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const s3=[{provide:Ni,useValue:"browser"},{provide:i4,useValue:function kZ(){Fw.makeCurrent()},multi:!0},{provide:Yt,useFactory:function OZ(){return function pG(t){Sv=t}(document),document},deps:[]}],FZ=Yk(dX,"browser",s3),LZ=new B(""),o3=[{provide:Rp,useClass:class vZ{addToWindow(e){Ue.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new D(5103,!1);return s},Ue.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ue.getAllAngularRootElements=()=>e.getAllRootElements(),Ue.frameworkStabilizers||(Ue.frameworkStabilizers=[]),Ue.frameworkStabilizers.push(r=>{const i=Ue.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Cs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:zk,useClass:iw,deps:[Te,sw,Rp]},{provide:iw,useClass:iw,deps:[Te,sw,Rp]}],a3=[{provide:Fv,useValue:"root"},{provide:ki,useFactory:function PZ(){return new ki},deps:[]},{provide:Lw,useClass:MZ,multi:!0,deps:[Yt,Te,Ni]},{provide:Lw,useClass:RZ,multi:!0,deps:[Yt]},jw,JP,YP,{provide:pl,useExisting:jw},{provide:zP,useClass:wZ,deps:[]},[]];let u3=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Jf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(L(LZ,12))};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({providers:[...a3,...o3],imports:[kw,hX]})}return t})(),c3=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(L(Yt))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function BZ(){return new c3(L(Yt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let h3=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new(r||t):L(f3),i},providedIn:"root"})}return t})(),f3=(()=>{class t extends h3{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case vr.NONE:return r;case vr.HTML:return ei(r,"HTML")?Wn(r):Qx(this._doc,String(r)).toString();case vr.STYLE:return ei(r,"Style")?Wn(r):r;case vr.SCRIPT:if(ei(r,"Script"))return Wn(r);throw new D(5200,!1);case vr.URL:return ei(r,"URL")?Wn(r):qf(String(r));case vr.RESOURCE_URL:if(ei(r,"ResourceURL"))return Wn(r);throw new D(5201,!1);default:throw new D(5202,!1)}}bypassSecurityTrustHtml(n){return function EG(t){return new gG(t)}(n)}bypassSecurityTrustStyle(n){return function bG(t){return new mG(t)}(n)}bypassSecurityTrustScript(n){return function IG(t){return new yG(t)}(n)}bypassSecurityTrustUrl(n){return function CG(t){return new _G(t)}(n)}bypassSecurityTrustResourceUrl(n){return function DG(t){return new vG(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(L(Yt))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function HZ(t){return new f3(t.get(Yt))}(L(un)),i},providedIn:"root"})}return t})();const{isArray:zZ}=Array,{getPrototypeOf:qZ,prototype:WZ,keys:KZ}=Object;function g3(t){if(1===t.length){const e=t[0];if(zZ(e))return{args:e,keys:null};if(function QZ(t){return t&&"object"==typeof t&&qZ(t)===WZ}(e)){const n=KZ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:YZ}=Array;function m3(t){return De(e=>function XZ(t,e){return YZ(e)?t(...e):t(e)}(t,e))}function y3(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function zw(...t){const e=Vc(t),n=M2(t),{args:r,keys:i}=g3(t);if(0===r.length)return St([],e);const s=new Fe(function JZ(t,e,n=fs){return r=>{_3(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)_3(e,()=>{const c=St(t[u],e);let l=!1;c.subscribe(vt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>y3(i,o):fs));return n?s.pipe(m3(n)):s}function _3(t,e,n){t?Ci(n,t,e):e()}const Jp=Fc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function qw(...t){return function ZZ(){return Ta(1)}()(St(t,Vc(t)))}function v3(t){return new Fe(e=>{$n(t()).subscribe(e)})}function jl(t,e){const n=Oe(t)?t:()=>t,r=i=>i.error(n());return new Fe(e?i=>e.schedule(r,0,i):r)}function Ww(){return Tt((t,e)=>{let n=null;t._refCount++;const r=vt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class w3 extends Fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,p2(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xn;const n=this.getSubject();e.add(this.source.subscribe(vt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xn.EMPTY)}return e}refCount(){return Ww()(this)}}function Cu(t){return t<=0?()=>Wr:Tt((e,n)=>{let r=0;e.subscribe(vt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $i(t,e){return Tt((n,r)=>{let i=0;n.subscribe(vt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zp(t){return Tt((e,n)=>{let r=!1;e.subscribe(vt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function E3(t=tee){return Tt((e,n)=>{let r=!1;e.subscribe(vt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tee(){return new Jp}function To(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$i((i,s)=>t(i,s,r)):fs,Cu(1),n?Zp(e):E3(()=>new Jp))}function Du(t,e){return Oe(e)?Ht(t,e,1):Ht(t,1)}function Xt(t,e,n){const r=Oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Tt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(vt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):fs}function So(t){return Tt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(vt(n,void 0,void 0,o=>{s=$n(t(o,So(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Kw(t){return t<=0?()=>Wr:Tt((e,n)=>{let r=[];e.subscribe(vt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $l(t){return Tt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const de="primary",Hl=Symbol("RouteTitle");class aee{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Tu(t){return new aee(t)}function uee(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function oi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!b3(t[i],e[i]))return!1;return!0}function b3(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function I3(t){return t.length>0?t[t.length-1]:null}function Ss(t){return function GZ(t){return!!t&&(t instanceof Fe||Oe(t.lift)&&Oe(t.subscribe))}(t)?t:Cl(t)?St(Promise.resolve(t)):J(t)}const lee={exact:function T3(t,e,n){if(!Ao(t.segments,e.segments)||!eg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!T3(t.children[r],e.children[r],n))return!1;return!0},subset:S3},C3={exact:function dee(t,e){return oi(t,e)},subset:function hee(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>b3(t[n],e[n]))},ignored:()=>!0};function D3(t,e,n){return lee[n.paths](t.root,e.root,n.matrixParams)&&C3[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function S3(t,e,n){return A3(t,e,e.segments,n)}function A3(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ao(i,n)||e.hasChildren()||!eg(i,n,r))}if(t.segments.length===n.length){if(!Ao(t.segments,n)||!eg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!S3(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ao(t.segments,i)&&eg(t.segments,i,r)&&t.children[de])&&A3(t.children[de],e,s,r)}}function eg(t,e,n){return e.every((r,i)=>C3[n](t[i].parameters,r.parameters))}class Su{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tu(this.queryParams)),this._queryParamMap}toString(){return gee.serialize(this)}}class Re{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tg(this)}}class Gl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Tu(this.parameters)),this._parameterMap}toString(){return N3(this)}}function Ao(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let zl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new Qw},providedIn:"root"})}return t})();class Qw{parse(e){const n=new Tee(e);return new Su(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ql(e.root,!0)}`,r=function _ee(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${ng(n)}=${ng(i)}`).join("&"):`${ng(n)}=${ng(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function mee(t){return encodeURI(t)}(e.fragment)}`:""}`}}const gee=new Qw;function tg(t){return t.segments.map(e=>N3(e)).join("/")}function ql(t,e){if(!t.hasChildren())return tg(t);if(e){const n=t.children[de]?ql(t.children[de],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==de&&r.push(`${i}:${ql(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function pee(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===de&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==de&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===de?[ql(t.children[de],!1)]:[`${i}:${ql(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[de]?`${tg(t)}/${n[0]}`:`${tg(t)}/(${n.join("//")})`}}function M3(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ng(t){return M3(t).replace(/%3B/gi,";")}function Yw(t){return M3(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rg(t){return decodeURIComponent(t)}function x3(t){return rg(t.replace(/\+/g,"%20"))}function N3(t){return`${Yw(t.path)}${function yee(t){return Object.keys(t).map(e=>`;${Yw(e)}=${Yw(t[e])}`).join("")}(t.parameters)}`}const vee=/^[^\/()?;#]+/;function Xw(t){const e=t.match(vee);return e?e[0]:""}const wee=/^[^\/()?;=#]+/,bee=/^[^=?&#]+/,Cee=/^[^&#]+/;class Tee{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[de]=new Re(e,n)),r}parseSegment(){const e=Xw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Gl(rg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Eee(t){const e=t.match(wee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Xw(this.remaining);i&&(r=i,this.capture(r))}e[rg(n)]=rg(r)}parseQueryParam(e){const n=function Iee(t){const e=t.match(bee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Dee(t){const e=t.match(Cee);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=x3(n),s=x3(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[de]:new Re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function R3(t){return t.segments.length>0?new Re([],{[de]:t}):t}function k3(t){const e={};for(const r of Object.keys(t.children)){const s=k3(t.children[r]);if(r===de&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function See(t){if(1===t.numberOfChildren&&t.children[de]){const e=t.children[de];return new Re(t.segments.concat(e.segments),e.children)}return t}(new Re(t.segments,e))}function Mo(t){return t instanceof Su}function P3(t){let e;const i=R3(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Re(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function O3(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Jw(i,i,i,n,r);const s=function Mee(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new L3(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new L3(n,e,r)}(e);if(s.toRoot())return Jw(i,i,new Re([],{}),n,r);const o=function xee(t,e,n){if(t.isAbsolute)return new sg(e,!0,0);if(!n)return new sg(e,!1,NaN);if(null===n.parent)return new sg(n,!0,0);const r=ig(t.commands[0])?0:1;return function Nee(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new sg(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Kl(o.segmentGroup,o.index,s.commands):V3(o.segmentGroup,o.index,s.commands);return Jw(i,o.segmentGroup,a,n,r)}function ig(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Wl(t){return"object"==typeof t&&null!=t&&t.outlets}function Jw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:F3(t,e,n);const a=R3(k3(o));return new Su(a,s,i)}function F3(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:F3(s,e,n)}),new Re(t.segments,r)}class L3{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ig(r[0]))throw new D(4003,!1);const i=r.find(Wl);if(i&&i!==I3(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sg{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function V3(t,e,n){if(t||(t=new Re([],{})),0===t.segments.length&&t.hasChildren())return Kl(t,e,n);const r=function kee(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Wl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!U3(u,c,o))return s;r+=2}else{if(!U3(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Re(t.segments.slice(0,r.pathIndex),{});return s.children[de]=new Re(t.segments.slice(r.pathIndex),t.children),Kl(s,0,i)}return r.match&&0===i.length?new Re(t.segments,{}):r.match&&!t.hasChildren()?Zw(t,e,n):r.match?Kl(t,0,i):Zw(t,e,n)}function Kl(t,e,n){if(0===n.length)return new Re(t.segments,{});{const r=function Ree(t){return Wl(t[0])?t[0].outlets:{[de]:t}}(n),i={};if(Object.keys(r).some(s=>s!==de)&&t.children[de]&&1===t.numberOfChildren&&0===t.children[de].segments.length){const s=Kl(t.children[de],e,n);return new Re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=V3(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Re(t.segments,i)}}function Zw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Wl(s)){const u=Pee(s.outlets);return new Re(r,u)}if(0===i&&ig(n[0])){r.push(new Gl(t.segments[e].path,B3(n[0]))),i++;continue}const o=Wl(s)?s.outlets[de]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ig(a)?(r.push(new Gl(o,B3(a))),i+=2):(r.push(new Gl(o,{})),i++)}return new Re(r,{})}function Pee(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Zw(new Re([],{}),0,r))}),e}function B3(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function U3(t,e,n){return t==n.path&&oi(e,n.parameters)}const Ql="imperative";class ai{constructor(e,n){this.id=e,this.url=n}}class og extends ai{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class As extends ai{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yl extends ai{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Au extends ai{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ag extends ai{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class j3 extends ai{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oee extends ai{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fee extends ai{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lee extends ai{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vee extends ai{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bee{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uee{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jee{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $ee{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hee{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gee{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $3{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class eE{}class tE{constructor(e){this.url=e}}class zee{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xl,this.attachRef=null}}let Xl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new zee,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class H3{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=nE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=nE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=rE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return rE(e,this._root).map(n=>n.value)}}function nE(t,e){if(t===e.value)return e;for(const n of e.children){const r=nE(t,n);if(r)return r}return null}function rE(t,e){if(t===e.value)return[e];for(const n of e.children){const r=rE(t,n);if(r.length)return r.unshift(e),r}return[]}class Hi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Mu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class G3 extends H3{constructor(e,n){super(e),this.snapshot=n,iE(this,e)}toString(){return this.snapshot.toString()}}function z3(t,e){const n=function qee(t,e){const o=new ug([],{},{},"",{},de,e,null,{});return new W3("",new Hi(o,[]))}(0,e),r=new dr([new Gl("",{})]),i=new dr({}),s=new dr({}),o=new dr({}),a=new dr(""),u=new Gi(r,i,o,a,s,de,e,n.root);return u.snapshot=n.root,new G3(new Hi(u,[]),n)}class Gi{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(De(c=>c[Hl]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(De(e=>Tu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(De(e=>Tu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function q3(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Wee(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ug{get title(){return this.data?.[Hl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class W3 extends H3{constructor(e,n){super(n),this.url=e,iE(this,n)}toString(){return K3(this._root)}}function iE(t,e){e.value._routerState=t,e.children.forEach(n=>iE(t,n))}function K3(t){const e=t.children.length>0?` { ${t.children.map(K3).join(", ")} } `:"";return`${t.value}${e}`}function sE(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,oi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),oi(e.params,n.params)||t.paramsSubject.next(n.params),function cee(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!oi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),oi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function oE(t,e){const n=oi(t.params,e.params)&&function fee(t,e){return Ao(t,e)&&t.every((n,r)=>oi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||oE(t.parent,e.parent))}let aE=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=j(Xl),this.location=j(Fr),this.changeDetector=j(Pp),this.environmentInjector=j(Kn),this.inputBinder=j(cg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Kee(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ne({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gr]})}return t})();class Kee{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Gi?this.route:e===Xl?this.childContexts:this.parent.get(e,n)}}const cg=new B("");let Q3=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=zw([r.queryParams,r.params,r.data]).pipe(xr(([s,o,a],u)=>(a={...s,...o,...a},0===u?J(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function CX(t){const e=_e(t);if(!e)return null;const n=new vl(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Jl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Yee(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Jl(t,r,i);return Jl(t,r)})}(t,e,n);return new Hi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Jl(t,a)),o}}const r=function Xee(t){return new Gi(new dr(t.url),new dr(t.params),new dr(t.queryParams),new dr(t.fragment),new dr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Jl(t,s));return new Hi(r,i)}}const uE="ngNavigationCancelingError";function Y3(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Mo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=X3(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function X3(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[uE]=!0,r.cancellationCode=e,n&&(r.url=n),r}function J3(t){return t&&t[uE]}let Z3=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Pt({type:t,selectors:[["ng-component"]],standalone:!0,features:[KR],decls:1,vars:0,template:function(r,i){1&r&&q(0,"router-outlet")},dependencies:[aE],encapsulation:2})}return t})();function cE(t){const e=t.children&&t.children.map(cE),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=Z3),n}function Br(t){return t.outlet||de}function Zl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ste{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),sE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Mu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Mu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Mu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Mu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Gee(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $ee(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(sE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Zl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class eO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lg{constructor(e,n){this.component=e,this.route=n}}function ote(t,e,n){const r=t._root;return ed(r,e?e._root:null,n,[r.value])}function xu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Nj(t){return null!==af(t)}(t)?e.get(t):t:r}function ed(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Mu(e);return t.children.forEach(o=>{(function ute(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function cte(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ao(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ao(t.url,e.url)||!oi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oE(t,e)||!oi(t.queryParams,e.queryParams);default:return!oE(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new eO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ed(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new lg(a.outlet.component,o))}else o&&td(e,a,i),i.canActivateChecks.push(new eO(r)),ed(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>td(a,n.getContext(o),i)),i}function td(t,e,n){const r=Mu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{td(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new lg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function nd(t){return"function"==typeof t}function tO(t){return t instanceof Jp||"EmptyError"===t?.name}const dg=Symbol("INITIAL_VALUE");function Nu(){return xr(t=>zw(t.map(e=>e.pipe(Cu(1),function eee(...t){const e=Vc(t);return Tt((n,r)=>{(e?qw(t,n,e):qw(t,n)).subscribe(r)})}(dg)))).pipe(De(e=>{for(const n of e)if(!0!==n){if(n===dg)return dg;if(!1===n||n instanceof Su)return n}return!0}),$i(e=>e!==dg),Cu(1)))}function nO(t){return function PU(...t){return d2(t)}(Xt(e=>{if(Mo(e))throw Y3(0,e)}),De(e=>!0===e))}class hg{constructor(e){this.segmentGroup=e||null}}class rO{constructor(e){this.urlTree=e}}function Ru(t){return jl(new hg(t))}function iO(t){return jl(new rO(t))}class Mte{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new D(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return J(r);if(i.numberOfChildren>1||!i.children[de])return jl(new D(4e3,!1));i=i.children[de]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Su(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const lE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xte(t,e,n,r,i){const s=dE(t,e,n);return s.matched?(r=function Zee(t,e){return t.providers&&!t._injector&&(t._injector=U0(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Tte(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?J(i.map(o=>{const a=xu(o,t);return Ss(function gte(t){return t&&nd(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Nu(),nO()):J(!0)}(r,e,n).pipe(De(o=>!0===o?s:{...lE}))):J(s)}function dE(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...lE}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||uee)(n,t,e);if(!i)return{...lE};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function sO(t,e,n,r){return n.length>0&&function kte(t,e,n){return n.some(r=>fg(t,e,r)&&Br(r)!==de)}(t,n,r)?{segmentGroup:new Re(e,Rte(r,new Re(n,t.children))),slicedSegments:[]}:0===n.length&&function Pte(t,e,n){return n.some(r=>fg(t,e,r))}(t,n,r)?{segmentGroup:new Re(t.segments,Nte(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function Nte(t,e,n,r,i){const s={};for(const o of r)if(fg(t,n,o)&&!i[Br(o)]){const a=new Re([],{});s[Br(o)]=a}return{...i,...s}}function Rte(t,e){const n={};n[de]=e;for(const r of t)if(""===r.path&&Br(r)!==de){const i=new Re([],{});n[Br(r)]=i}return n}function fg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Vte{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Mte(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,!1)}recognize(){const e=sO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,de).pipe(So(n=>{if(n instanceof rO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof hg?this.noMatchError(n):n}),De(n=>{const r=new ug([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new Hi(r,n),s=new W3("",i),o=function Aee(t,e,n=null,r=null){return O3(P3(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,de).pipe(So(r=>{throw r instanceof hg?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=q3(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return St(i).pipe(Du(s=>{const o=r.children[s],a=function rte(t,e){const n=t.filter(r=>Br(r)===e);return n.push(...t.filter(r=>Br(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function ree(t,e){return Tt(function nee(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(vt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Zp(null),function iee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$i((i,s)=>t(i,s,r)):fs,Kw(1),n?Zp(e):E3(()=>new Jp))}(),Ht(s=>{if(null===s)return Ru(r);const o=oO(s);return function Bte(t){t.sort((e,n)=>e.value.outlet===de?-1:n.value.outlet===de?1:e.value.outlet.localeCompare(n.value.outlet))}(o),J(o)}))}processSegment(e,n,r,i,s,o){return St(n).pipe(Du(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(So(u=>{if(u instanceof hg)return J(null);throw u}))),To(a=>!!a),So(a=>{if(tO(a))return function Fte(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?J([]):Ru(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Ote(t,e,n,r){return!!(Br(t)===r||r!==de&&fg(e,n,t))&&("**"===t.path||dE(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ru(i):Ru(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?iO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Ht(o=>{const a=new Re(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=dE(n,i,s);if(!a)return Ru(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?iO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ht(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?I3(i).parameters:{};a=J({snapshot:new ug(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aO(r),Br(r),r.component??r._loadedComponent??null,r,uO(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=xte(n,r,i,e).pipe(De(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new ug(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aO(r),Br(r),r.component??r._loadedComponent??null,r,uO(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(xr(u=>null===u?Ru(n):this.getChildConfig(e=r._injector??e,r,i).pipe(xr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=sO(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(De(E=>null===E?null:[new Hi(d,E)]));if(0===c.length&&0===g.length)return J([new Hi(d,[])]);const m=Br(r)===s;return this.processSegment(l,c,p,g,m?de:s,!0).pipe(De(E=>[new Hi(d,E)]))}))))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?J({routes:n._loadedRoutes,injector:n._loadedInjector}):function Dte(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?J(!0):J(i.map(o=>{const a=xu(o,t);return Ss(function dte(t){return t&&nd(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Nu(),nO())}(e,n,r).pipe(Ht(i=>i?this.configLoader.loadChildren(e,n).pipe(Xt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Ate(t){return jl(X3(!1,3))}())):J({routes:[],injector:e})}}function Ute(t){const e=t.value.routeConfig;return e&&""===e.path}function oO(t){const e=[],n=new Set;for(const r of t){if(!Ute(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=oO(r.children);e.push(new Hi(r.value,i))}return e.filter(r=>!n.has(r))}function aO(t){return t.data||{}}function uO(t){return t.resolve||{}}function cO(t){return"string"==typeof t.title||null===t.title}function hE(t){return xr(e=>{const n=t(e);return n?St(n).pipe(De(()=>e)):J(e)})}const ku=new B("ROUTES");let fE=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(jk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return J(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ss(n.loadComponent()).pipe(De(lO),Xt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),$l(()=>{this.componentLoaders.delete(n)})),i=new w3(r,()=>new lr).pipe(Ww());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Wte(t,e,n,r){return Ss(t.loadChildren()).pipe(De(lO),Ht(i=>i instanceof qR||Array.isArray(i)?J(i):St(e.compileModuleAsync(i))),De(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(ku,[],{optional:!0,self:!0}).flat()),{routes:o.map(cE),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe($l(()=>{this.childrenLoaders.delete(r)})),o=new w3(s,()=>new lr).pipe(Ww());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lO(t){return function Kte(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let pg=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lr,this.transitionAbortSubject=new lr,this.configLoader=j(fE),this.environmentInjector=j(Kn),this.urlSerializer=j(zl),this.rootContexts=j(Xl),this.inputBindingEnabled=null!==j(cg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Uee(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Bee(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new dr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ql,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($i(s=>0!==s.id),De(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),xr(s=>{this.currentTransition=s;let o=!1,a=!1;return J(s).pipe(Xt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Au(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Wr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return J(u).pipe(xr(h=>{const f=this.transitions?.getValue();return this.events.next(new og(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Wr:Promise.resolve(h)}),function jte(t,e,n,r,i,s){return Ht(o=>function Lte(t,e,n,r,i,s,o="emptyOnly"){return new Vte(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(De(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Xt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new j3(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,E=new og(h,this.urlSerializer.serialize(f),p,g);this.events.next(E);const w=z3(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:w,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},J(s)}{const h="";return this.events.next(new Au(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Wr}}),Xt(u=>{const c=new Oee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),De(u=>(this.currentTransition=s={...u,guards:ote(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function yte(t,e){return Ht(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?J({...n,guardsResult:!0}):function _te(t,e,n,r){return St(t).pipe(Ht(i=>function Cte(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?J(s.map(a=>{const u=Zl(e)??i,c=xu(a,u);return Ss(function pte(t){return t&&nd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(To())})).pipe(Nu()):J(!0)}(i.component,i.route,n,e,r)),To(i=>!0!==i,!0))}(o,r,i,t).pipe(Ht(a=>a&&function lte(t){return"boolean"==typeof t}(a)?function vte(t,e,n,r){return St(e).pipe(Du(i=>qw(function Ete(t,e){return null!==t&&e&&e(new jee(t)),J(!0)}(i.route.parent,r),function wte(t,e){return null!==t&&e&&e(new Hee(t)),J(!0)}(i.route,r),function Ite(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function ate(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>v3(()=>J(o.guards.map(u=>{const c=Zl(o.node)??n,l=xu(u,c);return Ss(function fte(t){return t&&nd(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(To())})).pipe(Nu())));return J(s).pipe(Nu())}(t,i.path,n),function bte(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return J(!0);const i=r.map(s=>v3(()=>{const o=Zl(e)??n,a=xu(s,o);return Ss(function hte(t){return t&&nd(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(To())}));return J(i).pipe(Nu())}(t,i.route,n))),To(i=>!0!==i,!0))}(r,s,t,e):J(a)),De(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Xt(u=>{if(s.guardsResult=u.guardsResult,Mo(u.guardsResult))throw Y3(0,u.guardsResult);const c=new Fee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),$i(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),hE(u=>{if(u.guards.canActivateChecks.length)return J(u).pipe(Xt(c=>{const l=new Lee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),xr(c=>{let l=!1;return J(c).pipe(function $te(t,e){return Ht(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let s=0;return St(i).pipe(Du(o=>function Hte(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!cO(i)&&(s[Hl]=i.title),function Gte(t,e,n,r){const i=function zte(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return J({});const s={};return St(i).pipe(Ht(o=>function qte(t,e,n,r){const i=Zl(e)??r,s=xu(t,i);return Ss(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(To(),Xt(a=>{s[o]=a}))),Kw(1),function see(t){return De(()=>t)}(s),So(o=>tO(o)?Wr:jl(o)))}(s,t,e,r).pipe(De(o=>(t._resolvedData=o,t.data=q3(t,n).resolve,i&&cO(i)&&(t.data[Hl]=i.title),null)))}(o.route,r,t,e)),Xt(()=>s++),Kw(1),Ht(o=>s===i.length?J(n):Wr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Xt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Xt(c=>{const l=new Vee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),hE(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Xt(h=>{l.component=h}),De(()=>{})));for(const h of l.children)d.push(...c(h));return d};return zw(c(u.targetSnapshot.root)).pipe(Zp(),Cu(1))}),hE(()=>this.afterPreactivation()),De(u=>{const c=function Qee(t,e,n){const r=Jl(t,e._root,n?n._root:void 0);return new G3(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),Xt(()=>{this.events.next(new eE)}),((t,e,n,r)=>De(i=>(new ste(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Cu(1),Xt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new As(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function oee(t){return Tt((e,n)=>{$n(t).subscribe(vt(n,()=>n.complete(),l_)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Xt(u=>{throw u}))),$l(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),So(u=>{if(a=!0,J3(u))this.events.next(new Yl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function Jee(t){return J3(t)&&Mo(t.url)}(u)?this.events.next(new tE(u.url)):s.resolve(!1);else{this.events.next(new ag(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return Wr}))}))}cancelNavigationTransition(n,r,i){const s=new Yl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dO(t){return t!==Ql}let hO=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[Hl]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return j(Qte)},providedIn:"root"})}return t})(),Qte=(()=>{class t extends hO{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(L(c3))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return j(Jte)},providedIn:"root"})}return t})();class Xte{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Jte=(()=>{class t extends Xte{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Qt(t)))(i||t)}}();static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gg=new B("",{providedIn:"root",factory:()=>({})});let Zte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return j(ene)},providedIn:"root"})}return t})(),ene=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(rd||{});function fO(t,e){t.events.pipe($i(n=>n instanceof As||n instanceof Yl||n instanceof ag||n instanceof Au),De(n=>n instanceof As||n instanceof Au?rd.COMPLETE:n instanceof Yl&&(0===n.code||1===n.code)?rd.REDIRECTING:rd.FAILED),$i(n=>n!==rd.REDIRECTING),Cu(1)).subscribe(()=>{e()})}function tne(t){throw t}function nne(t,e,n){return e.parse("/")}const rne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ine={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=j(Uk),this.isNgZoneEnabled=!1,this._events=new lr,this.options=j(gg,{optional:!0})||{},this.pendingTasks=j(xp),this.errorHandler=this.options.errorHandler||tne,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nne,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=j(Zte),this.routeReuseStrategy=j(Yte),this.titleStrategy=j(hO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=j(ku,{optional:!0})?.flat()??[],this.navigationTransitions=j(pg),this.urlSerializer=j(zl),this.location=j(_w),this.componentInputBindingEnabled=!!j(cg,{optional:!0}),this.eventsSubscription=new xn,this.isNgZoneEnabled=j(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Su,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=z3(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(pO(r)&&this._events.next(r));if(r instanceof og)dO(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Au)this.rawUrlTree=i.rawUrl;else if(r instanceof j3){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof eE)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Yl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof tE){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dO(i.source)};this.scheduleNavigation(s,Ql,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof ag&&this.restoreHistory(i,!0),r instanceof As&&(this.navigated=!0),pO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ql,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(cE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=P3(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return O3(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Mo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ql,null,r)}navigate(n,r={skipLocationChange:!1}){return function sne(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new D(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...rne}:!1===r?{...ine}:r,Mo(n))return D3(this.currentUrlTree,n,i);const s=this.parseUrl(n);return D3(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return fO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pO(t){return!(t instanceof eE||t instanceof tE)}let zi=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new lr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof As&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Yx(t,e,n){return function UG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Kf:Xa}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(S(Jn),S(Gi),function Af(t){return function nH(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(H2(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Kt(),t)}("tabindex"),S(Ri),S(Qn),S(Do))};static#t=this.\u0275dir=ne({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&fe("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&ri("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Eu],skipLocationChange:["skipLocationChange","skipLocationChange",Eu],replaceUrl:["replaceUrl","replaceUrl",Eu],routerLink:"routerLink"},standalone:!0,features:[cN,gr]})}return t})();class gO{}let une=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe($i(n=>n instanceof As),Du(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=U0(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return St(i).pipe(Ta())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):J(null);const s=i.pipe(Ht(o=>null===o?J(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?St([s,this.loader.loadComponent(r)]).pipe(Ta()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(L(Jn),L(jk),L(Kn),L(gO),L(fE))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const pE=new B("");let mO=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof og?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof As?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Au&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $3&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $3(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function F4(){throw new Error("invalid")}()};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function qi(t,e){return{\u0275kind:t,\u0275providers:e}}function _O(){const t=j(un);return e=>{const n=t.get(Io);if(e!==n.components[0])return;const r=t.get(Jn),i=t.get(vO);1===t.get(gE)&&r.initialNavigation(),t.get(wO,null,pe.Optional)?.setUpPreloading(),t.get(pE,null,pe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const vO=new B("",{factory:()=>new lr}),gE=new B("",{providedIn:"root",factory:()=>1}),wO=new B("");function hne(t){return qi(0,[{provide:wO,useExisting:une},{provide:gO,useExisting:t}])}const EO=new B("ROUTER_FORROOT_GUARD"),pne=[_w,{provide:zl,useClass:Qw},Jn,Xl,{provide:Gi,useFactory:function yO(t){return t.routerState.root},deps:[Jn]},fE,[]];function gne(){return new Kk("Router",Jn)}let mg=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[pne,[],{provide:ku,multi:!0,useValue:n},{provide:EO,useFactory:vne,deps:[[Jn,new Pn,new Nf]]},{provide:gg,useValue:r||{}},r?.useHash?{provide:Do,useClass:MX}:{provide:Do,useClass:CP},{provide:pE,useFactory:()=>{const t=j(zJ),e=j(Te),n=j(gg),r=j(pg),i=j(zl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new mO(i,r,t,e,n)}},r?.preloadingStrategy?hne(r.preloadingStrategy).\u0275providers:[],{provide:Kk,multi:!0,useFactory:gne},r?.initialNavigation?wne(r):[],r?.bindToComponentInputs?qi(8,[Q3,{provide:cg,useExisting:Q3}]).\u0275providers:[],[{provide:bO,useFactory:_O},{provide:uw,multi:!0,useExisting:bO}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ku,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(L(EO,8))};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({})}return t})();function vne(t){return"guarded"}function wne(t){return["disabled"===t.initialNavigation?qi(3,[{provide:ew,multi:!0,useFactory:()=>{const e=j(Jn);return()=>{e.setUpLocationChangeListener()}}},{provide:gE,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?qi(2,[{provide:gE,useValue:0},{provide:ew,multi:!0,deps:[un],useFactory:e=>{const n=e.get(SX,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Jn),s=e.get(vO);fO(i,()=>{r(!0)}),e.get(pg).afterPreactivation=()=>(r(!0),s.closed?J(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const bO=new B("");let bne=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-main"]],decls:38,vars:0,consts:[[1,"main"],[1,"logo"],["viewBox","0 0 320 360","height","360","width","320",1,"logo"],["xmlns","http://www.w3.org/2000/svg","d","M20.961 227.22l3.726 4.658-1.863-6.056c-0.466-2.795-3.726 0.466-1.863 1.398M25.153 224.425c1.397 2.329 2.795 4.658 2.795 6.987 0 3.261 2.795 4.658 5.123 5.589-3.261-3.726-5.124-13.974-7.918-12.576M204.017 26.929c7.918 0 15.371-0.932 23.756 0.931 20.495 5.124 37.729 15.371 49.374 29.811l32.606 52.169c1.397 13.042 4.192 27.482 3.726 43.319 3.261 0 2.795-4.658 6.521-5.59-3.726 9.316-5.59 20.961-6.521 34.469-2.329-7.453 0-18.632 0.466-24.687-3.261 5.124-5.124 1.397-5.124-0.932 0.466-3.726-1.397-3.261-2.795-4.658-5.124-4.658-8.384-9.782-12.11-17.7 2.329-6.055 2.795-14.905-4.658-19.563-2.329-1.397-5.124-3.726-6.521-7.453-1.863-5.124-5.124-11.179-4.193-19.097 0.466-2.329-6.987 5.124-11.179 1.863-18.166-12.576-36.332-27.016-58.224-39.127-11.645 0-20.029-4.192-24.221-9.316-3.726-4.658-0.932-10.713 4.658-11.179 3.261 0 6.987-0.932 9.782 0.932 0.466-1.863 2.329-4.192 4.657-4.192M157.904 16.215l0.932 0.466c4.658 0.932 6.987 7.453 12.11 5.124 0 3.261 0.466 6.521-0.466 8.85-1.397 3.726-5.59 3.726-8.85 3.726-31.208-1.863-49.374 11.179-68.471 22.358-5.124 3.261-10.713 5.59-14.906 9.782-20.029 18.632-41.921 35.866-47.045 70.335l-4.192 38.195c-0.466 4.192-5.124 8.384-4.192 13.508l3.26 22.824c-3.261-3.261-5.124 0.932-4.192 2.795 0.466 1.397 2.329 6.055 5.124 1.863 3.726 6.987 7.453 20.495 12.576 26.55 15.837 18.632 36.332 35.4 53.101 52.169 4.192-0.932 7.453-0.932 8.384-3.727 1.397 2.795-1.397 5.59-3.726 6.056 7.453 4.658 15.837 8.85 27.016 9.781 14.44 0.932 27.948 3.261 40.524 6.522 6.521-1.863 13.042-2.795 20.029-3.261 2.329 0 3.726-3.726 6.521-4.658l0.466-4.658c2.795 4.192 2.329-1.397 0.466-4.192 3.261 2.795 4.192 5.124 5.589 6.987 0-1.397 3.726-6.521 3.727-0.466l0.931-6.055c1.397-0.932 1.863 5.124 3.261 0.931 1.397-4.192 4.192-0.932 6.987-2.329-0.932 1.863-0.466 5.59 2.794 3.261l3.727-3.261c2.329 5.59 6.055 3.261 7.918 2.329 20.495-13.042 40.99-28.413 60.553-43.784l-0.466 6.055 2.329-7.453c2.329 2.329 4.192 0.466 5.124-0.931 2.795-4.658 6.521-9.316 12.577-13.508-7.453 20.029-16.303 35.866-27.482 48.908l-4.658 5.59c0 3.261-0.932 7.453-4.658 7.918-1.863 0.466-5.59-0.932-8.384 1.863-1.397 1.863 3.261 5.59-0.466 2.795-3.261-2.329-6.521 0-10.248 0.932-2.795 0.932 1.863 3.726 2.795 5.589 0.932 1.863 1.863 3.726 1.398 6.056l-5.124-5.59c-6.055 3.261-9.782 9.316-14.906 13.974-2.329 1.863-1.397 5.124-1.397 7.918-3.261 0-6.987-0.932-8.85 0.932-1.397 1.863-0.932 4.658-0.932 7.453-4.658-0.466-5.124-7.453-9.315-6.056-4.192 0.932-8.85 1.397-12.577 3.727 2.795 5.59-4.658 2.329-3.726 3.26-6.987-4.192-13.042-7.453-20.495-4.658-15.837-5.124-35.4-2.795-49.84-0.931 0-2.329 0.466-4.658-0.466-5.124-0.932 2.329-3.726 1.397-3.26 1.397-8.85-6.055-17.7-9.782-27.016-14.905-8.384 0.932-16.303-3.261-18.632-5.59-6.521-6.055-13.974-2.795-20.029-4.192-13.042-3.261-17.7-16.769-19.098-26.084-0.932-4.658-4.658-6.521-6.055-6.056-6.055-19.563-15.371-37.263-22.824-55.429-1.863-4.658-1.397-9.316-1.397-14.44 2.329 0.932 4.658 0.466 4.192-2.794-2.329-15.371-7.918-27.016-13.974-38.195 3.261-15.837 3.726-34.469 11.179-48.443 6.521-12.576 18.632-19.098 27.016-29.811 2.795-3.726 2.795-8.85 5.59-12.11 9.316-9.316 18.632-19.098 28.879-27.482 4.658-3.726 10.247 0 17.234-1.397 2.329-8.384 11.645-15.837 20.495-13.508 3.726 0.932 11.179-8.85 13.508-9.782 3.726-1.397 1.863 3.726 1.863 6.987 8.85-6.987 20.961-10.713 32.14-14.906","fill","#ffffff","fill-rule","nonzero","stroke","none","stroke-width","1","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","stroke-dasharray","","stroke-dashoffset","0","font-family","none","font-weight","none","font-size","none","text-anchor","none","data-fill-palette-color","tertiary",2,"mix-blend-mode","normal"],["transform","matrix(1,0,0,1,64,100.74523665202226)"],["viewBox","0 0 192 158.5095266959555","height","158.5095266959555","width","192"],["transform","matrix(1,0,0,1,0,116.51177957641397)"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192"],["id","textblocktransform"],["viewBox","0 0 192 41.99774711954152","height","41.99774711954152","width","192","id","textblock"],["viewBox","0 0 192 27.968648441980502","height","27.968648441980502","width","192"],["transform","matrix(1,0,0,1,0,0)"],["width","192","viewBox","3.25 -37.599998474121094 261.5199890136719 38.099998474121094","height","27.968648441980502","data-palette-color","#ffffff"],["d","M18.9-37.6L18.9-37.6Q21.4-37.6 23.73-36.77 26.05-35.95 27.9-34.55 29.75-33.15 30.95-31.3 32.15-29.45 32.45-27.35L32.45-27.35Q32.55-26.9 32.48-26.75 32.4-26.6 32.1-26.6L32.1-26.6 28.35-26.3Q28.1-26.25 28-26.4 27.9-26.55 27.85-26.8L27.85-26.8Q27.15-30 24.83-31.98 22.5-33.95 19.05-33.95L19.05-33.95Q13.85-33.95 11.05-30.1 8.25-26.25 8.25-18.5L8.25-18.5Q8.25-11 11-7.15 13.75-3.3 19.3-3.3L19.3-3.3Q22.85-3.3 25.23-5 27.6-6.7 29.05-10.45L29.05-10.45Q29.2-10.75 29.65-10.65L29.65-10.65 32.6-9.95Q32.75-9.9 32.85-9.75 32.95-9.6 32.85-9.25L32.85-9.25Q32.45-7.8 31.63-6.4 30.8-5 29.6-3.78 28.4-2.55 26.8-1.58 25.2-0.6 23.28-0.05 21.35 0.5 19.1 0.5L19.1 0.5Q14.15 0.5 10.58-1.8 7-4.1 5.13-8.4 3.25-12.7 3.25-18.6L3.25-18.6Q3.25-24.5 5.13-28.78 7-33.05 10.53-35.33 14.05-37.6 18.9-37.6L18.9-37.6ZM39.9 0L39.9 0Q39.25 0 39.25-0.65L39.25-0.65 39.25-36.45Q39.25-37.1 39.8-37.1L39.8-37.1 42.75-37.1Q43.3-37.1 43.3-36.5L43.3-36.5 43.3-23.15Q43.3-22.9 43.4-22.85 43.5-22.8 43.75-23L43.75-23Q45.5-24.35 46.97-25.25 48.45-26.15 49.87-26.58 51.3-27 53-27L53-27Q56.9-27 58.95-24.93 61-22.85 61-19.4L61-19.4 61-0.8Q61 0 60.25 0L60.25 0 57.45 0Q57.1 0 56.95-0.18 56.8-0.35 56.8-0.65L56.8-0.65 56.8-18.5Q56.8-20.95 55.55-22.33 54.3-23.7 51.6-23.7L51.6-23.7Q50.15-23.7 48.87-23.23 47.6-22.75 46.3-21.88 45-21 43.45-19.65L43.45-19.65 43.45-0.75Q43.45 0 42.65 0L42.65 0 39.9 0ZM71.2-11.6L71.2-11.6Q71.2-9.15 72.37-7.13 73.55-5.1 75.52-3.9 77.5-2.7 79.95-2.7L79.95-2.7Q82.45-2.7 84.4-3.73 86.35-4.75 87.75-6.85L87.75-6.85Q87.95-7.05 88.07-7.08 88.2-7.1 88.45-7L88.45-7 90.55-5.95Q91-5.7 90.65-5.25L90.65-5.25Q89.3-3.25 87.67-1.98 86.05-0.7 84.05-0.1 82.05 0.5 79.55 0.5L79.55 0.5Q75.85 0.5 73-1.2 70.15-2.9 68.5-5.95 66.85-9 66.85-13L66.85-13Q66.85-17.35 68.52-20.48 70.2-23.6 73.07-25.3 75.95-27 79.5-27L79.5-27Q83.15-27 85.85-25.4 88.55-23.8 90.05-20.75 91.55-17.7 91.55-13.4L91.55-13.4Q91.55-13.05 91.47-12.7 91.4-12.35 90.8-12.35L90.8-12.35 71.65-12.35Q71.45-12.35 71.32-12.13 71.2-11.9 71.2-11.6L71.2-11.6ZM71.3-15.1L86.5-15.1Q87.05-15.1 87.2-15.23 87.35-15.35 87.35-15.8L87.35-15.8Q87.35-17.95 86.42-19.83 85.5-21.7 83.77-22.85 82.05-24 79.6-24L79.6-24Q76.9-24 75.05-22.73 73.2-21.45 72.25-19.4 71.3-17.35 71.3-15.1L71.3-15.1ZM110.19-26.5L110.19-26.5Q110.44-26.5 110.57-26.35 110.69-26.2 110.69-26L110.69-26 110.69-23.85Q110.69-23.35 110.19-23.35L110.19-23.35 104.49-23.35Q104.09-23.35 104.09-22.95L104.09-22.95 104.09-0.7Q104.09 0 103.49 0L103.49 0 100.44 0Q99.89 0 99.89-0.65L99.89-0.65 99.89-23Q99.89-23.35 99.54-23.35L99.54-23.35 94.64-23.35Q94.14-23.35 94.14-23.85L94.14-23.85 94.14-26Q94.14-26.2 94.27-26.35 94.39-26.5 94.69-26.5L94.69-26.5 99.44-26.5Q99.89-26.5 99.89-27L99.89-27 99.89-30.65Q99.89-33.8 101.44-35.45 102.99-37.1 106.14-37.1L106.14-37.1 110.29-37.1Q110.94-37.1 110.94-36.5L110.94-36.5 110.94-34.55Q110.94-34.3 110.82-34.18 110.69-34.05 110.39-34.05L110.39-34.05 106.89-34.05Q105.34-34.05 104.67-33.08 103.99-32.1 103.99-30.45L103.99-30.45 103.99-26.95Q103.99-26.5 104.44-26.5L104.44-26.5 110.19-26.5ZM130.99-20.65L130.99-20.65Q129.99-22.15 128.19-23.1 126.39-24.05 123.89-24.05L123.89-24.05Q121.19-24.05 119.42-22.9 117.64-21.75 117.64-19.8L117.64-19.8Q117.64-18.75 118.44-17.82 119.24-16.9 121.69-16.1L121.69-16.1 128.04-14.2Q131.49-13.25 133.02-11.45 134.54-9.65 134.54-7.3L134.54-7.3Q134.54-4.95 133.14-3.2 131.74-1.45 129.29-0.48 126.84 0.5 123.74 0.5L123.74 0.5Q119.79 0.5 116.84-1.07 113.89-2.65 112.64-5L112.64-5Q112.49-5.25 112.49-5.45 112.49-5.65 112.74-5.8L112.74-5.8 114.69-6.9Q114.94-7.05 115.14-7.03 115.34-7 115.44-6.85L115.44-6.85Q116.29-5.55 117.42-4.6 118.54-3.65 120.12-3.1 121.69-2.55 123.79-2.55L123.79-2.55Q125.69-2.6 127.24-3.1 128.79-3.6 129.69-4.58 130.59-5.55 130.59-6.85L130.59-6.85Q130.59-8.2 129.49-9.18 128.39-10.15 125.69-10.9L125.69-10.9 120.54-12.35Q116.79-13.35 115.27-15.05 113.74-16.75 113.69-19.05L113.69-19.05Q113.69-21.45 114.99-23.23 116.29-25 118.62-26 120.94-27 123.94-27L123.94-27Q127.29-27 129.92-25.73 132.54-24.45 133.89-22.35L133.89-22.35Q134.04-22.15 134.04-21.98 134.04-21.8 133.84-21.65L133.84-21.65 131.74-20.5Q131.54-20.4 131.37-20.43 131.19-20.45 130.99-20.65L130.99-20.65ZM149.63-33.95L149.63-36.55Q149.63-36.8 149.76-36.95 149.88-37.1 150.23-37.1L150.23-37.1 177.13-37.1Q177.44-37.1 177.59-36.95 177.74-36.8 177.74-36.55L177.74-36.55 177.74-33.95Q177.74-33.45 177.13-33.45L177.13-33.45 166.99-33.45Q166.44-33.45 166.44-32.95L166.44-32.95 166.44-0.65Q166.44 0 165.84 0L165.84 0 162.23 0Q161.63 0 161.63-0.65L161.63-0.65 161.63-32.9Q161.63-33.45 161.13-33.45L161.13-33.45 150.23-33.45Q149.63-33.45 149.63-33.95L149.63-33.95ZM194.68-3.2L194.68-3.2Q192.83-1.4 190.66-0.45 188.48 0.5 185.78 0.5L185.78 0.5Q181.88 0.5 179.66-1.5 177.43-3.5 177.43-6.75L177.43-6.75Q177.43-9.4 178.93-11.33 180.43-13.25 183.38-14.38 186.33-15.5 190.63-15.75L190.63-15.75 194.53-16.05Q194.83-16.1 195.08-16.25 195.33-16.4 195.33-16.8L195.33-16.8 195.33-18.15Q195.33-20.85 193.66-22.43 191.98-24 189.13-24L189.13-24Q186.93-24 185.16-23 183.38-22 181.98-20L181.98-20Q181.78-19.75 181.66-19.68 181.53-19.6 181.23-19.7L181.23-19.7 178.53-20.6Q178.38-20.7 178.31-20.85 178.23-21 178.43-21.4L178.43-21.4Q179.93-24 182.66-25.5 185.38-27 189.33-27L189.33-27Q192.68-27 194.91-25.98 197.13-24.95 198.26-23.03 199.38-21.1 199.38-18.45L199.38-18.45 199.38-0.75Q199.38-0.3 199.23-0.15 199.08 0 198.73 0L198.73 0 196.18 0Q195.83 0 195.68-0.23 195.53-0.45 195.48-0.8L195.48-0.8 195.43-3.1Q195.28-3.8 194.68-3.2L194.68-3.2ZM195.33-12.7L195.33-12.7Q195.33-13.55 194.63-13.5L194.63-13.5 191.33-13.2Q189.03-13.1 187.23-12.63 185.43-12.15 184.18-11.4 182.93-10.65 182.28-9.63 181.63-8.6 181.63-7.25L181.63-7.25Q181.63-5.05 183.16-3.83 184.68-2.6 187.28-2.6L187.28-2.6Q188.88-2.6 190.36-3.18 191.83-3.75 192.93-4.65L192.93-4.65Q194.08-5.6 194.71-6.6 195.33-7.6 195.33-8.55L195.33-8.55 195.33-12.7ZM211.08-36.45L211.08-0.85Q211.08-0.35 210.88-0.18 210.68 0 210.18 0L210.18 0 207.58 0Q206.83 0 206.83-0.7L206.83-0.7 206.88-36.4Q206.88-37.1 207.48-37.1L207.48-37.1 210.48-37.1Q211.08-37.1 211.08-36.45L211.08-36.45ZM241.68-0.8L241.68-0.8Q241.88-0.5 241.78-0.25 241.68 0 241.23 0L241.23 0 237.73 0Q237.43 0 237.2-0.15 236.98-0.3 236.83-0.6L236.83-0.6 229.28-13.55Q229.18-13.75 229.05-13.83 228.93-13.9 228.68-13.65L228.68-13.65 223.38-8.3Q223.18-8.1 223.1-7.88 223.03-7.65 223.03-7.3L223.03-7.3 223.03-0.85Q223.03-0.35 222.85-0.18 222.68 0 222.13 0L222.13 0 219.58 0Q219.08 0 218.95-0.15 218.83-0.3 218.83-0.7L218.83-0.7 218.83-36.4Q218.83-37.1 219.38-37.1L219.38-37.1 222.43-37.1Q223.03-37.1 223.03-36.45L223.03-36.45 223.03-13.25Q223.03-12.85 223.13-12.78 223.23-12.7 223.53-13.05L223.53-13.05 235.88-25.9Q236.43-26.5 236.93-26.5L236.93-26.5 239.98-26.5Q240.48-26.5 240.55-26.23 240.63-25.95 240.23-25.55L240.23-25.55 232.33-17.5Q232.18-17.35 232.15-17.15 232.13-16.95 232.28-16.65L232.28-16.65 241.68-0.8ZM261.23-20.65L261.23-20.65Q260.23-22.15 258.43-23.1 256.63-24.05 254.13-24.05L254.13-24.05Q251.42-24.05 249.65-22.9 247.88-21.75 247.88-19.8L247.88-19.8Q247.88-18.75 248.67-17.82 249.47-16.9 251.92-16.1L251.92-16.1 258.27-14.2Q261.73-13.25 263.25-11.45 264.77-9.65 264.77-7.3L264.77-7.3Q264.77-4.95 263.38-3.2 261.98-1.45 259.52-0.48 257.07 0.5 253.97 0.5L253.97 0.5Q250.03 0.5 247.07-1.07 244.13-2.65 242.88-5L242.88-5Q242.72-5.25 242.72-5.45 242.72-5.65 242.97-5.8L242.97-5.8 244.92-6.9Q245.17-7.05 245.38-7.03 245.57-7 245.67-6.85L245.67-6.85Q246.53-5.55 247.65-4.6 248.78-3.65 250.35-3.1 251.92-2.55 254.03-2.55L254.03-2.55Q255.92-2.6 257.48-3.1 259.02-3.6 259.93-4.58 260.82-5.55 260.82-6.85L260.82-6.85Q260.82-8.2 259.73-9.18 258.63-10.15 255.92-10.9L255.92-10.9 250.78-12.35Q247.03-13.35 245.5-15.05 243.97-16.75 243.92-19.05L243.92-19.05Q243.92-21.45 245.22-23.23 246.53-25 248.85-26 251.17-27 254.17-27L254.17-27Q257.52-27 260.15-25.73 262.77-24.45 264.13-22.35L264.13-22.35Q264.27-22.15 264.27-21.98 264.27-21.8 264.07-21.65L264.07-21.65 261.98-20.5Q261.77-20.4 261.6-20.43 261.43-20.45 261.23-20.65L261.23-20.65Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","primary","id","text-0",1,"wordmark-text-0"],["transform","matrix(1,0,0,1,36.672,34.57137509156949)"],["viewBox","0 0 118.656 7.426372027972029","height","7.426372027972029","width","118.656"],["width","118.656","viewBox","0 -35.79999923706055 571.9600219726562 35.79999923706055","height","7.426372027972029","data-palette-color","#ffffff"],["d","M40.35-2.15L52.4-2.15 52.4 0 33.75 0 26.4-23.95 26-23.95 18.65 0 0 0 0-2.15 12.05-2.15 0.6-34.95 6.95-34.95 15.75-9.8 23.55-34.95 28.85-34.95 36.65-9.8 45.45-34.95 51.8-34.95 40.35-2.15ZM52.4-2.15L57.25-2.15 57.25-34.95 81.8-34.95 81.8-29.4 63.15-29.4 63.15-20.15 79.9-20.15 79.9-14.9 63.15-14.9 63.15-5.55 82.4-5.55 82.4-2.15 87.25-2.15 87.25 0 52.4 0 52.4-2.15ZM85.1-2.15L98.8-2.15 98.8 0 85.1 0 85.1-2.15ZM129.04-2.15L135.59-2.15 135.59 0 98.79 0 98.79-2.15 109.89-2.15Q105.94-4.5 103.67-8.55 101.39-12.6 101.39-17.7L101.39-17.7Q101.39-25.4 106.72-30.6 112.04-35.8 120.17-35.8 128.29-35.8 133.74-29.8L133.74-29.8 129.99-25.7Q127.49-28.1 125.27-29.05 123.04-30 120.04-30L120.04-30Q114.74-30 111.14-26.58 107.54-23.15 107.54-17.82 107.54-12.5 111.12-8.93 114.69-5.35 119.59-5.35L119.59-5.35Q122.64-5.35 124.84-6.38 127.04-7.4 129.44-9.65L129.44-9.65 133.24-5.75Q131.04-3.35 129.04-2.15L129.04-2.15ZM166.14-2.15L177.59-2.15 177.59 0 135.59 0 135.59-2.15 147.04-2.15Q142.94-4.5 140.57-8.6 138.19-12.7 138.19-17.75L138.19-17.75Q138.19-25.45 143.49-30.63 148.79-35.8 156.59-35.8 164.39-35.8 169.69-30.63 174.99-25.45 174.99-17.75L174.99-17.75Q174.99-12.75 172.62-8.6 170.24-4.45 166.14-2.15L166.14-2.15ZM165.37-26.7Q161.79-30.4 156.59-30.4 151.39-30.4 147.82-26.7 144.24-23 144.24-17.73 144.24-12.45 147.82-8.75 151.39-5.05 156.59-5.05 161.79-5.05 165.37-8.75 168.94-12.45 168.94-17.73 168.94-23 165.37-26.7ZM208.14-2.15L219.59-2.15 219.59 0 177.59 0 177.59-2.15 189.04-2.15Q184.94-4.5 182.56-8.6 180.19-12.7 180.19-17.75L180.19-17.75Q180.19-25.45 185.49-30.63 190.79-35.8 198.59-35.8 206.39-35.8 211.69-30.63 216.99-25.45 216.99-17.75L216.99-17.75Q216.99-12.75 214.61-8.6 212.24-4.45 208.14-2.15L208.14-2.15ZM207.36-26.7Q203.79-30.4 198.59-30.4 193.39-30.4 189.81-26.7 186.24-23 186.24-17.73 186.24-12.45 189.81-8.75 193.39-5.05 198.59-5.05 203.79-5.05 207.36-8.75 210.94-12.45 210.94-17.73 210.94-23 207.36-26.7ZM219.59-2.15L224.44-2.15 224.44-34.95 230.34-34.95 230.34-17.9 246.34-34.95 253.84-34.95 239.79-19.65 252.49-2.1 252.49-2.15 257.34-2.15 257.34 0 247.04 0 235.44-15.3 230.34-9.8 230.34 0 219.59 0 219.59-2.15ZM254.78-2.15L268.48-2.15 268.48 0 254.78 0 254.78-2.15ZM308.83-2.15L320.88-2.15 320.88 0 302.23 0 294.88-23.95 294.48-23.95 287.13 0 268.48 0 268.48-2.15 280.53-2.15 269.08-34.95 275.43-34.95 284.23-9.8 292.03-34.95 297.33-34.95 305.13-9.8 313.93-34.95 320.28-34.95 308.83-2.15ZM320.88-2.15L325.73-2.15 325.73-34.95 331.63-34.95 331.63-2.15 336.48-2.15 336.48 0 320.88 0 320.88-2.15ZM354.53-2.15L366.68-2.15 366.68 0 336.48 0 336.48-2.15 348.63-2.15 348.63-29.55 338.03-29.55 338.03-34.95 365.13-34.95 365.13-29.55 354.53-29.55 354.53-2.15ZM405.52 0L405.52-2.15 400.67-2.15 400.67-34.95 394.77-34.95 394.77-19.8 377.42-19.8 377.42-34.95 371.52-34.95 371.52 0 377.42 0 377.42-14.3 394.77-14.3 394.77 0 405.52 0ZM366.67-2.15L371.52-2.15 371.52 0 366.67 0 366.67-2.15ZM405.52-2.15L419.22-2.15 419.22 0 405.52 0 405.52-2.15ZM445.92-2.15L450.77-2.15 450.77 0 419.22 0 419.22-2.15 424.07-2.15 424.07-34.95 429.97-34.95 429.97-5.6 445.92-5.6 445.92-2.15ZM478.07-2.15L489.52-2.15 489.52 0 447.52 0 447.52-2.15 458.97-2.15Q454.87-4.5 452.49-8.6 450.12-12.7 450.12-17.75L450.12-17.75Q450.12-25.45 455.42-30.63 460.72-35.8 468.52-35.8 476.32-35.8 481.62-30.63 486.92-25.45 486.92-17.75L486.92-17.75Q486.92-12.75 484.54-8.6 482.17-4.45 478.07-2.15L478.07-2.15ZM477.29-26.7Q473.72-30.4 468.52-30.4 463.32-30.4 459.74-26.7 456.17-23 456.17-17.73 456.17-12.45 459.74-8.75 463.32-5.05 468.52-5.05 473.72-5.05 477.29-8.75 480.87-12.45 480.87-17.73 480.87-23 477.29-26.7ZM511.16-2.15L524.51-2.15 524.51 0 489.51 0 489.51-2.15 502.81-2.15 489.66-34.95 496.26-34.95 507.01-8.85 517.76-34.95 524.36-34.95 511.16-2.15ZM524.51-2.15L529.36-2.15 529.36-34.95 553.91-34.95 553.91-29.4 535.26-29.4 535.26-20.15 552.01-20.15 552.01-14.9 535.26-14.9 535.26-5.55 554.51-5.55 554.51-2.15 559.36-2.15 559.36 0 524.51 0 524.51-2.15ZM561.11-28.5L561.11-34.95 568.11-34.95 568.11-28.5 566.61-10.95 562.61-10.95 561.11-28.5ZM567.21-2.15L571.96-2.15 571.96 0 557.21 0 557.21-2.15 562.06-2.15Q560.91-3.2 560.91-4.78 560.91-6.35 562.01-7.45 563.11-8.55 564.63-8.55 566.16-8.55 567.26-7.45 568.36-6.35 568.36-4.78 568.36-3.2 567.21-2.15L567.21-2.15Z","opacity","1","transform","matrix(1,0,0,1,0,0)","fill","#ffffff","data-fill-palette-color","secondary","id","text-1",1,"slogan-text-1"],["transform","matrix(1,0,0,1,44.346836861382,0)"],["viewBox","0 0 103.306326277236 103.306326277236","height","103.306326277236","width","103.306326277236"],["id","icon-0"],["d","M0 51.653c0-28.527 23.126-51.653 51.653-51.653 28.527 0 51.653 23.126 51.653 51.653 0 28.527-23.126 51.653-51.653 51.653-28.527 0-51.653-23.126-51.653-51.653zM51.653 100.784c27.134 0 49.131-21.997 49.131-49.131 0-27.134-21.997-49.131-49.131-49.131-27.134 0-49.131 21.997-49.131 49.131 0 27.134 21.997 49.131 49.131 49.131z","data-fill-palette-color","accent","fill","#ffffff","stroke","transparent"],["rx","51.13663150723182","ry","51.13663150723182","cx","51.653163138618","cy","51.653163138618","fill","#ffffff","stroke","transparent","stroke-width","0","fill-opacity","1","data-fill-palette-color","accent"],["transform","matrix(1,0,0,1,20.799678473042622,21.56674460107238)"],["viewBox","0 0 61.70696933115075 60.17283707509124","height","60.17283707509124","width","61.70696933115075"],["xmlns","http://www.w3.org/2000/svg","version","1.1","x","0","y","0","viewBox","4.642358779907227 7.340823173522949 90.00060272216797 87.76304626464844","enable-background","new 0 0 100 100","height","60.17283707509124","width","61.70696933115075","data-fill-palette-color","quaternary","id","y-0",1,"icon-y-0"],["d","M34.065 95.103c0 0-5.908 0.268-6.441-8.623l-4.313-27.253c0 0-17.724-3.09-18.628-18.685 0 0-1.49-14.747 13.574-20.441 0 0 2.29-1.809 10.115-1.704 0 0 7.187-11.871 21.397-10.965 0 0 10.968-1.81 21.08 10.699 0 0 14.211-1.011 21.345 11.604 0 0 8.251 13.468-5.537 24.752 0 0-3.46 3.087-9.847 4.578l-3.565 29.33c0 0 0.21 4.95-3.779 5.909l0.212-43.862c0 0-0.638-3.62-4.151-3.568 0 0-3.355-0.158-4.045 3.568V76.42h2.767v18.683h-8.782V66.41c0 0 2.874-0.462 3.246-3.185V47.887c0 0 0.238-1.146-0.831-1.083-1.072 0.063-0.926 0.42-0.926 1.029 0 0.608 0 11.062 0 11.062h-1.679V47.75c0 0-0.042-1.008-0.796-0.797 0 0-0.86-0.19-0.902 0.818-0.042 1.006 0 11.04 0 11.04h-1.679V47.853c0 0 0.125-1.069-0.735-1.048-0.861 0.021-0.925 0.672-0.925 1.134 0 0.461 0 10.894 0 10.894h-1.615V47.434c0 0 0.083-0.755-0.841-0.65-0.921 0.106-0.902 0.629-0.902 0.86 0 0.232 0 15.389 0 15.389s-0.273 2.853 3.359 3.146v28.924H39.071V68.363c0 0 6.467-3.529 5.795-10.58 0 0 0.504-8.649-7.223-10.831 0 0-8.06-0.505-9.235 9.571 0 0-0.841 8.73 5.542 11.672L34.065 95.103z","fill","#8abe53","data-fill-palette-color","quaternary"]],template:function(r,i){1&r&&(_(0,"main",0)(1,"div",1),function UM(){ee.lFrame.currentNamespace="svg"}(),_(2,"svg",2)(3,"g"),q(4,"path",3),y(),_(5,"g",4)(6,"svg",5)(7,"g")(8,"svg",5)(9,"g",6)(10,"svg",7)(11,"g",8)(12,"svg",9)(13,"g")(14,"svg",10)(15,"g",11)(16,"svg",12),q(17,"path",13),y()()()(),_(18,"g",14)(19,"svg",15)(20,"g",11)(21,"svg",16),q(22,"path",17),y()()()()()()()(),_(23,"g",18)(24,"svg",19)(25,"g"),q(26,"svg"),y(),_(27,"g",20)(28,"svg",19)(29,"g"),q(30,"path",21)(31,"ellipse",22),y(),_(32,"g",23)(33,"svg",24)(34,"g")(35,"svg",25),q(36,"path",26),y()()()()()()()(),q(37,"g"),y()()()()()()())},styles:[".logo[_ngcontent-%COMP%]{width:250px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return t})();function IO(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){IO(s,r,i,o,a,"next",u)}function a(u){IO(s,r,i,o,a,"throw",u)}o(void 0)})}}const CO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Tne;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pu=function(t){return function(t){const e=CO(t);return yE.encodeByteArray(e,!0)}(t).replace(/\./g,"")},yg=function(t){try{return yE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},_g=()=>{try{return function Mne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},_E=()=>{var t;return null===(t=_g())||void 0===t?void 0:t.config};class vg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Zn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vE(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ms(){try{return"object"==typeof indexedDB}catch{return!1}}function Ou(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function wE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ur.prototype.create)}}class Ur{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function jne(t,e){return t.replace($ne,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new er(i,`${this.serviceName}: ${o} (${i}).`,r)}}const $ne=/\{\$([^}]+)}/g;function id(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(SO(s)&&SO(o)){if(!id(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function SO(t){return null!==t&&"object"==typeof t}function AO(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Gne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function zne(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=EE),void 0===i.error&&(i.error=EE),void 0===i.complete&&(i.complete=EE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EE(){}const qne=1e3,Wne=2,Kne=144e5,Qne=.5;function IE(t,e=qne,n=Wne){const r=e*Math.pow(n,t),i=Math.round(Qne*r*(Math.random()-.5)*2);return Math.min(Kne,r+i)}function Ir(t){return t&&t._delegate?t._delegate:t}class Et{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xo="[DEFAULT]";class Xne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Zne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===xo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class MO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const CE=[];var be=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(be||{});const xO={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},ere=be.INFO,tre={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},nre=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=tre[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class No{constructor(e){this.name=e,this._logLevel=ere,this._logHandler=nre,this._userLogHandler=null,CE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?xO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const rre=(t,e)=>e.some(n=>t instanceof n);let NO,RO;const kO=new WeakMap,DE=new WeakMap,PO=new WeakMap,TE=new WeakMap,SE=new WeakMap;let AE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return DE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||PO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lre(t){return"function"==typeof t?function cre(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sre(){return RO||(RO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ME(this),e),xs(kO.get(this))}:function(...e){return xs(t.apply(ME(this),e))}:function(e,...n){const r=t.call(ME(this),e,...n);return PO.set(r,e.sort?e.sort():[e]),xs(r)}}(t):(t instanceof IDBTransaction&&function are(t){if(DE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});DE.set(t,e)}(t),rre(t,function ire(){return NO||(NO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,AE):t)}function xs(t){if(t instanceof IDBRequest)return function ore(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kO.set(n,t)}).catch(()=>{}),SE.set(e,t),e}(t);if(TE.has(t))return TE.get(t);const e=lre(t);return e!==t&&(TE.set(t,e),SE.set(e,t)),e}const ME=t=>SE.get(t);function OO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=xs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(xs(o.result),u.oldVersion,u.newVersion,xs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const dre=["get","getKey","getAll","getAllKeys","count"],hre=["put","add","delete","clear"],xE=new Map;function FO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(xE.get(e))return xE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!dre.includes(n))return;const s=function(){var o=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return xE.set(e,s),s}!function ure(t){AE=t(AE)}(t=>({...t,get:(e,n,r)=>FO(e,n)||t.get(e,n,r),has:(e,n)=>!!FO(e,n)||t.has(e,n)}));class fre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function pre(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const NE="@firebase/app",Ro=new No("@firebase/app"),Eg="[DEFAULT]",Ure={[NE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ko=new Map,bg=new Map;function jre(t,e){try{t.container.addComponent(e)}catch(n){Ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fu(t){const e=t.name;if(bg.has(e))return Ro.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,t);for(const n of ko.values())jre(n,t);return!0}const Wi=new Ur("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hre{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}const Ig="9.23.0";function BO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Eg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(n||(n=_E()),!n)throw Wi.create("no-options");const s=ko.get(i);if(s){if(id(n,s.options)&&id(r,s.config))return s;throw Wi.create("duplicate-app",{appName:i})}const o=new MO(i);for(const u of bg.values())o.addComponent(u);const a=new Hre(n,r,o);return ko.set(i,a),a}function UO(t=Eg){const e=ko.get(t);if(!e&&t===Eg&&_E())return BO();if(!e)throw Wi.create("no-app",{appName:t});return e}function jO(){return Array.from(ko.values())}function Cr(t,e,n){var r;let i=null!==(r=Ure[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ro.warn(a.join(" "))}Fu(new Et(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Gre="firebase-heartbeat-database",zre=1,sd="firebase-heartbeat-store";let kE=null;function $O(){return kE||(kE=OO(Gre,zre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(sd)}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),kE}function PE(){return(PE=v(function*(t){try{return yield(yield $O()).transaction(sd).objectStore(sd).get(GO(t))}catch(e){if(e instanceof er)Ro.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e?.message});Ro.warn(n.message)}}})).apply(this,arguments)}function HO(t,e){return OE.apply(this,arguments)}function OE(){return(OE=v(function*(t,e){try{const r=(yield $O()).transaction(sd,"readwrite");yield r.objectStore(sd).put(e,GO(t)),yield r.done}catch(n){if(n instanceof er)Ro.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n?.message});Ro.warn(r.message)}}})).apply(this,arguments)}function GO(t){return`${t.name}!${t.options.appId}`}class Qre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=zO(),{heartbeatsToSend:r,unsentEntries:i}=function Yre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Pu(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function zO(){return(new Date).toISOString().substring(0,10)}class Xre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!Ms()&&Ou().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function qre(t){return PE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return HO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return HO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function qO(t){return Pu(JSON.stringify({version:2,heartbeats:t})).length}!function Jre(t){Fu(new Et("platform-logger",e=>new fre(e),"PRIVATE")),Fu(new Et("heartbeat",e=>new Qre(e),"PRIVATE")),Cr(NE,"0.9.13",t),Cr(NE,"0.9.13","esm2017"),Cr("fire-js","")}(""),Cr("firebase","9.23.0","app");class tie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function nie(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const FE="@firebase/app",Po=new No("@firebase/app"),Aie={[FE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oo=new Map,Dg=new Map;function Mie(t,e){try{t.container.addComponent(e)}catch(n){Po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dr(t){const e=t.name;if(Dg.has(e))return Po.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const n of Oo.values())Mie(n,t);return!0}function LE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ki=new Ur("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}function tr(t,e,n){var r;let i=null!==(r=Aie[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Po.warn(a.join(" "))}Dr(new Et(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const kie="firebase-heartbeat-database",Pie=1,od="firebase-heartbeat-store";let BE=null;function QO(){return BE||(BE=OO(kie,Pie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(od)}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),BE}function UE(){return(UE=v(function*(t){try{return yield(yield QO()).transaction(od).objectStore(od).get(XO(t))}catch(e){if(e instanceof er)Po.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e?.message});Po.warn(n.message)}}})).apply(this,arguments)}function YO(t,e){return jE.apply(this,arguments)}function jE(){return(jE=v(function*(t,e){try{const r=(yield QO()).transaction(od,"readwrite");yield r.objectStore(od).put(e,XO(t)),yield r.done}catch(n){if(n instanceof er)Po.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n?.message});Po.warn(r.message)}}})).apply(this,arguments)}function XO(t){return`${t.name}!${t.options.appId}`}class Vie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=JO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=JO(),{heartbeatsToSend:r,unsentEntries:i}=function Bie(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ZO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Pu(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function JO(){return(new Date).toISOString().substring(0,10)}class Uie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!Ms()&&Ou().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Oie(t){return UE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return YO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return YO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function ZO(t){return Pu(JSON.stringify({version:2,heartbeats:t})).length}!function jie(t){Dr(new Et("platform-logger",e=>new tie(e),"PRIVATE")),Dr(new Et("heartbeat",e=>new Vie(e),"PRIVATE")),tr(FE,"0.9.22",t),tr(FE,"0.9.22","esm2017"),tr("fire-js","")}("");const $ie=(t,e)=>e.some(n=>t instanceof n);let eF,tF;const nF=new WeakMap,$E=new WeakMap,rF=new WeakMap,HE=new WeakMap,GE=new WeakMap;let zE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return $E.get(t);if("objectStoreNames"===e)return t.objectStoreNames||rF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ns(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Qie(t){return"function"==typeof t?function Kie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gie(){return tF||(tF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(qE(this),e),Ns(nF.get(this))}:function(...e){return Ns(t.apply(qE(this),e))}:function(e,...n){const r=t.call(qE(this),e,...n);return rF.set(r,e.sort?e.sort():[e]),Ns(r)}}(t):(t instanceof IDBTransaction&&function qie(t){if($E.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$E.set(t,e)}(t),$ie(t,function Hie(){return eF||(eF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,zE):t)}function Ns(t){if(t instanceof IDBRequest)return function zie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nF.set(n,t)}).catch(()=>{}),GE.set(e,t),e}(t);if(HE.has(t))return HE.get(t);const e=Qie(t);return e!==t&&(HE.set(t,e),GE.set(e,t)),e}const qE=t=>GE.get(t),Xie=["get","getKey","getAll","getAllKeys","count"],Jie=["put","add","delete","clear"],WE=new Map;function iF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(WE.get(e))return WE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xie.includes(n))return;const s=function(){var o=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return WE.set(e,s),s}!function Wie(t){zE=t(zE)}(t=>({...t,get:(e,n,r)=>iF(e,n)||t.get(e,n,r),has:(e,n)=>!!iF(e,n)||t.has(e,n)}));const sF="@firebase/installations",KE="0.6.4",oF=1e4,aF=`w:${KE}`,uF="FIS_v2",Zie="https://firebaseinstallations.googleapis.com/v1",ese=36e5,Qi=new Ur("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cF(t){return t instanceof er&&t.code.includes("request-failed")}function QE({projectId:t}){return`${Zie}/projects/${t}/installations`}function lF(t){return{token:t.token,requestStatus:2,expiresIn:ise(t.expiresIn),creationTime:Date.now()}}function YE(t,e){return XE.apply(this,arguments)}function XE(){return(XE=v(function*(t,e){const r=(yield e.json()).error;return Qi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function dF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function JE(t){return ZE.apply(this,arguments)}function ZE(){return(ZE=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ise(t){return Number(t.replace("s","000"))}function eb(){return(eb=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=QE(t),i=dF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:uF,appId:t.appId,sdkVersion:aF})},u=yield JE(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:lF(c.authToken)}}throw yield YE("Create Installation",u)})).apply(this,arguments)}function fF(t){return new Promise(e=>{setTimeout(e,t)})}const use=/^[cdef][\w-]{21}$/,tb="";function cse(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function lse(t){return function ase(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return use.test(n)?n:tb}catch{return tb}}function Lu(t){return`${t.appName}!${t.appId}`}const Vu=new Map;function pF(t,e){const n=Lu(t);gF(n,e),function fse(t,e){const n=function mF(){return!Fo&&"BroadcastChannel"in self&&(Fo=new BroadcastChannel("[Firebase] FID Change"),Fo.onmessage=t=>{gF(t.data.key,t.data.fid)}),Fo}();n&&n.postMessage({key:t,fid:e}),function yF(){0===Vu.size&&Fo&&(Fo.close(),Fo=null)}()}(n,e)}function gF(t,e){const n=Vu.get(t);if(n)for(const r of n)r(e)}let Fo=null;const pse="firebase-installations-database",gse=1,Lo="firebase-installations-store";let nb=null;function rb(){return nb||(nb=function Yie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ns(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ns(o.result),u.oldVersion,u.newVersion,Ns(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(pse,gse,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Lo)}})),nb}function Tg(t,e){return ib.apply(this,arguments)}function ib(){return(ib=v(function*(t,e){const n=Lu(t),i=(yield rb()).transaction(Lo,"readwrite"),s=i.objectStore(Lo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&pF(t,e.fid),e})).apply(this,arguments)}function sb(t){return ob.apply(this,arguments)}function ob(){return(ob=v(function*(t){const e=Lu(t),r=(yield rb()).transaction(Lo,"readwrite");yield r.objectStore(Lo).delete(e),yield r.done})).apply(this,arguments)}function ad(t,e){return ab.apply(this,arguments)}function ab(){return(ab=v(function*(t,e){const n=Lu(t),i=(yield rb()).transaction(Lo,"readwrite"),s=i.objectStore(Lo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&pF(t,a.fid),a})).apply(this,arguments)}function ub(t){return cb.apply(this,arguments)}function cb(){return cb=v(function*(t){let e;const n=yield ad(t.appConfig,r=>{const i=function mse(t){return vF(t||{fid:cse(),registrationStatus:0})}(r),s=function yse(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Qi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function _se(t,e){return lb.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:vse(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===tb?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),cb.apply(this,arguments)}function lb(){return lb=v(function*(t,e){try{const n=yield function ose(t,e){return eb.apply(this,arguments)}(t,e);return Tg(t.appConfig,n)}catch(n){throw cF(n)&&409===n.customData.serverCode?yield sb(t.appConfig):yield Tg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),lb.apply(this,arguments)}function vse(t){return db.apply(this,arguments)}function db(){return(db=v(function*(t){let e=yield _F(t.appConfig);for(;1===e.registrationStatus;)yield fF(100),e=yield _F(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield ub(t);return r||n}return e})).apply(this,arguments)}function _F(t){return ad(t,e=>{if(!e)throw Qi.create("installation-not-found");return vF(e)})}function vF(t){return function wse(t){return 1===t.registrationStatus&&t.registrationTime+oF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function hb(){return(hb=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function bse(t,{fid:e}){return`${QE(t)}/${e}/authTokens:generate`}(t,n),i=function hF(t,{refreshToken:e}){const n=dF(t);return n.append("Authorization",function sse(t){return`${uF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:aF,appId:t.appId}})},u=yield JE(()=>fetch(r,a));if(u.ok)return lF(yield u.json());throw yield YE("Generate Auth Token",u)})).apply(this,arguments)}function fb(t){return pb.apply(this,arguments)}function pb(){return pb=v(function*(t,e=!1){let n;const r=yield ad(t.appConfig,s=>{if(!EF(s))throw Qi.create("not-registered");const o=s.authToken;if(!e&&function Dse(t){return 2===t.requestStatus&&!function Tse(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ese}(t)}(o))return s;if(1===o.requestStatus)return n=function Ise(t,e){return gb.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Qi.create("app-offline");const a=function Sse(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Cse(t,e){return mb.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),pb.apply(this,arguments)}function gb(){return(gb=v(function*(t,e){let n=yield wF(t.appConfig);for(;1===n.authToken.requestStatus;)yield fF(100),n=yield wF(t.appConfig);const r=n.authToken;return 0===r.requestStatus?fb(t,e):r})).apply(this,arguments)}function wF(t){return ad(t,e=>{if(!EF(e))throw Qi.create("not-registered");return function Ase(t){return 1===t.requestStatus&&t.requestTime+oF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function mb(){return mb=v(function*(t,e){try{const n=yield function Ese(t,e){return hb.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Tg(t.appConfig,r),n}catch(n){if(!cF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Tg(t.appConfig,r)}else yield sb(t.appConfig);throw n}}),mb.apply(this,arguments)}function EF(t){return void 0!==t&&2===t.registrationStatus}function yb(){return(yb=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield ub(e);return r?r.catch(console.error):fb(e).catch(console.error),n.fid})).apply(this,arguments)}function _b(){return _b=v(function*(t,e=!1){const n=t;return yield function Nse(t){return vb.apply(this,arguments)}(n),(yield fb(n,e)).token}),_b.apply(this,arguments)}function vb(){return(vb=v(function*(t){const{registrationPromise:e}=yield ub(t);e&&(yield e)})).apply(this,arguments)}function bb(t){return Qi.create("missing-app-config-values",{valueName:t})}const bF="installations",Fse=t=>{const e=t.getProvider("app").getImmediate(),n=function Pse(t){if(!t||!t.options)throw bb("App Configuration");if(!t.name)throw bb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw bb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:LE(e,"heartbeat"),_delete:()=>Promise.resolve()}},Lse=t=>{const n=LE(t.getProvider("app").getImmediate(),bF).getImmediate();return{getId:()=>function Mse(t){return yb.apply(this,arguments)}(n),getToken:i=>function xse(t){return _b.apply(this,arguments)}(n,i)}};(function Vse(){Dr(new Et(bF,Fse,"PUBLIC")),Dr(new Et("installations-internal",Lse,"PRIVATE"))})(),tr(sF,KE),tr(sF,KE,"esm2017");const Ib="@firebase/remote-config",Vn=new Ur("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qse{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Yse(t=navigator){return t.languages&&t.languages[0]||t.language}class Xse{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Yse()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((E,w)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",w(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(E){let w="fetch-client-network";throw"AbortError"===E?.name&&(w="fetch-timeout"),Vn.create(w,{originalErrorMessage:E?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let E;try{E=yield h.json()}catch(w){throw Vn.create("fetch-client-parse",{originalErrorMessage:w?.message})}g=E.entries,m=E.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Vn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class eoe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return v(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return v(function*(){yield function Jse(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Zse(t){if(!(t instanceof er&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+IE(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class roe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ag(t,e){const n=t.target.error||void 0;return Vn.create(e,{originalErrorMessage:n&&n?.message})}const Vo="app_namespace_store";class aoe{constructor(e,n,r,i=function ooe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Ag(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Vo,{keyPath:"compositeKey"})}}catch(n){e(Vn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Vo],"readonly").objectStore(Vo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Ag(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Vn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Vo],"readwrite").objectStore(Vo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Ag(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Vn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Vo],"readwrite").objectStore(Vo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Ag(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Vn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class uoe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function loe(){return Ab.apply(this,arguments)}function Ab(){return(Ab=v(function*(){if(!Ms())return!1;try{return yield Ou()}catch{return!1}})).apply(this,arguments)}!function coe(){Dr(new Et("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vn.create("registration-window");if(!Ms())throw Vn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Vn.create("registration-project-id");if(!o)throw Vn.create("registration-api-key");if(!a)throw Vn.create("registration-app-id");const u=new aoe(a,r.name,n=n||"firebase"),c=new uoe(u),l=new No(Ib);l.logLevel=be.ERROR;const d=new Xse(i,"10.5.2",n,s,o,a),h=new eoe(d,u),f=new Qse(h,u,c,l),p=new roe(r,f,c,u,l);return function qse(t){const e=Ir(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),tr(Ib,"0.4.4"),tr(Ib,"0.4.4","esm2017")}();const doe=(t,e)=>e.some(n=>t instanceof n);let TF,SF;const AF=new WeakMap,Mb=new WeakMap,MF=new WeakMap,xb=new WeakMap,Nb=new WeakMap;let Rb={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Mb.get(t);if("objectStoreNames"===e)return t.objectStoreNames||MF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _oe(t){return"function"==typeof t?function yoe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function foe(){return SF||(SF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(kb(this),e),Yi(AF.get(this))}:function(...e){return Yi(t.apply(kb(this),e))}:function(e,...n){const r=t.call(kb(this),e,...n);return MF.set(r,e.sort?e.sort():[e]),Yi(r)}}(t):(t instanceof IDBTransaction&&function goe(t){if(Mb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mb.set(t,e)}(t),doe(t,function hoe(){return TF||(TF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Rb):t)}function Yi(t){if(t instanceof IDBRequest)return function poe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AF.set(n,t)}).catch(()=>{}),Nb.set(e,t),e}(t);if(xb.has(t))return xb.get(t);const e=_oe(t);return e!==t&&(xb.set(t,e),Nb.set(e,t)),e}const kb=t=>Nb.get(t);function xF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Yi(o.result),u.oldVersion,u.newVersion,Yi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Pb(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Yi(n).then(()=>{})}const voe=["get","getKey","getAll","getAllKeys","count"],woe=["put","add","delete","clear"],Ob=new Map;function NF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Ob.get(e))return Ob.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=woe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!voe.includes(n))return;const s=function(){var o=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Ob.set(e,s),s}!function moe(t){Rb=t(Rb)}(t=>({...t,get:(e,n,r)=>NF(e,n)||t.get(e,n,r),has:(e,n)=>!!NF(e,n)||t.has(e,n)}));const Eoe="/firebase-messaging-sw.js",boe="/firebase-cloud-messaging-push-scope",RF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ioe="https://fcmregistrations.googleapis.com/v1",kF="google.c.a.c_id",Coe="google.c.a.c_l",Doe="google.c.a.ts";var Mg=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Mg||{});function Xi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Aoe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Fb="fcm_token_details_db",Moe=5,PF="fcm_token_object_Store";function Lb(){return Lb=v(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Fb))return null;let e=null;return(yield xF(Fb,Moe,{upgrade:(r=v(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(PF))return;const c=a.objectStore(PF),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Xi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xi(d.auth),p256dh:Xi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xi(d.auth),p256dh:Xi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Pb(Fb),yield Pb("fcm_vapid_details_db"),yield Pb("undefined"),function Noe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Lb.apply(this,arguments)}const Roe="firebase-messaging-database",koe=1,Bo="firebase-messaging-store";let Vb=null;function Bb(){return Vb||(Vb=xF(Roe,koe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Bo)}})),Vb}function OF(t){return Ub.apply(this,arguments)}function Ub(){return Ub=v(function*(t){const e=Gb(t),r=yield(yield Bb()).transaction(Bo).objectStore(Bo).get(e);if(r)return r;{const i=yield function xoe(t){return Lb.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield jb(t,i),i}}),Ub.apply(this,arguments)}function jb(t,e){return $b.apply(this,arguments)}function $b(){return($b=v(function*(t,e){const n=Gb(t),i=(yield Bb()).transaction(Bo,"readwrite");return yield i.objectStore(Bo).put(e,n),yield i.done,e})).apply(this,arguments)}function Hb(){return(Hb=v(function*(t){const e=Gb(t),r=(yield Bb()).transaction(Bo,"readwrite");yield r.objectStore(Bo).delete(e),yield r.done})).apply(this,arguments)}function Gb({appConfig:t}){return t.appId}const Jt=new Ur("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Foe(t,e){return zb.apply(this,arguments)}function zb(){return(zb=v(function*(t,e){const n=yield Qb(t),r=LF(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Kb(t.appConfig),i)).json()}catch(o){throw Jt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Jt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Jt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function qb(){return(qb=v(function*(t,e){const n=yield Qb(t),r=LF(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Kb(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Jt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Jt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Jt.create("token-update-no-token");return s.token})).apply(this,arguments)}function FF(t,e){return Wb.apply(this,arguments)}function Wb(){return(Wb=v(function*(t,e){const r={method:"DELETE",headers:yield Qb(t)};try{const s=yield(yield fetch(`${Kb(t.appConfig)}/${e}`,r)).json();if(s.error)throw Jt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Jt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Kb({projectId:t}){return`${Ioe}/projects/${t}/registrations`}function Qb(t){return Yb.apply(this,arguments)}function Yb(){return(Yb=v(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function LF({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==RF&&(i.web.applicationPubKey=r),i}const Voe=6048e5;function Xb(){return Xb=v(function*(t){const e=yield function joe(t,e){return tI.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Xi(e.getKey("auth")),p256dh:Xi(e.getKey("p256dh"))},r=yield OF(t.firebaseDependencies);if(r){if(function $oe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Voe?function Uoe(t,e){return Zb.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield FF(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return BF(t.firebaseDependencies,n)}return BF(t.firebaseDependencies,n)}),Xb.apply(this,arguments)}function Jb(){return Jb=v(function*(t){const e=yield OF(t.firebaseDependencies);e&&(yield FF(t.firebaseDependencies,e.token),yield function Poe(t){return Hb.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Jb.apply(this,arguments)}function Zb(){return Zb=v(function*(t,e){try{const n=yield function Loe(t,e){return qb.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield jb(t.firebaseDependencies,r),n}catch(n){throw yield function VF(t){return Jb.apply(this,arguments)}(t),n}}),Zb.apply(this,arguments)}function BF(t,e){return eI.apply(this,arguments)}function eI(){return(eI=v(function*(t,e){const r={token:yield Foe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield jb(t,r),r.token})).apply(this,arguments)}function tI(){return(tI=v(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Aoe(e)})})).apply(this,arguments)}function UF(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Hoe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Goe(t,e){e.data&&(t.data=e.data)}(e,t),function zoe(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function jF(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function nI(t){return Jt.create("missing-app-config-values",{valueName:t})}jF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Koe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Woe(t){if(!t||!t.options)throw nI("App Configuration Object");if(!t.name)throw nI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw nI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function rI(){return(rI=v(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Eoe,{scope:boe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Jt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function iI(){return(iI=v(function*(t,e){if(!e&&!t.swRegistration&&(yield function $F(t){return rI.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Jt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function sI(){return(sI=v(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=RF)})).apply(this,arguments)}function oI(){return oI=v(function*(t,e){if(!navigator)throw Jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jt.create("permission-blocked");return yield function Yoe(t,e){return sI.apply(this,arguments)}(t,e?.vapidKey),yield function Qoe(t,e){return iI.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Boe(t){return Xb.apply(this,arguments)}(t)}),oI.apply(this,arguments)}function aI(){return(aI=v(function*(t,e,n){const r=function Joe(t){switch(t){case Mg.NOTIFICATION_CLICKED:return"notification_open";case Mg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[kF],message_name:n[Coe],message_time:n[Doe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function uI(){return uI=v(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Mg.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(UF(n)):t.onMessageHandler.next(UF(n)));const r=n.data;(function qoe(t){return"object"==typeof t&&!!t&&kF in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Xoe(t,e,n){return aI.apply(this,arguments)}(t,n.messageType,r))}),uI.apply(this,arguments)}const GF="@firebase/messaging",eae=t=>{const e=new Koe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Zoe(t,e){return uI.apply(this,arguments)}(e,n)),e},tae=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function HF(t,e){return oI.apply(this,arguments)}(e,r)}};function qF(){return cI.apply(this,arguments)}function cI(){return(cI=v(function*(){try{yield Ou()}catch{return!1}return typeof window<"u"&&Ms()&&wE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nae(){Dr(new Et("messaging",eae,"PUBLIC")),Dr(new Et("messaging-internal",tae,"PRIVATE")),tr(GF,"0.12.4"),tr(GF,"0.12.4","esm2017")}();const xg="analytics",sae="firebase_id",oae="origin",aae=6e4,uae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hI="https://www.googletagmanager.com/gtag/js",Ot=new No("@firebase/analytics"),Tn=new Ur("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lae(t){if(!t.startsWith(hI)){const e=Tn.create("invalid-gtag-resource",{gtagURL:t});return Ot.warn(e.message),""}return t}function WF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function fI(){return(fI=v(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield WF(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ot.error(a)}t("config",i,s)})).apply(this,arguments)}function pI(){return(pI=v(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield WF(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Ot.error(s)}})).apply(this,arguments)}const vae=30,KF=new class Eae{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function bae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function gI(){return(gI=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:bae(r)},s=uae.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function mI(){return(mI=v(function*(t,e=KF,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Tn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Tn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Sae;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:aae),QF({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function QF(t,e,n){return yI.apply(this,arguments)}function yI(){return yI=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=KF){var s;const{appId:o,measurementId:a}=t;try{yield function Dae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Iae(t){return gI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Tae(t){if(!(t instanceof er&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?IE(n,i.intervalMillis,vae):IE(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ot.debug(`Calling attemptFetch again in ${l} millis`),QF(t,d,r,i)}}),yI.apply(this,arguments)}class Sae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let _I,DI;function vI(){return(vI=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function TI(){return(TI=v(function*(){if(!Ms())return Ot.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ou()}catch(t){return Ot.warn(Tn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function SI(){return SI=v(function*(t,e,n,r,i,s,o){var a;const u=function Cae(t){return mI.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Ot.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ot.error(f)),e.push(u);const c=function Pae(){return TI.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function _ae(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(hI)&&n.src.includes(t))return n;return null})(s)||function hae(t,e){const n=function dae(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:lae}),r=document.createElement("script"),i=`${hI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),DI&&(i("consent","default",DI),function YF(t){DI=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[oae]="firebase",h.update=!0,null!=d&&(h[sae]=d),i("config",l.measurementId,h),_I&&(i("set",_I),function XF(t){_I=t}(void 0)),l.measurementId}),SI.apply(this,arguments)}class Fae{constructor(e){this.app=e}_delete(){return delete ui[this.app.options.appId],Promise.resolve()}}let ui={},JF=[];const ZF={};let tL,ci,Ng="dataLayer",AI=!1;function Vae(t,e,n){!function Lae(){const t=[];if(vE()&&t.push("This is a browser extension environment."),wE()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});Ot.warn(n.message)}}();const r=t.options.appId;if(!r)throw Tn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Tn.create("no-api-key");Ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ui[r])throw Tn.create("already-exists",{id:r});if(!AI){!function fae(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ng);const{wrappedGtag:s,gtagCore:o}=function yae(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function mae(t,e,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function gae(t,e,n,r,i){return pI.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function pae(t,e,n,r,i,s){return fI.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Ot.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ui,JF,ZF,Ng,"gtag");ci=s,tL=o,AI=!0}return ui[r]=function Oae(t,e,n,r,i,s,o){return SI.apply(this,arguments)}(t,JF,ZF,e,tL,Ng,n),new Fae(t)}function Uae(){return MI.apply(this,arguments)}function MI(){return(MI=v(function*(){if(vE()||!wE()||!Ms())return!1;try{return yield Ou()}catch{return!1}})).apply(this,arguments)}const nL="@firebase/analytics";!function $ae(){Dr(new Et(xg,(e,{options:n})=>Vae(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Dr(new Et("analytics-internal",function t(e){try{const n=e.getProvider(xg).getImmediate();return{logEvent:(r,i,s)=>function jae(t,e,n,r){t=Ir(t),function Aae(t,e,n,r,i){return vI.apply(this,arguments)}(ci,ui[t.app.options.appId],e,n,r).catch(i=>Ot.error(i))}(n,r,i,s)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),tr(nL,"0.10.0"),tr(nL,"0.10.0","esm2017")}();class Hae extends xn{constructor(e,n){super()}schedule(e,n=0){return this}}const Rg={setInterval(t,e,...n){const{delegate:r}=Rg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Rg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class iL extends Hae{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Rg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Rg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Da(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const sL={now:()=>(sL.delegate||Date).now(),delegate:void 0};class ud{constructor(e,n=ud.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ud.now=sL.now;class oL extends ud{constructor(e,n=ud.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const qae=new class zae extends oL{}(class Gae extends iL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Wae=new oL(iL),NI=new ru("7.6.1"),RI="__angularfire_symbol__analyticsIsSupportedValue",kI="__angularfire_symbol__analyticsIsSupported",PI="__angularfire_symbol__remoteConfigIsSupportedValue",OI="__angularfire_symbol__remoteConfigIsSupported",FI="__angularfire_symbol__messagingIsSupportedValue",LI="__angularfire_symbol__messagingIsSupported";globalThis[kI]||(globalThis[kI]=Uae().then(t=>globalThis[RI]=t).catch(()=>globalThis[RI]=!1)),globalThis[LI]||(globalThis[LI]=qF().then(t=>globalThis[FI]=t).catch(()=>globalThis[FI]=!1)),globalThis[OI]||(globalThis[OI]=loe().then(t=>globalThis[PI]=t).catch(()=>globalThis[PI]=!1));const UI=(t,e)=>{const n=e?[e]:jO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Bu(){}class aL{constructor(e,n=qae){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Kae{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bu,{},Bu,Bu)),n.pipe(Xt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uL=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new aL(Zone.current)),this.insideAngular=n.run(()=>new aL(Zone.current,Wae)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(L(Te))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Uo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function jo(t){return Uo().ngZone.run(()=>t())}function Yae(t){return Uo(),function Xae(t){return function(n){return(n=n.lift(new Kae(t.ngZone))).pipe(nf(t.outsideAngular),tf(t.insideAngular))}}(Uo())(t)}const Jae=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),jo(()=>t.apply(void 0,r))},Ji=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=jo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bu,{},Bu,Bu)))),r[s]=Jae(r[s],n));const i=function Qae(t){return Uo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Fe){const s=Uo();return i.pipe(nf(s.outsideAngular),tf(s.insideAngular))}return jo(()=>i)}return i instanceof Fe?i.pipe(Yae):i instanceof Promise?jo(()=>new Promise((s,o)=>i.then(a=>jo(()=>s(a)),a=>jo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:jo(()=>i)};class Uu{constructor(e){return e}}class cL{constructor(){return jO()}}const jI=new B("angularfire2._apps"),eue={provide:Uu,useFactory:function Zae(t){return t&&1===t.length?t[0]:new Uu(UO())},deps:[[new Pn,jI]]},tue={provide:cL,deps:[[new Pn,jI]]};function nue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Uu(r)}}let rue=(()=>{class t{constructor(n){Cr("angularfire",NI.full,"core"),Cr("angularfire",NI.full,"app"),Cr("angular",Yv.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(L(Ni))},t.\u0275mod=Gt({type:t}),t.\u0275inj=kt({providers:[eue,tue]}),t})();function iue(t,...e){return{ngModule:rue,providers:[{provide:jI,useFactory:nue(t),multi:!0,deps:[Te,un,uL,...e]}]}}const sue=Ji(BO,!0);const oue=function lL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dL=new Ur("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kg=new No("@firebase/auth");function Pg(t,...e){kg.logLevel<=be.ERROR&&kg.error(`Auth (${Ig}): ${t}`,...e)}function Bn(t,...e){throw $I(t,...e)}function li(t,...e){return $I(t,...e)}function $I(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dL.create(t,...e)}function k(t,e,...n){if(!t)throw $I(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pg(e),new Error(e)}function Rs(t,e){t||di(e)}function fL(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ld{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rs(n>e,"Short delay should be less than long delay!"),this.isMobile=function Lne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}()||function Bne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function uue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function HI(){return"http:"===fL()||"https:"===fL()}()||vE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class pL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},due=new ld(3e4,6e4);function ut(t,e,n,r){return zI.apply(this,arguments)}function zI(){return(zI=v(function*(t,e,n,r,i={}){return gL(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=AO(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),pL.fetch()(mL(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function gL(t,e,n){return qI.apply(this,arguments)}function qI(){return(qI=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lue),e);try{const i=new hue(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw dd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw dd(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw dd(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw dd(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function hL(t,e,n){const r=Object.assign(Object.assign({},oue()),{[e]:n});return new Ur("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Bn(t,l)}}catch(i){if(i instanceof er)throw i;Bn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function mL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function GI(t,e){Rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class hue{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),due.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=li(t,e,r);return i.customData._tokenResponse=n,i}function KI(){return(KI=v(function*(t,e){return ut(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function YI(){return(YI=v(function*(t,e){return ut(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function hd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function XI(){return(XI=v(function*(t,e=!1){const n=Ir(t),r=yield n.getIdToken(e),i=Og(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:hd(JI(i.auth_time)),issuedAtTime:hd(JI(i.iat)),expirationTime:hd(JI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function JI(t){return 1e3*Number(t)}function Og(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Pg("JWT malformed, contained fewer than 3 sections"),null;try{const i=yg(n);return i?JSON.parse(i):(Pg("Failed to decode base64 JWT payload"),null)}catch(i){return Pg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function es(t,e){return ZI.apply(this,arguments)}function ZI(){return(ZI=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof er&&function _ue({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class vue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class yL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hd(this.lastLoginAt),this.creationTime=hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fd(t){return e1.apply(this,arguments)}function e1(){return e1=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield es(t,function gue(t,e){return YI.apply(this,arguments)}(n,{idToken:r}));k(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function bue(t){return t.map(e=>{var{providerId:n}=e,r=__(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Eue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yL(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),e1.apply(this,arguments)}function t1(){return(t1=v(function*(t){const e=Ir(t);yield fd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function n1(){return(n1=v(function*(t,e){const n=yield gL(t,{},v(function*(){const r=AO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=mL(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class pd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function yue(t){const e=Og(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Iue(t,e){return n1.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pd;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pd,this.toJSON())}_performRefresh(){return di("not implemented")}}function ks(t,e){k("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class $o{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=__(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield es(n,n.stsTokenManager.getToken(n.auth,e));return k(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function mue(t){return XI.apply(this,arguments)}(this,e)}reload(){return function wue(t){return t1.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield fd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield es(e,function fue(t,e){return KI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(c=n.createdAt)&&void 0!==c?c:void 0,w=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:R,isAnonymous:$,providerData:Q,stsTokenManager:ce}=n;k(T&&ce,e,"internal-error");const Ve=pd.fromJSON(this.name,ce);k("string"==typeof T,e,"internal-error"),ks(d,e.name),ks(h,e.name),k("boolean"==typeof R,e,"internal-error"),k("boolean"==typeof $,e,"internal-error"),ks(f,e.name),ks(p,e.name),ks(g,e.name),ks(m,e.name),ks(E,e.name),ks(w,e.name);const Dt=new $o({uid:T,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Ve,createdAt:E,lastLoginAt:w});return Q&&Array.isArray(Q)&&(Dt.providerData=Q.map(ur=>Object.assign({},ur))),m&&(Dt._redirectEventId=m),Dt}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new pd;i.updateFromServerResponse(n);const s=new $o({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fd(s),s})()}}const _L=new Map;function ts(t){Rs(t instanceof Function,"Expected a class definition");let e=_L.get(t);return e?(Rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_L.set(t,e),e)}const vL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Fg(t,e,n){return`firebase:${t}:${e}:${n}`}class $u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?$o._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new $u(ts(vL),e,r);const i=(yield Promise.all(n.map(function(){var c=v(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ts(vL);const o=Fg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=$o._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=v(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new $u(s,e,r)):new $u(s,e,r)})()}}function wL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function IL(t=Zn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function EL(t=Zn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function DL(t=Zn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function TL(t=Zn()){return/webos/i.test(t)}(e))return"Webos";if(function r1(t=Zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function bL(t=Zn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function CL(t=Zn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function SL(t,e=[]){let n;switch(t){case"Browser":n=wL(Zn());break;case"Worker":n=`${wL(Zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ig}/${r}`}function AL(t,e){return s1.apply(this,arguments)}function s1(){return(s1=v(function*(t,e){return ut(t,"GET","/v2/recaptchaConfig",function nt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function xL(t){return void 0!==t&&void 0!==t.enterprise}class NL{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class kL{constructor(e){this.type="recaptcha-enterprise",this.auth=Ft(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=v(function*(c,l){AL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new NL(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;xL(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&xL(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function o1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=li("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Sue(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Nue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Rue{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PL(this),this.idTokenSubscription=new PL(this),this.beforeStateQueue=new Nue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield $u.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return k(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield fd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function cue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?Ir(e):null;return r&&k(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(ts(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const n=yield AL(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new NL(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new kL(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ur("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&ts(e)||n._popupRedirectResolver;k(r,n,"argument-error"),n.redirectPersistenceManager=yield $u.create(n,[ts(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function aue(t,...e){kg.logLevel<=be.WARN&&kg.warn(`Auth (${Ig}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Ft(t){return Ir(t)}class PL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Hne(t,e){const n=new Gne(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function RL(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new ld(3e4,6e4),new ld(2e3,1e4),new ld(3e4,6e4),new ld(5e3,15e3),encodeURIComponent("fac");var c5="@firebase/auth";class Cle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}_g(),function Tle(t){Fu(new Et("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SL(t)},c=new Rue(r,i,s,u);return function Pue(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ts);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fu(new Et("auth-internal",e=>{const n=Ft(e.getProvider("auth").getImmediate());return new Cle(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(c5,"0.23.2",function Dle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Cr(c5,"0.23.2","esm2017")}("Browser");class f5{constructor(){return UI("auth")}}const KC=new Map,p5={activated:!1,tokenObservers:[]},kle={initialized:!1,enabled:!1};function ct(t){return KC.get(t)||Object.assign({},p5)}function Qg(){return kle}const QC="https://content-firebaseappcheck.googleapis.com/v1",Lle="exchangeDebugToken",g5={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ble{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new vg,yield function Ule(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new vg,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Zt=new Ur("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function YC(t){if(!ct(t).activated)throw Zt.create("use-before-activation",{appName:t.name})}function Jg(t,e){return JC.apply(this,arguments)}function JC(){return JC=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Zt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Zt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Zt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),JC.apply(this,arguments)}function m5(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${QC}/projects/${n}/apps/${r}:${Lle}?key=${i}`,body:{debug_token:e}}}const Gle="firebase-app-check-database",zle=1,vd="firebase-app-check-store";let Zg=null;function ZC(){return ZC=v(function*(t,e){const r=(yield function _5(){return Zg||(Zg=new Promise((t,e)=>{try{const n=indexedDB.open(Gle,zle);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Zt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(vd,{keyPath:"compositeKey"})}}catch(n){e(Zt.create("storage-open",{originalErrorMessage:n?.message}))}}),Zg)}()).transaction(vd,"readwrite"),s=r.objectStore(vd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Zt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),ZC.apply(this,arguments)}const wd=new No("@firebase/app-check");function nD(t,e){return Ms()?function Wle(t,e){return function v5(t,e){return ZC.apply(this,arguments)}(function E5(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{wd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function iD(){return Qg().enabled}function sD(){return oD.apply(this,arguments)}function oD(){return oD=v(function*(){const t=Qg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),oD.apply(this,arguments)}const Zle={error:"UNKNOWN_ERROR"};function ede(t){return yE.encodeString(JSON.stringify(t),!1)}function em(t){return aD.apply(this,arguments)}function aD(){return aD=v(function*(t,e=!1){const n=t.app;YC(n);const r=ct(n);let s,i=r.token;if(i&&!Gu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Gu(u)?i=u:yield nD(n,void 0))}if(!e&&i&&Gu(i))return{token:i.token};let a,o=!1;if(iD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Jg(m5(n,yield sD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield nD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield ct(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?wd.warn(u.message):wd.error(u),s=u}return i?s?a=Gu(i)?{token:i.token,internalError:s}:D5(s):(a={token:i.token},r.token=i,yield nD(n,i)):a=D5(s),o&&function C5(t,e){const n=ct(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),aD.apply(this,arguments)}function uD(){return uD=v(function*(t){const e=t.app;YC(e);const{provider:n}=ct(e);if(iD()){const r=yield sD(),{token:i}=yield Jg(m5(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),uD.apply(this,arguments)}function lD(t,e){const n=ct(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function I5(t){const{app:e}=t,n=ct(e);let r=n.tokenRefresher;r||(r=function tde(t){const{app:e}=t;return new Ble(v(function*(){let r;if(r=ct(e).token?yield em(t,!0):yield em(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=ct(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},g5.RETRIAL_MIN_WAIT,g5.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Gu(t){return t.expireTimeMillis-Date.now()>0}function D5(t){return{token:ede(Zle),error:t}}class nde{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ct(this.app);for(const n of e)lD(this.app,n.next);return Promise.resolve()}}const k5="app-check-internal";!function mde(){Dr(new Et("app-check",t=>function rde(t,e){return new nde(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(k5).initialize()})),Dr(new Et(k5,t=>function ide(t){return{getToken:e=>em(t,e),getLimitedUseToken:()=>function b5(t){return uD.apply(this,arguments)}(t),addTokenListener:e=>function cD(t,e,n,r){const{app:i}=t,s=ct(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Gu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),I5(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>I5(t))}(t,"INTERNAL",e),removeTokenListener:e=>lD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),tr("@firebase/app-check","0.8.0")}();class O5{constructor(){return UI("app-check")}}typeof window<"u"&&window;var V,Ede=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jr={},gD=gD||{},ae=Ede||self;function nm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ed(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mD="closure_uid_"+(1e9*Math.random()>>>0),Ide=0;function Cde(t,e,n){return t.call.apply(t.bind,arguments)}function Dde(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ln(t,e,n){return(ln=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cde:Dde).apply(null,arguments)}function rm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Lt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Os(){this.s=this.s,this.o=this.o}Os.prototype.s=!1,Os.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bde(t){Object.prototype.hasOwnProperty.call(t,mD)&&t[mD]||(t[mD]=++Ide)}(this)},Os.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const F5=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function yD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function L5(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(nm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function dn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};var Sde=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return t}();function bd(t){return/^[\s\xa0]*$/.test(t)}function im(){var t=ae.navigator;return t&&(t=t.userAgent)?t:""}function hi(t){return-1!=im().indexOf(t)}function _D(t){return _D[" "](t),t}_D[" "]=function(){};var wD,Mde=hi("Opera"),zu=hi("Trident")||hi("MSIE"),V5=hi("Edge"),vD=V5||zu,B5=hi("Gecko")&&!(-1!=im().toLowerCase().indexOf("webkit")&&!hi("Edge"))&&!(hi("Trident")||hi("MSIE"))&&!hi("Edge"),xde=-1!=im().toLowerCase().indexOf("webkit")&&!hi("Edge");function U5(){var t=ae.document;return t?t.documentMode:void 0}e:{var ED="",bD=function(){var t=im();return B5?/rv:([^\);]+)(\)|;)/.exec(t):V5?/Edge\/([\d\.]+)/.exec(t):zu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):xde?/WebKit\/(\S+)/.exec(t):Mde?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(bD&&(ED=bD?bD[1]:""),zu){var ID=U5();if(null!=ID&&ID>parseFloat(ED)){wD=String(ID);break e}}wD=ED}var Nde=ae.document&&zu&&(U5()||parseInt(wD,10))||void 0;function Id(t,e){if(dn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(B5){e:{try{_D(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Rde[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Id.$.h.call(this)}}Lt(Id,dn);var Rde={2:"touch",3:"pen",4:"mouse"};Id.prototype.h=function(){Id.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cd="closure_listenable_"+(1e6*Math.random()|0),kde=0;function Pde(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++kde,this.fa=this.ia=!1}function sm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function DD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $5(t){const e={};for(const n in t)e[n]=t[n];return e}const H5="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G5(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<H5.length;s++)n=H5[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function om(t){this.src=t,this.g={},this.h=0}function TD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=F5(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sm(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function SD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}om.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=SD(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Pde(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var AD="closure_lm_"+(1e6*Math.random()|0),MD={};function z5(t,e,n,r,i){if(r&&r.once)return W5(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)z5(t,e[s],n,r,i);return null}return n=kD(n),t&&t[Cd]?t.O(e,n,Ed(r)?!!r.capture:!!r,i):q5(t,e,n,!1,r,i)}function q5(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ed(i)?!!i.capture:!!i,a=ND(t);if(a||(t[AD]=a=new om(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Fde(){const e=Lde;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Sde||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Q5(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function W5(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)W5(t,e[s],n,r,i);return null}return n=kD(n),t&&t[Cd]?t.P(e,n,Ed(r)?!!r.capture:!!r,i):q5(t,e,n,!0,r,i)}function K5(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)K5(t,e[s],n,r,i);else r=Ed(r)?!!r.capture:!!r,n=kD(n),t&&t[Cd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=SD(s=t.g[e],n,r,i))&&(sm(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=ND(t))&&(e=t.g[e.toString()],t=-1,e&&(t=SD(e,n,r,i)),(n=-1<t?e[t]:null)&&xD(n))}function xD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Cd])TD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Q5(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ND(e))?(TD(n,t),0==n.h&&(n.src=null,e[AD]=null)):sm(t)}}}function Q5(t){return t in MD?MD[t]:MD[t]="on"+t}function Lde(t,e){if(t.fa)t=!0;else{e=new Id(e,this);var n=t.listener,r=t.la||t.src;t.ia&&xD(t),t=n.call(r,e)}return t}function ND(t){return(t=t[AD])instanceof om?t:null}var RD="__closure_events_fn_"+(1e9*Math.random()>>>0);function kD(t){return"function"==typeof t?t:(t[RD]||(t[RD]=function(e){return t.handleEvent(e)}),t[RD])}function Vt(){Os.call(this),this.i=new om(this),this.S=this,this.J=null}function en(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new dn(e,t);else if(e instanceof dn)e.target=e.target||t;else{var i=e;G5(e=new dn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=am(o,r,!0,e)&&i}if(i=am(o=e.g=t,r,!0,e)&&i,i=am(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=am(o=e.g=n[s],r,!1,e)&&i}function am(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&TD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Lt(Vt,Os),Vt.prototype[Cd]=!0,Vt.prototype.removeEventListener=function(t,e,n,r){K5(this,t,e,n,r)},Vt.prototype.N=function(){if(Vt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sm(n[r]);delete t.g[e],t.h--}}this.J=null},Vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var PD=ae.JSON.stringify;function Bde(){var t=OD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Y5=new class Vde{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new jde,t=>t.reset());class jde{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $de(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Hde(t){ae.setTimeout(()=>{throw t},0)}let Dd,Td=!1,OD=new class Ude{constructor(){this.h=this.g=null}add(e,n){const r=Y5.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},X5=()=>{const t=ae.Promise.resolve(void 0);Dd=()=>{t.then(Gde)}};var Gde=()=>{for(var t;t=Bde();){try{t.h.call(t.g)}catch(n){Hde(n)}var e=Y5;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Td=!1};function um(t,e){Vt.call(this),this.h=t||1,this.g=e||ae,this.j=ln(this.qb,this),this.l=Date.now()}function FD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function LD(t,e,n){if("function"==typeof t)n&&(t=ln(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ln(t.handleEvent,t)}return 2147483647<Number(e)?-1:ae.setTimeout(t,e||0)}function J5(t){t.g=LD(()=>{t.g=null,t.i&&(t.i=!1,J5(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Lt(um,Vt),(V=um.prototype).ga=!1,V.T=null,V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),en(this,"tick"),this.ga&&(FD(this),this.start()))}},V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.N=function(){um.$.N.call(this),FD(this),delete this.g};class zde extends Os{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:J5(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sd(t){Os.call(this),this.h=t,this.g={}}Lt(Sd,Os);var Z5=[];function eV(t,e,n,r){Array.isArray(n)||(n&&(Z5[0]=n.toString()),n=Z5);for(var i=0;i<n.length;i++){var s=z5(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tV(t){DD(t.g,function(e,n){this.g.hasOwnProperty(n)&&xD(e)},t),t.g={}}function cm(){this.g=!0}function qu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Qde(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return PD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Sd.prototype.N=function(){Sd.$.N.call(this),tV(this)},Sd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cm.prototype.Ea=function(){this.g=!1},cm.prototype.info=function(){};var qo={},nV=null;function lm(){return nV=nV||new Vt}function rV(t){dn.call(this,qo.Ta,t)}function Ad(t){const e=lm();en(e,new rV(e))}function iV(t,e){dn.call(this,qo.STAT_EVENT,t),this.stat=e}function Sn(t){const e=lm();en(e,new iV(e,t))}function sV(t,e){dn.call(this,qo.Ua,t),this.size=e}function Md(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){t()},e)}qo.Ta="serverreachability",Lt(rV,dn),qo.STAT_EVENT="statevent",Lt(iV,dn),qo.Ua="timingevent",Lt(sV,dn);var dm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function VD(){}function uV(){}VD.prototype.h=null;var jD,xd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function BD(){dn.call(this,"d")}function UD(){dn.call(this,"c")}function hm(){}function Nd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Sd(this),this.P=Yde,this.V=new um(t=vD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cV}function cV(){this.i=null,this.g="",this.h=!1}Lt(BD,dn),Lt(UD,dn),Lt(hm,VD),hm.prototype.g=function(){return new XMLHttpRequest},hm.prototype.i=function(){return{}},jD=new hm;var Yde=45e3,$D={},fm={};function HD(t,e,n){t.L=1,t.v=ym(rs(e)),t.s=n,t.S=!0,lV(t,null)}function lV(t,e){t.G=Date.now(),Rd(t),t.A=rs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),wV(n.i,"t",r),t.C=0,n=t.l.J,t.h=new cV,t.g=GV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new zde(ln(t.Pa,t,t.g),t.O)),eV(t.U,t.g,"readystatechange",t.nb),e=t.I?$5(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ad(),function qde(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function dV(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function hV(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Xde(t,n),i==fm){4==e&&(t.o=4,Sn(14),r=!1),qu(t.j,t.m,null,"[Incomplete Response]");break}if(i==$D){t.o=4,Sn(15),qu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}qu(t.j,t.m,i,null),GD(t,i)}dV(t)&&i!=fm&&i!=$D&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),XD(e),e.M=!0,Sn(11))):(qu(t.j,t.m,n,"[Invalid Chunked Response]"),Wo(t),kd(t))}function Xde(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?fm:(n=Number(e.substring(n,r)),isNaN(n)?$D:(r+=1)+n>e.length?fm:(e=e.slice(r,r+n),t.C=r+n,e))}function Rd(t){t.Y=Date.now()+t.P,fV(t,t.P)}function fV(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Md(ln(t.lb,t),e)}function pm(t){t.B&&(ae.clearTimeout(t.B),t.B=null)}function kd(t){0==t.l.H||t.J||UV(t.l,t)}function Wo(t){pm(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,FD(t.V),tV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function GD(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||zD(n.i,t)))if(!t.K&&zD(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Im(n),Em(n)}YD(n),Sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Md(ln(n.ib,n),6e3));if(1>=IV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qo(n,11)}else if((t.K||n.g==t)&&Im(n),!bd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(qD(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,qe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=HV(r,r.J?r.pa:null,r.Y),o.K){CV(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(pm(a),Rd(a)),r.g=o}else VV(r);0<n.j.length&&bm(n)}else"stop"!=c[0]&&"close"!=c[0]||Qo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Qo(n,7):QD(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ad()}catch{}}function pV(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(nm(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Zde(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(nm(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Jde(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(nm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(V=Nd.prototype).setTimeout=function(t){this.P=t},V.nb=function(t){t=t.target;const e=this.M;e&&3==fi(t)?e.l():this.Pa(t)},V.Pa=function(t){try{if(t==this.g)e:{const l=fi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||vD||this.g&&(this.h.h||this.g.ja()||RV(this.g)))){this.J||4!=l||7==e||Ad(),pm(this);var n=this.g.da();this.ca=n;t:if(dV(this)){var r=RV(this.g);t="";var i=r.length,s=4==fi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wo(this),kd(this);var o="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Wde(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bd(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Sn(12),Wo(this),kd(this);break e}qu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,GD(this,n)}this.S?(hV(this,l,o),vD&&this.i&&3==l&&(eV(this.U,this.V,"tick",this.mb),this.V.start())):(qu(this.j,this.m,o,null),GD(this,o)),4==l&&Wo(this),this.i&&!this.J&&(4==l?UV(this.l,this):(this.i=!1,Rd(this)))}else(function yhe(t){const e={};t=(t.g&&2<=fi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(bd(t[r]))continue;var n=$de(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Ode(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),Wo(this),kd(this)}}}catch{}},V.mb=function(){if(this.g){var t=fi(this.g),e=this.g.ja();this.C<e.length&&(pm(this),hV(this,t,e),this.i&&4!=t&&Rd(this))}},V.cancel=function(){this.J=!0,Wo(this)},V.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Kde(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ad(),Sn(17)),Wo(this),this.o=2,kd(this)):fV(this,this.Y-t)};var gV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ko(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ko){this.h=t.h,gm(this,t.j),this.s=t.s,this.g=t.g,mm(this,t.m),this.l=t.l;var e=t.i,n=new Fd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mV(this,n),this.o=t.o}else t&&(e=String(t).match(gV))?(this.h=!1,gm(this,e[1]||"",!0),this.s=Pd(e[2]||""),this.g=Pd(e[3]||"",!0),mm(this,e[4]),this.l=Pd(e[5]||"",!0),mV(this,e[6]||"",!0),this.o=Pd(e[7]||"")):(this.h=!1,this.i=new Fd(null,this.h))}function rs(t){return new Ko(t)}function gm(t,e,n){t.j=n?Pd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mV(t,e,n){e instanceof Fd?(t.i=e,function ohe(t,e){e&&!t.j&&(Fs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_V(this,r),wV(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Od(e,ihe)),t.i=new Fd(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function ym(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Pd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Od(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,the),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function the(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ko.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Od(e,yV,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Od(e,yV,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Od(n,"/"==n.charAt(0)?rhe:nhe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Od(n,she)),t.join("")};var yV=/[#\/\?@]/g,nhe=/[#\?:]/g,rhe=/[#\?]/g,ihe=/[#\?@]/g,she=/#/g;function Fd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fs(t){t.g||(t.g=new Map,t.h=0,t.i&&function ehe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function _V(t,e){Fs(t),e=Wu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function vV(t,e){return Fs(t),e=Wu(t,e),t.g.has(e)}function wV(t,e,n){_V(t,e),0<n.length&&(t.i=null,t.g.set(Wu(t,e),yD(n)),t.h+=n.length)}function Wu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function EV(t){this.l=t||uhe,t=ae.PerformanceNavigationTiming?0<(t=ae.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=Fd.prototype).add=function(t,e){Fs(this),this.i=null,t=Wu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},V.forEach=function(t,e){Fs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},V.ta=function(){Fs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},V.Z=function(t){Fs(this);let e=[];if("string"==typeof t)vV(this,t)&&(e=e.concat(this.g.get(Wu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},V.set=function(t,e){return Fs(this),this.i=null,vV(this,t=Wu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},V.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var uhe=10;function bV(t){return!!t.h||!!t.g&&t.g.size>=t.j}function IV(t){return t.h?1:t.g?t.g.size:0}function zD(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function qD(t,e){t.g?t.g.add(e):t.h=e}function CV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function DV(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return yD(t.i)}EV.prototype.cancel=function(){if(this.i=DV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var che=class{stringify(t){return ae.JSON.stringify(t,void 0)}parse(t){return ae.JSON.parse(t,void 0)}};function lhe(){this.g=new che}function dhe(t,e,n){const r=n||"";try{pV(t,function(i,s){let o=i;Ed(i)&&(o=PD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _m(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ld(t){this.l=t.fc||null,this.j=t.ob||!1}function vm(t,e){Vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=WD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lt(Ld,VD),Ld.prototype.g=function(){return new vm(this.l,this.j)},Ld.prototype.i=function(t){return function(){return t}}({}),Lt(vm,Vt);var WD=0;function TV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Vd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bd(t)}function Bd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(V=vm.prototype).open=function(t,e){if(this.readyState!=WD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bd(this)},V.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vd(this)),this.readyState=WD},V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bd(this)),this.g&&(this.readyState=3,Bd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vd(this):Bd(this),3==this.readyState&&TV(this)}},V.Za=function(t){this.g&&(this.response=this.responseText=t,Vd(this))},V.Ya=function(t){this.g&&(this.response=t,Vd(this))},V.ka=function(){this.g&&Vd(this)},V.setRequestHeader=function(t,e){this.v.append(t,e)},V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(vm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var fhe=ae.JSON.parse;function lt(t){Vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=SV,this.L=this.M=!1}Lt(lt,Vt);var SV="",phe=/^https?$/i,ghe=["POST","PUT"];function AV(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,MV(t),wm(t)}function MV(t){t.F||(t.F=!0,en(t,"complete"),en(t,"error"))}function xV(t){if(t.h&&typeof gD<"u"&&(!t.C[1]||4!=fi(t)||2!=t.da()))if(t.v&&4==fi(t))LD(t.La,0,t);else if(en(t,"readystatechange"),4==fi(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(gV)[1]||null;!i&&ae.self&&ae.self.location&&(i=ae.self.location.protocol.slice(0,-1)),r=!phe.test(i?i.toLowerCase():"")}n=r}if(n)en(t,"complete"),en(t,"success");else{t.m=6;try{var s=2<fi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",MV(t)}}finally{wm(t)}}}function wm(t,e){if(t.g){NV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||en(t,"ready");try{n.onreadystatechange=r}catch{}}}function NV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ae.clearTimeout(t.A),t.A=null)}function fi(t){return t.g?t.g.readyState:0}function RV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case SV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function kV(t){let e="";return DD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function KD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=kV(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function Ud(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function PV(t){this.Ga=0,this.j=[],this.l=new cm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ud("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ud("baseRetryDelayMs",5e3,t),this.hb=Ud("retryDelaySeedMs",1e4,t),this.eb=Ud("forwardChannelMaxRetries",2,t),this.xa=Ud("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new EV(t&&t.concurrentRequestLimit),this.Ja=new lhe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function QD(t){if(OV(t),3==t.H){var e=t.W++,n=rs(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),jd(t,n),(e=new Nd(t,t.l,e)).L=2,e.v=ym(rs(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon)try{n=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ae.Image&&((new Image).src=e.v,n=!0),n||(e.g=GV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Rd(e)}$V(t)}function Em(t){t.g&&(XD(t),t.g.cancel(),t.g=null)}function OV(t){Em(t),t.u&&(ae.clearTimeout(t.u),t.u=null),Im(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ae.clearTimeout(t.m),t.m=null)}function bm(t){if(!bV(t.i)&&!t.m){t.m=!0;var e=t.Na;Dd||X5(),Td||(Dd(),Td=!0),OD.add(e,t),t.C=0}}function FV(t,e){var n;n=e?e.m:t.W++;const r=rs(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),jd(t,r),t.o&&t.s&&KD(r,t.o,t.s),n=new Nd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qD(t.i,n),HD(n,r,e)}function jd(t,e){t.na&&DD(t.na,function(n,r){qe(e,r,n)}),t.h&&pV({},function(n,r){qe(e,r,n)})}function LV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ln(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{dhe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function VV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Dd||X5(),Td||(Dd(),Td=!0),OD.add(e,t),t.A=0}}function YD(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Md(ln(t.Ma,t),jV(t,t.A)),t.A++,0))}function XD(t){null!=t.B&&(ae.clearTimeout(t.B),t.B=null)}function BV(t){t.g=new Nd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=rs(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),jd(t,e),t.o&&t.s&&KD(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ym(rs(e)),n.s=null,n.S=!0,lV(n,t)}function Im(t){null!=t.v&&(ae.clearTimeout(t.v),t.v=null)}function UV(t,e){var n=null;if(t.g==e){Im(t),XD(t),t.g=null;var r=2}else{if(!zD(t.i,e))return;n=e.F,CV(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;en(r=lm(),new sV(r,n)),bm(t)}else VV(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function _he(t,e){return!(IV(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Md(ln(t.Na,t,e),jV(t,t.C)),t.C++,0)))}(t,e)||2==r&&YD(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qo(t,5);break;case 4:Qo(t,10);break;case 3:Qo(t,6);break;default:Qo(t,2)}}function jV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=ln(t.pb,t);n||(n=new Ko("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||gm(n,"https"),ym(n)),function hhe(t,e){const n=new cm;if(ae.Image){const r=new Image;r.onload=rm(_m,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rm(_m,n,r,"TestLoadImage: error",!1,e),r.onabort=rm(_m,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rm(_m,n,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Sn(2);t.H=0,t.h&&t.h.za(e),$V(t),OV(t)}function $V(t){if(t.H=0,t.ma=[],t.h){const e=DV(t.i);(0!=e.length||0!=t.j.length)&&(L5(t.ma,e),L5(t.ma,t.j),t.i.i.length=0,yD(t.j),t.j.length=0),t.h.ya()}}function HV(t,e,n){var r=n instanceof Ko?rs(n):new Ko(n);if(""!=r.g)e&&(r.g=e+"."+r.g),mm(r,r.m);else{var i=ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ko(null);r&&gm(s,r),e&&(s.g=e),i&&mm(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&qe(r,n,e),qe(r,"VER",t.ra),jd(t,r),r}function GV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lt(n&&t.Ha&&!t.va?new Ld({ob:!0}):t.va)).Oa(t.J),e}function zV(){}function Cm(){if(zu&&!(10<=Number(Nde)))throw Error("Environmental error: no available transport.")}function nr(t,e){Vt.call(this),this.g=new PV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!bd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bd(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ku(this)}function qV(t){BD.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function WV(){UD.call(this),this.status=1}function Ku(t){this.g=t}function $r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function JD(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function ke(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(V=lt.prototype).Oa=function(t){this.M=t},V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jD.g(),this.C=function aV(t){return t.h||(t.h=t.i())}(this.u?this.u:jD),this.g.onreadystatechange=ln(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void AV(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ae.FormData&&t instanceof ae.FormData,!(0<=F5(ghe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NV(this),0<this.B&&((this.L=function mhe(t){return zu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ln(this.ua,this)):this.A=LD(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){AV(this,s)}},V.ua=function(){typeof gD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,en(this,"timeout"),this.abort(8))},V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,en(this,"complete"),en(this,"abort"),wm(this))},V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wm(this,!0)),lt.$.N.call(this)},V.La=function(){this.s||(this.G||this.v||this.l?xV(this):this.kb())},V.kb=function(){xV(this)},V.isActive=function(){return!!this.g},V.da=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fhe(e)}},V.Ia=function(){return this.m},V.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=PV.prototype).ra=8,V.H=1,V.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Nd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=$5(s),G5(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LV(this,i,e),qe(n=rs(this.I),"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),jd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(kV(s)))+"&"+e:this.o&&KD(n,this.o,s)),qD(this.i,i),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),i.aa=!0,HD(i,n,null)):HD(i,n,e),this.H=2}}else 3==this.H&&(t?FV(this,t):0==this.j.length||bV(this.i)||FV(this))},V.Ma=function(){if(this.u=null,BV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Md(ln(this.jb,this),t)}},V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sn(10),Em(this),BV(this))},V.ib=function(){null!=this.v&&(this.v=null,Em(this),YD(this),Sn(19))},V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Sn(2)):(this.l.info("Failed to ping google.com"),Sn(1))},V.isActive=function(){return!!this.h&&this.h.isActive(this)},(V=zV.prototype).Ba=function(){},V.Aa=function(){},V.za=function(){},V.ya=function(){},V.isActive=function(){return!0},V.Va=function(){},Cm.prototype.g=function(t,e){return new nr(t,e)},Lt(nr,Vt),nr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Sn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=HV(t,null,t.Y),bm(t)},nr.prototype.close=function(){QD(this.g)},nr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=PD(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&bm(e)},nr.prototype.N=function(){this.g.h=null,delete this.j,QD(this.g),delete this.g,nr.$.N.call(this)},Lt(qV,BD),Lt(WV,UD),Lt(Ku,zV),Ku.prototype.Ba=function(){en(this.g,"a")},Ku.prototype.Aa=function(t){en(this.g,new qV(t))},Ku.prototype.za=function(t){en(this.g,new WV)},Ku.prototype.ya=function(){en(this.g,"b")},Lt($r,function vhe(){this.blockSize=-1}),$r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$r.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)JD(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){JD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){JD(this,r),i=0;break}}this.h=i,this.i+=e},$r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var whe={};function ZD(t){return-128<=t&&128>t?function Ade(t,e){var n=whe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ke([0|e],0>e?-1:0)}):new ke([0|t],0>t?-1:0)}function pi(t){if(isNaN(t)||!isFinite(t))return Qu;if(0>t)return tn(pi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=eT;return new ke(e,0)}var eT=4294967296,Qu=ZD(0),tT=ZD(1),QV=ZD(16777216);function is(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Sr(t){return-1==t.h}function tn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ke(n,~t.h).add(tT)}function Dm(t,e){return t.add(tn(e))}function Tm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function $d(t,e){this.g=t,this.h=e}function Sm(t,e){if(is(e))throw Error("division by zero");if(is(t))return new $d(Qu,Qu);if(Sr(t))return e=Sm(tn(t),e),new $d(tn(e.g),tn(e.h));if(Sr(e))return e=Sm(t,tn(e)),new $d(tn(e.g),e.h);if(30<t.g.length){if(Sr(t)||Sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=tT,r=e;0>=r.X(t);)n=YV(n),r=YV(r);var i=Yu(n,1),s=Yu(r,1);for(r=Yu(r,2),n=Yu(n,2);!is(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Yu(r,1),n=Yu(n,1)}return e=Dm(t,i.R(e)),new $d(i,e)}for(i=Qu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=pi(n)).R(e);Sr(o)||0<o.X(t);)o=(s=pi(n-=r)).R(e);is(s)&&(s=tT),i=i.add(s),t=Dm(t,o)}return new $d(i,t)}function YV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ke(n,t.h)}function Yu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ke(i,t.h)}(V=ke.prototype).ea=function(){if(Sr(this))return-tn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:eT+r)*e,e*=eT}return t},V.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(is(this))return"0";if(Sr(this))return"-"+tn(this).toString(t);for(var e=pi(Math.pow(t,6)),n=this,r="";;){var i=Sm(n,e).g,s=((0<(n=Dm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(is(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},V.X=function(t){return Sr(t=Dm(this,t))?-1:is(t)?0:1},V.abs=function(){return Sr(this)?tn(this):this},V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new ke(n,-2147483648&n[n.length-1]?-1:0)},V.R=function(t){if(is(this)||is(t))return Qu;if(Sr(this))return Sr(t)?tn(this).R(tn(t)):tn(tn(this).R(t));if(Sr(t))return tn(this.R(tn(t)));if(0>this.X(QV)&&0>t.X(QV))return pi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Tm(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Tm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Tm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Tm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ke(n,0)},V.gb=function(t){return Sm(this,t).h},V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ke(n,this.h&t.h)},V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ke(n,this.h|t.h)},V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ke(n,this.h^t.h)},Cm.prototype.createWebChannel=Cm.prototype.g,nr.prototype.send=nr.prototype.u,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,dm.NO_ERROR=0,dm.TIMEOUT=8,dm.HTTP_ERROR=6,oV.COMPLETE="complete",uV.EventType=xd,xd.OPEN="a",xd.CLOSE="b",xd.ERROR="c",xd.MESSAGE="d",Vt.prototype.listen=Vt.prototype.O,lt.prototype.listenOnce=lt.prototype.P,lt.prototype.getLastError=lt.prototype.Sa,lt.prototype.getLastErrorCode=lt.prototype.Ia,lt.prototype.getStatus=lt.prototype.da,lt.prototype.getResponseJson=lt.prototype.Wa,lt.prototype.getResponseText=lt.prototype.ja,lt.prototype.send=lt.prototype.ha,lt.prototype.setWithCredentials=lt.prototype.Oa,$r.prototype.digest=$r.prototype.l,$r.prototype.reset=$r.prototype.reset,$r.prototype.update=$r.prototype.j,ke.prototype.add=ke.prototype.add,ke.prototype.multiply=ke.prototype.R,ke.prototype.modulo=ke.prototype.gb,ke.prototype.compare=ke.prototype.X,ke.prototype.toNumber=ke.prototype.ea,ke.prototype.toString=ke.prototype.toString,ke.prototype.getBits=ke.prototype.D,ke.fromNumber=pi,ke.fromString=function KV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return tn(KV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pi(Math.pow(e,8)),r=Qu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=pi(Math.pow(e,s)),r=r.R(s).add(pi(o))):r=(r=r.R(n)).add(pi(o))}return r};var Ehe=jr.createWebChannelTransport=function(){return new Cm},bhe=jr.getStatEventTarget=function(){return lm()},nT=jr.ErrorCode=dm,Ihe=jr.EventType=oV,Che=jr.Event=qo,XV=jr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Dhe=jr.FetchXmlHttpFactory=Ld,Am=jr.WebChannel=uV,The=jr.XhrIo=lt,She=jr.Md5=$r,Xu=jr.Integer=ke;const JV="@firebase/firestore";class Bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");let Ju="9.23.0";const Ls=new No("@firebase/firestore");function rT(){return Ls.logLevel}function N(t,...e){if(Ls.logLevel<=be.DEBUG){const n=e.map(iT);Ls.debug(`Firestore (${Ju}): ${t}`,...n)}}function gt(t,...e){if(Ls.logLevel<=be.ERROR){const n=e.map(iT);Ls.error(`Firestore (${Ju}): ${t}`,...n)}}function Hr(t,...e){if(Ls.logLevel<=be.WARN){const n=e.map(iT);Ls.warn(`Firestore (${Ju}): ${t}`,...n)}}function iT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function H(t="Unexpected state"){const e=`FIRESTORE (${Ju}) INTERNAL ASSERTION FAILED: `+t;throw gt(e),new Error(e)}function W(t,e){t||H()}function F(t,e){return t}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ZV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ahe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class Mhe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xhe{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(v(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(W("string"==typeof r.accessToken),new ZV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return W(null===e||"string"==typeof e),new Bt(e)}}class Nhe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Rhe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Nhe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class khe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(W("string"==typeof n.token),this.T=n.token,new e6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Phe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class t6{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Phe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Zu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class K{constructor(e){this.timestamp=e}static fromTimestamp(e){return new K(e)}static min(){return new K(new rt(0,0))}static max(){return new K(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hd{constructor(e,n,r){void 0===n?n=0:n>e.length&&H(),void 0===r?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Hd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends Hd{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const Ohe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Hd{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return Ohe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new M(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new M(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}class P{constructor(e){this.path=e}static fromPath(e){return new P(we.fromString(e))}static fromName(e){return new P(we.fromString(e).popFirst(5))}static empty(){return new P(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new P(new we(e.slice()))}}function i6(t){return new rr(t.readTime,t.key,-1)}class rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rr(K.min(),P.empty(),-1)}static max(){return new rr(K.max(),P.empty(),-1)}}function oT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=P.comparator(t.documentKey,e.documentKey),0!==n?n:re(t.largestBatchId,e.largestBatchId))}const s6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vs(t){return aT.apply(this,arguments)}function aT(){return aT=v(function*(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==s6)throw t;N("LocalStore","Unexpectedly lost primary lease")}),aT.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new I((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Bs(t){return"IndexedDbTransactionError"===t.name}let ir=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function qd(t){return null==t}function Wd(t){return 0===t&&1/t==-1/0}function p6(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function g6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ze{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new km(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new km(this.root,e,this.comparator,!1)}getReverseIterator(){return new km(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new km(this.root,e,this.comparator,!0)}}class km{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=s??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1,nn.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(t,e,n,r,i){return this}insert(t,e,n){return new nn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class We{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new m6(this.data.getIterator())}getIteratorFrom(e){return new m6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class m6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new We(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class y6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new y6("Invalid base64 string: "+i):i}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const afe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(W(!!t),"string"==typeof t){let e=0;const n=afe.exec(t);if(W(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ss(t){return"string"==typeof t?Rt.fromBase64String(t):Rt.fromUint8Array(t)}function Pm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Om(t){const e=t.mapValue.fields.__previous_value__;return Pm(e)?Om(e):e}function Kd(t){const e=js(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}class ufe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Jo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jo&&e.projectId===this.projectId&&e.database===this.database}}const $s={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pm(t)?4:E6(t)?9007199254740991:10:H()}function mi(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kd(t).isEqual(Kd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=js(r.timestampValue),o=js(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ss(t.bytesValue).isEqual(ss(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return dt(r.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(r.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dt(r.integerValue)===dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=dt(r.doubleValue),o=dt(i.doubleValue);return s===o?Wd(s)===Wd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(p6(s)!==p6(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!mi(s[a],o[a])))return!1;return!0}(t,e);default:return H()}var i}function Qd(t,e){return void 0!==(t.values||[]).find(n=>mi(n,e))}function Gs(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=dt(i.integerValue||i.doubleValue),a=dt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return _6(t.timestampValue,e.timestampValue);case 4:return _6(Kd(t),Kd(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ss(i),a=ss(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=re(o[u],a[u]);if(0!==c)return c}return re(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=re(dt(i.latitude),dt(s.latitude));return 0!==o?o:re(dt(i.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Gs(o[u],a[u]);if(c)return c}return re(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===$s.mapValue&&s===$s.mapValue)return 0;if(i===$s.mapValue)return 1;if(s===$s.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=re(a[l],c[l]);if(0!==d)return d;const h=Gs(o[a[l]],u[c[l]]);if(0!==h)return h}return re(a.length,c.length)}(t.mapValue,e.mapValue);default:throw H()}}function _6(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return re(t,e);const n=js(t),r=js(e),i=re(n.seconds,r.seconds);return 0!==i?i:re(n.nanos,r.nanos)}function tc(t){return lT(t)}function lT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=js(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ss(t.bytesValue).toBase64():"referenceValue"in t?P.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=lT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${lT(r.fields[a])}`;return s+"}"}(t.mapValue):H();var e}function Zo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dT(t){return!!t&&"integerValue"in t}function Yd(t){return!!t&&"arrayValue"in t}function v6(t){return!!t&&"nullValue"in t}function w6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vm(t){return!!t&&"mapValue"in t}function Xd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Us(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E6(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xd(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Xd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Us(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rn(Xd(this.value))}}function C6(t){const e=[];return Us(t.fields,(n,r)=>{const i=new mt([n]);if(Vm(r)){const s=C6(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Un(e)}class Ke{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ke(e,0,K.min(),K.min(),K.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ke(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new Ke(e,2,n,K.min(),K.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new Ke(e,3,n,K.min(),K.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zs{constructor(e,n){this.position=e,this.inclusive=n}}function D6(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?P.comparator(P.fromName(o.referenceValue),n.key):Gs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function T6(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}class nc{constructor(e,n="asc"){this.field=e,this.dir=n}}function dfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class S6{}class me extends S6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new hfe(e,n,r):"array-contains"===n?new gfe(e,r):"in"===n?new k6(e,r):"not-in"===n?new mfe(e,r):"array-contains-any"===n?new yfe(e,r):new me(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ffe(e,r):new pfe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Gs(n,this.value)):null!==n&&Hs(this.value)===Hs(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pe extends S6{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Pe(e,n)}matches(e){return rc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function rc(t){return"and"===t.op}function fT(t){return function A6(t){for(const e of t.filters)if(e instanceof Pe)return!1;return!0}(t)&&rc(t)}function pT(t){if(t instanceof me)return t.field.canonicalString()+t.op.toString()+tc(t.value);if(fT(t))return t.filters.map(e=>pT(e)).join(",");{const e=t.filters.map(n=>pT(n)).join(",");return`${t.op}(${e})`}}function M6(t,e){return t instanceof me?(n=t,(r=e)instanceof me&&n.op===r.op&&n.field.isEqual(r.field)&&mi(n.value,r.value)):t instanceof Pe?function(n,r){return r instanceof Pe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&M6(s,r.filters[o]),!0)}(t,e):void H();var n,r}function N6(t){return t instanceof me?function(e){return`${e.field.canonicalString()} ${e.op} ${tc(e.value)}`}(t):t instanceof Pe?function(e){return e.op.toString()+" {"+e.getFilters().map(N6).join(" ,")+"}"}(t):"Filter"}class hfe extends me{constructor(e,n,r){super(e,n,r),this.key=P.fromName(r.referenceValue)}matches(e){const n=P.comparator(e.key,this.key);return this.matchesComparison(n)}}class ffe extends me{constructor(e,n){super(e,"in",n),this.keys=R6(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pfe extends me{constructor(e,n){super(e,"not-in",n),this.keys=R6(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function R6(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>P.fromName(r.referenceValue))}class gfe extends me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yd(n)&&Qd(n.arrayValue,this.value)}}class k6 extends me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Qd(this.value.arrayValue,n)}}class mfe extends me{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Qd(this.value.arrayValue,n)}}class yfe extends me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qd(this.value.arrayValue,r))}}class _fe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function gT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _fe(t,e,n,r,i,s,o)}function ea(t){const e=F(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tc(r)).join(",")),e.dt=n}return e.dt}function Jd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dfe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!M6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T6(t.startAt,e.startAt)&&T6(t.endAt,e.endAt)}function Bm(t){return P.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class os{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function ic(t){return new os(t)}function L6(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function mT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function yT(t){return null!==t.collectionGroup}function ta(t){const e=F(t);if(null===e.wt){e.wt=[];const n=jm(e),r=mT(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new nc(n)),e.wt.push(new nc(mt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nc(mt.keyField(),s))}}}return e.wt}function An(t){const e=F(t);if(!e._t)if("F"===e.limitType)e._t=gT(e.path,e.collectionGroup,ta(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ta(e))n.push(new nc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new zs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zs(e.startAt.position,e.startAt.inclusive):null;e._t=gT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function _T(t,e){e.getFirstInequalityField(),jm(t);const n=t.filters.concat([e]);return new os(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $m(t,e,n){return new os(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zd(t,e){return Jd(An(t),An(e))&&t.limitType===e.limitType}function V6(t){return`${ea(An(t))}|lt:${t.limitType}`}function vT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>N6(r)).join(", ")}]`),qd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tc(r)).join(",")),`Target(${n})`}(An(t))}; limitType=${t.limitType})`}function eh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):P.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ta(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=D6(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ta(n),r)||n.endAt&&!function(i,s,o){const a=D6(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ta(n),r)));var n,r}function U6(t){return(e,n)=>{let r=!1;for(const i of ta(t)){const s=vfe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function vfe(t,e,n){const r=t.field.isKeyField()?P.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Gs(a,u):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}class as{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return g6(this.inner)}size(){return this.innerSize}}const wfe=new ze(P.comparator);function jn(){return wfe}const j6=new ze(P.comparator);function th(...t){let e=j6;for(const n of t)e=e.insert(n.key,n);return e}function $6(t){let e=j6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yi(){return nh()}function H6(){return nh()}function nh(){return new as(t=>t.toString(),(t,e)=>t.isEqual(e))}const Efe=new ze(P.comparator),bfe=new We(P.comparator);function he(...t){let e=bfe;for(const n of t)e=e.add(n);return e}const Ife=new We(re);function G6(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function z6(t){return{integerValue:""+t}}function q6(t,e){return function a6(t){return"number"==typeof t&&Number.isInteger(t)&&!Wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?z6(e):G6(t,e)}class Hm{constructor(){this._=void 0}}function Cfe(t,e,n){return t instanceof sc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Pm(i)&&(i=Om(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof na?K6(t,e):t instanceof ra?Q6(t,e):function(r,i){const s=W6(r,i),o=Y6(s)+Y6(r.gt);return dT(s)&&dT(r.gt)?z6(o):G6(r.serializer,o)}(t,e)}function Dfe(t,e,n){return t instanceof na?K6(t,e):t instanceof ra?Q6(t,e):n}function W6(t,e){return t instanceof oc?dT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class sc extends Hm{}class na extends Hm{constructor(e){super(),this.elements=e}}function K6(t,e){const n=X6(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ra extends Hm{constructor(e){super(),this.elements=e}}function Q6(t,e){let n=X6(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class oc extends Hm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Y6(t){return dt(t.integerValue||t.doubleValue)}function X6(t){return Yd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Sfe{constructor(e,n){this.version=e,this.transformResults=n}}class Je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Je}static exists(e){return new Je(void 0,e)}static updateTime(e){return new Je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class zm{}function J6(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new uc(t.key,Je.none()):new ac(t.key,t.data,Je.none());{const n=t.data,r=rn.empty();let i=new We(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new us(t.key,r,new Un(i.toArray()),Je.none())}}function Afe(t,e,n){t instanceof ac?function(r,i,s){const o=r.value.clone(),a=t9(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof us?function(r,i,s){if(!Gm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=t9(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(e9(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ih(t,e,n,r){return t instanceof ac?function(i,s,o,a){if(!Gm(i.precondition,s))return o;const u=i.value.clone(),c=n9(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof us?function(i,s,o,a){if(!Gm(i.precondition,s))return o;const u=n9(i.fieldTransforms,a,s),c=s.data;return c.setAll(e9(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Gm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Mfe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=W6(r.transform,i||null);null!=s&&(null===n&&(n=rn.empty()),n.set(r.field,s))}return n||null}function Z6(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Zu(n,r,(i,s)=>function Tfe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof na&&r instanceof na||n instanceof ra&&r instanceof ra?Zu(n.elements,r.elements,mi):n instanceof oc&&r instanceof oc?mi(n.gt,r.gt):n instanceof sc&&r instanceof sc);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class ac extends zm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class us extends zm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function e9(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function t9(t,e,n){const r=new Map;W(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dfe(o,a,n[i]))}return r}function n9(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Cfe(s,o,e))}return r}class uc extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ET extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Afe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ih(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ih(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=H6();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=J6(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(n,r)=>Z6(n,r))&&Zu(this.baseMutations,e.baseMutations,(n,r)=>Z6(n,r))}}class IT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){W(e.mutations.length===r.length);let i=Efe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new IT(e,n,r,i)}}class CT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nfe{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Ee;function i9(t){if(void 0===t)return gt("GRPC error has no .code"),C.UNKNOWN;switch(t){case It.OK:return C.OK;case It.CANCELLED:return C.CANCELLED;case It.UNKNOWN:return C.UNKNOWN;case It.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case It.INTERNAL:return C.INTERNAL;case It.UNAVAILABLE:return C.UNAVAILABLE;case It.UNAUTHENTICATED:return C.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case It.NOT_FOUND:return C.NOT_FOUND;case It.ALREADY_EXISTS:return C.ALREADY_EXISTS;case It.PERMISSION_DENIED:return C.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case It.ABORTED:return C.ABORTED;case It.OUT_OF_RANGE:return C.OUT_OF_RANGE;case It.UNIMPLEMENTED:return C.UNIMPLEMENTED;case It.DATA_LOSS:return C.DATA_LOSS;default:return H()}}(Ee=It||(It={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";class DT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return qm}static getOrCreateInstance(){return null===qm&&(qm=new DT),qm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let qm=null;const Rfe=new Xu([4294967295,4294967295],0);function o9(t){const e=function s9(){return new TextEncoder}().encode(t),n=new She;return n.update(e),new Uint8Array(n.digest())}function a9(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xu([n,r],0),new Xu([i,s],0)]}class TT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sh(`Invalid padding: ${n}`);if(r<0)throw new sh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new sh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new sh(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Xu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Xu.fromNumber(r)));return 1===i.compare(Rfe)&&(i=new Xu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=o9(e),[r,i]=a9(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new TT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=o9(e),[r,i]=a9(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ah.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new oh(K.min(),i,new ze(re),jn(),he())}}class ah{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ah(r,n,he(),he(),he())}}class Wm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class u9{constructor(e,n){this.targetId=e,this.Vt=n}}class c9{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class l9{constructor(){this.St=0,this.Dt=h9(),this.Ct=Rt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=he(),n=he(),r=he();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new ah(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=h9()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class kfe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=jn(),this.zt=d9(),this.Wt=new ze(re)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Bm(o))if(0===i){const a=new P(o.path);this.Yt(r,a,Ke.newNoDocument(a,K.min()))}else W(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=DT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,E;const w={localCacheCount:l,existenceFilterCount:d.count},T=d.unchangedNames;return T&&(w.bloomFilter={applied:0===c,hashCount:null!==(h=T?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=T?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(E=null===(m=T?.bits)||void 0===m?void 0:m.padding)&&void 0!==E?E:0}),w}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ss(s).toUint8Array()}catch(l){if(l instanceof y6)return Hr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new TT(u,o,a)}catch(l){return Hr(l instanceof sh?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Bm(a.target)){const u=new P(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ke.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=he();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new oh(e,n,this.Wt,this.jt,r);return this.jt=jn(),this.zt=d9(),this.Wt=new ze(re),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new l9,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new We(re),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||N("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new l9),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function d9(){return new ze(P.comparator)}function h9(){return new ze(P.comparator)}const Pfe={asc:"ASCENDING",desc:"DESCENDING"},Ofe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ffe={and:"AND",or:"OR"};class Lfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ST(t,e){return t.useProto3Json||qd(e)?e:{value:e}}function cc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vfe(t,e){return cc(t,e.toTimestamp())}function yt(t){return W(!!t),K.fromTimestamp(function(e){const n=js(e);return new rt(n.seconds,n.nanos)}(t))}function AT(t,e){return(n=t,new we(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function p9(t){const e=we.fromString(t);return W(I9(e)),e}function uh(t,e){return AT(t.databaseId,e.path)}function _i(t,e){const n=p9(e);if(n.get(1)!==t.databaseId.projectId)throw new M(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(m9(n))}function MT(t,e){return AT(t.databaseId,e)}function ch(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m9(t){return W(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function y9(t,e,n){return{name:uh(t,e),fields:n.value.mapValue.fields}}function v9(t,e){return{documents:[MT(t,e.path)]}}function NT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=MT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=MT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return b9(Pe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:qs((l=c).field),direction:Hfe(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ST(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function w9(t){let e=function g9(t){const e=p9(t);return 4===e.length?we.emptyPath():m9(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){W(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=E9(l);return d instanceof Pe&&fT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new nc(lc((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,qd(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new zs((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new zs(l.values||[],!l.before)}(n.endAt)),function F6(t,e,n,r,i,s,o,a){return new os(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function E9(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=lc(e.unaryFilter.field);return me.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=lc(e.unaryFilter.field);return me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=lc(e.unaryFilter.field);return me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=lc(e.unaryFilter.field);return me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):void 0!==t.fieldFilter?function(e){return me.create(lc(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Pe.create(e.compositeFilter.filters.map(n=>E9(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return H()}}(e.compositeFilter.op))}(t):H()}function Hfe(t){return Pfe[t]}function Gfe(t){return Ofe[t]}function zfe(t){return Ffe[t]}function qs(t){return{fieldPath:t.canonicalString()}}function lc(t){return mt.fromServerFormat(t.fieldPath)}function b9(t){return t instanceof me?function(e){if("=="===e.op){if(w6(e.value))return{unaryFilter:{field:qs(e.field),op:"IS_NAN"}};if(v6(e.value))return{unaryFilter:{field:qs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(w6(e.value))return{unaryFilter:{field:qs(e.field),op:"IS_NOT_NAN"}};if(v6(e.value))return{unaryFilter:{field:qs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(e.field),op:Gfe(e.op),value:e.value}}}(t):t instanceof Pe?function(e){const n=e.getFilters().map(r=>b9(r));return 1===n.length?n[0]:{compositeFilter:{op:zfe(e.op),filters:n}}}(t):H()}function qfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function I9(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class cs{constructor(e,n,r,i,s=K.min(),o=K.min(),a=Rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class C9{constructor(e){this.fe=e}}function RT(t){const e=w9({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$m(e,e.limit,"L"):e}class aa{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(dt(e.integerValue));else if("doubleValue"in e){const r=dt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Wd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ss(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?E6(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):H()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),P.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}aa.Ve=new aa;class tpe{constructor(){this.rn=new VT}addToCollectionParentIndex(e,n){return this.rn.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(rr.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class VT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(we.comparator)).toArray()}}new Uint8Array(0);class fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class ca{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ca(0)}static Mn(){return new ca(-1)}}class ape{constructor(){this.changes=new as(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lpe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Y9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&ih(r.mutation,i,Un.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=yi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=th();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jn();const o=nh(),a=nh();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof us)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),ih(l.mutation,c,l.mutation.getFieldMask(),rt.now())):o.set(c.key,Un.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new lpe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=nh();let i=new ze((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Un.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=H6();l.forEach(h=>{if(!s.has(h)){const f=J6(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return P.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):yT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve(yi());let a=-1,u=s;return o.next(c=>I.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,he())).next(l=>({batchId:a,changes:$6(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new P(n)).next(r=>{let i=th();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=th();return this.indexManager.getCollectionParents(e,i).next(o=>I.forEach(o,a=>{const u=(c=n,l=a.child(i),new os(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ke.newInvalidDocument(c)))});let o=th();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&ih(c.mutation,u,Un.empty(),rt.now()),eh(n,u)&&(o=o.insert(a,u))}),o})}}class dpe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return I.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:yt(r.createTime)}),I.resolve()}getNamedQuery(e,n){return I.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:RT(r.bundledQuery),readTime:yt(r.readTime)}),I.resolve();var r}}class hpe{constructor(){this.overlays=new ze(P.comparator),this.ls=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yi();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=yi(),s=n.length+1,o=new P(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=yi(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=yi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return I.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CT(n,r));let s=this.ls.get(n);void 0===s&&(s=he(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class BT{constructor(){this.fs=new We(jt.ds),this.ws=new We(jt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new jt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new jt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new P(new we([])),r=new jt(n,e),i=new jt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new P(new we([])),r=new jt(n,e),i=new jt(n,e+1);let s=he();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new jt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return P.comparator(e.key,n.key)||re(e.As,n.As)}static _s(e,n){return re(e.As,n.As)||P.comparator(e.key,n.key)}}class fpe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new We(jt.ds)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new bT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(re);return n.forEach(i=>{const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),I.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;P.isDocumentKey(s)||(s=s.child(""));const o=new jt(new P(s),0);let a=new We(re);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),I.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){W(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return I.forEach(n.mutations,i=>{const s=new jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new jt(n,0),i=this.Rs.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ppe{constructor(e){this.Ds=e,this.docs=new ze(P.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ke.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jn();const o=n.path,a=new P(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||oT(i6(l),r)<=0||(i.has(l.key)||eh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){H()}Cs(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gpe(this)}getSize(e){return I.resolve(this.size)}}class gpe extends ape{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class mpe{constructor(e){this.persistence=e,this.xs=new as(n=>ea(n),Jd),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.Ns=0,this.ks=new BT,this.targetCount=0,this.Ms=ca.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),I.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.Fn(n),I.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.ks.containsKey(n))}}class UT{constructor(e,n){this.$s={},this.overlays={},this.Os=new ir(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new mpe(this),this.indexManager=new tpe,this.remoteDocumentCache=new ppe(r=>this.referenceDelegate.Ls(r)),this.serializer=new C9(n),this.qs=new dpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hpe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new fpe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){N("MemoryPersistence","Starting transaction:",e);const i=new ype(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return I.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class ype extends Vhe{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Qs=new BT,this.js=null}static zs(e){return new ny(e)}get Ws(){if(this.js)return this.js;throw H()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),I.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Ws,r=>{const i=P.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,K.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return I.or([()=>I.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class GT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new GT(e,n.fromCache,r,i)}}class J9{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(L6(n))return I.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=$m(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,$m(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return L6(n)||i.isEqual(K.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(rT()<=be.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vT(n)),this.Wi(e,o,n,function r6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(1e9===r?new rt(n+1,0):new rt(n,r));return new rr(i,P.empty(),e)}(i,-1)))})}ji(e,n){let r=new We(U6(e));return n.forEach((i,s)=>{eh(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return rT()<=be.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",vT(n)),this.Ui.getDocumentsMatchingQuery(e,n,rr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class vpe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ze(re),this.Yi=new as(s=>ea(s),Jd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y9(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function e7(t,e){return zT.apply(this,arguments)}function zT(){return zT=v(function*(t,e){const n=F(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=he();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),zT.apply(this,arguments)}function t7(t){const e=F(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function bpe(t,e){const n=F(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pc(t,e,n){return qT.apply(this,arguments)}function qT(){return qT=v(function*(t,e,n){const r=F(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Bs(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),qT.apply(this,arguments)}function sy(t,e,n){const r=F(t);let i=K.min(),s=he();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=F(a),d=l.Yi.get(c);return void 0!==d?I.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,An(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:K.min(),n?s:he())).next(a=>(function s7(t,e,n){let r=t.Xi.get(e)||K.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function B6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class XT{constructor(){this.activeTargetIds=function wT(){return Ife}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u7{constructor(){this.Hr=new XT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new XT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dpe{Yr(e){}shutdown(){}}class c7{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let uy=null;function ZT(){return null===uy?uy=268435456+Math.round(2147483648*Math.random()):uy++,"0x"+uy.toString(16)}const Tpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Spe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const pn="WebChannelConnection";class Ape extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=ZT(),a=this.To(e,n);N("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(N("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Hr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ju,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Tpe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=ZT();return new Promise((o,a)=>{const u=new The;u.setWithCredentials(!0),u.listenOnce(Ihe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case nT.NO_ERROR:const l=u.getResponseJson();N(pn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case nT.TIMEOUT:N(pn,`RPC '${e}' ${s} timed out`),a(new M(C.DEADLINE_EXCEEDED,"Request time out"));break;case nT.HTTP_ERROR:const d=u.getStatus();if(N(pn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(m)>=0?m:C.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(C.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new M(C.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{N(pn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);N(pn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=ZT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ehe(),a=bhe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Dhe({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");N(pn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Spe({ro:m=>{f?N(pn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(N(pn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),N(pn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,E,w)=>{m.listen(E,T=>{try{w(T)}catch(R){setTimeout(()=>{throw R},0)}})};return g(d,Am.EventType.OPEN,()=>{f||N(pn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Am.EventType.CLOSE,()=>{f||(f=!0,N(pn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Am.EventType.ERROR,m=>{f||(f=!0,Hr(pn,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new M(C.UNAVAILABLE,"The operation could not be completed")))}),g(d,Am.EventType.MESSAGE,m=>{var E;if(!f){const w=m.data[0];W(!!w);const R=w.error||(null===(E=w[0])||void 0===E?void 0:E.error);if(R){N(pn,`RPC '${e}' stream ${i} received error:`,R);const $=R.status;let Q=function(Ve){const Dt=It[Ve];if(void 0!==Dt)return i9(Dt)}($),ce=R.message;void 0===Q&&(Q=C.INTERNAL,ce="Unknown error status: "+$+" with message "+R.message),f=!0,p.wo(new M(Q,ce)),d.close()}else N(pn,`RPC '${e}' stream ${i} received:`,w),p._o(w)}}),g(a,Che.STAT_EVENT,m=>{m.stat===XV.PROXY?N(pn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===XV.NOPROXY&&N(pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function cy(){return typeof document<"u"?document:null}function vh(t){return new Lfe(t,!0)}class eS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class d7{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new eS(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return v(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return v(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return v(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(gt(n.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new M(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(v(function*(){e.state=0,e.start()}))}tu(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mpe extends d7{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Ufe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:H(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(W(void 0===c||"string"==typeof c),Rt.fromBase64String(c||"")):(W(void 0===c||c instanceof Uint8Array),Rt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?C.UNKNOWN:i9(u.code);return new M(c,u.message||"")}(o);n=new c9(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=_i(t,r.document.name),s=yt(r.document.updateTime),o=r.document.createTime?yt(r.document.createTime):K.min(),a=new rn({mapValue:{fields:r.document.fields}}),u=Ke.newFoundDocument(i,s,o,a);n=new Wm(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=_i(t,r.document),s=r.readTime?yt(r.readTime):K.min(),o=Ke.newNoDocument(i,s);n=new Wm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=_i(t,r.document);n=new Wm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return H();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Nfe(i,s);n=new u9(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return K.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?K.min():s.readTime?yt(s.readTime):K.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ch(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Bm(a)?{documents:v9(i,a)}:{query:NT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=f9(i,s.resumeToken);const u=ST(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(K.min())>0){o.readTime=cc(i,s.snapshotVersion.toTimestamp());const u=ST(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function $fe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ch(this.serializer),n.removeTarget=e,this.Wo(n)}}class xpe extends d7{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(W(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function jfe(t,e){return t&&t.length>0?(W(void 0!==e),t.map(n=>function(r,i){let s=yt(r.updateTime?r.updateTime:i);return s.isEqual(K.min())&&(s=yt(i)),new Sfe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=yt(e.commitTime);return this.listener.cu(r,n)}return W(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ch(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function lh(t,e){let n;if(e instanceof ac)n={update:y9(t,e.key,e.value)};else if(e instanceof uc)n={delete:uh(t,e.key)};else if(e instanceof us)n={update:y9(t,e.key,e.data),updateMask:qfe(e.fieldMask)};else{if(!(e instanceof ET))return H();n={verify:uh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof sc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof na)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ra)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof oc)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Vfe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:H()),n;var i}(this.serializer,r))};this.Wo(n)}}class Npe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new M(C.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(C.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(C.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class kpe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gt(n),this.mu=!1):N("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ppe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(v(function*(){var u;Ys(o)&&(N("RemoteStore","Restarting streams for network reachability change."),yield(u=v(function*(c){const l=F(c);l.vu.add(4),yield gc(l),l.bu.set("Unknown"),l.vu.delete(4),yield wh(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new kpe(r,i)}}function wh(t){return nS.apply(this,arguments)}function nS(){return nS=v(function*(t){if(Ys(t))for(const e of t.Ru)yield e(!0)}),nS.apply(this,arguments)}function gc(t){return rS.apply(this,arguments)}function rS(){return rS=v(function*(t){for(const e of t.Ru)yield e(!1)}),rS.apply(this,arguments)}function ly(t,e){const n=F(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),oS(n)?sS(n):yc(n).Ko()&&iS(n,e))}function Eh(t,e){const n=F(t),r=yc(n);n.Au.delete(e),r.Ko()&&h7(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ys(n)&&n.bu.set("Unknown"))}function iS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(K.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yc(t).su(e)}function h7(t,e){t.Vu.qt(e),yc(t).iu(e)}function sS(t){t.Vu=new kfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),yc(t).start(),t.bu.gu()}function oS(t){return Ys(t)&&!yc(t).Uo()&&t.Au.size>0}function Ys(t){return 0===F(t).vu.size}function f7(t){t.Vu=void 0}function Ope(t){return aS.apply(this,arguments)}function aS(){return aS=v(function*(t){t.Au.forEach((e,n)=>{iS(t,e)})}),aS.apply(this,arguments)}function Fpe(t,e){return uS.apply(this,arguments)}function uS(){return uS=v(function*(t,e){f7(t),oS(t)?(t.bu.Iu(e),sS(t)):t.bu.set("Unknown")}),uS.apply(this,arguments)}function Lpe(t,e,n){return cS.apply(this,arguments)}function cS(){return cS=v(function*(t,e,n){if(t.bu.set("Online"),e instanceof c9&&2===e.state&&e.cause)try{yield(r=v(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dy(t,r)}else if(e instanceof Wm?t.Vu.Ht(e):e instanceof u9?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(K.min()))try{const r=yield t7(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Rt.EMPTY_BYTE_STRING,c.snapshotVersion)),h7(i,a);const l=new cs(c.target,a,u,c.sequenceNumber);iS(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){N("RemoteStore","Failed to raise snapshot:",r),yield dy(t,r)}var r}),cS.apply(this,arguments)}function dy(t,e,n){return lS.apply(this,arguments)}function lS(){return lS=v(function*(t,e,n){if(!Bs(e))throw e;t.vu.add(1),yield gc(t),t.bu.set("Offline"),n||(n=()=>t7(t.localStore)),t.asyncQueue.enqueueRetryable(v(function*(){N("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield wh(t)}))}),lS.apply(this,arguments)}function p7(t,e){return e().catch(n=>dy(t,n,e))}function mc(t){return dS.apply(this,arguments)}function dS(){return dS=v(function*(t){const e=F(t),n=Xs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Vpe(e);)try{const i=yield bpe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Bpe(e,i)}catch(i){yield dy(e,i)}g7(e)&&m7(e)}),dS.apply(this,arguments)}function Vpe(t){return Ys(t)&&t.Eu.length<10}function Bpe(t,e){t.Eu.push(e);const n=Xs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function g7(t){return Ys(t)&&!Xs(t).Uo()&&t.Eu.length>0}function m7(t){Xs(t).start()}function Upe(t){return hS.apply(this,arguments)}function hS(){return hS=v(function*(t){Xs(t).hu()}),hS.apply(this,arguments)}function jpe(t){return fS.apply(this,arguments)}function fS(){return fS=v(function*(t){const e=Xs(t);for(const n of t.Eu)e.uu(n.mutations)}),fS.apply(this,arguments)}function $pe(t,e,n){return pS.apply(this,arguments)}function pS(){return pS=v(function*(t,e,n){const r=t.Eu.shift(),i=IT.from(r,e,n);yield p7(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mc(t)}),pS.apply(this,arguments)}function Hpe(t,e){return gS.apply(this,arguments)}function gS(){return gS=v(function*(t,e){var n;e&&Xs(t).ou&&(yield(n=v(function*(r,i){if(function r9(t){switch(t){default:return H();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}(s=i.code)&&s!==C.ABORTED){const o=r.Eu.shift();Xs(r).Qo(),yield p7(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield mc(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),g7(t)&&m7(t)}),gS.apply(this,arguments)}function y7(t,e){return mS.apply(this,arguments)}function mS(){return mS=v(function*(t,e){const n=F(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=Ys(n);n.vu.add(3),yield gc(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield wh(n)}),mS.apply(this,arguments)}function _S(){return _S=v(function*(t,e){const n=F(t);e?(n.vu.delete(2),yield wh(n)):e||(n.vu.add(2),yield gc(n),n.bu.set("Unknown"))}),_S.apply(this,arguments)}function yc(t){return t.Su||(t.Su=function(e,n,r){const i=F(e);return i.fu(),new Mpe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ope.bind(null,t),ao:Fpe.bind(null,t),nu:Lpe.bind(null,t)}),t.Ru.push(function(){var e=v(function*(n){n?(t.Su.Qo(),oS(t)?sS(t):t.bu.set("Unknown")):(yield t.Su.stop(),f7(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Xs(t){return t.Du||(t.Du=function(e,n,r){const i=F(e);return i.fu(),new xpe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Upe.bind(null,t),ao:Hpe.bind(null,t),au:jpe.bind(null,t),cu:$pe.bind(null,t)}),t.Ru.push(function(){var e=v(function*(n){n?(t.Du.Qo(),yield mc(t)):(yield t.Du.stop(),t.Eu.length>0&&(N("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class vS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new vS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _c(t,e){if(gt("AsyncQueue",`${e}: ${t}`),Bs(t))return new M(C.UNAVAILABLE,`${e}: ${t}`);throw t}class vc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||P.comparator(n.key,r.key):(n,r)=>P.comparator(n.key,r.key),this.keyedMap=th(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new vc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new vc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class _7{constructor(){this.Cu=new ze(P.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):H():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class wc{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wc(e,n,vc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Gpe{constructor(){this.Nu=void 0,this.listeners=[]}}class zpe{constructor(){this.queries=new as(e=>V6(e),Zd),this.onlineState="Unknown",this.ku=new Set}}function wS(t,e){return ES.apply(this,arguments)}function ES(){return ES=v(function*(t,e){const n=F(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Gpe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=_c(o,`Initialization of query '${vT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&CS(n)}),ES.apply(this,arguments)}function bS(t,e){return IS.apply(this,arguments)}function IS(){return IS=v(function*(t,e){const n=F(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),IS.apply(this,arguments)}function qpe(t,e){const n=F(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&CS(n)}function Wpe(t,e,n){const r=F(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function CS(t){t.ku.forEach(e=>{e.next()})}class DS{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class E7{constructor(e){this.key=e}}class b7{constructor(e){this.key=e}}class I7{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=he(),this.mutatedKeys=he(),this.tc=U6(e),this.ec=new vc(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new _7,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=eh(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new wc(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _7,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=he(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new b7(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new E7(r))}),n}hc(e){this.Yu=e.ir,this.Zu=he();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return wc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ype{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Xpe{constructor(e){this.key=e,this.fc=!1}}class Jpe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new as(a=>V6(a),Zd),this._c=new Map,this.mc=new Set,this.gc=new ze(P.comparator),this.yc=new Map,this.Ic=new BT,this.Tc={},this.Ec=new Map,this.Ac=ca.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Zpe(t,e){return TS.apply(this,arguments)}function TS(){return TS=v(function*(t,e){const n=function QS(t){const e=F(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=C7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nge.bind(null,e),e.dc.nu=qpe.bind(null,e.eventManager),e.dc.Pc=Wpe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function fc(t,e){const n=F(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,An(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function SS(t,e,n,r,i){return AS.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&ly(n.remoteStore,o)}return i}),TS.apply(this,arguments)}function AS(){return AS=v(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=v(function*(g,m,E,w){let T=m.view.sc(E);T.zi&&(T=yield sy(g.localStore,m.query,!1).then(({documents:Q})=>m.view.sc(Q,T)));const R=w&&w.targetChanges.get(m.targetId),$=m.view.applyChanges(T,g.isPrimaryClient,R);return VS(g,m.targetId,$.cc),$.snapshot}),function(g,m,E,w){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield sy(t.localStore,e,!0),o=new I7(e,s.ir),a=o.sc(s.documents),u=ah.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);VS(t,n,c.cc);const l=new Ype(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),AS.apply(this,arguments)}function ege(t,e){return MS.apply(this,arguments)}function MS(){return MS=v(function*(t,e){const n=F(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Zd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Eh(n.remoteStore,r.targetId),Ec(n,r.targetId)}).catch(Vs))):(Ec(n,r.targetId),yield pc(n.localStore,r.targetId,!0))}),MS.apply(this,arguments)}function xS(){return xS=v(function*(t,e,n){const r=function YS(t){const e=F(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rge.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ige.bind(null,e),e}(t);try{const i=yield function(s,o){const a=F(s),u=rt.now(),c=o.reduce((h,f)=>h.add(f.key),he());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=jn(),p=he();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,E)=>{E.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const E of o){const w=Mfe(E,l.get(E.key).overlayedDocument);null!=w&&m.push(new us(E.key,w,C6(w.value.mapValue),Je.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:$6(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new ze(re)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ls(r,i.changes),yield mc(r.remoteStore)}catch(i){const s=_c(i,"Failed to persist write");n.reject(s)}}),xS.apply(this,arguments)}function C7(t,e){return NS.apply(this,arguments)}function NS(){return NS=v(function*(t,e){const n=F(t);try{const r=yield function Epe(t,e){const n=F(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Rt.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=jn(),c=he();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function n7(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(K.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(K.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(W(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?W(o.fc):i.removedDocuments.size>0&&(W(o.fc),o.fc=!1))}),yield ls(n,r,e)}catch(r){yield Vs(r)}}),NS.apply(this,arguments)}function D7(t,e,n){const r=F(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=F(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&CS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nge(t,e,n){return RS.apply(this,arguments)}function RS(){return RS=v(function*(t,e,n){const r=F(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ze(P.comparator);o=o.insert(s,Ke.newNoDocument(s,K.min()));const a=he().add(s),u=new oh(K.min(),new Map,new ze(re),o,a);yield C7(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),BS(r)}else yield pc(r.localStore,e,!1).then(()=>Ec(r,e,n)).catch(Vs)}),RS.apply(this,arguments)}function rge(t,e){return kS.apply(this,arguments)}function kS(){return kS=v(function*(t,e){const n=F(t),r=e.batch.batchId;try{const i=yield function wpe(t,e){const n=F(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=I.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);W(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=he();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);LS(n,r,null),FS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ls(n,i)}catch(i){yield Vs(i)}}),kS.apply(this,arguments)}function ige(t,e,n){return PS.apply(this,arguments)}function PS(){return PS=v(function*(t,e,n){const r=F(t);try{const i=yield function(s,o){const a=F(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(W(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);LS(r,e,n),FS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ls(r,i)}catch(i){yield Vs(i)}}),PS.apply(this,arguments)}function FS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function LS(t,e,n){const r=F(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ec(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||T7(t,r)})}function T7(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Eh(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),BS(t))}function VS(t,e,n){for(const r of n)r instanceof E7?(t.Ic.addReference(r.key,e),oge(t,r)):r instanceof b7?(N("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||T7(t,r.key)):H()}function oge(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(N("SyncEngine","New document in limbo: "+n),t.mc.add(r),BS(t))}function BS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new P(we.fromString(e)),r=t.Ac.next();t.yc.set(r,new Xpe(n)),t.gc=t.gc.insert(n,r),ly(t.remoteStore,new cs(An(ic(n.path)),r,"TargetPurposeLimboResolution",ir.ct))}}function ls(t,e,n){return US.apply(this,arguments)}function US(){return US=v(function*(t,e,n){const r=F(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=GT.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=v(function*(u,c){const l=F(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(c,h=>I.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>I.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Bs(d))throw d;N("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),US.apply(this,arguments)}function age(t,e){return jS.apply(this,arguments)}function jS(){return jS=v(function*(t,e){const n=F(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=yield e7(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new M(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ls(n,r.er)}var i}),jS.apply(this,arguments)}function uge(t,e){const n=F(t),r=n.yc.get(e);if(r&&r.fc)return he().add(r.key);{let i=he();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class hy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=vh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Z9(t,e,n,r){return new vpe(t,e,n,r)}(this.persistence,new J9,e.initialUser,this.serializer)}createPersistence(e){return new UT(ny.zs,this.serializer)}createSharedClientState(e){return new u7}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bc{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>D7(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=age.bind(null,r.syncEngine),yield function yS(t,e){return _S.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zpe}createDatastore(e){const n=vh(e.databaseInfo.databaseId),r=new Ape(e.databaseInfo);return new Npe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>D7(this.syncEngine,a,0),o=c7.D()?new c7:new Dpe,new Ppe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Jpe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=v(function*(n){const r=F(n);N("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield gc(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ege{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=t6.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){N("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(N("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=_c(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function py(t,e){return XS.apply(this,arguments)}function XS(){return XS=v(function*(t,e){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield e7(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),XS.apply(this,arguments)}function JS(t,e){return ZS.apply(this,arguments)}function ZS(){return ZS=v(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function eA(t){return tA.apply(this,arguments)}(t);N("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>y7(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>y7(e.remoteStore,s)),t._onlineComponents=e}),ZS.apply(this,arguments)}function tA(){return tA=v(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){N("FirestoreClient","Using user provided OfflineComponentProvider");try{yield py(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function R7(t){return"FirebaseError"===t.name?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Hr("Error using user provided cache. Falling back to memory cache: "+n),yield py(t,new hy)}}else N("FirestoreClient","Using default OfflineComponentProvider"),yield py(t,new hy);return t._offlineComponents}),tA.apply(this,arguments)}function gy(t){return nA.apply(this,arguments)}function nA(){return nA=v(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(N("FirestoreClient","Using user provided OnlineComponentProvider"),yield JS(t,t._uninitializedComponentsProvider._online)):(N("FirestoreClient","Using default OnlineComponentProvider"),yield JS(t,new bc))),t._onlineComponents}),nA.apply(this,arguments)}function Ic(t){return iA.apply(this,arguments)}function iA(){return iA=v(function*(t){const e=yield gy(t),n=e.eventManager;return n.onListen=Zpe.bind(null,e.syncEngine),n.onUnlisten=ege.bind(null,e.syncEngine),n}),iA.apply(this,arguments)}function V7(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const B7=new Map;function sA(t,e,n){if(!n)throw new M(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U7(t){if(!P.isDocumentKey(t))throw new M(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j7(t){if(P.isDocumentKey(t))throw new M(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":H()}function ye(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yy(t);throw new M(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class H7{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new M(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function xge(t,e,n,r){if(!0===e&&!0===r)throw new M(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=V7(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H7(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ahe;switch(n.type){case"firstParty":return new Rhe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new M(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=B7.get(e);n&&(N("ComponentProvider","Removing Datastore"),B7.delete(e),n.terminate())}(this),Promise.resolve()}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}}class sn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sn(this.firestore,e,this._query)}}class vi extends sn{constructor(e,n,r){super(e,n,ic(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new P(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function Rge(t,e,...n){if(t=Ir(t),sA("collection","path",e),t instanceof bh){const r=we.fromString(e,...n);return j7(r),new vi(t,null,r)}{if(!(t instanceof _t||t instanceof vi))throw new M(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return j7(r),new vi(t.firestore,null,r)}}function G7(t,e,...n){if(t=Ir(t),1===arguments.length&&(e=t6.A()),sA("doc","path",e),t instanceof bh){const r=we.fromString(e,...n);return U7(r),new _t(t,null,new P(r))}{if(!(t instanceof _t||t instanceof vi))throw new M(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return U7(r),new _t(t.firestore,t instanceof vi?t.converter:null,new P(r))}}class kge{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new eS(this,"async_queue_retry"),this.Xc=()=>{const n=cy();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=cy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=cy();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Nt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return v(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Bs(n))throw n;N("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,gt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=vS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&H()}verifyOperationInProgress(){}sa(){var e=this;return v(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Qe extends bh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kge,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||q7(this),this._firestoreClient.terminate()}}function Oge(t,e){const r="string"==typeof t?t:e||"(default)",i=function VO(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:UO(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=_g())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Nge(t,e,n,r={}){var i;const s=(t=ye(t,bh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Bt.MOCK_USER;else{a=function Fne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pu(JSON.stringify({alg:"none",type:"JWT"})),Pu(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new M(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Bt(c)}t._authCredentials=new Mhe(new ZV(a,u))}}(i,...s)}return i}function Ct(t){return t._firestoreClient||q7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function q7(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ufe(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,V7(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Ege(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(Rt.fromBase64String(e))}catch(n){throw new M(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new M(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Q7{constructor(e){this._methodName=e}}class aA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}const Lge=/^__.*__$/;class Vge{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new ac(e,this.data,n,this.fieldTransforms)}}function X7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class _y{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(X7(this.ca)&&Lge.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Bge{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vh(e)}ya(e,n,r,i=!1){return new _y({ca:e,methodName:n,ga:r,path:mt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dc(t){const e=t._freezeSettings(),n=vh(t._databaseId);return new Bge(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uA(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);lA("Data must be an object, but it was:",o,r);const a=nB(r,o);let u,c;if(s.merge)u=new Un(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Dh(e,d,n);if(!o.contains(h))throw new M(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);iB(l,h)||l.push(h)}u=new Un(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Vge(new rn(a),u,c)}function ha(t,e){if(rB(t=Ir(t)))return lA("Unsupported field value:",e,t),nB(t,e);if(t instanceof Q7)return function(n,r){if(!X7(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ha(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ir(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return q6(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=rt.fromDate(n);return{timestampValue:cc(r.serializer,i)}}if(n instanceof rt){const i=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cc(r.serializer,i)}}if(n instanceof aA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof da)return{bytesValue:f9(r.serializer,n._byteString)};if(n instanceof _t){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:AT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${yy(n)}`)}(t,e)}function nB(t,e){const n={};return g6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(t,(r,i)=>{const s=ha(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function rB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof aA||t instanceof da||t instanceof _t||t instanceof Q7)}function lA(t,e,n){if(!rB(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=yy(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Dh(t,e,n){if((e=Ir(e))instanceof Cc)return e._internalPath;if("string"==typeof e)return vy(t,e);throw wy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hge=new RegExp("[~\\*/\\[\\]]");function vy(t,e,n){if(e.search(Hge)>=0)throw wy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cc(...e.split("."))._internalPath}catch{throw wy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new M(C.INVALID_ARGUMENT,a+t+u)}function iB(t,e){return t.some(n=>n.isEqual(e))}class dA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ey("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Gge extends dA{data(){return super.data()}}function Ey(t,e){return"string"==typeof e?vy(t,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}class hA{}class zge extends hA{}function qge(t,e,...n){let r=[];e instanceof hA&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Tc).length,o=i.filter(a=>a instanceof Th).length;if(s>1||s>0&&o>0)throw new M(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Th extends zge{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Th(e,n,r)}_apply(e){const n=this._parse(e);return cB(e._query,n),new sn(e.firestore,e.converter,_T(e._query,n))}_parse(e){const n=Dc(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new M(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){uB(l,c);const h=[];for(const f of l)h.push(aB(a,i,f));d={arrayValue:{values:h}}}else d=aB(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||uB(l,c),d=function tB(t,e,n,r=!1){return ha(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return me.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wge(t,e,n){const r=e,i=Ey("where",t);return Th._create(i,r,n)}class Tc extends hA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tc(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Pe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)cB(s,a),s=_T(s,a)}(e._query,n),new sn(e.firestore,e.converter,_T(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function aB(t,e,n){if("string"==typeof(n=Ir(n))){if(""===n)throw new M(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yT(e)&&-1!==n.indexOf("/"))throw new M(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!P.isDocumentKey(r))throw new M(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zo(t,new P(r))}if(n instanceof _t)return Zo(t,n._key);throw new M(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yy(n)}.`)}function uB(t,e){if(!Array.isArray(t)||0===t.length)throw new M(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cB(t,e){if(e.isInequality()){const r=jm(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new M(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=mT(t);null!==s&&function lB(t,e,n){if(!n.isEqual(e))throw new M(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new M(C.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Kge{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw H()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Us(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new aA(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Om(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kd(e));default:return null}}convertTimestamp(e){const n=js(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);W(I9(r));const i=new Jo(r.get(1),r.get(3)),s=new P(r.popFirst(5));return i.isEqual(n)||gt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class fa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sc extends dA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ey("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dy extends Sc{data(e={}){return super.data(e)}}class Ac{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dy(this._firestore,this._userDataWriter,r.key,r,new fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Dy(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Dy(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Yge(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Yge(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}function Xge(t){t=ye(t,_t);const e=ye(t.firestore,Qe);return function F7(t,e,n={}){const r=new Nt;return t.asyncQueue.enqueueAndForget(v(function*(){return function(i,s,o,a,u){const c=new fy({next:d=>{s.enqueueAndForget(()=>bS(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new M(C.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new M(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new DS(ic(o.path),c,{includeMetadataChanges:!0,Ku:!0});return wS(i,l)}(yield Ic(t),t.asyncQueue,e,n,r)})),r.promise}(Ct(e),t._key).then(n=>function gA(t,e,n){const r=n.docs.get(e._key),i=new Js(t);return new Sc(t,i,e._key,r,new fa(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class Js extends Kge{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Jge(t){t=ye(t,sn);const e=ye(t.firestore,Qe),n=Ct(e),r=new Js(e);return function sB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new M(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function L7(t,e,n={}){const r=new Nt;return t.asyncQueue.enqueueAndForget(v(function*(){return function(i,s,o,a,u){const c=new fy({next:d=>{s.enqueueAndForget(()=>bS(i,l)),d.fromCache&&"server"===a.source?u.reject(new M(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new DS(o,c,{includeMetadataChanges:!0,Ku:!0});return wS(i,l)}(yield Ic(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Ac(e,r,t,i))}function Zge(t,e){const n=ye(t.firestore,Qe),r=G7(t),i=function pA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Sh(t,e){return function(n,r){const i=new Nt;return n.asyncQueue.enqueueAndForget(v(function*(){return function tge(t,e,n){return xS.apply(this,arguments)}(yield function rA(t){return gy(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Ct(t),e)}(n,[uA(Dc(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Je.exists(!1))]).then(()=>r)}!function(t,e=!0){Ju=Ig,Fu(new Et("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Qe(new xhe(n.getProvider("auth-internal")),new khe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Cr(JV,"3.13.0",t),Cr(JV,"3.13.0","esm2017")}();class sr{constructor(e){return e}}const fB="firestore",mA=new B("angularfire2.firestore-instances");function fme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new sr(r)}}const pme={provide:class dme{constructor(){return UI(fB)}},deps:[[new Pn,mA]]},gme={provide:sr,useFactory:function hme(t,e){const n=function BI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(fB,t,e);return n&&new sr(n)},deps:[[new Pn,mA],Uu]};let mme=(()=>{class t{constructor(){Cr("angularfire",NI.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=kt({providers:[gme,pme]}),t})();function yme(t,...e){return{ngModule:mme,providers:[{provide:mA,useFactory:fme(t),multi:!0,deps:[Te,un,uL,cL,[new Pn,f5],[new Pn,O5],...e]}]}}const Sy=Ji(Zge,!0),zr=Ji(Rge,!0),Ah=Ji(G7,!0),Mh=Ji(Xge,!0),pa=Ji(Jge,!0),_me=Ji(Oge,!0),pB=Ji(qge,!0),gB=Ji(Wge,!0);let mB=(()=>{class t{constructor(n){this.firestore=n}getCategories(){const r=zr(this.firestore,"Category");return new Fe(i=>{pa(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}static#e=this.\u0275fac=function(r){return new(r||t)(L(sr))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vme(t,e){if(1&t&&(_(0,"div",7)(1,"div",8)(2,"div",9),b(3),y()(),_(4,"div",10)(5,"ul")(6,"li"),b(7),y(),_(8,"li"),b(9),y(),_(10,"li"),q(11,"img",11),y()()()()),2&t){const n=$e().$implicit;x(3),ot(n.name),x(4),ot(n.menu),x(2),ot(n.note),x(2),O("src",n.image,Xa)}}const wme=function(t){return["/category/",t]};function Eme(t,e){if(1&t&&(_(0,"div")(1,"a",5),oe(2,vme,12,4,"div",6),y()()),2&t){const n=e.$implicit;x(1),O("routerLink",bo(2,wme,n.id)),x(1),O("ngIf",n.is_active)}}let bme=(()=>{class t{constructor(n){this.categoryService=n,this.categories=[]}ngOnInit(){this.getCategory()}getCategory(){this.categoryService.getCategories().subscribe({next:n=>{this.categories=n.sort((r,i)=>r.order_index-i.order_index)},error:n=>{console.error("Error fetching categories:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(S(mB))};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-list-categories"]],decls:6,vars:1,consts:[[1,"mainLong"],[1,"list-categories"],[1,"title"],[1,"wrapper"],[4,"ngFor","ngForOf"],[3,"routerLink"],["class","custom-card",4,"ngIf"],[1,"custom-card"],[1,"custom-card-header"],[1,"custom-card-title"],[1,"custom-card-content"],["alt","",3,"src"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"section",1)(2,"h1",2),b(3,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),y(),_(4,"section",3),oe(5,Eme,3,4,"div",4),y()()()),2&r&&(x(5),O("ngForOf",i.categories))},dependencies:[Ds,Iu,zi],styles:[".list-categories[_ngcontent-%COMP%]{margin:0 auto;max-width:800px}.wrapper[_ngcontent-%COMP%]{margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:20px;justify-items:center;align-items:center}.custom-card[_ngcontent-%COMP%]{background-color:var(--mainWhiteColor);border:1px solid var(--mainGrayColor);border-radius:5px;margin:10px 0;transition:transform .2s}.custom-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.custom-card-header[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);color:var(--mainWhiteColor);padding:10px;border-top-left-radius:5px;border-top-right-radius:5px;text-align:center}.custom-card-title[_ngcontent-%COMP%]{font-size:16px}.custom-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.custom-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 10px;border-bottom:1px solid var(--mainGrayColor)}.custom-card-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainBlackColor)}a[_ngcontent-%COMP%]:hover{background-color:var(--mainWhiteColor)}@media (max-width: 768px){.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 50px}}"]})}return t})(),Ime=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-chefs"]],decls:1,vars:0,template:function(r,i){1&r&&q(0,"app-list-categories")},dependencies:[bme]})}return t})(),Cme=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-waiters"]],decls:2,vars:0,template:function(r,i){1&r&&(_(0,"h1"),b(1,"waiters"),y())}})}return t})(),yB=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(S(Ri),S(Qn))};static#t=this.\u0275dir=ne({type:t})}return t})(),ga=(()=>{class t extends yB{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Qt(t)))(i||t)}}();static#t=this.\u0275dir=ne({type:t,features:[Ne]})}return t})();const wi=new B("NgValueAccessor"),Tme={provide:wi,useExisting:Be(()=>yA),multi:!0};let yA=(()=>{class t extends ga{writeValue(n){this.setProperty("checked",n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Qt(t)))(i||t)}}();static#t=this.\u0275dir=ne({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&fe("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Xe([Tme]),Ne]})}return t})();const Sme={provide:wi,useExisting:Be(()=>ma),multi:!0},Mme=new B("CompositionEventMode");let ma=(()=>{class t extends yB{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ame(){const t=Cs()?Cs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(S(Ri),S(Qn),S(Mme,8))};static#t=this.\u0275dir=ne({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&fe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Xe([Sme]),Ne]})}return t})();function Zs(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function _B(t){return null!=t&&"number"==typeof t.length}const gn=new B("NgValidators"),eo=new B("NgAsyncValidators"),xme=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ay{static min(e){return function vB(t){return e=>{if(Zs(e.value)||Zs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function wB(t){return e=>{if(Zs(e.value)||Zs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return EB(e)}static requiredTrue(e){return function bB(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function IB(t){return Zs(t.value)||xme.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function CB(t){return e=>Zs(e.value)||!_B(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function DB(t){return e=>_B(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function TB(t){if(!t)return My;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Zs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return RB(e)}static composeAsync(e){return kB(e)}}function EB(t){return Zs(t.value)?{required:!0}:null}function My(t){return null}function SB(t){return null!=t}function AB(t){return Cl(t)?St(t):t}function MB(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function xB(t,e){return e.map(n=>n(t))}function NB(t){return t.map(e=>function Nme(t){return!t.validate}(e)?e:n=>e.validate(n))}function RB(t){if(!t)return null;const e=t.filter(SB);return 0==e.length?null:function(n){return MB(xB(n,e))}}function _A(t){return null!=t?RB(NB(t)):null}function kB(t){if(!t)return null;const e=t.filter(SB);return 0==e.length?null:function(n){return function Dme(...t){const e=M2(t),{args:n,keys:r}=g3(t),i=new Fe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;$n(n[l]).subscribe(vt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?y3(r,a):a),s.complete())}))}});return e?i.pipe(m3(e)):i}(xB(n,e).map(AB)).pipe(De(MB))}}function vA(t){return null!=t?kB(NB(t)):null}function PB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function OB(t){return t._rawValidators}function FB(t){return t._rawAsyncValidators}function wA(t){return t?Array.isArray(t)?t:[t]:[]}function xy(t,e){return Array.isArray(t)?t.includes(e):t===e}function LB(t,e){const n=wA(e);return wA(t).forEach(i=>{xy(n,i)||n.push(i)}),n}function VB(t,e){return wA(e).filter(n=>!xy(t,n))}class BB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_A(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Mn extends BB{get formDirective(){return null}get path(){return null}}class to extends BB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class UB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xh=(()=>{class t extends UB{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(S(to,2))};static#t=this.\u0275dir=ne({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&_p("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ne]})}return t})(),Nh=(()=>{class t extends UB{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(S(Mn,10))};static#t=this.\u0275dir=ne({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&_p("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ne]})}return t})();const Rh="VALID",Ry="INVALID",Mc="PENDING",kh="DISABLED";function IA(t){return(ky(t)?t.validators:t)||null}function CA(t,e){return(ky(e)?e.asyncValidators:t)||null}function ky(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function $B(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[n])throw new D(1001,"")}function HB(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new D(1002,"")})}class Py{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Rh}get invalid(){return this.status===Ry}get pending(){return this.status==Mc}get disabled(){return this.status===kh}get enabled(){return this.status!==kh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VB(e,this._rawAsyncValidators))}hasValidator(e){return xy(this._rawValidators,e)}hasAsyncValidator(e){return xy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rh||this.status===Mc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kh:Rh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mc,this._hasOwnPendingAsyncValidator=!0;const n=AB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?kh:this.errors?Ry:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mc)?Mc:this._anyControlsHaveStatus(Ry)?Ry:Rh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ky(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ome(t){return Array.isArray(t)?_A(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Fme(t){return Array.isArray(t)?vA(t):t||null}(this._rawAsyncValidators)}}class Ph extends Py{constructor(e,n,r){super(IA(n),CA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){HB(this,0,e),Object.keys(e).forEach(r=>{$B(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class GB extends Ph{}const xc=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Oy}),Oy="always";function Fy(t,e){return[...e.path,t]}function Oh(t,e,n=Oy){DA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Vme(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&zB(t,e)})}(t,e),function Ume(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Bme(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&zB(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Lme(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ly(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),By(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Vy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function DA(t,e){const n=OB(t);null!==e.validator?t.setValidators(PB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=FB(t);null!==e.asyncValidator?t.setAsyncValidators(PB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Vy(e._rawValidators,i),Vy(e._rawAsyncValidators,i)}function By(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=OB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=FB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Vy(e._rawValidators,r),Vy(e._rawAsyncValidators,r),n}function zB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function KB(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function QB(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Lh=class extends Py{constructor(e=null,n,r){super(IA(n),CA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ky(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=QB(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){QB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let YB=(()=>{class t extends Mn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Fy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Qt(t)))(i||t)}}();static#t=this.\u0275dir=ne({type:t,features:[Ne]})}return t})(),Vh=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ne({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Qme={provide:wi,useExisting:Be(()=>Bh),multi:!0};let Bh=(()=>{class t extends ga{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Qt(t)))(i||t)}}();static#t=this.\u0275dir=ne({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&fe("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Xe([Qme]),Ne]})}return t})(),e8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({})}return t})();const xA=new B("NgModelWithFormControlWarning"),eye={provide:Mn,useExisting:Be(()=>ya)};let ya=(()=>{class t extends Mn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(By(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Oh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Ly(n.control||null,n,!1),function Gme(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function WB(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Ly(r||null,n),(t=>t instanceof Lh)(i)&&(Oh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function qB(t,e){DA(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function jme(t,e){return By(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DA(this.form,this),this._oldForm&&By(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(S(gn,10),S(eo,10),S(xc,8))};static#t=this.\u0275dir=ne({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&fe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xe([eye]),Ne,gr]})}return t})();const tye={provide:Mn,useExisting:Be(()=>Uh)};let Uh=(()=>{class t extends YB{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){i8(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(S(Mn,13),S(gn,10),S(eo,10))};static#t=this.\u0275dir=ne({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Xe([tye]),Ne]})}return t})();const nye={provide:Mn,useExisting:Be(()=>jh)};let jh=(()=>{class t extends Mn{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Fy(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){i8(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(S(Mn,13),S(gn,10),S(eo,10))};static#t=this.\u0275dir=ne({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Xe([nye]),Ne]})}return t})();function i8(t){return!(t instanceof Uh||t instanceof ya||t instanceof jh)}const rye={provide:to,useExisting:Be(()=>Nc)};let Nc=(()=>{class t extends to{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new et,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function AA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ma?n=s:function Hme(t){return Object.getPrototypeOf(t.constructor)===ga}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function SA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Fy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(S(Mn,13),S(gn,10),S(eo,10),S(wi,10),S(xA,8))};static#n=this.\u0275dir=ne({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xe([rye]),Ne,gr]})}return t})();const iye={provide:wi,useExisting:Be(()=>Rc),multi:!0};function s8(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Rc=(()=>{class t extends ga{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=s8(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function sye(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Qt(t)))(i||t)}}();static#t=this.\u0275dir=ne({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&fe("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xe([iye]),Ne]})}return t})(),Uy=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(s8(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(S(Qn),S(Ri),S(Rc,9))};static#t=this.\u0275dir=ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const oye={provide:wi,useExisting:Be(()=>NA),multi:!0};function o8(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let NA=(()=>{class t extends ga{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function aye(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Qt(t)))(i||t)}}();static#t=this.\u0275dir=ne({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&fe("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xe([oye]),Ne]})}return t})(),jy=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(o8(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(o8(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(S(Qn),S(Ri),S(NA,9))};static#t=this.\u0275dir=ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),_a=(()=>{class t{constructor(){this._validator=My}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):My,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=ne({type:t,features:[gr]})}return t})();const lye={provide:gn,useExisting:Be(()=>$h),multi:!0};let $h=(()=>{class t extends _a{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Eu,this.createValidator=n=>EB}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Qt(t)))(i||t)}}();static#t=this.\u0275dir=ne({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ri("required",i._enabled?"":null)},inputs:{required:"required"},features:[Xe([lye]),Ne]})}return t})(),mye=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({imports:[e8]})}return t})();class m8 extends Py{constructor(e,n,r){super(IA(n),CA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){HB(this,0,e),e.forEach((r,i)=>{$B(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function y8(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let $y=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return y8(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ph(i,s)}record(n,r=null){const i=this._reduceControls(n);return new GB(i,r)}control(n,r,i){let s={};return this.useNonNullable?(y8(r)?s=r:(s.validators=r,s.asyncValidators=i),new Lh(n,{...s,nonNullable:!0})):new Lh(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new m8(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Lh||n instanceof Py?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_8=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:xc,useValue:n.callSetDisabledState??Oy}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({imports:[mye]})}return t})(),v8=(()=>{class t{constructor(){this.cloudName="dsla98vyk",this.uploadPreset="chefs_talks",this.imageUploaded=new et}ngOnInit(){this.myWidget=cloudinary.createUploadWidget({cloudName:this.cloudName,uploadPreset:this.uploadPreset,maxImageWidth:500},(n,r)=>{!n&&r&&"success"===r.event&&(console.log("Done! Here is the image info: ",r.info),this.onImagesUploaded(r.info.secure_url))})}onImagesUploaded(n){this.imageUploaded.emit(n)}openWidget(){this.myWidget.open()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:3,vars:0,consts:[["id","upload_widget",1,"cloudinary-button",3,"click"]],template:function(r,i){1&r&&(_(0,"div")(1,"button",0),fe("click",function(){return i.openWidget()}),b(2," \u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430 "),y()())},styles:[".cloudinary-button[_ngcontent-%COMP%]{background-color:var(--mainGreenColor);color:var(--mainWhiteColor);text-decoration:none;font-size:16px;line-height:28px;height:28x;cursor:pointer;font-weight:400;display:inline-block;border-radius:4px;padding:10px 14px}"]})}return t})();function yye(t,e){if(1&t){const n=Fi();_(0,"div")(1,"p",6),b(2,"\u0412\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0445\u0442\u0435 \u0441\u043d\u0438\u043c\u043a\u0430"),y(),q(3,"input",16),_(4,"button",17),fe("click",function(){return mr(n),yr($e().removeImage())}),b(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),y()()}}function _ye(t,e){1&t&&(_(0,"div",19),b(1," \u041c\u043e\u043b\u044f \u043f\u043e\u043f\u044a\u043b\u043d\u0435\u0442\u0435 \u0437\u0430\u0433\u043b\u0430\u0432\u0438\u0435\u0442\u043e! "),y())}function vye(t,e){if(1&t&&(_(0,"div"),oe(1,_ye,2,0,"div",18),y()),2&t){const n=$e();let r;x(1),O("ngIf",null==(r=n.categoryForm.get("name"))||null==r.errors?null:r.errors.required)}}function wye(t,e){1&t&&(_(0,"div",19),b(1," \u041c\u043e\u043b\u044f \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u044e! "),y())}function Eye(t,e){if(1&t&&(_(0,"div"),oe(1,wye,2,0,"div",18),y()),2&t){const n=$e();let r;x(1),O("ngIf",null==(r=n.categoryForm.get("menu"))||null==r.errors?null:r.errors.required)}}let bye=(()=>{class t{constructor(n,r){this.fb=n,this.firestore=r,this.categoryForm=this.fb.group({name:["",[Ay.required]],is_active:[!1],menu:["",[Ay.required]],order_index:[0],note:[""],image:[""]})}onSubmit(){this.categoryForm.valid?(this.addCategory(this.categoryForm.value),this.categoryForm.reset()):console.log(this.categoryForm.errors)}removeImage(){this.categoryForm.get("image")?.setValue("")}addImageToForm(n){this.categoryForm.get("image")?.setValue(n)}get image(){return this.categoryForm.get("image")}addCategory(n){Sy(zr(this.firestore,"Category"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(S($y),S(sr))};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-category-form"]],decls:39,vars:4,consts:[[1,"mainLong"],[1,"title"],[3,"formGroup","ngSubmit"],[3,"imageUploaded"],[4,"ngIf"],["type","checkbox","formControlName","is_active"],[1,"hint"],["type","text","formControlName","name","required",""],["for","menu"],["id","menu","formControlName","menu"],["value","\u041e\u0441\u043d\u043e\u0432\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0421\u0435\u0437\u043e\u043d\u043d\u043e \u041c\u0435\u043d\u044e"],["value","\u0422\u0435\u0441\u0442\u043e\u0432\u043e \u041c\u0435\u043d\u044e"],["formControlName","note"],["type","number","formControlName","order_index"],["type","submit"],["type","text","id","image","formControlName","image"],["type","button",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"h1",1),b(2,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),y(),_(3,"form",2),fe("ngSubmit",function(){return i.onSubmit()}),_(4,"app-image-upload",3),fe("imageUploaded",function(o){return i.addImageToForm(o)}),y(),oe(5,yye,6,0,"div",4),_(6,"label"),b(7," \u0410\u043a\u0442\u0438\u0432\u043d\u0430 \u043b\u0438 \u0435 \u043a\u0430\u0442\u0435\u0433\u0440\u0438\u044f? "),q(8,"input",5),_(9,"p",6),b(10,"\u0429\u0435 \u0431\u044a\u0434\u0435 \u043b\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430 \u0432\u0438\u0434\u0438\u043c\u0430 \u0432\u044a\u0432 \u0441\u0430\u0439\u0442\u0430?"),y()(),_(11,"label"),b(12," \u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e): "),q(13,"input",7),y(),oe(14,vye,2,1,"div",4),_(15,"label",8),b(16,"\u041c\u0435\u043d\u044e (\u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e):"),y(),_(17,"p",6),b(18,"\u041a\u044a\u043c \u043a\u043e\u0435 \u043c\u0435\u043d\u044e \u0441\u043f\u0430\u0434\u0430 \u0442\u0430\u0437\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f?"),y(),_(19,"select",9)(20,"option",10),b(21,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e"),y(),_(22,"option",11),b(23,"\u0421\u0435\u0437\u043e\u043d\u043d\u043e"),y(),_(24,"option",12),b(25,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e"),y()(),oe(26,Eye,2,1,"div",4),_(27,"label"),b(28," \u0411\u0435\u043b\u0435\u0436\u043a\u0430: "),_(29,"p",6),b(30,"\u041d\u044f\u043a\u043e\u043b\u043a\u043e \u0434\u0443\u043c\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),y(),q(31,"textarea",13),y(),_(32,"label"),b(33," \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442: "),_(34,"p",6),b(35,"\u0420\u0435\u0434 \u043d\u0430 \u043f\u043e\u0434\u0440\u0435\u0434\u0431\u0430 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\u0442\u0435"),y(),q(36,"input",14),y(),_(37,"button",15),b(38,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430"),y()()()),2&r){let s,o,a;x(3),O("formGroup",i.categoryForm),x(2),O("ngIf",""!==(null==(s=i.categoryForm.get("image"))?null:s.value)),x(9),O("ngIf",null==(o=i.categoryForm.get("name"))?null:o.touched),x(12),O("ngIf",null==(a=i.categoryForm.get("menu"))?null:a.touched)}},dependencies:[Iu,Vh,Uy,jy,ma,Bh,yA,Rc,xh,Nh,$h,ya,Nc,v8]})}return t})();const Iye=function(t){return["/recipe",t]};function Cye(t,e){if(1&t&&(_(0,"div")(1,"a",5)(2,"div",6),q(3,"img",7),_(4,"h3"),b(5),y()()()()),2&t){const n=e.$implicit;x(1),O("routerLink",bo(4,Iye,n.id)),x(2),T0("alt",n.title),O("src",n.image_recipe,Xa),x(2),ot(n.title)}}let Dye=(()=>{class t{constructor(n,r){this.route=n,this.router=r,this.recipes=[],this.category=null,this.firestore=j(sr)}ngOnInit(){var n=this;this.route.params.subscribe(function(){var r=v(function*(i){const s=i.id,a=zr(n.firestore,"Recipe"),u=Ah(n.firestore,"Category",s),c=yield Mh(u);c.exists()&&(n.category=c.data());const l=pB(a,gB("category","==",s));pa(l).then(d=>{const h=[];d.forEach(f=>{const p=f.data();h.push({title:p.title,image_recipe:p.image_recipe[0]?p.image_recipe[0].image_recipe:null,order_index:p.order_index,id:f.id})}),n.recipes=h}).catch(d=>{console.error("Error retrieving recipes: ",d)})});return function(i){return r.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||t)(S(Gi),S(Jn))};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-category"]],decls:8,vars:4,consts:[[1,"mainLong"],[1,"category"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"],[3,"src","alt"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h1",2),b(3),y(),_(4,"h3",2),b(5),y(),_(6,"div",3),oe(7,Cye,6,6,"div",4),y()()()),2&r&&(x(3),tt(" ",null==i.category?null:i.category.name," "),x(2),wp(" ",null==i.category?null:i.category.menu," - ",null==i.category?null:i.category.note," "),x(2),O("ngForOf",i.recipes))},dependencies:[Ds,zi],styles:[".category[_ngcontent-%COMP%]{padding:20px}.recipe-list[_ngcontent-%COMP%]{margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr)}.recipe-item[_ngcontent-%COMP%]{margin:10px;padding:10px;border:1px solid var(--lightGrayColor);border-radius:5px;box-shadow:0 0 5px #0003;background-color:var(--mainWhiteColor);text-align:center}.recipe-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px}.recipe-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:10px 0}.recipe-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;margin:5px 0}.recipe-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:5px 10px;background-color:var(--secondGreenColor);color:var(--mainWhiteColor);text-decoration:none;border-radius:5px;transition:background-color .3s}.recipe-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--secondGreenColor)}@media (max-width: 768px){.recipe-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 50px}.recipe-item[_ngcontent-%COMP%]{width:100%}}"]})}return t})(),Hy=(()=>{class t{constructor(n){this.firestore=n}getBaseRecipe(){const r=zr(this.firestore,"BaseRecipe");return new Fe(i=>{pa(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseById(n){var r=this;return v(function*(){const i=Ah(r.firestore,"BaseRecipe",n),s=yield Mh(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(L(sr))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tye(t,e){if(1&t&&(_(0,"option",33),b(1),y()),2&t){const n=e.$implicit;O("value",n.id),x(1),tt(" ",n.name," ")}}function Sye(t,e){if(1&t&&(_(0,"option",33),b(1),y()),2&t){const n=e.$implicit;O("value",n.id),x(1),tt(" ",n.name," ")}}function Aye(t,e){if(1&t){const n=Fi();_(0,"div",34)(1,"label",35),b(2,"Image"),y(),q(3,"input",36),_(4,"button",25),fe("click",function(){const s=mr(n).index;return yr($e().removeImage(s))}),b(5,"Remove Image"),y()()}2&t&&O("formGroupName",e.index)}function Mye(t,e){if(1&t){const n=Fi();_(0,"div",34)(1,"label",37),b(2,"Video"),y(),q(3,"input",38),_(4,"button",25),fe("click",function(){const s=mr(n).index;return yr($e().removeVideo(s))}),b(5,"Remove Video"),y()()}2&t&&O("formGroupName",e.index)}function xye(t,e){if(1&t){const n=Fi();_(0,"div",34)(1,"label",39),b(2,"Preparation Method"),y(),q(3,"input",40),_(4,"button",25),fe("click",function(){const s=mr(n).index;return yr($e().removePreparation(s))}),b(5," Remove Preparation "),y()()}2&t&&O("formGroupName",e.index)}function Nye(t,e){if(1&t&&(_(0,"option",33),b(1),y()),2&t){const n=e.$implicit;O("value",n.id),x(1),tt(" ",n.name," ")}}function Rye(t,e){if(1&t&&(_(0,"option",33),b(1),y()),2&t){const n=e.$implicit;O("value",n.id),x(1),tt(" ",n.title," ")}}function kye(t,e){if(1&t&&(_(0,"div",34)(1,"label",41),b(2,"Name"),y(),q(3,"input",42),_(4,"label",43),b(5,"Amount"),y(),q(6,"input",44),_(7,"label",18),b(8,"Order Index"),y(),q(9,"input",45),_(10,"label",46),b(11,"Quantity"),y(),q(12,"input",47),_(13,"label",39),b(14,"Preparation Method"),y(),q(15,"input",40),_(16,"label",48),b(17,"Unit"),y(),_(18,"select",49)(19,"option",50),b(20,"\u0433\u0440\u0430\u043c\u0430"),y(),_(21,"option",51),b(22,"\u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u0430"),y(),_(23,"option",52),b(24,"\u043c\u0438\u043b\u0438\u043b\u0438\u0442\u0440\u0430"),y(),_(25,"option",53),b(26,"\u043b\u0438\u0442\u0440\u0430"),y()(),_(27,"label",54),b(28,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0431\u0430\u0437\u043e\u0432\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),y(),_(29,"select",55),oe(30,Rye,2,2,"option",7),y()()),2&t){const n=e.index,r=$e();O("formGroupName",n),x(30),O("ngForOf",r.baseRecipes)}}let Pye=(()=>{class t{constructor(n,r,i,s){this.fb=r,this.baseRecipeService=i,this.categoriesService=s,this.allergens=[],this.plates=[],this.baseRecipes=[],this.categories=[],this.currentOrderIndex=1,this.firestore=n,this.recipeForm=this.fb.group({title:"",category:this.fb.control(null),description:"",summary:"",season:"",order_index:[0],release_time:[0],serving_value:[0],selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",food_plate:this.fb.control(null),image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:"",amount:null,base:this.fb.control(null),is_base:!1,order_index:[0],preparation_method:"",quantity:[0],unit:""})])}),this.getAllergens().subscribe(o=>{this.allergens=o}),this.getPlates().subscribe(o=>{this.plates=o})}ngOnInit(){this.getBaseRecipe(),this.getCategory()}addImage(){this.recipeForm.get("image_recipe").push(this.fb.group({image_recipe:""}))}removeImage(n){this.recipeForm.get("image_recipe").removeAt(n)}addVideo(){this.recipeForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.recipeForm.get("video_recipe").removeAt(n)}addPreparation(){this.recipeForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.recipeForm.get("preparation_method").removeAt(n)}addIngredient(){this.recipeForm.get("ingredients").push(this.fb.group({name:"",amount:null,base:this.fb.control(null),is_base:!1,order_index:this.currentOrderIndex,quantity:[0],preparation_method:"",unit:""})),this.currentOrderIndex++}addReferenceToSelectedAllergen(n){const r=n.target.value;this.recipeForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const n=this.recipeForm.get("selectedAllergen")?.value;this.recipeForm.get("allergens").push(this.fb.control(n));const i=this.recipeForm.get("selectedAllergenNames"),s=this.allergens.find(o=>o.id===n);s&&i?.setValue(i.value?i.value+", "+s.name:s.name)}get ingredients(){return this.recipeForm.get("ingredients")}get image_recipe(){return this.recipeForm.get("image_recipe")}get video_recipe(){return this.recipeForm.get("video_recipe")}get preparation_method(){return this.recipeForm.get("preparation_method")}onSubmit(){this.recipeForm.valid&&(this.addRecipe(this.recipeForm.value),this.recipeForm.reset())}getCategory(){this.categoriesService.getCategories().subscribe({next:n=>{this.categories=n},error:n=>{console.error("Error fetching recipes:",n)}})}getAllergens(){const r=zr(this.firestore,"Allergens");return new Fe(i=>{pa(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getPlates(){const r=zr(this.firestore,"Plates");return new Fe(i=>{pa(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n},error:n=>{console.error("Error fetching recipes:",n)}})}addRecipe(n){Sy(zr(this.firestore,"Recipe"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(S(sr),S($y),S(Hy),S(mB))};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-recipe-form"]],decls:77,vars:9,consts:[[1,"mainLong"],[1,"title"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],["for","category"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","description"],["type","text","id","description","formControlName","description"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","season"],["id","season","formControlName","season"],["value","\u041f\u0440\u043e\u043b\u0435\u0442"],["value","\u041b\u044f\u0442\u043e"],["value","\u0415\u0441\u0435\u043d"],["value","\u0417\u0438\u043c\u0430"],["for","order_index"],["type","text","id","order_index","formControlName","order_index"],["for","release_time"],["type","text","id","release_time","formControlName","release_time"],["for","serving_value"],["type","text","id","serving_value","formControlName","serving_value"],["formControlName","selectedAllergen"],["type","button",3,"click"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["for","food_plate"],["id","food_plate","formControlName","food_plate"],["formArrayName","ingredients"],[3,"value"],[3,"formGroupName"],["for","image_recipe"],["type","text","id","image_recipe","formControlName","image_recipe"],["for","video_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["for","preparation_method"],["type","text","id","preparation_method","formControlName","preparation_method"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["type","number","id","order_index","formControlName","order_index"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","base"],["id","base","formControlName","base"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"h1",1),b(2,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),y(),_(3,"form",2)(4,"div")(5,"label",3),b(6,"Title"),y(),q(7,"input",4),y(),_(8,"label",5),b(9,"Category"),y(),_(10,"select",6),oe(11,Tye,2,2,"option",7),y(),_(12,"div")(13,"label",8),b(14,"Description"),y(),q(15,"input",9),y(),_(16,"div")(17,"label",10),b(18,"Summary"),y(),q(19,"input",11),y(),_(20,"div")(21,"label",12),b(22,"Season"),y(),_(23,"select",13)(24,"option",14),b(25,"\u041f\u0440\u043e\u043b\u0435\u0442"),y(),_(26,"option",15),b(27,"\u041b\u044f\u0442\u043e"),y(),_(28,"option",16),b(29,"\u0415\u0441\u0435\u043d"),y(),_(30,"option",17),b(31,"\u0417\u0438\u043c\u0430"),y()()(),_(32,"div")(33,"label",18),b(34,"Order Index"),y(),q(35,"input",19),y(),_(36,"div")(37,"label",20),b(38,"Release Time"),y(),q(39,"input",21),y(),_(40,"div")(41,"label",22),b(42,"Serving Value"),y(),q(43,"input",23),y(),_(44,"div")(45,"div")(46,"select",24),oe(47,Sye,2,2,"option",7),y(),_(48,"button",25),fe("click",function(){return i.addSelectedAllergen()}),b(49," Add Allergen "),y()(),_(50,"div")(51,"label"),b(52,"Selected Allergens:"),y(),_(53,"div"),b(54),y()(),_(55,"div",26),oe(56,Aye,6,1,"div",27),y(),_(57,"button",25),fe("click",function(){return i.addImage()}),b(58,"Add Image"),y(),_(59,"div",28),oe(60,Mye,6,1,"div",27),_(61,"button",25),fe("click",function(){return i.addVideo()}),b(62,"Add Video"),y()(),_(63,"div",29),oe(64,xye,6,1,"div",27),_(65,"button",25),fe("click",function(){return i.addPreparation()}),b(66," Add Preparation "),y()(),_(67,"label",30),b(68,"Plate"),y(),_(69,"select",31),oe(70,Nye,2,2,"option",7),y()(),_(71,"div",32),oe(72,kye,31,2,"div",27),y(),_(73,"button",25),fe("click",function(){return i.addIngredient()}),b(74,"Add Ingredient"),y(),_(75,"button",25),fe("click",function(){return i.onSubmit()}),b(76,"Submit"),y()()()),2&r){let s;x(3),O("formGroup",i.recipeForm),x(8),O("ngForOf",i.categories),x(36),O("ngForOf",i.allergens),x(7),ot(null==(s=i.recipeForm.get("selectedAllergenNames"))?null:s.value),x(2),O("ngForOf",i.image_recipe.controls),x(4),O("ngForOf",i.video_recipe.controls),x(4),O("ngForOf",i.preparation_method.controls),x(6),O("ngForOf",i.plates),x(2),O("ngForOf",i.ingredients.controls)}},dependencies:[Ds,Vh,Uy,jy,ma,Bh,Rc,xh,Nh,ya,Nc,Uh,jh]})}return t})(),Oye=(()=>{class t{constructor(n){this.firestore=n}getRecipeById(n){var r=this;return v(function*(){const i=Ah(r.firestore,"Recipe",n),s=yield Mh(i);return s.exists()?s.data():null})()}static#e=this.\u0275fac=function(r){return new(r||t)(L(sr))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),w8=(()=>{class t{constructor(n){this.firestore=n,this.commentAddedSubject=new lr}getCommentsForRecipe(n){var r=this;return v(function*(){try{const i=zr(r.firestore,"Comments"),s=pB(i,gB("recipeId","==",n)),o=yield pa(s),a=[];return o.forEach(u=>{const c=u.data();a.push({create_time:c.create_time,name:c.name,recipeId:c.recipeId,text:c.text})}),a}catch(i){return console.error("Error retrieving comments:",i),[]}})()}addComment(n){var r=this;return v(function*(){try{const i="Comments",s=yield Sy(zr(r.firestore,i),n);return r.commentAddedSubject.next(),s.id}catch(i){return console.error("Error adding comment:",i),null}})()}getCommentAddedObservable(){return this.commentAddedSubject.asObservable()}static#e=this.\u0275fac=function(r){return new(r||t)(L(sr))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fye=(()=>{class t{constructor(n,r,i){this.fb=n,this.commentService=i,this.timestamp=new Date,this.firestore=r}ngOnInit(){this.commentForm=this.fb.group({name:["",Ay.required],recipeId:[this.recipeId],text:["",Ay.required],create_time:this.timestamp})}onSubmit(){var n=this;return v(function*(){if(n.commentForm.valid)try{(yield n.commentService.addComment(n.commentForm.value))?(console.log("Comment successfully added."),n.commentForm.reset()):console.error("Error adding comment.")}catch(r){console.error("An error occurred while submitting the comment:",r)}})()}static#e=this.\u0275fac=function(r){return new(r||t)(S($y),S(sr),S(w8))};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-comment-form"]],inputs:{recipeId:"recipeId"},decls:13,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","required","",1,"form-control"],["for","text"],["id","text","formControlName","text","required","",1,"form-control"],["type","hidden","formControlName","recipeId"],["type","submit",1,"btn","btn-primary"]],template:function(r,i){1&r&&(_(0,"form",0),fe("ngSubmit",function(){return i.onSubmit()}),_(1,"div",1)(2,"label",2),b(3,"\u0418\u043c\u0435:"),y(),q(4,"input",3),y(),_(5,"div",1)(6,"label",4),b(7,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440:"),y(),q(8,"textarea",5),y(),q(9,"input",6),_(10,"button",7),b(11,"\u041f\u0443\u0431\u043b\u0438\u043a\u0443\u0432\u0430\u0439 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440"),y()(),q(12,"hr")),2&r&&O("formGroup",i.commentForm)},dependencies:[Vh,ma,xh,Nh,$h,ya,Nc]})}return t})(),E8=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){const r=n.split("/");return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+r[r.length-1])}static#e=this.\u0275fac=function(r){return new(r||t)(S(h3,16))};static#t=this.\u0275pipe=yn({name:"safeUrl",type:t,pure:!0})}return t})();function Lye(t,e){if(1&t&&(_(0,"li"),q(1,"img",16),y()),2&t){const n=e.$implicit;x(1),O("src",n.image_recipe,Xa)}}function Vye(t,e){if(1&t&&(_(0,"span"),b(1),y()),2&t){const n=$e().$implicit;x(1),ot(n.quantity)}}const Bye=function(t){return["/base",t]};function Uye(t,e){if(1&t&&(_(0,"li")(1,"a",4),b(2,"Base Link"),y()()),2&t){const n=$e().$implicit;x(1),O("routerLink",bo(1,Bye,n.base))}}function jye(t,e){if(1&t&&(_(0,"li"),b(1),y()),2&t){const n=$e().$implicit;x(1),tt(" \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430: ",n.preparation_method," ")}}function $ye(t,e){1&t&&q(0,"hr")}function Hye(t,e){if(1&t&&(_(0,"ul",17)(1,"li"),b(2),oe(3,Vye,2,1,"span",18),y(),oe(4,Uye,3,3,"li",18),oe(5,jye,2,1,"li",18),oe(6,$ye,1,0,"hr",18),q(7,"hr"),y()),2&t){const n=e.$implicit;x(2),Ep(" ",n.name," - ",n.amount," ",n.unit," "),x(1),O("ngIf",n.quantity),x(1),O("ngIf",n.base),x(1),O("ngIf",n.preparation_method),x(1),O("ngIf",n.name||n.preparation_method)}}function Gye(t,e){if(1&t&&(_(0,"ul",19)(1,"li"),b(2),y()()),2&t){const n=e.$implicit;x(2),ot(n.preparation_method)}}function zye(t,e){if(1&t&&(_(0,"li"),q(1,"iframe",21),Rl(2,"safeUrl"),y()),2&t){const n=e.$implicit;x(1),O("src",Tp(2,1,n.video_recipe),Kf)}}function qye(t,e){if(1&t&&(_(0,"div",20)(1,"h2"),b(2,"\u0412\u0438\u0434\u0435\u043e \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),y(),_(3,"ul"),oe(4,zye,3,3,"li",7),y()()),2&t){const n=$e();x(4),O("ngForOf",null==n.recipe?null:n.recipe.video_recipe)}}function Wye(t,e){if(1&t&&(_(0,"ul")(1,"li"),b(2),y(),_(3,"li"),b(4),y(),_(5,"p"),b(6),Rl(7,"date"),y()()),2&t){const n=e.$implicit;x(2),ot(n.name),x(2),ot(n.text),x(2),ot(ok(7,3,n.create_time.toDate(),"dd/MM/yyyy HH:mm:ss"))}}function Kye(t,e){if(1&t&&(_(0,"section",22),oe(1,Wye,8,6,"ul",7),y()),2&t){const n=$e();x(1),O("ngForOf",n.comments)}}const Qye=function(t){return["/category",t]};let Yye=(()=>{class t{constructor(n,r,i,s){var o=this;this.route=n,this.recipeService=r,this.firestore=i,this.commentService=s,this.recipe=null,this.category=null,this.plate=null,this.comments=[],this.recipeId="",this.route.paramMap.subscribe(function(){var a=v(function*(u){const c=u.get("id");if(o.recipeId=c,c)try{o.recipe=yield o.recipeService.getRecipeById(c),o.comments=yield s.getCommentsForRecipe(c),o.recipe?yield o.loadCategoryAndPlateData():console.error("Recipe not found.")}catch(l){console.error("An error occurred while retrieving the recipe:",l)}else console.error("Recipe ID not provided.")});return function(u){return a.apply(this,arguments)}}()),s.getCommentAddedObservable().subscribe(()=>{console.log("Comment successfully added."),this.loadCommentsForRecipe()})}loadCommentsForRecipe(){var n=this;return v(function*(){n.recipeId&&(n.comments=yield n.commentService.getCommentsForRecipe(n.recipeId))})()}loadCategoryAndPlateData(){var n=this;return v(function*(){const r=n.recipe?.food_plate,i=n.recipe?.category;if(r){const s=Ah(n.firestore,"Plates/"+r),o=yield Mh(s);o.exists()&&(n.plate=o.data())}if(i){const s=Ah(n.firestore,"Category/"+i),o=yield Mh(s);o.exists()&&(n.category=o.data())}})()}static#e=this.\u0275fac=function(r){return new(r||t)(S(Gi),S(Oye),S(sr),S(w8))};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-recipe"]],decls:36,vars:19,consts:[[1,"recipe-container"],[1,"recipe-title"],[1,"recipe-summary"],[1,"recipe-category"],[3,"routerLink"],[1,"recipe-details"],[1,"recipe-image"],[4,"ngFor","ngForOf"],[1,"recipe-description"],[1,"recipe-description-text"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-other-details"],["class","recipe-videos",4,"ngIf"],[3,"recipeId"],["class","comments",4,"ngIf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-ingredients"],[4,"ngIf"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[1,"comments"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"h1",1),b(2),y(),_(3,"div",2),b(4),y(),_(5,"div",3)(6,"a",4),b(7),y()(),_(8,"div",5)(9,"ul",6),oe(10,Lye,2,1,"li",7),y(),_(11,"div",8)(12,"h2"),b(13,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),y(),_(14,"p",9),b(15),y()()(),_(16,"h2"),b(17,"\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438"),y(),oe(18,Hye,8,7,"ul",10),_(19,"h2"),b(20,"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0435"),y(),oe(21,Gye,3,1,"ul",11),_(22,"div",12)(23,"p"),b(24),y(),_(25,"p"),b(26),y(),_(27,"p"),b(28),y(),_(29,"p"),b(30),y(),_(31,"p"),b(32),y()(),oe(33,qye,5,1,"div",13),q(34,"app-comment-form",14),oe(35,Kye,2,1,"section",15),y()),2&r&&(x(2),ot(null==i.recipe?null:i.recipe.title),x(2),ot(null==i.recipe?null:i.recipe.summary),x(2),O("routerLink",bo(17,Qye,null==i.recipe?null:i.recipe.category)),x(1),wp(" ",null==i.category?null:i.category.name," - ",null==i.category?null:i.category.menu," "),x(3),O("ngForOf",null==i.recipe?null:i.recipe.image_recipe),x(5),ot(null==i.recipe?null:i.recipe.description),x(3),O("ngForOf",null==i.recipe?null:i.recipe.ingredients),x(3),O("ngForOf",null==i.recipe?null:i.recipe.preparation_method),x(3),tt("\u0412\u0440\u0435\u043c\u0435 \u0437\u0430 \u0438\u0437\u0430\u0432\u0430\u043d\u0435: ",null==i.recipe?null:i.recipe.release_time," \u043c\u0438\u043d\u0443\u0442\u0438"),x(2),tt("\u0421\u0435\u0437\u043e\u043d: ",null==i.recipe?null:i.recipe.season,""),x(2),tt("\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: ",null==i.recipe?null:i.recipe.selectedAllergenNames,""),x(2),tt("\u0413\u043e\u0442\u043e\u0432\u043e \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ",null==i.recipe?null:i.recipe.serving_value," \u0433\u0440\u0430\u043c\u0430"),x(2),tt("\u0427\u0438\u043d\u0438\u044f: ",null==i.plate?null:i.plate.name,""),x(1),O("ngIf",i.recipe),x(1),O("recipeId",i.recipeId),x(1),O("ngIf",i.comments))},dependencies:[Ds,Iu,zi,Fye,UP,E8],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;text-decoration:none;color:var(--secondGreenColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--secondGreenColor);text-decoration:none}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return t})();function Xye(t,e){if(1&t&&(_(0,"option",26),b(1),y()),2&t){const n=e.$implicit;O("value",n.id),x(1),tt(" ",n.name," ")}}function Jye(t,e){if(1&t){const n=Fi();_(0,"div",27)(1,"label",28),b(2,"\u0414\u043e\u0431\u0430\u0432\u0435\u043d\u0430 \u0441\u043d\u0438\u043c\u043a\u0430"),y(),q(3,"input",29),_(4,"button",19),fe("click",function(){const s=mr(n).index;return yr($e().removeImage(s))}),b(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430\u0442\u0430 \u0441\u043d\u0438\u043c\u043a\u0430 "),y()()}2&t&&O("formGroupName",e.index)}function Zye(t,e){if(1&t){const n=Fi();_(0,"div",27)(1,"label",30),b(2,"\u041f\u043e\u0441\u0442\u0430\u0432\u0438 \u0442\u0443\u043a \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442"),y(),q(3,"input",31),_(4,"button",19),fe("click",function(){const s=mr(n).index;return yr($e().removeVideo(s))}),b(5," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u0432\u0438\u0434\u0435\u043e \u043b\u0438\u043d\u043a\u044a\u0442 "),y()()}2&t&&O("formGroupName",e.index)}function e_e(t,e){if(1&t){const n=Fi();_(0,"div",27)(1,"label",32),b(2,"\u041c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),y(),_(3,"p",6),b(4," \u0414\u043e\u0431\u0430\u0432\u0438 \u043c\u0435\u0442\u043e\u0434 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043d \u043f\u0440\u0438 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430 "),y(),q(5,"input",33),_(6,"button",19),fe("click",function(){const s=mr(n).index;return yr($e().removePreparation(s))}),b(7," \u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438 \u043c\u0435\u0442\u043e\u0434\u0430 "),y()()}2&t&&O("formGroupName",e.index)}function t_e(t,e){if(1&t&&(_(0,"option",26),b(1),y()),2&t){const n=e.$implicit;O("value",n.id),x(1),tt(" ",n.title," ")}}function n_e(t,e){if(1&t&&(_(0,"div",27)(1,"label",34),b(2,"\u0418\u043c\u0435"),y(),q(3,"input",35),_(4,"label",36),b(5,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),y(),q(6,"input",37),_(7,"label",38),b(8,"\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u043d\u043e\u0441\u0442"),y(),_(9,"p",6),b(10,"\u0420\u0435\u0434\u044a\u0442 \u043f\u043e \u043a\u043e\u0439\u0442\u043e \u0441\u0435 \u043f\u043e\u043a\u0430\u0437\u0432\u0430\u0442 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0438\u0442\u0435 \u0432 \u0440\u0435\u0446\u0435\u043f\u0442\u0430\u0442\u0430"),y(),q(11,"input",39),_(12,"label",40),b(13,"\u0411\u0440\u043e\u0439\u043a\u0430"),y(),_(14,"p",6),b(15," \u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u0441\u0435 \u043a\u043e\u0433\u0430\u0442\u043e \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u043c\u0430 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438 \u0431\u0440\u043e\u0439\u043a\u0438 "),y(),q(16,"input",41),_(17,"label",32),b(18,"\u041c\u0435\u0442\u043e\u0434\u0438 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u043a\u0430\u0442\u0430"),y(),q(19,"input",33),_(20,"label",42),b(21,"\u041c\u0435\u0440\u043d\u0430 \u0435\u0434\u0435\u043d\u0438\u0446\u0430"),y(),_(22,"select",43)(23,"option",44),b(24,"\u0433\u0440\u0430\u043c\u0430"),y(),_(25,"option",45),b(26,"\u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u0430"),y(),_(27,"option",46),b(28,"\u043c\u0438\u043b\u0438\u043b\u0438\u0442\u0440\u0430"),y(),_(29,"option",47),b(30,"\u043b\u0438\u0442\u0440\u0430"),y()(),_(31,"label",48),b(32,"\u0418\u0437\u0431\u0435\u0440\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430:"),y(),_(33,"select",49),oe(34,t_e,2,2,"option",18),y()()),2&t){const n=e.index,r=$e();O("formGroupName",n),x(34),O("ngForOf",r.baseRecipes)}}let r_e=(()=>{class t{constructor(n,r,i){this.fb=r,this.baseRecipeService=i,this.allergens=[],this.baseRecipes=[],this.currentOrderIndex=1,this.firestore=n,this.baseForm=this.fb.group({title:"",description:"",summary:"",selectedAllergen:null,allergens:this.fb.array([]),selectedAllergenNames:"",base_type:"",base_recipe_portions:[0],base_yield:[0],image_recipe:this.fb.array([]),video_recipe:this.fb.array([]),preparation_method:this.fb.array([]),ingredients:this.fb.array([this.fb.group({name:"",amount:null,base:this.fb.control(null),order_index:[0],preparation_method:"",quantity:[0],unit:""})])}),this.getAllergens().subscribe(s=>{this.allergens=s})}ngOnInit(){this.getBaseRecipe()}addImage(){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:[]}))}removeImage(n){this.baseForm.get("image_recipe").removeAt(n)}addImageToForm(n){this.baseForm.get("image_recipe").push(this.fb.group({image_recipe:n}))}addVideo(){this.baseForm.get("video_recipe").push(this.fb.group({video_recipe:""}))}removeVideo(n){this.baseForm.get("video_recipe").removeAt(n)}addPreparation(){this.baseForm.get("preparation_method").push(this.fb.group({preparation_method:""}))}removePreparation(n){this.baseForm.get("preparation_method").removeAt(n)}addIngredient(){this.baseForm.get("ingredients").push(this.fb.group({name:"",amount:null,base:this.fb.control(null),is_base:!1,order_index:this.currentOrderIndex,quantity:[0],preparation_method:"",unit:""})),this.currentOrderIndex++}addReferenceToSelectedAllergen(n){const r=n.target.value;this.baseForm.get("allergens").push(this.fb.control(r))}addSelectedAllergen(){const n=this.baseForm.get("selectedAllergen")?.value;this.baseForm.get("allergens").push(this.fb.control(n));const i=this.baseForm.get("selectedAllergenNames"),s=this.allergens.find(o=>o.id===n);s&&i?.setValue(i.value?i.value+", "+s.name:s.name)}onIsBaseChange(){const n=this.baseForm.get("ingredients");this.isBaseControl=n.value[0].is_base}get ingredients(){return this.baseForm.get("ingredients")}get image_recipe(){return this.baseForm.get("image_recipe")}get video_recipe(){return this.baseForm.get("video_recipe")}get preparation_method(){return this.baseForm.get("preparation_method")}onSubmit(){this.baseForm.valid&&(this.addBaseRecipe(this.baseForm.value),this.baseForm.reset())}getAllergens(){const r=zr(this.firestore,"Allergens");return new Fe(i=>{pa(r).then(s=>{const o=[];s.forEach(a=>{const c={...a.data(),id:a.id};o.push(c)}),i.next(o),i.complete()}).catch(s=>{i.error(s)})})}getBaseRecipe(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n},error:n=>{console.error("Error fetching recipes:",n)}})}addBaseRecipe(n){Sy(zr(this.firestore,"BaseRecipe"),n).then(i=>{console.log("Document written with ID: ",i.id)}).catch(i=>{console.error("Error adding document: ",i)})}static#e=this.\u0275fac=function(r){return new(r||t)(S(sr),S($y),S(Hy))};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-base-form"]],decls:72,vars:10,consts:[[1,"mainLong"],[1,"title"],[3,"formGroup"],["for","title"],["type","text","id","title","formControlName","title"],["for","base_type"],[1,"hint"],["type","text","id","base_type","formControlName","base_type"],["for","base_recipe_portions"],["type","number","id","base_recipe_portions","formControlName","base_recipe_portions"],["for","base_yield"],["type","number","id","base_yield","formControlName","base_yield"],["for","description"],["name","text","id","description","formControlName","description","cols","30","rows","5"],["for","summary"],["type","text","id","summary","formControlName","summary"],["for","selectedAllergen"],["formControlName","selectedAllergen"],[3,"value",4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"imageUploaded"],["formArrayName","image_recipe"],[3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","video_recipe"],["formArrayName","preparation_method"],["formArrayName","ingredients"],[3,"value"],[3,"formGroupName"],["for","image_recipe"],["type","text","id","image_recipe","formControlName","image_recipe"],["for","video_recipe"],["type","text","id","video_recipe","formControlName","video_recipe"],["for","preparation_method"],["type","text","id","preparation_method","formControlName","preparation_method"],["for","name"],["type","text","id","name","formControlName","name"],["for","amount"],["type","number","id","amount","formControlName","amount"],["for","order_index"],["type","number","id","order_index","formControlName","order_index"],["for","quantity"],["type","number","id","quantity","formControlName","quantity"],["for","unit"],["id","unit","formControlName","unit"],["value","\u0433\u0440."],["value","\u043a\u0433."],["value","\u043c\u043b."],["value","\u043b."],["for","base"],["id","base","formControlName","base"]],template:function(r,i){if(1&r&&(_(0,"div",0)(1,"h1",1),b(2,"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),y(),_(3,"form",2)(4,"div")(5,"label",3),b(6,"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435"),y(),q(7,"input",4),y(),_(8,"div")(9,"label",5),b(10,"\u0412\u0438\u0434"),y(),_(11,"p",6),b(12,"\u0421\u043e\u0441, \u0414\u0440\u0435\u0441\u0438\u043d, \u041e\u0441\u043d\u043e\u0432\u0430 \u0438 \u0434\u0440."),y(),q(13,"input",7),y(),_(14,"div")(15,"label",8),b(16,"\u041f\u043e\u0440\u0446\u0438\u0439"),y(),_(17,"p",6),b(18,"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0440\u0446\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0432\u0430\u043c\u0435 \u043e\u0442 \u0442\u0430\u0437\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),y(),q(19,"input",9),y(),_(20,"div")(21,"label",10),b(22,"\u0414\u043e\u0431\u0438\u0432"),y(),_(23,"p",6),b(24,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u043e \u043d\u0430 \u0433\u043e\u0442\u043e\u0432\u0430\u0442\u0430 \u043e\u0441\u043d\u043e\u0432\u0430"),y(),q(25,"input",11),y(),_(26,"div")(27,"label",12),b(28,"\u041d\u0430\u0447\u0438\u043d \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435"),y(),q(29,"textarea",13),y(),_(30,"div")(31,"label",14),b(32,"\u0420\u0435\u0437\u044e\u043c\u0435"),y(),_(33,"p",6),b(34,"\u041a\u0440\u0430\u0442\u043a\u043e \u0438\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),y(),q(35,"input",15),y(),_(36,"div")(37,"div")(38,"label",16),b(39,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438"),y(),_(40,"p",6),b(41,"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 \u0430\u043b\u0435\u0440\u0433\u0435\u043d\u0438\u0442\u0435, \u043a\u043e\u0439\u0442\u043e \u0441\u0430\u0434\u044a\u0440\u0436\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),y(),_(42,"select",17),oe(43,Xye,2,2,"option",18),y(),_(44,"button",19),fe("click",function(){return i.addSelectedAllergen()}),b(45," \u0414\u043e\u0431\u0430\u0432\u0438 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u0430\u043b\u0435\u0440\u0433\u0435\u043d "),y()(),_(46,"div")(47,"p",6),b(48,"\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438, \u043a\u043e\u0439\u0442\u043e \u0432\u0435\u0447\u0435 \u0441\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438:"),y(),_(49,"div"),b(50),y()(),_(51,"app-image-upload",20),fe("imageUploaded",function(o){return i.addImageToForm(o)}),y(),_(52,"div",21),oe(53,Jye,6,1,"div",22),y(),_(54,"div",23),oe(55,Zye,6,1,"div",22),_(56,"button",19),fe("click",function(){return i.addVideo()}),b(57," \u0414\u043e\u0431\u0430\u0432\u0438 \u043b\u0438\u043d\u043a \u043a\u044a\u043c \u0432\u0438\u0434\u0435\u043e "),y()(),_(58,"div",24),oe(59,e_e,8,1,"div",22),_(60,"button",19),fe("click",function(){return i.addPreparation()}),b(61," \u0414\u043e\u0431\u0430\u0432\u0438 \u043c\u0435\u0442\u043e\u0434 \u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0442\u0432\u044f\u043d\u0435 "),y()(),_(62,"h3"),b(63,"\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438"),y()(),_(64,"div",25),oe(65,n_e,35,2,"div",22),y(),_(66,"button",19),fe("click",function(){return i.addIngredient()}),b(67," \u0414\u043e\u0431\u0430\u0432\u0438 \u043e\u0449\u0435 \u0435\u0434\u043d\u0430 \u0441\u044a\u0441\u0442\u0430\u0432\u0430 "),y(),_(68,"button",19),fe("click",function(){return i.onSubmit()}),b(69,"\u0414\u043e\u0431\u0430\u0432\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u0442\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),y(),b(70),Rl(71,"json"),y()()),2&r){let s;x(3),O("formGroup",i.baseForm),x(40),O("ngForOf",i.allergens),x(7),ot(null==(s=i.baseForm.get("selectedAllergenNames"))?null:s.value),x(3),O("ngForOf",i.image_recipe.controls),x(2),O("ngForOf",i.video_recipe.controls),x(4),O("ngForOf",i.preparation_method.controls),x(6),O("ngForOf",i.ingredients.controls),x(5),tt(" ",Tp(71,8,i.baseForm.value)," ")}},dependencies:[Ds,Vh,Uy,jy,ma,Bh,Rc,xh,Nh,ya,Nc,Uh,jh,v8,jP]})}return t})();function i_e(t,e){if(1&t&&(_(0,"li"),q(1,"img",13),y()),2&t){const n=e.$implicit;x(1),O("src",n.image_recipe,Xa)}}function s_e(t,e){if(1&t&&(_(0,"span"),b(1),y()),2&t){const n=$e().$implicit;x(1),ot(n.quantity)}}const o_e=function(t){return["/base",t]};function a_e(t,e){if(1&t&&(_(0,"li")(1,"a",16),b(2,"Base Link"),y()()),2&t){const n=$e().$implicit;x(1),O("routerLink",bo(1,o_e,n.base))}}function u_e(t,e){if(1&t&&(_(0,"li"),b(1),y()),2&t){const n=$e().$implicit;x(1),tt(" \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430: ",n.preparation_method," ")}}function c_e(t,e){1&t&&q(0,"hr")}function l_e(t,e){if(1&t&&(_(0,"ul",14)(1,"li"),b(2),oe(3,s_e,2,1,"span",15),y(),oe(4,a_e,3,3,"li",15),oe(5,u_e,2,1,"li",15),oe(6,c_e,1,0,"hr",15),q(7,"hr"),y()),2&t){const n=e.$implicit;x(2),Ep(" ",n.name," - ",n.amount," ",n.unit," "),x(1),O("ngIf",n.quantity),x(1),O("ngIf",n.base),x(1),O("ngIf",n.preparation_method),x(1),O("ngIf",n.name||n.preparation_method)}}function d_e(t,e){if(1&t&&(_(0,"ul",17)(1,"li"),b(2),y()()),2&t){const n=e.$implicit;x(2),ot(n.preparation_method)}}function h_e(t,e){if(1&t&&(_(0,"li"),q(1,"iframe",19),Rl(2,"safeUrl"),y()),2&t){const n=e.$implicit;x(1),O("src",Tp(2,1,n.video_recipe),Kf)}}function f_e(t,e){if(1&t&&(_(0,"div",18)(1,"h2"),b(2,"\u0412\u0438\u0434\u0435\u043e \u0440\u0435\u0446\u0435\u043f\u0442\u0430"),y(),_(3,"ul"),oe(4,h_e,3,3,"li",6),y()()),2&t){const n=$e();x(4),O("ngForOf",null==n.base?null:n.base.video_recipe)}}let p_e=(()=>{class t{constructor(n,r){var i=this;this.route=n,this.baseRecipeService=r,this.base=null,this.route.paramMap.subscribe(function(){var s=v(function*(o){const a=o.get("id");if(a)try{i.base=yield i.baseRecipeService.getBaseById(a)}catch(u){console.error("An error occurred while retrieving the recipe:",u)}else console.error("Recipe ID not provided.")});return function(o){return s.apply(this,arguments)}}())}static#e=this.\u0275fac=function(r){return new(r||t)(S(Gi),S(Hy))};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-base-recipe"]],decls:32,vars:12,consts:[[1,"mainLong"],[1,"recipe-container"],[1,"title"],[1,"recipe-summary"],[1,"recipe-details"],[1,"recipe-image"],[4,"ngFor","ngForOf"],[1,"recipe-description"],[1,"recipe-description-text"],["class","recipe-ingredients",4,"ngFor","ngForOf"],["class","recipe-preparation-method",4,"ngFor","ngForOf"],[1,"recipe-other-details"],["class","recipe-videos",4,"ngIf"],["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0435\u0446\u0435\u043f\u0442\u0430",3,"src"],[1,"recipe-ingredients"],[4,"ngIf"],[3,"routerLink"],[1,"recipe-preparation-method"],[1,"recipe-videos"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h1",2),b(3),y(),_(4,"p"),b(5),y(),_(6,"div",3),b(7),y(),_(8,"div",4)(9,"ul",5),oe(10,i_e,2,1,"li",6),y(),_(11,"div",7)(12,"h2"),b(13,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),y(),_(14,"p",8),b(15),y()()(),_(16,"h2"),b(17,"\u0421\u044a\u0441\u0442\u0430\u0432\u043a\u0438"),y(),oe(18,l_e,8,7,"ul",9),_(19,"h2"),b(20,"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0435"),y(),oe(21,d_e,3,1,"ul",10),_(22,"div",11)(23,"p"),b(24),y(),_(25,"p"),b(26),y(),_(27,"p"),b(28),y(),_(29,"p"),b(30),y()(),oe(31,f_e,5,1,"div",12),y()()),2&r&&(x(3),ot(null==i.base?null:i.base.title),x(2),tt("\u0422\u0438\u043f: ",null==i.base?null:i.base.base_type,""),x(2),ot(null==i.base?null:i.base.summary),x(3),O("ngForOf",null==i.base?null:i.base.image_recipe),x(5),ot(null==i.base?null:i.base.description),x(3),O("ngForOf",null==i.base?null:i.base.ingredients),x(3),O("ngForOf",null==i.base?null:i.base.preparation_method),x(3),tt("base recipe portions : ",null==i.base?null:i.base.base_recipe_portions,""),x(2),tt("base type : ",null==i.base?null:i.base.base_type,""),x(2),tt("base yield : ",null==i.base?null:i.base.base_yield,""),x(2),tt("\u0410\u043b\u0435\u0440\u0433\u0435\u043d\u0438: ",null==i.base?null:i.base.selectedAllergenNames,""),x(1),O("ngIf",i.base))},dependencies:[Ds,Iu,zi,E8],styles:[".recipe-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.recipe-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.recipe-summary[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;text-decoration:none;color:var(--mainGreenColor)}.recipe-category[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-image[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:10px}.recipe-description[_ngcontent-%COMP%]{margin-top:20px}.recipe-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.recipe-description-text[_ngcontent-%COMP%]{font-size:16px;white-space:pre-wrap}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainGreenColor);text-decoration:none}.recipe-ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.recipe-preparation-method[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.recipe-other-details[_ngcontent-%COMP%]{margin-top:20px}.recipe-other-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.recipe-videos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-top:20px}.recipe-videos[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;max-width:800px;height:450px}"]})}return t})();const g_e=function(t){return["/base",t]};function m_e(t,e){if(1&t&&(_(0,"div")(1,"a",4)(2,"div",5)(3,"h3"),b(4),y()()()()),2&t){const n=e.$implicit;x(1),O("routerLink",bo(2,g_e,n.id)),x(3),ot(n.title)}}const y_e=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:bne},{path:"chefs",component:Ime},{path:"waiters",component:Cme},{path:"add-category",component:bye},{path:"add-recipe",component:Pye},{path:"add-base",component:r_e},{path:"base/:id",component:p_e},{path:"base",component:(()=>{class t{constructor(n){this.baseRecipeService=n,this.baseRecipes=[]}ngOnInit(){this.getBaseRecipes()}getBaseRecipes(){this.baseRecipeService.getBaseRecipe().subscribe({next:n=>{this.baseRecipes=n},error:n=>{console.error("Error fetching categories:",n)}})}static#e=this.\u0275fac=function(r){return new(r||t)(S(Hy))};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-list-base"]],decls:5,vars:1,consts:[[1,"mainLong"],[1,"title"],[1,"recipe-list"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"recipe-item"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"h1",1),b(2,"\u0411\u0430\u0437\u043e\u0432\u0438 \u0420\u0435\u0446\u0435\u043f\u0442\u0438"),y(),_(3,"div",2),oe(4,m_e,5,4,"div",3),y()()),2&r&&(x(4),O("ngForOf",i.baseRecipes))},dependencies:[Ds,zi],styles:[".recipe-list[_ngcontent-%COMP%]{padding:20px 50px;display:flex;flex-wrap:wrap;gap:20px}.recipe-item[_ngcontent-%COMP%]{background-color:var(--mainWhiteColor);border:1px solid var(--mainGreyColor);border-radius:5px;margin:10px 0;text-align:center;padding:20px;transition:transform .2s}.recipe-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin:0}.recipe-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}a[_ngcontent-%COMP%]{color:var(--mainBlackColor)}a[_ngcontent-%COMP%]:hover{background-color:var(--mainGreyColor)}"]})}return t})()},{path:"category/:id",component:Dye},{path:"recipe/:id",component:Yye}];let __e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({imports:[mg.forRoot(y_e),mg]})}return t})();function v_e(t,e){if(1&t){const n=Fi();_(0,"div",10),fe("click",function(){return mr(n),yr($e().closeMenu())}),_(1,"a",11),fe("click",function(){return mr(n),yr($e().handleMenuItemClick("Link 1"))}),b(2,"Add Base"),y(),_(3,"a",12),fe("click",function(){return mr(n),yr($e().handleMenuItemClick("Link 2"))}),b(4,"Add Recipe"),y(),_(5,"a",13),fe("click",function(){return mr(n),yr($e().handleMenuItemClick("Link 3"))}),b(6,"Add Category"),y()()}}let w_e=(()=>{class t{constructor(){this.isMenuOpen=!1}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}handleMenuItemClick(n){console.log("Clicked on "+n),this.closeMenu()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-header"]],decls:17,vars:1,consts:[[1,"header"],[1,"logo"],["routerLink","/home"],[1,"navigation"],["routerLink","/chefs"],["routerLink","/base"],[1,"dropdown"],[1,"dropbtn",3,"click"],[1,"fa","fa-caret-down"],["class","dropdown-content",3,"click",4,"ngIf"],[1,"dropdown-content",3,"click"],["href","#","routerLink","/add-base",3,"click"],["href","#","routerLink","/add-recipe",3,"click"],["href","#","routerLink","/add-category",3,"click"]],template:function(r,i){1&r&&(_(0,"header",0)(1,"div",1)(2,"a",2),b(3,"Chefs Talks"),y()(),_(4,"nav",3)(5,"ul")(6,"li")(7,"a",4),b(8,"Chefs"),y()(),_(9,"li")(10,"a",5),b(11,"Base"),y()(),_(12,"div",6)(13,"button",7),fe("click",function(){return i.toggleMenu()}),b(14,"Add "),q(15,"i",8),y(),oe(16,v_e,7,0,"div",9),y()()()()),2&r&&(x(16),O("ngIf",i.isMenuOpen))},dependencies:[Iu,zi],styles:[".header[_ngcontent-%COMP%]{height:8vh;background-color:var(--mainGreenColor);color:var(--mainWhiteColor);display:flex;justify-content:space-between;align-items:center;padding:20px}.logo[_ngcontent-%COMP%]{font-size:32px;font-weight:900;text-decoration:underline}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainWhiteColor)}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--mainWhiteColor)}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropbtn[_ngcontent-%COMP%]{all:unset}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:-3px;background-color:var(--mainGreenColor);min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--mainBlackColor);padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--mainGrayColor)}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%]{color:var(--mainBlackColor)}"]})}return t})(),E_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer"]],template:function(r,i){1&r&&(_(0,"footer",0)(1,"p"),b(2,"\xa9 2023 Shefs Talks"),y()())},styles:[".footer[_ngcontent-%COMP%]{height:5vh;background-color:var(--secondGreenColor);color:var(--mainWhiteColor);text-align:center;padding:10px}"]})}return t})(),b_e=(()=>{class t{constructor(){this.title="chefs-talks"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Pt({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&q(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[aE,w_e,E_e]})}return t})(),I_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({imports:[kw,mg]})}return t})();class Gy{}class zy{}class Ei{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ei?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ei;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ei?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class C_e{encodeKey(e){return b8(e)}encodeValue(e){return b8(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const T_e=/%(\d[a-f0-9])/gi,S_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function b8(t){return encodeURIComponent(t).replace(T_e,(e,n)=>S_e[n]??e)}function qy(t){return`${t}`}class no{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new C_e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function D_e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(qy):[qy(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new no({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(qy(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(qy(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class A_e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function I8(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function C8(t){return typeof Blob<"u"&&t instanceof Blob}function D8(t){return typeof FormData<"u"&&t instanceof FormData}class Hh{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function M_e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ei),this.context||(this.context=new A_e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new no,this.urlWithParams=n}serializeBody(){return null===this.body?null:I8(this.body)||C8(this.body)||D8(this.body)||function x_e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof no?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||D8(this.body)?null:C8(this.body)?this.body.type||null:I8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof no?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Hh(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var kc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(kc||{});class RA{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ei,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class kA extends RA{constructor(e={}){super(e),this.type=kc.ResponseHeader}clone(e={}){return new kA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pc extends RA{constructor(e={}){super(e),this.type=kc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Pc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class T8 extends RA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function PA(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let N_e=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Hh)s=n;else{let u,c;u=i.headers instanceof Ei?i.headers:new Ei(i.headers),i.params&&(c=i.params instanceof no?i.params:new no({fromObject:i.params})),s=new Hh(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=J(s).pipe(Du(u=>this.handler.handle(u)));if(n instanceof Hh||"events"===i.observe)return o;const a=o.pipe($i(u=>u instanceof Pc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(De(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(De(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(De(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(De(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new no).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,PA(i,r))}post(n,r,i={}){return this.request("POST",n,PA(i,r))}put(n,r,i={}){return this.request("PUT",n,PA(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(L(Gy))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function M8(t,e){return e(t)}function k_e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const O_e=new B(""),Gh=new B(""),x8=new B("");function F_e(){let t=null;return(e,n)=>{null===t&&(t=(j(O_e,{optional:!0})??[]).reduceRight(k_e,M8));const r=j(xp),i=r.add();return t(e,n).pipe($l(()=>r.remove(i)))}}let N8=(()=>{class t extends Gy{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=j(xp)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Gh),...this.injector.get(x8,[])]));this.chain=i.reduceRight((s,o)=>function P_e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(s,o,this.injector),M8)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe($l(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(L(zy),L(Kn))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const U_e=/^\)\]\}',?\n/;let k8=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new D(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?St(r.\u0275loadImpl()):J(null)).pipe(xr(()=>new Fe(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((g,m)=>o.setRequestHeader(g,m.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const g=n.detectContentTypeHeader();null!==g&&o.setRequestHeader("Content-Type",g)}if(n.responseType){const g=n.responseType.toLowerCase();o.responseType="json"!==g?g:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const g=o.statusText||"OK",m=new Ei(o.getAllResponseHeaders()),E=function j_e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return u=new kA({headers:m,status:o.status,statusText:g,url:E}),u},l=()=>{let{headers:g,status:m,statusText:E,url:w}=c(),T=null;204!==m&&(T=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=T?200:0);let R=m>=200&&m<300;if("json"===n.responseType&&"string"==typeof T){const $=T;T=T.replace(U_e,"");try{T=""!==T?JSON.parse(T):null}catch(Q){T=$,R&&(R=!1,T={error:Q,text:T})}}R?(s.next(new Pc({body:T,headers:g,status:m,statusText:E,url:w||void 0})),s.complete()):s.error(new T8({error:T,headers:g,status:m,statusText:E,url:w||void 0}))},d=g=>{const{url:m}=c(),E=new T8({error:g,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});s.error(E)};let h=!1;const f=g=>{h||(s.next(c()),h=!0);let m={type:kc.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===n.responseType&&o.responseText&&(m.partialText=o.responseText),s.next(m)},p=g=>{let m={type:kc.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),s.next(m)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:kc.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(L(zP))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const OA=new B("XSRF_ENABLED"),P8=new B("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),O8=new B("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class F8{}let G_e=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=PP(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(L(Yt),L(Ni),L(P8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function z_e(t,e){const n=t.url.toLowerCase();if(!j(OA)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=j(F8).getToken(),i=j(O8);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ro=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ro||{});function q_e(...t){const e=[N_e,k8,N8,{provide:Gy,useExisting:N8},{provide:zy,useExisting:k8},{provide:Gh,useValue:z_e,multi:!0},{provide:OA,useValue:!0},{provide:F8,useClass:G_e}];for(const n of t)e.push(...n.\u0275providers);return function kv(t){return{\u0275providers:t}}(e)}const L8=new B("LEGACY_INTERCEPTOR_FN");function W_e(){return function va(t,e){return{\u0275kind:t,\u0275providers:e}}(ro.LegacyInterceptors,[{provide:L8,useFactory:F_e},{provide:Gh,useExisting:L8,multi:!0}])}let K_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({providers:[q_e(W_e())]})}return t})();tr("firebase","10.5.2","app");const V8_firebaseConfig={apiKey:"AIzaSyBqXpKb2qj9VKAYX_DOaOyGV6e-lsUhxG8",authDomain:"chefs-talks.firebaseapp.com",projectId:"chefs-talks",storageBucket:"chefs-talks.appspot.com",messagingSenderId:"821574305127",appId:"1:821574305127:web:1ec43d2f164a6f2c151bc2",measurementId:"G-96713DEB05"};!function KO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(n||(n=_E()),!n)throw Ki.create("no-options");const s=Oo.get(i);if(s){if(id(n,s.options)&&id(r,s.config))return s;throw Ki.create("duplicate-app",{appName:i})}const o=new MO(i);for(const u of Dg.values())o.addComponent(u);const a=new Nie(n,r,o);return Oo.set(i,a),a}(V8_firebaseConfig);let B8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({imports:[kw,_8]})}return t})(),nve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=kt({imports:[[]]}),t})();class U8{}class rve{}const ds="*";function j8(t,e=null){return{type:2,steps:t,options:e}}function $8(t){return{type:6,styles:t,offset:null}}class zh{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class H8{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function G8(t){return new D(3e3,!1)}function io(t){switch(t.length){case 0:return new zh;case 1:return t[0];default:return new H8(t)}}function z8(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const c=u.get("offset"),l=c==o,d=l&&a||new Map;u.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case ds:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),l||s.push(d),a=d,o=c}),i.length)throw function Tve(t){return new D(3502,!1)}();return s}function LA(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&VA(n,"start",t)));break;case"done":t.onDone(()=>r(n&&VA(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&VA(n,"destroy",t)))}}function VA(t,e,n){const s=BA(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function BA(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function or(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function q8(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const Vve=(()=>typeof document>"u"?null:document.documentElement)();function UA(t){const e=t.parentNode||t.host||null;return e===Vve?null:e}let wa=null,W8=!1;function K8(t,e){for(;e;){if(e===t)return!0;e=UA(e)}return!1}function Q8(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let Y8=(()=>{class t{validateStyleProperty(n){return function Uve(t){wa||(wa=function jve(){return typeof document<"u"?document.body:null}()||{},W8=!!wa.style&&"WebkitAppearance"in wa.style);let e=!0;return wa.style&&!function Bve(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in wa.style,!e&&W8&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in wa.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return K8(n,r)}getParentElement(n){return UA(n)}query(n,r,i){return Q8(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new zh(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),jA=(()=>{class t{static#e=this.NOOP=new Y8}return t})();const $ve=1e3,$A="ng-enter",Ky="ng-leave",Qy="ng-trigger",Yy=".ng-trigger",J8="ng-animating",HA=".ng-animating";function hs(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:GA(parseFloat(e[1]),e[2])}function GA(t,e){return"s"===e?t*$ve:t}function Xy(t,e,n){return t.hasOwnProperty("duration")?t:function Gve(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(G8()),{duration:0,delay:0,easing:""};i=GA(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=GA(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function ive(){return new D(3100,!1)}()),a=!0),s<0&&(e.push(function sve(){return new D(3101,!1)}()),a=!0),a&&e.splice(u,0,G8())}return{duration:i,delay:s,easing:o}}(t,e,n)}function qh(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Z8(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function so(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function bi(t,e,n){e.forEach((r,i)=>{const s=qA(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Ea(t,e){e.forEach((n,r)=>{const i=qA(r);t.style[i]=""})}function Wh(t){return Array.isArray(t)?1==t.length?t[0]:j8(t):t}const zA=new RegExp("{{\\s*(.+?)\\s*}}","g");function tU(t){let e=[];if("string"==typeof t){let n;for(;n=zA.exec(t);)e.push(n[1]);zA.lastIndex=0}return e}function Kh(t,e,n){const r=t.toString(),i=r.replace(zA,(s,o)=>{let a=e[o];return null==a&&(n.push(function ave(t){return new D(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function Jy(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Wve=/-+([a-z0-9])/g;function qA(t){return t.replace(Wve,(...e)=>e[1].toUpperCase())}function ar(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function uve(t){return new D(3004,!1)}()}}function nU(t,e){return window.getComputedStyle(t)[e]}const Zy="*";function Yve(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Xve(t,e,n){if(":"==t[0]){const u=function Jve(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function bve(t){return new D(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function Eve(t){return new D(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(rU(i,o));"<"==s[0]&&!(i==Zy&&o==Zy)&&e.push(rU(o,i))}(r,n,e)):n.push(t),n}const e_=new Set(["true","1"]),t_=new Set(["false","0"]);function rU(t,e){const n=e_.has(t)||t_.has(t),r=e_.has(e)||t_.has(e);return(i,s)=>{let o=t==Zy||t==i,a=e==Zy||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?e_.has(t):t_.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?e_.has(e):t_.has(e)),o&&a}}const Zve=new RegExp("s*:selfs*,?","g");function WA(t,e,n,r){return new e0e(t).build(e,n,r)}class e0e{constructor(e){this._driver=e}build(e,n,r){const i=new r0e(n);return this._resetContextStyleTimingState(i),ar(this,Wh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function lve(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(l=>{u.name=l,s.push(this.visitState(u,n))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function dve(){return new D(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{tU(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Jy(s.values()),n.errors.push(function hve(t,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=ar(this,Wh(e.animation),n);return{type:1,matchers:Yve(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:ba(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>ar(this,r,n)),options:ba(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=ar(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:ba(e.options)}}visitAnimate(e,n){const r=function s0e(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return KA(Xy(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=KA(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=Xy(n,e);return KA(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:$8({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=$8(c)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ds?r.push(a):n.errors.push(new D(3002,!1)):r.push(Z8(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=n.collectedStyles.get(n.currentQuerySelector),l=c.get(u);let d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(function pve(t,e,n,r,i){return new D(3010,!1)}()),d=!1),s=l.startTime),d&&c.set(u,{startTime:s,endTime:i}),n.options&&function qve(t,e,n){const r=e.params||{},i=tU(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function ove(t){return new D(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function gve(){return new D(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const l=e.steps.map(E=>{const w=this._makeStyleAst(E,n);let T=null!=w.offset?w.offset:function i0e(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(w.styles),R=0;return null!=T&&(s++,R=w.offset=T),u=u||R<0||R>1,a=a||R<c,c=R,o.push(R),w});u&&n.errors.push(function mve(){return new D(3012,!1)}()),a&&n.errors.push(function yve(){return new D(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function _ve(){return new D(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,m=g.duration;return l.forEach((E,w)=>{const T=h>0?w==f?1:h*w:o[w],R=T*m;n.currentTime=p+g.delay+R,g.duration=R,this._validateStyleAst(E,n),E.offset=T,r.styles.push(E)}),r}visitReference(e,n){return{type:8,animation:ar(this,Wh(e.animation),n),options:ba(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:ba(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:ba(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function t0e(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(Zve,"")),t=t.replace(/@\*/g,Yy).replace(/@\w+/g,n=>Yy+"-"+n.slice(1)).replace(/:animating/g,HA),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,or(n.collectedStyles,n.currentQuerySelector,new Map);const a=ar(this,Wh(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ba(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function vve(){return new D(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Xy(e.timings,n.errors,!0);return{type:12,animation:ar(this,Wh(e.animation),n),timings:r,options:null}}}class r0e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ba(t){return t?(t=qh(t)).params&&(t.params=function n0e(t){return t?qh(t):null}(t.params)):t={},t}function KA(t,e,n){return{duration:t,delay:e,easing:n}}function QA(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class n_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const u0e=new RegExp(":enter","g"),l0e=new RegExp(":leave","g");function YA(t,e,n,r,i,s=new Map,o=new Map,a,u,c=[]){return(new d0e).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class d0e{buildKeyframes(e,n,r,i,s,o,a,u,c,l=[]){c=c||new n_;const d=new XA(e,n,c,i,s,l,[]);d.options=u;const h=u.delay?hs(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),ar(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===n){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[QA(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:hs(Kh(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?hs(r.duration):null,a=null!=r.delay?hs(r.delay):null;return 0!==o&&e.forEach(u=>{const c=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),ar(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=r_);const o=hs(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ar(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?hs(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),ar(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return Xy(n.params?Kh(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?hs(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=r_);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((c,l)=>{n.currentQueryIndex=l;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(u=d.currentTimeline),ar(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const l=n.currentTimeline;u&&l.delayNextStep(u);const d=l.currentTime;ar(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const r_={};class XA{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=r_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new i_(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=hs(r.duration)),null!=r.delay&&(i.delay=hs(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Kh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new XA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=r_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new h0e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(u0e,"."+this._enterClassName)).replace(l0e,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function wve(t){return new D(3014,!1)}()),a}}class i_{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new i_(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||ds),this._currentKeyframe.set(n,ds);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function f0e(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,ds)}else so(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=Kh(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ds),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=so(a,new Map,this._backFill);c.forEach((l,d)=>{"!"===l?e.add(d):l===ds&&n.add(d)}),r||c.set("offset",u/this.duration),i.push(c)});const s=e.size?Jy(e.values()):[],o=n.size?Jy(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return QA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class h0e extends i_{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=so(e[0]);u.set("offset",0),s.push(u);const c=so(e[0]);c.set("offset",oU(a)),s.push(c);const l=e.length-1;for(let d=1;d<=l;d++){let h=so(e[d]);const f=h.get("offset");h.set("offset",oU((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return QA(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function oU(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class JA{}const p0e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class g0e extends JA{normalizePropertyName(e,n){return qA(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(p0e.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function cve(t,e){return new D(3005,!1)}())}return o+s}}function aU(t,e,n,r,i,s,o,a,u,c,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:d,errors:h}}const ZA={};class uU{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function m0e(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,c,l){const d=[],h=this.ast.options&&this.ast.options.params||ZA,p=this.buildStyles(r,a&&a.params||ZA,d),g=u&&u.params||ZA,m=this.buildStyles(i,g,d),E=new Set,w=new Map,T=new Map,R="void"===i,$={params:y0e(g,h),delay:this.ast.options?.delay},Q=l?[]:YA(e,n,this.ast.animation,s,o,p,m,$,c,d);let ce=0;if(Q.forEach(Dt=>{ce=Math.max(Dt.duration+Dt.delay,ce)}),d.length)return aU(n,this._triggerName,r,i,R,p,m,[],[],w,T,ce,d);Q.forEach(Dt=>{const ur=Dt.element,u_=or(w,ur,new Set);Dt.preStyleProps.forEach(Ia=>u_.add(Ia));const Yh=or(T,ur,new Set);Dt.postStyleProps.forEach(Ia=>Yh.add(Ia)),ur!==n&&E.add(ur)});const Ve=Jy(E.values());return aU(n,this._triggerName,r,i,R,p,m,Q,Ve,w,T,ce)}}function y0e(t,e){const n=qh(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class _0e{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=qh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Kh(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class w0e{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new _0e(i.style,i.options&&i.options.params||{},r))}),cU(this.states,"true","1"),cU(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new uU(e,i,this.states))}),this.fallbackTransition=function E0e(t,e,n){return new uU(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function cU(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const b0e=new n_;class I0e{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=WA(this._driver,n,r,[]);if(r.length)throw function Sve(t){return new D(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=z8(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=YA(this._driver,n,s,$A,Ky,new Map,new Map,r,b0e,i),o.forEach(l=>{const d=or(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Ave(){return new D(3300,!1)}()),o=[]),i.length)throw function Mve(t){return new D(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,ds))})});const c=io(o.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function xve(t){return new D(3301,!1)}();return n}listen(e,n,r,i){const s=BA(n,"","","");return LA(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const lU="ng-animate-queued",e2="ng-animate-disabled",A0e=[],dU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},M0e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qr="__ng_removed";class t2{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function k0e(t){return t??null}(r?e.value:e),r){const s=qh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Qh="void",n2=new t2(Qh);class x0e{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ar(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function Nve(t,e){return new D(3302,!1)}();if(null==r||0==r.length)throw function Rve(t){return new D(3303,!1)}();if(!function P0e(t){return"start"==t||"done"==t}(r))throw function kve(t,e){return new D(3400,!1)}();const s=or(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=or(this._engine.statesByElement,e,new Map);return a.has(n)||(Ar(e,Qy),Ar(e,Qy+"-"+n),a.set(n,n2)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function Pve(t){return new D(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new r2(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Ar(e,Qy),Ar(e,Qy+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const c=new t2(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(n,c),u||(u=n2),c.value!==Qh&&u.value===c.value){if(!function L0e(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,c.params)){const g=[],m=s.matchStyles(u.value,u.params,g),E=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Ea(e,m),bi(e,E)})}return}const h=or(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:u,toState:c,player:o,isFallbackTransition:p}),p||(Ar(e,lU),o.onStart(()=>{Oc(e,lU)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let E=m.indexOf(o);E>=0&&m.splice(E,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,Yy,!0);r.forEach(i=>{if(i[qr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const l=this.trigger(e,c,Qh,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&io(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||n2,l=new t2(Qh),d=new r2(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[qr];(!s||s===dU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Ar(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=BA(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,LA(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class N0e{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new x0e(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(s_(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!s_(n))return;const s=n[qr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ar(e,e2)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Oc(e,e2))}removeNode(e,n,r){if(s_(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[qr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return s_(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Yy,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,HA,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return io(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[qr];if(n&&n.setForRemoval){if(e[qr]=dU,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(e2)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ar(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?io(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Ove(t){return new D(3402,!1)}()}_flushAnimations(e,n){const r=new n_,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(z=>{l.add(z);const Y=this.driver.query(z,".ng-animate-queued",!0);for(let X=0;X<Y.length;X++)l.add(Y[X])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=pU(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((z,Y)=>{const X=$A+g++;p.set(Y,X),z.forEach(Ie=>Ar(Ie,X))});const m=[],E=new Set,w=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const Y=this.collectedLeaveElements[z],X=Y[qr];X&&X.setForRemoval&&(m.push(Y),E.add(Y),X.hasAnimation?this.driver.query(Y,".ng-star-inserted",!0).forEach(Ie=>E.add(Ie)):w.add(Y))}const T=new Map,R=pU(h,Array.from(E));R.forEach((z,Y)=>{const X=Ky+g++;T.set(Y,X),z.forEach(Ie=>Ar(Ie,X))}),e.push(()=>{f.forEach((z,Y)=>{const X=p.get(Y);z.forEach(Ie=>Oc(Ie,X))}),R.forEach((z,Y)=>{const X=T.get(Y);z.forEach(Ie=>Oc(Ie,X))}),m.forEach(z=>{this.processLeaveNode(z)})});const $=[],Q=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(n).forEach(X=>{const Ie=X.player,$t=X.element;if($.push(Ie),this.collectedEnterElements.length){const mn=$t[qr];if(mn&&mn.setForMove){if(mn.previousTriggersValues&&mn.previousTriggersValues.has(X.triggerName)){const Ca=mn.previousTriggersValues.get(X.triggerName),Mr=this.statesByElement.get(X.element);if(Mr&&Mr.has(X.triggerName)){const c_=Mr.get(X.triggerName);c_.value=Ca,Mr.set(X.triggerName,c_)}}return void Ie.destroy()}}const Ii=!d||!this.driver.containsElement(d,$t),cr=T.get($t),oo=p.get($t),it=this._buildInstruction(X,r,oo,cr,Ii);if(it.errors&&it.errors.length)return void Q.push(it);if(Ii)return Ie.onStart(()=>Ea($t,it.fromStyles)),Ie.onDestroy(()=>bi($t,it.toStyles)),void i.push(Ie);if(X.isFallbackTransition)return Ie.onStart(()=>Ea($t,it.fromStyles)),Ie.onDestroy(()=>bi($t,it.toStyles)),void i.push(Ie);const DU=[];it.timelines.forEach(mn=>{mn.stretchStartingKeyframe=!0,this.disabledNodes.has(mn.element)||DU.push(mn)}),it.timelines=DU,r.append($t,it.timelines),o.push({instruction:it,player:Ie,element:$t}),it.queriedElements.forEach(mn=>or(a,mn,[]).push(Ie)),it.preStyleProps.forEach((mn,Ca)=>{if(mn.size){let Mr=u.get(Ca);Mr||u.set(Ca,Mr=new Set),mn.forEach((c_,o2)=>Mr.add(o2))}}),it.postStyleProps.forEach((mn,Ca)=>{let Mr=c.get(Ca);Mr||c.set(Ca,Mr=new Set),mn.forEach((c_,o2)=>Mr.add(o2))})});if(Q.length){const z=[];Q.forEach(Y=>{z.push(function Fve(t,e){return new D(3505,!1)}())}),$.forEach(Y=>Y.destroy()),this.reportError(z)}const ce=new Map,Ve=new Map;o.forEach(z=>{const Y=z.element;r.has(Y)&&(Ve.set(Y,Y),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,ce))}),i.forEach(z=>{const Y=z.element;this._getPreviousPlayers(Y,!1,z.namespaceId,z.triggerName,null).forEach(Ie=>{or(ce,Y,[]).push(Ie),Ie.destroy()})});const Dt=m.filter(z=>mU(z,u,c)),ur=new Map;fU(ur,this.driver,w,c,ds).forEach(z=>{mU(z,u,c)&&Dt.push(z)});const Yh=new Map;f.forEach((z,Y)=>{fU(Yh,this.driver,new Set(z),u,"!")}),Dt.forEach(z=>{const Y=ur.get(z),X=Yh.get(z);ur.set(z,new Map([...Y?.entries()??[],...X?.entries()??[]]))});const Ia=[],IU=[],CU={};o.forEach(z=>{const{element:Y,player:X,instruction:Ie}=z;if(r.has(Y)){if(l.has(Y))return X.onDestroy(()=>bi(Y,Ie.toStyles)),X.disabled=!0,X.overrideTotalTime(Ie.totalTime),void i.push(X);let $t=CU;if(Ve.size>1){let cr=Y;const oo=[];for(;cr=cr.parentNode;){const it=Ve.get(cr);if(it){$t=it;break}oo.push(cr)}oo.forEach(it=>Ve.set(it,$t))}const Ii=this._buildAnimation(X.namespaceId,Ie,ce,s,Yh,ur);if(X.setRealPlayer(Ii),$t===CU)Ia.push(X);else{const cr=this.playersByElement.get($t);cr&&cr.length&&(X.parentPlayer=io(cr)),i.push(X)}}else Ea(Y,Ie.fromStyles),X.onDestroy(()=>bi(Y,Ie.toStyles)),IU.push(X),l.has(Y)&&i.push(X)}),IU.forEach(z=>{const Y=s.get(z.element);if(Y&&Y.length){const X=io(Y);z.setRealPlayer(X)}}),i.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<m.length;z++){const Y=m[z],X=Y[qr];if(Oc(Y,Ky),X&&X.hasAnimation)continue;let Ie=[];if(a.size){let Ii=a.get(Y);Ii&&Ii.length&&Ie.push(...Ii);let cr=this.driver.query(Y,HA,!0);for(let oo=0;oo<cr.length;oo++){let it=a.get(cr[oo]);it&&it.length&&Ie.push(...it)}}const $t=Ie.filter(Ii=>!Ii.destroyed);$t.length?O0e(this,Y,$t):this.processLeaveNode(Y)}return m.length=0,Ia.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const Y=this.players.indexOf(z);this.players.splice(Y,1)}),z.play()}),Ia}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Qh;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const c=u.element,l=c!==s,d=or(r,c,[]);this._getPreviousPlayers(c,l,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ea(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,c=[],l=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;l.add(g);const m=g[qr];if(m&&m.removedBeforeQueried)return new zh(p.duration,p.delay);const E=g!==u,w=function F0e(t){const e=[];return gU(t,e),e}((r.get(g)||A0e).map(ce=>ce.getRealPlayer())).filter(ce=>!!ce.element&&ce.element===g),T=s.get(g),R=o.get(g),$=z8(this._normalizer,p.keyframes,T,R),Q=this._buildPlayer(p,$,w);if(p.subTimeline&&i&&d.add(g),E){const ce=new r2(e,a,g);ce.setRealPlayer(Q),c.push(ce)}return Q});c.forEach(p=>{or(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function R0e(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>Ar(p,J8));const f=io(h);return f.onDestroy(()=>{l.forEach(p=>Oc(p,J8)),bi(u,n.toStyles)}),d.forEach(p=>{or(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new zh(e.duration,e.delay)}}class r2{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new zh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>LA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){or(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function s_(t){return t&&1===t.nodeType}function hU(t,e){const n=t.style.display;return t.style.display=e??"none",n}function fU(t,e,n,r,i){const s=[];n.forEach(u=>s.push(hU(u)));const o=[];r.forEach((u,c)=>{const l=new Map;u.forEach(d=>{const h=e.computeStyle(c,d,i);l.set(d,h),(!h||0==h.length)&&(c[qr]=M0e,o.push(c))}),t.set(c,l)});let a=0;return n.forEach(u=>hU(u,s[a++])),o}function pU(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=n.has(c)?c:i.has(c)?1:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function Ar(t,e){t.classList?.add(e)}function Oc(t,e){t.classList?.remove(e)}function O0e(t,e,n){io(n).onDone(()=>t.processLeaveNode(e))}function gU(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof H8?gU(r.players,e):e.push(r)}}function mU(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class o_{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new N0e(e,n,r),this._timelineEngine=new I0e(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=WA(this._driver,s,u,[]);if(u.length)throw function Dve(t,e){return new D(3404,!1)}();a=function v0e(t,e,n){return new w0e(t,e,n)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=q8(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=q8(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let B0e=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&bi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bi(this._element,this._initialStyles),this._endStyles&&(bi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ea(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ea(this._element,this._endStyles),this._endStyles=null),bi(this._element,this._initialStyles),this._state=3)}}return t})();function i2(t){let e=null;return t.forEach((n,r)=>{(function U0e(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class yU{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:nU(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class j0e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return K8(e,n)}getParentElement(e){return UA(e)}query(e,n,r){return Q8(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,l=o.filter(f=>f instanceof yU);(function Kve(t,e){return 0===t||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function zve(t){return t.length?t[0]instanceof Map?t:t.map(e=>Z8(e)):[]}(n).map(f=>so(f));d=function Qve(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,nU(t,a)))}}return e}(e,d,c);const h=function V0e(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=i2(e[0]),e.length>1&&(r=i2(e[e.length-1]))):e instanceof Map&&(n=i2(e)),n||r?new B0e(t,n,r):null}(e,d);return new yU(e,d,u,h)}}let $0e=(()=>{class t extends U8{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:fr.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?j8(n):n;return _U(this._renderer,null,r,"register",[i]),new H0e(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(L(pl),L(Yt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class H0e extends rve{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new G0e(this._id,e,n||{},this._renderer)}}class G0e{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return _U(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function _U(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const vU="@.disabled";let z0e=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let l=this._rendererCache.get(s);return l||(l=new wU("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,l)),l}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const u=l=>{Array.isArray(l)?l.forEach(u):this.engine.registerTrigger(o,a,n,l.name,l)};return r.data.animation.forEach(u),new q0e(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(L(pl),L(o_),L(Te))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class wU{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==vU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class q0e extends wU{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==vU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function W0e(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function K0e(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}let Q0e=(()=>{class t extends o_{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(L(Yt),L(jA),L(JA),L(Io))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const EU=[{provide:U8,useClass:$0e},{provide:JA,useFactory:function Y0e(){return new g0e}},{provide:o_,useClass:Q0e},{provide:pl,useFactory:function X0e(t,e,n){return new z0e(t,e,n)},deps:[jw,o_,Te]}],s2=[{provide:jA,useFactory:()=>new j0e},{provide:s4,useValue:"BrowserAnimations"},...EU],bU=[{provide:jA,useClass:Y8},{provide:s4,useValue:"NoopAnimations"},...EU];let J0e=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?bU:s2}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Gt({type:t});static#n=this.\u0275inj=kt({providers:s2,imports:[u3]})}return t})(),Z0e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Gt({type:t,bootstrap:[b_e]});static#n=this.\u0275inj=kt({imports:[u3,__e,I_e,B8,K_e,mg,_8,B8,iue(()=>sue(V8_firebaseConfig)),yme(()=>_me()),nve,J0e]})}return t})();FZ().bootstrapModule(Z0e).catch(t=>console.error(t))}},Oe=>{Oe(Oe.s=764)}]);